(self.webpackChunks3gw_charts=self.webpackChunks3gw_charts||[]).push([[179],{425:(rc,cu,fs)=>{"use strict";function Ei(e){return"function"==typeof e}function ie(e){const t=e(x=>{Error.call(x),x.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const z=ie(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((x,R)=>`${R+1}) ${x.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function r(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class C{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const Y of t)Y.remove(this);else t.remove(this);const{initialTeardown:x}=this;if(Ei(x))try{x()}catch(Y){n=Y instanceof z?Y.errors:[Y]}const{_finalizers:R}=this;if(R){this._finalizers=null;for(const Y of R)try{S(Y)}catch(ce){n=n??[],ce instanceof z?n=[...n,...ce.errors]:n.push(ce)}}if(n)throw new z(n)}}add(n){var t;if(n&&n!==this)if(this.closed)S(n);else{if(n instanceof C){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&r(t,n)}remove(n){const{_finalizers:t}=this;t&&r(t,n),n instanceof C&&n._removeParent(this)}}C.EMPTY=(()=>{const e=new C;return e.closed=!0,e})();const E=C.EMPTY;function f(e){return e instanceof C||e&&"closed"in e&&Ei(e.remove)&&Ei(e.add)&&Ei(e.unsubscribe)}function S(e){Ei(e)?e():e.unsubscribe()}const M={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},v={setTimeout(e,n,...t){const{delegate:x}=v;return x?.setTimeout?x.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=v;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function c(e){v.setTimeout(()=>{const{onUnhandledError:n}=M;if(!n)throw e;n(e)})}function i(){}const u=l("C",void 0,void 0);function l(e,n,t){return{kind:e,value:n,error:t}}let s=null;function d(e){if(M.useDeprecatedSynchronousErrorHandling){const n=!s;if(n&&(s={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:x}=s;if(s=null,t)throw x}}else e()}class p extends C{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,f(n)&&n.add(this)):this.destination=h}static create(n,t,x){return new w(n,t,x)}next(n){this.isStopped?k(function o(e){return l("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?k(function a(e){return l("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?k(u,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const T=Function.prototype.bind;function _(e,n){return T.call(e,n)}class y{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(x){m(x)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(x){m(x)}else m(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){m(t)}}}class w extends p{constructor(n,t,x){let R;if(super(),Ei(n)||!n)R={next:n??void 0,error:t??void 0,complete:x??void 0};else{let Y;this&&M.useDeprecatedNextContext?(Y=Object.create(n),Y.unsubscribe=()=>this.unsubscribe(),R={next:n.next&&_(n.next,Y),error:n.error&&_(n.error,Y),complete:n.complete&&_(n.complete,Y)}):R=n}this.destination=new y(R)}}function m(e){M.useDeprecatedSynchronousErrorHandling?function g(e){M.useDeprecatedSynchronousErrorHandling&&s&&(s.errorThrown=!0,s.error=e)}(e):c(e)}function k(e,n){const{onStoppedNotification:t}=M;t&&v.setTimeout(()=>t(e,n))}const h={closed:!0,next:i,error:function b(e){throw e},complete:i},O="function"==typeof Symbol&&Symbol.observable||"@@observable";function A(e){return e}function P(e){return 0===e.length?A:1===e.length?e[0]:function(t){return e.reduce((x,R)=>R(x),t)}}let L=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const x=new e;return x.source=this,x.operator=t,x}subscribe(t,x,R){const Y=function W(e){return e&&e instanceof p||function B(e){return e&&Ei(e.next)&&Ei(e.error)&&Ei(e.complete)}(e)&&f(e)}(t)?t:new w(t,x,R);return d(()=>{const{operator:ce,source:Re}=this;Y.add(ce?ce.call(Y,Re):Re?this._subscribe(Y):this._trySubscribe(Y))}),Y}_trySubscribe(t){try{return this._subscribe(t)}catch(x){t.error(x)}}forEach(t,x){return new(x=N(x))((R,Y)=>{const ce=new w({next:Re=>{try{t(Re)}catch(He){Y(He),ce.unsubscribe()}},error:Y,complete:R});this.subscribe(ce)})}_subscribe(t){var x;return null===(x=this.source)||void 0===x?void 0:x.subscribe(t)}[O](){return this}pipe(...t){return P(t)(this)}toPromise(t){return new(t=N(t))((x,R)=>{let Y;this.subscribe(ce=>Y=ce,ce=>R(ce),()=>x(Y))})}}return e.create=n=>new e(n),e})();function N(e){var n;return null!==(n=e??M.Promise)&&void 0!==n?n:Promise}const j=ie(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Z=(()=>{class e extends L{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const x=new V(this,this);return x.operator=t,x}_throwIfClosed(){if(this.closed)throw new j}next(t){d(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const x of this.currentObservers)x.next(t)}})}error(t){d(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:x}=this;for(;x.length;)x.shift().error(t)}})}complete(){d(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:x,isStopped:R,observers:Y}=this;return x||R?E:(this.currentObservers=null,Y.push(t),new C(()=>{this.currentObservers=null,r(Y,t)}))}_checkFinalizedStatuses(t){const{hasError:x,thrownError:R,isStopped:Y}=this;x?t.error(R):Y&&t.complete()}asObservable(){const t=new L;return t.source=this,t}}return e.create=(n,t)=>new V(n,t),e})();class V extends Z{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,x;null===(x=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===x||x.call(t,n)}error(n){var t,x;null===(x=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===x||x.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,x;return null!==(x=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==x?x:E}}function q(e){return Ei(e?.lift)}function G(e){return n=>{if(q(n))return n.lift(function(t){try{return e(t,this)}catch(x){this.error(x)}});throw new TypeError("Unable to lift unknown Observable type")}}function H(e,n,t,x,R){return new ne(e,n,t,x,R)}class ne extends p{constructor(n,t,x,R,Y,ce){super(n),this.onFinalize=Y,this.shouldUnsubscribe=ce,this._next=t?function(Re){try{t(Re)}catch(He){n.error(He)}}:super._next,this._error=R?function(Re){try{R(Re)}catch(He){n.error(He)}finally{this.unsubscribe()}}:super._error,this._complete=x?function(){try{x()}catch(Re){n.error(Re)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function X(e,n){return G((t,x)=>{let R=0;t.subscribe(H(x,Y=>{x.next(e.call(n,Y,R++))}))})}function _e(e){return this instanceof _e?(this.v=e,this):new _e(e)}function Me(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var R,x=t.apply(e,n||[]),Y=[];return R={},ce("next"),ce("throw"),ce("return"),R[Symbol.asyncIterator]=function(){return this},R;function ce(rn){x[rn]&&(R[rn]=function(yn){return new Promise(function(Jn,ar){Y.push([rn,yn,Jn,ar])>1||Re(rn,yn)})})}function Re(rn,yn){try{!function He(rn){rn.value instanceof _e?Promise.resolve(rn.value.v).then(tt,xt):Zt(Y[0][2],rn)}(x[rn](yn))}catch(Jn){Zt(Y[0][3],Jn)}}function tt(rn){Re("next",rn)}function xt(rn){Re("throw",rn)}function Zt(rn,yn){rn(yn),Y.shift(),Y.length&&Re(Y[0][0],Y[0][1])}}function Ue(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function Ee(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],x=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&x>=e.length&&(e=void 0),{value:e&&e[x++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},x("next"),x("throw"),x("return"),t[Symbol.asyncIterator]=function(){return this},t);function x(Y){t[Y]=e[Y]&&function(ce){return new Promise(function(Re,He){!function R(Y,ce,Re,He){Promise.resolve(He).then(function(tt){Y({value:tt,done:Re})},ce)}(Re,He,(ce=e[Y](ce)).done,ce.value)})}}}const Je=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function ht(e){return Ei(e?.then)}function ft(e){return Ei(e[O])}function mt(e){return Symbol.asyncIterator&&Ei(e?.[Symbol.asyncIterator])}function At(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const It=function Rt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Pt(e){return Ei(e?.[It])}function Bt(e){return Me(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:x,done:R}=yield _e(t.read());if(R)return yield _e(void 0);yield yield _e(x)}}finally{t.releaseLock()}})}function Ut(e){return Ei(e?.getReader)}function Vt(e){if(e instanceof L)return e;if(null!=e){if(ft(e))return function tn(e){return new L(n=>{const t=e[O]();if(Ei(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Je(e))return function Gt(e){return new L(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(ht(e))return function et(e){return new L(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,c)})}(e);if(mt(e))return $e(e);if(Pt(e))return function nt(e){return new L(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(Ut(e))return function ot(e){return $e(Bt(e))}(e)}throw At(e)}function $e(e){return new L(n=>{(function dt(e,n){var t,x,R,Y;return function pe(e,n,t,x){return new(t||(t=Promise))(function(Y,ce){function Re(xt){try{tt(x.next(xt))}catch(Zt){ce(Zt)}}function He(xt){try{tt(x.throw(xt))}catch(Zt){ce(Zt)}}function tt(xt){xt.done?Y(xt.value):function R(Y){return Y instanceof t?Y:new t(function(ce){ce(Y)})}(xt.value).then(Re,He)}tt((x=x.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Ue(e);!(x=yield t.next()).done;)if(n.next(x.value),n.closed)return}catch(ce){R={error:ce}}finally{try{x&&!x.done&&(Y=t.return)&&(yield Y.call(t))}finally{if(R)throw R.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function Le(e,n,t,x=0,R=!1){const Y=n.schedule(function(){t(),R?e.add(this.schedule(null,x)):this.unsubscribe()},x);if(e.add(Y),!R)return Y}function st(e,n,t=1/0){return Ei(n)?st((x,R)=>X((Y,ce)=>n(x,Y,R,ce))(Vt(e(x,R))),t):("number"==typeof n&&(t=n),G((x,R)=>function Ge(e,n,t,x,R,Y,ce,Re){const He=[];let tt=0,xt=0,Zt=!1;const rn=()=>{Zt&&!He.length&&!tt&&n.complete()},yn=ar=>tt<x?Jn(ar):He.push(ar),Jn=ar=>{Y&&n.next(ar),tt++;let gr=!1;Vt(t(ar,xt++)).subscribe(H(n,xr=>{R?.(xr),Y?yn(xr):n.next(xr)},()=>{gr=!0},void 0,()=>{if(gr)try{for(tt--;He.length&&tt<x;){const xr=He.shift();ce?Le(n,ce,()=>Jn(xr)):Jn(xr)}rn()}catch(xr){n.error(xr)}}))};return e.subscribe(H(n,yn,()=>{Zt=!0,rn()})),()=>{Re?.()}}(x,R,e,t)))}function vt(e=1/0){return st(A,e)}const bt=new L(e=>e.complete());function Nt(e){return e&&Ei(e.schedule)}function Tt(e){return e[e.length-1]}function Mt(e){return Ei(Tt(e))?e.pop():void 0}function kt(e){return Nt(Tt(e))?e.pop():void 0}function qt(e,n=0){return G((t,x)=>{t.subscribe(H(x,R=>Le(x,e,()=>x.next(R),n),()=>Le(x,e,()=>x.complete(),n),R=>Le(x,e,()=>x.error(R),n)))})}function Qt(e,n=0){return G((t,x)=>{x.add(e.schedule(()=>t.subscribe(x),n))})}function An(e,n){if(!e)throw new Error("Iterable cannot be null");return new L(t=>{Le(t,n,()=>{const x=e[Symbol.asyncIterator]();Le(t,n,()=>{x.next().then(R=>{R.done?t.complete():t.next(R.value)})},0,!0)})})}function tr(e,n){return n?function Nn(e,n){if(null!=e){if(ft(e))return function Jt(e,n){return Vt(e).pipe(Qt(n),qt(n))}(e,n);if(Je(e))return function ln(e,n){return new L(t=>{let x=0;return n.schedule(function(){x===e.length?t.complete():(t.next(e[x++]),t.closed||this.schedule())})})}(e,n);if(ht(e))return function Kt(e,n){return Vt(e).pipe(Qt(n),qt(n))}(e,n);if(mt(e))return An(e,n);if(Pt(e))return function Tn(e,n){return new L(t=>{let x;return Le(t,n,()=>{x=e[It](),Le(t,n,()=>{let R,Y;try{({value:R,done:Y}=x.next())}catch(ce){return void t.error(ce)}Y?t.complete():t.next(R)},0,!0)}),()=>Ei(x?.return)&&x.return()})}(e,n);if(Ut(e))return function pn(e,n){return An(Bt(e),n)}(e,n)}throw At(e)}(e,n):Vt(e)}function Cn(e,n,...t){if(!0===n)return void e();if(!1===n)return;const x=new w({next:()=>{x.unsubscribe(),e()}});return Vt(n(...t)).subscribe(x)}function mn(e){for(let n in e)if(e[n]===mn)return n;throw Error("Could not find renamed property on target object.")}function En(e,n){for(const t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function Fn(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Fn).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function jn(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const er=mn({__forward_ref__:mn});function Zn(e){return e.__forward_ref__=Zn,e.toString=function(){return Fn(this())},e}function Gn(e){return _r(e)?e():e}function _r(e){return"function"==typeof e&&e.hasOwnProperty(er)&&e.__forward_ref__===Zn}function mr(e){return e&&!!e.\u0275providers}class Un extends Error{constructor(n,t){super(function ur(e,n){return`NG0${Math.abs(e)}${n?": "+n.trim():""}`}(n,t)),this.code=n}}function cr(e){return"string"==typeof e?e:null==e?"":String(e)}function qn(e,n){throw new Un(-201,!1)}function Sn(e,n){null==e&&function gn(e,n,t,x){throw new Error(`ASSERTION ERROR: ${e}`+(null==x?"":` [Expected=> ${t} ${x} ${n} <=Actual]`))}(n,e,null,"!=")}function Rn(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function sr(e){return{providers:e.providers||[],imports:e.imports||[]}}function wr(e){return Cr(e,Mi)||Cr(e,Pr)}function Cr(e,n){return e.hasOwnProperty(n)?e[n]:null}function Wr(e){return e&&(e.hasOwnProperty(oi)||e.hasOwnProperty(li))?e[oi]:null}const Mi=mn({\u0275prov:mn}),oi=mn({\u0275inj:mn}),Pr=mn({ngInjectableDef:mn}),li=mn({ngInjectorDef:mn});var zr=(()=>((zr=zr||{})[zr.Default=0]="Default",zr[zr.Host=1]="Host",zr[zr.Self=2]="Self",zr[zr.SkipSelf=4]="SkipSelf",zr[zr.Optional=8]="Optional",zr))();let po;function ro(e){const n=po;return po=e,n}function As(e,n,t){const x=wr(e);return x&&"root"==x.providedIn?void 0===x.value?x.value=x.factory():x.value:t&zr.Optional?null:void 0!==n?n:void qn(Fn(e))}const Ai=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Tl={},ic="__NG_DI_FLAG__",Mu="ngTempTokenPath",ks=/\n/gm,na="__source";let Pl;function va(e){const n=Pl;return Pl=e,n}function Ss(e,n=zr.Default){if(void 0===Pl)throw new Un(-203,!1);return null===Pl?As(e,void 0,n):Pl.get(e,n&zr.Optional?null:void 0,n)}function $r(e,n=zr.Default){return(function qo(){return po}()||Ss)(Gn(e),n)}function Li(e,n=zr.Default){return $r(e,Ja(n))}function Ja(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Cs(e){const n=[];for(let t=0;t<e.length;t++){const x=Gn(e[t]);if(Array.isArray(x)){if(0===x.length)throw new Un(900,!1);let R,Y=zr.Default;for(let ce=0;ce<x.length;ce++){const Re=x[ce],He=Uu(Re);"number"==typeof He?-1===He?R=Re.token:Y|=He:R=Re}n.push($r(R,Y))}else n.push($r(x))}return n}function hs(e,n){return e[ic]=n,e.prototype[ic]=n,e}function Uu(e){return e[ic]}function Ll(e){return{toString:e}.toString()}var Vs=(()=>((Vs=Vs||{})[Vs.OnPush=0]="OnPush",Vs[Vs.Default=1]="Default",Vs))(),tl=(()=>{return(e=tl||(tl={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",tl;var e})();const nl={},Hi=[],Hs=mn({\u0275cmp:mn}),Jl=mn({\u0275dir:mn}),rl=mn({\u0275pipe:mn}),oc=mn({\u0275mod:mn}),il=mn({\u0275fac:mn}),ol=mn({__NG_ELEMENT_ID__:mn});let ac=0;function yo(e){return Ll(()=>{const t=!0===e.standalone,x={},R={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:x,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Vs.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&e.dependencies||null,getStandaloneInjector:null,selectors:e.selectors||Hi,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||tl.Emulated,id:"c"+ac++,styles:e.styles||Hi,_:null,setInput:null,schemas:e.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},Y=e.dependencies,ce=e.features;return R.inputs=ef(e.inputs,x),R.outputs=ef(e.outputs),ce&&ce.forEach(Re=>Re(R)),R.directiveDefs=Y?()=>("function"==typeof Y?Y():Y).map(Kl).filter(Ml):null,R.pipeDefs=Y?()=>("function"==typeof Y?Y():Y).map(Io).filter(Ml):null,R})}function Kl(e){return Yi(e)||ra(e)}function Ml(e){return null!==e}function mi(e){return Ll(()=>({type:e.type,bootstrap:e.bootstrap||Hi,declarations:e.declarations||Hi,imports:e.imports||Hi,exports:e.exports||Hi,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function ef(e,n){if(null==e)return nl;const t={};for(const x in e)if(e.hasOwnProperty(x)){let R=e[x],Y=R;Array.isArray(R)&&(Y=R[1],R=R[0]),t[R]=x,n&&(n[R]=Y)}return t}const ni=yo;function Yi(e){return e[Hs]||null}function ra(e){return e[Jl]||null}function Io(e){return e[rl]||null}function La(e,n){const t=e[oc]||null;if(!t&&!0===n)throw new Error(`Type ${Fn(e)} does not have '\u0275mod' property.`);return t}function ya(e){return Array.isArray(e)&&"object"==typeof e[1]}function _a(e){return Array.isArray(e)&&!0===e[1]}function zl(e){return 0!=(4&e.flags)}function go(e){return e.componentOffset>-1}function Ds(e){return 1==(1&e.flags)}function Fa(e){return null!==e.template}function aa(e){return 0!=(256&e[2])}function Da(e,n){return e.hasOwnProperty(il)?e[il]:null}class lc{constructor(n,t,x){this.previousValue=n,this.currentValue=t,this.firstChange=x}isFirstChange(){return this.firstChange}}function Eo(){return Oa}function Oa(e){return e.type.prototype.ngOnChanges&&(e.setInput=Bl),gu}function gu(){const e=jl(this),n=e?.current;if(n){const t=e.previous;if(t===nl)e.previous=n;else for(let x in n)t[x]=n[x];e.current=null,this.ngOnChanges(n)}}function Bl(e,n,t,x){const R=this.declaredInputs[t],Y=jl(e)||function ul(e,n){return e[Qa]=n}(e,{previous:nl,current:null}),ce=Y.current||(Y.current={}),Re=Y.previous,He=Re[R];ce[R]=new lc(He&&He.currentValue,n,Re===nl),e[x]=n}Eo.ngInherit=!0;const Qa="__ngSimpleChanges__";function jl(e){return e[Qa]||null}function sa(e){for(;Array.isArray(e);)e=e[0];return e}function Xo(e,n){return sa(n[e.index])}function io(e,n){return e.data[n]}function Wo(e,n){const t=n[e];return ya(t)?t:t[0]}function Rs(e){return 64==(64&e[2])}function qa(e,n){return null==n?null:e[n]}function Ia(e){e[18]=0}function vs(e,n){e[5]+=n;let t=e,x=e[3];for(;null!==x&&(1===n&&1===t[5]||-1===n&&0===t[5]);)x[5]+=n,t=x,x=x[3]}const kr={lFrame:yt(null),bindingsEnabled:!0};function qu(){return kr.bindingsEnabled}function Or(){return kr.lFrame.lView}function hi(){return kr.lFrame.tView}function gi(e){return kr.lFrame.contextLView=e,e[8]}function Wi(e){return kr.lFrame.contextLView=null,e}function it(){let e=lt();for(;null!==e&&64===e.type;)e=e.parent;return e}function lt(){return kr.lFrame.currentTNode}function wt(e,n){const t=kr.lFrame;t.currentTNode=e,t.isParent=n}function Ot(){return kr.lFrame.isParent}function Et(){kr.lFrame.isParent=!1}function Ze(){return kr.lFrame.bindingIndex++}function Qe(e){const n=kr.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function Dt(e,n){const t=kr.lFrame;t.bindingIndex=t.bindingRootIndex=e,me(n)}function me(e){kr.lFrame.currentDirectiveIndex=e}function je(){return kr.lFrame.currentQueryIndex}function qe(e){kr.lFrame.currentQueryIndex=e}function Xe(e){const n=e[1];return 2===n.type?n.declTNode:1===n.type?e[6]:null}function rt(e,n,t){if(t&zr.SkipSelf){let R=n,Y=e;for(;!(R=R.parent,null!==R||t&zr.Host||(R=Xe(Y),null===R||(Y=Y[15],10&R.type))););if(null===R)return!1;n=R,e=Y}const x=kr.lFrame=pt();return x.currentTNode=n,x.lView=e,!0}function at(e){const n=pt(),t=e[1];kr.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function pt(){const e=kr.lFrame,n=null===e?null:e.child;return null===n?yt(e):n}function yt(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function zt(){const e=kr.lFrame;return kr.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const $t=zt;function Yt(){const e=zt();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function an(){return kr.lFrame.selectedIndex}function hn(e){kr.lFrame.selectedIndex=e}function sn(){const e=kr.lFrame;return io(e.tView,e.selectedIndex)}function dr(e,n){for(let t=n.directiveStart,x=n.directiveEnd;t<x;t++){const Y=e.data[t].type.prototype,{ngAfterContentInit:ce,ngAfterContentChecked:Re,ngAfterViewInit:He,ngAfterViewChecked:tt,ngOnDestroy:xt}=Y;ce&&(e.contentHooks||(e.contentHooks=[])).push(-t,ce),Re&&((e.contentHooks||(e.contentHooks=[])).push(t,Re),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(t,Re)),He&&(e.viewHooks||(e.viewHooks=[])).push(-t,He),tt&&((e.viewHooks||(e.viewHooks=[])).push(t,tt),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(t,tt)),null!=xt&&(e.destroyHooks||(e.destroyHooks=[])).push(t,xt)}}function Lr(e,n,t){Fr(e,n,3,t)}function jr(e,n,t,x){(3&e[2])===t&&Fr(e,n,t,x)}function Er(e,n){let t=e[2];(3&t)===n&&(t&=2047,t+=1,e[2]=t)}function Fr(e,n,t,x){const Y=x??-1,ce=n.length-1;let Re=0;for(let He=void 0!==x?65535&e[18]:0;He<ce;He++)if("number"==typeof n[He+1]){if(Re=n[He],null!=x&&Re>=x)break}else n[He]<0&&(e[18]+=65536),(Re<Y||-1==Y)&&(Kr(e,t,n,He),e[18]=(4294901760&e[18])+He+2),He++}function Kr(e,n,t,x){const R=t[x]<0,Y=t[x+1],Re=e[R?-t[x]:t[x]];if(R){if(e[2]>>11<e[18]>>16&&(3&e[2])===n){e[2]+=2048;try{Y.call(Re)}finally{}}}else try{Y.call(Re)}finally{}}class ki{constructor(n,t,x){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=x}}function xo(e,n,t){let x=0;for(;x<t.length;){const R=t[x];if("number"==typeof R){if(0!==R)break;x++;const Y=t[x++],ce=t[x++],Re=t[x++];e.setAttribute(n,ce,Re,Y)}else{const Y=R,ce=t[++x];mo(Y)?e.setProperty(n,Y,ce):e.setAttribute(n,Y,ce),x++}}return x}function bo(e){return 3===e||4===e||6===e}function mo(e){return 64===e.charCodeAt(0)}function ao(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let x=0;x<n.length;x++){const R=n[x];"number"==typeof R?t=R:0===t||wo(e,t,R,null,-1===t||2===t?n[++x]:null)}}return e}function wo(e,n,t,x,R){let Y=0,ce=e.length;if(-1===n)ce=-1;else for(;Y<e.length;){const Re=e[Y++];if("number"==typeof Re){if(Re===n){ce=-1;break}if(Re>n){ce=Y-1;break}}}for(;Y<e.length;){const Re=e[Y];if("number"==typeof Re)break;if(Re===t){if(null===x)return void(null!==R&&(e[Y+1]=R));if(x===e[Y+1])return void(e[Y+2]=R)}Y++,null!==x&&Y++,null!==R&&Y++}-1!==ce&&(e.splice(ce,0,n),Y=ce+1),e.splice(Y++,0,t),null!==x&&e.splice(Y++,0,x),null!==R&&e.splice(Y++,0,R)}function Bo(e){return-1!==e}function fl(e){return 32767&e}function bi(e,n){let t=function fa(e){return e>>16}(e),x=n;for(;t>0;)x=x[15],t--;return x}let ha=!0;function da(e){const n=ha;return ha=e,n}let pa=0;const jo={};function Yf(e,n){const t=$d(e,n);if(-1!==t)return t;const x=n[1];x.firstCreatePass&&(e.injectorIndex=n.length,_f(x.data,e),_f(n,null),_f(x.blueprint,null));const R=cc(e,n),Y=e.injectorIndex;if(Bo(R)){const ce=fl(R),Re=bi(R,n),He=Re[1].data;for(let tt=0;tt<8;tt++)n[Y+tt]=Re[ce+tt]|He[ce+tt]}return n[Y+8]=R,Y}function _f(e,n){e.push(0,0,0,0,0,0,0,0,n)}function $d(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function cc(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,x=null,R=n;for(;null!==R;){if(x=r1(R),null===x)return-1;if(t++,R=R[15],-1!==x.injectorIndex)return x.injectorIndex|t<<16}return-1}function Xf(e,n,t){!function uc(e,n,t){let x;"string"==typeof t?x=t.charCodeAt(0)||0:t.hasOwnProperty(ol)&&(x=t[ol]),null==x&&(x=t[ol]=pa++);const R=255&x;n.data[e+(R>>5)]|=1<<R}(e,n,t)}function Ic(e,n,t){if(t&zr.Optional||void 0!==e)return e;qn()}function Zd(e,n,t,x){if(t&zr.Optional&&void 0===x&&(x=null),!(t&(zr.Self|zr.Host))){const R=e[9],Y=ro(void 0);try{return R?R.get(n,x,t&zr.Optional):As(n,x,t&zr.Optional)}finally{ro(Y)}}return Ic(x,0,t)}function fc(e,n,t,x=zr.Default,R){if(null!==e){if(1024&n[2]){const ce=function Uy(e,n,t,x,R){let Y=e,ce=n;for(;null!==Y&&null!==ce&&1024&ce[2]&&!(256&ce[2]);){const Re=qh(Y,ce,t,x|zr.Self,jo);if(Re!==jo)return Re;let He=Y.parent;if(!He){const tt=ce[21];if(tt){const xt=tt.get(t,jo,x);if(xt!==jo)return xt}He=r1(ce),ce=ce[15]}Y=He}return R}(e,n,t,x,jo);if(ce!==jo)return ce}const Y=qh(e,n,t,x,jo);if(Y!==jo)return Y}return Zd(n,t,x,R)}function qh(e,n,t,x,R){const Y=function iu(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(ol)?e[ol]:void 0;return"number"==typeof n?n>=0?255&n:Kd:n}(t);if("function"==typeof Y){if(!rt(n,e,x))return x&zr.Host?Ic(R,0,x):Zd(n,t,x,R);try{const ce=Y(x);if(null!=ce||x&zr.Optional)return ce;qn()}finally{$t()}}else if("number"==typeof Y){let ce=null,Re=$d(e,n),He=-1,tt=x&zr.Host?n[16][6]:null;for((-1===Re||x&zr.SkipSelf)&&(He=-1===Re?cc(e,n):n[Re+8],-1!==He&&R0(x,!1)?(ce=n[1],Re=fl(He),n=bi(He,n)):Re=-1);-1!==Re;){const xt=n[1];if(Jd(Y,Re,xt.data)){const Zt=Yd(Re,n,t,ce,x,tt);if(Zt!==jo)return Zt}He=n[Re+8],-1!==He&&R0(x,n[1].data[Re+8]===tt)&&Jd(Y,Re,n)?(ce=xt,Re=fl(He),n=bi(He,n)):Re=-1}}return R}function Yd(e,n,t,x,R,Y){const ce=n[1],Re=ce.data[e+8],xt=Xd(Re,ce,t,null==x?go(Re)&&ha:x!=ce&&0!=(3&Re.type),R&zr.Host&&Y===Re);return null!==xt?bf(n,ce,xt,Re):jo}function Xd(e,n,t,x,R){const Y=e.providerIndexes,ce=n.data,Re=1048575&Y,He=e.directiveStart,xt=Y>>20,rn=R?Re+xt:e.directiveEnd;for(let yn=x?Re:Re+xt;yn<rn;yn++){const Jn=ce[yn];if(yn<He&&t===Jn||yn>=He&&Jn.type===t)return yn}if(R){const yn=ce[He];if(yn&&Fa(yn)&&yn.type===t)return He}return null}function bf(e,n,t,x){let R=e[t];const Y=n.data;if(function Rr(e){return e instanceof ki}(R)){const ce=R;ce.resolving&&function xn(e,n){const t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new Un(-200,`Circular dependency in DI detected for ${e}${t}`)}(function on(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():cr(e)}(Y[t]));const Re=da(ce.canSeeViewProviders);ce.resolving=!0;const He=ce.injectImpl?ro(ce.injectImpl):null;rt(e,x,zr.Default);try{R=e[t]=ce.factory(void 0,Y,e,x),n.firstCreatePass&&t>=x.directiveStart&&function vr(e,n,t){const{ngOnChanges:x,ngOnInit:R,ngDoCheck:Y}=n.type.prototype;if(x){const ce=Oa(n);(t.preOrderHooks||(t.preOrderHooks=[])).push(e,ce),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e,ce)}R&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-e,R),Y&&((t.preOrderHooks||(t.preOrderHooks=[])).push(e,Y),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e,Y))}(t,Y[t],n)}finally{null!==He&&ro(He),da(Re),ce.resolving=!1,$t()}}return R}function Jd(e,n,t){return!!(t[n+(e>>5)]&1<<e)}function R0(e,n){return!(e&zr.Self||e&zr.Host&&n)}class Jf{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,x){return fc(this._tNode,this._lView,n,Ja(x),t)}}function Kd(){return new Jf(it(),Or())}function Wa(e){return Ll(()=>{const n=e.prototype.constructor,t=n[il]||Kf(n),x=Object.prototype;let R=Object.getPrototypeOf(e.prototype).constructor;for(;R&&R!==x;){const Y=R[il]||Kf(R);if(Y&&Y!==t)return Y;R=Object.getPrototypeOf(R)}return Y=>new Y})}function Kf(e){return _r(e)?()=>{const n=Kf(Gn(e));return n&&n()}:Da(e)}function r1(e){const n=e[1],t=n.type;return 2===t?n.declTNode:1===t?e[6]:null}const rf="__parameters__";function is(e,n,t){return Ll(()=>{const x=function Pc(e){return function(...t){if(e){const x=e(...t);for(const R in x)this[R]=x[R]}}}(n);function R(...Y){if(this instanceof R)return x.apply(this,Y),this;const ce=new R(...Y);return Re.annotation=ce,Re;function Re(He,tt,xt){const Zt=He.hasOwnProperty(rf)?He[rf]:Object.defineProperty(He,rf,{value:[]})[rf];for(;Zt.length<=xt;)Zt.push(null);return(Zt[xt]=Zt[xt]||[]).push(ce),He}}return t&&(R.prototype=Object.create(t.prototype)),R.prototype.ngMetadataName=e,R.annotationCls=R,R})}class yi{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Rn({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Mf(e,n){e.forEach(t=>Array.isArray(t)?Mf(t,n):n(t))}function tp(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function np(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function hc(e,n){const t=[];for(let x=0;x<e;x++)t.push(n);return t}function Sl(e,n,t){let x=dc(e,n);return x>=0?e[1|x]=t:(x=~x,function rp(e,n,t,x){let R=e.length;if(R==n)e.push(t,x);else if(1===R)e.push(x,e[0]),e[0]=t;else{for(R--,e.push(e[R-1],e[R]);R>n;)e[R]=e[R-2],R--;e[n]=t,e[n+1]=x}}(e,x,n,t)),x}function Qf(e,n){const t=dc(e,n);if(t>=0)return e[1|t]}function dc(e,n){return function F0(e,n,t){let x=0,R=e.length>>t;for(;R!==x;){const Y=x+(R-x>>1),ce=e[Y<<t];if(n===ce)return Y<<t;ce>n?R=Y:x=Y+1}return~(R<<t)}(e,n,1)}const Af=hs(is("Optional"),8),Vl=hs(is("SkipSelf"),4);var Hl=(()=>((Hl=Hl||{})[Hl.Important=1]="Important",Hl[Hl.DashCase=2]="DashCase",Hl))();const lp=new Map;let g1=0;const X0="__ngContext__";function Cl(e,n){ya(n)?(e[X0]=n[20],function sh(e){lp.set(e[20],e)}(n)):e[X0]=n}function El(e,n){return undefined(e,n)}function pc(e){const n=e[3];return _a(n)?n[3]:n}function uh(e){return Q0(e[13])}function hl(e){return Q0(e[4])}function Q0(e){for(;null!==e&&!_a(e);)e=e[4];return e}function Sf(e,n,t,x,R){if(null!=x){let Y,ce=!1;_a(x)?Y=x:ya(x)&&(ce=!0,x=x[0]);const Re=sa(x);0===e&&null!==t?null==R?ag(n,t,Re):Cf(n,t,Re,R||null,!0):1===e&&null!==t?Cf(n,t,Re,R||null,!0):2===e?function od(e,n,t){const x=nd(e,n);x&&function A1(e,n,t,x){e.removeChild(n,t,x)}(e,x,n,t)}(n,Re,ce):3===e&&n.destroyNode(Re),null!=Y&&function u_(e,n,t,x,R){const Y=t[7];Y!==sa(t)&&Sf(n,e,x,Y,R);for(let Re=10;Re<t.length;Re++){const He=t[Re];fh(He[1],He,e,n,x,Y)}}(n,e,Y,t,R)}}function td(e,n,t){return e.createElement(n,t)}function ig(e,n){const t=e[9],x=t.indexOf(n),R=n[3];512&n[2]&&(n[2]&=-513,vs(R,-1)),t.splice(x,1)}function hp(e,n){if(e.length<=10)return;const t=10+n,x=e[t];if(x){const R=x[17];null!==R&&R!==e&&ig(R,x),n>0&&(e[t-1][4]=x[4]);const Y=np(e,10+n);!function ng(e,n){fh(e,n,n[11],2,null,null),n[0]=null,n[6]=null}(x[1],x);const ce=Y[19];null!==ce&&ce.detachView(Y[1]),x[3]=null,x[4]=null,x[2]&=-65}return x}function b1(e,n){if(!(128&n[2])){const t=n[11];t.destroyNode&&fh(e,n,t,3,null,null),function ch(e){let n=e[13];if(!n)return dp(e[1],e);for(;n;){let t=null;if(ya(n))t=n[13];else{const x=n[10];x&&(t=x)}if(!t){for(;n&&!n[4]&&n!==e;)ya(n)&&dp(n[1],n),n=n[3];null===n&&(n=e),ya(n)&&dp(n[1],n),t=n&&n[4]}n=t}}(n)}}function dp(e,n){if(!(128&n[2])){n[2]&=-65,n[2]|=128,function T1(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let x=0;x<t.length;x+=2){const R=n[t[x]];if(!(R instanceof ki)){const Y=t[x+1];if(Array.isArray(Y))for(let ce=0;ce<Y.length;ce+=2){const Re=R[Y[ce]],He=Y[ce+1];try{He.call(Re)}finally{}}else try{Y.call(R)}finally{}}}}(e,n),function w1(e,n){const t=e.cleanup,x=n[7];let R=-1;if(null!==t)for(let Y=0;Y<t.length-1;Y+=2)if("string"==typeof t[Y]){const ce=t[Y+3];ce>=0?x[R=ce]():x[R=-ce].unsubscribe(),Y+=2}else{const ce=x[R=t[Y+1]];t[Y].call(ce)}if(null!==x){for(let Y=R+1;Y<x.length;Y++)(0,x[Y])();n[7]=null}}(e,n),1===n[1].type&&n[11].destroy();const t=n[17];if(null!==t&&_a(n[3])){t!==n[3]&&ig(t,n);const x=n[19];null!==x&&x.detachView(e)}!function i_(e){lp.delete(e[20])}(n)}}function og(e,n,t){return function M1(e,n,t){let x=n;for(;null!==x&&40&x.type;)x=(n=x).parent;if(null===x)return t[0];{const{componentOffset:R}=x;if(R>-1){const{encapsulation:Y}=e.data[x.directiveStart+R];if(Y===tl.None||Y===tl.Emulated)return null}return Xo(x,t)}}(e,n.parent,t)}function Cf(e,n,t,x,R){e.insertBefore(n,t,x,R)}function ag(e,n,t){e.appendChild(n,t)}function sg(e,n,t,x,R){null!==x?Cf(e,n,t,x,R):ag(e,n,t)}function nd(e,n){return e.parentNode(n)}function rd(e,n,t){return Ef(e,n,t)}let fg,Ef=function id(e,n,t){return 40&e.type?Xo(e,t):null};function gp(e,n,t,x){const R=og(e,x,n),Y=n[11],Re=rd(x.parent||n[6],x,n);if(null!=R)if(Array.isArray(t))for(let He=0;He<t.length;He++)sg(Y,R,t[He],Re,!1);else sg(Y,R,t,Re,!1)}function Lc(e,n){if(null!==n){const t=n.type;if(3&t)return Xo(n,e);if(4&t)return vp(-1,e[n.index]);if(8&t){const x=n.child;if(null!==x)return Lc(e,x);{const R=e[n.index];return _a(R)?vp(-1,R):sa(R)}}if(32&t)return El(n,e)()||sa(e[n.index]);{const x=mp(e,n);return null!==x?Array.isArray(x)?x[0]:Lc(pc(e[16]),x):Lc(e,n.next)}}return null}function mp(e,n){return null!==n?e[16][6].projection[n.projection]:null}function vp(e,n){const t=10+e+1;if(t<n.length){const x=n[t],R=x[1].firstChild;if(null!==R)return Lc(x,R)}return n[7]}function mc(e,n,t,x,R,Y,ce){for(;null!=t;){const Re=x[t.index],He=t.type;if(ce&&0===n&&(Re&&Cl(sa(Re),x),t.flags|=2),32!=(32&t.flags))if(8&He)mc(e,n,t.child,x,R,Y,!1),Sf(n,e,R,Re,Y);else if(32&He){const tt=El(t,x);let xt;for(;xt=tt();)Sf(n,e,R,xt,Y);Sf(n,e,R,Re,Y)}else 16&He?C1(e,n,x,t,R,Y):Sf(n,e,R,Re,Y);t=ce?t.projectionNext:t.next}}function fh(e,n,t,x,R,Y){mc(t,x,e.firstChild,n,R,Y,!1)}function C1(e,n,t,x,R,Y){const ce=t[16],He=ce[6].projection[x.projection];if(Array.isArray(He))for(let tt=0;tt<He.length;tt++)Sf(n,e,R,He[tt],Y);else mc(e,n,He,ce[3],R,Y,!0)}function _p(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function E1(e,n,t){const{mergedAttrs:x,classes:R,styles:Y}=t;null!==x&&xo(e,n,x),null!==R&&_p(e,n,R),null!==Y&&function yp(e,n,t){e.setAttribute(n,"style",t)}(e,n,Y)}class gg{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Fc(e){return e instanceof gg?e.changingThisBreaksApplicationSecurity:e}const br=new yi("ENVIRONMENT_INITIALIZER"),Gr=new yi("INJECTOR",-1),Nr=new yi("INJECTOR_DEF_TYPES");class Xr{get(n,t=Tl){if(t===Tl){const x=new Error(`NullInjectorError: No provider for ${Fn(n)}!`);throw x.name="NullInjectorError",x}return t}}function Ci(...e){return{\u0275providers:ci(0,e),\u0275fromNgModule:!0}}function ci(e,...n){const t=[],x=new Set;let R;return Mf(n,Y=>{const ce=Y;di(ce,t,[],x)&&(R||(R=[]),R.push(ce))}),void 0!==R&&Si(R,t),t}function Si(e,n){for(let t=0;t<e.length;t++){const{providers:R}=e[t];Zi(R,Y=>{n.push(Y)})}}function di(e,n,t,x){if(!(e=Gn(e)))return!1;let R=null,Y=Wr(e);const ce=!Y&&Yi(e);if(Y||ce){if(ce&&!ce.standalone)return!1;R=e}else{const He=e.ngModule;if(Y=Wr(He),!Y)return!1;R=He}const Re=x.has(R);if(ce){if(Re)return!1;if(x.add(R),ce.dependencies){const He="function"==typeof ce.dependencies?ce.dependencies():ce.dependencies;for(const tt of He)di(tt,n,t,x)}}else{if(!Y)return!1;{if(null!=Y.imports&&!Re){let tt;x.add(R);try{Mf(Y.imports,xt=>{di(xt,n,t,x)&&(tt||(tt=[]),tt.push(xt))})}finally{}void 0!==tt&&Si(tt,n)}if(!Re){const tt=Da(R)||(()=>new R);n.push({provide:R,useFactory:tt,deps:Hi},{provide:Nr,useValue:R,multi:!0},{provide:br,useValue:()=>$r(R),multi:!0})}const He=Y.providers;null==He||Re||Zi(He,xt=>{n.push(xt)})}}return R!==e&&void 0!==e.providers}function Zi(e,n){for(let t of e)mr(t)&&(t=t.\u0275providers),Array.isArray(t)?Zi(t,n):n(t)}const Fi=mn({provide:String,useValue:mn});function Co(e){return null!==e&&"object"==typeof e&&Fi in e}function vo(e){return"function"==typeof e}const Fo=new yi("Set Injector scope."),Mo={},ja={};let Vo;function Pa(){return void 0===Vo&&(Vo=new Xr),Vo}class Ho{}class os extends Ho{get destroyed(){return this._destroyed}constructor(n,t,x,R){super(),this.parent=t,this.source=x,this.scopes=R,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ko(n,ce=>this.processProvider(ce)),this.records.set(Gr,ga(void 0,this)),R.has("environment")&&this.records.set(Ho,ga(void 0,this));const Y=this.records.get(Fo);null!=Y&&"string"==typeof Y.value&&this.scopes.add(Y.value),this.injectorDefTypes=new Set(this.get(Nr.multi,Hi,zr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();for(const n of this._onDestroyHooks)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(n){this._onDestroyHooks.push(n)}runInContext(n){this.assertNotDestroyed();const t=va(this),x=ro(void 0);try{return n()}finally{va(t),ro(x)}}get(n,t=Tl,x=zr.Default){this.assertNotDestroyed(),x=Ja(x);const R=va(this),Y=ro(void 0);try{if(!(x&zr.SkipSelf)){let Re=this.records.get(n);if(void 0===Re){const He=function so(e){return"function"==typeof e||"object"==typeof e&&e instanceof yi}(n)&&wr(n);Re=He&&this.injectableDefInScope(He)?ga(Ns(n),Mo):null,this.records.set(n,Re)}if(null!=Re)return this.hydrate(n,Re)}return(x&zr.Self?Pa():this.parent).get(n,t=x&zr.Optional&&t===Tl?null:t)}catch(ce){if("NullInjectorError"===ce.name){if((ce[Mu]=ce[Mu]||[]).unshift(Fn(n)),R)throw ce;return function Kc(e,n,t,x){const R=e[Mu];throw n[na]&&R.unshift(n[na]),e.message=function Rl(e,n,t,x=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let R=Fn(n);if(Array.isArray(n))R=n.map(Fn).join(" -> ");else if("object"==typeof n){let Y=[];for(let ce in n)if(n.hasOwnProperty(ce)){let Re=n[ce];Y.push(ce+":"+("string"==typeof Re?JSON.stringify(Re):Fn(Re)))}R=`{${Y.join(", ")}}`}return`${t}${x?"("+x+")":""}[${R}]: ${e.replace(ks,"\n  ")}`}("\n"+e.message,R,t,x),e.ngTokenPath=R,e[Mu]=null,e}(ce,n,"R3InjectorError",this.source)}throw ce}finally{ro(Y),va(R)}}resolveInjectorInitializers(){const n=va(this),t=ro(void 0);try{const x=this.get(br.multi,Hi,zr.Self);for(const R of x)R()}finally{va(n),ro(t)}}toString(){const n=[],t=this.records;for(const x of t.keys())n.push(Fn(x));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Un(205,!1)}processProvider(n){let t=vo(n=Gn(n))?n:Gn(n&&n.provide);const x=function Za(e){return Co(e)?ga(void 0,e.useValue):ga(as(e),Mo)}(n);if(vo(n)||!0!==n.multi)this.records.get(t);else{let R=this.records.get(t);R||(R=ga(void 0,Mo,!0),R.factory=()=>Cs(R.multi),this.records.set(t,R)),t=n,R.multi.push(n)}this.records.set(t,x)}hydrate(n,t){return t.value===Mo&&(t.value=ja,t.value=t.factory()),"object"==typeof t.value&&t.value&&function ji(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(n){if(!n.providedIn)return!1;const t=Gn(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function Ns(e){const n=wr(e),t=null!==n?n.factory:Da(e);if(null!==t)return t;if(e instanceof yi)throw new Un(204,!1);if(e instanceof Function)return function xs(e){const n=e.length;if(n>0)throw hc(n,"?"),new Un(204,!1);const t=function Ar(e){const n=e&&(e[Mi]||e[Pr]);if(n){const t=function Ir(e){if(e.hasOwnProperty("name"))return e.name;const n=(""+e).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),n}return null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new Un(204,!1)}function as(e,n,t){let x;if(vo(e)){const R=Gn(e);return Da(R)||Ns(R)}if(Co(e))x=()=>Gn(e.useValue);else if(function To(e){return!(!e||!e.useFactory)}(e))x=()=>e.useFactory(...Cs(e.deps||[]));else if(function wi(e){return!(!e||!e.useExisting)}(e))x=()=>$r(Gn(e.useExisting));else{const R=Gn(e&&(e.useClass||e.provide));if(!function Ya(e){return!!e.deps}(e))return Da(R)||Ns(R);x=()=>new R(...Cs(e.deps))}return x}function ga(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function Ko(e,n){for(const t of e)Array.isArray(t)?Ko(t,n):t&&mr(t)?Ko(t.\u0275providers,n):n(t)}class Do{}class Qo{}class dl{resolveComponentFactory(n){throw function Zo(e){const n=Error(`No component factory found for ${Fn(e)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=e,n}(n)}}let Fs=(()=>{class e{}return e.NULL=new dl,e})();function Ys(){return Dl(it(),Or())}function Dl(e,n){return new lo(Xo(e,n))}let lo=(()=>{class e{constructor(t){this.nativeElement=t}}return e.__NG_ELEMENT_ID__=Ys,e})();function ss(e){return e instanceof lo?e.nativeElement:e}class _u{}let Ta=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function Pu(){const e=Or(),t=Wo(it().index,e);return(ya(t)?t:e)[11]}(),e})(),Lf=(()=>{class e{}return e.\u0275prov=Rn({token:e,providedIn:"root",factory:()=>null}),e})();class sf{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const Nf=new sf("15.1.3"),dh={};function ph(e){return e.ngOriginalError}class $u{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&ph(n);for(;t&&ph(t);)t=ph(t);return t||null}}function Ru(e){return e instanceof Function?e():e}function _h(e,n,t){let x=e.length;for(;;){const R=e.indexOf(n,t);if(-1===R)return R;if(0===R||e.charCodeAt(R-1)<=32){const Y=n.length;if(R+Y===x||e.charCodeAt(R+Y)<=32)return R}t=R+1}}const lf="ng-template";function hd(e,n,t){let x=0;for(;x<e.length;){let R=e[x++];if(t&&"class"===R){if(R=e[x],-1!==_h(R.toLowerCase(),n,0))return!0}else if(1===R){for(;x<e.length&&"string"==typeof(R=e[x++]);)if(R.toLowerCase()===n)return!0;return!1}}return!1}function xh(e){return 4===e.type&&e.value!==lf}function L1(e,n,t){return n===(4!==e.type||t?e.value:lf)}function Mg(e,n,t){let x=4;const R=e.attrs||[],Y=function kg(e){for(let n=0;n<e.length;n++)if(bo(e[n]))return n;return e.length}(R);let ce=!1;for(let Re=0;Re<n.length;Re++){const He=n[Re];if("number"!=typeof He){if(!ce)if(4&x){if(x=2|1&x,""!==He&&!L1(e,He,t)||""===He&&1===n.length){if(Lu(x))return!1;ce=!0}}else{const tt=8&x?He:n[++Re];if(8&x&&null!==e.attrs){if(!hd(e.attrs,tt,t)){if(Lu(x))return!1;ce=!0}continue}const Zt=Ag(8&x?"class":He,R,xh(e),t);if(-1===Zt){if(Lu(x))return!1;ce=!0;continue}if(""!==tt){let rn;rn=Zt>Y?"":R[Zt+1].toLowerCase();const yn=8&x?rn:null;if(yn&&-1!==_h(yn,tt,0)||2&x&&tt!==rn){if(Lu(x))return!1;ce=!0}}}}else{if(!ce&&!Lu(x)&&!Lu(He))return!1;if(ce&&Lu(He))continue;ce=!1,x=He|1&x}}return Lu(x)||ce}function Lu(e){return 0==(1&e)}function Ag(e,n,t,x){if(null===n)return-1;let R=0;if(x||!t){let Y=!1;for(;R<n.length;){const ce=n[R];if(ce===e)return R;if(3===ce||6===ce)Y=!0;else{if(1===ce||2===ce){let Re=n[++R];for(;"string"==typeof Re;)Re=n[++R];continue}if(4===ce)break;if(0===ce){R+=4;continue}}R+=Y?1:2}return-1}return function F1(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const x=e[t];if("number"==typeof x)return-1;if(x===n)return t;t++}return-1}(n,e)}function Cp(e,n,t=!1){for(let x=0;x<n.length;x++)if(Mg(e,n[x],t))return!0;return!1}function Sg(e,n){e:for(let t=0;t<n.length;t++){const x=n[t];if(e.length===x.length){for(let R=0;R<e.length;R++)if(e[R]!==x[R])continue e;return!0}}return!1}function z1(e,n){return e?":not("+n.trim()+")":n}function dd(e){let n=e[0],t=1,x=2,R="",Y=!1;for(;t<e.length;){let ce=e[t];if("string"==typeof ce)if(2&x){const Re=e[++t];R+="["+ce+(Re.length>0?'="'+Re+'"':"")+"]"}else 8&x?R+="."+ce:4&x&&(R+=" "+ce);else""!==R&&!Lu(ce)&&(n+=z1(Y,R),R=""),x=ce,Y=Y||!Lu(x);t++}return""!==R&&(n+=z1(Y,R)),n}const qi={};function Hr(e){Ep(hi(),Or(),an()+e,!1)}function Ep(e,n,t,x){if(!x)if(3==(3&n[2])){const Y=e.preOrderCheckHooks;null!==Y&&Lr(n,Y,t)}else{const Y=e.preOrderHooks;null!==Y&&jr(n,Y,0,t)}hn(t)}function bh(e,n=null,t=null,x){const R=Dg(e,n,t,x);return R.resolveInjectorInitializers(),R}function Dg(e,n=null,t=null,x,R=new Set){const Y=[t||Hi,Ci(e)];return x=x||("object"==typeof e?void 0:Fn(e)),new os(Y,n||Pa(),x||null,R)}let Gl=(()=>{class e{static create(t,x){if(Array.isArray(t))return bh({name:""},x,t,"");{const R=t.name??"";return bh({name:R},t.parent,t.providers,R)}}}return e.THROW_IF_NOT_FOUND=Tl,e.NULL=new Xr,e.\u0275prov=Rn({token:e,providedIn:"any",factory:()=>$r(Gr)}),e.__NG_ELEMENT_ID__=-1,e})();function ir(e,n=zr.Default){const t=Or();return null===t?$r(e,n):fc(it(),t,Gn(e),n)}function G1(e,n){const t=e.contentQueries;if(null!==t)for(let x=0;x<t.length;x+=2){const Y=t[x+1];if(-1!==Y){const ce=e.data[Y];qe(t[x]),ce.contentQueries(2,n[Y],Y)}}}function Fp(e,n,t,x,R,Y,ce,Re,He,tt,xt){const Zt=n.blueprint.slice();return Zt[0]=R,Zt[2]=76|x,(null!==xt||e&&1024&e[2])&&(Zt[2]|=1024),Ia(Zt),Zt[3]=Zt[15]=e,Zt[8]=t,Zt[10]=ce||e&&e[10],Zt[11]=Re||e&&e[11],Zt[12]=He||e&&e[12]||null,Zt[9]=tt||e&&e[9]||null,Zt[6]=Y,Zt[20]=function Rc(){return g1++}(),Zt[21]=xt,Zt[16]=2==n.type?e[16]:Zt,Zt}function Ah(e,n,t,x,R){let Y=e.data[n];if(null===Y)Y=function jg(e,n,t,x,R){const Y=lt(),ce=Ot(),He=e.data[n]=function CS(e,n,t,x,R,Y){return{type:t,index:x,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:R,attrs:Y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,ce?Y:Y&&Y.parent,t,n,x,R);return null===e.firstChild&&(e.firstChild=He),null!==Y&&(ce?null==Y.child&&null!==He.parent&&(Y.child=He):null===Y.next&&(Y.next=He)),He}(e,n,t,x,R),function ct(){return kr.lFrame.inI18n}()&&(Y.flags|=32);else if(64&Y.type){Y.type=t,Y.value=x,Y.attrs=R;const ce=function gt(){const e=kr.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();Y.injectorIndex=null===ce?-1:ce.injectorIndex}return wt(Y,!0),Y}function _d(e,n,t,x){if(0===t)return-1;const R=n.length;for(let Y=0;Y<t;Y++)n.push(x),e.blueprint.push(x),e.data.push(null);return R}function Ug(e,n,t){at(n);try{const x=e.viewQuery;null!==x&&D_(1,x,t);const R=e.template;null!==R&&W1(e,n,R,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&G1(e,n),e.staticViewQueries&&D_(2,e.viewQuery,t);const Y=e.components;null!==Y&&function M_(e,n){for(let t=0;t<n.length;t++)$S(e,n[t])}(n,Y)}catch(x){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),x}finally{n[2]&=-5,Yt()}}function zp(e,n,t,x){const R=n[2];if(128!=(128&R)){at(n);try{Ia(n),function ze(e){return kr.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&W1(e,n,t,2,x);const ce=3==(3&R);if(ce){const tt=e.preOrderCheckHooks;null!==tt&&Lr(n,tt,null)}else{const tt=e.preOrderHooks;null!==tt&&jr(n,tt,0,null),Er(n,0)}if(function qS(e){for(let n=uh(e);null!==n;n=hl(n)){if(!n[2])continue;const t=n[9];for(let x=0;x<t.length;x++){const R=t[x];512&R[2]||vs(R[3],1),R[2]|=512}}}(n),function GS(e){for(let n=uh(e);null!==n;n=hl(n))for(let t=10;t<n.length;t++){const x=n[t],R=x[1];Rs(x)&&zp(R,x,R.template,x[8])}}(n),null!==e.contentQueries&&G1(e,n),ce){const tt=e.contentCheckHooks;null!==tt&&Lr(n,tt)}else{const tt=e.contentHooks;null!==tt&&jr(n,tt,1),Er(n,1)}!function Np(e,n){const t=e.hostBindingOpCodes;if(null!==t)try{for(let x=0;x<t.length;x++){const R=t[x];if(R<0)hn(~R);else{const Y=R,ce=t[++x],Re=t[++x];Dt(ce,Y),Re(2,n[Y])}}}finally{hn(-1)}}(e,n);const Re=e.components;null!==Re&&function q1(e,n){for(let t=0;t<n.length;t++)WS(e,n[t])}(n,Re);const He=e.viewQuery;if(null!==He&&D_(2,He,x),ce){const tt=e.viewCheckHooks;null!==tt&&Lr(n,tt)}else{const tt=e.viewHooks;null!==tt&&jr(n,tt,2),Er(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[2]&=-41,512&n[2]&&(n[2]&=-513,vs(n[3],-1))}finally{Yt()}}}function W1(e,n,t,x,R){const Y=an(),ce=2&x;try{hn(-1),ce&&n.length>22&&Ep(e,n,22,!1),t(x,R)}finally{hn(Y)}}function Nu(e,n,t){if(zl(n)){const R=n.directiveEnd;for(let Y=n.directiveStart;Y<R;Y++){const ce=e.data[Y];ce.contentQueries&&ce.contentQueries(1,t[Y],Y)}}}function kh(e,n,t){qu()&&(function RS(e,n,t,x){const R=t.directiveStart,Y=t.directiveEnd;go(t)&&function US(e,n,t){const x=Xo(n,e),R=Sh(t),Y=e[10],ce=$1(e,Fp(e,R,null,t.onPush?32:16,x,n,Y,Y.createRenderer(x,t),null,null,null));e[n.index]=ce}(n,t,e.data[R+t.componentOffset]),e.firstCreatePass||Yf(t,n),Cl(x,n);const ce=t.initialInputs;for(let Re=R;Re<Y;Re++){const He=e.data[Re],tt=bf(n,e,Re,t);Cl(tt,n),null!==ce&&VS(0,Re-R,tt,He,0,ce),Fa(He)&&(Wo(t.index,n)[8]=bf(n,e,Re,t))}}(e,n,t,Xo(t,n)),64==(64&t.flags)&&ow(e,n,t))}function Bp(e,n,t=Xo){const x=n.localNames;if(null!==x){let R=n.index+1;for(let Y=0;Y<x.length;Y+=2){const ce=x[Y+1],Re=-1===ce?t(n,e):e[ce];e[R++]=Re}}}function Sh(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=jp(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):n}function jp(e,n,t,x,R,Y,ce,Re,He,tt){const xt=22+x,Zt=xt+R,rn=function kS(e,n){const t=[];for(let x=0;x<n;x++)t.push(x<e?null:qi);return t}(xt,Zt),yn="function"==typeof tt?tt():tt;return rn[1]={type:e,blueprint:rn,template:t,queries:null,viewQuery:Re,declTNode:n,data:rn.slice().fill(null,xt),bindingStartIndex:xt,expandoStartIndex:Zt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof Y?Y():Y,pipeRegistry:"function"==typeof ce?ce():ce,firstChild:null,schemas:He,consts:yn,incompleteFirstPass:!1}}function ew(e,n,t,x){const R=sw(n);null===t?R.push(x):(R.push(t),e.firstCreatePass&&lw(e).push(x,R.length-1))}function tw(e,n,t,x){for(let R in e)if(e.hasOwnProperty(R)){t=null===t?{}:t;const Y=e[R];null===x?nw(t,n,R,Y):x.hasOwnProperty(R)&&nw(t,n,x[R],Y)}return t}function nw(e,n,t,x){e.hasOwnProperty(t)?e[t].push(n,x):e[t]=[n,x]}function rw(e,n){const t=Wo(n,e);16&t[2]||(t[2]|=32)}function A_(e,n,t,x){let R=!1;if(qu()){const Y=null===x?null:{"":-1},ce=function NS(e,n){const t=e.directiveRegistry;let x=null,R=null;if(t)for(let Y=0;Y<t.length;Y++){const ce=t[Y];if(Cp(n,ce.selectors,!1))if(x||(x=[]),Fa(ce))if(null!==ce.findHostDirectiveDefs){const Re=[];R=R||new Map,ce.findHostDirectiveDefs(ce,Re,R),x.unshift(...Re,ce),k_(e,n,Re.length)}else x.unshift(ce),k_(e,n,0);else R=R||new Map,ce.findHostDirectiveDefs?.(ce,x,R),x.push(ce)}return null===x?null:[x,R]}(e,t);let Re,He;null===ce?Re=He=null:[Re,He]=ce,null!==Re&&(R=!0,iw(e,n,t,Re,Y,He)),Y&&function FS(e,n,t){if(n){const x=e.localNames=[];for(let R=0;R<n.length;R+=2){const Y=t[n[R+1]];if(null==Y)throw new Un(-301,!1);x.push(n[R],Y)}}}(t,x,Y)}return t.mergedAttrs=ao(t.mergedAttrs,t.attrs),R}function iw(e,n,t,x,R,Y){for(let tt=0;tt<x.length;tt++)Xf(Yf(t,n),e,x[tt].type);!function BS(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,x.length);for(let tt=0;tt<x.length;tt++){const xt=x[tt];xt.providersResolver&&xt.providersResolver(xt)}let ce=!1,Re=!1,He=_d(e,n,x.length,null);for(let tt=0;tt<x.length;tt++){const xt=x[tt];t.mergedAttrs=ao(t.mergedAttrs,xt.hostAttrs),jS(e,t,n,He,xt),zS(He,xt,R),null!==xt.contentQueries&&(t.flags|=4),(null!==xt.hostBindings||null!==xt.hostAttrs||0!==xt.hostVars)&&(t.flags|=64);const Zt=xt.type.prototype;!ce&&(Zt.ngOnChanges||Zt.ngOnInit||Zt.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(t.index),ce=!0),!Re&&(Zt.ngOnChanges||Zt.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t.index),Re=!0),He++}!function ES(e,n,t){const R=n.directiveEnd,Y=e.data,ce=n.attrs,Re=[];let He=null,tt=null;for(let xt=n.directiveStart;xt<R;xt++){const Zt=Y[xt],rn=t?t.get(Zt):null,Jn=rn?rn.outputs:null;He=tw(Zt.inputs,xt,He,rn?rn.inputs:null),tt=tw(Zt.outputs,xt,tt,Jn);const ar=null===He||null===ce||xh(n)?null:HS(He,xt,ce);Re.push(ar)}null!==He&&(He.hasOwnProperty("class")&&(n.flags|=8),He.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=Re,n.inputs=He,n.outputs=tt}(e,t,Y)}function ow(e,n,t){const x=t.directiveStart,R=t.directiveEnd,Y=t.index,ce=function se(){return kr.lFrame.currentDirectiveIndex}();try{hn(Y);for(let Re=x;Re<R;Re++){const He=e.data[Re],tt=n[Re];me(Re),(null!==He.hostBindings||0!==He.hostVars||null!==He.hostAttrs)&&LS(He,tt)}}finally{hn(-1),me(ce)}}function LS(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function k_(e,n,t){n.componentOffset=t,(e.components||(e.components=[])).push(n.index)}function zS(e,n,t){if(t){if(n.exportAs)for(let x=0;x<n.exportAs.length;x++)t[n.exportAs[x]]=e;Fa(n)&&(t[""]=e)}}function jS(e,n,t,x,R){e.data[x]=R;const Y=R.factory||(R.factory=Da(R.type)),ce=new ki(Y,Fa(R),ir);e.blueprint[x]=ce,t[x]=ce,function IS(e,n,t,x,R){const Y=R.hostBindings;if(Y){let ce=e.hostBindingOpCodes;null===ce&&(ce=e.hostBindingOpCodes=[]);const Re=~n.index;(function PS(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(ce)!=Re&&ce.push(Re),ce.push(t,x,Y)}}(e,n,x,_d(e,t,R.hostVars,qi),R)}function uf(e,n,t,x,R,Y){const ce=Xo(e,n);!function S_(e,n,t,x,R,Y,ce){if(null==Y)e.removeAttribute(n,R,t);else{const Re=null==ce?cr(Y):ce(Y,x||"",R);e.setAttribute(n,R,Re,t)}}(n[11],ce,Y,e.value,t,x,R)}function VS(e,n,t,x,R,Y){const ce=Y[n];if(null!==ce){const Re=x.setInput;for(let He=0;He<ce.length;){const tt=ce[He++],xt=ce[He++],Zt=ce[He++];null!==Re?x.setInput(t,Zt,tt,xt):t[xt]=Zt}}}function HS(e,n,t){let x=null,R=0;for(;R<t.length;){const Y=t[R];if(0!==Y)if(5!==Y){if("number"==typeof Y)break;if(e.hasOwnProperty(Y)){null===x&&(x=[]);const ce=e[Y];for(let Re=0;Re<ce.length;Re+=2)if(ce[Re]===n){x.push(Y,ce[Re+1],t[R+1]);break}}R+=2}else R+=2;else R+=4}return x}function aw(e,n,t,x){return[e,!0,!1,n,null,0,x,t,null,null]}function WS(e,n){const t=Wo(n,e);if(Rs(t)){const x=t[1];48&t[2]?zp(x,t,x.template,t[8]):t[5]>0&&C_(t)}}function C_(e){for(let x=uh(e);null!==x;x=hl(x))for(let R=10;R<x.length;R++){const Y=x[R];if(Rs(Y))if(512&Y[2]){const ce=Y[1];zp(ce,Y,ce.template,Y[8])}else Y[5]>0&&C_(Y)}const t=e[1].components;if(null!==t)for(let x=0;x<t.length;x++){const R=Wo(t[x],e);Rs(R)&&R[5]>0&&C_(R)}}function $S(e,n){const t=Wo(n,e),x=t[1];(function ZS(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])})(x,t),Ug(x,t,t[8])}function $1(e,n){return e[13]?e[14][4]=n:e[13]=n,e[14]=n,n}function E_(e){for(;e;){e[2]|=32;const n=pc(e);if(aa(e)&&!n)return e;e=n}return null}function Z1(e,n,t,x=!0){const R=n[10];R.begin&&R.begin();try{zp(e,n,e.template,t)}catch(ce){throw x&&cw(n,ce),ce}finally{R.end&&R.end()}}function D_(e,n,t){qe(0),n(e,t)}function sw(e){return e[7]||(e[7]=[])}function lw(e){return e.cleanup||(e.cleanup=[])}function cw(e,n){const t=e[9],x=t?t.get($u,null):null;x&&x.handleError(n)}function O_(e,n,t,x,R){for(let Y=0;Y<t.length;){const ce=t[Y++],Re=t[Y++],He=n[ce],tt=e.data[ce];null!==tt.setInput?tt.setInput(He,R,x,Re):He[Re]=R}}function Y1(e,n,t){let x=t?e.styles:null,R=t?e.classes:null,Y=0;if(null!==n)for(let ce=0;ce<n.length;ce++){const Re=n[ce];"number"==typeof Re?Y=Re:1==Y?R=jn(R,Re):2==Y&&(x=jn(x,Re+": "+n[++ce]+";"))}t?e.styles=x:e.stylesWithoutHost=x,t?e.classes=R:e.classesWithoutHost=R}function X1(e,n,t,x,R=!1){for(;null!==t;){const Y=n[t.index];if(null!==Y&&x.push(sa(Y)),_a(Y))for(let Re=10;Re<Y.length;Re++){const He=Y[Re],tt=He[1].firstChild;null!==tt&&X1(He[1],He,tt,x)}const ce=t.type;if(8&ce)X1(e,n,t.child,x);else if(32&ce){const Re=El(t,n);let He;for(;He=Re();)x.push(He)}else if(16&ce){const Re=mp(n,t);if(Array.isArray(Re))x.push(...Re);else{const He=pc(n[16]);X1(He[1],He,Re,x,!0)}}t=R?t.projectionNext:t.next}return x}class Vg{get rootNodes(){const n=this._lView,t=n[1];return X1(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(_a(n)){const t=n[8],x=t?t.indexOf(this):-1;x>-1&&(hp(n,x),np(t,x))}this._attachedToViewContainer=!1}b1(this._lView[1],this._lView)}onDestroy(n){ew(this._lView[1],this._lView,null,n)}markForCheck(){E_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Z1(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Un(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function x1(e,n){fh(e,n,n[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Un(902,!1);this._appRef=n}}class YS extends Vg{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Z1(n[1],n,n[8],!1)}checkNoChanges(){}get context(){return null}}class fw extends Fs{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=Yi(n);return new Hg(t,this.ngModule)}}function hw(e){const n=[];for(let t in e)e.hasOwnProperty(t)&&n.push({propName:e[t],templateName:t});return n}class JS{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,x){x=Ja(x);const R=this.injector.get(n,dh,x);return R!==dh||t===dh?R:this.parentInjector.get(n,t,x)}}class Hg extends Qo{get inputs(){return hw(this.componentDef.inputs)}get outputs(){return hw(this.componentDef.outputs)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function Ma(e){return e.map(dd).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,x,R){let Y=(R=R||this.ngModule)instanceof Ho?R:R?.injector;Y&&null!==this.componentDef.getStandaloneInjector&&(Y=this.componentDef.getStandaloneInjector(Y)||Y);const ce=Y?new JS(n,Y):n,Re=ce.get(_u,null);if(null===Re)throw new Un(407,!1);const He=ce.get(Lf,null),tt=Re.createRenderer(null,this.componentDef),xt=this.componentDef.selectors[0][0]||"div",Zt=x?function SS(e,n,t){return e.selectRootElement(n,t===tl.ShadowDom)}(tt,x,this.componentDef.encapsulation):td(tt,xt,function XS(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(xt)),rn=this.componentDef.onPush?288:272,yn=jp(0,null,null,1,0,null,null,null,null,null),Jn=Fp(null,yn,null,rn,null,null,Re,tt,He,ce,null);let ar,gr;at(Jn);try{const xr=this.componentDef;let Br,Mr=null;xr.findHostDirectiveDefs?(Br=[],Mr=new Map,xr.findHostDirectiveDefs(xr,Br,Mr),Br.push(xr)):Br=[xr];const ii=function QS(e,n){const t=e[1];return e[22]=n,Ah(t,22,2,"#host",null)}(Jn,Zt),_i=function e6(e,n,t,x,R,Y,ce,Re){const He=R[1];!function t6(e,n,t,x){for(const R of e)n.mergedAttrs=ao(n.mergedAttrs,R.hostAttrs);null!==n.mergedAttrs&&(Y1(n,n.mergedAttrs,!0),null!==t&&E1(x,t,n))}(x,e,n,ce);const tt=Y.createRenderer(n,t),xt=Fp(R,Sh(t),null,t.onPush?32:16,R[e.index],e,Y,tt,Re||null,null,null);return He.firstCreatePass&&k_(He,e,x.length-1),$1(R,xt),R[e.index]=xt}(ii,Zt,xr,Br,Jn,Re,tt);gr=io(yn,22),Zt&&function r6(e,n,t,x){if(x)xo(e,t,["ng-version",Nf.full]);else{const{attrs:R,classes:Y}=function Zu(e){const n=[],t=[];let x=1,R=2;for(;x<e.length;){let Y=e[x];if("string"==typeof Y)2===R?""!==Y&&n.push(Y,e[++x]):8===R&&t.push(Y);else{if(!Lu(R))break;R=Y}x++}return{attrs:n,classes:t}}(n.selectors[0]);R&&xo(e,t,R),Y&&Y.length>0&&_p(e,t,Y.join(" "))}}(tt,xr,Zt,x),void 0!==t&&function i6(e,n,t){const x=e.projection=[];for(let R=0;R<n.length;R++){const Y=t[R];x.push(null!=Y?Array.from(Y):null)}}(gr,this.ngContentSelectors,t),ar=function n6(e,n,t,x,R,Y){const ce=it(),Re=R[1],He=Xo(ce,R);iw(Re,R,ce,t,null,x);for(let xt=0;xt<t.length;xt++)Cl(bf(R,Re,ce.directiveStart+xt,ce),R);ow(Re,R,ce),He&&Cl(He,R);const tt=bf(R,Re,ce.directiveStart+ce.componentOffset,ce);if(e[8]=R[8]=tt,null!==Y)for(const xt of Y)xt(tt,n);return Nu(Re,ce,e),tt}(_i,xr,Br,Mr,Jn,[o6]),Ug(yn,Jn,null)}finally{Yt()}return new KS(this.componentType,ar,Dl(gr,Jn),Jn,gr)}}class KS extends Do{constructor(n,t,x,R,Y){super(),this.location=x,this._rootLView=R,this._tNode=Y,this.instance=t,this.hostView=this.changeDetectorRef=new YS(R),this.componentType=n}setInput(n,t){const x=this._tNode.inputs;let R;if(null!==x&&(R=x[n])){const Y=this._rootLView;O_(Y[1],Y,R,n,t),rw(Y,this._tNode.index)}}get injector(){return new Jf(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function o6(){const e=it();dr(Or()[1],e)}function ea(e){let n=function dw(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const x=[e];for(;n;){let R;if(Fa(e))R=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Un(903,!1);R=n.\u0275dir}if(R){if(t){x.push(R);const ce=e;ce.inputs=I_(e.inputs),ce.declaredInputs=I_(e.declaredInputs),ce.outputs=I_(e.outputs);const Re=R.hostBindings;Re&&u6(e,Re);const He=R.viewQuery,tt=R.contentQueries;if(He&&s6(e,He),tt&&l6(e,tt),En(e.inputs,R.inputs),En(e.declaredInputs,R.declaredInputs),En(e.outputs,R.outputs),Fa(R)&&R.data.animation){const xt=e.data;xt.animation=(xt.animation||[]).concat(R.data.animation)}}const Y=R.features;if(Y)for(let ce=0;ce<Y.length;ce++){const Re=Y[ce];Re&&Re.ngInherit&&Re(e),Re===ea&&(t=!1)}}n=Object.getPrototypeOf(n)}!function a6(e){let n=0,t=null;for(let x=e.length-1;x>=0;x--){const R=e[x];R.hostVars=n+=R.hostVars,R.hostAttrs=ao(R.hostAttrs,t=ao(t,R.hostAttrs))}}(x)}function I_(e){return e===nl?{}:e===Hi?[]:e}function s6(e,n){const t=e.viewQuery;e.viewQuery=t?(x,R)=>{n(x,R),t(x,R)}:n}function l6(e,n){const t=e.contentQueries;e.contentQueries=t?(x,R,Y)=>{n(x,R,Y),t(x,R,Y)}:n}function u6(e,n){const t=e.hostBindings;e.hostBindings=t?(x,R)=>{n(x,R),t(x,R)}:n}let J1=null;function xd(){if(!J1){const e=Ai.Symbol;if(e&&e.iterator)J1=e.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<n.length;++t){const x=n[t];"entries"!==x&&"size"!==x&&Map.prototype[x]===Map.prototype.entries&&(J1=x)}}}return J1}function su(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function Go(e,n,t,x){const R=Or();return su(R,Ze(),n)&&(hi(),uf(sn(),R,e,n,t,x)),Go}function ri(e,n,t,x,R,Y,ce,Re){const He=Or(),tt=hi(),xt=e+22,Zt=tt.firstCreatePass?function _6(e,n,t,x,R,Y,ce,Re,He){const tt=n.consts,xt=Ah(n,e,4,ce||null,qa(tt,Re));A_(n,t,xt,qa(tt,He)),dr(n,xt);const Zt=xt.tViews=jp(2,xt,x,R,Y,n.directiveRegistry,n.pipeRegistry,null,n.schemas,tt);return null!==n.queries&&(n.queries.template(n,xt),Zt.queries=n.queries.embeddedTView(xt)),xt}(xt,tt,He,n,t,x,R,Y,ce):tt.data[xt];wt(Zt,!1);const rn=He[11].createComment("");gp(tt,He,rn,Zt),Cl(rn,He),$1(He,He[xt]=aw(rn,He,rn,Zt)),Ds(Zt)&&kh(tt,He,Zt),null!=ce&&Bp(He,Zt,Re)}function lu(e){return function zo(e,n){return e[n]}(function U(){return kr.lFrame.contextLView}(),22+e)}function qr(e,n,t){const x=Or();return su(x,Ze(),n)&&function Xu(e,n,t,x,R,Y,ce,Re){const He=Xo(n,t);let xt,tt=n.inputs;!Re&&null!=tt&&(xt=tt[x])?(O_(e,t,xt,x,R),go(n)&&rw(t,n.index)):3&n.type&&(x=function DS(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(x),R=null!=ce?ce(R,n.value||"",x):R,Y.setProperty(He,x,R))}(hi(),sn(),x,e,n,x[11],t,!1),qr}function R_(e,n,t,x,R){const ce=R?"class":"style";O_(e,t,n.inputs[ce],ce,x)}function Zr(e,n,t,x){const R=Or(),Y=hi(),ce=22+e,Re=R[11],He=R[ce]=td(Re,n,function rr(){return kr.lFrame.currentNamespace}()),tt=Y.firstCreatePass?function b6(e,n,t,x,R,Y,ce){const Re=n.consts,tt=Ah(n,e,2,R,qa(Re,Y));return A_(n,t,tt,qa(Re,ce)),null!==tt.attrs&&Y1(tt,tt.attrs,!1),null!==tt.mergedAttrs&&Y1(tt,tt.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,tt),tt}(ce,Y,R,0,n,t,x):Y.data[ce];return wt(tt,!0),E1(Re,He,tt),32!=(32&tt.flags)&&gp(Y,R,He,tt),0===function Ul(){return kr.lFrame.elementDepthCount}()&&Cl(He,R),function cl(){kr.lFrame.elementDepthCount++}(),Ds(tt)&&(kh(Y,R,tt),Nu(Y,tt,R)),null!==x&&Bp(R,tt),Zr}function Qr(){let e=it();Ot()?Et():(e=e.parent,wt(e,!1));const n=e;!function Ba(){kr.lFrame.elementDepthCount--}();const t=hi();return t.firstCreatePass&&(dr(t,e),zl(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function Ji(e){return 0!=(8&e.flags)}(n)&&R_(t,n,Or(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Vi(e){return 0!=(16&e.flags)}(n)&&R_(t,n,Or(),n.stylesWithoutHost,!1),Qr}function zs(e,n,t,x){return Zr(e,n,t,x),Qr(),zs}function Aa(){return Or()}function qg(e){return!!e&&"function"==typeof e.then}const L_=function Sw(e){return!!e&&"function"==typeof e.subscribe};function Ni(e,n,t,x){const R=Or(),Y=hi(),ce=it();return function Ew(e,n,t,x,R,Y,ce){const Re=Ds(x),tt=e.firstCreatePass&&lw(e),xt=n[8],Zt=sw(n);let rn=!0;if(3&x.type||ce){const ar=Xo(x,n),gr=ce?ce(ar):ar,xr=Zt.length,Br=ce?ii=>ce(sa(ii[x.index])):x.index;let Mr=null;if(!ce&&Re&&(Mr=function T6(e,n,t,x){const R=e.cleanup;if(null!=R)for(let Y=0;Y<R.length-1;Y+=2){const ce=R[Y];if(ce===t&&R[Y+1]===x){const Re=n[7],He=R[Y+2];return Re.length>He?Re[He]:null}"string"==typeof ce&&(Y+=2)}return null}(e,n,R,x.index)),null!==Mr)(Mr.__ngLastListenerFn__||Mr).__ngNextListenerFn__=Y,Mr.__ngLastListenerFn__=Y,rn=!1;else{Y=Ow(x,n,xt,Y,!1);const ii=t.listen(gr,R,Y);Zt.push(Y,ii),tt&&tt.push(R,Br,xr,xr+1)}}else Y=Ow(x,n,xt,Y,!1);const yn=x.outputs;let Jn;if(rn&&null!==yn&&(Jn=yn[R])){const ar=Jn.length;if(ar)for(let gr=0;gr<ar;gr+=2){const _i=n[Jn[gr]][Jn[gr+1]].subscribe(Y),Ri=Zt.length;Zt.push(Y,_i),tt&&tt.push(R,x.index,Ri,-(Ri+1))}}}(Y,R,R[11],ce,e,n,x),Ni}function Dw(e,n,t,x){try{return!1!==t(x)}catch(R){return cw(e,R),!1}}function Ow(e,n,t,x,R){return function Y(ce){if(ce===Function)return x;E_(e.componentOffset>-1?Wo(e.index,n):n);let He=Dw(n,0,x,ce),tt=Y.__ngNextListenerFn__;for(;tt;)He=Dw(n,0,tt,ce)&&He,tt=tt.__ngNextListenerFn__;return R&&!1===He&&(ce.preventDefault(),ce.returnValue=!1),He}}function ti(e=1){return function cn(e){return(kr.lFrame.contextLView=function Mn(e,n){for(;e>0;)n=n[15],e--;return n}(e,kr.lFrame.contextLView))[8]}(e)}function M6(e,n){let t=null;const x=function N1(e){const n=e.attrs;if(null!=n){const t=n.indexOf(5);if(!(1&t))return n[t+1]}return null}(e);for(let R=0;R<n.length;R++){const Y=n[R];if("*"!==Y){if(null===x?Cp(e,Y,!0):Sg(x,Y))return R}else t=R}return t}function Xp(e){const n=Or()[16][6];if(!n.projection){const x=n.projection=hc(e?e.length:1,null),R=x.slice();let Y=n.child;for(;null!==Y;){const ce=e?M6(Y,e):0;null!==ce&&(R[ce]?R[ce].projectionNext=Y:x[ce]=Y,R[ce]=Y),Y=Y.next}}}function ff(e,n=0,t){const x=Or(),R=hi(),Y=Ah(R,22+e,16,null,t||null);null===Y.projection&&(Y.projection=n),Et(),32!=(32&Y.flags)&&function S1(e,n,t){C1(n[11],0,n,t,og(e,t,n),rd(t.parent||n[6],t,n))}(R,x,Y)}function rv(e,n){return e<<17|n<<2}function Ch(e){return e>>17&32767}function F_(e){return 2|e}function wd(e){return(131068&e)>>2}function z_(e,n){return-131069&e|n<<2}function B_(e){return 1|e}function jw(e,n,t,x,R){const Y=e[t+1],ce=null===n;let Re=x?Ch(Y):wd(Y),He=!1;for(;0!==Re&&(!1===He||ce);){const xt=e[Re+1];D6(e[Re],n)&&(He=!0,e[Re+1]=x?B_(xt):F_(xt)),Re=x?Ch(xt):wd(xt)}He&&(e[t+1]=x?F_(Y):B_(Y))}function D6(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&dc(e,n)>=0}const pl={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Uw(e){return e.substring(pl.key,pl.keyEnd)}function Vw(e,n){const t=pl.textEnd;return t===n?-1:(n=pl.keyEnd=function R6(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}(e,pl.key=n,t),Jp(e,n,t))}function Jp(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function ho(e,n){return function Uc(e,n,t,x){const R=Or(),Y=hi(),ce=Qe(2);Y.firstUpdatePass&&Zw(Y,e,ce,x),n!==qi&&su(R,ce,n)&&Xw(Y,Y.data[an()],R,R[11],e,R[ce+1]=function G6(e,n){return null==e||("string"==typeof n?e+=n:"object"==typeof e&&(e=Fn(Fc(e)))),e}(n,t),x,ce)}(e,n,null,!0),ho}function Eh(e){!function Vc(e,n,t,x){const R=hi(),Y=Qe(2);R.firstUpdatePass&&Zw(R,null,Y,x);const ce=Or();if(t!==qi&&su(ce,Y,t)){const Re=R.data[an()];if(Kw(Re,x)&&!$w(R,Y)){let He=x?Re.classesWithoutHost:Re.stylesWithoutHost;null!==He&&(t=jn(He,t||"")),R_(R,Re,ce,t,x)}else!function H6(e,n,t,x,R,Y,ce,Re){R===qi&&(R=Hi);let He=0,tt=0,xt=0<R.length?R[0]:null,Zt=0<Y.length?Y[0]:null;for(;null!==xt||null!==Zt;){const rn=He<R.length?R[He+1]:void 0,yn=tt<Y.length?Y[tt+1]:void 0;let ar,Jn=null;xt===Zt?(He+=2,tt+=2,rn!==yn&&(Jn=Zt,ar=yn)):null===Zt||null!==xt&&xt<Zt?(He+=2,Jn=xt):(tt+=2,Jn=Zt,ar=yn),null!==Jn&&Xw(e,n,t,x,Jn,ar,ce,Re),xt=He<R.length?R[He]:null,Zt=tt<Y.length?Y[tt]:null}}(R,Re,ce,ce[11],ce[Y+1],ce[Y+1]=function V6(e,n,t){if(null==t||""===t)return Hi;const x=[],R=Fc(t);if(Array.isArray(R))for(let Y=0;Y<R.length;Y++)e(x,R[Y],!0);else if("object"==typeof R)for(const Y in R)R.hasOwnProperty(Y)&&e(x,Y,R[Y]);else"string"==typeof R&&n(x,R);return x}(e,n,t),x,Y)}}(Sl,df,e,!0)}function df(e,n){for(let t=function I6(e){return function Gw(e){pl.key=0,pl.keyEnd=0,pl.value=0,pl.valueEnd=0,pl.textEnd=e.length}(e),Vw(e,Jp(e,0,pl.textEnd))}(n);t>=0;t=Vw(n,t))Sl(e,Uw(n),!0)}function $w(e,n){return n>=e.expandoStartIndex}function Zw(e,n,t,x){const R=e.data;if(null===R[t+1]){const Y=R[an()],ce=$w(e,t);Kw(Y,x)&&null===n&&!ce&&(n=!1),n=function z6(e,n,t,x){const R=function Ie(e){const n=kr.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let Y=x?n.residualClasses:n.residualStyles;if(null===R)0===(x?n.classBindings:n.styleBindings)&&(t=Wg(t=j_(null,e,n,t,x),n.attrs,x),Y=null);else{const ce=n.directiveStylingLast;if(-1===ce||e[ce]!==R)if(t=j_(R,e,n,t,x),null===Y){let He=function B6(e,n,t){const x=t?n.classBindings:n.styleBindings;if(0!==wd(x))return e[Ch(x)]}(e,n,x);void 0!==He&&Array.isArray(He)&&(He=j_(null,e,n,He[1],x),He=Wg(He,n.attrs,x),function j6(e,n,t,x){e[Ch(t?n.classBindings:n.styleBindings)]=x}(e,n,x,He))}else Y=function U6(e,n,t){let x;const R=n.directiveEnd;for(let Y=1+n.directiveStylingLast;Y<R;Y++)x=Wg(x,e[Y].hostAttrs,t);return Wg(x,n.attrs,t)}(e,n,x)}return void 0!==Y&&(x?n.residualClasses=Y:n.residualStyles=Y),t}(R,Y,n,x),function C6(e,n,t,x,R,Y){let ce=Y?n.classBindings:n.styleBindings,Re=Ch(ce),He=wd(ce);e[x]=t;let xt,tt=!1;if(Array.isArray(t)?(xt=t[1],(null===xt||dc(t,xt)>0)&&(tt=!0)):xt=t,R)if(0!==He){const rn=Ch(e[Re+1]);e[x+1]=rv(rn,Re),0!==rn&&(e[rn+1]=z_(e[rn+1],x)),e[Re+1]=function k6(e,n){return 131071&e|n<<17}(e[Re+1],x)}else e[x+1]=rv(Re,0),0!==Re&&(e[Re+1]=z_(e[Re+1],x)),Re=x;else e[x+1]=rv(He,0),0===Re?Re=x:e[He+1]=z_(e[He+1],x),He=x;tt&&(e[x+1]=F_(e[x+1])),jw(e,xt,x,!0),jw(e,xt,x,!1),function E6(e,n,t,x,R){const Y=R?e.residualClasses:e.residualStyles;null!=Y&&"string"==typeof n&&dc(Y,n)>=0&&(t[x+1]=B_(t[x+1]))}(n,xt,e,x,Y),ce=rv(Re,He),Y?n.classBindings=ce:n.styleBindings=ce}(R,Y,n,t,ce,x)}}function j_(e,n,t,x,R){let Y=null;const ce=t.directiveEnd;let Re=t.directiveStylingLast;for(-1===Re?Re=t.directiveStart:Re++;Re<ce&&(Y=n[Re],x=Wg(x,Y.hostAttrs,R),Y!==e);)Re++;return null!==e&&(t.directiveStylingLast=Re),x}function Wg(e,n,t){const x=t?1:2;let R=-1;if(null!==n)for(let Y=0;Y<n.length;Y++){const ce=n[Y];"number"==typeof ce?R=ce:R===x&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Sl(e,ce,!!t||n[++Y]))}return void 0===e?null:e}function Xw(e,n,t,x,R,Y,ce,Re){if(!(3&n.type))return;const He=e.data,tt=He[Re+1],xt=function S6(e){return 1==(1&e)}(tt)?Jw(He,n,t,R,wd(tt),ce):void 0;iv(xt)||(iv(Y)||function A6(e){return 2==(2&e)}(tt)&&(Y=Jw(He,null,t,R,Re,ce)),function c_(e,n,t,x,R){if(n)R?e.addClass(t,x):e.removeClass(t,x);else{let Y=-1===x.indexOf("-")?void 0:Hl.DashCase;null==R?e.removeStyle(t,x,Y):("string"==typeof R&&R.endsWith("!important")&&(R=R.slice(0,-10),Y|=Hl.Important),e.setStyle(t,x,R,Y))}}(x,ce,function es(e,n){return sa(n[e])}(an(),t),R,Y))}function Jw(e,n,t,x,R,Y){const ce=null===n;let Re;for(;R>0;){const He=e[R],tt=Array.isArray(He),xt=tt?He[1]:He,Zt=null===xt;let rn=t[R+1];rn===qi&&(rn=Zt?Hi:void 0);let yn=Zt?Qf(rn,x):xt===x?rn:void 0;if(tt&&!iv(yn)&&(yn=Qf(He,x)),iv(yn)&&(Re=yn,ce))return Re;const Jn=e[R+1];R=ce?Ch(Jn):wd(Jn)}if(null!==n){let He=Y?n.residualClasses:n.residualStyles;null!=He&&(Re=Qf(He,x))}return Re}function iv(e){return void 0!==e}function Kw(e,n){return 0!=(e.flags&(n?8:16))}function ta(e,n=""){const t=Or(),x=hi(),R=e+22,Y=x.firstCreatePass?Ah(x,R,1,n,null):x.data[R],ce=t[R]=function eg(e,n){return e.createText(n)}(t[11],n);gp(x,t,ce,Y),wt(Y,!1)}const e0="en-US";let x3=e0;function H_(e,n,t,x,R){if(e=Gn(e),Array.isArray(e))for(let Y=0;Y<e.length;Y++)H_(e[Y],n,t,x,R);else{const Y=hi(),ce=Or();let Re=vo(e)?e:Gn(e.provide),He=as(e);const tt=it(),xt=1048575&tt.providerIndexes,Zt=tt.directiveStart,rn=tt.providerIndexes>>20;if(vo(e)||!e.multi){const yn=new ki(He,R,ir),Jn=q_(Re,n,R?xt:xt+rn,Zt);-1===Jn?(Xf(Yf(tt,ce),Y,Re),G_(Y,e,n.length),n.push(Re),tt.directiveStart++,tt.directiveEnd++,R&&(tt.providerIndexes+=1048576),t.push(yn),ce.push(yn)):(t[Jn]=yn,ce[Jn]=yn)}else{const yn=q_(Re,n,xt+rn,Zt),Jn=q_(Re,n,xt,xt+rn),gr=Jn>=0&&t[Jn];if(R&&!gr||!R&&!(yn>=0&&t[yn])){Xf(Yf(tt,ce),Y,Re);const xr=function o8(e,n,t,x,R){const Y=new ki(e,t,ir);return Y.multi=[],Y.index=n,Y.componentProviders=0,G3(Y,R,x&&!t),Y}(R?i8:r8,t.length,R,x,He);!R&&gr&&(t[Jn].providerFactory=xr),G_(Y,e,n.length,0),n.push(Re),tt.directiveStart++,tt.directiveEnd++,R&&(tt.providerIndexes+=1048576),t.push(xr),ce.push(xr)}else G_(Y,e,yn>-1?yn:Jn,G3(t[R?Jn:yn],He,!R&&x));!R&&x&&gr&&t[Jn].componentProviders++}}}function G_(e,n,t,x){const R=vo(n),Y=function Uo(e){return!!e.useClass}(n);if(R||Y){const He=(Y?Gn(n.useClass):n).prototype.ngOnDestroy;if(He){const tt=e.destroyHooks||(e.destroyHooks=[]);if(!R&&n.multi){const xt=tt.indexOf(t);-1===xt?tt.push(t,[x,He]):tt[xt+1].push(x,He)}else tt.push(t,He)}}}function G3(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function q_(e,n,t,x){for(let R=t;R<x;R++)if(n[R]===e)return R;return-1}function r8(e,n,t,x){return W_(this.multi,[])}function i8(e,n,t,x){const R=this.multi;let Y;if(this.providerFactory){const ce=this.providerFactory.componentProviders,Re=bf(t,t[1],this.providerFactory.index,x);Y=Re.slice(0,ce),W_(R,Y);for(let He=ce;He<Re.length;He++)Y.push(Re[He])}else Y=[],W_(R,Y);return Y}function W_(e,n){for(let t=0;t<e.length;t++)n.push((0,e[t])());return n}function ua(e,n=[]){return t=>{t.providersResolver=(x,R)=>function n8(e,n,t){const x=hi();if(x.firstCreatePass){const R=Fa(e);H_(t,x.data,x.blueprint,R,!0),H_(n,x.data,x.blueprint,R,!1)}}(x,R?R(e):e,n)}}class n0{}class q3{}class W3 extends n0{constructor(n,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new fw(this);const x=La(n);this._bootstrapComponents=Ru(x.bootstrap),this._r3Injector=Dg(n,t,[{provide:n0,useValue:this},{provide:Fs,useValue:this.componentFactoryResolver}],Fn(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class $_ extends q3{constructor(n){super(),this.moduleType=n}create(n){return new W3(this.moduleType,n)}}class s8 extends n0{constructor(n,t,x){super(),this.componentFactoryResolver=new fw(this),this.instance=null;const R=new os([...n,{provide:n0,useValue:this},{provide:Fs,useValue:this.componentFactoryResolver}],t||Pa(),x,new Set(["environment"]));this.injector=R,R.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function uv(e,n,t=null){return new s8(e,n,t).injector}let l8=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const x=ci(0,t.type),R=x.length>0?uv([x],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,R)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=Rn({token:e,providedIn:"environment",factory:()=>new e($r(Ho))}),e})();function ml(e){e.getStandaloneInjector=n=>n.get(l8).getOrCreateStandaloneInjector(e)}function X_(e){return n=>{setTimeout(e,void 0,n)}}const Ii=class E8 extends Z{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,t,x){let R=n,Y=t||(()=>null),ce=x;if(n&&"object"==typeof n){const He=n;R=He.next?.bind(He),Y=He.error?.bind(He),ce=He.complete?.bind(He)}this.__isAsync&&(Y=X_(Y),R&&(R=X_(R)),ce&&(ce=X_(ce)));const Re=super.subscribe({next:R,error:Y,complete:ce});return n instanceof C&&n.add(Re),Re}};function D8(){return this._results[xd()]()}class J_{get changes(){return this._changes||(this._changes=new Ii)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=xd(),x=J_.prototype;x[t]||(x[t]=D8)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){const x=this;x.dirty=!1;const R=function Iu(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Gy(e,n,t){if(e.length!==n.length)return!1;for(let x=0;x<e.length;x++){let R=e[x],Y=n[x];if(t&&(R=t(R),Y=t(Y)),Y!==R)return!1}return!0}(x._results,R,t))&&(x._results=R,x.length=R.length,x.last=R[this.length-1],x.first=R[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ua=(()=>{class e{}return e.__NG_ELEMENT_ID__=P8,e})();const O8=Ua,I8=class extends O8{constructor(n,t,x){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=x}createEmbeddedView(n,t){const x=this._declarationTContainer.tViews,R=Fp(this._declarationLView,x,n,16,null,x.declTNode,null,null,null,null,t||null);R[17]=this._declarationLView[this._declarationTContainer.index];const ce=this._declarationLView[19];return null!==ce&&(R[19]=ce.createEmbeddedView(x)),Ug(x,R,n),new Vg(R)}};function P8(){return fv(it(),Or())}function fv(e,n){return 4&e.type?new I8(n,e,Dl(e,n)):null}let xc=(()=>{class e{}return e.__NG_ELEMENT_ID__=R8,e})();function R8(){return lT(it(),Or())}const L8=xc,aT=class extends L8{constructor(n,t,x){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=x}get element(){return Dl(this._hostTNode,this._hostLView)}get injector(){return new Jf(this._hostTNode,this._hostLView)}get parentInjector(){const n=cc(this._hostTNode,this._hostLView);if(Bo(n)){const t=bi(n,this._hostLView),x=fl(n);return new Jf(t[1].data[x+8],t)}return new Jf(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=sT(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,t,x){let R,Y;"number"==typeof x?R=x:null!=x&&(R=x.index,Y=x.injector);const ce=n.createEmbeddedView(t||{},Y);return this.insert(ce,R),ce}createComponent(n,t,x,R,Y){const ce=n&&!function Wh(e){return"function"==typeof e}(n);let Re;if(ce)Re=t;else{const Zt=t||{};Re=Zt.index,x=Zt.injector,R=Zt.projectableNodes,Y=Zt.environmentInjector||Zt.ngModuleRef}const He=ce?n:new Hg(Yi(n)),tt=x||this.parentInjector;if(!Y&&null==He.ngModule){const rn=(ce?tt:this.parentInjector).get(Ho,null);rn&&(Y=rn)}const xt=He.create(tt,R,void 0,Y);return this.insert(xt.hostView,Re),xt}insert(n,t){const x=n._lView,R=x[1];if(function ru(e){return _a(e[3])}(x)){const xt=this.indexOf(n);if(-1!==xt)this.detach(xt);else{const Zt=x[3],rn=new aT(Zt,Zt[6],Zt[3]);rn.detach(rn.indexOf(n))}}const Y=this._adjustIndex(t),ce=this._lContainer;!function gc(e,n,t,x){const R=10+x,Y=t.length;x>0&&(t[R-1][4]=n),x<Y-10?(n[4]=t[R],tp(t,10+x,n)):(t.push(n),n[4]=null),n[3]=t;const ce=n[17];null!==ce&&t!==ce&&function rg(e,n){const t=e[9];n[16]!==n[3][3][16]&&(e[2]=!0),null===t?e[9]=[n]:t.push(n)}(ce,n);const Re=n[19];null!==Re&&Re.insertView(e),n[2]|=64}(R,x,ce,Y);const Re=vp(Y,ce),He=x[11],tt=nd(He,ce[7]);return null!==tt&&function l_(e,n,t,x,R,Y){x[0]=R,x[6]=n,fh(e,x,t,1,R,Y)}(R,ce[6],He,x,tt,Re),n.attachToViewContainerRef(),tp(K_(ce),Y,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=sT(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),x=hp(this._lContainer,t);x&&(np(K_(this._lContainer),t),b1(x[1],x))}detach(n){const t=this._adjustIndex(n,-1),x=hp(this._lContainer,t);return x&&null!=np(K_(this._lContainer),t)?new Vg(x):null}_adjustIndex(n,t=0){return n??this.length+t}};function sT(e){return e[8]}function K_(e){return e[8]||(e[8]=[])}function lT(e,n){let t;const x=n[e.index];if(_a(x))t=x;else{let R;if(8&e.type)R=sa(x);else{const Y=n[11];R=Y.createComment("");const ce=Xo(e,n);Cf(Y,nd(Y,ce),R,function pp(e,n){return e.nextSibling(n)}(Y,ce),!1)}n[e.index]=t=aw(x,n,R,e),$1(n,t)}return new aT(t,e,n)}class Q_{constructor(n){this.queryList=n,this.matches=null}clone(){return new Q_(this.queryList)}setDirty(){this.queryList.setDirty()}}class ex{constructor(n=[]){this.queries=n}createEmbeddedView(n){const t=n.queries;if(null!==t){const x=null!==n.contentQueries?n.contentQueries[0]:t.length,R=[];for(let Y=0;Y<x;Y++){const ce=t.getByIndex(Y);R.push(this.queries[ce.indexInDeclarationView].clone())}return new ex(R)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)null!==dT(n,t).matches&&this.queries[t].setDirty()}}class uT{constructor(n,t,x=null){this.predicate=n,this.flags=t,this.read=x}}class tx{constructor(n=[]){this.queries=n}elementStart(n,t){for(let x=0;x<this.queries.length;x++)this.queries[x].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let x=0;x<this.length;x++){const R=null!==t?t.length:0,Y=this.getByIndex(x).embeddedTView(n,R);Y&&(Y.indexInDeclarationView=x,null!==t?t.push(Y):t=[Y])}return null!==t?new tx(t):null}template(n,t){for(let x=0;x<this.queries.length;x++)this.queries[x].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class nx{constructor(n,t=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new nx(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let x=n.parent;for(;null!==x&&8&x.type&&x.index!==t;)x=x.parent;return t===(null!==x?x.index:-1)}return this._appliesToNextNode}matchTNode(n,t){const x=this.metadata.predicate;if(Array.isArray(x))for(let R=0;R<x.length;R++){const Y=x[R];this.matchTNodeWithReadOption(n,t,N8(t,Y)),this.matchTNodeWithReadOption(n,t,Xd(t,n,Y,!1,!1))}else x===Ua?4&t.type&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,Xd(t,n,x,!1,!1))}matchTNodeWithReadOption(n,t,x){if(null!==x){const R=this.metadata.read;if(null!==R)if(R===lo||R===xc||R===Ua&&4&t.type)this.addMatch(t.index,-2);else{const Y=Xd(t,n,R,!1,!1);null!==Y&&this.addMatch(t.index,Y)}else this.addMatch(t.index,x)}}addMatch(n,t){null===this.matches?this.matches=[n,t]:this.matches.push(n,t)}}function N8(e,n){const t=e.localNames;if(null!==t)for(let x=0;x<t.length;x+=2)if(t[x]===n)return t[x+1];return null}function z8(e,n,t,x){return-1===t?function F8(e,n){return 11&e.type?Dl(e,n):4&e.type?fv(e,n):null}(n,e):-2===t?function B8(e,n,t){return t===lo?Dl(n,e):t===Ua?fv(n,e):t===xc?lT(n,e):void 0}(e,n,x):bf(e,e[1],t,n)}function cT(e,n,t,x){const R=n[19].queries[x];if(null===R.matches){const Y=e.data,ce=t.matches,Re=[];for(let He=0;He<ce.length;He+=2){const tt=ce[He];Re.push(tt<0?null:z8(n,Y[tt],ce[He+1],t.metadata.read))}R.matches=Re}return R.matches}function rx(e,n,t,x){const R=e.queries.getByIndex(t),Y=R.matches;if(null!==Y){const ce=cT(e,n,R,t);for(let Re=0;Re<Y.length;Re+=2){const He=Y[Re];if(He>0)x.push(ce[Re/2]);else{const tt=Y[Re+1],xt=n[-He];for(let Zt=10;Zt<xt.length;Zt++){const rn=xt[Zt];rn[17]===rn[3]&&rx(rn[1],rn,tt,x)}if(null!==xt[9]){const Zt=xt[9];for(let rn=0;rn<Zt.length;rn++){const yn=Zt[rn];rx(yn[1],yn,tt,x)}}}}}return x}function Po(e){const n=Or(),t=hi(),x=je();qe(x+1);const R=dT(t,x);if(e.dirty&&function ns(e){return 4==(4&e[2])}(n)===(2==(2&R.metadata.flags))){if(null===R.matches)e.reset([]);else{const Y=R.crossesNgTemplate?rx(t,n,x,[]):cT(t,n,R,x);e.reset(Y,ss),e.notifyOnChanges()}return!0}return!1}function bc(e,n,t){const x=hi();x.firstCreatePass&&(function hT(e,n,t){null===e.queries&&(e.queries=new tx),e.queries.track(new nx(n,t))}(x,new uT(e,n,t),-1),2==(2&n)&&(x.staticViewQueries=!0)),function fT(e,n,t){const x=new J_(4==(4&t));ew(e,n,x,x.destroy),null===n[19]&&(n[19]=new ex),n[19].queries.push(new Q_(x))}(x,Or(),n)}function Ro(){return function j8(e,n){return e[19].queries[n].queryList}(Or(),je())}function dT(e,n){return e.queries.getByIndex(n)}function uu(e,n){return fv(e,n)}function dv(...e){}const pv=new yi("Application Initializer");let gv=(()=>{class e{constructor(t){this.appInits=t,this.resolve=dv,this.reject=dv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((x,R)=>{this.resolve=x,this.reject=R})}runInitializers(){if(this.initialized)return;const t=[],x=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let R=0;R<this.appInits.length;R++){const Y=this.appInits[R]();if(qg(Y))t.push(Y);else if(L_(Y)){const ce=new Promise((Re,He)=>{Y.subscribe({complete:Re,error:He})});t.push(ce)}}Promise.all(t).then(()=>{x()}).catch(R=>{this.reject(R)}),0===t.length&&x(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)($r(pv,8))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const rm=new yi("AppId",{providedIn:"root",factory:function IT(){return`${lx()}${lx()}${lx()}`}});function lx(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const PT=new yi("Platform Initializer"),mv=new yi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),RT=new yi("appBootstrapListener");let sE=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Ju=new yi("LocaleId",{providedIn:"root",factory:()=>Li(Ju,zr.Optional|zr.SkipSelf)||function lE(){return typeof $localize<"u"&&$localize.locale||e0}()});class cE{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let LT=(()=>{class e{compileModuleSync(t){return new $_(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const x=this.compileModuleSync(t),Y=Ru(La(t).declarations).reduce((ce,Re)=>{const He=Yi(Re);return He&&ce.push(new Hg(He)),ce},[]);return new cE(x,Y)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const dE=(()=>Promise.resolve(0))();function ux(e){typeof Zone>"u"?dE.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Yo{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:x=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ii(!1),this.onMicrotaskEmpty=new Ii(!1),this.onStable=new Ii(!1),this.onError=new Ii(!1),typeof Zone>"u")throw new Un(908,!1);Zone.assertZonePatched();const R=this;R._nesting=0,R._outer=R._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(R._inner=R._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(R._inner=R._inner.fork(Zone.longStackTraceZoneSpec)),R.shouldCoalesceEventChangeDetection=!x&&t,R.shouldCoalesceRunChangeDetection=x,R.lastRequestAnimationFrameId=-1,R.nativeRequestAnimationFrame=function pE(){let e=Ai.requestAnimationFrame,n=Ai.cancelAnimationFrame;if(typeof Zone<"u"&&e&&n){const t=e[Zone.__symbol__("OriginalDelegate")];t&&(e=t);const x=n[Zone.__symbol__("OriginalDelegate")];x&&(n=x)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function vE(e){const n=()=>{!function mE(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ai,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,fx(e),e.isCheckStableRunning=!0,cx(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),fx(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,x,R,Y,ce,Re)=>{try{return zT(e),t.invokeTask(R,Y,ce,Re)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===Y.type||e.shouldCoalesceRunChangeDetection)&&n(),BT(e)}},onInvoke:(t,x,R,Y,ce,Re,He)=>{try{return zT(e),t.invoke(R,Y,ce,Re,He)}finally{e.shouldCoalesceRunChangeDetection&&n(),BT(e)}},onHasTask:(t,x,R,Y)=>{t.hasTask(R,Y),x===R&&("microTask"==Y.change?(e._hasPendingMicrotasks=Y.microTask,fx(e),cx(e)):"macroTask"==Y.change&&(e.hasPendingMacrotasks=Y.macroTask))},onHandleError:(t,x,R,Y)=>(t.handleError(R,Y),e.runOutsideAngular(()=>e.onError.emit(Y)),!1)})}(R)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Yo.isInAngularZone())throw new Un(909,!1)}static assertNotInAngularZone(){if(Yo.isInAngularZone())throw new Un(909,!1)}run(n,t,x){return this._inner.run(n,t,x)}runTask(n,t,x,R){const Y=this._inner,ce=Y.scheduleEventTask("NgZoneEvent: "+R,n,gE,dv,dv);try{return Y.runTask(ce,t,x)}finally{Y.cancelTask(ce)}}runGuarded(n,t,x){return this._inner.runGuarded(n,t,x)}runOutsideAngular(n){return this._outer.run(n)}}const gE={};function cx(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function fx(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function zT(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function BT(e){e._nesting--,cx(e)}class yE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ii,this.onMicrotaskEmpty=new Ii,this.onStable=new Ii,this.onError=new Ii}run(n,t,x){return n.apply(t,x)}runGuarded(n,t,x){return n.apply(t,x)}runOutsideAngular(n){return n()}runTask(n,t,x,R){return n.apply(t,x)}}const jT=new yi(""),vv=new yi("");let px,hx=(()=>{class e{constructor(t,x,R){this._ngZone=t,this.registry=x,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,px||(function _E(e){px=e}(R),R.addToWindow(x)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Yo.assertNotInAngularZone(),ux(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ux(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(x=>!x.updateCb||!x.updateCb(t)||(clearTimeout(x.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,x,R){let Y=-1;x&&x>0&&(Y=setTimeout(()=>{this._callbacks=this._callbacks.filter(ce=>ce.timeoutId!==Y),t(this._didWork,this.getPendingTasks())},x)),this._callbacks.push({doneCb:t,timeoutId:Y,updateCb:R})}whenStable(t,x,R){if(R&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,x,R),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,x,R){return[]}}return e.\u0275fac=function(t){return new(t||e)($r(Yo),$r(dx),$r(vv))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac}),e})(),dx=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,x){this._applications.set(t,x)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,x=!0){return px?.findTestabilityInTree(this,t,x)??null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),Ih=null;const UT=new yi("AllowMultipleToken"),gx=new yi("PlatformDestroyListeners");class VT{constructor(n,t){this.name=n,this.token=t}}function GT(e,n,t=[]){const x=`Platform: ${n}`,R=new yi(x);return(Y=[])=>{let ce=mx();if(!ce||ce.injector.get(UT,!1)){const Re=[...t,...Y,{provide:R,useValue:!0}];e?e(Re):function wE(e){if(Ih&&!Ih.get(UT,!1))throw new Un(400,!1);Ih=e;const n=e.get(WT);(function HT(e){const n=e.get(PT,null);n&&n.forEach(t=>t())})(e)}(function qT(e=[],n){return Gl.create({name:n,providers:[{provide:Fo,useValue:"platform"},{provide:gx,useValue:new Set([()=>Ih=null])},...e]})}(Re,x))}return function ME(e){const n=mx();if(!n)throw new Un(401,!1);return n}()}}function mx(){return Ih?.get(WT)??null}let WT=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,x){const R=function ZT(e,n){let t;return t="noop"===e?new yE:("zone.js"===e?void 0:e)||new Yo(n),t}(x?.ngZone,function $T(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(x)),Y=[{provide:Yo,useValue:R}];return R.run(()=>{const ce=Gl.create({providers:Y,parent:this.injector,name:t.moduleType.name}),Re=t.create(ce),He=Re.injector.get($u,null);if(!He)throw new Un(402,!1);return R.runOutsideAngular(()=>{const tt=R.onError.subscribe({next:xt=>{He.handleError(xt)}});Re.onDestroy(()=>{yv(this._modules,Re),tt.unsubscribe()})}),function YT(e,n,t){try{const x=t();return qg(x)?x.catch(R=>{throw n.runOutsideAngular(()=>e.handleError(R)),R}):x}catch(x){throw n.runOutsideAngular(()=>e.handleError(x)),x}}(He,R,()=>{const tt=Re.injector.get(gv);return tt.runInitializers(),tt.donePromise.then(()=>(function b3(e){Sn(e,"Expected localeId to be defined"),"string"==typeof e&&(x3=e.toLowerCase().replace(/_/g,"-"))}(Re.injector.get(Ju,e0)||e0),this._moduleDoBootstrap(Re),Re))})})}bootstrapModule(t,x=[]){const R=XT({},x);return function xE(e,n,t){const x=new $_(t);return Promise.resolve(x)}(0,0,t).then(Y=>this.bootstrapModuleFactory(Y,R))}_moduleDoBootstrap(t){const x=t.injector.get(im);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(R=>x.bootstrap(R));else{if(!t.instance.ngDoBootstrap)throw new Un(-403,!1);t.instance.ngDoBootstrap(x)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Un(404,!1);this._modules.slice().forEach(x=>x.destroy()),this._destroyListeners.forEach(x=>x());const t=this._injector.get(gx,null);t&&(t.forEach(x=>x()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)($r(Gl))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function XT(e,n){return Array.isArray(n)?n.reduce(XT,e):{...e,...n}}let im=(()=>{class e{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,x,R){this._zone=t,this._injector=x,this._exceptionHandler=R,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const Y=new L(Re=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{Re.next(this._stable),Re.complete()})}),ce=new L(Re=>{let He;this._zone.runOutsideAngular(()=>{He=this._zone.onStable.subscribe(()=>{Yo.assertNotInAngularZone(),ux(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,Re.next(!0))})})});const tt=this._zone.onUnstable.subscribe(()=>{Yo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{Re.next(!1)}))});return()=>{He.unsubscribe(),tt.unsubscribe()}});this.isStable=function On(...e){const n=kt(e),t=function Ht(e,n){return"number"==typeof Tt(e)?e.pop():n}(e,1/0),x=e;return x.length?1===x.length?Vt(x[0]):vt(t)(tr(x,n)):bt}(Y,ce.pipe(function wn(e={}){const{connector:n=(()=>new Z),resetOnError:t=!0,resetOnComplete:x=!0,resetOnRefCountZero:R=!0}=e;return Y=>{let ce,Re,He,tt=0,xt=!1,Zt=!1;const rn=()=>{Re?.unsubscribe(),Re=void 0},yn=()=>{rn(),ce=He=void 0,xt=Zt=!1},Jn=()=>{const ar=ce;yn(),ar?.unsubscribe()};return G((ar,gr)=>{tt++,!Zt&&!xt&&rn();const xr=He=He??n();gr.add(()=>{tt--,0===tt&&!Zt&&!xt&&(Re=Cn(Jn,R))}),xr.subscribe(gr),!ce&&tt>0&&(ce=new w({next:Br=>xr.next(Br),error:Br=>{Zt=!0,rn(),Re=Cn(yn,t,Br),xr.error(Br)},complete:()=>{xt=!0,rn(),Re=Cn(yn,x),xr.complete()}}),Vt(ar).subscribe(ce))})(Y)}}()))}bootstrap(t,x){const R=t instanceof Qo;if(!this._injector.get(gv).done)throw!R&&function eu(e){const n=Yi(e)||ra(e)||Io(e);return null!==n&&n.standalone}(t),new Un(405,false);let ce;ce=R?t:this._injector.get(Fs).resolveComponentFactory(t),this.componentTypes.push(ce.componentType);const Re=function bE(e){return e.isBoundToModule}(ce)?void 0:this._injector.get(n0),tt=ce.create(Gl.NULL,[],x||ce.selector,Re),xt=tt.location.nativeElement,Zt=tt.injector.get(jT,null);return Zt?.registerApplication(xt),tt.onDestroy(()=>{this.detachView(tt.hostView),yv(this.components,tt),Zt?.unregisterApplication(xt)}),this._loadComponent(tt),tt}tick(){if(this._runningTick)throw new Un(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const x=t;this._views.push(x),x.attachToAppRef(this)}detachView(t){const x=t;yv(this._views,x),x.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const x=this._injector.get(RT,[]);x.push(...this._bootstrapListeners),x.forEach(R=>R(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>yv(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Un(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(t){return new(t||e)($r(Yo),$r(Ho),$r($u))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function yv(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}let Ku=(()=>{class e{}return e.__NG_ELEMENT_ID__=kE,e})();function kE(e){return function SE(e,n,t){if(go(e)&&!t){const x=Wo(e.index,n);return new Vg(x,x)}return 47&e.type?new Vg(n[16],n):null}(it(),Or(),16==(16&e))}const jE=GT(null,"core",[]);let UE=(()=>{class e{constructor(t){}}return e.\u0275fac=function(t){return new(t||e)($r(im))},e.\u0275mod=mi({type:e}),e.\u0275inj=sr({}),e})();function bx(e,n){const t=Yi(e),x=n.elementInjector||Pa();return new Hg(t).create(x,n.projectableNodes,n.hostElement,n.environmentInjector)}let wx=null;function pf(){return wx}class GE{}const ws=new yi("DocumentToken");let Tx=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:function(){return function qE(){return $r(s5)}()},providedIn:"platform"}),e})();const WE=new yi("Location Initialized");let s5=(()=>{class e extends Tx{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return pf().getBaseHref(this._doc)}onPopState(t){const x=pf().getGlobalEventTarget(this._doc,"window");return x.addEventListener("popstate",t,!1),()=>x.removeEventListener("popstate",t)}onHashChange(t){const x=pf().getGlobalEventTarget(this._doc,"window");return x.addEventListener("hashchange",t,!1),()=>x.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,x,R){l5()?this._history.pushState(t,x,R):this._location.hash=R}replaceState(t,x,R){l5()?this._history.replaceState(t,x,R):this._location.hash=R}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)($r(ws))},e.\u0275prov=Rn({token:e,factory:function(){return function $E(){return new s5($r(ws))}()},providedIn:"platform"}),e})();function l5(){return!!window.history.pushState}function Mx(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function u5(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function Vf(e){return e&&"?"!==e[0]?"?"+e:e}let Ad=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:function(){return Li(f5)},providedIn:"root"}),e})();const c5=new yi("appBaseHref");let f5=(()=>{class e extends Ad{constructor(t,x){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=x??this._platformLocation.getBaseHrefFromDOM()??Li(ws).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Mx(this._baseHref,t)}path(t=!1){const x=this._platformLocation.pathname+Vf(this._platformLocation.search),R=this._platformLocation.hash;return R&&t?`${x}${R}`:x}pushState(t,x,R,Y){const ce=this.prepareExternalUrl(R+Vf(Y));this._platformLocation.pushState(t,x,ce)}replaceState(t,x,R,Y){const ce=this.prepareExternalUrl(R+Vf(Y));this._platformLocation.replaceState(t,x,ce)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)($r(Tx),$r(c5,8))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ZE=(()=>{class e extends Ad{constructor(t,x){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=x&&(this._baseHref=x)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let x=this._platformLocation.hash;return null==x&&(x="#"),x.length>0?x.substring(1):x}prepareExternalUrl(t){const x=Mx(this._baseHref,t);return x.length>0?"#"+x:x}pushState(t,x,R,Y){let ce=this.prepareExternalUrl(R+Vf(Y));0==ce.length&&(ce=this._platformLocation.pathname),this._platformLocation.pushState(t,x,ce)}replaceState(t,x,R,Y){let ce=this.prepareExternalUrl(R+Vf(Y));0==ce.length&&(ce=this._platformLocation.pathname),this._platformLocation.replaceState(t,x,ce)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)($r(Tx),$r(c5,8))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac}),e})(),Ax=(()=>{class e{constructor(t){this._subject=new Ii,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const x=this._locationStrategy.getBaseHref();this._basePath=function JE(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(u5(h5(x))),this._locationStrategy.onPopState(R=>{this._subject.emit({url:this.path(!0),pop:!0,state:R.state,type:R.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,x=""){return this.path()==this.normalize(t+Vf(x))}normalize(t){return e.stripTrailingSlash(function XE(e,n){return e&&new RegExp(`^${e}([/;?#]|$)`).test(n)?n.substring(e.length):n}(this._basePath,h5(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,x="",R=null){this._locationStrategy.pushState(R,"",t,x),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Vf(x)),R)}replaceState(t,x="",R=null){this._locationStrategy.replaceState(R,"",t,x),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Vf(x)),R)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(x=>{this._notifyUrlChangeListeners(x.url,x.state)})),()=>{const x=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(x,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",x){this._urlChangeListeners.forEach(R=>R(t,x))}subscribe(t,x,R){return this._subject.subscribe({next:t,error:x,complete:R})}}return e.normalizeQueryParams=Vf,e.joinWithSlash=Mx,e.stripTrailingSlash=u5,e.\u0275fac=function(t){return new(t||e)($r(Ad))},e.\u0275prov=Rn({token:e,factory:function(){return function YE(){return new Ax($r(Ad))}()},providedIn:"root"}),e})();function h5(e){return e.replace(/\/index.html$/,"")}function M5(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const x=t.indexOf("="),[R,Y]=-1==x?[t,""]:[t.slice(0,x),t.slice(x+1)];if(R.trim()===n)return decodeURIComponent(Y)}return null}let zu=(()=>{class e{constructor(t,x){this._viewContainer=t,this._context=new RD,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=x}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){E5("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){E5("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,x){return!0}}return e.\u0275fac=function(t){return new(t||e)(ir(xc),ir(Ua))},e.\u0275dir=ni({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class RD{constructor(){this.$implicit=null,this.ngIf=null}}function E5(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Fn(n)}'.`)}let a7=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=mi({type:e}),e.\u0275inj=sr({}),e})();let f7=(()=>{class e{}return e.\u0275prov=Rn({token:e,providedIn:"root",factory:()=>new h7($r(ws),window)}),e})();class h7{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function d7(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const x=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let R=x.currentNode;for(;R;){const Y=R.shadowRoot;if(Y){const ce=Y.getElementById(n)||Y.querySelector(`[name="${n}"]`);if(ce)return ce}R=x.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=n)}}scrollToElement(n){const t=n.getBoundingClientRect(),x=t.left+this.window.pageXOffset,R=t.top+this.window.pageYOffset,Y=this.offset();this.window.scrollTo(x-Y[0],R-Y[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=R5(this.window.history)||R5(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function R5(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class L5{}class j7 extends GE{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Gx extends j7{static makeCurrent(){!function HE(e){wx||(wx=e)}(new Gx)}onAndCancel(n,t,x){return n.addEventListener(t,x,!1),()=>{n.removeEventListener(t,x,!1)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function U7(){return um=um||document.querySelector("base"),um?um.getAttribute("href"):null}();return null==t?null:function V7(e){Iv=Iv||document.createElement("a"),Iv.setAttribute("href",e);const n=Iv.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){um=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return M5(document.cookie,n)}}let Iv,um=null;const j5=new yi("TRANSITION_ID"),G7=[{provide:pv,useFactory:function H7(e,n,t){return()=>{t.get(gv).donePromise.then(()=>{const x=pf(),R=n.querySelectorAll(`style[ng-transition="${e}"]`);for(let Y=0;Y<R.length;Y++)x.remove(R[Y])})}},deps:[j5,ws,Gl],multi:!0}];let W7=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:e.\u0275fac}),e})();const Pv=new yi("EventManagerPlugins");let Rv=(()=>{class e{constructor(t,x){this._zone=x,this._eventNameToPlugin=new Map,t.forEach(R=>R.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,x,R){return this._findPluginFor(x).addEventListener(t,x,R)}addGlobalEventListener(t,x,R){return this._findPluginFor(x).addGlobalEventListener(t,x,R)}getZone(){return this._zone}_findPluginFor(t){const x=this._eventNameToPlugin.get(t);if(x)return x;const R=this._plugins;for(let Y=0;Y<R.length;Y++){const ce=R[Y];if(ce.supports(t))return this._eventNameToPlugin.set(t,ce),ce}throw new Error(`No event manager plugin found for event ${t}`)}}return e.\u0275fac=function(t){return new(t||e)($r(Pv),$r(Yo))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac}),e})();class U5{constructor(n){this._doc=n}addGlobalEventListener(n,t,x){const R=pf().getGlobalEventTarget(this._doc,n);if(!R)throw new Error(`Unsupported event target ${R} for event ${t}`);return this.addEventListener(R,t,x)}}let V5=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(t){const x=new Set;t.forEach(R=>{this._stylesSet.has(R)||(this._stylesSet.add(R),x.add(R))}),this.onStylesAdded(x)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:e.\u0275fac}),e})(),cm=(()=>{class e extends V5{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,x,R){t.forEach(Y=>{const ce=this._doc.createElement("style");ce.textContent=Y,R.push(x.appendChild(ce))})}addHost(t){const x=[];this._addStylesToHost(this._stylesSet,t,x),this._hostNodes.set(t,x)}removeHost(t){const x=this._hostNodes.get(t);x&&x.forEach(H5),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((x,R)=>{this._addStylesToHost(t,R,x)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(H5))}}return e.\u0275fac=function(t){return new(t||e)($r(ws))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac}),e})();function H5(e){pf().remove(e)}const qx={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Wx=/%COMP%/g;function $x(e,n){return n.flat(100).map(t=>t.replace(Wx,e))}function W5(e){return n=>{if("__ngUnwrap__"===n)return e;!1===e(n)&&(n.preventDefault(),n.returnValue=!1)}}let Zx=(()=>{class e{constructor(t,x,R){this.eventManager=t,this.sharedStylesHost=x,this.appId=R,this.rendererByCompId=new Map,this.defaultRenderer=new Yx(t)}createRenderer(t,x){if(!t||!x)return this.defaultRenderer;switch(x.encapsulation){case tl.Emulated:{let R=this.rendererByCompId.get(x.id);return R||(R=new K7(this.eventManager,this.sharedStylesHost,x,this.appId),this.rendererByCompId.set(x.id,R)),R.applyToHost(t),R}case tl.ShadowDom:return new Q7(this.eventManager,this.sharedStylesHost,t,x);default:if(!this.rendererByCompId.has(x.id)){const R=$x(x.id,x.styles);this.sharedStylesHost.addStyles(R),this.rendererByCompId.set(x.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)($r(Rv),$r(cm),$r(rm))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac}),e})();class Yx{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?document.createElementNS(qx[t]||t,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,t){(Z5(n)?n.content:n).appendChild(t)}insertBefore(n,t,x){n&&(Z5(n)?n.content:n).insertBefore(t,x)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let x="string"==typeof n?document.querySelector(n):n;if(!x)throw new Error(`The selector "${n}" did not match any elements`);return t||(x.textContent=""),x}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,x,R){if(R){t=R+":"+t;const Y=qx[R];Y?n.setAttributeNS(Y,t,x):n.setAttribute(t,x)}else n.setAttribute(t,x)}removeAttribute(n,t,x){if(x){const R=qx[x];R?n.removeAttributeNS(R,t):n.removeAttribute(`${x}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,x,R){R&(Hl.DashCase|Hl.Important)?n.style.setProperty(t,x,R&Hl.Important?"important":""):n.style[t]=x}removeStyle(n,t,x){x&Hl.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,x){n[t]=x}setValue(n,t){n.nodeValue=t}listen(n,t,x){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,t,W5(x)):this.eventManager.addEventListener(n,t,W5(x))}}function Z5(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class K7 extends Yx{constructor(n,t,x,R){super(n),this.component=x;const Y=$x(R+"-"+x.id,x.styles);t.addStyles(Y),this.contentAttr=function Y7(e){return"_ngcontent-%COMP%".replace(Wx,e)}(R+"-"+x.id),this.hostAttr=function X7(e){return"_nghost-%COMP%".replace(Wx,e)}(R+"-"+x.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,t){const x=super.createElement(n,t);return super.setAttribute(x,this.contentAttr,""),x}}class Q7 extends Yx{constructor(n,t,x,R){super(n),this.sharedStylesHost=t,this.hostEl=x,this.shadowRoot=x.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Y=$x(R.id,R.styles);for(let ce=0;ce<Y.length;ce++){const Re=document.createElement("style");Re.textContent=Y[ce],this.shadowRoot.appendChild(Re)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,x){return super.insertBefore(this.nodeOrShadowRoot(n),t,x)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let eO=(()=>{class e extends U5{constructor(t){super(t)}supports(t){return!0}addEventListener(t,x,R){return t.addEventListener(x,R,!1),()=>this.removeEventListener(t,x,R)}removeEventListener(t,x,R){return t.removeEventListener(x,R)}}return e.\u0275fac=function(t){return new(t||e)($r(ws))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac}),e})();const Y5=["alt","control","meta","shift"],tO={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nO={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let rO=(()=>{class e extends U5{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,x,R){const Y=e.parseEventName(x),ce=e.eventCallback(Y.fullKey,R,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>pf().onAndCancel(t,Y.domEventName,ce))}static parseEventName(t){const x=t.toLowerCase().split("."),R=x.shift();if(0===x.length||"keydown"!==R&&"keyup"!==R)return null;const Y=e._normalizeKey(x.pop());let ce="",Re=x.indexOf("code");if(Re>-1&&(x.splice(Re,1),ce="code."),Y5.forEach(tt=>{const xt=x.indexOf(tt);xt>-1&&(x.splice(xt,1),ce+=tt+".")}),ce+=Y,0!=x.length||0===Y.length)return null;const He={};return He.domEventName=R,He.fullKey=ce,He}static matchEventFullKeyCode(t,x){let R=tO[t.key]||t.key,Y="";return x.indexOf("code.")>-1&&(R=t.code,Y="code."),!(null==R||!R)&&(R=R.toLowerCase()," "===R?R="space":"."===R&&(R="dot"),Y5.forEach(ce=>{ce!==R&&(0,nO[ce])(t)&&(Y+=ce+".")}),Y+=R,Y===x)}static eventCallback(t,x,R){return Y=>{e.matchEventFullKeyCode(Y,t)&&R.runGuarded(()=>x(Y))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return e.\u0275fac=function(t){return new(t||e)($r(ws))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac}),e})();const sO=GT(jE,"browser",[{provide:mv,useValue:"browser"},{provide:PT,useValue:function iO(){Gx.makeCurrent()},multi:!0},{provide:ws,useFactory:function aO(){return function d_(e){fg=e}(document),document},deps:[]}]),K5=new yi(""),Q5=[{provide:vv,useClass:class q7{addToWindow(n){Ai.getAngularTestability=(x,R=!0)=>{const Y=n.findTestabilityInTree(x,R);if(null==Y)throw new Error("Could not find testability for element.");return Y},Ai.getAllAngularTestabilities=()=>n.getAllTestabilities(),Ai.getAllAngularRootElements=()=>n.getAllRootElements(),Ai.frameworkStabilizers||(Ai.frameworkStabilizers=[]),Ai.frameworkStabilizers.push(x=>{const R=Ai.getAllAngularTestabilities();let Y=R.length,ce=!1;const Re=function(He){ce=ce||He,Y--,0==Y&&x(ce)};R.forEach(function(He){He.whenStable(Re)})})}findTestabilityInTree(n,t,x){return null==t?null:n.getTestability(t)??(x?pf().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},deps:[]},{provide:jT,useClass:hx,deps:[Yo,dx,vv]},{provide:hx,useClass:hx,deps:[Yo,dx,vv]}],eM=[{provide:Fo,useValue:"root"},{provide:$u,useFactory:function oO(){return new $u},deps:[]},{provide:Pv,useClass:eO,multi:!0,deps:[ws,Yo,mv]},{provide:Pv,useClass:rO,multi:!0,deps:[ws]},{provide:Zx,useClass:Zx,deps:[Rv,cm,rm]},{provide:_u,useExisting:Zx},{provide:V5,useExisting:cm},{provide:cm,useClass:cm,deps:[ws]},{provide:Rv,useClass:Rv,deps:[Pv,Yo]},{provide:L5,useClass:W7,deps:[]},[]];let lO=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:rm,useValue:t.appId},{provide:j5,useExisting:rm},G7]}}}return e.\u0275fac=function(t){return new(t||e)($r(K5,12))},e.\u0275mod=mi({type:e}),e.\u0275inj=sr({providers:[...eM,...Q5],imports:[a7,UE]}),e})(),tM=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return e.\u0275fac=function(t){return new(t||e)($r(ws))},e.\u0275prov=Rn({token:e,factory:function(t){let x=null;return x=t?new t:function cO(){return new tM($r(ws))}(),x},providedIn:"root"}),e})();function Pi(...e){return tr(e,kt(e))}function Rh(e,n){return Ei(n)?st(e,n,1):st(e,1)}function yl(e,n){return G((t,x)=>{let R=0;t.subscribe(H(x,Y=>e.call(n,Y,R++)&&x.next(Y)))})}typeof window<"u"&&window;class Lv{}class Kx{}class qf{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(t=>{const x=t.indexOf(":");if(x>0){const R=t.slice(0,x),Y=R.toLowerCase(),ce=t.slice(x+1).trim();this.maybeSetNormalizedName(R,Y),this.headers.has(Y)?this.headers.get(Y).push(ce):this.headers.set(Y,[ce])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(t=>{let x=n[t];const R=t.toLowerCase();"string"==typeof x&&(x=[x]),x.length>0&&(this.headers.set(R,x),this.maybeSetNormalizedName(t,R))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof qf?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){const t=new qf;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof qf?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){const t=n.name.toLowerCase();switch(n.op){case"a":case"s":let x=n.value;if("string"==typeof x&&(x=[x]),0===x.length)return;this.maybeSetNormalizedName(n.name,t);const R=("a"===n.op?this.headers.get(t):void 0)||[];R.push(...x),this.headers.set(t,R);break;case"d":const Y=n.value;if(Y){let ce=this.headers.get(t);if(!ce)return;ce=ce.filter(Re=>-1===Y.indexOf(Re)),0===ce.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,ce)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}}class yO{encodeKey(n){return iM(n)}encodeValue(n){return iM(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const xO=/%(\d[a-f0-9])/gi,bO={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function iM(e){return encodeURIComponent(e).replace(xO,(n,t)=>bO[t]??n)}function Nv(e){return`${e}`}class Lh{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new yO,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function _O(e,n){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(R=>{const Y=R.indexOf("="),[ce,Re]=-1==Y?[n.decodeKey(R),""]:[n.decodeKey(R.slice(0,Y)),n.decodeValue(R.slice(Y+1))],He=t.get(ce)||[];He.push(Re),t.set(ce,He)}),t}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{const x=n.fromObject[t],R=Array.isArray(x)?x.map(Nv):[Nv(x)];this.map.set(t,R)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){const t=[];return Object.keys(n).forEach(x=>{const R=n[x];Array.isArray(R)?R.forEach(Y=>{t.push({param:x,value:Y,op:"a"})}):t.push({param:x,value:R,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const t=this.encoder.encodeKey(n);return this.map.get(n).map(x=>t+"="+this.encoder.encodeValue(x)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const t=new Lh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const t=("a"===n.op?this.map.get(n.param):void 0)||[];t.push(Nv(n.value)),this.map.set(n.param,t);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let x=this.map.get(n.param)||[];const R=x.indexOf(Nv(n.value));-1!==R&&x.splice(R,1),x.length>0?this.map.set(n.param,x):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class wO{constructor(){this.map=new Map}set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function oM(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function aM(e){return typeof Blob<"u"&&e instanceof Blob}function sM(e){return typeof FormData<"u"&&e instanceof FormData}class fm{constructor(n,t,x,R){let Y;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function TO(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||R?(this.body=void 0!==x?x:null,Y=R):Y=x,Y&&(this.reportProgress=!!Y.reportProgress,this.withCredentials=!!Y.withCredentials,Y.responseType&&(this.responseType=Y.responseType),Y.headers&&(this.headers=Y.headers),Y.context&&(this.context=Y.context),Y.params&&(this.params=Y.params)),this.headers||(this.headers=new qf),this.context||(this.context=new wO),this.params){const ce=this.params.toString();if(0===ce.length)this.urlWithParams=t;else{const Re=t.indexOf("?");this.urlWithParams=t+(-1===Re?"?":Re<t.length-1?"&":"")+ce}}else this.params=new Lh,this.urlWithParams=t}serializeBody(){return null===this.body?null:oM(this.body)||aM(this.body)||sM(this.body)||function MO(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Lh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||sM(this.body)?null:aM(this.body)?this.body.type||null:oM(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Lh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const t=n.method||this.method,x=n.url||this.url,R=n.responseType||this.responseType,Y=void 0!==n.body?n.body:this.body,ce=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,Re=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let He=n.headers||this.headers,tt=n.params||this.params;const xt=n.context??this.context;return void 0!==n.setHeaders&&(He=Object.keys(n.setHeaders).reduce((Zt,rn)=>Zt.set(rn,n.setHeaders[rn]),He)),n.setParams&&(tt=Object.keys(n.setParams).reduce((Zt,rn)=>Zt.set(rn,n.setParams[rn]),tt)),new fm(t,x,Y,{params:tt,headers:He,context:xt,reportProgress:Re,responseType:R,withCredentials:ce})}}var Qs=(()=>((Qs=Qs||{})[Qs.Sent=0]="Sent",Qs[Qs.UploadProgress=1]="UploadProgress",Qs[Qs.ResponseHeader=2]="ResponseHeader",Qs[Qs.DownloadProgress=3]="DownloadProgress",Qs[Qs.Response=4]="Response",Qs[Qs.User=5]="User",Qs))();class Qx{constructor(n,t=200,x="OK"){this.headers=n.headers||new qf,this.status=void 0!==n.status?n.status:t,this.statusText=n.statusText||x,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class eb extends Qx{constructor(n={}){super(n),this.type=Qs.ResponseHeader}clone(n={}){return new eb({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Fv extends Qx{constructor(n={}){super(n),this.type=Qs.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new Fv({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class lM extends Qx{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function tb(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let uM=(()=>{class e{constructor(t){this.handler=t}request(t,x,R={}){let Y;if(t instanceof fm)Y=t;else{let He,tt;He=R.headers instanceof qf?R.headers:new qf(R.headers),R.params&&(tt=R.params instanceof Lh?R.params:new Lh({fromObject:R.params})),Y=new fm(t,x,void 0!==R.body?R.body:null,{headers:He,context:R.context,params:tt,reportProgress:R.reportProgress,responseType:R.responseType||"json",withCredentials:R.withCredentials})}const ce=Pi(Y).pipe(Rh(He=>this.handler.handle(He)));if(t instanceof fm||"events"===R.observe)return ce;const Re=ce.pipe(yl(He=>He instanceof Fv));switch(R.observe||"body"){case"body":switch(Y.responseType){case"arraybuffer":return Re.pipe(X(He=>{if(null!==He.body&&!(He.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return He.body}));case"blob":return Re.pipe(X(He=>{if(null!==He.body&&!(He.body instanceof Blob))throw new Error("Response is not a Blob.");return He.body}));case"text":return Re.pipe(X(He=>{if(null!==He.body&&"string"!=typeof He.body)throw new Error("Response is not a string.");return He.body}));default:return Re.pipe(X(He=>He.body))}case"response":return Re;default:throw new Error(`Unreachable: unhandled observe type ${R.observe}}`)}}delete(t,x={}){return this.request("DELETE",t,x)}get(t,x={}){return this.request("GET",t,x)}head(t,x={}){return this.request("HEAD",t,x)}jsonp(t,x){return this.request("JSONP",t,{params:(new Lh).append(x,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,x={}){return this.request("OPTIONS",t,x)}patch(t,x,R={}){return this.request("PATCH",t,tb(R,x))}post(t,x,R={}){return this.request("POST",t,tb(R,x))}put(t,x,R={}){return this.request("PUT",t,tb(R,x))}}return e.\u0275fac=function(t){return new(t||e)($r(Lv))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac}),e})();function cM(e,n){return n(e)}function AO(e,n){return(t,x)=>n.intercept(t,{handle:R=>e(R,x)})}const SO=new yi("HTTP_INTERCEPTORS"),hm=new yi("HTTP_INTERCEPTOR_FNS");function CO(){let e=null;return(n,t)=>(null===e&&(e=(Li(SO,{optional:!0})??[]).reduceRight(AO,cM)),e(n,t))}let fM=(()=>{class e extends Lv{constructor(t,x){super(),this.backend=t,this.injector=x,this.chain=null}handle(t){if(null===this.chain){const x=Array.from(new Set(this.injector.get(hm)));this.chain=x.reduceRight((R,Y)=>function kO(e,n,t){return(x,R)=>t.runInContext(()=>n(x,Y=>e(Y,R)))}(R,Y,this.injector),cM)}return this.chain(t,x=>this.backend.handle(x))}}return e.\u0275fac=function(t){return new(t||e)($r(Kx),$r(Ho))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac}),e})();const IO=/^\)\]\}',?\n/;let dM=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new L(x=>{const R=this.xhrFactory.build();if(R.open(t.method,t.urlWithParams),t.withCredentials&&(R.withCredentials=!0),t.headers.forEach((yn,Jn)=>R.setRequestHeader(yn,Jn.join(","))),t.headers.has("Accept")||R.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const yn=t.detectContentTypeHeader();null!==yn&&R.setRequestHeader("Content-Type",yn)}if(t.responseType){const yn=t.responseType.toLowerCase();R.responseType="json"!==yn?yn:"text"}const Y=t.serializeBody();let ce=null;const Re=()=>{if(null!==ce)return ce;const yn=R.statusText||"OK",Jn=new qf(R.getAllResponseHeaders()),ar=function PO(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(R)||t.url;return ce=new eb({headers:Jn,status:R.status,statusText:yn,url:ar}),ce},He=()=>{let{headers:yn,status:Jn,statusText:ar,url:gr}=Re(),xr=null;204!==Jn&&(xr=typeof R.response>"u"?R.responseText:R.response),0===Jn&&(Jn=xr?200:0);let Br=Jn>=200&&Jn<300;if("json"===t.responseType&&"string"==typeof xr){const Mr=xr;xr=xr.replace(IO,"");try{xr=""!==xr?JSON.parse(xr):null}catch(ii){xr=Mr,Br&&(Br=!1,xr={error:ii,text:xr})}}Br?(x.next(new Fv({body:xr,headers:yn,status:Jn,statusText:ar,url:gr||void 0})),x.complete()):x.error(new lM({error:xr,headers:yn,status:Jn,statusText:ar,url:gr||void 0}))},tt=yn=>{const{url:Jn}=Re(),ar=new lM({error:yn,status:R.status||0,statusText:R.statusText||"Unknown Error",url:Jn||void 0});x.error(ar)};let xt=!1;const Zt=yn=>{xt||(x.next(Re()),xt=!0);let Jn={type:Qs.DownloadProgress,loaded:yn.loaded};yn.lengthComputable&&(Jn.total=yn.total),"text"===t.responseType&&R.responseText&&(Jn.partialText=R.responseText),x.next(Jn)},rn=yn=>{let Jn={type:Qs.UploadProgress,loaded:yn.loaded};yn.lengthComputable&&(Jn.total=yn.total),x.next(Jn)};return R.addEventListener("load",He),R.addEventListener("error",tt),R.addEventListener("timeout",tt),R.addEventListener("abort",tt),t.reportProgress&&(R.addEventListener("progress",Zt),null!==Y&&R.upload&&R.upload.addEventListener("progress",rn)),R.send(Y),x.next({type:Qs.Sent}),()=>{R.removeEventListener("error",tt),R.removeEventListener("abort",tt),R.removeEventListener("load",He),R.removeEventListener("timeout",tt),t.reportProgress&&(R.removeEventListener("progress",Zt),null!==Y&&R.upload&&R.upload.removeEventListener("progress",rn)),R.readyState!==R.DONE&&R.abort()}})}}return e.\u0275fac=function(t){return new(t||e)($r(L5))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac}),e})();const nb=new yi("XSRF_ENABLED"),pM="XSRF-TOKEN",gM=new yi("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>pM}),mM="X-XSRF-TOKEN",vM=new yi("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>mM});class yM{}let RO=(()=>{class e{constructor(t,x,R){this.doc=t,this.platform=x,this.cookieName=R,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=M5(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)($r(ws),$r(mv),$r(gM))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac}),e})();function LO(e,n){const t=e.url.toLowerCase();if(!Li(nb)||"GET"===e.method||"HEAD"===e.method||t.startsWith("http://")||t.startsWith("https://"))return n(e);const x=Li(yM).getToken(),R=Li(vM);return null!=x&&!e.headers.has(R)&&(e=e.clone({headers:e.headers.set(R,x)})),n(e)}var Bs=(()=>((Bs=Bs||{})[Bs.Interceptors=0]="Interceptors",Bs[Bs.LegacyInterceptors=1]="LegacyInterceptors",Bs[Bs.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Bs[Bs.NoXsrfProtection=3]="NoXsrfProtection",Bs[Bs.JsonpSupport=4]="JsonpSupport",Bs[Bs.RequestsMadeViaParent=5]="RequestsMadeViaParent",Bs))();function s0(e,n){return{\u0275kind:e,\u0275providers:n}}function NO(...e){const n=[uM,dM,fM,{provide:Lv,useExisting:fM},{provide:Kx,useExisting:dM},{provide:hm,useValue:LO,multi:!0},{provide:nb,useValue:!0},{provide:yM,useClass:RO}];for(const t of e)n.push(...t.\u0275providers);return function si(e){return{\u0275providers:e}}(n)}const _M=new yi("LEGACY_INTERCEPTOR_FN");function zO({cookieName:e,headerName:n}){const t=[];return void 0!==e&&t.push({provide:gM,useValue:e}),void 0!==n&&t.push({provide:vM,useValue:n}),s0(Bs.CustomXsrfConfiguration,t)}let BO=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=mi({type:e}),e.\u0275inj=sr({providers:[NO(s0(Bs.LegacyInterceptors,[{provide:_M,useFactory:CO},{provide:hm,useExisting:_M,multi:!0}]),zO({cookieName:pM,headerName:mM}))]}),e})();class js extends Z{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:x}=this;if(n)throw t;return this._throwIfClosed(),x}next(n){super.next(this._value=n)}}const zv=ie(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:jO}=Array,{getPrototypeOf:UO,prototype:VO,keys:HO}=Object;function xM(e){if(1===e.length){const n=e[0];if(jO(n))return{args:n,keys:null};if(function GO(e){return e&&"object"==typeof e&&UO(e)===VO}(n)){const t=HO(n);return{args:t.map(x=>n[x]),keys:t}}}return{args:e,keys:null}}const{isArray:qO}=Array;function rb(e){return X(n=>function WO(e,n){return qO(n)?e(...n):e(n)}(e,n))}function bM(e,n){return e.reduce((t,x,R)=>(t[x]=n[R],t),{})}function Bv(...e){const n=kt(e),t=Mt(e),{args:x,keys:R}=xM(e);if(0===x.length)return tr([],n);const Y=new L(function $O(e,n,t=A){return x=>{wM(n,()=>{const{length:R}=e,Y=new Array(R);let ce=R,Re=R;for(let He=0;He<R;He++)wM(n,()=>{const tt=tr(e[He],n);let xt=!1;tt.subscribe(H(x,Zt=>{Y[He]=Zt,xt||(xt=!0,Re--),Re||x.next(t(Y.slice()))},()=>{--ce||x.complete()}))},x)},x)}}(x,n,R?ce=>bM(R,ce):A));return t?Y.pipe(rb(t)):Y}function wM(e,n,t){e?Le(t,e,n):n()}function dm(...e){return function ZO(){return vt(1)}()(tr(e,kt(e)))}function TM(e){return new L(n=>{Vt(e()).subscribe(n)})}function pm(e,n){const t=Ei(e)?e:()=>e,x=R=>R.error(t());return new L(n?R=>n.schedule(x,0,R):x)}function ib(){return G((e,n)=>{let t=null;e._refCount++;const x=H(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const R=e._connection,Y=t;t=null,R&&(!Y||R===Y)&&R.unsubscribe(),n.unsubscribe()});e.subscribe(x),x.closed||(t=e.connect())})}class MM extends L{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,q(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new C;const t=this.getSubject();n.add(this.source.subscribe(H(t,void 0,()=>{this._teardown(),t.complete()},x=>{this._teardown(),t.error(x)},()=>this._teardown()))),n.closed&&(this._connection=null,n=C.EMPTY)}return n}refCount(){return ib()(this)}}function Mc(e,n){return G((t,x)=>{let R=null,Y=0,ce=!1;const Re=()=>ce&&!R&&x.complete();t.subscribe(H(x,He=>{R?.unsubscribe();let tt=0;const xt=Y++;Vt(e(He,xt)).subscribe(R=H(x,Zt=>x.next(n?n(He,Zt,xt,tt++):Zt),()=>{R=null,Re()}))},()=>{ce=!0,Re()}))})}function _l(e){return e<=0?()=>bt:G((n,t)=>{let x=0;n.subscribe(H(t,R=>{++x<=e&&(t.next(R),e<=x&&t.complete())}))})}function Uv(e){return G((n,t)=>{let x=!1;n.subscribe(H(t,R=>{x=!0,t.next(R)},()=>{x||t.next(e),t.complete()}))})}function AM(e=YO){return G((n,t)=>{let x=!1;n.subscribe(H(t,R=>{x=!0,t.next(R)},()=>x?t.complete():t.error(e())))})}function YO(){return new zv}function Nh(e,n){const t=arguments.length>=2;return x=>x.pipe(e?yl((R,Y)=>e(R,Y,x)):A,_l(1),t?Uv(n):AM(()=>new zv))}function Ol(e,n,t){const x=Ei(e)||n||t?{next:e,error:n,complete:t}:e;return x?G((R,Y)=>{var ce;null===(ce=x.subscribe)||void 0===ce||ce.call(x);let Re=!0;R.subscribe(H(Y,He=>{var tt;null===(tt=x.next)||void 0===tt||tt.call(x,He),Y.next(He)},()=>{var He;Re=!1,null===(He=x.complete)||void 0===He||He.call(x),Y.complete()},He=>{var tt;Re=!1,null===(tt=x.error)||void 0===tt||tt.call(x,He),Y.error(He)},()=>{var He,tt;Re&&(null===(He=x.unsubscribe)||void 0===He||He.call(x)),null===(tt=x.finalize)||void 0===tt||tt.call(x)}))}):A}function Fh(e){return G((n,t)=>{let Y,x=null,R=!1;x=n.subscribe(H(t,void 0,void 0,ce=>{Y=Vt(e(ce,Fh(e)(n))),x?(x.unsubscribe(),x=null,Y.subscribe(t)):R=!0})),R&&(x.unsubscribe(),x=null,Y.subscribe(t))})}function XO(e,n,t,x,R){return(Y,ce)=>{let Re=t,He=n,tt=0;Y.subscribe(H(ce,xt=>{const Zt=tt++;He=Re?e(He,xt,Zt):(Re=!0,xt),x&&ce.next(He)},R&&(()=>{Re&&ce.next(He),ce.complete()})))}}function kM(e,n){return G(XO(e,n,arguments.length>=2,!0))}function ob(e){return e<=0?()=>bt:G((n,t)=>{let x=[];n.subscribe(H(t,R=>{x.push(R),e<x.length&&x.shift()},()=>{for(const R of x)t.next(R);t.complete()},void 0,()=>{x=null}))})}function SM(e,n){const t=arguments.length>=2;return x=>x.pipe(e?yl((R,Y)=>e(R,Y,x)):A,ob(1),t?Uv(n):AM(()=>new zv))}function ab(e){return G((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}const Qi="primary",gm=Symbol("RouteTitle");class KO{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function l0(e){return new KO(e)}function QO(e,n,t){const x=t.path.split("/");if(x.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||x.length<e.length))return null;const R={};for(let Y=0;Y<x.length;Y++){const ce=x[Y],Re=e[Y];if(ce.startsWith(":"))R[ce.substring(1)]=Re;else if(ce!==Re.path)return null}return{consumed:e.slice(0,x.length),posParams:R}}function gf(e,n){const t=e?Object.keys(e):void 0,x=n?Object.keys(n):void 0;if(!t||!x||t.length!=x.length)return!1;let R;for(let Y=0;Y<t.length;Y++)if(R=t[Y],!EM(e[R],n[R]))return!1;return!0}function EM(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),x=[...n].sort();return t.every((R,Y)=>x[Y]===R)}return e===n}function DM(e){return Array.prototype.concat.apply([],e)}function OM(e){return e.length>0?e[e.length-1]:null}function Wl(e,n){for(const t in e)e.hasOwnProperty(t)&&n(e[t],t)}function zh(e){return L_(e)?e:qg(e)?tr(Promise.resolve(e)):Pi(e)}const Vv=!1,t9={exact:function RM(e,n,t){if(!Sd(e.segments,n.segments)||!Hv(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const x in n.children)if(!e.children[x]||!RM(e.children[x],n.children[x],t))return!1;return!0},subset:LM},IM={exact:function n9(e,n){return gf(e,n)},subset:function r9(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>EM(e[t],n[t]))},ignored:()=>!0};function PM(e,n,t){return t9[t.paths](e.root,n.root,t.matrixParams)&&IM[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function LM(e,n,t){return NM(e,n,n.segments,t)}function NM(e,n,t,x){if(e.segments.length>t.length){const R=e.segments.slice(0,t.length);return!(!Sd(R,t)||n.hasChildren()||!Hv(R,t,x))}if(e.segments.length===t.length){if(!Sd(e.segments,t)||!Hv(e.segments,t,x))return!1;for(const R in n.children)if(!e.children[R]||!LM(e.children[R],n.children[R],x))return!1;return!0}{const R=t.slice(0,e.segments.length),Y=t.slice(e.segments.length);return!!(Sd(e.segments,R)&&Hv(e.segments,R,x)&&e.children[Qi])&&NM(e.children[Qi],n,Y,x)}}function Hv(e,n,t){return n.every((x,R)=>IM[t](e[R].parameters,x.parameters))}class kd{constructor(n=new _o([],{}),t={},x=null){this.root=n,this.queryParams=t,this.fragment=x}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=l0(this.queryParams)),this._queryParamMap}toString(){return a9.serialize(this)}}class _o{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Wl(t,(x,R)=>x.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gv(this)}}class mm{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=l0(this.parameters)),this._parameterMap}toString(){return BM(this)}}function Sd(e,n){return e.length===n.length&&e.every((t,x)=>t.path===n[x].path)}let vm=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:function(){return new sb},providedIn:"root"}),e})();class sb{parse(n){const t=new g9(n);return new kd(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${ym(n.root,!0)}`,x=function u9(e){const n=Object.keys(e).map(t=>{const x=e[t];return Array.isArray(x)?x.map(R=>`${qv(t)}=${qv(R)}`).join("&"):`${qv(t)}=${qv(x)}`}).filter(t=>!!t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${x}${"string"==typeof n.fragment?`#${function s9(e){return encodeURI(e)}(n.fragment)}`:""}`}}const a9=new sb;function Gv(e){return e.segments.map(n=>BM(n)).join("/")}function ym(e,n){if(!e.hasChildren())return Gv(e);if(n){const t=e.children[Qi]?ym(e.children[Qi],!1):"",x=[];return Wl(e.children,(R,Y)=>{Y!==Qi&&x.push(`${Y}:${ym(R,!1)}`)}),x.length>0?`${t}(${x.join("//")})`:t}{const t=function o9(e,n){let t=[];return Wl(e.children,(x,R)=>{R===Qi&&(t=t.concat(n(x,R)))}),Wl(e.children,(x,R)=>{R!==Qi&&(t=t.concat(n(x,R)))}),t}(e,(x,R)=>R===Qi?[ym(e.children[Qi],!1)]:[`${R}:${ym(x,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Qi]?`${Gv(e)}/${t[0]}`:`${Gv(e)}/(${t.join("//")})`}}function FM(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qv(e){return FM(e).replace(/%3B/gi,";")}function lb(e){return FM(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wv(e){return decodeURIComponent(e)}function zM(e){return Wv(e.replace(/\+/g,"%20"))}function BM(e){return`${lb(e.path)}${function l9(e){return Object.keys(e).map(n=>`;${lb(n)}=${lb(e[n])}`).join("")}(e.parameters)}`}const c9=/^[^\/()?;=#]+/;function $v(e){const n=e.match(c9);return n?n[0]:""}const f9=/^[^=?&#]+/,d9=/^[^&#]+/;class g9{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _o([],{}):new _o([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let x={};return this.peekStartsWith("(")&&(x=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(x[Qi]=new _o(n,t)),x}parseSegment(){const n=$v(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Un(4009,Vv);return this.capture(n),new mm(Wv(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=$v(this.remaining);if(!t)return;this.capture(t);let x="";if(this.consumeOptional("=")){const R=$v(this.remaining);R&&(x=R,this.capture(x))}n[Wv(t)]=Wv(x)}parseQueryParam(n){const t=function h9(e){const n=e.match(f9);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let x="";if(this.consumeOptional("=")){const ce=function p9(e){const n=e.match(d9);return n?n[0]:""}(this.remaining);ce&&(x=ce,this.capture(x))}const R=zM(t),Y=zM(x);if(n.hasOwnProperty(R)){let ce=n[R];Array.isArray(ce)||(ce=[ce],n[R]=ce),ce.push(Y)}else n[R]=Y}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const x=$v(this.remaining),R=this.remaining[x.length];if("/"!==R&&")"!==R&&";"!==R)throw new Un(4010,Vv);let Y;x.indexOf(":")>-1?(Y=x.slice(0,x.indexOf(":")),this.capture(Y),this.capture(":")):n&&(Y=Qi);const ce=this.parseChildren();t[Y]=1===Object.keys(ce).length?ce[Qi]:new _o([],ce),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Un(4011,Vv)}}function ub(e){return e.segments.length>0?new _o([],{[Qi]:e}):e}function Zv(e){const n={};for(const x of Object.keys(e.children)){const Y=Zv(e.children[x]);(Y.segments.length>0||Y.hasChildren())&&(n[x]=Y)}return function m9(e){if(1===e.numberOfChildren&&e.children[Qi]){const n=e.children[Qi];return new _o(e.segments.concat(n.segments),n.children)}return e}(new _o(e.segments,n))}function Cd(e){return e instanceof kd}function _9(e,n,t,x,R){if(0===t.length)return u0(n.root,n.root,n.root,x,R);const Y=function VM(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new UM(!0,0,e);let n=0,t=!1;const x=e.reduce((R,Y,ce)=>{if("object"==typeof Y&&null!=Y){if(Y.outlets){const Re={};return Wl(Y.outlets,(He,tt)=>{Re[tt]="string"==typeof He?He.split("/"):He}),[...R,{outlets:Re}]}if(Y.segmentPath)return[...R,Y.segmentPath]}return"string"!=typeof Y?[...R,Y]:0===ce?(Y.split("/").forEach((Re,He)=>{0==He&&"."===Re||(0==He&&""===Re?t=!0:".."===Re?n++:""!=Re&&R.push(Re))}),R):[...R,Y]},[]);return new UM(t,n,x)}(t);return Y.toRoot()?u0(n.root,n.root,new _o([],{}),x,R):function ce(He){const tt=function b9(e,n,t,x){if(e.isAbsolute)return new c0(n.root,!0,0);if(-1===x)return new c0(t,t===n.root,0);return function HM(e,n,t){let x=e,R=n,Y=t;for(;Y>R;){if(Y-=R,x=x.parent,!x)throw new Un(4005,!1);R=x.segments.length}return new c0(x,!1,R-Y)}(t,x+(_m(e.commands[0])?0:1),e.numberOfDoubleDots)}(Y,n,e.snapshot?._urlSegment,He),xt=tt.processChildren?f0(tt.segmentGroup,tt.index,Y.commands):fb(tt.segmentGroup,tt.index,Y.commands);return u0(n.root,tt.segmentGroup,xt,x,R)}(e.snapshot?._lastPathIndex)}function _m(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function xm(e){return"object"==typeof e&&null!=e&&e.outlets}function u0(e,n,t,x,R){let ce,Y={};x&&Wl(x,(He,tt)=>{Y[tt]=Array.isArray(He)?He.map(xt=>`${xt}`):`${He}`}),ce=e===n?t:jM(e,n,t);const Re=ub(Zv(ce));return new kd(Re,Y,R)}function jM(e,n,t){const x={};return Wl(e.children,(R,Y)=>{x[Y]=R===n?t:jM(R,n,t)}),new _o(e.segments,x)}class UM{constructor(n,t,x){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=x,n&&x.length>0&&_m(x[0]))throw new Un(4003,!1);const R=x.find(xm);if(R&&R!==OM(x))throw new Un(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class c0{constructor(n,t,x){this.segmentGroup=n,this.processChildren=t,this.index=x}}function fb(e,n,t){if(e||(e=new _o([],{})),0===e.segments.length&&e.hasChildren())return f0(e,n,t);const x=function T9(e,n,t){let x=0,R=n;const Y={match:!1,pathIndex:0,commandIndex:0};for(;R<e.segments.length;){if(x>=t.length)return Y;const ce=e.segments[R],Re=t[x];if(xm(Re))break;const He=`${Re}`,tt=x<t.length-1?t[x+1]:null;if(R>0&&void 0===He)break;if(He&&tt&&"object"==typeof tt&&void 0===tt.outlets){if(!qM(He,tt,ce))return Y;x+=2}else{if(!qM(He,{},ce))return Y;x++}R++}return{match:!0,pathIndex:R,commandIndex:x}}(e,n,t),R=t.slice(x.commandIndex);if(x.match&&x.pathIndex<e.segments.length){const Y=new _o(e.segments.slice(0,x.pathIndex),{});return Y.children[Qi]=new _o(e.segments.slice(x.pathIndex),e.children),f0(Y,0,R)}return x.match&&0===R.length?new _o(e.segments,{}):x.match&&!e.hasChildren()?hb(e,n,t):x.match?f0(e,0,R):hb(e,n,t)}function f0(e,n,t){if(0===t.length)return new _o(e.segments,{});{const x=function w9(e){return xm(e[0])?e[0].outlets:{[Qi]:e}}(t),R={};return!x[Qi]&&e.children[Qi]&&1===e.numberOfChildren&&0===e.children[Qi].segments.length?f0(e.children[Qi],n,t):(Wl(x,(Y,ce)=>{"string"==typeof Y&&(Y=[Y]),null!==Y&&(R[ce]=fb(e.children[ce],n,Y))}),Wl(e.children,(Y,ce)=>{void 0===x[ce]&&(R[ce]=Y)}),new _o(e.segments,R))}}function hb(e,n,t){const x=e.segments.slice(0,n);let R=0;for(;R<t.length;){const Y=t[R];if(xm(Y)){const He=M9(Y.outlets);return new _o(x,He)}if(0===R&&_m(t[0])){x.push(new mm(e.segments[n].path,GM(t[0]))),R++;continue}const ce=xm(Y)?Y.outlets[Qi]:`${Y}`,Re=R<t.length-1?t[R+1]:null;ce&&Re&&_m(Re)?(x.push(new mm(ce,GM(Re))),R+=2):(x.push(new mm(ce,{})),R++)}return new _o(x,{})}function M9(e){const n={};return Wl(e,(t,x)=>{"string"==typeof t&&(t=[t]),null!==t&&(n[x]=hb(new _o([],{}),0,t))}),n}function GM(e){const n={};return Wl(e,(t,x)=>n[x]=`${t}`),n}function qM(e,n,t){return e==t.path&&gf(n,t.parameters)}const bm="imperative";class mf{constructor(n,t){this.id=n,this.url=t}}class db extends mf{constructor(n,t,x="imperative",R=null){super(n,t),this.type=0,this.navigationTrigger=x,this.restoredState=R}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ed extends mf{constructor(n,t,x){super(n,t),this.urlAfterRedirects=x,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Yv extends mf{constructor(n,t,x,R){super(n,t),this.reason=x,this.code=R,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class WM extends mf{constructor(n,t,x,R){super(n,t),this.reason=x,this.code=R,this.type=16}}class $M extends mf{constructor(n,t,x,R){super(n,t),this.error=x,this.target=R,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class A9 extends mf{constructor(n,t,x,R){super(n,t),this.urlAfterRedirects=x,this.state=R,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class k9 extends mf{constructor(n,t,x,R){super(n,t),this.urlAfterRedirects=x,this.state=R,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class S9 extends mf{constructor(n,t,x,R,Y){super(n,t),this.urlAfterRedirects=x,this.state=R,this.shouldActivate=Y,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class C9 extends mf{constructor(n,t,x,R){super(n,t),this.urlAfterRedirects=x,this.state=R,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class E9 extends mf{constructor(n,t,x,R){super(n,t),this.urlAfterRedirects=x,this.state=R,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class D9{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class O9{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class I9{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class P9{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class R9{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class L9{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZM{constructor(n,t,x){this.routerEvent=n,this.position=t,this.anchor=x,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let F9=(()=>{class e{createUrlTree(t,x,R,Y,ce,Re){return _9(t||x.root,R,Y,ce,Re)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:e.\u0275fac}),e})(),z9=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:function(n){return F9.\u0275fac(n)},providedIn:"root"}),e})();class YM{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=pb(n,this._root);return t?t.children.map(x=>x.value):[]}firstChild(n){const t=pb(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=gb(n,this._root);return t.length<2?[]:t[t.length-2].children.map(R=>R.value).filter(R=>R!==n)}pathFromRoot(n){return gb(n,this._root).map(t=>t.value)}}function pb(e,n){if(e===n.value)return n;for(const t of n.children){const x=pb(e,t);if(x)return x}return null}function gb(e,n){if(e===n.value)return[n];for(const t of n.children){const x=gb(e,t);if(x.length)return x.unshift(n),x}return[]}class Wf{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function h0(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class XM extends YM{constructor(n,t){super(n),this.snapshot=t,mb(this,n)}toString(){return this.snapshot.toString()}}function JM(e,n){const t=function B9(e,n){const ce=new Xv([],{},{},"",{},Qi,n,null,e.root,-1,{});return new QM("",new Wf(ce,[]))}(e,n),x=new js([new mm("",{})]),R=new js({}),Y=new js({}),ce=new js({}),Re=new js(""),He=new d0(x,R,ce,Re,Y,Qi,n,t.root);return He.snapshot=t.root,new XM(new Wf(He,[]),t)}class d0{constructor(n,t,x,R,Y,ce,Re,He){this.url=n,this.params=t,this.queryParams=x,this.fragment=R,this.data=Y,this.outlet=ce,this.component=Re,this.title=this.data?.pipe(X(tt=>tt[gm]))??Pi(void 0),this._futureSnapshot=He}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(X(n=>l0(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(X(n=>l0(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function KM(e,n="emptyOnly"){const t=e.pathFromRoot;let x=0;if("always"!==n)for(x=t.length-1;x>=1;){const R=t[x],Y=t[x-1];if(R.routeConfig&&""===R.routeConfig.path)x--;else{if(Y.component)break;x--}}return function j9(e){return e.reduce((n,t)=>({params:{...n.params,...t.params},data:{...n.data,...t.data},resolve:{...t.data,...n.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(x))}class Xv{get title(){return this.data?.[gm]}constructor(n,t,x,R,Y,ce,Re,He,tt,xt,Zt){this.url=n,this.params=t,this.queryParams=x,this.fragment=R,this.data=Y,this.outlet=ce,this.component=Re,this.routeConfig=He,this._urlSegment=tt,this._lastPathIndex=xt,this._resolve=Zt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=l0(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=l0(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(x=>x.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class QM extends YM{constructor(n,t){super(t),this.url=n,mb(this,t)}toString(){return eA(this._root)}}function mb(e,n){n.value._routerState=e,n.children.forEach(t=>mb(e,t))}function eA(e){const n=e.children.length>0?` { ${e.children.map(eA).join(", ")} } `:"";return`${e.value}${n}`}function vb(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,gf(n.queryParams,t.queryParams)||e.queryParams.next(t.queryParams),n.fragment!==t.fragment&&e.fragment.next(t.fragment),gf(n.params,t.params)||e.params.next(t.params),function e9(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!gf(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.url.next(t.url),gf(n.data,t.data)||e.data.next(t.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function yb(e,n){const t=gf(e.params,n.params)&&function i9(e,n){return Sd(e,n)&&e.every((t,x)=>gf(t.parameters,n[x].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||yb(e.parent,n.parent))}function wm(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const x=t.value;x._futureSnapshot=n.value;const R=function V9(e,n,t){return n.children.map(x=>{for(const R of t.children)if(e.shouldReuseRoute(x.value,R.value.snapshot))return wm(e,x,R);return wm(e,x)})}(e,n,t);return new Wf(x,R)}{if(e.shouldAttach(n.value)){const Y=e.retrieve(n.value);if(null!==Y){const ce=Y.route;return ce.value._futureSnapshot=n.value,ce.children=n.children.map(Re=>wm(e,Re)),ce}}const x=function H9(e){return new d0(new js(e.url),new js(e.params),new js(e.queryParams),new js(e.fragment),new js(e.data),e.outlet,e.component,e)}(n.value),R=n.children.map(Y=>wm(e,Y));return new Wf(x,R)}}const _b="ngNavigationCancelingError";function tA(e,n){const{redirectTo:t,navigationBehaviorOptions:x}=Cd(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,R=nA(!1,0,n);return R.url=t,R.navigationBehaviorOptions=x,R}function nA(e,n,t){const x=new Error("NavigationCancelingError: "+(e||""));return x[_b]=!0,x.cancellationCode=n,t&&(x.url=t),x}function rA(e){return iA(e)&&Cd(e.url)}function iA(e){return e&&e[_b]}class G9{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Tm,this.attachRef=null}}let Tm=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,x){const R=this.getOrCreateContext(t);R.outlet=x,this.contexts.set(t,R)}onChildOutletDestroyed(t){const x=this.getContext(t);x&&(x.outlet=null,x.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let x=this.getContext(t);return x||(x=new G9,this.contexts.set(t,x)),x}getContext(t){return this.contexts.get(t)||null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Jv=!1;let xb=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Qi,this.activateEvents=new Ii,this.deactivateEvents=new Ii,this.attachEvents=new Ii,this.detachEvents=new Ii,this.parentContexts=Li(Tm),this.location=Li(xc),this.changeDetector=Li(Ku),this.environmentInjector=Li(Ho)}ngOnChanges(t){if(t.name){const{firstChange:x,previousValue:R}=t.name;if(x)return;this.isTrackedInParentContexts(R)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(R)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Un(4012,Jv);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Un(4012,Jv);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Un(4012,Jv);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,x){this.activated=t,this._activatedRoute=x,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,x){if(this.isActivated)throw new Un(4013,Jv);this._activatedRoute=t;const R=this.location,ce=t.snapshot.component,Re=this.parentContexts.getOrCreateContext(this.name).children,He=new q9(t,Re,R.injector);if(x&&function W9(e){return!!e.resolveComponentFactory}(x)){const tt=x.resolveComponentFactory(ce);this.activated=R.createComponent(tt,R.length,He)}else this.activated=R.createComponent(ce,{index:R.length,injector:He,environmentInjector:x??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=ni({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Eo]}),e})();class q9{constructor(n,t,x){this.route=n,this.childContexts=t,this.parent=x}get(n,t){return n===d0?this.route:n===Tm?this.childContexts:this.parent.get(n,t)}}let bb=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=yo({type:e,selectors:[["ng-component"]],standalone:!0,features:[ml],decls:1,vars:0,template:function(t,x){1&t&&zs(0,"router-outlet")},dependencies:[xb],encapsulation:2}),e})();function oA(e,n){return e.providers&&!e._injector&&(e._injector=uv(e.providers,n,`Route: ${e.path}`)),e._injector??n}function Tb(e){const n=e.children&&e.children.map(Tb),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==Qi&&(t.component=bb),t}function Ac(e){return e.outlet||Qi}function aA(e,n){const t=e.filter(x=>Ac(x)===n);return t.push(...e.filter(x=>Ac(x)!==n)),t}function Mm(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class J9{constructor(n,t,x,R){this.routeReuseStrategy=n,this.futureState=t,this.currState=x,this.forwardEvent=R}activate(n){const t=this.futureState._root,x=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,x,n),vb(this.futureState.root),this.activateChildRoutes(t,x,n)}deactivateChildRoutes(n,t,x){const R=h0(t);n.children.forEach(Y=>{const ce=Y.value.outlet;this.deactivateRoutes(Y,R[ce],x),delete R[ce]}),Wl(R,(Y,ce)=>{this.deactivateRouteAndItsChildren(Y,x)})}deactivateRoutes(n,t,x){const R=n.value,Y=t?t.value:null;if(R===Y)if(R.component){const ce=x.getContext(R.outlet);ce&&this.deactivateChildRoutes(n,t,ce.children)}else this.deactivateChildRoutes(n,t,x);else Y&&this.deactivateRouteAndItsChildren(t,x)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const x=t.getContext(n.value.outlet),R=x&&n.value.component?x.children:t,Y=h0(n);for(const ce of Object.keys(Y))this.deactivateRouteAndItsChildren(Y[ce],R);if(x&&x.outlet){const ce=x.outlet.detach(),Re=x.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:ce,route:n,contexts:Re})}}deactivateRouteAndOutlet(n,t){const x=t.getContext(n.value.outlet),R=x&&n.value.component?x.children:t,Y=h0(n);for(const ce of Object.keys(Y))this.deactivateRouteAndItsChildren(Y[ce],R);x&&x.outlet&&(x.outlet.deactivate(),x.children.onOutletDeactivated(),x.attachRef=null,x.resolver=null,x.route=null)}activateChildRoutes(n,t,x){const R=h0(t);n.children.forEach(Y=>{this.activateRoutes(Y,R[Y.value.outlet],x),this.forwardEvent(new L9(Y.value.snapshot))}),n.children.length&&this.forwardEvent(new P9(n.value.snapshot))}activateRoutes(n,t,x){const R=n.value,Y=t?t.value:null;if(vb(R),R===Y)if(R.component){const ce=x.getOrCreateContext(R.outlet);this.activateChildRoutes(n,t,ce.children)}else this.activateChildRoutes(n,t,x);else if(R.component){const ce=x.getOrCreateContext(R.outlet);if(this.routeReuseStrategy.shouldAttach(R.snapshot)){const Re=this.routeReuseStrategy.retrieve(R.snapshot);this.routeReuseStrategy.store(R.snapshot,null),ce.children.onOutletReAttached(Re.contexts),ce.attachRef=Re.componentRef,ce.route=Re.route.value,ce.outlet&&ce.outlet.attach(Re.componentRef,Re.route.value),vb(Re.route.value),this.activateChildRoutes(n,null,ce.children)}else{const Re=Mm(R.snapshot),He=Re?.get(Fs)??null;ce.attachRef=null,ce.route=R,ce.resolver=He,ce.injector=Re,ce.outlet&&ce.outlet.activateWith(R,ce.injector),this.activateChildRoutes(n,null,ce.children)}}else this.activateChildRoutes(n,null,x)}}class sA{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class Kv{constructor(n,t){this.component=n,this.route=t}}function K9(e,n,t){const x=e._root;return Am(x,n?n._root:null,t,[x.value])}function p0(e,n){const t=Symbol(),x=n.get(e,t);return x===t?"function"!=typeof e||function Tr(e){return null!==wr(e)}(e)?n.get(e):e:x}function Am(e,n,t,x,R={canDeactivateChecks:[],canActivateChecks:[]}){const Y=h0(n);return e.children.forEach(ce=>{(function eI(e,n,t,x,R={canDeactivateChecks:[],canActivateChecks:[]}){const Y=e.value,ce=n?n.value:null,Re=t?t.getContext(e.value.outlet):null;if(ce&&Y.routeConfig===ce.routeConfig){const He=function tI(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!Sd(e.url,n.url);case"pathParamsOrQueryParamsChange":return!Sd(e.url,n.url)||!gf(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yb(e,n)||!gf(e.queryParams,n.queryParams);default:return!yb(e,n)}}(ce,Y,Y.routeConfig.runGuardsAndResolvers);He?R.canActivateChecks.push(new sA(x)):(Y.data=ce.data,Y._resolvedData=ce._resolvedData),Am(e,n,Y.component?Re?Re.children:null:t,x,R),He&&Re&&Re.outlet&&Re.outlet.isActivated&&R.canDeactivateChecks.push(new Kv(Re.outlet.component,ce))}else ce&&km(n,Re,R),R.canActivateChecks.push(new sA(x)),Am(e,null,Y.component?Re?Re.children:null:t,x,R)})(ce,Y[ce.value.outlet],t,x.concat([ce.value]),R),delete Y[ce.value.outlet]}),Wl(Y,(ce,Re)=>km(ce,t.getContext(Re),R)),R}function km(e,n,t){const x=h0(e),R=e.value;Wl(x,(Y,ce)=>{km(Y,R.component?n?n.children.getContext(ce):null:n,t)}),t.canDeactivateChecks.push(new Kv(R.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,R))}function Sm(e){return"function"==typeof e}function Mb(e){return e instanceof zv||"EmptyError"===e?.name}const Qv=Symbol("INITIAL_VALUE");function g0(){return Mc(e=>Bv(e.map(n=>n.pipe(_l(1),function jv(...e){const n=kt(e);return G((t,x)=>{(n?dm(e,t,n):dm(e,t)).subscribe(x)})}(Qv)))).pipe(X(n=>{for(const t of n)if(!0!==t){if(t===Qv)return Qv;if(!1===t||t instanceof kd)return t}return!0}),yl(n=>n!==Qv),_l(1)))}function lA(e){return function I(...e){return P(e)}(Ol(n=>{if(Cd(n))throw tA(0,n)}),X(n=>!0===n))}const Ab={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function uA(e,n,t,x,R){const Y=kb(e,n,t);return Y.matched?function yI(e,n,t,x){const R=n.canMatch;return R&&0!==R.length?Pi(R.map(ce=>{const Re=p0(ce,e);return zh(function sI(e){return e&&Sm(e.canMatch)}(Re)?Re.canMatch(n,t):e.runInContext(()=>Re(n,t)))})).pipe(g0(),lA()):Pi(!0)}(x=oA(n,x),n,t).pipe(X(ce=>!0===ce?Y:{...Ab})):Pi(Y)}function kb(e,n,t){if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{...Ab}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const R=(n.matcher||QO)(t,e,n);if(!R)return{...Ab};const Y={};Wl(R.posParams,(Re,He)=>{Y[He]=Re.path});const ce=R.consumed.length>0?{...Y,...R.consumed[R.consumed.length-1].parameters}:Y;return{matched:!0,consumedSegments:R.consumed,remainingSegments:t.slice(R.consumed.length),parameters:ce,positionalParamSegments:R.posParams??{}}}function ey(e,n,t,x){if(t.length>0&&function bI(e,n,t){return t.some(x=>ty(e,n,x)&&Ac(x)!==Qi)}(e,t,x)){const Y=new _o(n,function xI(e,n,t,x){const R={};R[Qi]=x,x._sourceSegment=e,x._segmentIndexShift=n.length;for(const Y of t)if(""===Y.path&&Ac(Y)!==Qi){const ce=new _o([],{});ce._sourceSegment=e,ce._segmentIndexShift=n.length,R[Ac(Y)]=ce}return R}(e,n,x,new _o(t,e.children)));return Y._sourceSegment=e,Y._segmentIndexShift=n.length,{segmentGroup:Y,slicedSegments:[]}}if(0===t.length&&function wI(e,n,t){return t.some(x=>ty(e,n,x))}(e,t,x)){const Y=new _o(e.segments,function _I(e,n,t,x,R){const Y={};for(const ce of x)if(ty(e,t,ce)&&!R[Ac(ce)]){const Re=new _o([],{});Re._sourceSegment=e,Re._segmentIndexShift=n.length,Y[Ac(ce)]=Re}return{...R,...Y}}(e,n,t,x,e.children));return Y._sourceSegment=e,Y._segmentIndexShift=n.length,{segmentGroup:Y,slicedSegments:t}}const R=new _o(e.segments,e.children);return R._sourceSegment=e,R._segmentIndexShift=n.length,{segmentGroup:R,slicedSegments:t}}function ty(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}function cA(e,n,t,x){return!!(Ac(e)===x||x!==Qi&&ty(n,t,e))&&("**"===e.path||kb(n,e,t).matched)}function fA(e,n,t){return 0===n.length&&!e.children[t]}const ny=!1;class ry{constructor(n){this.segmentGroup=n||null}}class hA{constructor(n){this.urlTree=n}}function Cm(e){return pm(new ry(e))}function dA(e){return pm(new hA(e))}class kI{constructor(n,t,x,R,Y){this.injector=n,this.configLoader=t,this.urlSerializer=x,this.urlTree=R,this.config=Y,this.allowRedirects=!0}apply(){const n=ey(this.urlTree.root,[],[],this.config).segmentGroup,t=new _o(n.segments,n.children);return this.expandSegmentGroup(this.injector,this.config,t,Qi).pipe(X(Y=>this.createUrlTree(Zv(Y),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Fh(Y=>{if(Y instanceof hA)return this.allowRedirects=!1,this.match(Y.urlTree);throw Y instanceof ry?this.noMatchError(Y):Y}))}match(n){return this.expandSegmentGroup(this.injector,this.config,n.root,Qi).pipe(X(R=>this.createUrlTree(Zv(R),n.queryParams,n.fragment))).pipe(Fh(R=>{throw R instanceof ry?this.noMatchError(R):R}))}noMatchError(n){return new Un(4002,ny)}createUrlTree(n,t,x){const R=ub(n);return new kd(R,t,x)}expandSegmentGroup(n,t,x,R){return 0===x.segments.length&&x.hasChildren()?this.expandChildren(n,t,x).pipe(X(Y=>new _o([],Y))):this.expandSegment(n,x,t,x.segments,R,!0)}expandChildren(n,t,x){const R=[];for(const Y of Object.keys(x.children))"primary"===Y?R.unshift(Y):R.push(Y);return tr(R).pipe(Rh(Y=>{const ce=x.children[Y],Re=aA(t,Y);return this.expandSegmentGroup(n,Re,ce,Y).pipe(X(He=>({segment:He,outlet:Y})))}),kM((Y,ce)=>(Y[ce.outlet]=ce.segment,Y),{}),SM())}expandSegment(n,t,x,R,Y,ce){return tr(x).pipe(Rh(Re=>this.expandSegmentAgainstRoute(n,t,x,Re,R,Y,ce).pipe(Fh(tt=>{if(tt instanceof ry)return Pi(null);throw tt}))),Nh(Re=>!!Re),Fh((Re,He)=>{if(Mb(Re))return fA(t,R,Y)?Pi(new _o([],{})):Cm(t);throw Re}))}expandSegmentAgainstRoute(n,t,x,R,Y,ce,Re){return cA(R,t,Y,ce)?void 0===R.redirectTo?this.matchSegmentAgainstRoute(n,t,R,Y,ce):Re&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,t,x,R,Y,ce):Cm(t):Cm(t)}expandSegmentAgainstRouteUsingRedirect(n,t,x,R,Y,ce){return"**"===R.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,x,R,ce):this.expandRegularSegmentAgainstRouteUsingRedirect(n,t,x,R,Y,ce)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,x,R){const Y=this.applyRedirectCommands([],x.redirectTo,{});return x.redirectTo.startsWith("/")?dA(Y):this.lineralizeSegments(x,Y).pipe(st(ce=>{const Re=new _o(ce,{});return this.expandSegment(n,Re,t,ce,R,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,t,x,R,Y,ce){const{matched:Re,consumedSegments:He,remainingSegments:tt,positionalParamSegments:xt}=kb(t,R,Y);if(!Re)return Cm(t);const Zt=this.applyRedirectCommands(He,R.redirectTo,xt);return R.redirectTo.startsWith("/")?dA(Zt):this.lineralizeSegments(R,Zt).pipe(st(rn=>this.expandSegment(n,t,x,rn.concat(tt),ce,!1)))}matchSegmentAgainstRoute(n,t,x,R,Y){return"**"===x.path?(n=oA(x,n),x.loadChildren?(x._loadedRoutes?Pi({routes:x._loadedRoutes,injector:x._loadedInjector}):this.configLoader.loadChildren(n,x)).pipe(X(Re=>(x._loadedRoutes=Re.routes,x._loadedInjector=Re.injector,new _o(R,{})))):Pi(new _o(R,{}))):uA(t,x,R,n).pipe(Mc(({matched:ce,consumedSegments:Re,remainingSegments:He})=>ce?this.getChildConfig(n=x._injector??n,x,R).pipe(st(xt=>{const Zt=xt.injector??n,rn=xt.routes,{segmentGroup:yn,slicedSegments:Jn}=ey(t,Re,He,rn),ar=new _o(yn.segments,yn.children);if(0===Jn.length&&ar.hasChildren())return this.expandChildren(Zt,rn,ar).pipe(X(Mr=>new _o(Re,Mr)));if(0===rn.length&&0===Jn.length)return Pi(new _o(Re,{}));const gr=Ac(x)===Y;return this.expandSegment(Zt,ar,rn,Jn,gr?Qi:Y,!0).pipe(X(Br=>new _o(Re.concat(Br.segments),Br.children)))})):Cm(t)))}getChildConfig(n,t,x){return t.children?Pi({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?Pi({routes:t._loadedRoutes,injector:t._loadedInjector}):function vI(e,n,t,x){const R=n.canLoad;return void 0===R||0===R.length?Pi(!0):Pi(R.map(ce=>{const Re=p0(ce,e);return zh(function rI(e){return e&&Sm(e.canLoad)}(Re)?Re.canLoad(n,t):e.runInContext(()=>Re(n,t)))})).pipe(g0(),lA())}(n,t,x).pipe(st(R=>R?this.configLoader.loadChildren(n,t).pipe(Ol(Y=>{t._loadedRoutes=Y.routes,t._loadedInjector=Y.injector})):function MI(e){return pm(nA(ny,3))}())):Pi({routes:[],injector:n})}lineralizeSegments(n,t){let x=[],R=t.root;for(;;){if(x=x.concat(R.segments),0===R.numberOfChildren)return Pi(x);if(R.numberOfChildren>1||!R.children[Qi])return pm(new Un(4e3,ny));R=R.children[Qi]}}applyRedirectCommands(n,t,x){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,x)}applyRedirectCreateUrlTree(n,t,x,R){const Y=this.createSegmentGroup(n,t.root,x,R);return new kd(Y,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const x={};return Wl(n,(R,Y)=>{if("string"==typeof R&&R.startsWith(":")){const Re=R.substring(1);x[Y]=t[Re]}else x[Y]=R}),x}createSegmentGroup(n,t,x,R){const Y=this.createSegments(n,t.segments,x,R);let ce={};return Wl(t.children,(Re,He)=>{ce[He]=this.createSegmentGroup(n,Re,x,R)}),new _o(Y,ce)}createSegments(n,t,x,R){return t.map(Y=>Y.path.startsWith(":")?this.findPosParam(n,Y,R):this.findOrReturn(Y,x))}findPosParam(n,t,x){const R=x[t.path.substring(1)];if(!R)throw new Un(4001,ny);return R}findOrReturn(n,t){let x=0;for(const R of t){if(R.path===n.path)return t.splice(x),R;x++}return n}}class CI{}class OI{constructor(n,t,x,R,Y,ce,Re){this.injector=n,this.rootComponentType=t,this.config=x,this.urlTree=R,this.url=Y,this.paramsInheritanceStrategy=ce,this.urlSerializer=Re}recognize(){const n=ey(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,Qi).pipe(X(t=>{if(null===t)return null;const x=new Xv([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Qi,this.rootComponentType,null,this.urlTree.root,-1,{}),R=new Wf(x,t),Y=new QM(this.url,R);return this.inheritParamsAndData(Y._root),Y}))}inheritParamsAndData(n){const t=n.value,x=KM(t,this.paramsInheritanceStrategy);t.params=Object.freeze(x.params),t.data=Object.freeze(x.data),n.children.forEach(R=>this.inheritParamsAndData(R))}processSegmentGroup(n,t,x,R){return 0===x.segments.length&&x.hasChildren()?this.processChildren(n,t,x):this.processSegment(n,t,x,x.segments,R)}processChildren(n,t,x){return tr(Object.keys(x.children)).pipe(Rh(R=>{const Y=x.children[R],ce=aA(t,R);return this.processSegmentGroup(n,ce,Y,R)}),kM((R,Y)=>R&&Y?(R.push(...Y),R):null),function JO(e,n=!1){return G((t,x)=>{let R=0;t.subscribe(H(x,Y=>{const ce=e(Y,R++);(ce||n)&&x.next(Y),!ce&&x.complete()}))})}(R=>null!==R),Uv(null),SM(),X(R=>{if(null===R)return null;const Y=gA(R);return function II(e){e.sort((n,t)=>n.value.outlet===Qi?-1:t.value.outlet===Qi?1:n.value.outlet.localeCompare(t.value.outlet))}(Y),Y}))}processSegment(n,t,x,R,Y){return tr(t).pipe(Rh(ce=>this.processSegmentAgainstRoute(ce._injector??n,ce,x,R,Y)),Nh(ce=>!!ce),Fh(ce=>{if(Mb(ce))return fA(x,R,Y)?Pi([]):Pi(null);throw ce}))}processSegmentAgainstRoute(n,t,x,R,Y){if(t.redirectTo||!cA(t,x,R,Y))return Pi(null);let ce;if("**"===t.path){const Re=R.length>0?OM(R).parameters:{},He=vA(x)+R.length;ce=Pi({snapshot:new Xv(R,Re,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,yA(t),Ac(t),t.component??t._loadedComponent??null,t,mA(x),He,_A(t)),consumedSegments:[],remainingSegments:[]})}else ce=uA(x,t,R,n).pipe(X(({matched:Re,consumedSegments:He,remainingSegments:tt,parameters:xt})=>{if(!Re)return null;const Zt=vA(x)+He.length;return{snapshot:new Xv(He,xt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,yA(t),Ac(t),t.component??t._loadedComponent??null,t,mA(x),Zt,_A(t)),consumedSegments:He,remainingSegments:tt}}));return ce.pipe(Mc(Re=>{if(null===Re)return Pi(null);const{snapshot:He,consumedSegments:tt,remainingSegments:xt}=Re;n=t._injector??n;const Zt=t._loadedInjector??n,rn=function PI(e){return e.children?e.children:e.loadChildren?e._loadedRoutes:[]}(t),{segmentGroup:yn,slicedSegments:Jn}=ey(x,tt,xt,rn.filter(gr=>void 0===gr.redirectTo));if(0===Jn.length&&yn.hasChildren())return this.processChildren(Zt,rn,yn).pipe(X(gr=>null===gr?null:[new Wf(He,gr)]));if(0===rn.length&&0===Jn.length)return Pi([new Wf(He,[])]);const ar=Ac(t)===Y;return this.processSegment(Zt,rn,yn,Jn,ar?Qi:Y).pipe(X(gr=>null===gr?null:[new Wf(He,gr)]))}))}}function RI(e){const n=e.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function gA(e){const n=[],t=new Set;for(const x of e){if(!RI(x)){n.push(x);continue}const R=n.find(Y=>x.value.routeConfig===Y.value.routeConfig);void 0!==R?(R.children.push(...x.children),t.add(R)):n.push(x)}for(const x of t){const R=gA(x.children);n.push(new Wf(x.value,R))}return n.filter(x=>!t.has(x))}function mA(e){let n=e;for(;n._sourceSegment;)n=n._sourceSegment;return n}function vA(e){let n=e,t=n._segmentIndexShift??0;for(;n._sourceSegment;)n=n._sourceSegment,t+=n._segmentIndexShift??0;return t-1}function yA(e){return e.data||{}}function _A(e){return e.resolve||{}}function FI(e,n){return st(t=>{const{targetSnapshot:x,guards:{canActivateChecks:R}}=t;if(!R.length)return Pi(t);let Y=0;return tr(R).pipe(Rh(ce=>function zI(e,n,t,x){const R=e.routeConfig,Y=e._resolve;return void 0!==R?.title&&!xA(R)&&(Y[gm]=R.title),function BI(e,n,t,x){const R=function jI(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===R.length)return Pi({});const Y={};return tr(R).pipe(st(ce=>function UI(e,n,t,x){const R=Mm(n)??x,Y=p0(e,R);return zh(Y.resolve?Y.resolve(n,t):R.runInContext(()=>Y(n,t)))}(e[ce],n,t,x).pipe(Nh(),Ol(Re=>{Y[ce]=Re}))),ob(1),function CM(e){return X(()=>e)}(Y),Fh(ce=>Mb(ce)?bt:pm(ce)))}(Y,e,n,x).pipe(X(ce=>(e._resolvedData=ce,e.data=KM(e,t).resolve,R&&xA(R)&&(e.data[gm]=R.title),null)))}(ce.route,x,e,n)),Ol(()=>Y++),ob(1),st(ce=>Y===R.length?Pi(t):bt))})}function xA(e){return"string"==typeof e.title||null===e.title}function Sb(e){return Mc(n=>{const t=e(n);return t?tr(t).pipe(X(()=>n)):Pi(n)})}const m0=new yi("ROUTES");let Cb=(()=>{class e{constructor(t,x){this.injector=t,this.compiler=x,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Pi(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const x=zh(t.loadComponent()).pipe(X(wA),Ol(Y=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=Y}),ab(()=>{this.componentLoaders.delete(t)})),R=new MM(x,()=>new Z).pipe(ib());return this.componentLoaders.set(t,R),R}loadChildren(t,x){if(this.childrenLoaders.get(x))return this.childrenLoaders.get(x);if(x._loadedRoutes)return Pi({routes:x._loadedRoutes,injector:x._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(x);const Y=this.loadModuleFactoryOrRoutes(x.loadChildren).pipe(X(Re=>{this.onLoadEndListener&&this.onLoadEndListener(x);let He,tt,xt=!1;Array.isArray(Re)?tt=Re:(He=Re.create(t).injector,tt=DM(He.get(m0,[],zr.Self|zr.Optional)));return{routes:tt.map(Tb),injector:He}}),ab(()=>{this.childrenLoaders.delete(x)})),ce=new MM(Y,()=>new Z).pipe(ib());return this.childrenLoaders.set(x,ce),ce}loadModuleFactoryOrRoutes(t){return zh(t()).pipe(X(wA),st(R=>R instanceof q3||Array.isArray(R)?Pi(R):tr(this.compiler.compileModuleAsync(R))))}}return e.\u0275fac=function(t){return new(t||e)($r(Gl),$r(LT))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function wA(e){return function HI(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let oy=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Z,this.configLoader=Li(Cb),this.environmentInjector=Li(Ho),this.urlSerializer=Li(vm),this.rootContexts=Li(Tm),this.navigationId=0,this.afterPreactivation=()=>Pi(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=R=>this.events.next(new O9(R)),this.configLoader.onLoadStartListener=R=>this.events.next(new D9(R))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const x=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:x})}setupNavigations(t){return this.transitions=new js({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:bm,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(yl(x=>0!==x.id),X(x=>({...x,extractedUrl:t.urlHandlingStrategy.extract(x.rawUrl)})),Mc(x=>{let R=!1,Y=!1;return Pi(x).pipe(Ol(ce=>{this.currentNavigation={id:ce.id,initialUrl:ce.rawUrl,extractedUrl:ce.extractedUrl,trigger:ce.source,extras:ce.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Mc(ce=>{const Re=t.browserUrlTree.toString(),He=!t.navigated||ce.extractedUrl.toString()!==Re||Re!==t.currentUrlTree.toString();if(!He&&"reload"!==(ce.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const xt="";return this.events.next(new WM(ce.id,t.serializeUrl(x.rawUrl),xt,0)),t.rawUrlTree=ce.rawUrl,ce.resolve(null),bt}if(t.urlHandlingStrategy.shouldProcessUrl(ce.rawUrl))return TA(ce.source)&&(t.browserUrlTree=ce.extractedUrl),Pi(ce).pipe(Mc(xt=>{const Zt=this.transitions?.getValue();return this.events.next(new db(xt.id,this.urlSerializer.serialize(xt.extractedUrl),xt.source,xt.restoredState)),Zt!==this.transitions?.getValue()?bt:Promise.resolve(xt)}),function SI(e,n,t,x){return Mc(R=>function AI(e,n,t,x,R){return new kI(e,n,t,x,R).apply()}(e,n,t,R.extractedUrl,x).pipe(X(Y=>({...R,urlAfterRedirects:Y}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),Ol(xt=>{this.currentNavigation={...this.currentNavigation,finalUrl:xt.urlAfterRedirects},x.urlAfterRedirects=xt.urlAfterRedirects}),function NI(e,n,t,x,R){return st(Y=>function DI(e,n,t,x,R,Y,ce="emptyOnly"){return new OI(e,n,t,x,R,ce,Y).recognize().pipe(Mc(Re=>null===Re?function EI(e){return new L(n=>n.error(e))}(new CI):Pi(Re)))}(e,n,t,Y.urlAfterRedirects,x.serialize(Y.urlAfterRedirects),x,R).pipe(X(ce=>({...Y,targetSnapshot:ce}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Ol(xt=>{if(x.targetSnapshot=xt.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!xt.extras.skipLocationChange){const rn=t.urlHandlingStrategy.merge(xt.urlAfterRedirects,xt.rawUrl);t.setBrowserUrl(rn,xt)}t.browserUrlTree=xt.urlAfterRedirects}const Zt=new A9(xt.id,this.urlSerializer.serialize(xt.extractedUrl),this.urlSerializer.serialize(xt.urlAfterRedirects),xt.targetSnapshot);this.events.next(Zt)}));if(He&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:xt,extractedUrl:Zt,source:rn,restoredState:yn,extras:Jn}=ce,ar=new db(xt,this.urlSerializer.serialize(Zt),rn,yn);this.events.next(ar);const gr=JM(Zt,this.rootComponentType).snapshot;return Pi(x={...ce,targetSnapshot:gr,urlAfterRedirects:Zt,extras:{...Jn,skipLocationChange:!1,replaceUrl:!1}})}{const xt="";return this.events.next(new WM(ce.id,t.serializeUrl(x.extractedUrl),xt,1)),t.rawUrlTree=ce.rawUrl,ce.resolve(null),bt}}),Ol(ce=>{const Re=new k9(ce.id,this.urlSerializer.serialize(ce.extractedUrl),this.urlSerializer.serialize(ce.urlAfterRedirects),ce.targetSnapshot);this.events.next(Re)}),X(ce=>x={...ce,guards:K9(ce.targetSnapshot,ce.currentSnapshot,this.rootContexts)}),function uI(e,n){return st(t=>{const{targetSnapshot:x,currentSnapshot:R,guards:{canActivateChecks:Y,canDeactivateChecks:ce}}=t;return 0===ce.length&&0===Y.length?Pi({...t,guardsResult:!0}):function cI(e,n,t,x){return tr(e).pipe(st(R=>function mI(e,n,t,x,R){const Y=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return Y&&0!==Y.length?Pi(Y.map(Re=>{const He=Mm(n)??R,tt=p0(Re,He);return zh(function aI(e){return e&&Sm(e.canDeactivate)}(tt)?tt.canDeactivate(e,n,t,x):He.runInContext(()=>tt(e,n,t,x))).pipe(Nh())})).pipe(g0()):Pi(!0)}(R.component,R.route,t,n,x)),Nh(R=>!0!==R,!0))}(ce,x,R,e).pipe(st(Re=>Re&&function nI(e){return"boolean"==typeof e}(Re)?function fI(e,n,t,x){return tr(n).pipe(Rh(R=>dm(function dI(e,n){return null!==e&&n&&n(new I9(e)),Pi(!0)}(R.route.parent,x),function hI(e,n){return null!==e&&n&&n(new R9(e)),Pi(!0)}(R.route,x),function gI(e,n,t){const x=n[n.length-1],Y=n.slice(0,n.length-1).reverse().map(ce=>function Q9(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(ce)).filter(ce=>null!==ce).map(ce=>TM(()=>Pi(ce.guards.map(He=>{const tt=Mm(ce.node)??t,xt=p0(He,tt);return zh(function oI(e){return e&&Sm(e.canActivateChild)}(xt)?xt.canActivateChild(x,e):tt.runInContext(()=>xt(x,e))).pipe(Nh())})).pipe(g0())));return Pi(Y).pipe(g0())}(e,R.path,t),function pI(e,n,t){const x=n.routeConfig?n.routeConfig.canActivate:null;if(!x||0===x.length)return Pi(!0);const R=x.map(Y=>TM(()=>{const ce=Mm(n)??t,Re=p0(Y,ce);return zh(function iI(e){return e&&Sm(e.canActivate)}(Re)?Re.canActivate(n,e):ce.runInContext(()=>Re(n,e))).pipe(Nh())}));return Pi(R).pipe(g0())}(e,R.route,t))),Nh(R=>!0!==R,!0))}(x,Y,e,n):Pi(Re)),X(Re=>({...t,guardsResult:Re})))})}(this.environmentInjector,ce=>this.events.next(ce)),Ol(ce=>{if(x.guardsResult=ce.guardsResult,Cd(ce.guardsResult))throw tA(0,ce.guardsResult);const Re=new S9(ce.id,this.urlSerializer.serialize(ce.extractedUrl),this.urlSerializer.serialize(ce.urlAfterRedirects),ce.targetSnapshot,!!ce.guardsResult);this.events.next(Re)}),yl(ce=>!!ce.guardsResult||(t.restoreHistory(ce),this.cancelNavigationTransition(ce,"",3),!1)),Sb(ce=>{if(ce.guards.canActivateChecks.length)return Pi(ce).pipe(Ol(Re=>{const He=new C9(Re.id,this.urlSerializer.serialize(Re.extractedUrl),this.urlSerializer.serialize(Re.urlAfterRedirects),Re.targetSnapshot);this.events.next(He)}),Mc(Re=>{let He=!1;return Pi(Re).pipe(FI(t.paramsInheritanceStrategy,this.environmentInjector),Ol({next:()=>He=!0,complete:()=>{He||(t.restoreHistory(Re),this.cancelNavigationTransition(Re,"",2))}}))}),Ol(Re=>{const He=new E9(Re.id,this.urlSerializer.serialize(Re.extractedUrl),this.urlSerializer.serialize(Re.urlAfterRedirects),Re.targetSnapshot);this.events.next(He)}))}),Sb(ce=>{const Re=He=>{const tt=[];He.routeConfig?.loadComponent&&!He.routeConfig._loadedComponent&&tt.push(this.configLoader.loadComponent(He.routeConfig).pipe(Ol(xt=>{He.component=xt}),X(()=>{})));for(const xt of He.children)tt.push(...Re(xt));return tt};return Bv(Re(ce.targetSnapshot.root)).pipe(Uv(),_l(1))}),Sb(()=>this.afterPreactivation()),X(ce=>{const Re=function U9(e,n,t){const x=wm(e,n._root,t?t._root:void 0);return new XM(x,n)}(t.routeReuseStrategy,ce.targetSnapshot,ce.currentRouterState);return x={...ce,targetRouterState:Re}}),Ol(ce=>{t.currentUrlTree=ce.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(ce.urlAfterRedirects,ce.rawUrl),t.routerState=ce.targetRouterState,"deferred"===t.urlUpdateStrategy&&(ce.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,ce),t.browserUrlTree=ce.urlAfterRedirects)}),((e,n,t)=>X(x=>(new J9(n,x.targetRouterState,x.currentRouterState,t).activate(e),x)))(this.rootContexts,t.routeReuseStrategy,ce=>this.events.next(ce)),Ol({next:ce=>{R=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Ed(ce.id,this.urlSerializer.serialize(ce.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(ce.targetRouterState.snapshot),ce.resolve(!0)},complete:()=>{R=!0}}),ab(()=>{R||Y||this.cancelNavigationTransition(x,"",1),this.currentNavigation?.id===x.id&&(this.currentNavigation=null)}),Fh(ce=>{if(Y=!0,iA(ce)){rA(ce)||(t.navigated=!0,t.restoreHistory(x,!0));const Re=new Yv(x.id,this.urlSerializer.serialize(x.extractedUrl),ce.message,ce.cancellationCode);if(this.events.next(Re),rA(ce)){const He=t.urlHandlingStrategy.merge(ce.url,t.rawUrlTree),tt={skipLocationChange:x.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||TA(x.source)};t.scheduleNavigation(He,bm,null,tt,{resolve:x.resolve,reject:x.reject,promise:x.promise})}else x.resolve(!1)}else{t.restoreHistory(x,!0);const Re=new $M(x.id,this.urlSerializer.serialize(x.extractedUrl),ce,x.targetSnapshot??void 0);this.events.next(Re);try{x.resolve(t.errorHandler(ce))}catch(He){x.reject(He)}}return bt}))}))}cancelNavigationTransition(t,x,R){const Y=new Yv(t.id,this.urlSerializer.serialize(t.extractedUrl),x,R);this.events.next(Y),t.resolve(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function TA(e){return e!==bm}let MA=(()=>{class e{buildTitle(t){let x,R=t.root;for(;void 0!==R;)x=this.getResolvedTitleForRoute(R)??x,R=R.children.find(Y=>Y.outlet===Qi);return x}getResolvedTitleForRoute(t){return t.data[gm]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:function(){return Li(GI)},providedIn:"root"}),e})(),GI=(()=>{class e extends MA{constructor(t){super(),this.title=t}updateTitle(t){const x=this.buildTitle(t);void 0!==x&&this.title.setTitle(x)}}return e.\u0275fac=function(t){return new(t||e)($r(tM))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),qI=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:function(){return Li($I)},providedIn:"root"}),e})();class WI{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}let $I=(()=>{class e extends WI{}return e.\u0275fac=function(){let n;return function(x){return(n||(n=Wa(e)))(x||e)}}(),e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const ay=new yi("",{providedIn:"root",factory:()=>({})});let YI=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:function(){return Li(XI)},providedIn:"root"}),e})(),XI=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,x){return t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function JI(e){throw e}function KI(e,n,t){return n.parse("/")}const QI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},eP={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Qu=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Li(sE),this.isNgZoneEnabled=!1,this.options=Li(ay,{optional:!0})||{},this.errorHandler=this.options.errorHandler||JI,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||KI,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Li(YI),this.routeReuseStrategy=Li(qI),this.urlCreationStrategy=Li(z9),this.titleStrategy=Li(MA),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=DM(Li(m0,{optional:!0})??[]),this.navigationTransitions=Li(oy),this.urlSerializer=Li(vm),this.location=Li(Ax),this.isNgZoneEnabled=Li(Yo)instanceof Yo&&Yo.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new kd,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=JM(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),bm,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const x="popstate"===t.type?"popstate":"hashchange";"popstate"===x&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,x,t.state)},0)}))}navigateToSyncWithBrowser(t,x,R){const Y={replaceUrl:!0},ce=R?.navigationId?R:null;if(R){const He={...R};delete He.navigationId,delete He.\u0275routerPageId,0!==Object.keys(He).length&&(Y.state=He)}const Re=this.parseUrl(t);this.scheduleNavigation(Re,x,ce,Y)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Tb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,x={}){const{relativeTo:R,queryParams:Y,fragment:ce,queryParamsHandling:Re,preserveFragment:He}=x,tt=He?this.currentUrlTree.fragment:ce;let xt=null;switch(Re){case"merge":xt={...this.currentUrlTree.queryParams,...Y};break;case"preserve":xt=this.currentUrlTree.queryParams;break;default:xt=Y||null}return null!==xt&&(xt=this.removeEmptyProps(xt)),this.urlCreationStrategy.createUrlTree(R,this.routerState,this.currentUrlTree,t,xt,tt??null)}navigateByUrl(t,x={skipLocationChange:!1}){const R=Cd(t)?t:this.parseUrl(t),Y=this.urlHandlingStrategy.merge(R,this.rawUrlTree);return this.scheduleNavigation(Y,bm,null,x)}navigate(t,x={skipLocationChange:!1}){return function tP(e){for(let n=0;n<e.length;n++){if(null==e[n])throw new Un(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,x),x)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let x;try{x=this.urlSerializer.parse(t)}catch(R){x=this.malformedUriErrorHandler(R,this.urlSerializer,t)}return x}isActive(t,x){let R;if(R=!0===x?{...QI}:!1===x?{...eP}:x,Cd(t))return PM(this.currentUrlTree,t,R);const Y=this.parseUrl(t);return PM(this.currentUrlTree,Y,R)}removeEmptyProps(t){return Object.keys(t).reduce((x,R)=>{const Y=t[R];return null!=Y&&(x[R]=Y),x},{})}scheduleNavigation(t,x,R,Y,ce){if(this.disposed)return Promise.resolve(!1);let Re,He,tt,xt;return ce?(Re=ce.resolve,He=ce.reject,tt=ce.promise):tt=new Promise((Zt,rn)=>{Re=Zt,He=rn}),xt="computed"===this.canceledNavigationResolution?R&&R.\u0275routerPageId?R.\u0275routerPageId:Y.replaceUrl||Y.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:xt,source:x,restoredState:R,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:Y,resolve:Re,reject:He,promise:tt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),tt.catch(Zt=>Promise.reject(Zt))}setBrowserUrl(t,x){const R=this.urlSerializer.serialize(t),Y={...x.extras.state,...this.generateNgRouterState(x.id,x.targetPageId)};this.location.isCurrentPathEqualTo(R)||x.extras.replaceUrl?this.location.replaceState(R,"",Y):this.location.go(R,"",Y)}restoreHistory(t,x=!1){if("computed"===this.canceledNavigationResolution){const R=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===R?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===R&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(R)}else"replace"===this.canceledNavigationResolution&&(x&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,x){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:x}:{navigationId:t}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class kA{}let iP=(()=>{class e{constructor(t,x,R,Y,ce){this.router=t,this.injector=R,this.preloadingStrategy=Y,this.loader=ce}setUpPreloading(){this.subscription=this.router.events.pipe(yl(t=>t instanceof Ed),Rh(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,x){const R=[];for(const Y of x){Y.providers&&!Y._injector&&(Y._injector=uv(Y.providers,t,`Route: ${Y.path}`));const ce=Y._injector??t,Re=Y._loadedInjector??ce;Y.loadChildren&&!Y._loadedRoutes&&void 0===Y.canLoad||Y.loadComponent&&!Y._loadedComponent?R.push(this.preloadConfig(ce,Y)):(Y.children||Y._loadedRoutes)&&R.push(this.processRoutes(Re,Y.children??Y._loadedRoutes))}return tr(R).pipe(vt())}preloadConfig(t,x){return this.preloadingStrategy.preload(x,()=>{let R;R=x.loadChildren&&void 0===x.canLoad?this.loader.loadChildren(t,x):Pi(null);const Y=R.pipe(st(ce=>null===ce?Pi(void 0):(x._loadedRoutes=ce.routes,x._loadedInjector=ce.injector,this.processRoutes(ce.injector??t,ce.routes))));return x.loadComponent&&!x._loadedComponent?tr([Y,this.loader.loadComponent(x)]).pipe(vt()):Y})}}return e.\u0275fac=function(t){return new(t||e)($r(Qu),$r(LT),$r(Ho),$r(kA),$r(Cb))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Db=new yi("");let SA=(()=>{class e{constructor(t,x,R,Y,ce={}){this.urlSerializer=t,this.transitions=x,this.viewportScroller=R,this.zone=Y,this.options=ce,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ce.scrollPositionRestoration=ce.scrollPositionRestoration||"disabled",ce.anchorScrolling=ce.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof db?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ed&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ZM&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,x){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ZM(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,x))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return e.\u0275fac=function(t){!function Bg(){throw new Error("invalid")}()},e.\u0275prov=Rn({token:e,factory:e.\u0275fac}),e})();function Dd(e,n){return{\u0275kind:e,\u0275providers:n}}function EA(){const e=Li(Gl);return n=>{const t=e.get(im);if(n!==t.components[0])return;const x=e.get(Qu),R=e.get(DA);1===e.get(Ib)&&x.initialNavigation(),e.get(OA,null,zr.Optional)?.setUpPreloading(),e.get(Db,null,zr.Optional)?.init(),x.resetRootComponentType(t.componentTypes[0]),R.closed||(R.next(),R.unsubscribe())}}const DA=new yi("",{factory:()=>new Z}),Ib=new yi("",{providedIn:"root",factory:()=>1});const OA=new yi("");function uP(e){return Dd(0,[{provide:OA,useExisting:iP},{provide:kA,useExisting:e}])}const IA=new yi("ROUTER_FORROOT_GUARD"),cP=[Ax,{provide:vm,useClass:sb},Qu,Tm,{provide:d0,useFactory:function CA(e){return e.routerState.root},deps:[Qu]},Cb,[]];function fP(){return new VT("Router",Qu)}let PA=(()=>{class e{constructor(t){}static forRoot(t,x){return{ngModule:e,providers:[cP,[],{provide:m0,multi:!0,useValue:t},{provide:IA,useFactory:gP,deps:[[Qu,new Af,new Vl]]},{provide:ay,useValue:x||{}},x?.useHash?{provide:Ad,useClass:ZE}:{provide:Ad,useClass:f5},{provide:Db,useFactory:()=>{const e=Li(f7),n=Li(Yo),t=Li(ay),x=Li(oy),R=Li(vm);return t.scrollOffset&&e.setOffset(t.scrollOffset),new SA(R,x,e,n,t)}},x?.preloadingStrategy?uP(x.preloadingStrategy).\u0275providers:[],{provide:VT,multi:!0,useFactory:fP},x?.initialNavigation?mP(x):[],[{provide:RA,useFactory:EA},{provide:RT,multi:!0,useExisting:RA}]]}}static forChild(t){return{ngModule:e,providers:[{provide:m0,multi:!0,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)($r(IA,8))},e.\u0275mod=mi({type:e}),e.\u0275inj=sr({imports:[bb]}),e})();function gP(e){return"guarded"}function mP(e){return["disabled"===e.initialNavigation?Dd(3,[{provide:pv,multi:!0,useFactory:()=>{const n=Li(Qu);return()=>{n.setUpLocationChangeListener()}}},{provide:Ib,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Dd(2,[{provide:Ib,useValue:0},{provide:pv,multi:!0,deps:[Gl],useFactory:n=>{const t=n.get(WE,Promise.resolve());return()=>t.then(()=>new Promise(R=>{const Y=n.get(Qu),ce=n.get(DA);(function x(R){n.get(Qu).events.pipe(yl(ce=>ce instanceof Ed||ce instanceof Yv||ce instanceof $M),X(ce=>ce instanceof Ed||ce instanceof Yv&&(0===ce.code||1===ce.code)&&null),yl(ce=>null!==ce),_l(1)).subscribe(()=>{R()})})(()=>{R(!0)}),n.get(oy).afterPreactivation=()=>(R(!0),ce.closed?Pi(void 0):ce),Y.initialNavigation()}))}}]).\u0275providers:[]]}const RA=new yi("");var Dm=fs(102);function LA(e,n,t,x,R,Y,ce){try{var Re=e[Y](ce),He=Re.value}catch(tt){return void t(tt)}Re.done?n(He):Promise.resolve(He).then(x,R)}function Om(e){return function(){var n=this,t=arguments;return new Promise(function(x,R){var Y=e.apply(n,t);function ce(He){LA(Y,x,R,ce,Re,"next",He)}function Re(He){LA(Y,x,R,ce,Re,"throw",He)}ce(void 0)})}}function NA(e){return"[object Object]"===Object.prototype.toString.call(e)}function Pb(){return"object"==typeof navigator&&"userAgent"in navigator?navigator.userAgent:"object"==typeof process&&"version"in process?`Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`:"<environment undetectable>"}function FA(e,n){const t=Object.assign({},e);return Object.keys(n).forEach(x=>{!function yP(e){var n,t;return!1!==NA(e)&&(void 0===(n=e.constructor)||!(!1===NA(t=n.prototype)||!1===t.hasOwnProperty("isPrototypeOf")))}(n[x])?Object.assign(t,{[x]:n[x]}):x in e?t[x]=FA(e[x],n[x]):Object.assign(t,{[x]:n[x]})}),t}function zA(e){for(const n in e)void 0===e[n]&&delete e[n];return e}function Rb(e,n,t){if("string"==typeof n){let[R,Y]=n.split(" ");t=Object.assign(Y?{method:R,url:Y}:{url:R},t)}else t=Object.assign({},n);t.headers=function _P(e){return e?Object.keys(e).reduce((n,t)=>(n[t.toLowerCase()]=e[t],n),{}):{}}(t.headers),zA(t),zA(t.headers);const x=FA(e||{},t);return e&&e.mediaType.previews.length&&(x.mediaType.previews=e.mediaType.previews.filter(R=>!x.mediaType.previews.includes(R)).concat(x.mediaType.previews)),x.mediaType.previews=x.mediaType.previews.map(R=>R.replace(/-preview/,"")),x}const bP=/\{[^}]+\}/g;function wP(e){return e.replace(/^\W+|\W+$/g,"").split(/,/)}function BA(e,n){return Object.keys(e).filter(t=>!n.includes(t)).reduce((t,x)=>(t[x]=e[x],t),{})}function jA(e){return e.split(/(%[0-9A-Fa-f]{2})/g).map(function(n){return/%[0-9A-Fa-f]/.test(n)||(n=encodeURI(n).replace(/%5B/g,"[").replace(/%5D/g,"]")),n}).join("")}function y0(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()})}function Im(e,n,t){return n="+"===e||"#"===e?jA(n):y0(n),t?y0(t)+"="+n:n}function _0(e){return null!=e}function Lb(e){return";"===e||"&"===e||"?"===e}function kP(e,n){var t=["+","#",".","/",";","?","&"];return e.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(x,R,Y){if(R){let Re="";const He=[];if(-1!==t.indexOf(R.charAt(0))&&(Re=R.charAt(0),R=R.substr(1)),R.split(/,/g).forEach(function(tt){var xt=/([^:\*]*)(?::(\d+)|(\*))?/.exec(tt);He.push(function MP(e,n,t,x){var R=e[t],Y=[];if(_0(R)&&""!==R)if("string"==typeof R||"number"==typeof R||"boolean"==typeof R)R=R.toString(),x&&"*"!==x&&(R=R.substring(0,parseInt(x,10))),Y.push(Im(n,R,Lb(n)?t:""));else if("*"===x)Array.isArray(R)?R.filter(_0).forEach(function(ce){Y.push(Im(n,ce,Lb(n)?t:""))}):Object.keys(R).forEach(function(ce){_0(R[ce])&&Y.push(Im(n,R[ce],ce))});else{const ce=[];Array.isArray(R)?R.filter(_0).forEach(function(Re){ce.push(Im(n,Re))}):Object.keys(R).forEach(function(Re){_0(R[Re])&&(ce.push(y0(Re)),ce.push(Im(n,R[Re].toString())))}),Lb(n)?Y.push(y0(t)+"="+ce.join(",")):0!==ce.length&&Y.push(ce.join(","))}else";"===n?_0(R)&&Y.push(y0(t)):""!==R||"&"!==n&&"?"!==n?""===R&&Y.push(""):Y.push(y0(t)+"=");return Y}(n,Re,xt[1],xt[2]||xt[3]))}),Re&&"+"!==Re){var ce=",";return"?"===Re?ce="&":"#"!==Re&&(ce=Re),(0!==He.length?Re:"")+He.join(ce)}return He.join(",")}return jA(Y)})}function UA(e){let R,n=e.method.toUpperCase(),t=(e.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),x=Object.assign({},e.headers),Y=BA(e,["method","baseUrl","url","headers","request","mediaType"]);const ce=function TP(e){const n=e.match(bP);return n?n.map(wP).reduce((t,x)=>t.concat(x),[]):[]}(t);t=function AP(e){return{expand:kP.bind(null,e)}}(t).expand(Y),/^http/.test(t)||(t=e.baseUrl+t);const He=BA(Y,Object.keys(e).filter(xt=>ce.includes(xt)).concat("baseUrl"));if(!/application\/octet-stream/i.test(x.accept)&&(e.mediaType.format&&(x.accept=x.accept.split(/,/).map(xt=>xt.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${e.mediaType.format}`)).join(",")),e.mediaType.previews.length)){const xt=x.accept.match(/[\w-]+(?=-preview)/g)||[];x.accept=xt.concat(e.mediaType.previews).map(Zt=>`application/vnd.github.${Zt}-preview${e.mediaType.format?`.${e.mediaType.format}`:"+json"}`).join(",")}return["GET","HEAD"].includes(n)?t=function xP(e,n){const t=/\?/.test(e)?"&":"?",x=Object.keys(n);return 0===x.length?e:e+t+x.map(R=>"q"===R?"q="+n.q.split("+").map(encodeURIComponent).join("+"):`${R}=${encodeURIComponent(n[R])}`).join("&")}(t,He):"data"in He?R=He.data:Object.keys(He).length&&(R=He),!x["content-type"]&&typeof R<"u"&&(x["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(n)&&typeof R>"u"&&(R=""),Object.assign({method:n,url:t,headers:x},typeof R<"u"?{body:R}:null,e.request?{request:e.request}:null)}function SP(e,n,t){return UA(Rb(e,n,t))}const EP=function VA(e,n){const t=Rb(e,n),x=SP.bind(null,t);return Object.assign(x,{DEFAULTS:t,defaults:VA.bind(null,t),merge:Rb.bind(null,t),parse:UA})}(null,{method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":`octokit-endpoint.js/7.0.5 ${Pb()}`},mediaType:{format:"",previews:[]}});function HA(e){return"[object Object]"===Object.prototype.toString.call(e)}var OP=fs(637),IP=fs.n(OP);class GA extends Error{constructor(n){super(n),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="Deprecation"}}var PP=fs(389),qA=fs.n(PP);const RP=qA()(e=>console.warn(e)),LP=qA()(e=>console.warn(e));class Pm extends Error{constructor(n,t,x){let R;super(n),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=t,"headers"in x&&typeof x.headers<"u"&&(R=x.headers),"response"in x&&(this.response=x.response,R=x.response.headers);const Y=Object.assign({},x.request);x.request.headers.authorization&&(Y.headers=Object.assign({},x.request.headers,{authorization:x.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),Y.url=Y.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=Y,Object.defineProperty(this,"code",{get:()=>(RP(new GA("[@octokit/request-error] `error.code` is deprecated, use `error.status`.")),t)}),Object.defineProperty(this,"headers",{get:()=>(LP(new GA("[@octokit/request-error] `error.headers` is deprecated, use `error.response.headers`.")),R||{})})}}function FP(e){return e.arrayBuffer()}function WA(e){const n=e.request&&e.request.log?e.request.log:console;(function DP(e){var n,t;return!1!==HA(e)&&(void 0===(n=e.constructor)||!(!1===HA(t=n.prototype)||!1===t.hasOwnProperty("isPrototypeOf")))}(e.body)||Array.isArray(e.body))&&(e.body=JSON.stringify(e.body));let x,R,t={};return(e.request&&e.request.fetch||globalThis.fetch||IP())(e.url,Object.assign({method:e.method,body:e.body,headers:e.headers,redirect:e.redirect},e.request)).then(function(){var ce=Om(function*(Re){R=Re.url,x=Re.status;for(const He of Re.headers)t[He[0]]=He[1];if("deprecation"in t){const He=t.link&&t.link.match(/<([^>]+)>; rel="deprecation"/),tt=He&&He.pop();n.warn(`[@octokit/request] "${e.method} ${e.url}" is deprecated. It is scheduled to be removed on ${t.sunset}${tt?`. See ${tt}`:""}`)}if(204!==x&&205!==x){if("HEAD"===e.method){if(x<400)return;throw new Pm(Re.statusText,x,{response:{url:R,status:x,headers:t,data:void 0},request:e})}if(304===x)throw new Pm("Not modified",x,{response:{url:R,status:x,headers:t,data:yield Nb(Re)},request:e});if(x>=400){const He=yield Nb(Re);throw new Pm(function zP(e){return"string"==typeof e?e:"message"in e?Array.isArray(e.errors)?`${e.message}: ${e.errors.map(JSON.stringify).join(", ")}`:e.message:`Unknown error: ${JSON.stringify(e)}`}(He),x,{response:{url:R,status:x,headers:t,data:He},request:e})}return Nb(Re)}});return function(Re){return ce.apply(this,arguments)}}()).then(ce=>({status:x,url:R,headers:t,data:ce})).catch(ce=>{throw ce instanceof Pm||"AbortError"===ce.name?ce:new Pm(ce.message,500,{request:e})})}function Nb(e){return Fb.apply(this,arguments)}function Fb(){return(Fb=Om(function*(e){const n=e.headers.get("content-type");return/application\/json/.test(n)?e.json():!n||/^text\/|charset=utf-8$/.test(n)?e.text():FP(e)})).apply(this,arguments)}const BP=function zb(e,n){const t=e.defaults(n);return Object.assign(function(R,Y){const ce=t.merge(R,Y);if(!ce.request||!ce.request.hook)return WA(t.parse(ce));const Re=(He,tt)=>WA(t.parse(t.merge(He,tt)));return Object.assign(Re,{endpoint:t,defaults:zb.bind(null,t)}),ce.request.hook(Re,ce)},{endpoint:t,defaults:zb.bind(null,t)})}(EP,{headers:{"user-agent":`octokit-request.js/6.2.3 ${Pb()}`}});class VP extends Error{constructor(n,t,x){super(function UP(e){return"Request failed due to following response errors:\n"+e.errors.map(n=>` - ${n.message}`).join("\n")}(x)),this.request=n,this.headers=t,this.response=x,this.name="GraphqlResponseError",this.errors=x.errors,this.data=x.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}const HP=["method","baseUrl","url","headers","request","query","mediaType"],GP=["query","method","url"],$A=/\/api\/v3\/?$/;const jb=function Bb(e,n){const t=e.defaults(n);return Object.assign((R,Y)=>function qP(e,n,t){if(t){if("string"==typeof n&&"query"in t)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const ce in t)if(GP.includes(ce))return Promise.reject(new Error(`[@octokit/graphql] "${ce}" cannot be used as variable name`))}const x="string"==typeof n?Object.assign({query:n},t):n,R=Object.keys(x).reduce((ce,Re)=>HP.includes(Re)?(ce[Re]=x[Re],ce):(ce.variables||(ce.variables={}),ce.variables[Re]=x[Re],ce),{}),Y=x.baseUrl||e.endpoint.DEFAULTS.baseUrl;return $A.test(Y)&&(R.url=Y.replace($A,"/api/graphql")),e(R).then(ce=>{if(ce.data.errors){const Re={};for(const He of Object.keys(ce.headers))Re[He]=ce.headers[He];throw new VP(R,Re,ce.data)}return ce.data.data})}(t,R,Y),{defaults:Bb.bind(null,t),endpoint:t.endpoint})}(BP,{headers:{"user-agent":`octokit-graphql.js/5.0.5 ${Pb()}`},method:"POST",url:"/graphql"});class Od{constructor(n){this.http=n,this.API_TOKEN_ITEM="github-api-token",this.epics=[],this.issueByEpic={},this.issues={kinds:[],areas:[],byKind:{},byArea:{}},this.issuesByState={open:{kinds:[],areas:[],byKind:{},byArea:{}},closed:{kinds:[],areas:[],byKind:{},byArea:{}}},this.epicsSubject=new js({epics:this.epics,issuesByEpic:this.issueByEpic}),this.issuesSubject=new js(this.issues),this.byStateSubject=new js(this.issuesByState),this.fetchInformation()}fetchInformation(){this.fetchEpicsInformation().then(()=>{}),this.fetchIssuesInformation().then(()=>{}),this.fetchAllIssues().then(()=>{})}fetchEpicsInformation(){var n=this;return Om(function*(){if(!n.hasToken())return;const t=n.getToken();console.log("token: ",t),(yield jb('\n        {\n          search(\n            type: ISSUE\n            first: 100\n            query: "repo:aquarist-labs/s3gw is:open"\n          ) {\n            issueCount\n            nodes {\n              ... on Issue {\n                title\n                number\n                projectItems(first: 100) {\n                  nodes {\n                    fieldValueByName(name: "Epic") {\n                      ... on ProjectV2ItemFieldSingleSelectValue {\n                        # field\n                        name\n                        # nameHTML\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      ',{headers:{authorization:`token ${t}`}})).search.nodes.forEach(R=>{if(0==R.projectItems.nodes.length||!R.projectItems.nodes[0].fieldValueByName)return;const Y=R.projectItems.nodes[0].fieldValueByName.name;n.epics.includes(Y)||(n.epics.push(Y),n.issueByEpic[Y]=[]),n.issueByEpic[Y].push({number:R.number,title:R.title,epic:Y})}),n.epicsSubject.next({epics:n.epics,issuesByEpic:n.issueByEpic})})()}fetchIssuesInformation(){var n=this;return Om(function*(){if(!n.hasToken())return;const t=n.getToken(),x=yield jb('\n        {\n          search(\n            type: ISSUE\n            first: 100\n            query: "repo:aquarist-labs/s3gw is:open"\n          ) {\n            issueCount\n            nodes {\n              ... on Issue {\n                title\n                number\n                labels(first: 100) {\n                  nodes {\n                    color\n                    name\n                  }\n                }\n                milestone {\n                  title\n                }\n              }\n            }\n          }\n        }\n      ',{headers:{authorization:`token ${t}`}});console.debug(x),x.search.nodes.forEach(R=>{let Y="",ce=[];if(R.labels.nodes.forEach(He=>{const tt=He.name.split("/");tt.length<2||("kind"===tt[0]?Y=tt[1]:("area"===tt[0]||"component"===tt[0])&&ce.push(tt[1]))}),""===Y&&0===ce.length)return;const Re={title:R.title,number:R.number,kind:Y,area:ce};""!==Y&&(n.issues.kinds.includes(Y)||(n.issues.kinds.push(Y),n.issues.byKind[Y]=[]),n.issues.byKind[Y].push(Re)),ce.length>0&&ce.forEach(He=>{n.issues.areas.includes(He)||(n.issues.areas.push(He),n.issues.byArea[He]=[]),n.issues.byArea[He].push(Re)})}),n.issuesSubject.next(n.issues)})()}fetchAllIssues(){var n=this;return Om(function*(){if(!n.hasToken())return;const t=n.getToken();let R=!1,Y=null;do{const ce=yield jb('\n    query issues($marker: String = null) {\n      search(type: ISSUE, first: 100, after: $marker,\n             query: "repo:aquarist-labs/s3gw type:issue") {\n        issueCount\n        pageInfo {\n          endCursor\n          startCursor\n        }\n        nodes {\n          ... on Issue {\n            state\n            title\n            number\n            labels(first: 100) {\n              nodes {\n                color\n                name\n              }\n            }\n            milestone {\n              title\n            }\n          }\n        }\n      }\n    }\n    ',{marker:Y,headers:{authorization:`token ${t}`}});ce.search.pageInfo.endCursor?Y=ce.search.pageInfo.endCursor:R=!0,console.debug(ce.search.nodes),n.handleIssues(ce.search.nodes)}while(!R);n.byStateSubject.next(n.issuesByState)})()}handleIssues(n){n.forEach(t=>{if(!t.state)return void console.error("Unexpected stateless issue: ",t);const R="open"===t.state.toLowerCase()?this.issuesByState.open:this.issuesByState.closed;let Y="",ce=[];if(t.labels.nodes.forEach(He=>{const tt=He.name.split("/");tt.length<2||("kind"===tt[0]?Y=tt[1]:("area"===tt[0]||"component"===tt[0])&&ce.push(tt[1]))}),""===Y&&0===ce.length)return;const Re={title:t.title,number:t.number,kind:Y,area:ce};""!==Y&&(R.kinds.includes(Y)||(R.kinds.push(Y),R.byKind[Y]=[]),R.byKind[Y].push(Re)),ce.length>0&&ce.forEach(He=>{R.areas.includes(He)||(R.areas.push(He),R.byArea[He]=[]),R.byArea[He].push(Re)})}),console.log(this.issuesByState)}setToken(n){localStorage.setItem(this.API_TOKEN_ITEM,n),this.fetchEpicsInformation()}getToken(){let n=localStorage.getItem(this.API_TOKEN_ITEM);return console.assert(!!n),n}hasToken(){return!!localStorage.getItem(this.API_TOKEN_ITEM)}getEpics(){return this.epicsSubject}getIssues(){return this.issuesSubject}getIssuesByState(){return this.byStateSubject}}Od.\u0275fac=function(n){return new(n||Od)($r(uM))},Od.\u0275prov=Rn({token:Od,factory:Od.\u0275fac,providedIn:"root"});const WP=["epicsPlot"],$P=["kindsPlot"],ZP=["areasPlot"],YP=["byStateKindsPlot"],XP=["byStateAreaPlot"],ZA=["*","*","*","*","*"];class Rm{constructor(n){this.ghSvc=n,this.epicsData=[],this.issuesByKindData=[],this.issuesByAreaData=[],this.stateIssuesByKindData=[],this.stateIssuesByAreaData=[],this.notEnoughEpics=!1,this.notEnoughKinds=!1,this.notEnoughAreas=!1,this.notEnoughKindsByState=!1,this.notEnoughAreasByState=!1}ngOnInit(){this.epicsSubscription=this.ghSvc.getEpics().subscribe({next:n=>{this.updateEpics(n)}}),this.issuesSubscription=this.ghSvc.getIssues().subscribe({next:n=>{this.updateIssues(n)}}),this.issuesByStateSubscription=this.ghSvc.getIssuesByState().subscribe({next:n=>{this.updateIssuesByState(n)}})}ngOnDestroy(){this.epicsSubscription&&this.epicsSubscription.unsubscribe(),this.issuesSubscription&&this.issuesSubscription.unsubscribe(),this.issuesByStateSubscription&&this.issuesByStateSubscription.unsubscribe()}ngOnChanges(n){console.debug("plot changes: ",n)}createEpics(){return Dm.newPlot(this.epicsPlotElement.nativeElement,this.epicsData,this.epicsLayout)}createKinds(){return Dm.newPlot(this.kindsPlotElement.nativeElement,this.issuesByKindData,this.issuesByKindLayout)}createAreas(){return Dm.newPlot(this.areasPlotElement.nativeElement,this.issuesByAreaData,this.issuesByAreaLayout)}createByStateKinds(){return Dm.newPlot(this.byStateKindsPlotElement.nativeElement,this.stateIssuesByKindData,this.stateIssuesByKindLayout)}createByStateAreas(){return Dm.newPlot(this.byStateAreaPlotElement.nativeElement,this.stateIssuesByAreaData,this.stateIssuesByAreaLayout)}updateEpics(n){if(n.epics.length<3)return this.notEnoughEpics=!0,void console.log("not enough data points");const t=[...n.epics,n.epics[0]];console.log("theta: ",t);let x=[],R=0;t.forEach(Y=>{const ce=n.issuesByEpic[Y].length;R=Math.max(R,ce),x.push(ce)}),console.log("r: ",x),this.epicsLayout={polar:{radialaxis:{visible:!0,range:[0,R]}}},this.epicsData=[{type:"scatterpolar",r:x,theta:t,fill:"toself",name:"open issues, by epic"}],this.createEpics().then(()=>{})}updateIssues(n){n.kinds.length>=3&&this.updateKinds(n),n.areas.length>=3&&this.updateAreas(n)}updateKinds(n){const t=[...n.kinds,n.kinds[0]];let x=[],R=0;t.forEach(Y=>{const ce=n.byKind[Y].length;R=Math.max(R,ce),x.push(ce)}),this.issuesByKindLayout={polar:{radialaxis:{visible:!0,range:[0,R]}}},this.issuesByKindData=[{type:"scatterpolar",r:x,theta:t,fill:"toself",name:"open issues, by kind"}],this.createKinds().then(()=>{})}updateAreas(n){const t=[...n.areas,n.areas[0]];let x=[],R=0;t.forEach(Y=>{const ce=n.byArea[Y].length;R=Math.max(R,ce),x.push(ce)}),this.issuesByAreaLayout={polar:{radialaxis:{visible:!0,range:[0,R]}}},this.issuesByAreaData=[{type:"scatterpolar",r:x,theta:t,fill:"toself",name:"open issues, by area"}],this.createAreas().then(()=>{})}updateIssuesByState(n){this.updateByStateKinds(n),this.updateByStateAreas(n)}updateByStateKinds(n){const t=[...n.open.kinds];if(n.closed.kinds.forEach(ce=>{t.includes(ce)||t.push(ce)}),0===t.length)return this.notEnoughKindsByState=!0,void console.log("not enough kinds by state");t.push(t[0]);const x=[],R=[];let Y=0;t.forEach(ce=>{let Re=0;ce in n.open.byKind&&(Re=n.open.byKind[ce].length);let He=0;ce in n.closed.byKind&&(He=n.closed.byKind[ce].length),Y=Math.max(Y,Re,He),x.push(Re),R.push(He)}),this.stateIssuesByKindLayout={polar:{radialaxis:{visible:!0,range:[0,Y]}}},this.stateIssuesByKindData=[{type:"scatterpolar",r:x,theta:t,fill:"toself",name:"open issues"},{type:"scatterpolar",r:R,theta:t,fill:"toself",name:"closed issues"}],this.createByStateKinds().then(()=>{})}updateByStateAreas(n){const t=[...n.open.areas];if(n.closed.areas.forEach(ce=>{t.includes(ce)||t.push(ce)}),0===t.length)return this.notEnoughAreasByState=!0,void console.log("not enough areas by state");t.push(t[0]);const x=[],R=[];let Y=0;t.forEach(ce=>{let Re=0;ce in n.open.byArea&&(Re=n.open.byArea[ce].length);let He=0;ce in n.closed.byArea&&(He=n.closed.byArea[ce].length),Y=Math.max(Y,Re,He),x.push(Re),R.push(He)}),this.stateIssuesByAreaLayout={polar:{radialaxis:{visible:!0,range:[0,Y]}}},this.stateIssuesByAreaData=[{type:"scatterpolar",r:x,theta:t,fill:"toself",name:"open issues"},{type:"scatterpolar",r:R,theta:t,fill:"toself",name:"closed issues"}],this.createByStateAreas().then(()=>{})}}Rm.\u0275fac=function(n){return new(n||Rm)(ir(Od))},Rm.\u0275cmp=yo({type:Rm,selectors:[["s3gw-radar"]],viewQuery:function(n,t){if(1&n&&(bc(WP,7),bc($P,7),bc(ZP,7),bc(YP,7),bc(XP,7)),2&n){let x;Po(x=Ro())&&(t.epicsPlotElement=x.first),Po(x=Ro())&&(t.kindsPlotElement=x.first),Po(x=Ro())&&(t.areasPlotElement=x.first),Po(x=Ro())&&(t.byStateKindsPlotElement=x.first),Po(x=Ro())&&(t.byStateAreaPlotElement=x.first)}},features:[Eo],ngContentSelectors:ZA,decls:44,vars:0,consts:[[1,"mt-3"],[1,"row"],[1,"card","col-12","col-xxl-6"],[1,"card-header"],[1,"card-title","fw-bold"],[1,"card-body"],["epicsPlot",""],["kindsPlot",""],["areasPlot",""],["byStateKindsPlot",""],["byStateAreaPlot",""]],template:function(n,t){1&n&&(Xp(ZA),Zr(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),ta(5,"by epic"),Qr()(),Zr(6,"div",5)(7,"div",null,6),ff(9),Qr()()(),Zr(10,"div",2)(11,"div",3)(12,"h5",4),ta(13,"by Kind"),Qr()(),Zr(14,"div",5)(15,"div",null,7),ff(17,1),Qr()()()(),Zr(18,"div",1)(19,"div",2)(20,"div",3)(21,"h5",4),ta(22,"by Area"),Qr()(),Zr(23,"div",5)(24,"div",null,8),ff(26,2),Qr()()(),Zr(27,"div",2)(28,"div",3)(29,"h5",4),ta(30,"by State, Kind"),Qr()(),Zr(31,"div",5)(32,"div",null,9),ff(34,3),Qr()()()(),Zr(35,"div",1)(36,"div",2)(37,"div",3)(38,"h5",4),ta(39,"by State, Area"),Qr()(),Zr(40,"div",5)(41,"div",null,10),ff(43,4),Qr()()()()())}});const JP=[{path:"",component:Rm}];class x0{}x0.\u0275fac=function(n){return new(n||x0)},x0.\u0275mod=mi({type:x0}),x0.\u0275inj=sr({imports:[PA.forRoot(JP),PA]});let YA=(()=>{class e{constructor(t,x){this._renderer=t,this._elementRef=x,this.onChange=R=>{},this.onTouched=()=>{}}setProperty(t,x){this._renderer.setProperty(this._elementRef.nativeElement,t,x)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return e.\u0275fac=function(t){return new(t||e)(ir(Ta),ir(lo))},e.\u0275dir=ni({type:e}),e})(),Id=(()=>{class e extends YA{}return e.\u0275fac=function(){let n;return function(x){return(n||(n=Wa(e)))(x||e)}}(),e.\u0275dir=ni({type:e,features:[ea]}),e})();const Bu=new yi("NgValueAccessor"),eR={provide:Bu,useExisting:Zn(()=>sy),multi:!0},nR=new yi("CompositionEventMode");let sy=(()=>{class e extends YA{constructor(t,x,R){super(t,x),this._compositionMode=R,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function tR(){const e=pf()?pf().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return e.\u0275fac=function(t){return new(t||e)(ir(Ta),ir(lo),ir(nR,8))},e.\u0275dir=ni({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,x){1&t&&Ni("input",function(Y){return x._handleInput(Y.target.value)})("blur",function(){return x.onTouched()})("compositionstart",function(){return x._compositionStart()})("compositionend",function(Y){return x._compositionEnd(Y.target.value)})},features:[ua([eR]),ea]}),e})();function Bh(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function JA(e){return null!=e&&"number"==typeof e.length}const $l=new yi("NgValidators"),jh=new yi("NgAsyncValidators"),iR=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class oR{static min(n){return function KA(e){return n=>{if(Bh(n.value)||Bh(e))return null;const t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}(n)}static max(n){return function QA(e){return n=>{if(Bh(n.value)||Bh(e))return null;const t=parseFloat(n.value);return!isNaN(t)&&t>e?{max:{max:e,actual:n.value}}:null}}(n)}static required(n){return function e4(e){return Bh(e.value)?{required:!0}:null}(n)}static requiredTrue(n){return function t4(e){return!0===e.value?null:{required:!0}}(n)}static email(n){return function n4(e){return Bh(e.value)||iR.test(e.value)?null:{email:!0}}(n)}static minLength(n){return function r4(e){return n=>Bh(n.value)||!JA(n.value)?null:n.value.length<e?{minlength:{requiredLength:e,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function i4(e){return n=>JA(n.value)&&n.value.length>e?{maxlength:{requiredLength:e,actualLength:n.value.length}}:null}(n)}static pattern(n){return function o4(e){if(!e)return ly;let n,t;return"string"==typeof e?(t="","^"!==e.charAt(0)&&(t+="^"),t+=e,"$"!==e.charAt(e.length-1)&&(t+="$"),n=new RegExp(t)):(t=e.toString(),n=e),x=>{if(Bh(x.value))return null;const R=x.value;return n.test(R)?null:{pattern:{requiredPattern:t,actualValue:R}}}}(n)}static nullValidator(n){return null}static compose(n){return f4(n)}static composeAsync(n){return h4(n)}}function ly(e){return null}function a4(e){return null!=e}function s4(e){return qg(e)?tr(e):e}function l4(e){let n={};return e.forEach(t=>{n=null!=t?{...n,...t}:n}),0===Object.keys(n).length?null:n}function u4(e,n){return n.map(t=>t(e))}function c4(e){return e.map(n=>function aR(e){return!e.validate}(n)?n:t=>n.validate(t))}function f4(e){if(!e)return null;const n=e.filter(a4);return 0==n.length?null:function(t){return l4(u4(t,n))}}function Ub(e){return null!=e?f4(c4(e)):null}function h4(e){if(!e)return null;const n=e.filter(a4);return 0==n.length?null:function(t){return function KP(...e){const n=Mt(e),{args:t,keys:x}=xM(e),R=new L(Y=>{const{length:ce}=t;if(!ce)return void Y.complete();const Re=new Array(ce);let He=ce,tt=ce;for(let xt=0;xt<ce;xt++){let Zt=!1;Vt(t[xt]).subscribe(H(Y,rn=>{Zt||(Zt=!0,tt--),Re[xt]=rn},()=>He--,void 0,()=>{(!He||!Zt)&&(tt||Y.next(x?bM(x,Re):Re),Y.complete())}))}});return n?R.pipe(rb(n)):R}(u4(t,n).map(s4)).pipe(X(l4))}}function Vb(e){return null!=e?h4(c4(e)):null}function d4(e,n){return null===e?[n]:Array.isArray(e)?[...e,n]:[e,n]}function p4(e){return e._rawValidators}function g4(e){return e._rawAsyncValidators}function Hb(e){return e?Array.isArray(e)?e:[e]:[]}function uy(e,n){return Array.isArray(e)?e.includes(n):e===n}function m4(e,n){const t=Hb(n);return Hb(e).forEach(R=>{uy(t,R)||t.push(R)}),t}function v4(e,n){return Hb(n).filter(t=>!uy(e,t))}class y4{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Ub(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Vb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class Uh extends y4{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class _4{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let x4=(()=>{class e extends _4{constructor(t){super(t)}}return e.\u0275fac=function(t){return new(t||e)(ir(Uh,2))},e.\u0275dir=ni({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,x){2&t&&ho("ng-untouched",x.isUntouched)("ng-touched",x.isTouched)("ng-pristine",x.isPristine)("ng-dirty",x.isDirty)("ng-valid",x.isValid)("ng-invalid",x.isInvalid)("ng-pending",x.isPending)},features:[ea]}),e})();const Lm="VALID",fy="INVALID",b0="PENDING",Nm="DISABLED";function hy(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class M4{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===Lm}get invalid(){return this.status===fy}get pending(){return this.status==b0}get disabled(){return this.status===Nm}get enabled(){return this.status!==Nm}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(m4(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(m4(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(v4(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(v4(n,this._rawAsyncValidators))}hasValidator(n){return uy(this._rawValidators,n)}hasAsyncValidator(n){return uy(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=b0,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=Nm,this.errors=null,this._forEachChild(x=>{x.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(x=>x(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=Lm,this._forEachChild(x=>{x.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(x=>x(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Lm||this.status===b0)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Nm:Lm}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=b0,this._hasOwnPendingAsyncValidator=!0;const t=s4(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(x=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(x,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent)}get(n){let t=n;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((x,R)=>x&&x._find(R),this)}getError(n,t){const x=t?this.get(t):this;return x&&x.errors?x.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new Ii,this.statusChanges=new Ii}_calculateStatus(){return this._allControlsDisabled()?Nm:this.errors?fy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(b0)?b0:this._anyControlsHaveStatus(fy)?fy:Lm}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){hy(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function pR(e){return Array.isArray(e)?Ub(e):e||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function gR(e){return Array.isArray(e)?Vb(e):e||null}(this._rawAsyncValidators)}}const Fm=new yi("CallSetDisabledState",{providedIn:"root",factory:()=>Xb}),Xb="always";function zm(e,n,t=Xb){(function Jb(e,n){const t=p4(e);null!==n.validator?e.setValidators(d4(t,n.validator)):"function"==typeof t&&e.setValidators([t]);const x=g4(e);null!==n.asyncValidator?e.setAsyncValidators(d4(x,n.asyncValidator)):"function"==typeof x&&e.setAsyncValidators([x]);const R=()=>e.updateValueAndValidity();gy(n._rawValidators,R),gy(n._rawAsyncValidators,R)})(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&n.valueAccessor.setDisabledState?.(e.disabled),function yR(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&A4(e,n)})}(e,n),function xR(e,n){const t=(x,R)=>{n.valueAccessor.writeValue(x),R&&n.viewToModelUpdate(x)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,n),function _R(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&A4(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),function vR(e,n){if(n.valueAccessor.setDisabledState){const t=x=>{n.valueAccessor.setDisabledState(x)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,n)}function py(e,n,t=!0){const x=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(x),n.valueAccessor.registerOnTouched(x)),function my(e,n){let t=!1;if(null!==e){if(null!==n.validator){const R=p4(e);if(Array.isArray(R)&&R.length>0){const Y=R.filter(ce=>ce!==n.validator);Y.length!==R.length&&(t=!0,e.setValidators(Y))}}if(null!==n.asyncValidator){const R=g4(e);if(Array.isArray(R)&&R.length>0){const Y=R.filter(ce=>ce!==n.asyncValidator);Y.length!==R.length&&(t=!0,e.setAsyncValidators(Y))}}}const x=()=>{};return gy(n._rawValidators,x),gy(n._rawAsyncValidators,x),t}(e,n),e&&(n._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function gy(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function A4(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function C4(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function E4(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const n2=class extends M4{constructor(n=null,t,x){super(function $b(e){return(hy(e)?e.validators:e)||null}(t),function Zb(e,n){return(hy(n)?n.asyncValidators:e)||null}(x,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),hy(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=E4(n)?n.value:n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(x=>x(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){C4(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){C4(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){E4(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};let L4=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=mi({type:e}),e.\u0275inj=sr({}),e})();const r2=new yi("NgModelWithFormControlWarning"),RR={provide:Uh,useExisting:Zn(()=>i2)};let i2=(()=>{class e extends Uh{set isDisabled(t){}constructor(t,x,R,Y,ce){super(),this._ngModelWarningConfig=Y,this.callSetDisabledState=ce,this.update=new Ii,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(x),this.valueAccessor=function e2(e,n){if(!n)return null;let t,x,R;return Array.isArray(n),n.forEach(Y=>{Y.constructor===sy?t=Y:function TR(e){return Object.getPrototypeOf(e.constructor)===Id}(Y)?x=Y:R=Y}),R||x||t||null}(0,R)}ngOnChanges(t){if(this._isControlChanged(t)){const x=t.form.previousValue;x&&py(x,this,!1),zm(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}(function Qb(e,n){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)})(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&py(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return e._ngModelWarningSentOnce=!1,e.\u0275fac=function(t){return new(t||e)(ir($l,10),ir(jh,10),ir(Bu,10),ir(r2,8),ir(Fm,8))},e.\u0275dir=ni({type:e,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[ua([RR]),ea,Eo]}),e})(),QR=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=mi({type:e}),e.\u0275inj=sr({imports:[L4]}),e})(),tL=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:r2,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Fm,useValue:t.callSetDisabledState??Xb}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=mi({type:e}),e.\u0275inj=sr({imports:[QR]}),e})();const nL=["addListener","removeListener"],rL=["addEventListener","removeEventListener"],iL=["on","off"];function Zl(e,n,t,x){if(Ei(t)&&(x=t,t=void 0),x)return Zl(e,n,t).pipe(rb(x));const[R,Y]=function sL(e){return Ei(e.addEventListener)&&Ei(e.removeEventListener)}(e)?rL.map(ce=>Re=>e[ce](n,Re,t)):function oL(e){return Ei(e.addListener)&&Ei(e.removeListener)}(e)?nL.map(J4(e,n)):function aL(e){return Ei(e.on)&&Ei(e.off)}(e)?iL.map(J4(e,n)):[];if(!R&&Je(e))return st(ce=>Zl(ce,n,t))(Vt(e));if(!R)throw new TypeError("Invalid event target");return new L(ce=>{const Re=(...He)=>ce.next(1<He.length?He:He[0]);return R(Re),()=>Y(Re)})}function J4(e,n){return t=>x=>e[t](n,x)}class lL extends C{constructor(n,t){super()}schedule(n,t=0){return this}}const vy={setInterval(e,n,...t){const{delegate:x}=vy;return x?.setInterval?x.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){const{delegate:n}=vy;return(n?.clearInterval||clearInterval)(e)},delegate:void 0},K4={now:()=>(K4.delegate||Date).now(),delegate:void 0};class jm{constructor(n,t=jm.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,x){return new this.schedulerActionCtor(this,n).schedule(x,t)}}jm.now=K4.now;const fL=new class cL extends jm{constructor(n,t=jm.now){super(n,t),this.actions=[],this._active=!1}flush(n){const{actions:t}=this;if(this._active)return void t.push(n);let x;this._active=!0;do{if(x=n.execute(n.state,n.delay))break}while(n=t.shift());if(this._active=!1,x){for(;n=t.shift();)n.unsubscribe();throw x}}}(class uL extends lL{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var x;if(this.closed)return this;this.state=n;const R=this.id,Y=this.scheduler;return null!=R&&(this.id=this.recycleAsyncId(Y,R,t)),this.pending=!0,this.delay=t,this.id=null!==(x=this.id)&&void 0!==x?x:this.requestAsyncId(Y,this.id,t),this}requestAsyncId(n,t,x=0){return vy.setInterval(n.flush.bind(n,this),x)}recycleAsyncId(n,t,x=0){if(null!=x&&this.delay===x&&!1===this.pending)return t;null!=t&&vy.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const x=this._execute(n,t);if(x)return x;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let R,x=!1;try{this.work(n)}catch(Y){x=!0,R=Y||new Error("Scheduled action threw falsy error")}if(x)return this.unsubscribe(),R}unsubscribe(){if(!this.closed){const{id:n,scheduler:t}=this,{actions:x}=t;this.work=this.state=this.scheduler=null,this.pending=!1,r(x,this),null!=n&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}});const{isArray:dL}=Array;function ek(e){return 1===e.length&&dL(e[0])?e[0]:e}function yy(...e){const n=Mt(e),t=ek(e);return t.length?new L(x=>{let R=t.map(()=>[]),Y=t.map(()=>!1);x.add(()=>{R=Y=null});for(let ce=0;!x.closed&&ce<t.length;ce++)Vt(t[ce]).subscribe(H(x,Re=>{if(R[ce].push(Re),R.every(He=>He.length)){const He=R.map(tt=>tt.shift());x.next(n?n(...He):He),R.some((tt,xt)=>!tt.length&&Y[xt])&&x.complete()}},()=>{Y[ce]=!0,!R[ce].length&&x.complete()}));return()=>{R=Y=null}}):bt}function Ts(e){return G((n,t)=>{Vt(e).subscribe(H(t,()=>t.complete(),i)),!t.closed&&n.subscribe(t)})}function d2(...e){const n=Mt(e);return G((t,x)=>{const R=e.length,Y=new Array(R);let ce=e.map(()=>!1),Re=!1;for(let He=0;He<R;He++)Vt(e[He]).subscribe(H(x,tt=>{Y[He]=tt,!Re&&!ce[He]&&(ce[He]=!0,(Re=ce.every(A))&&(ce=null))},i));t.subscribe(H(x,He=>{if(Re){const tt=[He,...Y];x.next(n?n(...tt):tt)}}))})}new L(i),Math,Math,Math;const Ty=["*"],cF=["dialog"];function $m(e){return"string"==typeof e}function Nd(e){return null!=e}function S0(e){return(e||document.body).getBoundingClientRect()}const Mk={animation:!0,transitionTimerDelayMs:5},yz=()=>{},{transitionTimerDelayMs:_z}=Mk,Zm=new Map,Il=(e,n,t,x)=>{let R=x.context||{};const Y=Zm.get(n);if(Y)switch(x.runningTransition){case"continue":return bt;case"stop":e.run(()=>Y.transition$.complete()),R=Object.assign(Y.context,R),Zm.delete(n)}const ce=t(n,x.animation,R)||yz;if(!x.animation||"none"===window.getComputedStyle(n).transitionProperty)return e.run(()=>ce()),Pi(void 0).pipe(function mz(e){return n=>new L(t=>n.subscribe({next:ce=>e.run(()=>t.next(ce)),error:ce=>e.run(()=>t.error(ce)),complete:()=>e.run(()=>t.complete())}))}(e));const Re=new Z,He=new Z,tt=Re.pipe(function gL(...e){return n=>dm(n,Pi(...e))}(!0));Zm.set(n,{transition$:Re,complete:()=>{He.next(),He.complete()},context:R});const xt=function vz(e){const{transitionDelay:n,transitionDuration:t}=window.getComputedStyle(e);return 1e3*(parseFloat(n)+parseFloat(t))}(n);return e.runOutsideAngular(()=>{const Zt=Zl(n,"transitionend").pipe(Ts(tt),yl(({target:yn})=>yn===n));(function tk(...e){return 1===(e=ek(e)).length?Vt(e[0]):new L(function pL(e){return n=>{let t=[];for(let x=0;t&&!n.closed&&x<e.length;x++)t.push(Vt(e[x]).subscribe(H(n,R=>{if(t){for(let Y=0;Y<t.length;Y++)Y!==x&&t[Y].unsubscribe();t=null}n.next(R)})))}}(e))})(function f2(e=0,n,t=fL){let x=-1;return null!=n&&(Nt(n)?t=n:x=n),new L(R=>{let Y=function hL(e){return e instanceof Date&&!isNaN(e)}(e)?+e-t.now():e;Y<0&&(Y=0);let ce=0;return t.schedule(function(){R.closed||(R.next(ce++),0<=x?this.schedule(void 0,x):R.complete())},Y)})}(xt+_z).pipe(Ts(tt)),Zt,He).pipe(Ts(tt)).subscribe(()=>{Zm.delete(n),e.run(()=>{ce(),Re.next(),Re.complete()})})}),Re.asObservable()};let C0=(()=>{class e{constructor(){this.animation=Mk.animation}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Oo=(()=>{return(e=Oo||(Oo={}))[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",Oo;var e})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Lk=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Nk(e){const n=Array.from(e.querySelectorAll(Lk)).filter(t=>-1!==t.tabIndex);return[n[0],n[n.length-1]]}new Date(1882,10,12),new Date(2174,10,25);class Ud{constructor(n,t,x){this.nodes=n,this.viewRef=t,this.componentRef=x}}let EB=(()=>{class e{constructor(t,x){this._el=t,this._zone=x}ngOnInit(){this._zone.onStable.asObservable().pipe(_l(1)).subscribe(()=>{Il(this._zone,this._el.nativeElement,(t,x)=>{x&&S0(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Il(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return e.\u0275fac=function(t){return new(t||e)(ir(lo),ir(Yo))},e.\u0275cmp=yo({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,x){2&t&&(Eh("modal-backdrop"+(x.backdropClass?" "+x.backdropClass:"")),ho("show",!x.animation)("fade",x.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[ml],decls:0,vars:0,template:function(t,x){},encapsulation:2}),e})();class Kk{close(n){}dismiss(n){}}class DB{constructor(n,t,x,R){this._windowCmptRef=n,this._contentRef=t,this._backdropCmptRef=x,this._beforeDismiss=R,this._closed=new Z,this._dismissed=new Z,this._hidden=new Z,n.instance.dismissEvent.subscribe(Y=>{this.dismiss(Y)}),this.result=new Promise((Y,ce)=>{this._resolve=Y,this._reject=ce}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Ts(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Ts(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function bk(e){return e&&e.then}(t)?!1!==t&&this._dismiss(n):t.then(x=>{!1!==x&&this._dismiss(n)},()=>{})}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Pi(void 0);n.subscribe(()=>{const{nativeElement:x}=this._windowCmptRef.location;x.parentNode.removeChild(x),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:x}=this._backdropCmptRef.location;x.parentNode.removeChild(x),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),yy(n,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Km=(()=>{return(e=Km||(Km={}))[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",Km;var e})();let OB=(()=>{class e{constructor(t,x,R){this._document=t,this._elRef=x,this._zone=R,this._closed$=new Z,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Ii,this.shown=new Z,this.hidden=new Z}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":$m(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(_l(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,x={animation:this.animation,runningTransition:"stop"},ce=yy(Il(this._zone,t,()=>t.classList.remove("show"),x),Il(this._zone,this._dialogEl.nativeElement,()=>{},x));return ce.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),ce}_show(){const t={animation:this.animation,runningTransition:"continue"};yy(Il(this._zone,this._elRef.nativeElement,(Y,ce)=>{ce&&S0(Y),Y.classList.add("show")},t),Il(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Zl(t,"keydown").pipe(Ts(this._closed$),yl(R=>R.which===Oo.Escape)).subscribe(R=>{this.keyboard?requestAnimationFrame(()=>{R.defaultPrevented||this._zone.run(()=>this.dismiss(Km.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let x=!1;Zl(this._dialogEl.nativeElement,"mousedown").pipe(Ts(this._closed$),Ol(()=>x=!1),Mc(()=>Zl(t,"mouseup").pipe(Ts(this._closed$),_l(1))),yl(({target:R})=>t===R)).subscribe(()=>{x=!0}),Zl(t,"click").pipe(Ts(this._closed$)).subscribe(({target:R})=>{t===R&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!x&&this._zone.run(()=>this.dismiss(Km.BACKDROP_CLICK))),x=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const x=t.querySelector("[ngbAutofocus]"),R=Nk(t)[0];(x||R||t).focus()}}_restoreFocus(){const t=this._document.body,x=this._elWithFocus;let R;R=x&&x.focus&&t.contains(x)?x:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>R.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Il(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return e.\u0275fac=function(t){return new(t||e)(ir(ws),ir(lo),ir(Yo))},e.\u0275cmp=yo({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(t,x){if(1&t&&bc(cF,7),2&t){let R;Po(R=Ro())&&(x._dialogEl=R.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,x){2&t&&(Go("aria-modal",!0)("aria-labelledby",x.ariaLabelledBy)("aria-describedby",x.ariaDescribedBy),Eh("modal d-block"+(x.windowClass?" "+x.windowClass:"")),ho("fade",x.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[ml],ngContentSelectors:Ty,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,x){1&t&&(Xp(),Zr(0,"div",0,1)(2,"div",2),ff(3),Qr()()),2&t&&Eh("modal-dialog"+(x.size?" modal-"+x.size:"")+(x.centered?" modal-dialog-centered":"")+x.fullscreenClass+(x.scrollable?" modal-dialog-scrollable":"")+(x.modalDialogClass?" "+x.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),e})(),IB=(()=>{class e{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),x=this._document.body,R=x.style,{overflow:Y,paddingRight:ce}=R;if(t>0){const Re=parseFloat(window.getComputedStyle(x).paddingRight);R.paddingRight=`${Re+t}px`}return R.overflow="hidden",()=>{t>0&&(R.paddingRight=ce),R.overflow=Y}}}return e.\u0275fac=function(t){return new(t||e)($r(ws))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),PB=(()=>{class e{constructor(t,x,R,Y,ce,Re,He){this._applicationRef=t,this._injector=x,this._environmentInjector=R,this._document=Y,this._scrollBar=ce,this._rendererFactory=Re,this._ngZone=He,this._activeWindowCmptHasChanged=new Z,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new Ii,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const tt=this._windowCmpts[this._windowCmpts.length-1];((e,n,t,x=!1)=>{e.runOutsideAngular(()=>{const R=Zl(n,"focusin").pipe(Ts(t),X(Y=>Y.target));Zl(n,"keydown").pipe(Ts(t),yl(Y=>Y.which===Oo.Tab),d2(R)).subscribe(([Y,ce])=>{const[Re,He]=Nk(n);(ce===Re||ce===n)&&Y.shiftKey&&(He.focus(),Y.preventDefault()),ce===He&&!Y.shiftKey&&(Re.focus(),Y.preventDefault())}),x&&Zl(n,"click").pipe(Ts(t),d2(R),X(Y=>Y[1])).subscribe(Y=>Y.focus())})})(this._ngZone,tt.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(tt.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,x,R){const Y=R.container instanceof HTMLElement?R.container:Nd(R.container)?this._document.querySelector(R.container):this._document.body,ce=this._rendererFactory.createRenderer(null,null);if(!Y)throw new Error(`The specified modal container "${R.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const Re=new Kk,He=(t=R.injector||t).get(Ho,null)||this._environmentInjector,tt=this._getContentRef(t,He,x,Re,R);let xt=!1!==R.backdrop?this._attachBackdrop(Y):void 0,Zt=this._attachWindowComponent(Y,tt.nodes),rn=new DB(Zt,tt,xt,R.beforeDismiss);return this._registerModalRef(rn),this._registerWindowCmpt(Zt),rn.hidden.pipe(_l(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(ce.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),Re.close=yn=>{rn.close(yn)},Re.dismiss=yn=>{rn.dismiss(yn)},this._applyWindowOptions(Zt.instance,R),1===this._modalRefs.length&&ce.addClass(this._document.body,"modal-open"),xt&&xt.instance&&(this._applyBackdropOptions(xt.instance,R),xt.changeDetectorRef.detectChanges()),Zt.changeDetectorRef.detectChanges(),rn}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(x=>x.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let x=bx(EB,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(x.hostView),t.appendChild(x.location.nativeElement),x}_attachWindowComponent(t,x){let R=bx(OB,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:x});return this._applicationRef.attachView(R.hostView),t.appendChild(R.location.nativeElement),R}_applyWindowOptions(t,x){this._windowAttributes.forEach(R=>{Nd(x[R])&&(t[R]=x[R])})}_applyBackdropOptions(t,x){this._backdropAttributes.forEach(R=>{Nd(x[R])&&(t[R]=x[R])})}_getContentRef(t,x,R,Y,ce){return R?R instanceof Ua?this._createFromTemplateRef(R,Y):$m(R)?this._createFromString(R):this._createFromComponent(t,x,R,Y,ce):new Ud([])}_createFromTemplateRef(t,x){const Y=t.createEmbeddedView({$implicit:x,close(ce){x.close(ce)},dismiss(ce){x.dismiss(ce)}});return this._applicationRef.attachView(Y),new Ud([Y.rootNodes],Y)}_createFromString(t){const x=this._document.createTextNode(`${t}`);return new Ud([[x]])}_createFromComponent(t,x,R,Y,ce){const He=bx(R,{environmentInjector:x,elementInjector:Gl.create({providers:[{provide:Kk,useValue:Y}],parent:t})}),tt=He.location.nativeElement;return ce.scrollable&&tt.classList.add("component-host-scrollable"),this._applicationRef.attachView(He.hostView),new Ud([[tt]],He.hostView,He)}_setAriaHidden(t){const x=t.parentElement;x&&t!==this._document.body&&(Array.from(x.children).forEach(R=>{R!==t&&"SCRIPT"!==R.nodeName&&(this._ariaHiddenValues.set(R,R.getAttribute("aria-hidden")),R.setAttribute("aria-hidden","true"))}),this._setAriaHidden(x))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,x)=>{t?x.setAttribute("aria-hidden",t):x.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const x=()=>{const R=this._modalRefs.indexOf(t);R>-1&&(this._modalRefs.splice(R,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(x,x)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const x=this._windowCmpts.indexOf(t);x>-1&&(this._windowCmpts.splice(x,1),this._activeWindowCmptHasChanged.next())})}}return e.\u0275fac=function(t){return new(t||e)($r(im),$r(Gl),$r(Ho),$r(ws),$r(IB),$r(_u),$r(Yo))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),RB=(()=>{class e{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return e.\u0275fac=function(t){return new(t||e)($r(C0))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Qk=(()=>{class e{constructor(t,x,R){this._injector=t,this._modalStack=x,this._config=R}open(t,x={}){const R={...this._config,animation:this._config.animation,...x};return this._modalStack.open(this._injector,t,R)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return e.\u0275fac=function(t){return new(t||e)($r(Gl),$r(PB),$r(RB))},e.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),eS=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=mi({type:e}),e.\u0275inj=sr({providers:[Qk]}),e})();function yj(e,n){if(1&e){const t=Aa();Zr(0,"button",6),Ni("click",function(){gi(t);const R=ti(),Y=lu(7);return Wi(R.open(Y))}),ta(1," Set GitHub Token "),Qr()}}function _j(e,n){if(1&e){const t=Aa();Zr(0,"button",7),Ni("click",function(){gi(t);const R=ti(),Y=lu(7);return Wi(R.open(Y))}),ta(1,"Reset GitHub Token"),Qr()}}function xj(e,n){if(1&e){const t=Aa();Zr(0,"div",8)(1,"h4",9),ta(2,"Set GitHub Token"),Qr(),Zr(3,"button",10),Ni("click",function(){return Wi(gi(t).$implicit.dismiss())}),Qr()(),Zr(4,"div",11)(5,"div",12)(6,"span",13),ta(7,"Token"),Qr(),zs(8,"input",14),Zr(9,"button",15),Ni("click",function(){return gi(t),Wi(ti().submitToken())}),ta(10,"Submit"),Qr()()()}if(2&e){const t=ti();Hr(8),qr("formControl",t.githubTokenFormControl),Hr(1),qr("disabled",!t.isTokenValid())}}new yi("live announcer delay",{providedIn:"root",factory:function mj(){return 100}});class Qm{constructor(n,t){this.modalService=n,this.ghSvc=t,this.githubTokenFormControl=new n2("",oR.required)}ngOnInit(){}open(n){this.modalService.open(n)}submitToken(){console.log("has token: ",this.githubTokenFormControl.value),this.githubTokenFormControl.value&&""!==this.githubTokenFormControl.value&&(this.ghSvc.setToken(this.githubTokenFormControl.value),this.modalService.dismissAll())}isTokenValid(){return this.githubTokenFormControl.valid}hasToken(){return this.ghSvc.hasToken()}}Qm.\u0275fac=function(n){return new(n||Qm)(ir(Qk),ir(Od))},Qm.\u0275cmp=yo({type:Qm,selectors:[["s3gw-main-layout"]],decls:8,vars:2,consts:[[1,"navbar","navbar-expand","navbar-dark","bg-dark","position-fixed","top-0","w-100"],[1,"container-fluid"],["class","btn btn-success",3,"click",4,"ngIf"],["class","btn btn-danger",3,"click",4,"ngIf"],[2,"padding-top","54px"],["githubModal",""],[1,"btn","btn-success",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"modal-header"],["id","github-modal-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"input-group","mb-3"],[1,"input-group-text"],["type","text","placeholder","GitHub API Token",1,"form-control",3,"formControl"],["type","button",1,"btn","btn-warning",3,"disabled","click"]],template:function(n,t){1&n&&(Zr(0,"nav",0)(1,"div",1),ri(2,yj,2,0,"button",2),ri(3,_j,2,0,"button",3),Qr()(),Zr(4,"div",4),zs(5,"router-outlet"),Qr(),ri(6,xj,11,2,"ng-template",null,5,uu)),2&n&&(Hr(2),qr("ngIf",!t.hasToken()),Hr(1),qr("ngIf",t.hasToken()))},dependencies:[zu,xb,sy,x4,i2]});class e1{constructor(){this.title="s3gw-charts"}}e1.\u0275fac=function(n){return new(n||e1)},e1.\u0275cmp=yo({type:e1,selectors:[["s3gw-root"]],decls:1,vars:0,template:function(n,t){1&n&&zs(0,"s3gw-main-layout")},dependencies:[Qm]});class I0{}I0.\u0275fac=function(n){return new(n||I0)},I0.\u0275mod=mi({type:I0,bootstrap:[e1]}),I0.\u0275inj=sr({imports:[lO,x0,BO,eS,tL]}),sO().bootstrapModule(I0).catch(e=>console.error(e))},637:(rc,cu)=>{"use strict";var Ei=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}();rc.exports=cu=Ei.fetch,Ei.fetch&&(cu.default=Ei.fetch.bind(Ei)),cu.Headers=Ei.Headers,cu.Request=Ei.Request,cu.Response=Ei.Response},389:(rc,cu,fs)=>{var Ei=fs(136);function ie(r){var C=function(){return C.called?C.value:(C.called=!0,C.value=r.apply(this,arguments))};return C.called=!1,C}function z(r){var C=function(){if(C.called)throw new Error(C.onceError);return C.called=!0,C.value=r.apply(this,arguments)};return C.onceError=(r.name||"Function wrapped with `once`")+" shouldn't be called more than once",C.called=!1,C}rc.exports=Ei(ie),rc.exports.strict=Ei(z),ie.proto=ie(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return ie(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return z(this)},configurable:!0})})},102:rc=>{self,rc.exports=function(){var cu={98847:function(ie,z,r){"use strict";var C=r(71828),E={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var f in E){var S=f.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");C.addStyleRule(S,E[f])}},98222:function(ie,z,r){"use strict";ie.exports=r(82887)},27206:function(ie,z,r){"use strict";ie.exports=r(60822)},59893:function(ie,z,r){"use strict";ie.exports=r(23381)},5224:function(ie,z,r){"use strict";ie.exports=r(83832)},59509:function(ie,z,r){"use strict";ie.exports=r(72201)},75557:function(ie,z,r){"use strict";ie.exports=r(91815)},40338:function(ie,z,r){"use strict";ie.exports=r(21462)},35080:function(ie,z,r){"use strict";ie.exports=r(51319)},61396:function(ie,z,r){"use strict";ie.exports=r(57516)},40549:function(ie,z,r){"use strict";ie.exports=r(98128)},49866:function(ie,z,r){"use strict";ie.exports=r(99442)},36089:function(ie,z,r){"use strict";ie.exports=r(93740)},19548:function(ie,z,r){"use strict";ie.exports=r(8729)},35831:function(ie,z,r){"use strict";ie.exports=r(93814)},61039:function(ie,z,r){"use strict";ie.exports=r(14382)},97040:function(ie,z,r){"use strict";ie.exports=r(51759)},77986:function(ie,z,r){"use strict";ie.exports=r(10421)},24296:function(ie,z,r){"use strict";ie.exports=r(43102)},58872:function(ie,z,r){"use strict";ie.exports=r(92165)},29626:function(ie,z,r){"use strict";ie.exports=r(3325)},65591:function(ie,z,r){"use strict";ie.exports=r(36071)},69738:function(ie,z,r){"use strict";ie.exports=r(43905)},92650:function(ie,z,r){"use strict";ie.exports=r(35902)},35630:function(ie,z,r){"use strict";ie.exports=r(69816)},73434:function(ie,z,r){"use strict";ie.exports=r(94507)},27909:function(ie,z,r){"use strict";var C=r(19548);C.register([r(27206),r(5224),r(58872),r(65591),r(69738),r(92650),r(49866),r(25743),r(6197),r(97040),r(85461),r(73434),r(54201),r(81299),r(47645),r(35630),r(77986),r(83043),r(93005),r(96881),r(4534),r(50581),r(40549),r(77900),r(47582),r(35080),r(21641),r(17280),r(5861),r(29626),r(10021),r(65317),r(96268),r(61396),r(35831),r(16122),r(46163),r(40344),r(40338),r(48131),r(36089),r(55334),r(75557),r(19440),r(99488),r(59893),r(97393),r(98222),r(61039),r(24296),r(66398),r(59509)]),ie.exports=C},46163:function(ie,z,r){"use strict";ie.exports=r(15154)},96881:function(ie,z,r){"use strict";ie.exports=r(64943)},50581:function(ie,z,r){"use strict";ie.exports=r(21164)},55334:function(ie,z,r){"use strict";ie.exports=r(54186)},65317:function(ie,z,r){"use strict";ie.exports=r(94873)},10021:function(ie,z,r){"use strict";ie.exports=r(67618)},54201:function(ie,z,r){"use strict";ie.exports=r(58810)},5861:function(ie,z,r){"use strict";ie.exports=r(20593)},16122:function(ie,z,r){"use strict";ie.exports=r(29396)},83043:function(ie,z,r){"use strict";ie.exports=r(13551)},48131:function(ie,z,r){"use strict";ie.exports=r(46858)},47582:function(ie,z,r){"use strict";ie.exports=r(17988)},21641:function(ie,z,r){"use strict";ie.exports=r(68868)},96268:function(ie,z,r){"use strict";ie.exports=r(20467)},19440:function(ie,z,r){"use strict";ie.exports=r(91271)},99488:function(ie,z,r){"use strict";ie.exports=r(21461)},97393:function(ie,z,r){"use strict";ie.exports=r(85956)},25743:function(ie,z,r){"use strict";ie.exports=r(52979)},66398:function(ie,z,r){"use strict";ie.exports=r(32275)},17280:function(ie,z,r){"use strict";ie.exports=r(6419)},77900:function(ie,z,r){"use strict";ie.exports=r(61510)},81299:function(ie,z,r){"use strict";ie.exports=r(87619)},93005:function(ie,z,r){"use strict";ie.exports=r(93601)},40344:function(ie,z,r){"use strict";ie.exports=r(96595)},47645:function(ie,z,r){"use strict";ie.exports=r(70954)},6197:function(ie,z,r){"use strict";ie.exports=r(47462)},4534:function(ie,z,r){"use strict";ie.exports=r(17659)},85461:function(ie,z,r){"use strict";ie.exports=r(19990)},82884:function(ie){"use strict";ie.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},50215:function(ie,z,r){"use strict";var C=r(82884),E=r(41940),f=r(85555),S=r(44467).templatedArray;r(24695),ie.exports=S("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:E({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:C.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:C.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",f.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",f.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",f.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",f.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:E({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},3749:function(ie,z,r){"use strict";var C=r(71828),E=r(89298),f=r(92605).draw;function S(v){C.filterVisible(v._fullLayout.annotations).forEach(function(i){var u=E.getFromId(v,i.xref),a=E.getFromId(v,i.yref),o=E.getRefType(i.xref),l=E.getRefType(i.yref);i._extremes={},"range"===o&&M(i,u),"range"===l&&M(i,a)})}function M(v,c){var i,u=c._id,a=u.charAt(0),o=v[a],l=v["a"+a],g=v["_"+a+"padplus"],p=v["_"+a+"padminus"],T={x:1,y:-1}[a]*v[a+"shift"],_=3*v.arrowsize*v.arrowwidth||0,y=_+T,w=_-T,m=3*v.startarrowsize*v.arrowwidth||0,b=m+T,k=m-T;if(v["a"+a+"ref"]===v[a+"ref"]){var h=E.findExtremes(c,[c.r2c(o)],{ppadplus:y,ppadminus:w}),O=E.findExtremes(c,[c.r2c(l)],{ppadplus:Math.max(g,b),ppadminus:Math.max(p,k)});i={min:[h.min[0],O.min[0]],max:[h.max[0],O.max[0]]}}else b=l?b+l:b,k=l?k-l:k,i=E.findExtremes(c,[c.r2c(o)],{ppadplus:Math.max(g,y,b),ppadminus:Math.max(p,w,k)});v._extremes[u]=i}ie.exports=function(v){if(C.filterVisible(v._fullLayout.annotations).length&&v._fullData.length)return C.syncOrAsync([f,S],v)}},44317:function(ie,z,r){"use strict";var C=r(71828),E=r(73972),f=r(44467).arrayEditor;function S(v,c){var i,u,a,o,l,s,d,g=v._fullLayout.annotations,p=[],T=[],_=[],y=(c||[]).length;for(i=0;i<g.length;i++)if(o=(a=g[i]).clicktoshow){for(u=0;u<y;u++)if(s=(l=c[u]).xaxis,d=l.yaxis,s._id===a.xref&&d._id===a.yref&&s.d2r(l.x)===M(a._xclick,s)&&d.d2r(l.y)===M(a._yclick,d)){(a.visible?"onout"===o?T:_:p).push(i);break}u===y&&a.visible&&"onout"===o&&T.push(i)}return{on:p,off:T,explicitOff:_}}function M(v,c){return"log"===c.type?c.l2r(v):c.d2r(v)}ie.exports={hasClickToShow:function(v,c){var i=S(v,c);return i.on.length>0||i.explicitOff.length>0},onClick:function(v,c){var i,u,a=S(v,c),o=a.on,l=a.off.concat(a.explicitOff),s={},d=v._fullLayout.annotations;if(o.length||l.length){for(i=0;i<o.length;i++)(u=f(v.layout,"annotations",d[o[i]])).modifyItem("visible",!0),C.extendFlat(s,u.getUpdateObj());for(i=0;i<l.length;i++)(u=f(v.layout,"annotations",d[l[i]])).modifyItem("visible",!1),C.extendFlat(s,u.getUpdateObj());return E.call("update",v,{},s)}}}},25625:function(ie,z,r){"use strict";var C=r(71828),E=r(7901);ie.exports=function(f,S,M,v){v("opacity");var c=v("bgcolor"),i=v("bordercolor"),u=E.opacity(i);v("borderpad");var a=v("borderwidth"),o=v("showarrow");if(v("text",o?" ":M._dfltTitle.annotation),v("textangle"),C.coerceFont(v,"font",M.font),v("width"),v("align"),v("height")&&v("valign"),o){var l,s,d=v("arrowside");-1!==d.indexOf("end")&&(l=v("arrowhead"),s=v("arrowsize")),-1!==d.indexOf("start")&&(v("startarrowhead",l),v("startarrowsize",s)),v("arrowcolor",u?S.bordercolor:E.defaultLine),v("arrowwidth",2*(u&&a||1)),v("standoff"),v("startstandoff")}var g=v("hovertext"),p=M.hoverlabel||{};if(g){var T=v("hoverlabel.bgcolor",p.bgcolor||(E.opacity(c)?E.rgb(c):E.defaultLine)),_=v("hoverlabel.bordercolor",p.bordercolor||E.contrast(T));C.coerceFont(v,"hoverlabel.font",{family:p.font.family,size:p.font.size,color:p.font.color||_})}v("captureevents",!!g)}},94128:function(ie,z,r){"use strict";var C=r(92770),E=r(58163);ie.exports=function(f,S,M,v){S=S||{};var c="log"===M&&"linear"===S.type;if(c||"linear"===M&&"log"===S.type)for(var u,a,o=f._fullLayout.annotations,l=S._id.charAt(0),s=0;s<o.length;s++)a="annotations["+s+"].",(u=o[s])[l+"ref"]===S._id&&d(l),u["a"+l+"ref"]===S._id&&d("a"+l);function d(g){var p=u[g],T=null;T=c?E(p,S.range):Math.pow(10,p),C(T)||(T=null),v(a+g,T)}}},84046:function(ie,z,r){"use strict";var C=r(71828),E=r(89298),f=r(85501),S=r(25625),M=r(50215);function v(c,i,u){function a(O,A){return C.coerce(c,i,M,O,A)}var o=a("visible"),l=a("clicktoshow");if(o||l){S(c,i,u,a);for(var s=i.showarrow,d=["x","y"],g=[-10,-30],p={_fullLayout:u},T=0;T<2;T++){var _=d[T],y=E.coerceRef(c,i,p,_,"","paper");if("paper"!==y&&E.getFromId(p,y)._annIndices.push(i._index),E.coercePosition(i,p,a,y,_,.5),s){var w="a"+_,m=E.coerceRef(c,i,p,w,"pixel",["pixel","paper"]);"pixel"!==m&&m!==y&&(m=i[w]="pixel"),E.coercePosition(i,p,a,m,w,"pixel"===m?g[T]:.4)}a(_+"anchor"),a(_+"shift")}if(C.noneOrAll(c,i,["x","y"]),s&&C.noneOrAll(c,i,["ax","ay"]),l){var k=a("xclick"),h=a("yclick");i._xclick=void 0===k?i.x:E.cleanPosition(k,p,i.xref),i._yclick=void 0===h?i.y:E.cleanPosition(h,p,i.yref)}}}ie.exports=function(c,i){f(c,i,{name:"annotations",handleItemDefaults:v})}},92605:function(ie,z,r){"use strict";var C=r(39898),E=r(73972),f=r(74875),S=r(71828),M=S.strTranslate,v=r(89298),c=r(7901),i=r(91424),u=r(30211),a=r(63893),o=r(6964),l=r(28569),s=r(44467).arrayEditor,d=r(13011);function g(_,y){var w=_._fullLayout.annotations[y]||{},m=v.getFromId(_,w.xref),b=v.getFromId(_,w.yref);m&&m.setScale(),b&&b.setScale(),T(_,w,y,!1,m,b)}function p(_,y,w,m,b){var k=b[w],h=b[w+"ref"],O=-1!==w.indexOf("y"),A="domain"===v.getRefType(h),I=O?m.h:m.w;return _?A?k+(O?-y:y)/_._length:_.p2r(_.r2p(k)+y):k+(O?-y:y)/I}function T(_,y,w,m,b,k){var h,O,A=_._fullLayout,I=_._fullLayout._size,P=_._context.edits;m?(h="annotation-"+m,O=m+".annotations"):(h="annotation",O="annotations");var L=s(_.layout,O,y),N=L.modifyBase,B=L.modifyItem,W=L.getUpdateObj;A._infolayer.selectAll("."+h+'[data-index="'+w+'"]').remove();var j="clip"+A._uid+"_ann"+w;if(y._input&&!1!==y.visible){var Z={x:{},y:{}},V=+y.textangle||0,q=A._infolayer.append("g").classed(h,!0).attr("data-index",String(w)).style("opacity",y.opacity),G=q.append("g").classed("annotation-text-g",!0),H=P[y.showarrow?"annotationTail":"annotationPosition"],ne=y.captureevents||P.annotationText||H,X=G.append("g").style("pointer-events",ne?"all":null).call(o,"pointer").on("click",function(){_._dragging=!1,_.emit("plotly_clickannotation",ke(C.event))});y.hovertext&&X.on("mouseover",function(){var ye=y.hoverlabel,Ne=ye.font,be=this.getBoundingClientRect(),Ee=_.getBoundingClientRect();u.loneHover({x0:be.left-Ee.left,x1:be.right-Ee.left,y:(be.top+be.bottom)/2-Ee.top,text:y.hovertext,color:ye.bgcolor,borderColor:ye.bordercolor,fontFamily:Ne.family,fontSize:Ne.size,fontColor:Ne.color},{container:A._hoverlayer.node(),outerContainer:A._paper.node(),gd:_})}).on("mouseout",function(){u.loneUnhover(A._hoverlayer.node())});var $=y.borderwidth,te=$+y.borderpad,re=X.append("rect").attr("class","bg").style("stroke-width",$+"px").call(c.stroke,y.bordercolor).call(c.fill,y.bgcolor),le=y.width||y.height,ue=A._topclips.selectAll("#"+j).data(le?[0]:[]);ue.enter().append("clipPath").classed("annclip",!0).attr("id",j).append("rect"),ue.exit().remove();var he=y.font,ge=A._meta?S.templateString(y.text,A._meta):y.text,xe=X.append("text").classed("annotation-text",!0).text(ge);P.annotationText?xe.call(a.makeEditable,{delegate:X,gd:_}).call(Ae).on("edit",function(ye){y.text=ye,this.call(Ae),B("text",ye),b&&b.autorange&&N(b._name+".autorange",!0),k&&k.autorange&&N(k._name+".autorange",!0),E.call("_guiRelayout",_,W())}):xe.call(Ae)}else C.selectAll("#"+j).remove();function ke(ye){var Ne={index:w,annotation:y._input,fullAnnotation:y,event:ye};return m&&(Ne.subplotId=m),Ne}function Ae(ye){return ye.call(i.font,he).attr({"text-anchor":{left:"start",right:"end"}[y.align]||"middle"}),a.convertToTspans(ye,_,pe),ye}function pe(){var ye=xe.selectAll("a");1===ye.size()&&ye.text()===xe.text()&&X.insert("a",":first-child").attr({"xlink:xlink:href":ye.attr("xlink:href"),"xlink:xlink:show":ye.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(re.node());var Ne=X.select(".annotation-text-math-group"),be=!Ne.empty(),Ee=i.bBox((be?Ne:xe).node()),Oe=Ee.width,De=Ee.height,oe=y.width||Oe,de=y.height||De,_e=Math.round(oe+2*te),Me=Math.round(de+2*te);function Pe(Nt,Tt){return"auto"===Tt&&(Tt=Nt<.3333333333333333?"left":Nt>.6666666666666666?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[Tt]}for(var Ue=!1,Be=["x","y"],Ve=0;Ve<Be.length;Ve++){var ve,Te,Ce,We,Ke,Je=Be[Ve],ht=y[Je+"ref"]||Je,ft=y["a"+Je+"ref"],mt={x:b,y:k}[Je],At=(V+("x"===Je?0:-90))*Math.PI/180,Rt=_e*Math.cos(At),It=Me*Math.sin(At),Pt=Math.abs(Rt)+Math.abs(It),Bt=y[Je+"anchor"],Ut=y[Je+"shift"]*("x"===Je?1:-1),Vt=Z[Je],tn=v.getRefType(ht);if(mt&&"domain"!==tn){var Gt=mt.r2fraction(y[Je]);(Gt<0||Gt>1)&&(ft===ht?((Gt=mt.r2fraction(y["a"+Je]))<0||Gt>1)&&(Ue=!0):Ue=!0),ve=mt._offset+mt.r2p(y[Je]),We=.5}else{var et="domain"===tn;"x"===Je?(Ce=y[Je],ve=et?mt._offset+mt._length*Ce:ve=I.l+I.w*Ce):(Ce=1-y[Je],ve=et?mt._offset+mt._length*Ce:ve=I.t+I.h*Ce),We=y.showarrow?.5:Ce}if(y.showarrow){Vt.head=ve;var nt=y["a"+Je];if(Ke=Rt*Pe(.5,y.xanchor)-It*Pe(.5,y.yanchor),ft===ht){var $e=v.getRefType(ft);"domain"===$e?("y"===Je&&(nt=1-nt),Vt.tail=mt._offset+mt._length*nt):Vt.tail="paper"===$e?"y"===Je?I.t+I.h*(nt=1-nt):I.l+I.w*nt:mt._offset+mt.r2p(nt),Te=Ke}else Vt.tail=ve+nt,Te=Ke+nt;Vt.text=Vt.tail+Ke;var ot=A["x"===Je?"width":"height"];if("paper"===ht&&(Vt.head=S.constrain(Vt.head,1,ot-1)),"pixel"===ft){var dt=-Math.max(Vt.tail-3,Vt.text),Le=Math.min(Vt.tail+3,Vt.text)-ot;dt>0?(Vt.tail+=dt,Vt.text+=dt):Le>0&&(Vt.tail-=Le,Vt.text-=Le)}Vt.tail+=Ut,Vt.head+=Ut}else Te=Ke=Pt*Pe(We,Bt),Vt.text=ve+Ke;Vt.text+=Ut,Ke+=Ut,y["_"+Je+"padplus"]=Pt/2+(Te+=Ut),y["_"+Je+"padminus"]=Pt/2-Te,y["_"+Je+"size"]=Pt,y["_"+Je+"shift"]=Ke}if(Ue)X.remove();else{var Ge=0,st=0;"left"!==y.align&&(Ge=(oe-Oe)*("center"===y.align?.5:1)),"top"!==y.valign&&(st=(de-De)*("middle"===y.valign?.5:1)),be?Ne.select("svg").attr({x:te+Ge-1,y:te+st}).call(i.setClipUrl,le?j:null,_):xe.call(a.positionText,te+Ge-Ee.left,te+st-Ee.top).call(i.setClipUrl,le?j:null,_),ue.select("rect").call(i.setRect,te,te,oe,de),re.call(i.setRect,$/2,$/2,_e-$,Me-$),X.call(i.setTranslate,Math.round(Z.x.text-_e/2),Math.round(Z.y.text-Me/2)),G.attr({transform:"rotate("+V+","+Z.x.text+","+Z.y.text+")"});var Lt,jt=function(Nt,Tt){q.selectAll(".annotation-arrow-g").remove();var Mt=Z.x.head,kt=Z.y.head,Ht=Z.x.tail+Nt,qt=Z.y.tail+Tt,Qt=Z.x.text+Nt,Jt=Z.y.text+Tt,Kt=S.rotationXYMatrix(V,Qt,Jt),ln=S.apply2DTransform(Kt),Tn=S.apply2DTransform2(Kt),An=+re.attr("width"),pn=+re.attr("height"),Nn=Qt-.5*An,tr=Nn+An,On=Jt-.5*pn,wn=On+pn,Cn=[[Nn,On,Nn,wn],[Nn,wn,tr,wn],[tr,wn,tr,On],[tr,On,Nn,On]].map(Tn);if(!Cn.reduce(function(Un,ur){return Un^!!S.segmentsIntersect(Mt,kt,Mt+1e6,kt+1e6,ur[0],ur[1],ur[2],ur[3])},!1)){Cn.forEach(function(Un){var ur=S.segmentsIntersect(Ht,qt,Mt,kt,Un[0],Un[1],Un[2],Un[3]);ur&&(Ht=ur.x,qt=ur.y)});var mn=y.arrowwidth,En=y.arrowcolor,Fn=y.arrowside,jn=q.append("g").style({opacity:c.opacity(En)}).classed("annotation-arrow-g",!0),er=jn.append("path").attr("d","M"+Ht+","+qt+"L"+Mt+","+kt).style("stroke-width",mn+"px").call(c.stroke,c.rgb(En));if(d(er,Fn,y),P.annotationPosition&&er.node().parentNode&&!m){var Zn=Mt,Gn=kt;if(y.standoff){var _r=Math.sqrt(Math.pow(Mt-Ht,2)+Math.pow(kt-qt,2));Zn+=y.standoff*(Ht-Mt)/_r,Gn+=y.standoff*(qt-kt)/_r}var mr,Vr,Dr=jn.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(Ht-Zn)+","+(qt-Gn),transform:M(Zn,Gn)}).style("stroke-width",mn+6+"px").call(c.stroke,"rgba(0,0,0,0)").call(c.fill,"rgba(0,0,0,0)");l.init({element:Dr.node(),gd:_,prepFn:function(){var Un=i.getTranslate(X);mr=Un.x,Vr=Un.y,b&&b.autorange&&N(b._name+".autorange",!0),k&&k.autorange&&N(k._name+".autorange",!0)},moveFn:function(Un,ur){var cr=ln(mr,Vr),on=cr[0]+Un,xn=cr[1]+ur;X.call(i.setTranslate,on,xn),B("x",p(b,Un,"x",I,y)),B("y",p(k,ur,"y",I,y)),y.axref===y.xref&&B("ax",p(b,Un,"ax",I,y)),y.ayref===y.yref&&B("ay",p(k,ur,"ay",I,y)),jn.attr("transform",M(Un,ur)),G.attr({transform:"rotate("+V+","+on+","+xn+")"})},doneFn:function(){E.call("_guiRelayout",_,W());var Un=document.querySelector(".js-notes-box-panel");Un&&Un.redraw(Un.selectedObj)}})}}};y.showarrow&&jt(0,0),H&&l.init({element:X.node(),gd:_,prepFn:function(){Lt=G.attr("transform")},moveFn:function(Nt,Tt){var Mt="pointer";if(y.showarrow)B("ax",y.axref===y.xref?p(b,Nt,"ax",I,y):y.ax+Nt),B("ay",y.ayref===y.yref?p(k,Tt,"ay",I.w,y):y.ay+Tt),jt(Nt,Tt);else{if(m)return;var kt,Ht;if(b)kt=p(b,Nt,"x",I,y);else{var qt=y._xsize/I.w;kt=l.align(y.x+(y._xshift-y.xshift)/I.w-qt/2+Nt/I.w,qt,0,1,y.xanchor)}if(k)Ht=p(k,Tt,"y",I,y);else{var Jt=y._ysize/I.h;Ht=l.align(y.y-(y._yshift+y.yshift)/I.h-Jt/2-Tt/I.h,Jt,0,1,y.yanchor)}B("x",kt),B("y",Ht),b&&k||(Mt=l.getCursor(b?.5:kt,k?.5:Ht,y.xanchor,y.yanchor))}G.attr({transform:M(Nt,Tt)+Lt}),o(X,Mt)},clickFn:function(Nt,Tt){y.captureevents&&_.emit("plotly_clickannotation",ke(Tt))},doneFn:function(){o(X),E.call("_guiRelayout",_,W());var Nt=document.querySelector(".js-notes-box-panel");Nt&&Nt.redraw(Nt.selectedObj)}})}}}ie.exports={draw:function(_){var y=_._fullLayout;y._infolayer.selectAll(".annotation").remove();for(var w=0;w<y.annotations.length;w++)y.annotations[w].visible&&g(_,w);return f.previousPromises(_)},drawOne:g,drawRaw:T}},13011:function(ie,z,r){"use strict";var C=r(39898),E=r(7901),f=r(82884),S=r(71828),M=S.strScale,v=S.strRotate,c=S.strTranslate;ie.exports=function(i,u,a){var o,l,s,d,g=i.node(),p=f[a.arrowhead||0],T=f[a.startarrowhead||0],_=(a.arrowwidth||1)*(a.arrowsize||1),y=(a.arrowwidth||1)*(a.startarrowsize||1),w=u.indexOf("start")>=0,m=u.indexOf("end")>=0,b=p.backoff*_+a.standoff,k=T.backoff*y+a.startstandoff;if("line"===g.nodeName){o={x:+i.attr("x1"),y:+i.attr("y1")},l={x:+i.attr("x2"),y:+i.attr("y2")};var h=o.x-l.x,O=o.y-l.y;if(d=(s=Math.atan2(O,h))+Math.PI,b&&k&&b+k>Math.sqrt(h*h+O*O))return void q();if(b){if(b*b>h*h+O*O)return void q();var A=b*Math.cos(s),I=b*Math.sin(s);l.x+=A,l.y+=I,i.attr({x2:l.x,y2:l.y})}if(k){if(k*k>h*h+O*O)return void q();var P=k*Math.cos(s),L=k*Math.sin(s);o.x-=P,o.y-=L,i.attr({x1:o.x,y1:o.y})}}else if("path"===g.nodeName){var N=g.getTotalLength(),B="";if(N<b+k)return void q();var W=g.getPointAtLength(0),j=g.getPointAtLength(.1);s=Math.atan2(W.y-j.y,W.x-j.x),o=g.getPointAtLength(Math.min(k,N)),B="0px,"+k+"px,";var Z=g.getPointAtLength(N),V=g.getPointAtLength(N-.1);d=Math.atan2(Z.y-V.y,Z.x-V.x),l=g.getPointAtLength(Math.max(0,N-b)),i.style("stroke-dasharray",B+=N-(B?k+b:b)+"px,"+N+"px")}function q(){i.style("stroke-dasharray","0px,100px")}function G(H,ne,X,$){H.path&&(H.noRotate&&(X=0),C.select(g.parentNode).append("path").attr({class:i.attr("class"),d:H.path,transform:c(ne.x,ne.y)+v(180*X/Math.PI)+M($)}).style({fill:E.rgb(a.arrowcolor),"stroke-width":0}))}w&&G(T,o,s,y),m&&G(p,l,d,_)}},32745:function(ie,z,r){"use strict";var C=r(92605),E=r(44317);ie.exports={moduleType:"component",name:"annotations",layoutAttributes:r(50215),supplyLayoutDefaults:r(84046),includeBasePlot:r(76325)("annotations"),calcAutorange:r(3749),draw:C.draw,drawOne:C.drawOne,drawRaw:C.drawRaw,hasClickToShow:E.hasClickToShow,onClick:E.onClick,convertCoords:r(94128)}},26997:function(ie,z,r){"use strict";var C=r(50215),E=r(30962).overrideAll,f=r(44467).templatedArray;ie.exports=E(f("annotation",{visible:C.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:C.xanchor,xshift:C.xshift,yanchor:C.yanchor,yshift:C.yshift,text:C.text,textangle:C.textangle,font:C.font,width:C.width,height:C.height,opacity:C.opacity,align:C.align,valign:C.valign,bgcolor:C.bgcolor,bordercolor:C.bordercolor,borderpad:C.borderpad,borderwidth:C.borderwidth,showarrow:C.showarrow,arrowcolor:C.arrowcolor,arrowhead:C.arrowhead,startarrowhead:C.startarrowhead,arrowside:C.arrowside,arrowsize:C.arrowsize,startarrowsize:C.startarrowsize,arrowwidth:C.arrowwidth,standoff:C.standoff,startstandoff:C.startstandoff,hovertext:C.hovertext,hoverlabel:C.hoverlabel,captureevents:C.captureevents}),"calc","from-root")},5485:function(ie,z,r){"use strict";var C=r(71828),E=r(89298);function f(S,M){var v=M.fullSceneLayout.domain,c=M.fullLayout._size,i={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};S._xa={},C.extendFlat(S._xa,i),E.setConvert(S._xa),S._xa._offset=c.l+v.x[0]*c.w,S._xa.l2p=function(){return.5*(1+S._pdata[0]/S._pdata[3])*c.w*(v.x[1]-v.x[0])},S._ya={},C.extendFlat(S._ya,i),E.setConvert(S._ya),S._ya._offset=c.t+(1-v.y[1])*c.h,S._ya.l2p=function(){return.5*(1-S._pdata[1]/S._pdata[3])*c.h*(v.y[1]-v.y[0])}}ie.exports=function(S){for(var M=S.fullSceneLayout.annotations,v=0;v<M.length;v++)f(M[v],S);S.fullLayout._infolayer.selectAll(".annotation-"+S.id).remove()}},20226:function(ie,z,r){"use strict";var C=r(71828),E=r(89298),f=r(85501),S=r(25625),M=r(26997);function v(c,i,u,a){function o(s,d){return C.coerce(c,i,M,s,d)}function l(s){var d=s+"axis",g={_fullLayout:{}};return g._fullLayout[d]=u[d],E.coercePosition(i,g,o,s,s,.5)}o("visible")&&(S(c,i,a.fullLayout,o),l("x"),l("y"),l("z"),C.noneOrAll(c,i,["x","y","z"]),i.xref="x",i.yref="y",i.zref="z",o("xanchor"),o("yanchor"),o("xshift"),o("yshift"),i.showarrow&&(i.axref="pixel",i.ayref="pixel",o("ax",-10),o("ay",-30),C.noneOrAll(c,i,["ax","ay"])))}ie.exports=function(c,i,u){f(c,i,{name:"annotations",handleItemDefaults:v,fullLayout:u.fullLayout})}},82188:function(ie,z,r){"use strict";var C=r(92605).drawRaw,E=r(63538),f=["x","y","z"];ie.exports=function(S){for(var M=S.fullSceneLayout,v=S.dataScale,c=M.annotations,i=0;i<c.length;i++){for(var u=c[i],a=!1,o=0;o<3;o++){var l=f[o],d=M[l+"axis"].r2fraction(u[l]);if(d<0||d>1){a=!0;break}}a?S.fullLayout._infolayer.select(".annotation-"+S.id+'[data-index="'+i+'"]').remove():(u._pdata=E(S.glplot.cameraParams,[M.xaxis.r2l(u.x)*v[0],M.yaxis.r2l(u.y)*v[1],M.zaxis.r2l(u.z)*v[2]]),C(S.graphDiv,u,i,S.id,u._xa,u._ya))}}},2468:function(ie,z,r){"use strict";var C=r(73972),E=r(71828);ie.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:r(26997)}}},layoutAttributes:r(26997),handleDefaults:r(20226),includeBasePlot:function(f,S){var M=C.subplotsRegistry.gl3d;if(M)for(var v=M.attrRegex,c=Object.keys(f),i=0;i<c.length;i++){var u=c[i];v.test(u)&&(f[u].annotations||[]).length&&(E.pushUnique(S._basePlotModules,M),E.pushUnique(S._subplots.gl3d,u))}},convert:r(5485),draw:r(82188)}},7561:function(ie,z,r){"use strict";ie.exports=r(63489),r(94338),r(3961),r(38751),r(86825),r(37715),r(99384),r(43805),r(88874),r(83290),r(29108),r(55422),r(94320),r(31320),r(51367),r(21457)},72201:function(ie,z,r){"use strict";var C=r(7561),E=r(71828),f=r(50606),S=f.EPOCHJD,M=f.ONEDAY,v={valType:"enumerated",values:E.sortObjectKeys(C.calendars),editType:"calc",dflt:"gregorian"},c=function(_,y,w,m){var b={};return b[w]=v,E.coerce(_,y,b,w,m)},i="##",u={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:i,w:i,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}},a={};function o(_){return a[_]||(a[_]=C.instance(_))}function l(_){return E.extendFlat({},v,{description:_})}function s(_){return"Sets the calendar system to use with `"+_+"` date data."}var d={xcalendar:l(s("x"))},g=E.extendFlat({},d,{ycalendar:l(s("y"))}),p=E.extendFlat({},g,{zcalendar:l(s("z"))}),T=l(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));ie.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:g,bar:g,box:g,heatmap:g,contour:g,histogram:g,histogram2d:g,histogram2dcontour:g,scatter3d:p,surface:p,mesh3d:p,scattergl:g,ohlc:d,candlestick:d},layout:{calendar:l(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:T},yaxis:{calendar:T},scene:{xaxis:{calendar:T},yaxis:{calendar:T},zaxis:{calendar:T}},polar:{radialaxis:{calendar:T}}},transforms:{filter:{valuecalendar:l(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:l(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:v,handleDefaults:c,handleTraceDefaults:function(_,y,w,m){for(var b=0;b<w.length;b++)c(_,y,w[b]+"calendar",m.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:o,worldCalFmt:function(_,y,w){for(var m,b,k,h,O,A=Math.floor((y+.05)/M)+S,I=o(w).fromJD(A),P=0;-1!==(P=_.indexOf("%",P));)"0"===(m=_.charAt(P+1))||"-"===m||"_"===m?(k=3,b=_.charAt(P+2),"_"===m&&(m="-")):(b=m,m="0",k=2),(h=u[b])?(O=h===i?i:I.formatDate(h[m]),_=_.substr(0,P)+O+_.substr(P+k),P+=O.length):P+=k;return _}}},22399:function(ie,z){"use strict";z.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],z.defaultLine="#444",z.lightLine="#eee",z.background="#fff",z.borderLine="#BEC8D9",z.lightFraction=90.9090909090909},7901:function(ie,z,r){"use strict";var C=r(84267),E=r(92770),f=r(73627).isTypedArray,S=ie.exports={},M=r(22399);S.defaults=M.defaults;var v=S.defaultLine=M.defaultLine;S.lightLine=M.lightLine;var c=S.background=M.background;function i(u){if(E(u)||"string"!=typeof u)return u;var a=u.trim();if("rgb"!==a.substr(0,3))return u;var o=a.match(/^rgba?\s*\(([^()]*)\)$/);if(!o)return u;var l=o[1].trim().split(/\s*[\s,]\s*/),s="a"===a.charAt(3)&&4===l.length;if(!s&&3!==l.length)return u;for(var d=0;d<l.length;d++){if(!(l[d].length&&(l[d]=Number(l[d]),l[d]>=0)))return u;if(3===d)l[d]>1&&(l[d]=1);else if(l[d]>=1)return u}var g=Math.round(255*l[0])+", "+Math.round(255*l[1])+", "+Math.round(255*l[2]);return s?"rgba("+g+", "+l[3]+")":"rgb("+g+")"}S.tinyRGB=function(u){var a=u.toRgb();return"rgb("+Math.round(a.r)+", "+Math.round(a.g)+", "+Math.round(a.b)+")"},S.rgb=function(u){return S.tinyRGB(C(u))},S.opacity=function(u){return u?C(u).getAlpha():0},S.addOpacity=function(u,a){var o=C(u).toRgb();return"rgba("+Math.round(o.r)+", "+Math.round(o.g)+", "+Math.round(o.b)+", "+a+")"},S.combine=function(u,a){var o=C(u).toRgb();if(1===o.a)return C(u).toRgbString();var l=C(a||c).toRgb(),s=1===l.a?l:{r:255*(1-l.a)+l.r*l.a,g:255*(1-l.a)+l.g*l.a,b:255*(1-l.a)+l.b*l.a};return C({r:s.r*(1-o.a)+o.r*o.a,g:s.g*(1-o.a)+o.g*o.a,b:s.b*(1-o.a)+o.b*o.a}).toRgbString()},S.contrast=function(u,a,o){var l=C(u);return 1!==l.getAlpha()&&(l=C(S.combine(u,c))),(l.isDark()?a?l.lighten(a):c:o?l.darken(o):v).toString()},S.stroke=function(u,a){var o=C(a);u.style({stroke:S.tinyRGB(o),"stroke-opacity":o.getAlpha()})},S.fill=function(u,a){var o=C(a);u.style({fill:S.tinyRGB(o),"fill-opacity":o.getAlpha()})},S.clean=function(u){if(u&&"object"==typeof u){var a,o,l,s,d=Object.keys(u);for(a=0;a<d.length;a++)if(s=u[l=d[a]],"color"===l.substr(l.length-5))if(Array.isArray(s))for(o=0;o<s.length;o++)s[o]=i(s[o]);else u[l]=i(s);else if("colorscale"===l.substr(l.length-10)&&Array.isArray(s))for(o=0;o<s.length;o++)Array.isArray(s[o])&&(s[o][1]=i(s[o][1]));else if(Array.isArray(s)){var g=s[0];if(!Array.isArray(g)&&g&&"object"==typeof g)for(o=0;o<s.length;o++)S.clean(s[o])}else s&&"object"==typeof s&&!f(s)&&S.clean(s)}}},63583:function(ie,z,r){"use strict";var C=r(13838),E=r(41940),f=r(1426).extendFlat,S=r(30962).overrideAll;ie.exports=S({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number",min:-2,max:3},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:C.linecolor,outlinewidth:C.linewidth,bordercolor:C.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:C.minor.tickmode,nticks:C.nticks,tick0:C.tick0,dtick:C.dtick,tickvals:C.tickvals,ticktext:C.ticktext,ticks:f({},C.ticks,{dflt:""}),ticklabeloverflow:f({},C.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:C.ticklen,tickwidth:C.tickwidth,tickcolor:C.tickcolor,ticklabelstep:C.ticklabelstep,showticklabels:C.showticklabels,tickfont:E({}),tickangle:C.tickangle,tickformat:C.tickformat,tickformatstops:C.tickformatstops,tickprefix:C.tickprefix,showtickprefix:C.showtickprefix,ticksuffix:C.ticksuffix,showticksuffix:C.showticksuffix,separatethousands:C.separatethousands,exponentformat:C.exponentformat,minexponent:C.minexponent,showexponent:C.showexponent,title:{text:{valType:"string"},font:E({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:E({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},30939:function(ie){"use strict";ie.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},62499:function(ie,z,r){"use strict";var C=r(71828),E=r(44467),f=r(26218),S=r(38701),M=r(96115),v=r(89426),c=r(63583);ie.exports=function(i,u,a){var o=E.newContainer(u,"colorbar"),l=i.colorbar||{};function s(O,A){return C.coerce(l,o,c,O,A)}var d=a.margin||{t:0,b:0,l:0,r:0},g=a.width-d.l-d.r,p=a.height-d.t-d.b,T="v"===s("orientation"),_=s("thicknessmode");s("thickness","fraction"===_?30/(T?g:p):30);var y=s("lenmode");s("len","fraction"===y?1:T?p:g),s("x",T?1.02:.5),s("xanchor",T?"left":"center"),s("xpad"),s("y",T?.5:1.02),s("yanchor",T?"middle":"bottom"),s("ypad"),C.noneOrAll(l,o,["x","y"]),s("outlinecolor"),s("outlinewidth"),s("bordercolor"),s("borderwidth"),s("bgcolor");var w=C.coerce(l,o,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:T?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");s("ticklabeloverflow",-1!==w.indexOf("inside")?"hide past domain":"hide past div"),f(l,o,s,"linear");var m=a.font,b={outerTicks:!1,font:m};-1!==w.indexOf("inside")&&(b.bgColor="black"),v(l,o,s,"linear",b),M(l,o,s,"linear",b),S(l,o,s,"linear",b),s("title.text",a._dfltTitle.colorbar);var k=o.tickfont,h=C.extendFlat({},k,{color:m.color,size:C.bigFont(k.size)});C.coerceFont(s,"title.font",h),s("title.side",T?"top":"right")}},98981:function(ie,z,r){"use strict";var C=r(39898),E=r(84267),f=r(74875),S=r(73972),M=r(89298),v=r(28569),c=r(71828),i=c.strTranslate,u=r(1426).extendFlat,a=r(6964),o=r(91424),l=r(7901),s=r(92998),d=r(63893),g=r(52075).flipScale,p=r(71453),T=r(52830),_=r(13838),y=r(18783),w=y.LINE_SPACING,m=y.FROM_TL,b=y.FROM_BR,k=r(30939).cn;ie.exports={draw:function(h){var O=h._fullLayout._infolayer.selectAll("g."+k.colorbar).data(function(A){var I,P,L,N,B=A._fullLayout,W=A.calcdata,j=[];function Z(le){return u(le,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function V(){"function"==typeof N.calc?N.calc(A,L,I):(I._fillgradient=P.reversescale?g(P.colorscale):P.colorscale,I._zrange=[P[N.min],P[N.max]])}for(var q=0;q<W.length;q++){var H=(L=W[q][0].trace)._module.colorbar;if(!0===L.visible&&H)for(var ne=Array.isArray(H),X=ne?H:[H],$=0;$<X.length;$++){var Q=(N=X[$]).container;(P=Q?L[Q]:L)&&P.showscale&&((I=Z(P.colorbar))._id="cb"+L.uid+(ne&&Q?"-"+Q:""),I._traceIndex=L.index,I._propPrefix=(Q?Q+".":"")+"colorbar.",I._meta=L._meta,V(),j.push(I))}}for(var te in B._colorAxes)if((P=B[te]).showscale){var re=B._colorAxes[te];(I=Z(P.colorbar))._id="cb"+te,I._propPrefix=te+".colorbar.",I._meta=B._meta,N={min:"cmin",max:"cmax"},"heatmap"!==re[0]&&(N.calc=(L=re[1])._module.colorbar.calc),V(),j.push(I)}return j}(h),function(A){return A._id});O.enter().append("g").attr("class",function(A){return A._id}).classed(k.colorbar,!0),O.each(function(A){var I=C.select(this);c.ensureSingle(I,"rect",k.cbbg),c.ensureSingle(I,"g",k.cbfills),c.ensureSingle(I,"g",k.cblines),c.ensureSingle(I,"g",k.cbaxis,function(L){L.classed(k.crisp,!0)}),c.ensureSingle(I,"g",k.cbtitleunshift,function(L){L.append("g").classed(k.cbtitle,!0)}),c.ensureSingle(I,"rect",k.cboutline);var L,N,B,W,j,Z,V,q,P=function(L,N,B){var W="v"===N.orientation,j=N.len,Z=N.lenmode,V=N.thickness,q=N.thicknessmode,G=N.outlinewidth,H=N.borderwidth,ne=N.bgcolor,X=N.xanchor,$=N.yanchor,Q=N.xpad,te=N.ypad,re=N.x,le=W?N.y:1-N.y,ue=B._fullLayout,he=ue._size,ge=N._fillcolor,xe=N._line,ke=N.title,Ae=ke.side,pe=N._zrange||C.extent(("function"==typeof ge?ge:xe.color).domain()),ye="function"==typeof xe.color?xe.color:function(){return xe.color},Ne="function"==typeof ge?ge:function(){return ge},be=N._levels,Ee=function(tn,Gt,et){var nt,$e,ot=Gt._levels,dt=[],Le=[],Ge=ot.end+ot.size/100,st=ot.size,vt=1.001*et[0]-.001*et[1],bt=1.001*et[1]-.001*et[0];for($e=0;$e<1e5&&(nt=ot.start+$e*st,!(st>0?nt>=Ge:nt<=Ge));$e++)nt>vt&&nt<bt&&dt.push(nt);if(Gt._fillgradient)Le=[0];else if("function"==typeof Gt._fillcolor){var Lt=Gt._filllevels;if(Lt)for(Ge=Lt.end+Lt.size/100,st=Lt.size,$e=0;$e<1e5&&(nt=Lt.start+$e*st,!(st>0?nt>=Ge:nt<=Ge));$e++)nt>et[0]&&nt<et[1]&&Le.push(nt);else(Le=dt.map(function(jt){return jt-ot.size/2})).push(Le[Le.length-1]+ot.size)}else Gt._fillcolor&&"string"==typeof Gt._fillcolor&&(Le=[0]);return ot.size<0&&(dt.reverse(),Le.reverse()),{line:dt,fill:Le}}(0,N,pe),Oe=Ee.fill,De=Ee.line,oe=Math.round(V*("fraction"===q?W?he.w:he.h:1)),de=oe/(W?he.w:he.h),_e=Math.round(j*("fraction"===Z?W?he.h:he.w:1)),Me=_e/(W?he.h:he.w),Pe=Math.round(W?re*he.w+Q:le*he.h+te),Ue={center:.5,right:1}[X]||0,Be={top:1,middle:.5}[$]||0,Ve=W?re-Ue*de:le-Be*de,ve=W?le-Be*Me:re-Ue*Me,Te=Math.round(W?he.h*(1-ve):he.w*ve);N._lenFrac=Me,N._thickFrac=de,N._uFrac=Ve,N._vFrac=ve;var Ce=N._axis=function(tn,Gt,et){var nt=tn._fullLayout,$e="v"===Gt.orientation,ot={type:"linear",range:et,tickmode:Gt.tickmode,nticks:Gt.nticks,tick0:Gt.tick0,dtick:Gt.dtick,tickvals:Gt.tickvals,ticktext:Gt.ticktext,ticks:Gt.ticks,ticklen:Gt.ticklen,tickwidth:Gt.tickwidth,tickcolor:Gt.tickcolor,showticklabels:Gt.showticklabels,ticklabelposition:Gt.ticklabelposition,ticklabeloverflow:Gt.ticklabeloverflow,ticklabelstep:Gt.ticklabelstep,tickfont:Gt.tickfont,tickangle:Gt.tickangle,tickformat:Gt.tickformat,exponentformat:Gt.exponentformat,minexponent:Gt.minexponent,separatethousands:Gt.separatethousands,showexponent:Gt.showexponent,showtickprefix:Gt.showtickprefix,tickprefix:Gt.tickprefix,showticksuffix:Gt.showticksuffix,ticksuffix:Gt.ticksuffix,title:Gt.title,showline:!0,anchor:"free",side:$e?"right":"bottom",position:1},dt=$e?"y":"x",Le={type:"linear",_id:dt+Gt._id},Ge={letter:dt,font:nt.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:nt.calendar};function st(vt,bt){return c.coerce(ot,Le,_,vt,bt)}return p(ot,Le,st,Ge,nt),T(ot,Le,st,Ge),Le}(B,N,pe);Ce.position=de+(W?re+Q/he.w:le+te/he.h);var We=-1!==["top","bottom"].indexOf(Ae);if(W&&We&&(Ce.title.side=Ae,Ce.titlex=re+Q/he.w,Ce.titley=ve+("top"===ke.side?Me-te/he.h:te/he.h)),W||We||(Ce.title.side=Ae,Ce.titley=le+te/he.h,Ce.titlex=ve+Q/he.w),xe.color&&"auto"===N.tickmode){Ce.tickmode="linear",Ce.tick0=be.start;var Ke=be.size,Je=c.constrain(_e/50,4,15)+1,ht=(pe[1]-pe[0])/((N.nticks||Je)*Ke);if(ht>1){var ft=Math.pow(10,Math.floor(Math.log(ht)/Math.LN10));Ke*=ft*c.roundUp(ht/ft,[2,5,10]),(Math.abs(be.start)/be.size+1e-6)%1<2e-6&&(Ce.tick0=0)}Ce.dtick=Ke}Ce.domain=W?[ve+te/he.h,ve+Me-te/he.h]:[ve+Q/he.w,ve+Me-Q/he.w],Ce.setScale(),L.attr("transform",i(Math.round(he.l),Math.round(he.t)));var mt,At=L.select("."+k.cbtitleunshift).attr("transform",i(-Math.round(he.l),-Math.round(he.t))),Rt=Ce.ticklabelposition,It=Ce.title.font.size,Pt=L.select("."+k.cbaxis),Bt=0,Ut=0;function Vt(tn,Gt){var et={propContainer:Ce,propName:N._propPrefix+"title",traceIndex:N._traceIndex,_meta:N._meta,placeholder:ue._dfltTitle.colorbar,containerGroup:L.select("."+k.cbtitle)},nt="h"===tn.charAt(0)?tn.substr(1):"h"+tn;L.selectAll("."+nt+",."+nt+"-math-group").remove(),s.draw(B,tn,u(et,Gt||{}))}return c.syncOrAsync([f.previousPromises,function(){var tn,Gt;(W&&We||!W&&!We)&&("top"===Ae&&(tn=Q+he.l+he.w*re,Gt=te+he.t+he.h*(1-ve-Me)+3+.75*It),"bottom"===Ae&&(tn=Q+he.l+he.w*re,Gt=te+he.t+he.h*(1-ve)-3-.25*It),"right"===Ae&&(Gt=te+he.t+he.h*le+3+.75*It,tn=Q+he.l+he.w*ve),Vt(Ce._id+"title",{attributes:{x:tn,y:Gt,"text-anchor":W?"start":"middle"}}))},function(){if(!W&&!We||W&&We){var tn,Gt=L.select("."+k.cbtitle),et=Gt.select("text"),nt=[-G/2,G/2],$e=Gt.select(".h"+Ce._id+"title-math-group").node(),ot=15.6;if(et.node()&&(ot=parseInt(et.node().style.fontSize,10)*w),$e?(tn=o.bBox($e),Ut=tn.width,(Bt=tn.height)>ot&&(nt[1]-=(Bt-ot)/2)):et.node()&&!et.classed(k.jsPlaceholder)&&(tn=o.bBox(et.node()),Ut=tn.width,Bt=tn.height),W){if(Bt){if(Bt+=5,"top"===Ae)Ce.domain[1]-=Bt/he.h,nt[1]*=-1;else{Ce.domain[0]+=Bt/he.h;var dt=d.lineCount(et);nt[1]+=(1-dt)*ot}Gt.attr("transform",i(nt[0],nt[1])),Ce.setScale()}}else Ut&&("right"===Ae&&(Ce.domain[0]+=(Ut+It/2)/he.w),Gt.attr("transform",i(nt[0],nt[1])),Ce.setScale())}L.selectAll("."+k.cbfills+",."+k.cblines).attr("transform",W?i(0,Math.round(he.h*(1-Ce.domain[1]))):i(Math.round(he.w*Ce.domain[0]),0)),Pt.attr("transform",W?i(0,Math.round(-he.t)):i(Math.round(-he.l),0));var Le=L.select("."+k.cbfills).selectAll("rect."+k.cbfill).attr("style","").data(Oe);Le.enter().append("rect").classed(k.cbfill,!0).style("stroke","none"),Le.exit().remove();var Ge=pe.map(Ce.c2p).map(Math.round).sort(function(jt,Nt){return jt-Nt});Le.each(function(jt,Nt){var Tt=[0===Nt?pe[0]:(Oe[Nt]+Oe[Nt-1])/2,Nt===Oe.length-1?pe[1]:(Oe[Nt]+Oe[Nt+1])/2].map(Ce.c2p).map(Math.round);W&&(Tt[1]=c.constrain(Tt[1]+(Tt[1]>Tt[0])?1:-1,Ge[0],Ge[1]));var Mt=C.select(this).attr(W?"x":"y",Pe).attr(W?"y":"x",C.min(Tt)).attr(W?"width":"height",Math.max(oe,2)).attr(W?"height":"width",Math.max(C.max(Tt)-C.min(Tt),2));if(N._fillgradient)o.gradient(Mt,B,N._id,W?"vertical":"horizontalreversed",N._fillgradient,"fill");else{var kt=Ne(jt).replace("e-","");Mt.attr("fill",E(kt).toHexString())}});var st=L.select("."+k.cblines).selectAll("path."+k.cbline).data(xe.color&&xe.width?De:[]);st.enter().append("path").classed(k.cbline,!0),st.exit().remove(),st.each(function(jt){var Nt=Pe,Tt=Math.round(Ce.c2p(jt))+xe.width/2%1;C.select(this).attr("d","M"+(W?Nt+","+Tt:Tt+","+Nt)+(W?"h":"v")+oe).call(o.lineGroupStyle,xe.width,ye(jt),xe.dash)}),Pt.selectAll("g."+Ce._id+"tick,path").remove();var vt=Pe+oe+(G||0)/2-("outside"===N.ticks?1:0),bt=M.calcTicks(Ce),Lt=M.getTickSigns(Ce)[2];return M.drawTicks(B,Ce,{vals:"inside"===Ce.ticks?M.clipEnds(Ce,bt):bt,layer:Pt,path:M.makeTickPath(Ce,vt,Lt),transFn:M.makeTransTickFn(Ce)}),M.drawLabels(B,Ce,{vals:bt,layer:Pt,transFn:M.makeTransTickLabelFn(Ce),labelFns:M.makeLabelFns(Ce,vt)})},function(){if(W&&!We||!W&&We){var tn,Gt,et=Ce.position||0,nt=Ce._offset+Ce._length/2;if("right"===Ae)Gt=nt,tn=he.l+he.w*et+10+It*(Ce.showticklabels?1:.5);else if(tn=nt,"bottom"===Ae&&(Gt=he.t+he.h*et+10+(-1===Rt.indexOf("inside")?Ce.tickfont.size:0)+("intside"!==Ce.ticks&&N.ticklen||0)),"top"===Ae){var $e=ke.text.split("<br>").length;Gt=he.t+he.h*et+10-oe-w*It*$e}Vt((W?"h":"v")+Ce._id+"title",{avoid:{selection:C.select(B).selectAll("g."+Ce._id+"tick"),side:Ae,offsetTop:W?0:he.t,offsetLeft:W?he.l:0,maxShift:W?ue.width:ue.height},attributes:{x:tn,y:Gt,"text-anchor":"middle"},transform:{rotate:W?-90:0,offset:0}})}},f.previousPromises,function(){var tn,Gt=oe+G/2;-1===Rt.indexOf("inside")&&(tn=o.bBox(Pt.node()),Gt+=W?tn.width:tn.height),mt=At.select("text");var et=0,nt=W&&"top"===Ae,$e=!W&&"right"===Ae,ot=0;if(mt.node()&&!mt.classed(k.jsPlaceholder)){var dt,Le=At.select(".h"+Ce._id+"title-math-group").node();Le&&(W&&We||!W&&!We)?(et=(tn=o.bBox(Le)).width,dt=tn.height):(et=(tn=o.bBox(At.node())).right-he.l-(W?Pe:Te),dt=tn.bottom-he.t-(W?Te:Pe),W||"top"!==Ae||(Gt+=tn.height,ot=tn.height)),$e&&(mt.attr("transform",i(et/2+It/2,0)),et*=2),Gt=Math.max(Gt,W?et:dt)}var Ge=2*(W?Q:te)+Gt+H+G/2,st=0;!W&&ke.text&&"bottom"===$&&le<=0&&(Ge+=st=Ge/2,ot+=st),ue._hColorbarMoveTitle=st,ue._hColorbarMoveCBTitle=ot;var vt=H+G;L.select("."+k.cbbg).attr("x",(W?Pe:Te)-vt/2-(W?Q:0)).attr("y",(W?Te:Pe)-(W?_e:te+ot-st)).attr(W?"width":"height",Math.max(Ge-st,2)).attr(W?"height":"width",Math.max(_e+vt,2)).call(l.fill,ne).call(l.stroke,N.bordercolor).style("stroke-width",H);var bt=$e?Math.max(et-10,0):0;if(L.selectAll("."+k.cboutline).attr("x",(W?Pe:Te+Q)+bt).attr("y",(W?Te+te-_e:Pe)+(nt?Bt:0)).attr(W?"width":"height",Math.max(oe,2)).attr(W?"height":"width",Math.max(_e-(W?2*te+Bt:2*Q+bt),2)).call(l.stroke,N.outlinecolor).style({fill:"none","stroke-width":G}),L.attr("transform",i(he.l-(W?Ue*Ge:0),he.t-(W?0:(1-Be)*Ge-ot))),!W&&(H||E(ne).getAlpha()&&!E.equals(ue.paper_bgcolor,ne))){var Lt=Pt.selectAll("text"),jt=Lt[0].length,Nt=L.select("."+k.cbbg).node(),Tt=o.bBox(Nt),Mt=o.getTranslate(L);Lt.each(function(ln,Tn){var An=jt-1;if(0===Tn||Tn===An){var pn,Nn=o.bBox(this),tr=o.getTranslate(this);Tn===An?(pn=Tt.right+Mt.x+Te-H-2+re-(Nn.right+tr.x))>0&&(pn=0):0===Tn&&(pn=Tt.left+Mt.x+Te+H+2-(Nn.left+tr.x))<0&&(pn=0),pn&&(jt<3?this.setAttribute("transform","translate("+pn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var kt={},Ht=m[X],qt=b[X],Qt=m[$],Jt=b[$],Kt=Ge-oe;W?("pixels"===Z?(kt.y=le,kt.t=_e*Qt,kt.b=_e*Jt):(kt.t=kt.b=0,kt.yt=le+j*Qt,kt.yb=le-j*Jt),"pixels"===q?(kt.x=re,kt.l=Ge*Ht,kt.r=Ge*qt):(kt.l=Kt*Ht,kt.r=Kt*qt,kt.xl=re-V*Ht,kt.xr=re+V*qt)):("pixels"===Z?(kt.x=re,kt.l=_e*Ht,kt.r=_e*qt):(kt.l=kt.r=0,kt.xl=re+j*Ht,kt.xr=re-j*qt),"pixels"===q?(kt.y=1-le,kt.t=Ge*Qt,kt.b=Ge*Jt):(kt.t=Kt*Qt,kt.b=Kt*Jt,kt.yt=le-V*Qt,kt.yb=le+V*Jt)),f.autoMargin(B,N._id,kt)}],B)}(I,A,h);P&&P.then&&(h._promises||[]).push(P),h._context.edits.colorbarPosition&&(V="v"===(N=A).orientation,q=(B=h)._fullLayout._size,v.init({element:(L=I).node(),gd:B,prepFn:function(){W=L.attr("transform"),a(L)},moveFn:function(G,H){L.attr("transform",W+i(G,H)),j=v.align((V?N._uFrac:N._vFrac)+G/q.w,V?N._thickFrac:N._lenFrac,0,1,N.xanchor),Z=v.align((V?N._vFrac:1-N._uFrac)-H/q.h,V?N._lenFrac:N._thickFrac,0,1,N.yanchor);var ne=v.getCursor(j,Z,N.xanchor,N.yanchor);a(L,ne)},doneFn:function(){if(a(L),void 0!==j&&void 0!==Z){var G={};G[N._propPrefix+"x"]=j,G[N._propPrefix+"y"]=Z,void 0!==N._traceIndex?S.call("_guiRestyle",B,G,N._traceIndex):S.call("_guiRelayout",B,G)}}}))}),O.exit().each(function(A){f.autoMargin(h,A._id)}).remove(),O.order()}}},76228:function(ie,z,r){"use strict";var C=r(71828);ie.exports=function(E){return C.isPlainObject(E.colorbar)}},12311:function(ie,z,r){"use strict";ie.exports={moduleType:"component",name:"colorbar",attributes:r(63583),supplyDefaults:r(62499),draw:r(98981).draw,hasColorbar:r(76228)}},50693:function(ie,z,r){"use strict";var C=r(63583),E=r(30587).counter,f=r(78607),S=r(63282).scales;function M(v){return"`"+v+"`"}f(S),ie.exports=function(v,c){v=v||"";var i,u=(c=c||{}).cLetter||"c",a=("onlyIfNumerical"in c||Boolean(v),"noScale"in c?c.noScale:"marker.line"===v),o="showScaleDflt"in c?c.showScaleDflt:"z"===u,l="string"==typeof c.colorscaleDflt?S[c.colorscaleDflt]:null,s=c.editTypeOverride||"",d=v?v+".":"";"colorAttr"in c?i=c.colorAttr:M(d+(i={z:"z",c:"color"}[u]));var g=u+"auto",p=u+"min",T=u+"max",_=u+"mid",y=(M(d+g),M(d+p),M(d+T),{});y[p]=y[T]=void 0;var w={};w[g]=!1;var m={};return"color"===i&&(m.color={valType:"color",arrayOk:!0,editType:s||"style"},c.anim&&(m.color.anim=!0)),m[g]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:y},m[p]={valType:"number",dflt:null,editType:s||"plot",impliedEdits:w},m[T]={valType:"number",dflt:null,editType:s||"plot",impliedEdits:w},m[_]={valType:"number",dflt:null,editType:"calc",impliedEdits:y},m.colorscale={valType:"colorscale",editType:"calc",dflt:l,impliedEdits:{autocolorscale:!1}},m.autocolorscale={valType:"boolean",dflt:!1!==c.autoColorDflt,editType:"calc",impliedEdits:{colorscale:void 0}},m.reversescale={valType:"boolean",dflt:!1,editType:"plot"},a||(m.showscale={valType:"boolean",dflt:o,editType:"calc"},m.colorbar=C),c.noColorAxis||(m.coloraxis={valType:"subplotid",regex:E("coloraxis"),dflt:null,editType:"calc"}),m}},78803:function(ie,z,r){"use strict";var C=r(92770),E=r(71828),f=r(52075).extractOpts;ie.exports=function(S,M,v){var i=S._fullLayout,u=v.vals,a=v.containerStr,o=a?E.nestedProperty(M,a).get():M,l=f(o),s=!1!==l.auto,d=l.min,g=l.max,p=l.mid,T=function(){return E.aggNums(Math.min,null,u)},_=function(){return E.aggNums(Math.max,null,u)};void 0===d?d=T():s&&(d=o._colorAx&&C(d)?Math.min(d,T()):T()),void 0===g?g=_():s&&(g=o._colorAx&&C(g)?Math.max(g,_()):_()),s&&void 0!==p&&(g-p>p-d?d=p-(g-p):g-p<p-d&&(g=p+(p-d))),d===g&&(d-=.5,g+=.5),l._sync("min",d),l._sync("max",g),l.autocolorscale&&l._sync("colorscale",d*g<0?i.colorscale.diverging:d>=0?i.colorscale.sequential:i.colorscale.sequentialminus)}},33046:function(ie,z,r){"use strict";var C=r(71828),E=r(52075).hasColorscale,f=r(52075).extractOpts;ie.exports=function(S,M){function v(s,d){var g=s["_"+d];void 0!==g&&(s[d]=g)}function c(s,d){var g=d.container?C.nestedProperty(s,d.container).get():s;if(g)if(g.coloraxis)g._colorAx=M[g.coloraxis];else{var p=f(g),T=p.auto;(T||void 0===p.min)&&v(g,d.min),(T||void 0===p.max)&&v(g,d.max),p.autocolorscale&&v(g,"colorscale")}}for(var i=0;i<S.length;i++){var u=S[i],a=u._module.colorbar;if(a)if(Array.isArray(a))for(var o=0;o<a.length;o++)c(u,a[o]);else c(u,a);E(u,"marker.line")&&c(u,{container:"marker.line",min:"cmin",max:"cmax"})}for(var l in M._colorAxes)c(M[l],{min:"cmin",max:"cmax"})}},1586:function(ie,z,r){"use strict";var C=r(92770),E=r(71828),f=r(76228),S=r(62499),M=r(63282).isValid,v=r(73972).traceIs;function c(i,u){var a=u.slice(0,u.length-1);return u?E.nestedProperty(i,a).get()||{}:i}ie.exports=function i(u,a,o,l,s){var d=s.prefix,g=s.cLetter,p="_module"in a,T=c(u,d),_=c(a,d),y=c(a._template||{},d)||{},w=function(){return delete u.coloraxis,delete a.coloraxis,i(u,a,o,l,s)};if(p){var m=o._colorAxes||{},b=l(d+"coloraxis");if(b){var k=v(a,"contour")&&E.nestedProperty(a,"contours.coloring").get()||"heatmap",h=m[b];return void(h?(h[2].push(w),h[0]!==k&&(h[0]=!1,E.warn(["Ignoring coloraxis:",b,"setting","as it is linked to incompatible colorscales."].join(" ")))):m[b]=[k,a,[w]])}}var O=T[g+"min"],A=T[g+"max"],I=C(O)&&C(A)&&O<A;l(d+g+"auto",!I)?l(d+g+"mid"):(l(d+g+"min"),l(d+g+"max"));var P,L,N=T.colorscale,B=y.colorscale;void 0!==N&&(P=!M(N)),void 0!==B&&(P=!M(B)),l(d+"autocolorscale",P),l(d+"colorscale"),l(d+"reversescale"),"marker.line."!==d&&(d&&p&&(L=f(T)),l(d+"showscale",L)&&(d&&y&&(_._template=y),S(T,_,o)))}},52075:function(ie,z,r){"use strict";var C=r(39898),E=r(84267),f=r(92770),S=r(71828),M=r(7901),v=r(63282).isValid,c=["showscale","autocolorscale","colorscale","reversescale","colorbar"],i=["min","max","mid","auto"];function u(d){var g,p,T,_=d._colorAx,y=_||d,w={};for(p=0;p<c.length;p++)w[T=c[p]]=y[T];if(_)for(g="c",p=0;p<i.length;p++)w[T=i[p]]=y["c"+T];else{var m;for(p=0;p<i.length;p++)((m="c"+(T=i[p]))in y||(m="z"+T)in y)&&(w[T]=y[m]);g=m.charAt(0)}return w._sync=function(b,k){var h=-1!==i.indexOf(b)?g+b:b;y[h]=y["_"+h]=k},w}function a(d){for(var g=u(d),p=g.min,T=g.max,_=g.reversescale?o(g.colorscale):g.colorscale,y=_.length,w=new Array(y),m=new Array(y),b=0;b<y;b++){var k=_[b];w[b]=p+k[0]*(T-p),m[b]=k[1]}return{domain:w,range:m}}function o(d){for(var g=d.length,p=new Array(g),T=g-1,_=0;T>=0;T--,_++){var y=d[T];p[_]=[1-y[0],y[1]]}return p}function l(d,g){g=g||{};for(var p=d.domain,T=d.range,_=T.length,y=new Array(_),w=0;w<_;w++){var m=E(T[w]).toRgb();y[w]=[m.r,m.g,m.b,m.a]}var b,k=C.scale.linear().domain(p).range(y).clamp(!0),h=g.noNumericCheck,O=g.returnArray;return(b=h&&O?k:h?function(A){return s(k(A))}:O?function(A){return f(A)?k(A):E(A).isValid()?A:M.defaultLine}:function(A){return f(A)?s(k(A)):E(A).isValid()?A:M.defaultLine}).domain=k.domain,b.range=function(){return T},b}function s(d){return E({r:d[0],g:d[1],b:d[2],a:d[3]}).toRgbString()}ie.exports={hasColorscale:function(d,g,p){var T=g?S.nestedProperty(d,g).get()||{}:d,_=T[p||"color"],y=!1;if(S.isArrayOrTypedArray(_))for(var w=0;w<_.length;w++)if(f(_[w])){y=!0;break}return S.isPlainObject(T)&&(y||!0===T.showscale||f(T.cmin)&&f(T.cmax)||v(T.colorscale)||S.isPlainObject(T.colorbar))},extractOpts:u,extractScale:a,flipScale:o,makeColorScaleFunc:l,makeColorScaleFuncFromTrace:function(d,g){return l(a(d),g)}}},21081:function(ie,z,r){"use strict";var C=r(63282),E=r(52075);ie.exports={moduleType:"component",name:"colorscale",attributes:r(50693),layoutAttributes:r(72673),supplyLayoutDefaults:r(30959),handleDefaults:r(1586),crossTraceDefaults:r(33046),calc:r(78803),scales:C.scales,defaultScale:C.defaultScale,getScale:C.get,isValidScale:C.isValid,hasColorscale:E.hasColorscale,extractOpts:E.extractOpts,extractScale:E.extractScale,flipScale:E.flipScale,makeColorScaleFunc:E.makeColorScaleFunc,makeColorScaleFuncFromTrace:E.makeColorScaleFuncFromTrace}},72673:function(ie,z,r){"use strict";var C=r(1426).extendFlat,E=r(50693),f=r(63282).scales;ie.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:f.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:f.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:f.RdBu,editType:"calc"}},coloraxis:C({_isSubplotObj:!0,editType:"calc"},E("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},30959:function(ie,z,r){"use strict";var C=r(71828),E=r(44467),f=r(72673),S=r(1586);ie.exports=function(M,v){function c(g,p){return C.coerce(M,v,f,g,p)}c("colorscale.sequential"),c("colorscale.sequentialminus"),c("colorscale.diverging");var i,u,a=v._colorAxes;function o(g,p){return C.coerce(i,u,f.coloraxis,g,p)}for(var l in a){var s=a[l];if(s[0])i=M[l]||{},(u=E.newContainer(v,l,"coloraxis"))._name=l,S(i,u,v,o,{prefix:"",cLetter:"c"});else{for(var d=0;d<s[2].length;d++)s[2][d]();delete v._colorAxes[l]}}}},63282:function(ie,z,r){"use strict";var C=r(84267),E={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},f=E.RdBu;function S(M){var v=0;if(!Array.isArray(M)||M.length<2||!M[0]||!M[M.length-1]||0!=+M[0][0]||1!=+M[M.length-1][0])return!1;for(var c=0;c<M.length;c++){var i=M[c];if(2!==i.length||+i[0]<v||!C(i[1]).isValid())return!1;v=+i[0]}return!0}ie.exports={scales:E,defaultScale:f,get:function(M,v){if(v||(v=f),!M)return v;function c(){try{M=E[M]||JSON.parse(M)}catch{M=v}}return"string"==typeof M&&(c(),"string"==typeof M&&c()),S(M)?M:v},isValid:function(M){return void 0!==E[M]||S(M)}}},92807:function(ie){"use strict";ie.exports=function(z,r,C,E,f){var S=(z-C)/(E-C),M=S+r/(E-C),v=(S+M)/2;return"left"===f||"bottom"===f?S:"center"===f||"middle"===f?v:"right"===f||"top"===f?M:S<.6666666666666666-v?S:M>1.3333333333333333-v?M:v}},70461:function(ie,z,r){"use strict";var C=r(71828),E=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];ie.exports=function(f,S,M,v){return f="left"===M?0:"center"===M?1:"right"===M?2:C.constrain(Math.floor(3*f),0,2),S="bottom"===v?0:"middle"===v?1:"top"===v?2:C.constrain(Math.floor(3*S),0,2),E[S][f]}},64505:function(ie,z){"use strict";z.selectMode=function(r){return"lasso"===r||"select"===r},z.drawMode=function(r){return"drawclosedpath"===r||"drawopenpath"===r||"drawline"===r||"drawrect"===r||"drawcircle"===r},z.openMode=function(r){return"drawline"===r||"drawopenpath"===r},z.rectMode=function(r){return"select"===r||"drawline"===r||"drawrect"===r||"drawcircle"===r},z.freeMode=function(r){return"lasso"===r||"drawclosedpath"===r||"drawopenpath"===r},z.selectingOrDrawing=function(r){return z.freeMode(r)||z.rectMode(r)}},28569:function(ie,z,r){"use strict";var C=r(48956),E=r(57035),f=r(38520),S=r(71828).removeElement,M=r(85555),v=ie.exports={};v.align=r(92807),v.getCursor=r(70461);var c=r(26041);function i(){var a=document.createElement("div");a.className="dragcover";var o=a.style;return o.position="fixed",o.left=0,o.right=0,o.top=0,o.bottom=0,o.zIndex=999999999,o.background="none",document.body.appendChild(a),a}function u(a){return C(a.changedTouches?a.changedTouches[0]:a,document.body)}v.unhover=c.wrapped,v.unhoverRaw=c.raw,v.init=function(a){var o,l,s,d,g,p,T,_,y=a.gd,w=1,m=y._context.doubleClickDelay,b=a.element;y._mouseDownTime||(y._mouseDownTime=0),b.style.pointerEvents="all",b.onmousedown=h,f?(b._ontouchstart&&b.removeEventListener("touchstart",b._ontouchstart),b._ontouchstart=h,b.addEventListener("touchstart",h,{passive:!1})):b.ontouchstart=h;var k=a.clampFn||function(I,P,L){return Math.abs(I)<L&&(I=0),Math.abs(P)<L&&(P=0),[I,P]};function h(I){y._dragged=!1,y._dragging=!0;var P=u(I);o=P[0],l=P[1],T=I.target,p=I,_=2===I.buttons||I.ctrlKey,void 0===I.clientX&&void 0===I.clientY&&(I.clientX=o,I.clientY=l),(s=(new Date).getTime())-y._mouseDownTime<m?w+=1:(w=1,y._mouseDownTime=s),a.prepFn&&a.prepFn(I,o,l),E&&!_?(g=i()).style.cursor=window.getComputedStyle(b).cursor:E||(g=document,d=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(b).cursor),document.addEventListener("mouseup",A),document.addEventListener("touchend",A),!1!==a.dragmode&&(I.preventDefault(),document.addEventListener("mousemove",O),document.addEventListener("touchmove",O,{passive:!1}))}function O(I){I.preventDefault();var P=u(I),N=k(P[0]-o,P[1]-l,a.minDrag||M.MINDRAG),B=N[0],W=N[1];(B||W)&&(y._dragged=!0,v.unhover(y,I)),y._dragged&&a.moveFn&&!_&&(y._dragdata={element:b,dx:B,dy:W},a.moveFn(B,W))}function A(I){if(delete y._dragdata,!1!==a.dragmode&&(I.preventDefault(),document.removeEventListener("mousemove",O),document.removeEventListener("touchmove",O)),document.removeEventListener("mouseup",A),document.removeEventListener("touchend",A),E?S(g):d&&(g.documentElement.style.cursor=d,d=null),y._dragging){if(y._dragging=!1,(new Date).getTime()-y._mouseDownTime>m&&(w=Math.max(w-1,1)),y._dragged)a.doneFn&&a.doneFn();else if(a.clickFn&&a.clickFn(w,p),!_){var P;try{P=new MouseEvent("click",I)}catch{var L=u(I);(P=document.createEvent("MouseEvents")).initMouseEvent("click",I.bubbles,I.cancelable,I.view,I.detail,I.screenX,I.screenY,L[0],L[1],I.ctrlKey,I.altKey,I.shiftKey,I.metaKey,I.button,I.relatedTarget)}T.dispatchEvent(P)}y._dragging=!1,y._dragged=!1}else y._dragged=!1}},v.coverSlip=i},26041:function(ie,z,r){"use strict";var C=r(11086),E=r(79990),f=r(24401).getGraphDiv,S=r(26675),M=ie.exports={};M.wrapped=function(v,c,i){(v=f(v))._fullLayout&&E.clear(v._fullLayout._uid+S.HOVERID),M.raw(v,c,i)},M.raw=function(v,c){var i=v._fullLayout,u=v._hoverdata;c||(c={}),c.target&&!v._dragged&&!1===C.triggerHandler(v,"plotly_beforehover",c)||(i._hoverlayer.selectAll("g").remove(),i._hoverlayer.selectAll("line").remove(),i._hoverlayer.selectAll("circle").remove(),v._hoverdata=void 0,c.target&&u&&v.emit("plotly_unhover",{event:c,points:u}))}},79952:function(ie,z){"use strict";z.P={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},z.u={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},91424:function(ie,z,r){"use strict";var C=r(39898),E=r(71828),f=E.numberFormat,S=r(92770),M=r(84267),v=r(73972),c=r(7901),i=r(21081),u=E.strTranslate,a=r(63893),o=r(77922),l=r(18783).LINE_SPACING,s=r(37822).DESELECTDIM,d=r(34098),g=r(39984),p=r(23469).appendArrayPointValue,T=ie.exports={};function _(be,Ee,Oe){var De=Ee.fillpattern,oe=De&&T.getPatternAttr(De.shape,0,"");if(oe){var de=T.getPatternAttr(De.bgcolor,0,null),_e=T.getPatternAttr(De.fgcolor,0,null),Me=De.fgopacity,Pe=T.getPatternAttr(De.size,0,8),Ue=T.getPatternAttr(De.solidity,0,.3);T.pattern(be,"point",Oe,Ee.uid,oe,Pe,Ue,void 0,De.fillmode,de,_e,Me)}else Ee.fillcolor&&be.call(c.fill,Ee.fillcolor)}T.font=function(be,Ee,Oe,De){E.isPlainObject(Ee)&&(De=Ee.color,Oe=Ee.size,Ee=Ee.family),Ee&&be.style("font-family",Ee),Oe+1&&be.style("font-size",Oe+"px"),De&&be.call(c.fill,De)},T.setPosition=function(be,Ee,Oe){be.attr("x",Ee).attr("y",Oe)},T.setSize=function(be,Ee,Oe){be.attr("width",Ee).attr("height",Oe)},T.setRect=function(be,Ee,Oe,De,oe){be.call(T.setPosition,Ee,Oe).call(T.setSize,De,oe)},T.translatePoint=function(be,Ee,Oe,De){var oe=Oe.c2p(be.x),de=De.c2p(be.y);return!!(S(oe)&&S(de)&&Ee.node())&&("text"===Ee.node().nodeName?Ee.attr("x",oe).attr("y",de):Ee.attr("transform",u(oe,de)),!0)},T.translatePoints=function(be,Ee,Oe){be.each(function(De){var oe=C.select(this);T.translatePoint(De,oe,Ee,Oe)})},T.hideOutsideRangePoint=function(be,Ee,Oe,De,oe,de){Ee.attr("display",Oe.isPtWithinRange(be,oe)&&De.isPtWithinRange(be,de)?null:"none")},T.hideOutsideRangePoints=function(be,Ee){if(Ee._hasClipOnAxisFalse){var Oe=Ee.xaxis,De=Ee.yaxis;be.each(function(oe){var de=oe[0].trace,_e=de.xcalendar,Me=de.ycalendar,Pe=v.traceIs(de,"bar-like")?".bartext":".point,.textpoint";be.selectAll(Pe).each(function(Ue){T.hideOutsideRangePoint(Ue,C.select(this),Oe,De,_e,Me)})})}},T.crispRound=function(be,Ee,Oe){return Ee&&S(Ee)?be._context.staticPlot?Ee:Ee<1?1:Math.round(Ee):Oe||0},T.singleLineStyle=function(be,Ee,Oe,De,oe){Ee.style("fill","none");var de=(((be||[])[0]||{}).trace||{}).line||{},_e=Oe||de.width||0,Me=oe||de.dash||"";c.stroke(Ee,De||de.color),T.dashLine(Ee,Me,_e)},T.lineGroupStyle=function(be,Ee,Oe,De){be.style("fill","none").each(function(oe){var de=(((oe||[])[0]||{}).trace||{}).line||{},_e=Ee||de.width||0,Me=De||de.dash||"";C.select(this).call(c.stroke,Oe||de.color).call(T.dashLine,Me,_e)})},T.dashLine=function(be,Ee,Oe){Ee=T.dashStyle(Ee,Oe=+Oe||0),be.style({"stroke-dasharray":Ee,"stroke-width":Oe+"px"})},T.dashStyle=function(be,Ee){Ee=+Ee||1;var Oe=Math.max(Ee,3);return"solid"===be?be="":"dot"===be?be=Oe+"px,"+Oe+"px":"dash"===be?be=3*Oe+"px,"+3*Oe+"px":"longdash"===be?be=5*Oe+"px,"+5*Oe+"px":"dashdot"===be?be=3*Oe+"px,"+Oe+"px,"+Oe+"px,"+Oe+"px":"longdashdot"===be&&(be=5*Oe+"px,"+2*Oe+"px,"+Oe+"px,"+2*Oe+"px"),be},T.singleFillStyle=function(be,Ee){var Oe=C.select(be.node());_(be,((Oe.data()[0]||[])[0]||{}).trace||{},Ee)},T.fillGroupStyle=function(be,Ee){be.style("stroke-width",0).each(function(Oe){var De=C.select(this);Oe[0].trace&&_(De,Oe[0].trace,Ee)})};var y=r(90998);T.symbolNames=[],T.symbolFuncs=[],T.symbolBackOffs=[],T.symbolNeedLines={},T.symbolNoDot={},T.symbolNoFill={},T.symbolList=[],Object.keys(y).forEach(function(be){var Ee=y[be],Oe=Ee.n;T.symbolList.push(Oe,String(Oe),be,Oe+100,String(Oe+100),be+"-open"),T.symbolNames[Oe]=be,T.symbolFuncs[Oe]=Ee.f,T.symbolBackOffs[Oe]=Ee.backoff||0,Ee.needLine&&(T.symbolNeedLines[Oe]=!0),Ee.noDot?T.symbolNoDot[Oe]=!0:T.symbolList.push(Oe+200,String(Oe+200),be+"-dot",Oe+300,String(Oe+300),be+"-open-dot"),Ee.noFill&&(T.symbolNoFill[Oe]=!0)});var w=T.symbolNames.length;function m(be,Ee,Oe,De){return T.symbolFuncs[be%100](Ee,Oe,De)+(be>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}T.symbolNumber=function(be){if(S(be))be=+be;else if("string"==typeof be){var Ee=0;be.indexOf("-open")>0&&(Ee=100,be=be.replace("-open","")),be.indexOf("-dot")>0&&(Ee+=200,be=be.replace("-dot","")),(be=T.symbolNames.indexOf(be))>=0&&(be+=Ee)}return be%100>=w||be>=400?0:Math.floor(Math.max(be,0))};var b={x1:1,x2:0,y1:0,y2:0},k={x1:0,x2:0,y1:1,y2:0},h=f("~f"),O={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:b},horizontalreversed:{node:"linearGradient",attrs:b,reversed:!0},vertical:{node:"linearGradient",attrs:k},verticalreversed:{node:"linearGradient",attrs:k,reversed:!0}};T.gradient=function(be,Ee,Oe,De,oe,de){for(var _e=oe.length,Me=O[De],Pe=new Array(_e),Ue=0;Ue<_e;Ue++)Me.reversed?Pe[_e-1-Ue]=[h(100*(1-oe[Ue][0])),oe[Ue][1]]:Pe[Ue]=[h(100*oe[Ue][0]),oe[Ue][1]];var Be=Ee._fullLayout,Ve="g"+Be._uid+"-"+Oe,ve=Be._defs.select(".gradients").selectAll("#"+Ve).data([De+Pe.join(";")],E.identity);ve.exit().remove(),ve.enter().append(Me.node).each(function(){var Te=C.select(this);Me.attrs&&Te.attr(Me.attrs),Te.attr("id",Ve);var Ce=Te.selectAll("stop").data(Pe);Ce.exit().remove(),Ce.enter().append("stop"),Ce.each(function(We){var Ke=M(We[1]);C.select(this).attr({offset:We[0]+"%","stop-color":c.tinyRGB(Ke),"stop-opacity":Ke.getAlpha()})})}),be.style(de,X(Ve,Ee)).style(de+"-opacity",null),be.classed("gradient_filled",!0)},T.pattern=function(be,Ee,Oe,De,oe,de,_e,Me,Pe,Ue,Be,Ve){var ve="legend"===Ee;Me&&("overlay"===Pe?Be=c.contrast(Ue=Me):(Ue=void 0,Be=Me));var Te,Ce,We,Ke,Je,ht,ft,mt,At,Rt=Oe._fullLayout,It="p"+Rt._uid+"-"+De,Pt={},Bt=M(Be),Ut=c.tinyRGB(Bt),Vt=Ve*Bt.getAlpha();switch(oe){case"/":Te=de*Math.sqrt(2),Ce=de*Math.sqrt(2),ht="path",Pt={d:We="M-"+Te/4+","+Ce/4+"l"+Te/2+",-"+Ce/2+"M0,"+Ce+"L"+Te+",0M"+Te/4*3+","+Ce/4*5+"l"+Te/2+",-"+Ce/2,opacity:Vt,stroke:Ut,"stroke-width":(Ke=_e*de)+"px"};break;case"\\":Te=de*Math.sqrt(2),Ce=de*Math.sqrt(2),ht="path",Pt={d:We="M"+Te/4*3+",-"+Ce/4+"l"+Te/2+","+Ce/2+"M0,0L"+Te+","+Ce+"M-"+Te/4+","+Ce/4*3+"l"+Te/2+","+Ce/2,opacity:Vt,stroke:Ut,"stroke-width":(Ke=_e*de)+"px"};break;case"x":Te=de*Math.sqrt(2),Ce=de*Math.sqrt(2),We="M-"+Te/4+","+Ce/4+"l"+Te/2+",-"+Ce/2+"M0,"+Ce+"L"+Te+",0M"+Te/4*3+","+Ce/4*5+"l"+Te/2+",-"+Ce/2+"M"+Te/4*3+",-"+Ce/4+"l"+Te/2+","+Ce/2+"M0,0L"+Te+","+Ce+"M-"+Te/4+","+Ce/4*3+"l"+Te/2+","+Ce/2,Ke=de-de*Math.sqrt(1-_e),ht="path",Pt={d:We,opacity:Vt,stroke:Ut,"stroke-width":Ke+"px"};break;case"|":ht="path",ht="path",Pt={d:We="M"+(Te=de)/2+",0L"+Te/2+","+(Ce=de),opacity:Vt,stroke:Ut,"stroke-width":(Ke=_e*de)+"px"};break;case"-":ht="path",ht="path",Pt={d:We="M0,"+(Ce=de)/2+"L"+(Te=de)+","+Ce/2,opacity:Vt,stroke:Ut,"stroke-width":(Ke=_e*de)+"px"};break;case"+":ht="path",We="M"+(Te=de)/2+",0L"+Te/2+","+(Ce=de)+"M0,"+Ce/2+"L"+Te+","+Ce/2,Ke=de-de*Math.sqrt(1-_e),ht="path",Pt={d:We,opacity:Vt,stroke:Ut,"stroke-width":Ke+"px"};break;case".":Te=de,Ce=de,_e<Math.PI/4?Je=Math.sqrt(_e*de*de/Math.PI):(ft=_e,mt=Math.PI/4,Je=(At=de/2)+(de/Math.sqrt(2)-At)*(ft-mt)/(1-mt)),ht="circle",Pt={cx:Te/2,cy:Ce/2,r:Je,opacity:Vt,fill:Ut}}var tn=[oe||"noSh",Ue||"noBg",Be||"noFg",de,_e].join(";"),Gt=Rt._defs.select(".patterns").selectAll("#"+It).data([tn],E.identity);Gt.exit().remove(),Gt.enter().append("pattern").each(function(){var et=C.select(this);if(et.attr({id:It,width:Te+"px",height:Ce+"px",patternUnits:"userSpaceOnUse",patternTransform:ve?"scale(0.8)":""}),Ue){var nt=M(Ue),$e=c.tinyRGB(nt),ot=nt.getAlpha(),dt=et.selectAll("rect").data([0]);dt.exit().remove(),dt.enter().append("rect").attr({width:Te+"px",height:Ce+"px",fill:$e,"fill-opacity":ot})}var Le=et.selectAll(ht).data([0]);Le.exit().remove(),Le.enter().append(ht).attr(Pt)}),be.style("fill",X(It,Oe)).style("fill-opacity",null),be.classed("pattern_filled",!0)},T.initGradients=function(be){E.ensureSingle(be._fullLayout._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),C.select(be).selectAll(".gradient_filled").classed("gradient_filled",!1)},T.initPatterns=function(be){E.ensureSingle(be._fullLayout._defs,"g","patterns").selectAll("pattern").remove(),C.select(be).selectAll(".pattern_filled").classed("pattern_filled",!1)},T.getPatternAttr=function(be,Ee,Oe){return be&&E.isArrayOrTypedArray(be)?Ee<be.length?be[Ee]:Oe:be},T.pointStyle=function(be,Ee,Oe){if(be.size()){var De=T.makePointStyleFns(Ee);be.each(function(oe){T.singlePointStyle(oe,C.select(this),Ee,De,Oe)})}},T.singlePointStyle=function(be,Ee,Oe,De,oe){var de=Oe.marker,_e=de.line;if(Ee.style("opacity",De.selectedOpacityFn?De.selectedOpacityFn(be):void 0===be.mo?de.opacity:be.mo),De.ms2mrc){var Me;Me="various"===be.ms||"various"===de.size?3:De.ms2mrc(be.ms),be.mrc=Me,De.selectedSizeFn&&(Me=be.mrc=De.selectedSizeFn(be));var Pe=T.symbolNumber(be.mx||de.symbol)||0;be.om=Pe%200>=100;var Ue=Ne(be,Oe),Be=te(be,Oe);Ee.attr("d",m(Pe,Me,Ue,Be))}var Ve,ve,Te,Ce=!1;if(be.so?(Te=_e.outlierwidth,ve=_e.outliercolor,Ve=de.outliercolor):(Te=(be.mlw+1||(_e||{}).width+1||(be.trace?(be.trace.marker.line||{}).width:0)+1)-1||0,ve="mlc"in be?be.mlcc=De.lineScale(be.mlc):E.isArrayOrTypedArray(_e.color)?c.defaultLine:_e.color,E.isArrayOrTypedArray(de.color)&&(Ve=c.defaultLine,Ce=!0),Ve="mc"in be?be.mcc=De.markerScale(be.mc):de.color||"rgba(0,0,0,0)",De.selectedColorFn&&(Ve=De.selectedColorFn(be))),be.om)Ee.call(c.stroke,Ve).style({"stroke-width":(Te||1)+"px",fill:"none"});else{Ee.style("stroke-width",(be.isBlank?0:Te)+"px");var Ke=de.gradient,Je=be.mgt;Je?Ce=!0:Je=Ke&&Ke.type,E.isArrayOrTypedArray(Je)&&(O[Je=Je[0]]||(Je=0));var ht=de.pattern,ft=ht&&T.getPatternAttr(ht.shape,be.i,"");if(Je&&"none"!==Je){var mt=be.mgc;mt?Ce=!0:mt=Ke.color;var At=Oe.uid;Ce&&(At+="-"+be.i),T.gradient(Ee,oe,At,Je,[[0,mt],[1,Ve]],"fill")}else if(ft){var Rt=T.getPatternAttr(ht.bgcolor,be.i,null),It=T.getPatternAttr(ht.fgcolor,be.i,null),Pt=ht.fgopacity,Bt=T.getPatternAttr(ht.size,be.i,8),Ut=T.getPatternAttr(ht.solidity,be.i,.3),Vt=be.mcc||E.isArrayOrTypedArray(ht.shape)||E.isArrayOrTypedArray(ht.bgcolor)||E.isArrayOrTypedArray(ht.size)||E.isArrayOrTypedArray(ht.solidity),tn=Oe.uid;Vt&&(tn+="-"+be.i),T.pattern(Ee,"point",oe,tn,ft,Bt,Ut,be.mcc,ht.fillmode,Rt,It,Pt)}else c.fill(Ee,Ve);Te&&c.stroke(Ee,ve)}},T.makePointStyleFns=function(be){var Ee={},Oe=be.marker;return Ee.markerScale=T.tryColorscale(Oe,""),Ee.lineScale=T.tryColorscale(Oe,"line"),v.traceIs(be,"symbols")&&(Ee.ms2mrc=d.isBubble(be)?g(be):function(){return(Oe.size||6)/2}),be.selectedpoints&&E.extendFlat(Ee,T.makeSelectedPointStyleFns(be)),Ee},T.makeSelectedPointStyleFns=function(be){var Ee={},oe=be.marker||{},de=(be.selected||{}).marker||{},_e=(be.unselected||{}).marker||{},Pe=de.opacity,Ue=_e.opacity,Be=void 0!==Pe,Ve=void 0!==Ue;(E.isArrayOrTypedArray(oe.opacity)||Be||Ve)&&(Ee.selectedOpacityFn=function(mt){var At=void 0===mt.mo?oe.opacity:mt.mo;return mt.selected?Be?Pe:At:Ve?Ue:s*At});var ve=oe.color,Te=de.color,Ce=_e.color;(Te||Ce)&&(Ee.selectedColorFn=function(mt){var At=mt.mcc||ve;return mt.selected?Te||At:Ce||At});var We=oe.size,Ke=de.size,Je=_e.size,ht=void 0!==Ke,ft=void 0!==Je;return v.traceIs(be,"symbols")&&(ht||ft)&&(Ee.selectedSizeFn=function(mt){var At=mt.mrc||We/2;return mt.selected?ht?Ke/2:At:ft?Je/2:At}),Ee},T.makeSelectedTextStyleFns=function(be){var Ee={},Me=(be.textfont||{}).color,Pe=((be.selected||{}).textfont||{}).color,Ue=((be.unselected||{}).textfont||{}).color;return Ee.selectedTextColorFn=function(Be){var Ve=Be.tc||Me;return Be.selected?Pe||Ve:Ue||(Pe?Ve:c.addOpacity(Ve,s))},Ee},T.selectedPointStyle=function(be,Ee){if(be.size()&&Ee.selectedpoints){var Oe=T.makeSelectedPointStyleFns(Ee),De=Ee.marker||{},oe=[];Oe.selectedOpacityFn&&oe.push(function(de,_e){de.style("opacity",Oe.selectedOpacityFn(_e))}),Oe.selectedColorFn&&oe.push(function(de,_e){c.fill(de,Oe.selectedColorFn(_e))}),Oe.selectedSizeFn&&oe.push(function(de,_e){var Me=_e.mx||De.symbol||0,Pe=Oe.selectedSizeFn(_e);de.attr("d",m(T.symbolNumber(Me),Pe,Ne(_e,Ee),te(_e,Ee))),_e.mrc2=Pe}),oe.length&&be.each(function(de){for(var _e=C.select(this),Me=0;Me<oe.length;Me++)oe[Me](_e,de)})}},T.tryColorscale=function(be,Ee){var Oe=Ee?E.nestedProperty(be,Ee).get():be;return Oe&&(Oe.colorscale||Oe._colorAx)&&E.isArrayOrTypedArray(Oe.color)?i.makeColorScaleFuncFromTrace(Oe):E.identity};var A,I,P={start:1,end:-1,middle:0,bottom:1,top:-1};function L(be,Ee,Oe,De,oe){var de=C.select(be.node().parentNode),_e=-1!==Ee.indexOf("top")?"top":-1!==Ee.indexOf("bottom")?"bottom":"middle",Me=-1!==Ee.indexOf("left")?"end":-1!==Ee.indexOf("right")?"start":"middle",Pe=De?De/.8+1:0,Ue=(a.lineCount(be)-1)*l+1,Be=P[Me]*Pe,Ve=.75*Oe+P[_e]*Pe+(P[_e]-1)*Ue*Oe/2;be.attr("text-anchor",Me),oe||de.attr("transform",u(Be,Ve))}function N(be,Ee){var Oe=be.ts||Ee.textfont.size;return S(Oe)&&Oe>0?Oe:0}function B(be,Ee,Oe){return Oe&&(be=G(be)),Ee?j(be[1]):W(be[0])}function W(be){var Ee=C.round(be,2);return A=Ee,Ee}function j(be){var Ee=C.round(be,2);return I=Ee,Ee}function Z(be,Ee,Oe,De){var oe=be[0]-Ee[0],de=be[1]-Ee[1],_e=Oe[0]-Ee[0],Me=Oe[1]-Ee[1],Pe=Math.pow(oe*oe+de*de,.25),Ue=Math.pow(_e*_e+Me*Me,.25),Be=(Ue*Ue*oe-Pe*Pe*_e)*De,Ve=(Ue*Ue*de-Pe*Pe*Me)*De,ve=3*Ue*(Pe+Ue),Te=3*Pe*(Pe+Ue);return[[W(Ee[0]+(ve&&Be/ve)),j(Ee[1]+(ve&&Ve/ve))],[W(Ee[0]-(Te&&Be/Te)),j(Ee[1]-(Te&&Ve/Te))]]}T.textPointStyle=function(be,Ee,Oe){if(be.size()){var De;if(Ee.selectedpoints){var oe=T.makeSelectedTextStyleFns(Ee);De=oe.selectedTextColorFn}var de=Ee.texttemplate,_e=Oe._fullLayout;be.each(function(Me){var Pe=C.select(this),Ue=de?E.extractOption(Me,Ee,"txt","texttemplate"):E.extractOption(Me,Ee,"tx","text");if(Ue||0===Ue){if(de){var Be=Ee._module.formatLabels,Ve=Be?Be(Me,Ee,_e):{},ve={};p(ve,Ee,Me.i),Ue=E.texttemplateString(Ue,Ve,_e._d3locale,ve,Me,Ee._meta||{})}var Ce=Me.tp||Ee.textposition,We=N(Me,Ee),Ke=De?De(Me):Me.tc||Ee.textfont.color;Pe.call(T.font,Me.tf||Ee.textfont.family,We,Ke).text(Ue).call(a.convertToTspans,Oe).call(L,Ce,We,Me.mrc)}else Pe.remove()})}},T.selectedTextStyle=function(be,Ee){if(be.size()&&Ee.selectedpoints){var Oe=T.makeSelectedTextStyleFns(Ee);be.each(function(De){var oe=C.select(this),de=Oe.selectedTextColorFn(De),_e=De.tp||Ee.textposition,Me=N(De,Ee);c.fill(oe,de);var Pe=v.traceIs(Ee,"bar-like");L(oe,_e,Me,De.mrc2||De.mrc,Pe)})}},T.smoothopen=function(be,Ee){if(be.length<3)return"M"+be.join("L");var Oe,De="M"+be[0],oe=[];for(Oe=1;Oe<be.length-1;Oe++)oe.push(Z(be[Oe-1],be[Oe],be[Oe+1],Ee));for(De+="Q"+oe[0][0]+" "+be[1],Oe=2;Oe<be.length-1;Oe++)De+="C"+oe[Oe-2][1]+" "+oe[Oe-1][0]+" "+be[Oe];return De+"Q"+oe[be.length-3][1]+" "+be[be.length-1]},T.smoothclosed=function(be,Ee){if(be.length<3)return"M"+be.join("L")+"Z";var Oe,De="M"+be[0],oe=be.length-1,de=[Z(be[oe],be[0],be[1],Ee)];for(Oe=1;Oe<oe;Oe++)de.push(Z(be[Oe-1],be[Oe],be[Oe+1],Ee));for(de.push(Z(be[oe-1],be[oe],be[0],Ee)),Oe=1;Oe<=oe;Oe++)De+="C"+de[Oe-1][1]+" "+de[Oe][0]+" "+be[Oe];return De+"C"+de[oe][1]+" "+de[0][0]+" "+be[0]+"Z"};var V={hv:function(be,Ee,Oe){return"H"+W(Ee[0])+"V"+B(Ee,1,Oe)},vh:function(be,Ee,Oe){return"V"+j(Ee[1])+"H"+B(Ee,0,Oe)},hvh:function(be,Ee,Oe){return"H"+W((be[0]+Ee[0])/2)+"V"+j(Ee[1])+"H"+B(Ee,0,Oe)},vhv:function(be,Ee,Oe){return"V"+j((be[1]+Ee[1])/2)+"H"+W(Ee[0])+"V"+B(Ee,1,Oe)}},q=function(be,Ee,Oe){return"L"+B(Ee,0,Oe)+","+B(Ee,1,Oe)};function G(be,Ee){var Oe=be.backoff,De=be.trace,oe=be.d,de=be.i;if(Oe&&De&&De.marker&&De.marker.angle%360==0&&De.line&&"spline"!==De.line.shape){var _e=E.isArrayOrTypedArray(Oe),Me=be,Pe=Ee?Ee[0]:A||0,Ue=Ee?Ee[1]:I||0,Be=Me[0],Ve=Me[1],Ce=Math.atan2(Ve-Ue,Be-Pe),We=_e?Oe[de]:Oe;if("auto"===We){var Ke=Me.i;"scatter"===De.type&&Ke--;var Je=Me.marker,ht=Je.symbol;E.isArrayOrTypedArray(ht)&&(ht=ht[Ke]);var ft=Je.size;E.isArrayOrTypedArray(ft)&&(ft=ft[Ke]),We=Je?T.symbolBackOffs[T.symbolNumber(ht)]*ft:0,We+=T.getMarkerStandoff(oe[Ke],De)||0}var mt=Be-We*Math.cos(Ce),At=Ve-We*Math.sin(Ce);(mt<=Be&&mt>=Pe||mt>=Be&&mt<=Pe)&&(At<=Ve&&At>=Ue||At>=Ve&&At<=Ue)&&(be=[mt,At])}return be}T.steps=function(be){var Ee=V[be]||q;return function(Oe){for(var De="M"+W(Oe[0][0])+","+j(Oe[0][1]),oe=Oe.length,de=1;de<oe;de++)De+=Ee(Oe[de-1],Oe[de],de===oe-1);return De}},T.applyBackoff=G,T.makeTester=function(){var be=E.ensureSingleById(C.select("body"),"svg","js-plotly-tester",function(Oe){Oe.attr(o.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),Ee=E.ensureSingle(be,"path","js-reference-point",function(Oe){Oe.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});T.tester=be,T.testref=Ee},T.savedBBoxes={};var H=0;function ne(be){var Ee=be.getAttribute("data-unformatted");if(null!==Ee)return Ee+be.getAttribute("data-math")+be.getAttribute("text-anchor")+be.getAttribute("style")}function X(be,Ee){if(!be)return null;var Oe=Ee._context,De=Oe._exportedPlot?"":Oe._baseUrl||"";return De?"url('"+De+"#"+be+"')":"url(#"+be+")"}T.bBox=function(be,Ee,Oe){var De,oe,de;if(Oe||(Oe=ne(be)),Oe){if(De=T.savedBBoxes[Oe])return E.extendFlat({},De)}else if(1===be.childNodes.length){var _e=be.childNodes[0];if(Oe=ne(_e)){var Me=+_e.getAttribute("x")||0,Pe=+_e.getAttribute("y")||0,Ue=_e.getAttribute("transform");if(!Ue){var Be=T.bBox(_e,!1,Oe);return Me&&(Be.left+=Me,Be.right+=Me),Pe&&(Be.top+=Pe,Be.bottom+=Pe),Be}if(De=T.savedBBoxes[Oe+="~"+Me+"~"+Pe+"~"+Ue])return E.extendFlat({},De)}}Ee?oe=be:(de=T.tester.node(),oe=be.cloneNode(!0),de.appendChild(oe)),C.select(oe).attr("transform",null).call(a.positionText,0,0);var Ve=oe.getBoundingClientRect(),ve=T.testref.node().getBoundingClientRect();Ee||de.removeChild(oe);var Te={height:Ve.height,width:Ve.width,left:Ve.left-ve.left,top:Ve.top-ve.top,right:Ve.right-ve.left,bottom:Ve.bottom-ve.top};return H>=1e4&&(T.savedBBoxes={},H=0),Oe&&(T.savedBBoxes[Oe]=Te),H++,E.extendFlat({},Te)},T.setClipUrl=function(be,Ee,Oe){be.attr("clip-path",X(Ee,Oe))},T.getTranslate=function(be){var Ee=(be[be.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(Oe,De,oe){return[De,oe].join(" ")}).split(" ");return{x:+Ee[0]||0,y:+Ee[1]||0}},T.setTranslate=function(be,Ee,Oe){var oe=be.attr?"attr":"setAttribute",de=be[be.attr?"attr":"getAttribute"]("transform")||"";return Ee=Ee||0,Oe=Oe||0,de=de.replace(/(\btranslate\(.*?\);?)/,"").trim(),de=(de+=u(Ee,Oe)).trim(),be[oe]("transform",de),de},T.getScale=function(be){var Ee=(be[be.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(Oe,De,oe){return[De,oe].join(" ")}).split(" ");return{x:+Ee[0]||1,y:+Ee[1]||1}},T.setScale=function(be,Ee,Oe){var oe=be.attr?"attr":"setAttribute",de=be[be.attr?"attr":"getAttribute"]("transform")||"";return Ee=Ee||1,Oe=Oe||1,de=de.replace(/(\bscale\(.*?\);?)/,"").trim(),de=(de+="scale("+Ee+","+Oe+")").trim(),be[oe]("transform",de),de};var $=/\s*sc.*/;T.setPointGroupScale=function(be,Ee,Oe){if(Ee=Ee||1,Oe=Oe||1,be){var De=1===Ee&&1===Oe?"":"scale("+Ee+","+Oe+")";be.each(function(){var oe=(this.getAttribute("transform")||"").replace($,"");oe=(oe+=De).trim(),this.setAttribute("transform",oe)})}};var Q=/translate\([^)]*\)\s*$/;function te(be,Ee){var Oe;return be&&(Oe=be.mf),void 0===Oe&&(Oe=Ee.marker&&Ee.marker.standoff||0),Ee._geo||Ee._xA?Oe:-Oe}T.setTextPointsScale=function(be,Ee,Oe){be&&be.each(function(){var De,oe=C.select(this),de=oe.select("text");if(de.node()){var _e=parseFloat(de.attr("x")||0),Me=parseFloat(de.attr("y")||0),Pe=(oe.attr("transform")||"").match(Q);De=1===Ee&&1===Oe?[]:[u(_e,Me),"scale("+Ee+","+Oe+")",u(-_e,-Me)],Pe&&De.push(Pe),oe.attr("transform",De.join(""))}})},T.getMarkerStandoff=te;var re,le,ue,he,ge,xe,ke=Math.atan2,Ae=Math.cos,pe=Math.sin;function ye(be,Ee){var Oe=Ee[0],De=Ee[1];return[Oe*Ae(be)-De*pe(be),Oe*pe(be)+De*Ae(be)]}function Ne(be,Ee){var Oe,De,oe=be.ma;void 0===oe&&(oe=Ee.marker.angle||0);var de=Ee.marker.angleref;if("previous"===de||"north"===de){if(Ee._geo){var _e=Ee._geo.project(be.lonlat);Oe=_e[0],De=_e[1]}else{var Me=Ee._xA,Pe=Ee._yA;if(!Me||!Pe)return 90;Oe=Me.c2p(be.x),De=Pe.c2p(be.y)}if(Ee._geo){var Ue,Be=be.lonlat[0],Ve=be.lonlat[1],ve=Ee._geo.project([Be,Ve+1e-5]),Te=Ee._geo.project([Be+1e-5,Ve]),Ce=ke(Te[1]-De,Te[0]-Oe),We=ke(ve[1]-De,ve[0]-Oe);if("north"===de)Ue=oe/180*Math.PI;else if("previous"===de){var Ke=Be/180*Math.PI,Je=Ve/180*Math.PI,ht=re/180*Math.PI,ft=le/180*Math.PI,mt=ht-Ke,At=Ae(ft)*pe(mt),Rt=pe(ft)*Ae(Je)-Ae(ft)*pe(Je)*Ae(mt);Ue=-ke(At,Rt)-Math.PI,re=Be,le=Ve}var It=ye(Ce,[Ae(Ue),0]),Pt=ye(We,[pe(Ue),0]);oe=ke(It[1]+Pt[1],It[0]+Pt[0])/Math.PI*180,"previous"!==de||xe===Ee.uid&&be.i===ge+1||(oe=null)}if("previous"===de&&!Ee._geo)if(xe===Ee.uid&&be.i===ge+1&&S(Oe)&&S(De)){var Bt=Oe-ue,Ut=De-he,Vt=Ee.line&&Ee.line.shape||"",tn=Vt.slice(Vt.length-1);"h"===tn&&(Ut=0),"v"===tn&&(Bt=0),oe+=ke(Ut,Bt)/Math.PI*180+90}else oe=null}return ue=Oe,he=De,ge=be.i,xe=Ee.uid,oe}T.getMarkerAngle=Ne},90998:function(ie,z,r){"use strict";var C,E,f,S,M=r(95616),v=r(39898).round,c="M0,0Z",i=Math.sqrt(2),u=Math.sqrt(3),a=Math.PI,o=Math.cos,l=Math.sin;function s(g){return null===g}function d(g,p,T){if(!(g&&g%360!=0||p))return T;if(f===g&&S===p&&C===T)return E;function _(B,W){var j=o(B),Z=l(B),V=W[0],q=W[1]+(p||0);return[V*j-q*Z,V*Z+q*j]}f=g,S=p,C=T;for(var y=g/180*a,w=0,m=0,b=M(T),k="",h=0;h<b.length;h++){var O=b[h],A=O[0],I=w,P=m;if("M"===A||"L"===A)w=+O[1],m=+O[2];else if("m"===A||"l"===A)w+=+O[1],m+=+O[2];else if("H"===A)w=+O[1];else if("h"===A)w+=+O[1];else if("V"===A)m=+O[1];else if("v"===A)m+=+O[1];else if("A"===A){w=+O[1],m=+O[2];var L=_(y,[+O[6],+O[7]]);O[6]=L[0],O[7]=L[1],O[3]=+O[3]+g}"H"!==A&&"V"!==A||(A="L"),"h"!==A&&"v"!==A||(A="l"),"m"!==A&&"l"!==A||(w-=I,m-=P);var N=_(y,[w,m]);"H"!==A&&"V"!==A||(A="L"),"M"!==A&&"L"!==A&&"m"!==A&&"l"!==A||(O[1]=N[0],O[2]=N[1]),O[0]=A,k+=O[0]+O.slice(1).join(",")}return E=k,k}ie.exports={circle:{n:0,f:function(g,p,T){if(s(p))return c;var _=v(g,2),y="M"+_+",0A"+_+","+_+" 0 1,1 0,-"+_+"A"+_+","+_+" 0 0,1 "+_+",0Z";return T?d(p,T,y):y}},square:{n:1,f:function(g,p,T){if(s(p))return c;var _=v(g,2);return d(p,T,"M"+_+","+_+"H-"+_+"V-"+_+"H"+_+"Z")}},diamond:{n:2,f:function(g,p,T){if(s(p))return c;var _=v(1.3*g,2);return d(p,T,"M"+_+",0L0,"+_+"L-"+_+",0L0,-"+_+"Z")}},cross:{n:3,f:function(g,p,T){if(s(p))return c;var _=v(.4*g,2),y=v(1.2*g,2);return d(p,T,"M"+y+","+_+"H"+_+"V"+y+"H-"+_+"V"+_+"H-"+y+"V-"+_+"H-"+_+"V-"+y+"H"+_+"V-"+_+"H"+y+"Z")}},x:{n:4,f:function(g,p,T){if(s(p))return c;var _=v(.8*g/i,2),y="l"+_+","+_,w="l"+_+",-"+_,m="l-"+_+",-"+_,b="l-"+_+","+_;return d(p,T,"M0,"+_+y+w+m+w+m+b+m+b+y+b+y+"Z")}},"triangle-up":{n:5,f:function(g,p,T){if(s(p))return c;var _=v(2*g/u,2);return d(p,T,"M-"+_+","+v(g/2,2)+"H"+_+"L0,-"+v(g,2)+"Z")}},"triangle-down":{n:6,f:function(g,p,T){if(s(p))return c;var _=v(2*g/u,2);return d(p,T,"M-"+_+",-"+v(g/2,2)+"H"+_+"L0,"+v(g,2)+"Z")}},"triangle-left":{n:7,f:function(g,p,T){if(s(p))return c;var _=v(2*g/u,2);return d(p,T,"M"+v(g/2,2)+",-"+_+"V"+_+"L-"+v(g,2)+",0Z")}},"triangle-right":{n:8,f:function(g,p,T){if(s(p))return c;var _=v(2*g/u,2);return d(p,T,"M-"+v(g/2,2)+",-"+_+"V"+_+"L"+v(g,2)+",0Z")}},"triangle-ne":{n:9,f:function(g,p,T){if(s(p))return c;var _=v(.6*g,2),y=v(1.2*g,2);return d(p,T,"M-"+y+",-"+_+"H"+_+"V"+y+"Z")}},"triangle-se":{n:10,f:function(g,p,T){if(s(p))return c;var _=v(.6*g,2),y=v(1.2*g,2);return d(p,T,"M"+_+",-"+y+"V"+_+"H-"+y+"Z")}},"triangle-sw":{n:11,f:function(g,p,T){if(s(p))return c;var _=v(.6*g,2),y=v(1.2*g,2);return d(p,T,"M"+y+","+_+"H-"+_+"V-"+y+"Z")}},"triangle-nw":{n:12,f:function(g,p,T){if(s(p))return c;var _=v(.6*g,2),y=v(1.2*g,2);return d(p,T,"M-"+_+","+y+"V-"+_+"H"+y+"Z")}},pentagon:{n:13,f:function(g,p,T){if(s(p))return c;var _=v(.951*g,2),y=v(.588*g,2),w=v(-g,2),m=v(-.309*g,2);return d(p,T,"M"+_+","+m+"L"+y+","+v(.809*g,2)+"H-"+y+"L-"+_+","+m+"L0,"+w+"Z")}},hexagon:{n:14,f:function(g,p,T){if(s(p))return c;var _=v(g,2),y=v(g/2,2),w=v(g*u/2,2);return d(p,T,"M"+w+",-"+y+"V"+y+"L0,"+_+"L-"+w+","+y+"V-"+y+"L0,-"+_+"Z")}},hexagon2:{n:15,f:function(g,p,T){if(s(p))return c;var _=v(g,2),y=v(g/2,2),w=v(g*u/2,2);return d(p,T,"M-"+y+","+w+"H"+y+"L"+_+",0L"+y+",-"+w+"H-"+y+"L-"+_+",0Z")}},octagon:{n:16,f:function(g,p,T){if(s(p))return c;var _=v(.924*g,2),y=v(.383*g,2);return d(p,T,"M-"+y+",-"+_+"H"+y+"L"+_+",-"+y+"V"+y+"L"+y+","+_+"H-"+y+"L-"+_+","+y+"V-"+y+"Z")}},star:{n:17,f:function(g,p,T){if(s(p))return c;var _=1.4*g,y=v(.225*_,2),w=v(.951*_,2),m=v(.363*_,2),b=v(.588*_,2),k=v(-_,2),h=v(-.309*_,2),O=v(.118*_,2),A=v(.809*_,2);return d(p,T,"M"+y+","+h+"H"+w+"L"+m+","+O+"L"+b+","+A+"L0,"+v(.382*_,2)+"L-"+b+","+A+"L-"+m+","+O+"L-"+w+","+h+"H-"+y+"L0,"+k+"Z")}},hexagram:{n:18,f:function(g,p,T){if(s(p))return c;var _=v(.66*g,2),y=v(.38*g,2),w=v(.76*g,2);return d(p,T,"M-"+w+",0l-"+y+",-"+_+"h"+w+"l"+y+",-"+_+"l"+y+","+_+"h"+w+"l-"+y+","+_+"l"+y+","+_+"h-"+w+"l-"+y+","+_+"l-"+y+",-"+_+"h-"+w+"Z")}},"star-triangle-up":{n:19,f:function(g,p,T){if(s(p))return c;var _=v(g*u*.8,2),y=v(.8*g,2),w=v(1.6*g,2),m=v(4*g,2),b="A "+m+","+m+" 0 0 1 ";return d(p,T,"M-"+_+","+y+b+_+","+y+b+"0,-"+w+b+"-"+_+","+y+"Z")}},"star-triangle-down":{n:20,f:function(g,p,T){if(s(p))return c;var _=v(g*u*.8,2),y=v(.8*g,2),w=v(1.6*g,2),m=v(4*g,2),b="A "+m+","+m+" 0 0 1 ";return d(p,T,"M"+_+",-"+y+b+"-"+_+",-"+y+b+"0,"+w+b+_+",-"+y+"Z")}},"star-square":{n:21,f:function(g,p,T){if(s(p))return c;var _=v(1.1*g,2),y=v(2*g,2),w="A "+y+","+y+" 0 0 1 ";return d(p,T,"M-"+_+",-"+_+w+"-"+_+","+_+w+_+","+_+w+_+",-"+_+w+"-"+_+",-"+_+"Z")}},"star-diamond":{n:22,f:function(g,p,T){if(s(p))return c;var _=v(1.4*g,2),y=v(1.9*g,2),w="A "+y+","+y+" 0 0 1 ";return d(p,T,"M-"+_+",0"+w+"0,"+_+w+_+",0"+w+"0,-"+_+w+"-"+_+",0Z")}},"diamond-tall":{n:23,f:function(g,p,T){if(s(p))return c;var _=v(.7*g,2),y=v(1.4*g,2);return d(p,T,"M0,"+y+"L"+_+",0L0,-"+y+"L-"+_+",0Z")}},"diamond-wide":{n:24,f:function(g,p,T){if(s(p))return c;var _=v(1.4*g,2),y=v(.7*g,2);return d(p,T,"M0,"+y+"L"+_+",0L0,-"+y+"L-"+_+",0Z")}},hourglass:{n:25,f:function(g,p,T){if(s(p))return c;var _=v(g,2);return d(p,T,"M"+_+","+_+"H-"+_+"L"+_+",-"+_+"H-"+_+"Z")},noDot:!0},bowtie:{n:26,f:function(g,p,T){if(s(p))return c;var _=v(g,2);return d(p,T,"M"+_+","+_+"V-"+_+"L-"+_+","+_+"V-"+_+"Z")},noDot:!0},"circle-cross":{n:27,f:function(g,p,T){if(s(p))return c;var _=v(g,2);return d(p,T,"M0,"+_+"V-"+_+"M"+_+",0H-"+_+"M"+_+",0A"+_+","+_+" 0 1,1 0,-"+_+"A"+_+","+_+" 0 0,1 "+_+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(g,p,T){if(s(p))return c;var _=v(g,2),y=v(g/i,2);return d(p,T,"M"+y+","+y+"L-"+y+",-"+y+"M"+y+",-"+y+"L-"+y+","+y+"M"+_+",0A"+_+","+_+" 0 1,1 0,-"+_+"A"+_+","+_+" 0 0,1 "+_+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(g,p,T){if(s(p))return c;var _=v(g,2);return d(p,T,"M0,"+_+"V-"+_+"M"+_+",0H-"+_+"M"+_+","+_+"H-"+_+"V-"+_+"H"+_+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(g,p,T){if(s(p))return c;var _=v(g,2);return d(p,T,"M"+_+","+_+"L-"+_+",-"+_+"M"+_+",-"+_+"L-"+_+","+_+"M"+_+","+_+"H-"+_+"V-"+_+"H"+_+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(g,p,T){if(s(p))return c;var _=v(1.3*g,2);return d(p,T,"M"+_+",0L0,"+_+"L-"+_+",0L0,-"+_+"ZM0,-"+_+"V"+_+"M-"+_+",0H"+_)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(g,p,T){if(s(p))return c;var _=v(1.3*g,2),y=v(.65*g,2);return d(p,T,"M"+_+",0L0,"+_+"L-"+_+",0L0,-"+_+"ZM-"+y+",-"+y+"L"+y+","+y+"M-"+y+","+y+"L"+y+",-"+y)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(g,p,T){if(s(p))return c;var _=v(1.4*g,2);return d(p,T,"M0,"+_+"V-"+_+"M"+_+",0H-"+_)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(g,p,T){if(s(p))return c;var _=v(g,2);return d(p,T,"M"+_+","+_+"L-"+_+",-"+_+"M"+_+",-"+_+"L-"+_+","+_)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(g,p,T){if(s(p))return c;var _=v(1.2*g,2),y=v(.85*g,2);return d(p,T,"M0,"+_+"V-"+_+"M"+_+",0H-"+_+"M"+y+","+y+"L-"+y+",-"+y+"M"+y+",-"+y+"L-"+y+","+y)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(g,p,T){if(s(p))return c;var _=v(g/2,2),y=v(g,2);return d(p,T,"M"+_+","+y+"V-"+y+"M"+(_-y)+",-"+y+"V"+y+"M"+y+","+_+"H-"+y+"M-"+y+","+(_-y)+"H"+y)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(g,p,T){if(s(p))return c;var _=v(1.2*g,2),y=v(1.6*g,2),w=v(.8*g,2);return d(p,T,"M-"+_+","+w+"L0,0M"+_+","+w+"L0,0M0,-"+y+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(g,p,T){if(s(p))return c;var _=v(1.2*g,2),y=v(1.6*g,2),w=v(.8*g,2);return d(p,T,"M-"+_+",-"+w+"L0,0M"+_+",-"+w+"L0,0M0,"+y+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(g,p,T){if(s(p))return c;var _=v(1.2*g,2),y=v(1.6*g,2),w=v(.8*g,2);return d(p,T,"M"+w+","+_+"L0,0M"+w+",-"+_+"L0,0M-"+y+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(g,p,T){if(s(p))return c;var _=v(1.2*g,2),y=v(1.6*g,2),w=v(.8*g,2);return d(p,T,"M-"+w+","+_+"L0,0M-"+w+",-"+_+"L0,0M"+y+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(g,p,T){if(s(p))return c;var _=v(1.4*g,2);return d(p,T,"M"+_+",0H-"+_)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(g,p,T){if(s(p))return c;var _=v(1.4*g,2);return d(p,T,"M0,"+_+"V-"+_)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(g,p,T){if(s(p))return c;var _=v(g,2);return d(p,T,"M"+_+",-"+_+"L-"+_+","+_)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(g,p,T){if(s(p))return c;var _=v(g,2);return d(p,T,"M"+_+","+_+"L-"+_+",-"+_)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(g,p,T){if(s(p))return c;var _=v(g,2);return d(p,T,"M0,0L-"+_+","+v(2*g,2)+"H"+_+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(g,p,T){if(s(p))return c;var _=v(g,2);return d(p,T,"M0,0L-"+_+",-"+v(2*g,2)+"H"+_+"Z")},noDot:!0},"arrow-left":{n:47,f:function(g,p,T){if(s(p))return c;var _=v(2*g,2),y=v(g,2);return d(p,T,"M0,0L"+_+",-"+y+"V"+y+"Z")},noDot:!0},"arrow-right":{n:48,f:function(g,p,T){if(s(p))return c;var _=v(2*g,2),y=v(g,2);return d(p,T,"M0,0L-"+_+",-"+y+"V"+y+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(g,p,T){if(s(p))return c;var _=v(g,2);return d(p,T,"M-"+_+",0H"+_+"M0,0L-"+_+","+v(2*g,2)+"H"+_+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(g,p,T){if(s(p))return c;var _=v(g,2);return d(p,T,"M-"+_+",0H"+_+"M0,0L-"+_+",-"+v(2*g,2)+"H"+_+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(g,p,T){if(s(p))return c;var _=v(2*g,2),y=v(g,2);return d(p,T,"M0,-"+y+"V"+y+"M0,0L"+_+",-"+y+"V"+y+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(g,p,T){if(s(p))return c;var _=v(2*g,2),y=v(g,2);return d(p,T,"M0,-"+y+"V"+y+"M0,0L-"+_+",-"+y+"V"+y+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(g,p,T){if(s(p))return c;var _=a/2.5,y=2*g*o(_),w=2*g*l(_);return d(p,T,"M0,0L"+-y+","+w+"L"+y+","+w+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(g,p,T){if(s(p))return c;var _=a/4,y=2*g*o(_),w=2*g*l(_);return d(p,T,"M0,0L"+-y+","+w+"A "+2*g+","+2*g+" 0 0 1 "+y+","+w+"Z")},backoff:.4,noDot:!0}}},25673:function(ie){"use strict";ie.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},84532:function(ie,z,r){"use strict";var C=r(92770),E=r(73972),f=r(89298),S=r(71828),M=r(45827);function v(c,i,u,a){var o=i["error_"+a]||{},l=[];if(o.visible&&-1!==["linear","log"].indexOf(u.type)){for(var s=M(o),d=0;d<c.length;d++){var g=c[d],p=g.i;if(void 0===p)p=d;else if(null===p)continue;var T=g[a];if(C(u.c2l(T))){var _=s(T,p);if(C(_[0])&&C(_[1])){var y=g[a+"s"]=T-_[0],w=g[a+"h"]=T+_[1];l.push(y,w)}}}var b=i._extremes[u._id],k=f.findExtremes(u,l,S.extendFlat({tozero:b.opts.tozero},{padded:!0}));b.min=b.min.concat(k.min),b.max=b.max.concat(k.max)}}ie.exports=function(c){for(var i=c.calcdata,u=0;u<i.length;u++){var a=i[u],o=a[0].trace;if(!0===o.visible&&E.traceIs(o,"errorBarsOK")){var l=f.getFromId(c,o.xaxis),s=f.getFromId(c,o.yaxis);v(a,o,l,"x"),v(a,o,s,"y")}}}},45827:function(ie){"use strict";function z(r,C){return"percent"===r?function(E){return Math.abs(E*C/100)}:"constant"===r?function(){return Math.abs(C)}:"sqrt"===r?function(E){return Math.sqrt(Math.abs(E))}:void 0}ie.exports=function(r){var C=r.type,E=r.symmetric;if("data"===C){var f=r.array||[];if(E)return function(c,i){var u=+f[i];return[u,u]};var S=r.arrayminus||[];return function(c,i){var u=+f[i],a=+S[i];return isNaN(u)&&isNaN(a)?[NaN,NaN]:[a||0,u||0]}}var M=z(C,r.value),v=z(C,r.valueminus);return E||void 0===r.valueminus?function(c){var i=M(c);return[i,i]}:function(c){return[v(c),M(c)]}}},97587:function(ie,z,r){"use strict";var C=r(92770),E=r(73972),f=r(71828),S=r(44467),M=r(25673);ie.exports=function(v,c,i,u){var a="error_"+u.axis,o=S.newContainer(c,a),l=v[a]||{};function s(T,_){return f.coerce(l,o,M,T,_)}if(!1!==s("visible",void 0!==l.array||void 0!==l.value||"sqrt"===l.type)){var d=s("type","array"in l?"data":"percent"),g=!0;"sqrt"!==d&&(g=s("symmetric",!(("data"===d?"arrayminus":"valueminus")in l))),"data"===d?(s("array"),s("traceref"),g||(s("arrayminus"),s("tracerefminus"))):"percent"!==d&&"constant"!==d||(s("value"),g||s("valueminus"));var p="copy_"+u.inherit+"style";u.inherit&&(c["error_"+u.inherit]||{}).visible&&s(p,!(l.color||C(l.thickness)||C(l.width))),u.inherit&&o[p]||(s("color",i),s("thickness"),s("width",E.traceIs(c,"gl3d")?0:4))}}},37369:function(ie,z,r){"use strict";var C=r(71828),E=r(30962).overrideAll,f=r(25673),S={error_x:C.extendFlat({},f),error_y:C.extendFlat({},f)};delete S.error_x.copy_zstyle,delete S.error_y.copy_zstyle,delete S.error_y.copy_ystyle;var M={error_x:C.extendFlat({},f),error_y:C.extendFlat({},f),error_z:C.extendFlat({},f)};delete M.error_x.copy_ystyle,delete M.error_y.copy_ystyle,delete M.error_z.copy_ystyle,delete M.error_z.copy_zstyle,ie.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:S,bar:S,histogram:S,scatter3d:E(M,"calc","nested"),scattergl:E(S,"calc","nested")}},supplyDefaults:r(97587),calc:r(84532),makeComputeError:r(45827),plot:r(19398),style:r(62662),hoverInfo:function(v,c,i){(c.error_y||{}).visible&&(i.yerr=v.yh-v.y,c.error_y.symmetric||(i.yerrneg=v.y-v.ys)),(c.error_x||{}).visible&&(i.xerr=v.xh-v.x,c.error_x.symmetric||(i.xerrneg=v.x-v.xs))}}},19398:function(ie,z,r){"use strict";var C=r(39898),E=r(92770),f=r(91424),S=r(34098);ie.exports=function(M,v,c,i){var u=c.xaxis,a=c.yaxis,o=i&&i.duration>0,l=M._context.staticPlot;v.each(function(s){var d,g=s[0].trace,p=g.error_x||{},T=g.error_y||{};g.ids&&(d=function(m){return m.id});var _=S.hasMarkers(g)&&g.marker.maxdisplayed>0;T.visible||p.visible||(s=[]);var y=C.select(this).selectAll("g.errorbar").data(s,d);if(y.exit().remove(),s.length){p.visible||y.selectAll("path.xerror").remove(),T.visible||y.selectAll("path.yerror").remove(),y.style("opacity",1);var w=y.enter().append("g").classed("errorbar",!0);o&&w.style("opacity",0).transition().duration(i.duration).style("opacity",1),f.setClipUrl(y,c.layerClipId,M),y.each(function(m){var L,N,B,W,b=C.select(this),k=(B=a,W={x:(N=u).c2p((L=m).x),y:B.c2p(L.y)},void 0!==L.yh&&(W.yh=B.c2p(L.yh),W.ys=B.c2p(L.ys),E(W.ys)||(W.noYS=!0,W.ys=B.c2p(L.ys,!0))),void 0!==L.xh&&(W.xh=N.c2p(L.xh),W.xs=N.c2p(L.xs),E(W.xs)||(W.noXS=!0,W.xs=N.c2p(L.xs,!0))),W);if(!_||m.vis){var h,O=b.select("path.yerror");if(T.visible&&E(k.x)&&E(k.yh)&&E(k.ys)){var A=T.width;h="M"+(k.x-A)+","+k.yh+"h"+2*A+"m-"+A+",0V"+k.ys,k.noYS||(h+="m-"+A+",0h"+2*A),O.size()?o&&(O=O.transition().duration(i.duration).ease(i.easing)):O=b.append("path").style("vector-effect",l?"none":"non-scaling-stroke").classed("yerror",!0),O.attr("d",h)}else O.remove();var I=b.select("path.xerror");if(p.visible&&E(k.y)&&E(k.xh)&&E(k.xs)){var P=(p.copy_ystyle?T:p).width;h="M"+k.xh+","+(k.y-P)+"v"+2*P+"m0,-"+P+"H"+k.xs,k.noXS||(h+="m0,-"+P+"v"+2*P),I.size()?o&&(I=I.transition().duration(i.duration).ease(i.easing)):I=b.append("path").style("vector-effect",l?"none":"non-scaling-stroke").classed("xerror",!0),I.attr("d",h)}else I.remove()}})}})}},62662:function(ie,z,r){"use strict";var C=r(39898),E=r(7901);ie.exports=function(f){f.each(function(S){var M=S[0].trace,v=M.error_y||{},c=M.error_x||{},i=C.select(this);i.selectAll("path.yerror").style("stroke-width",v.thickness+"px").call(E.stroke,v.color),c.copy_ystyle&&(c=v),i.selectAll("path.xerror").style("stroke-width",c.thickness+"px").call(E.stroke,c.color)})}},77914:function(ie,z,r){"use strict";var C=r(41940),E=r(528).hoverlabel,f=r(1426).extendFlat;ie.exports={hoverlabel:{bgcolor:f({},E.bgcolor,{arrayOk:!0}),bordercolor:f({},E.bordercolor,{arrayOk:!0}),font:C({arrayOk:!0,editType:"none"}),align:f({},E.align,{arrayOk:!0}),namelength:f({},E.namelength,{arrayOk:!0}),editType:"none"}}},30732:function(ie,z,r){"use strict";var C=r(71828),E=r(73972);function f(S,M,v,c){c=c||C.identity,Array.isArray(S)&&(M[0][v]=c(S))}ie.exports=function(S){var M=S.calcdata,v=S._fullLayout;function c(l){return function(s){return C.coerceHoverinfo({hoverinfo:s},{_module:l._module},v)}}for(var i=0;i<M.length;i++){var u=M[i],a=u[0].trace;if(!E.traceIs(a,"pie-like")){var o=E.traceIs(a,"2dMap")?f:C.fillArray;o(a.hoverinfo,u,"hi",c(a)),a.hovertemplate&&o(a.hovertemplate,u,"ht"),a.hoverlabel&&(o(a.hoverlabel.bgcolor,u,"hbg"),o(a.hoverlabel.bordercolor,u,"hbc"),o(a.hoverlabel.font.size,u,"hts"),o(a.hoverlabel.font.color,u,"htc"),o(a.hoverlabel.font.family,u,"htf"),o(a.hoverlabel.namelength,u,"hnl"),o(a.hoverlabel.align,u,"hta"))}}}},75914:function(ie,z,r){"use strict";var C=r(73972),E=r(88335).hover;ie.exports=function(f,S,M){var v=C.getComponentMethod("annotations","onClick")(f,f._hoverdata);function c(){f.emit("plotly_click",{points:f._hoverdata,event:S})}void 0!==M&&E(f,S,M,!0),f._hoverdata&&S&&S.target&&(v&&v.then?v.then(c):c(),S.stopImmediatePropagation&&S.stopImmediatePropagation())}},26675:function(ie){"use strict";ie.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},54268:function(ie,z,r){"use strict";var C=r(71828),E=r(77914),f=r(38048);ie.exports=function(S,M,v,c){var i=C.extendFlat({},c.hoverlabel);M.hovertemplate&&(i.namelength=-1),f(S,M,function(u,a){return C.coerce(S,M,E,u,a)},i)}},23469:function(ie,z,r){"use strict";var C=r(71828);z.getSubplot=function(c){return c.subplot||c.xaxis+c.yaxis||c.geo},z.isTraceInSubplots=function(c,i){if("splom"===c.type){for(var u=c.xaxes||[],a=c.yaxes||[],o=0;o<u.length;o++)for(var l=0;l<a.length;l++)if(-1!==i.indexOf(u[o]+a[l]))return!0;return!1}return-1!==i.indexOf(z.getSubplot(c))},z.flat=function(c,i){for(var u=new Array(c.length),a=0;a<c.length;a++)u[a]=i;return u},z.p2c=function(c,i){for(var u=new Array(c.length),a=0;a<c.length;a++)u[a]=c[a].p2c(i);return u},z.getDistanceFunction=function(c,i,u,a){return"closest"===c?a||z.quadrature(i,u):"x"===c.charAt(0)?i:u},z.getClosest=function(c,i,u){if(!1!==u.index)u.index>=0&&u.index<c.length?u.distance=0:u.index=!1;else for(var a=0;a<c.length;a++){var o=i(c[a]);o<=u.distance&&(u.index=a,u.distance=o)}return u},z.inbox=function(c,i,u){return c*i<0||0===c?u:1/0},z.quadrature=function(c,i){return function(u){var a=c(u),o=i(u);return Math.sqrt(a*a+o*o)}},z.makeEventData=function(c,i,u){var a="index"in c?c.index:c.pointNumber,o={data:i._input,fullData:i,curveNumber:i.index,pointNumber:a};if(i._indexToPoints){var l=i._indexToPoints[a];1===l.length?o.pointIndex=l[0]:o.pointIndices=l}else o.pointIndex=a;return i._module.eventData?o=i._module.eventData(o,c,i,u,a):("xVal"in c?o.x=c.xVal:"x"in c&&(o.x=c.x),"yVal"in c?o.y=c.yVal:"y"in c&&(o.y=c.y),c.xa&&(o.xaxis=c.xa),c.ya&&(o.yaxis=c.ya),void 0!==c.zLabelVal&&(o.z=c.zLabelVal)),z.appendArrayPointValue(o,i,a),o},z.appendArrayPointValue=function(c,i,u){var a=i._arrayAttrs;if(a)for(var o=0;o<a.length;o++){var l=a[o],s=f(l);if(void 0===c[s]){var d=S(C.nestedProperty(i,l).get(),u);void 0!==d&&(c[s]=d)}}},z.appendArrayMultiPointValues=function(c,i,u){var a=i._arrayAttrs;if(a)for(var o=0;o<a.length;o++){var l=a[o],s=f(l);if(void 0===c[s]){for(var d=C.nestedProperty(i,l).get(),g=new Array(u.length),p=0;p<u.length;p++)g[p]=S(d,u[p]);c[s]=g}}};var E={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function f(c){return E[c]||c}function S(c,i){return Array.isArray(i)?Array.isArray(c)&&Array.isArray(c[i[0]])?c[i[0]][i[1]]:void 0:c[i]}var M={x:!0,y:!0},v={"x unified":!0,"y unified":!0};z.isUnifiedHover=function(c){return"string"==typeof c&&!!v[c]},z.isXYhover=function(c){return"string"==typeof c&&!!M[c]}},88335:function(ie,z,r){"use strict";var C=r(39898),E=r(92770),f=r(84267),S=r(71828),M=S.strTranslate,v=S.strRotate,c=r(11086),i=r(63893),u=r(39918),a=r(91424),o=r(7901),l=r(28569),s=r(89298),d=r(73972),g=r(23469),p=r(26675),T=r(99017),_=r(43969),y=p.YANGLE,w=Math.PI*y/180,m=1/Math.sin(w),b=Math.cos(w),k=Math.sin(w),h=p.HOVERARROWSIZE,O=p.HOVERTEXTPAD,A={box:!0,ohlc:!0,violin:!0,candlestick:!0},I={scatter:!0,scattergl:!0,splom:!0};function P($){return[$.trace.index,$.index,$.x0,$.y0,$.name,$.attr,$.xa?$.xa._id:"",$.ya?$.ya._id:""].join(",")}z.hover=function($,Q,te,re){$=S.getGraphDiv($);var le=Q.target;S.throttle($._fullLayout._uid+p.HOVERID,p.HOVERMINTIME,function(){!function(ue,he,ge,xe,ke){ge||(ge="xy");var Ae=Array.isArray(ge)?ge:[ge],pe=ue._fullLayout,ye=pe._plots||[],Ne=ye[ge],be=pe._has("cartesian");if(Ne){var Ee=Ne.overlays.map(function(ur){return ur.id});Ae=Ae.concat(Ee)}for(var Oe=Ae.length,De=new Array(Oe),oe=new Array(Oe),de=!1,_e=0;_e<Oe;_e++){var Me=Ae[_e];if(ye[Me])de=!0,De[_e]=ye[Me].xaxis,oe[_e]=ye[Me].yaxis;else{if(!pe[Me]||!pe[Me]._subplot)return void S.warn("Unrecognized subplot: "+Me);var Pe=pe[Me]._subplot;De[_e]=Pe.xaxis,oe[_e]=Pe.yaxis}}var Ue=he.hovermode||pe.hovermode;if(Ue&&!de&&(Ue="closest"),-1===["x","y","closest","x unified","y unified"].indexOf(Ue)||!ue.calcdata||ue.querySelector(".zoombox")||ue._dragging)return l.unhoverRaw(ue,he);var Be=pe.hoverdistance;-1===Be&&(Be=1/0);var Ve=pe.spikedistance;-1===Ve&&(Ve=1/0);var ve,Te,Ce,We,Ke,Je,ht,ft,mt,At,Rt,It,Pt,Bt=[],Ut=[],Vt={hLinePoint:null,vLinePoint:null},tn=!1;if(Array.isArray(he))for(Ue="array",Ce=0;Ce<he.length;Ce++)(Ke=ue.calcdata[he[Ce].curveNumber||0])&&(Je=Ke[0].trace,"skip"!==Ke[0].trace.hoverinfo&&(Ut.push(Ke),"h"===Je.orientation&&(tn=!0)));else{for(We=0;We<ue.calcdata.length;We++)"skip"!==(Je=(Ke=ue.calcdata[We])[0].trace).hoverinfo&&g.isTraceInSubplots(Je,Ae)&&(Ut.push(Ke),"h"===Je.orientation&&(tn=!0));var Gt,et;if(ke){if(!1===c.triggerHandler(ue,"plotly_beforehover",he))return;var nt=ke.getBoundingClientRect();Gt=he.clientX-nt.left,et=he.clientY-nt.top,pe._calcInverseTransform(ue);var $e=S.apply3DTransform(pe._invTransform)(Gt,et);if(et=$e[1],(Gt=$e[0])<0||Gt>De[0]._length||et<0||et>oe[0]._length)return l.unhoverRaw(ue,he)}else Gt="xpx"in he?he.xpx:De[0]._length/2,et="ypx"in he?he.ypx:oe[0]._length/2;if(he.pointerX=Gt+De[0]._offset,he.pointerY=et+oe[0]._offset,ve="xval"in he?g.flat(Ae,he.xval):g.p2c(De,Gt),Te="yval"in he?g.flat(Ae,he.yval):g.p2c(oe,et),!E(ve[0])||!E(Te[0]))return S.warn("Fx.hover failed",he,ue),l.unhoverRaw(ue,he)}var ot=1/0;function dt(ur,cr){for(We=0;We<Ut.length;We++)if((Ke=Ut[We])&&Ke[0]&&Ke[0].trace&&!0===(Je=Ke[0].trace).visible&&0!==Je._length&&-1===["carpet","contourcarpet"].indexOf(Je._module.name)){if("splom"===Je.type?ht=Ae[ft=0]:(ht=g.getSubplot(Je),ft=Ae.indexOf(ht)),g.isUnifiedHover(mt=Ue)&&(mt=mt.charAt(0)),It={cd:Ke,trace:Je,xa:De[ft],ya:oe[ft],maxHoverDistance:Be,maxSpikeDistance:Ve,index:!1,distance:Math.min(ot,Be),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:o.defaultLine,name:Je.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},pe[ht]&&(It.subplot=pe[ht]._subplot),pe._splomScenes&&pe._splomScenes[Je.uid]&&(It.scene=pe._splomScenes[Je.uid]),Pt=Bt.length,"array"===mt){var on=he[We];"pointNumber"in on?(It.index=on.pointNumber,mt="closest"):(mt="","xval"in on&&(At=on.xval,mt="x"),"yval"in on&&(Rt=on.yval,mt=mt?"closest":"y"))}else void 0!==ur&&void 0!==cr?(At=ur,Rt=cr):(At=ve[ft],Rt=Te[ft]);if(0!==Be)if(Je._module&&Je._module.hoverPoints){var xn=Je._module.hoverPoints(It,At,Rt,mt,{finiteRange:!0,hoverLayer:pe._hoverlayer});if(xn)for(var Wn,Bn=0;Bn<xn.length;Bn++)E((Wn=xn[Bn]).x0)&&E(Wn.y0)&&Bt.push(j(Wn,Ue))}else S.log("Unrecognized trace type in hover:",Je);if("closest"===Ue&&Bt.length>Pt&&(Bt.splice(0,Pt),ot=Bt[0].distance),be&&0!==Ve&&0===Bt.length){It.distance=Ve,It.index=!1;var qn=Je._module.hoverPoints(It,At,Rt,"closest",{hoverLayer:pe._hoverlayer});if(qn&&(qn=qn.filter(function(Vn){return Vn.spikeDistance<=Ve})),qn&&qn.length){var nr,fr=qn.filter(function(Vn){return Vn.xa.showspikes&&"hovered data"!==Vn.xa.spikesnap});if(fr.length){var Sr=fr[0];E(Sr.x0)&&E(Sr.y0)&&(nr=Ge(Sr),(!Vt.vLinePoint||Vt.vLinePoint.spikeDistance>nr.spikeDistance)&&(Vt.vLinePoint=nr))}var Ur=qn.filter(function(Vn){return Vn.ya.showspikes&&"hovered data"!==Vn.ya.spikesnap});if(Ur.length){var fn=Ur[0];E(fn.x0)&&E(fn.y0)&&(nr=Ge(fn),(!Vt.hLinePoint||Vt.hLinePoint.spikeDistance>nr.spikeDistance)&&(Vt.hLinePoint=nr))}}}}}function Le(ur,cr,on){for(var xn,Wn=null,Bn=1/0,qn=0;qn<ur.length;qn++)xn=ur[qn].spikeDistance,on&&0===qn&&(xn=-1/0),xn<=Bn&&xn<=cr&&(Wn=ur[qn],Bn=xn);return Wn}function Ge(ur){return ur?{xa:ur.xa,ya:ur.ya,x:void 0!==ur.xSpike?ur.xSpike:(ur.x0+ur.x1)/2,y:void 0!==ur.ySpike?ur.ySpike:(ur.y0+ur.y1)/2,distance:ur.distance,spikeDistance:ur.spikeDistance,curveNumber:ur.trace.index,color:ur.color,pointNumber:ur.index}:null}dt();var st={fullLayout:pe,container:pe._hoverlayer,event:he},vt=ue._spikepoints;ue._spikepoints={vLinePoint:Vt.vLinePoint,hLinePoint:Vt.hLinePoint};var Lt=function(){Bt.sort(function(ur,cr){return ur.distance-cr.distance}),Bt=function(ur,cr){for(var on=cr.charAt(0),xn=[],Wn=[],Bn=[],qn=0;qn<ur.length;qn++){var nr=ur[qn];d.traceIs(nr.trace,"bar-like")||d.traceIs(nr.trace,"box-violin")?Bn.push(nr):nr.trace[on+"period"]?Wn.push(nr):xn.push(nr)}return xn.concat(Wn).concat(Bn)}(Bt,Ue)};Lt();var jt=Ue.charAt(0),Nt=("x"===jt||"y"===jt)&&Bt[0]&&I[Bt[0].trace.type];if(be&&0!==Ve&&0!==Bt.length){var Tt=Le(Bt.filter(function(ur){return ur.ya.showspikes}),Ve,Nt);Vt.hLinePoint=Ge(Tt);var Mt=Le(Bt.filter(function(ur){return ur.xa.showspikes}),Ve,Nt);Vt.vLinePoint=Ge(Mt)}if(0===Bt.length){var kt=l.unhoverRaw(ue,he);return!be||null===Vt.hLinePoint&&null===Vt.vLinePoint||V(vt)&&Z(ue,Vt,st),kt}if(be&&V(vt)&&Z(ue,Vt,st),g.isXYhover(mt)&&0!==Bt[0].length&&"splom"!==Bt[0].trace.type){var Ht=Bt[0],qt=(Bt=A[Ht.trace.type]?Bt.filter(function(ur){return ur.trace.index===Ht.trace.index}):[Ht]).length;dt(G("x",Ht,pe),G("y",Ht,pe));var Qt,Jt=[],Kt={},ln=0,Tn=function(ur){var cr=A[ur.trace.type]?P(ur):ur.trace.index;if(Kt[cr]){var on=Kt[cr]-1,xn=Jt[on];on>0&&Math.abs(ur.distance)<Math.abs(xn.distance)&&(Jt[on]=ur)}else ln++,Kt[cr]=ln,Jt.push(ur)};for(Qt=0;Qt<qt;Qt++)Tn(Bt[Qt]);for(Qt=Bt.length-1;Qt>qt-1;Qt--)Tn(Bt[Qt]);Bt=Jt,Lt()}var An=ue._hoverdata,pn=[],Nn=H(ue),tr=ne(ue);for(Ce=0;Ce<Bt.length;Ce++){var On=Bt[Ce],wn=g.makeEventData(On,On.trace,On.cd);if(!1!==On.hovertemplate){var Cn=!1;On.cd[On.index]&&On.cd[On.index].ht&&(Cn=On.cd[On.index].ht),On.hovertemplate=Cn||On.trace.hovertemplate||!1}if(On.xa&&On.ya){var mn=On.x0+On.xa._offset,En=On.x1+On.xa._offset,Fn=On.y0+On.ya._offset,jn=On.y1+On.ya._offset,er=Math.min(mn,En),Zn=Math.max(mn,En),Gn=Math.min(Fn,jn),_r=Math.max(Fn,jn);wn.bbox={x0:er+tr,x1:Zn+tr,y0:Gn+Nn,y1:_r+Nn}}On.eventData=[wn],pn.push(wn)}ue._hoverdata=pn;var mr="y"===Ue&&(Ut.length>1||Bt.length>1)||"closest"===Ue&&tn&&Bt.length>1,Vr=o.combine(pe.plot_bgcolor||o.background,pe.paper_bgcolor),Dr=N(Bt,{gd:ue,hovermode:Ue,rotateLabels:mr,bgColor:Vr,container:pe._hoverlayer,outerContainer:pe._paper.node(),commonLabelOpts:pe.hoverlabel,hoverdistance:pe.hoverdistance});if(g.isUnifiedHover(Ue)||(function(ur,cr,on){var xn,Wn,Bn,qn,nr,fr,Sr,Ur=0,fn=1,Vn=ur.size(),Wt=new Array(Vn),un=0;function vn(In){var Yn=In[0],Rn=In[In.length-1];if(Bn=Rn.pos+Rn.dp+Rn.size-Yn.pmax,(Wn=Yn.pmin-Yn.pos-Yn.dp+Yn.size)>.01){for(nr=In.length-1;nr>=0;nr--)In[nr].dp+=Wn;xn=!1}if(!(Bn<.01)){if(Wn<-.01){for(nr=In.length-1;nr>=0;nr--)In[nr].dp-=Bn;xn=!1}if(xn){var hr=0;for(qn=0;qn<In.length;qn++)(fr=In[qn]).pos+fr.dp+fr.size>Yn.pmax&&hr++;for(qn=In.length-1;qn>=0&&!(hr<=0);qn--)(fr=In[qn]).pos>Yn.pmax-1&&(fr.del=!0,hr--);for(qn=0;qn<In.length&&!(hr<=0);qn++)if((fr=In[qn]).pos<Yn.pmin+1)for(fr.del=!0,hr--,Bn=2*fr.size,nr=In.length-1;nr>=0;nr--)In[nr].dp-=Bn;for(qn=In.length-1;qn>=0&&!(hr<=0);qn--)(fr=In[qn]).pos+fr.dp+fr.size>Yn.pmax&&(fr.del=!0,hr--)}}}for(ur.each(function(In){var Yn=In[cr],Rn="x"===Yn._id.charAt(0),hr=Yn.range;0===un&&hr&&hr[0]>hr[1]!==Rn&&(fn=-1),Wt[un++]=[{datum:In,traceIndex:In.trace.index,dp:0,pos:In.pos,posref:In.posref,size:In.by*(Rn?m:1)/2,pmin:0,pmax:Rn?on.width:on.height}]}),Wt.sort(function(In,Yn){return In[0].posref-Yn[0].posref||fn*(Yn[0].traceIndex-In[0].traceIndex)});!xn&&Ur<=Vn;){for(Ur++,xn=!0,qn=0;qn<Wt.length-1;){var $n=Wt[qn],Hn=Wt[qn+1],zn=$n[$n.length-1],bn=Hn[0];if((Wn=zn.pos+zn.dp+zn.size-bn.pos-bn.dp+bn.size)>.01&&zn.pmin===bn.pmin&&zn.pmax===bn.pmax){for(nr=Hn.length-1;nr>=0;nr--)Hn[nr].dp+=Wn;for($n.push.apply($n,Hn),Wt.splice(qn+1,1),Sr=0,nr=$n.length-1;nr>=0;nr--)Sr+=$n[nr].dp;for(Bn=Sr/$n.length,nr=$n.length-1;nr>=0;nr--)$n[nr].dp-=Bn;xn=!1}else qn++}Wt.forEach(vn)}for(qn=Wt.length-1;qn>=0;qn--){var Sn=Wt[qn];for(nr=Sn.length-1;nr>=0;nr--){var gn=Sn[nr],kn=gn.datum;kn.offset=gn.dp,kn.del=gn.del}}}(Dr,mr?"xa":"ya",pe),W(Dr,mr,pe._invScaleX,pe._invScaleY)),ke&&ke.tagName){var Un=d.getComponentMethod("annotations","hasClickToShow")(ue,pn);u(C.select(ke),Un?"pointer":"")}ke&&!xe&&function(ur,cr,on){if(!on||on.length!==ur._hoverdata.length)return!0;for(var xn=on.length-1;xn>=0;xn--){var Wn=on[xn],Bn=ur._hoverdata[xn];if(Wn.curveNumber!==Bn.curveNumber||String(Wn.pointNumber)!==String(Bn.pointNumber)||String(Wn.pointNumbers)!==String(Bn.pointNumbers))return!0}return!1}(ue,0,An)&&(An&&ue.emit("plotly_unhover",{event:he,points:An}),ue.emit("plotly_hover",{event:he,points:ue._hoverdata,xaxes:De,yaxes:oe,xvals:ve,yvals:Te}))}($,Q,te,re,le)})},z.loneHover=function($,Q){var te=!0;Array.isArray($)||(te=!1,$=[$]);var re=Q.gd,le=H(re),ue=ne(re),he=N($.map(function(ke){var Ae=ke._x0||ke.x0||ke.x||0,pe=ke._x1||ke.x1||ke.x||0,ye=ke._y0||ke.y0||ke.y||0,Ne=ke._y1||ke.y1||ke.y||0,be=ke.eventData;if(be){var Ee=Math.min(Ae,pe),Oe=Math.max(Ae,pe),De=Math.min(ye,Ne),oe=Math.max(ye,Ne),de=ke.trace;if(d.traceIs(de,"gl3d")){var _e=re._fullLayout[de.scene]._scene.container,Me=_e.offsetLeft,Pe=_e.offsetTop;Ee+=Me,Oe+=Me,De+=Pe,oe+=Pe}be.bbox={x0:Ee+ue,x1:Oe+ue,y0:De+le,y1:oe+le},Q.inOut_bbox&&Q.inOut_bbox.push(be.bbox)}else be=!1;return{color:ke.color||o.defaultLine,x0:ke.x0||ke.x||0,x1:ke.x1||ke.x||0,y0:ke.y0||ke.y||0,y1:ke.y1||ke.y||0,xLabel:ke.xLabel,yLabel:ke.yLabel,zLabel:ke.zLabel,text:ke.text,name:ke.name,idealAlign:ke.idealAlign,borderColor:ke.borderColor,fontFamily:ke.fontFamily,fontSize:ke.fontSize,fontColor:ke.fontColor,nameLength:ke.nameLength,textAlign:ke.textAlign,trace:ke.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:ke.hovertemplate||!1,hovertemplateLabels:ke.hovertemplateLabels||!1,eventData:be}}),{gd:re,hovermode:"closest",rotateLabels:!1,bgColor:Q.bgColor||o.background,container:C.select(Q.container),outerContainer:Q.outerContainer||Q.container}),ge=0,xe=0;return he.sort(function(ke,Ae){return ke.y0-Ae.y0}).each(function(ke,Ae){var pe=ke.y0-ke.by/2;ke.offset=pe-5<ge?ge-pe+5:0,ge=pe+ke.by+ke.offset,Ae===Q.anchorIndex&&(xe=ke.offset)}).each(function(ke){ke.offset-=xe}),W(he,!1,re._fullLayout._invScaleX,re._fullLayout._invScaleY),te?he:he.node()};var L=/<extra>([\s\S]*)<\/extra>/;function N($,Q){var te=Q.gd,re=te._fullLayout,le=Q.hovermode,ue=Q.rotateLabels,he=Q.bgColor,ge=Q.container,xe=Q.outerContainer,ke=Q.commonLabelOpts||{};if(0===$.length)return[[]];var Ae=Q.fontFamily||p.HOVERFONT,pe=Q.fontSize||p.HOVERFONTSIZE,ye=$[0],Ne=ye.xa,be=ye.ya,Ee=le.charAt(0),Oe=Ee+"Label",De=ye[Oe];if(void 0===De&&"multicategory"===Ne.type)for(var oe=0;oe<$.length&&void 0===(De=$[oe][Oe]);oe++);var de=X(te,xe),_e=de.top,Me=de.width,Pe=de.height,Ue=void 0!==De&&ye.distance<=Q.hoverdistance&&("x"===le||"y"===le);if(Ue){var Be,Ve,ve=!0;for(Be=0;Be<$.length;Be++)if(ve&&void 0===$[Be].zLabel&&(ve=!1),Ve=$[Be].hoverinfo||$[Be].trace.hoverinfo){var Te=Array.isArray(Ve)?Ve:Ve.split("+");if(-1===Te.indexOf("all")&&-1===Te.indexOf(le)){Ue=!1;break}}ve&&(Ue=!1)}var Ce=ge.selectAll("g.axistext").data(Ue?[0]:[]);if(Ce.enter().append("g").classed("axistext",!0),Ce.exit().remove(),Ce.each(function(){var Mt=C.select(this),kt=S.ensureSingle(Mt,"path","",function(Zn){Zn.style({"stroke-width":"1px"})}),Ht=S.ensureSingle(Mt,"text","",function(Zn){Zn.attr("data-notex",1)}),qt=ke.bgcolor||o.defaultLine,Qt=ke.bordercolor||o.contrast(qt),Jt=o.contrast(qt),Kt={family:ke.font.family||Ae,size:ke.font.size||pe,color:ke.font.color||Jt};kt.style({fill:qt,stroke:Qt}),Ht.text(De).call(a.font,Kt).call(i.positionText,0,0).call(i.convertToTspans,te),Mt.attr("transform","");var ln,Tn,An=X(te,Ht.node());if("x"===le){var pn="top"===Ne.side?"-":"";Ht.attr("text-anchor","middle").call(i.positionText,0,"top"===Ne.side?_e-An.bottom-h-O:_e-An.top+h+O),Tn=be._offset+("top"===Ne.side?0:be._length);var Nn=An.width/2+O;(ln=Ne._offset+(ye.x0+ye.x1)/2)<Nn?(ln=Nn,kt.attr("d","M-"+(Nn-h)+",0L-"+(Nn-2*h)+","+pn+h+"H"+(O+An.width/2)+"v"+pn+(2*O+An.height)+"H-"+Nn+"V"+pn+h+"Z")):ln>re.width-Nn?(ln=re.width-Nn,kt.attr("d","M"+(Nn-h)+",0L"+Nn+","+pn+h+"v"+pn+(2*O+An.height)+"H-"+Nn+"V"+pn+h+"H"+(Nn-2*h)+"Z")):kt.attr("d","M0,0L"+h+","+pn+h+"H"+(O+An.width/2)+"v"+pn+(2*O+An.height)+"H-"+(O+An.width/2)+"V"+pn+h+"H-"+h+"Z")}else{var tr,On,wn;"right"===be.side?(tr="start",On=1,wn="",ln=Ne._offset+Ne._length):(tr="end",On=-1,wn="-",ln=Ne._offset),Tn=be._offset+(ye.y0+ye.y1)/2,Ht.attr("text-anchor",tr),kt.attr("d","M0,0L"+wn+h+","+h+"V"+(O+An.height/2)+"h"+wn+(2*O+An.width)+"V-"+(O+An.height/2)+"H"+wn+h+"V-"+h+"Z");var Cn,mn=An.height/2,En=_e-An.top-mn,Fn="clip"+re._uid+"commonlabel"+be._id;if(ln<An.width+2*O+h){Cn="M-"+(h+O)+"-"+mn+"h-"+(An.width-O)+"V"+mn+"h"+(An.width-O)+"Z";var jn=An.width-ln+O;i.positionText(Ht,jn,En),"end"===tr&&Ht.selectAll("tspan").each(function(){var Zn=C.select(this),Gn=a.tester.append("text").text(Zn.text()).call(a.font,Kt),_r=X(te,Gn.node());Math.round(_r.width)<Math.round(An.width)&&Zn.attr("x",jn-_r.width),Gn.remove()})}else i.positionText(Ht,On*(O+h),En),Cn=null;var er=re._topclips.selectAll("#"+Fn).data(Cn?[0]:[]);er.enter().append("clipPath").attr("id",Fn).append("path"),er.exit().remove(),er.select("path").attr("d",Cn),a.setClipUrl(Ht,Cn?Fn:null,te)}Mt.attr("transform",M(ln,Tn))}),g.isUnifiedHover(le)){ge.selectAll("g.hovertext").remove();var We=$.filter(function(Mt){return"none"!==Mt.hoverinfo});if(0===We.length)return;var Ke=re.hoverlabel,Je=Ke.font,ft={font:Je};T({showlegend:!0,legend:{title:{text:De,font:Je},font:Je,bgcolor:Ke.bgcolor,bordercolor:Ke.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:re.legend?re.legend.traceorder:void 0,orientation:"v"}},ft,te._fullData);var mt=ft.legend;mt.entries=[];for(var At=0;At<We.length;At++){var Rt=We[At];if("none"!==Rt.hoverinfo){var It=B(Rt,!0,le,re,De),Pt=It[0],Bt=It[1];Rt.name=Bt,Rt.text=""!==Bt?Bt+" : "+Pt:Pt;var Ut=Rt.cd[Rt.index];Ut&&(Ut.mc&&(Rt.mc=Ut.mc),Ut.mcc&&(Rt.mc=Ut.mcc),Ut.mlc&&(Rt.mlc=Ut.mlc),Ut.mlcc&&(Rt.mlc=Ut.mlcc),Ut.mlw&&(Rt.mlw=Ut.mlw),Ut.mrc&&(Rt.mrc=Ut.mrc),Ut.dir&&(Rt.dir=Ut.dir)),Rt._distinct=!0,mt.entries.push([Rt])}}mt.entries.sort(function(Mt,kt){return Mt[0].trace.index-kt[0].trace.index}),mt.layer=ge,mt._inHover=!0,mt._groupTitleFont=Ke.grouptitlefont,_(te,mt);var Vt,tn,Gt,et,nt=ge.select("g.legend"),$e=X(te,nt.node()),ot=$e.width+2*O,dt=$e.height+2*O,Le=We[0],Ge=(Le.x0+Le.x1)/2,st=(Le.y0+Le.y1)/2,vt=!(d.traceIs(Le.trace,"bar-like")||d.traceIs(Le.trace,"box-violin"));"y"===Ee?vt?(tn=st-O,Vt=st+O):(tn=Math.min.apply(null,We.map(function(Mt){return Math.min(Mt.y0,Mt.y1)})),Vt=Math.max.apply(null,We.map(function(Mt){return Math.max(Mt.y0,Mt.y1)}))):tn=Vt=S.mean(We.map(function(Mt){return(Mt.y0+Mt.y1)/2}))-dt/2,"x"===Ee?vt?(Gt=Ge+O,et=Ge-O):(Gt=Math.max.apply(null,We.map(function(Mt){return Math.max(Mt.x0,Mt.x1)})),et=Math.min.apply(null,We.map(function(Mt){return Math.min(Mt.x0,Mt.x1)}))):Gt=et=S.mean(We.map(function(Mt){return(Mt.x0+Mt.x1)/2}))-ot/2;var bt,Lt,jt=Ne._offset,Nt=be._offset;return et+=jt-ot,tn+=Nt-dt,bt=(Gt+=jt)+ot<Me&&Gt>=0?Gt:et+ot<Me&&et>=0?et:jt+ot<Me?jt:Gt-Ge<Ge-et+ot?Me-ot:0,Lt=(Vt+=Nt)+dt<Pe&&Vt>=0?Vt:tn+dt<Pe&&tn>=0?tn:Nt+dt<Pe?Nt:Vt-st<st-tn+dt?Pe-dt:0,nt.attr("transform",M((bt+=O)-1,(Lt+=O)-1)),nt}var Tt=ge.selectAll("g.hovertext").data($,function(Mt){return P(Mt)});return Tt.enter().append("g").classed("hovertext",!0).each(function(){var Mt=C.select(this);Mt.append("rect").call(o.fill,o.addOpacity(he,.8)),Mt.append("text").classed("name",!0),Mt.append("path").style("stroke-width","1px"),Mt.append("text").classed("nums",!0).call(a.font,Ae,pe)}),Tt.exit().remove(),Tt.each(function(Mt){var kt=C.select(this).attr("transform",""),Ht=Mt.color;Array.isArray(Ht)&&(Ht=Ht[Mt.eventData[0].pointNumber]);var qt=Mt.bgcolor||Ht,Qt=o.combine(o.opacity(qt)?qt:o.defaultLine,he),Jt=o.combine(o.opacity(Ht)?Ht:o.defaultLine,he),Kt=Mt.borderColor||o.contrast(Qt),ln=B(Mt,Ue,le,re,De,kt),Tn=ln[0],An=ln[1],pn=kt.select("text.nums").call(a.font,Mt.fontFamily||Ae,Mt.fontSize||pe,Mt.fontColor||Kt).text(Tn).attr("data-notex",1).call(i.positionText,0,0).call(i.convertToTspans,te),Nn=kt.select("text.name"),tr=0,On=0;if(An&&An!==Tn){Nn.call(a.font,Mt.fontFamily||Ae,Mt.fontSize||pe,Jt).text(An).attr("data-notex",1).call(i.positionText,0,0).call(i.convertToTspans,te);var wn=X(te,Nn.node());tr=wn.width+2*O,On=wn.height+2*O}else Nn.remove(),kt.select("rect").remove();kt.select("path").style({fill:Qt,stroke:Kt});var Cn=Mt.xa._offset+(Mt.x0+Mt.x1)/2,mn=Mt.ya._offset+(Mt.y0+Mt.y1)/2,En=Math.abs(Mt.x1-Mt.x0),Fn=Math.abs(Mt.y1-Mt.y0),jn=X(te,pn.node()),er=jn.width/re._invScaleX,Zn=jn.height/re._invScaleY;Mt.ty0=(_e-jn.top)/re._invScaleY,Mt.bx=er+2*O,Mt.by=Math.max(Zn+2*O,On),Mt.anchor="start",Mt.txwidth=er,Mt.tx2width=tr,Mt.offset=0;var Gn,_r,mr=(er+h+O+tr)*re._invScaleX;if(ue)Mt.pos=Cn,Gn=mn+Fn/2+mr<=Pe,_r=mn-Fn/2-mr>=0,"top"!==Mt.idealAlign&&Gn||!_r?Gn?(mn+=Fn/2,Mt.anchor="start"):Mt.anchor="middle":(mn-=Fn/2,Mt.anchor="end");else if(Mt.pos=mn,Gn=Cn+En/2+mr<=Me,_r=Cn-En/2-mr>=0,"left"!==Mt.idealAlign&&Gn||!_r)if(Gn)Cn+=En/2,Mt.anchor="start";else{Mt.anchor="middle";var Vr=mr/2,Dr=Cn+Vr-Me,Un=Cn-Vr;Dr>0&&(Cn-=Dr),Un<0&&(Cn+=-Un)}else Cn-=En/2,Mt.anchor="end";pn.attr("text-anchor",Mt.anchor),tr&&Nn.attr("text-anchor",Mt.anchor),kt.attr("transform",M(Cn,mn)+(ue?v(y):""))}),Tt}function B($,Q,te,re,le,ue){var he="",ge="";void 0!==$.nameOverride&&($.name=$.nameOverride),$.name&&($.trace._meta&&($.name=S.templateString($.name,$.trace._meta)),he=q($.name,$.nameLength));var xe=te.charAt(0);void 0!==$.zLabel?(void 0!==$.xLabel&&(ge+="x: "+$.xLabel+"<br>"),void 0!==$.yLabel&&(ge+="y: "+$.yLabel+"<br>"),"choropleth"!==$.trace.type&&"choroplethmapbox"!==$.trace.type&&(ge+=(ge?"z: ":"")+$.zLabel)):Q&&$[xe+"Label"]===le?ge=$[("x"===xe?"y":"x")+"Label"]||"":void 0===$.xLabel?void 0!==$.yLabel&&"scattercarpet"!==$.trace.type&&(ge=$.yLabel):ge=void 0===$.yLabel?$.xLabel:"("+$.xLabel+", "+$.yLabel+")",!$.text&&0!==$.text||Array.isArray($.text)||(ge+=(ge?"<br>":"")+$.text),void 0!==$.extraText&&(ge+=(ge?"<br>":"")+$.extraText),ue&&""===ge&&!$.hovertemplate&&(""===he&&ue.remove(),ge=he);var Ae=$.hovertemplate||!1;if(Ae){var pe=$.hovertemplateLabels||$;$[xe+"Label"]!==le&&(pe[xe+"other"]=pe[xe+"Val"],pe[xe+"otherLabel"]=pe[xe+"Label"]),ge=(ge=S.hovertemplateString(Ae,pe,re._d3locale,$.eventData[0]||{},$.trace._meta)).replace(L,function(ye,Ne){return he=q(Ne,$.nameLength),""})}return[ge,he]}function W($,Q,te,re){var le=function(he){return he*te},ue=function(he){return he*re};$.each(function(he){var ge=C.select(this);if(he.del)return ge.remove();var xe=ge.select("text.nums"),ke=he.anchor,Ae="end"===ke?-1:1,pe={start:1,end:-1,middle:0}[ke],ye=pe*(h+O),Ne=ye+pe*(he.txwidth+O),be=0,Ee=he.offset,Oe="middle"===ke;Oe&&(ye-=he.tx2width/2,Ne+=he.txwidth/2+O),Q&&(Ee*=-k,be=he.offset*b),ge.select("path").attr("d",Oe?"M-"+le(he.bx/2+he.tx2width/2)+","+ue(Ee-he.by/2)+"h"+le(he.bx)+"v"+ue(he.by)+"h-"+le(he.bx)+"Z":"M0,0L"+le(Ae*h+be)+","+ue(h+Ee)+"v"+ue(he.by/2-h)+"h"+le(Ae*he.bx)+"v-"+ue(he.by)+"H"+le(Ae*h+be)+"V"+ue(Ee-h)+"Z");var De=be+ye,oe=Ee+he.ty0-he.by/2+O,de=he.textAlign||"auto";"auto"!==de&&("left"===de&&"start"!==ke?(xe.attr("text-anchor","start"),De=Oe?-he.bx/2-he.tx2width/2+O:-he.bx-O):"right"===de&&"end"!==ke&&(xe.attr("text-anchor","end"),De=Oe?he.bx/2-he.tx2width/2-O:he.bx+O)),xe.call(i.positionText,le(De),ue(oe)),he.tx2width&&(ge.select("text.name").call(i.positionText,le(Ne+pe*O+be),ue(Ee+he.ty0-he.by/2+O)),ge.select("rect").call(a.setRect,le(Ne+(pe-1)*he.tx2width/2+be),ue(Ee-he.by/2-1),le(he.tx2width),ue(he.by+2)))})}function j($,Q){var te=$.index,re=$.trace||{},le=$.cd[0],ue=$.cd[te]||{};function he(ye){return ye||E(ye)&&0===ye}var ge=Array.isArray(te)?function(ye,Ne){var be=S.castOption(le,te,ye);return he(be)?be:S.extractOption({},re,"",Ne)}:function(ye,Ne){return S.extractOption(ue,re,ye,Ne)};function xe(ye,Ne,be){var Ee=ge(Ne,be);he(Ee)&&($[ye]=Ee)}if(xe("hoverinfo","hi","hoverinfo"),xe("bgcolor","hbg","hoverlabel.bgcolor"),xe("borderColor","hbc","hoverlabel.bordercolor"),xe("fontFamily","htf","hoverlabel.font.family"),xe("fontSize","hts","hoverlabel.font.size"),xe("fontColor","htc","hoverlabel.font.color"),xe("nameLength","hnl","hoverlabel.namelength"),xe("textAlign","hta","hoverlabel.align"),$.posref="y"===Q||"closest"===Q&&"h"===re.orientation?$.xa._offset+($.x0+$.x1)/2:$.ya._offset+($.y0+$.y1)/2,$.x0=S.constrain($.x0,0,$.xa._length),$.x1=S.constrain($.x1,0,$.xa._length),$.y0=S.constrain($.y0,0,$.ya._length),$.y1=S.constrain($.y1,0,$.ya._length),void 0!==$.xLabelVal&&($.xLabel="xLabel"in $?$.xLabel:s.hoverLabelText($.xa,$.xLabelVal,re.xhoverformat),$.xVal=$.xa.c2d($.xLabelVal)),void 0!==$.yLabelVal&&($.yLabel="yLabel"in $?$.yLabel:s.hoverLabelText($.ya,$.yLabelVal,re.yhoverformat),$.yVal=$.ya.c2d($.yLabelVal)),void 0!==$.zLabelVal&&void 0===$.zLabel&&($.zLabel=String($.zLabelVal)),!(isNaN($.xerr)||"log"===$.xa.type&&$.xerr<=0)){var ke=s.tickText($.xa,$.xa.c2l($.xerr),"hover").text;$.xLabel+=void 0!==$.xerrneg?" +"+ke+" / -"+s.tickText($.xa,$.xa.c2l($.xerrneg),"hover").text:" \xb1 "+ke,"x"===Q&&($.distance+=1)}if(!(isNaN($.yerr)||"log"===$.ya.type&&$.yerr<=0)){var Ae=s.tickText($.ya,$.ya.c2l($.yerr),"hover").text;$.yLabel+=void 0!==$.yerrneg?" +"+Ae+" / -"+s.tickText($.ya,$.ya.c2l($.yerrneg),"hover").text:" \xb1 "+Ae,"y"===Q&&($.distance+=1)}var pe=$.hoverinfo||$.trace.hoverinfo;return pe&&"all"!==pe&&(-1===(pe=Array.isArray(pe)?pe:pe.split("+")).indexOf("x")&&($.xLabel=void 0),-1===pe.indexOf("y")&&($.yLabel=void 0),-1===pe.indexOf("z")&&($.zLabel=void 0),-1===pe.indexOf("text")&&($.text=void 0),-1===pe.indexOf("name")&&($.name=void 0)),$}function Z($,Q,te){var re,le,ue=te.container,he=te.fullLayout,ge=he._size,xe=te.event,ke=!!Q.hLinePoint,Ae=!!Q.vLinePoint;if(ue.selectAll(".spikeline").remove(),Ae||ke){var pe=o.combine(he.plot_bgcolor,he.paper_bgcolor);if(ke){var ye,Ne,be=Q.hLinePoint;re=be&&be.xa,"cursor"===(le=be&&be.ya).spikesnap?(ye=xe.pointerX,Ne=xe.pointerY):(ye=re._offset+be.x,Ne=le._offset+be.y);var Ee,Oe,De=f.readability(be.color,pe)<1.5?o.contrast(pe):be.color,oe=le.spikemode,de=le.spikethickness,_e=le.spikecolor||De,Me=s.getPxPosition($,le);if(-1!==oe.indexOf("toaxis")||-1!==oe.indexOf("across")){if(-1!==oe.indexOf("toaxis")&&(Ee=Me,Oe=ye),-1!==oe.indexOf("across")){var Pe=le._counterDomainMin,Ue=le._counterDomainMax;"free"===le.anchor&&(Pe=Math.min(Pe,le.position),Ue=Math.max(Ue,le.position)),Ee=ge.l+Pe*ge.w,Oe=ge.l+Ue*ge.w}ue.insert("line",":first-child").attr({x1:Ee,x2:Oe,y1:Ne,y2:Ne,"stroke-width":de,stroke:_e,"stroke-dasharray":a.dashStyle(le.spikedash,de)}).classed("spikeline",!0).classed("crisp",!0),ue.insert("line",":first-child").attr({x1:Ee,x2:Oe,y1:Ne,y2:Ne,"stroke-width":de+2,stroke:pe}).classed("spikeline",!0).classed("crisp",!0)}-1!==oe.indexOf("marker")&&ue.insert("circle",":first-child").attr({cx:Me+("right"!==le.side?de:-de),cy:Ne,r:de,fill:_e}).classed("spikeline",!0)}if(Ae){var Be,Ve,ve=Q.vLinePoint;le=ve&&ve.ya,"cursor"===(re=ve&&ve.xa).spikesnap?(Be=xe.pointerX,Ve=xe.pointerY):(Be=re._offset+ve.x,Ve=le._offset+ve.y);var Te,Ce,We=f.readability(ve.color,pe)<1.5?o.contrast(pe):ve.color,Ke=re.spikemode,Je=re.spikethickness,ht=re.spikecolor||We,ft=s.getPxPosition($,re);if(-1!==Ke.indexOf("toaxis")||-1!==Ke.indexOf("across")){if(-1!==Ke.indexOf("toaxis")&&(Te=ft,Ce=Ve),-1!==Ke.indexOf("across")){var mt=re._counterDomainMin,At=re._counterDomainMax;"free"===re.anchor&&(mt=Math.min(mt,re.position),At=Math.max(At,re.position)),Te=ge.t+(1-At)*ge.h,Ce=ge.t+(1-mt)*ge.h}ue.insert("line",":first-child").attr({x1:Be,x2:Be,y1:Te,y2:Ce,"stroke-width":Je,stroke:ht,"stroke-dasharray":a.dashStyle(re.spikedash,Je)}).classed("spikeline",!0).classed("crisp",!0),ue.insert("line",":first-child").attr({x1:Be,x2:Be,y1:Te,y2:Ce,"stroke-width":Je+2,stroke:pe}).classed("spikeline",!0).classed("crisp",!0)}-1!==Ke.indexOf("marker")&&ue.insert("circle",":first-child").attr({cx:Be,cy:ft-("top"!==re.side?Je:-Je),r:Je,fill:ht}).classed("spikeline",!0)}}}function V($,Q){return!Q||Q.vLinePoint!==$._spikepoints.vLinePoint||Q.hLinePoint!==$._spikepoints.hLinePoint}function q($,Q){return i.plainText($||"",{len:Q,allowedTags:["br","sub","sup","b","i","em"]})}function G($,Q,te){var re=Q[$+"a"],le=Q[$+"Val"],ue=Q.cd[0];if("category"===re.type||"multicategory"===re.type)le=re._categoriesMap[le];else if("date"===re.type){var he=Q.trace[$+"periodalignment"];if(he){var ge=Q.cd[Q.index],xe=ge[$+"Start"];void 0===xe&&(xe=ge[$]);var ke=ge[$+"End"];void 0===ke&&(ke=ge[$]);var Ae=ke-xe;"end"===he?le+=Ae:"middle"===he&&(le+=Ae/2)}le=re.d2c(le)}return ue&&ue.t&&ue.t.posLetter===re._id&&("group"!==te.boxmode&&"group"!==te.violinmode||(le+=ue.t.dPos)),le}function H($){return $.offsetTop+$.clientTop}function ne($){return $.offsetLeft+$.clientLeft}function X($,Q){var te=$._fullLayout,re=Q.getBoundingClientRect(),le=re.left,ue=re.top,he=le+re.width,ge=ue+re.height,xe=S.apply3DTransform(te._invTransform)(le,ue),ke=S.apply3DTransform(te._invTransform)(he,ge),Ae=xe[0],pe=xe[1],ye=ke[0],Ne=ke[1];return{x:Ae,y:pe,width:ye-Ae,height:Ne-pe,top:Math.min(pe,Ne),left:Math.min(Ae,ye),right:Math.max(Ae,ye),bottom:Math.max(pe,Ne)}}},38048:function(ie,z,r){"use strict";var C=r(71828),E=r(7901),f=r(23469).isUnifiedHover;ie.exports=function(S,M,v,c){c=c||{};var i=M.legend;function u(a){c.font[a]||(c.font[a]=i?M.legend.font[a]:M.font[a])}M&&f(M.hovermode)&&(c.font||(c.font={}),u("size"),u("family"),u("color"),i?(c.bgcolor||(c.bgcolor=E.combine(M.legend.bgcolor,M.paper_bgcolor)),c.bordercolor||(c.bordercolor=M.legend.bordercolor)):c.bgcolor||(c.bgcolor=M.paper_bgcolor)),v("hoverlabel.bgcolor",c.bgcolor),v("hoverlabel.bordercolor",c.bordercolor),v("hoverlabel.namelength",c.namelength),C.coerceFont(v,"hoverlabel.font",c.font),v("hoverlabel.align",c.align)}},98212:function(ie,z,r){"use strict";var C=r(71828),E=r(528);ie.exports=function(f,S){function M(v,c){return void 0!==S[v]?S[v]:C.coerce(f,S,E,v,c)}return M("clickmode"),M("hovermode")}},30211:function(ie,z,r){"use strict";var C=r(39898),E=r(71828),f=r(28569),S=r(23469),M=r(528),v=r(88335);ie.exports={moduleType:"component",name:"fx",constants:r(26675),schema:{layout:M},attributes:r(77914),layoutAttributes:M,supplyLayoutGlobalDefaults:r(22774),supplyDefaults:r(54268),supplyLayoutDefaults:r(34938),calc:r(30732),getDistanceFunction:S.getDistanceFunction,getClosest:S.getClosest,inbox:S.inbox,quadrature:S.quadrature,appendArrayPointValue:S.appendArrayPointValue,castHoverOption:function(c,i,u){return E.castOption(c,i,"hoverlabel."+u)},castHoverinfo:function(c,i,u){return E.castOption(c,u,"hoverinfo",function(a){return E.coerceHoverinfo({hoverinfo:a},{_module:c._module},i)})},hover:v.hover,unhover:f.unhover,loneHover:v.loneHover,loneUnhover:function(c){var i=E.isD3Selection(c)?c:C.select(c);i.selectAll("g.hovertext").remove(),i.selectAll(".spikeline").remove()},click:r(75914)}},528:function(ie,z,r){"use strict";var C=r(26675),E=r(41940),f=E({editType:"none"});f.family.dflt=C.HOVERFONT,f.size.dflt=C.HOVERFONTSIZE,ie.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:f,grouptitlefont:E({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},34938:function(ie,z,r){"use strict";var C=r(71828),E=r(528),f=r(98212),S=r(38048);ie.exports=function(M,v){function c(o,l){return C.coerce(M,v,E,o,l)}f(M,v)&&(c("hoverdistance"),c("spikedistance")),"select"===c("dragmode")&&c("selectdirection");var i=v._has("mapbox"),u=v._has("geo"),a=v._basePlotModules.length;"zoom"===v.dragmode&&((i||u)&&1===a||i&&u&&2===a)&&(v.dragmode="pan"),S(M,v,c),C.coerceFont(c,"hoverlabel.grouptitlefont",v.hoverlabel.font)}},22774:function(ie,z,r){"use strict";var C=r(71828),E=r(38048),f=r(528);ie.exports=function(S,M){E(S,M,function(v,c){return C.coerce(S,M,f,v,c)})}},83312:function(ie,z,r){"use strict";var C=r(71828),E=r(30587).counter,f=r(27670).Y,S=r(85555).idRegex,M=r(44467),v={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[E("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[S.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[S.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:f({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function c(a,o,l){var s=o[l+"axes"],d=Object.keys((a._splomAxes||{})[l]||{});return Array.isArray(s)?s:d.length?d:void 0}function i(a,o,l,s,d,g){var p=o(a+"gap",l),T=o("domain."+a);o(a+"side",s);for(var _=new Array(d),y=T[0],w=(T[1]-y)/(d-p),m=w*(1-p),b=0;b<d;b++){var k=y+w*b;_[g?d-1-b:b]=[k,k+m]}return _}function u(a,o,l,s,d){var g,p=new Array(l);function T(_,y){-1!==o.indexOf(y)&&void 0===s[y]?(p[_]=y,s[y]=_):p[_]=""}if(Array.isArray(a))for(g=0;g<l;g++)T(g,a[g]);else for(T(0,d),g=1;g<l;g++)T(g,d+(g+1));return p}ie.exports={moduleType:"component",name:"grid",schema:{layout:{grid:v}},layoutAttributes:v,sizeDefaults:function(a,o){var l=a.grid||{},s=c(o,l,"x"),d=c(o,l,"y");if(a.grid||s||d){var g,p,T=Array.isArray(l.subplots)&&Array.isArray(l.subplots[0]),_=Array.isArray(s),y=Array.isArray(d),w=_&&s!==l.xaxes&&y&&d!==l.yaxes;T?(g=l.subplots.length,p=l.subplots[0].length):(y&&(g=d.length),_&&(p=s.length));var m=M.newContainer(o,"grid"),b=L("rows",g),k=L("columns",p);if(b*k>1){T||_||y||"independent"===L("pattern")&&(T=!0),m._hasSubplotGrid=T;var h,O,A="top to bottom"===L("roworder"),P=T?.3:.1;w&&o._splomGridDflt&&(h=o._splomGridDflt.xside,O=o._splomGridDflt.yside),m._domains={x:i("x",L,T?.2:.1,h,k),y:i("y",L,P,O,b,A)}}else delete o.grid}function L(N,B){return C.coerce(l,m,v,N,B)}},contentDefaults:function(a,o){var l=o.grid;if(l&&l._domains){var s,d,g,p,T,_,y,w=a.grid||{},m=o._subplots,b=l._hasSubplotGrid,k=l.rows,h=l.columns,O="independent"===l.pattern,A=l._axisMap={};if(b){var I=w.subplots||[];_=l.subplots=new Array(k);var P=1;for(s=0;s<k;s++){var L=_[s]=new Array(h),N=I[s]||[];for(d=0;d<h;d++)if(O?(T=1===P?"xy":"x"+P+"y"+P,P++):T=N[d],L[d]="",-1!==m.cartesian.indexOf(T)){if(y=T.indexOf("y"),g=T.slice(0,y),p=T.slice(y),void 0!==A[g]&&A[g]!==d||void 0!==A[p]&&A[p]!==s)continue;L[d]=T,A[g]=d,A[p]=s}}}else{var B=c(o,w,"x"),W=c(o,w,"y");l.xaxes=u(B,m.xaxis,h,A,"x"),l.yaxes=u(W,m.yaxis,k,A,"y")}var j=l._anchors={},Z="top to bottom"===l.roworder;for(var V in A){var q,G,H,ne=V.charAt(0),X=l[ne+"side"];if(X.length<8)j[V]="free";else if("x"===ne){if("t"===X.charAt(0)===Z?(q=0,G=1,H=k):(q=k-1,G=-1,H=-1),b){var $=A[V];for(s=q;s!==H;s+=G)if((T=_[s][$])&&(y=T.indexOf("y"),T.slice(0,y)===V)){j[V]=T.slice(y);break}}else for(s=q;s!==H;s+=G)if(-1!==m.cartesian.indexOf(V+(p=l.yaxes[s]))){j[V]=p;break}}else if("l"===X.charAt(0)?(q=0,G=1,H=h):(q=h-1,G=-1,H=-1),b){var Q=A[V];for(s=q;s!==H;s+=G)if((T=_[Q][s])&&(y=T.indexOf("y"),T.slice(y)===V)){j[V]=T.slice(0,y);break}}else for(s=q;s!==H;s+=G)if(-1!==m.cartesian.indexOf((g=l.xaxes[s])+V)){j[V]=g;break}}}}}},69819:function(ie,z,r){"use strict";var C=r(85555),E=r(44467).templatedArray;r(24695),ie.exports=E("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",C.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",C.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},75378:function(ie,z,r){"use strict";var C=r(92770),E=r(58163);ie.exports=function(f,S,M,v){S=S||{};var c="log"===M&&"linear"===S.type;if(c||"linear"===M&&"log"===S.type)for(var u,a,o=f._fullLayout.images,l=S._id.charAt(0),s=0;s<o.length;s++)if(a="images["+s+"].",(u=o[s])[l+"ref"]===S._id){var d=u[l],g=u["size"+l],p=null,T=null;if(c){p=E(d,S.range);var _=g/Math.pow(10,p)/2;T=2*Math.log(_+Math.sqrt(1+_*_))/Math.LN10}else T=(p=Math.pow(10,d))*(Math.pow(10,g/2)-Math.pow(10,-g/2));C(p)?C(T)||(T=null):(p=null,T=null),v(a+l,p),v(a+"size"+l,T)}}},81603:function(ie,z,r){"use strict";var C=r(71828),E=r(89298),f=r(85501),S=r(69819);function M(v,c,i){function u(p,T){return C.coerce(v,c,S,p,T)}var a=u("source");if(!u("visible",!!a))return c;u("layer"),u("xanchor"),u("yanchor"),u("sizex"),u("sizey"),u("sizing"),u("opacity");for(var o={_fullLayout:i},l=["x","y"],s=0;s<2;s++){var d=l[s],g=E.coerceRef(v,c,o,d,"paper",void 0);"paper"!==g&&E.getFromId(o,g)._imgIndices.push(c._index),E.coercePosition(c,o,u,g,d,0)}return c}ie.exports=function(v,c){f(v,c,{name:"images",handleItemDefaults:M})}},80750:function(ie,z,r){"use strict";var C=r(39898),E=r(91424),f=r(89298),S=r(41675),M=r(77922);ie.exports=function(v){var c,i,u=v._fullLayout,a=[],o={},l=[];for(i=0;i<u.images.length;i++){var s=u.images[i];if(s.visible)if("below"===s.layer&&"paper"!==s.xref&&"paper"!==s.yref){c=S.ref2id(s.xref)+S.ref2id(s.yref);var d=u._plots[c];if(!d){l.push(s);continue}d.mainplot&&(c=d.mainplot.id),o[c]||(o[c]=[]),o[c].push(s)}else"above"===s.layer?a.push(s):l.push(s)}var g={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},p={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function T(h){var O=C.select(this);if(this._imgSrc!==h.source)if(O.attr("xmlns",M.svg),h.source&&"data:"===h.source.slice(0,5))O.attr("xlink:href",h.source),this._imgSrc=h.source;else{var A=new Promise(function(I){var P=new Image;function L(){O.remove(),I()}this.img=P,P.setAttribute("crossOrigin","anonymous"),P.onerror=L,P.onload=function(){var N=document.createElement("canvas");N.width=this.width,N.height=this.height,N.getContext("2d",{willReadFrequently:!0}).drawImage(this,0,0);var B=N.toDataURL("image/png");O.attr("xlink:href",B),I()},O.on("error",L),P.src=h.source,this._imgSrc=h.source}.bind(this));v._promises.push(A)}}function _(h){var O,A,I=C.select(this),P=f.getFromId(v,h.xref),L=f.getFromId(v,h.yref),N="domain"===f.getRefType(h.xref),B="domain"===f.getRefType(h.yref),W=u._size;O=void 0!==P?"string"==typeof h.xref&&N?P._length*h.sizex:Math.abs(P.l2p(h.sizex)-P.l2p(0)):h.sizex*W.w,A=void 0!==L?"string"==typeof h.yref&&B?L._length*h.sizey:Math.abs(L.l2p(h.sizey)-L.l2p(0)):h.sizey*W.h;var j,Z,V=O*g[h.xanchor].offset,q=A*p[h.yanchor].offset,G=g[h.xanchor].sizing+p[h.yanchor].sizing;switch(j=void 0!==P?"string"==typeof h.xref&&N?P._length*h.x+P._offset:P.r2p(h.x)+P._offset:h.x*W.w+W.l,j+=V,Z=void 0!==L?"string"==typeof h.yref&&B?L._length*(1-h.y)+L._offset:L.r2p(h.y)+L._offset:W.h-h.y*W.h+W.t,Z+=q,h.sizing){case"fill":G+=" slice";break;case"stretch":G="none"}I.attr({x:j,y:Z,width:O,height:A,preserveAspectRatio:G,opacity:h.opacity});var H=(P&&"domain"!==f.getRefType(h.xref)?P._id:"")+(L&&"domain"!==f.getRefType(h.yref)?L._id:"");E.setClipUrl(I,H?"clip"+u._uid+H:null,v)}var y=u._imageLowerLayer.selectAll("image").data(l),w=u._imageUpperLayer.selectAll("image").data(a);y.enter().append("image"),w.enter().append("image"),y.exit().remove(),w.exit().remove(),y.each(function(h){T.bind(this)(h),_.bind(this)(h)}),w.each(function(h){T.bind(this)(h),_.bind(this)(h)});var m=Object.keys(u._plots);for(i=0;i<m.length;i++){var b=u._plots[c=m[i]];if(b.imagelayer){var k=b.imagelayer.selectAll("image").data(o[c]||[]);k.enter().append("image"),k.exit().remove(),k.each(function(h){T.bind(this)(h),_.bind(this)(h)})}}}},68804:function(ie,z,r){"use strict";ie.exports={moduleType:"component",name:"images",layoutAttributes:r(69819),supplyLayoutDefaults:r(81603),includeBasePlot:r(76325)("images"),draw:r(80750),convertCoords:r(75378)}},33030:function(ie,z,r){"use strict";var C=r(41940),E=r(22399);ie.exports={bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:E.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:C({editType:"legend"}),grouptitlefont:C({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",min:-2,max:3,editType:"legend"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",min:-2,max:3,editType:"legend"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:C({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left"],editType:"legend"},editType:"legend"},editType:"legend"}},14928:function(ie){"use strict";ie.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},99017:function(ie,z,r){"use strict";var C=r(73972),E=r(71828),f=r(44467),S=r(9012),M=r(33030),v=r(10820),c=r(10130);ie.exports=function(i,u,a){var o,l=i.legend||{},s=f.newContainer(u,"legend");function d(L,N){return E.coerce(l,s,M,L,N)}for(var g=function(L,N){return E.coerce(o._input,o,S,L,N)},p=u.font||{},T=E.coerceFont(d,"grouptitlefont",E.extendFlat({},p,{size:Math.round(1.1*p.size)})),_=0,y=!1,w="normal",m=0;m<a.length;m++)(o=a[m]).visible&&((o.showlegend||o._dfltShowLegend&&!(o._module&&o._module.attributes&&o._module.attributes.showlegend&&!1===o._module.attributes.showlegend.dflt))&&(_++,o.showlegend&&(y=!0,(C.traceIs(o,"pie-like")||!0===o._input.showlegend)&&_++),E.coerceFont(g,"legendgrouptitle.font",T)),(C.traceIs(o,"bar")&&"stack"===u.barmode||-1!==["tonextx","tonexty"].indexOf(o.fill))&&(w=c.isGrouped({traceorder:w})?"grouped+reversed":"reversed"),void 0!==o.legendgroup&&""!==o.legendgroup&&(w=c.isReversed({traceorder:w})?"reversed+grouped":"grouped"));var b=E.coerce(i,u,v,"showlegend",y&&_>1);if(!1===b&&(u.legend=void 0),(!1!==b||l.uirevision)&&(d("uirevision",u.uirevision),!1!==b)){d("bgcolor",u.paper_bgcolor),d("bordercolor"),d("borderwidth");var k,h,O,A=E.coerceFont(d,"font",u.font),I="h"===d("orientation");if(I?(k=0,C.getComponentMethod("rangeslider","isVisible")(i.xaxis)?(h=1.1,O="bottom"):(h=-.1,O="top")):(k=1.02,h=1,O="auto"),d("traceorder",w),c.isGrouped(u.legend)&&d("tracegroupgap"),d("entrywidth"),d("entrywidthmode"),d("itemsizing"),d("itemwidth"),d("itemclick"),d("itemdoubleclick"),d("groupclick"),d("x",k),d("xanchor"),d("y",h),d("yanchor",O),d("valign"),E.noneOrAll(l,s,["x","y"]),d("title.text")){d("title.side",I?"left":"top");var P=E.extendFlat({},A,{size:E.bigFont(A.size)});E.coerceFont(d,"title.font",P)}}}},43969:function(ie,z,r){"use strict";var C=r(39898),E=r(71828),f=r(74875),S=r(73972),M=r(11086),v=r(28569),c=r(91424),i=r(7901),u=r(63893),a=r(85167),o=r(14928),l=r(18783),s=l.LINE_SPACING,d=l.FROM_TL,g=l.FROM_BR,p=r(82424),T=r(53630),_=r(10130);function y(I,P,L){var N=I[0],j=N.trace.legendwidth||P.entrywidth;return"fraction"===P.entrywidthmode?P._maxWidth*j:L+(j||N.width)}function w(I,P,L,N,B){var W=L.data()[0][0].trace,j={event:B,node:L.node(),curveNumber:W.index,expandedIndex:W._expandedIndex,data:I.data,layout:I.layout,frames:I._transitionData._frames,config:I._context,fullData:I._fullData,fullLayout:I._fullLayout};W._group&&(j.group=W._group),S.traceIs(W,"pie-like")&&(j.label=L.datum()[0].label),!1!==M.triggerHandler(I,"plotly_legendclick",j)&&(1===N?P._clickTimeout=setTimeout(function(){I._fullLayout&&a(L,I,N)},I._context.doubleClickDelay):2===N&&(P._clickTimeout&&clearTimeout(P._clickTimeout),I._legendMouseDownTime=0,!1!==M.triggerHandler(I,"plotly_legenddoubleclick",j)&&a(L,I,N)))}function m(I,P,L){var N,B,W=I.data()[0][0],j=W.trace,Z=S.traceIs(j,"pie-like"),V=!L._inHover&&P._context.edits.legendText&&!Z,q=L._maxNameLength;W.groupTitle?(N=W.groupTitle.text,B=W.groupTitle.font):(B=L.font,L.entries?N=W.text:(N=Z?W.label:j.name,j._meta&&(N=E.templateString(N,j._meta))));var G=E.ensureSingle(I,"text","legendtext");G.attr("text-anchor","start").call(c.font,B).text(V?b(N,q):N),u.positionText(G,L.itemwidth+2*o.itemGap,0),V?G.call(u.makeEditable,{gd:P,text:N}).call(h,I,P,L).on("edit",function(ne){this.text(b(ne,q)).call(h,I,P,L);var X=W.trace._fullInput||{},$={};if(S.hasTransform(X,"groupby")){var Q=S.getTransformIndices(X,"groupby"),re=E.keyedContainer(X,"transforms["+Q[Q.length-1]+"].styles","target","value.name");re.set(W.trace._group,ne),$=re.constructUpdate()}else $.name=ne;return S.call("_guiRestyle",P,$,j.index)}):h(G,I,P,L)}function b(I,P){var L=Math.max(4,P);if(I&&I.trim().length>=L/2)return I;for(var N=L-(I=I||"").length;N>0;N--)I+=" ";return I}function k(I,P){var L,N=P._context.doubleClickDelay,B=1,W=E.ensureSingle(I,"rect","legendtoggle",function(j){P._context.staticPlot||j.style("cursor","pointer").attr("pointer-events","all"),j.call(i.fill,"rgba(0,0,0,0)")});P._context.staticPlot||(W.on("mousedown",function(){(L=(new Date).getTime())-P._legendMouseDownTime<N?B+=1:(B=1,P._legendMouseDownTime=L)}),W.on("mouseup",function(){if(!P._dragged&&!P._editing){var j=P._fullLayout.legend;(new Date).getTime()-P._legendMouseDownTime>N&&(B=Math.max(B-1,1)),w(P,j,I,B,C.event)}}))}function h(I,P,L,N,B){N._inHover&&I.attr("data-notex",!0),u.convertToTspans(I,L,function(){!function(W,j,Z,V){var q=W.data()[0][0];if(Z._inHover||!q||q.trace.showlegend){var G=W.select("g[class*=math-group]"),H=G.node();Z||(Z=j._fullLayout.legend);var ne,X,$=Z.borderwidth,Q=(1===V?Z.title.font:q.groupTitle?q.groupTitle.font:Z.font).size*s;if(H){var te=c.bBox(H);ne=te.height,X=te.width,1===V?c.setTranslate(G,$,$+.75*ne):c.setTranslate(G,0,.25*ne)}else{var re=W.select(1===V?".legendtitletext":".legendtext"),le=u.lineCount(re),ue=re.node();if(ne=Q*le,X=ue?c.bBox(ue).width:0,1===V)"left"===Z.title.side&&(X+=2*o.itemGap),u.positionText(re,$+o.titlePad,$+Q);else{var he=2*o.itemGap+Z.itemwidth;q.groupTitle&&(he=o.itemGap,X-=Z.itemwidth),u.positionText(re,he,-Q*((le-1)/2-.3))}}1===V?(Z._titleWidth=X,Z._titleHeight=ne):(q.lineHeight=Q,q.height=Math.max(ne,16)+3,q.width=X)}else W.remove()}(P,L,N,B)})}function O(I){return E.isRightAnchor(I)?"right":E.isCenterAnchor(I)?"center":"left"}function A(I){return E.isBottomAnchor(I)?"bottom":E.isMiddleAnchor(I)?"middle":"top"}ie.exports=function(I,P){return P||(P=I._fullLayout.legend||{}),function(L,N){var B,W,j=L._fullLayout,Z="legend"+j._uid,V=N._inHover;if(V?(B=N.layer,Z+="-hover"):B=j._infolayer,B){if(L._legendMouseDownTime||(L._legendMouseDownTime=0),V){if(!N.entries)return;W=p(N.entries,N)}else{if(!L.calcdata)return;W=j.showlegend&&p(L.calcdata,N)}var q=j.hiddenlabels||[];if(!(V||j.showlegend&&W.length))return B.selectAll(".legend").remove(),j._topdefs.select("#"+Z).remove(),f.autoMargin(L,"legend");var G=E.ensureSingle(B,"g","legend",function(ue){V||ue.attr("pointer-events","all")}),H=E.ensureSingleById(j._topdefs,"clipPath",Z,function(ue){ue.append("rect")}),ne=E.ensureSingle(G,"rect","bg",function(ue){ue.attr("shape-rendering","crispEdges")});ne.call(i.stroke,N.bordercolor).call(i.fill,N.bgcolor).style("stroke-width",N.borderwidth+"px");var X=E.ensureSingle(G,"g","scrollbox"),$=N.title;if(N._titleWidth=0,N._titleHeight=0,$.text){var Q=E.ensureSingle(X,"text","legendtitletext");Q.attr("text-anchor","start").call(c.font,$.font).text($.text),h(Q,X,L,N,1)}else X.selectAll(".legendtitletext").remove();var te=E.ensureSingle(G,"rect","scrollbar",function(ue){ue.attr(o.scrollBarEnterAttrs).call(i.fill,o.scrollBarColor)}),re=X.selectAll("g.groups").data(W);re.enter().append("g").attr("class","groups"),re.exit().remove();var le=re.selectAll("g.traces").data(E.identity);le.enter().append("g").attr("class","traces"),le.exit().remove(),le.style("opacity",function(ue){var he=ue[0].trace;return S.traceIs(he,"pie-like")?-1!==q.indexOf(ue[0].label)?.5:1:"legendonly"===he.visible?.5:1}).each(function(){C.select(this).call(m,L,N)}).call(T,L,N).each(function(){V||C.select(this).call(k,L)}),E.syncOrAsync([f.previousPromises,function(){return function(ue,he,ge,xe){var ke=ue._fullLayout;xe||(xe=ke.legend);var Ae=ke._size,pe=_.isVertical(xe),ye=_.isGrouped(xe),Ne="fraction"===xe.entrywidthmode,be=xe.borderwidth,Ee=2*be,Oe=o.itemGap,De=xe.itemwidth+2*Oe,oe=2*(be+Oe),de=A(xe),_e=xe.y<0||0===xe.y&&"top"===de,Me=xe.y>1||1===xe.y&&"bottom"===de,Pe=xe.tracegroupgap,Ue={};xe._maxHeight=Math.max(_e||Me?ke.height/2:Ae.h,30);var Be=0;xe._width=0,xe._height=0;var nt,$e,ot,dt,Ve=($e=0,ot=0,(dt=(nt=xe).title.side)&&(-1!==dt.indexOf("left")&&($e=nt._titleWidth),-1!==dt.indexOf("top")&&(ot=nt._titleHeight)),[$e,ot]);if(pe)ge.each(function(nt){var $e=nt[0].height;c.setTranslate(this,be+Ve[0],be+Ve[1]+xe._height+$e/2+Oe),xe._height+=$e,xe._width=Math.max(xe._width,nt[0].width)}),Be=De+xe._width,xe._width+=Oe+De+Ee,xe._height+=oe,ye&&(he.each(function(nt,$e){c.setTranslate(this,0,$e*xe.tracegroupgap)}),xe._height+=(xe._lgroupsLength-1)*xe.tracegroupgap);else{var ve=O(xe),We=Me||_e,Ke=ke.width/2;xe._maxWidth=Math.max(xe.x<0||0===xe.x&&"right"===ve?We&&"left"===ve?Ae.l+Ae.w:Ke:xe.x>1||1===xe.x&&"left"===ve?We&&"right"===ve?Ae.r+Ae.w:Ke:Ae.w,2*De);var Je=0,ht=0;ge.each(function(nt){var $e=y(nt,xe,De);Je=Math.max(Je,$e),ht+=$e}),Be=null;var ft=0;if(ye){var mt=0,At=0,Rt=0;he.each(function(){var nt=0,$e=0;C.select(this).selectAll("g.traces").each(function(dt){var Le=y(dt,xe,De),Ge=dt[0].height;c.setTranslate(this,Ve[0],Ve[1]+be+Oe+Ge/2+$e),$e+=Ge,nt=Math.max(nt,Le),Ue[dt[0].trace.legendgroup]=nt});var ot=nt+Oe;At>0&&ot+be+At>xe._maxWidth?(ft=Math.max(ft,At),At=0,Rt+=mt+Pe,mt=$e):mt=Math.max(mt,$e),c.setTranslate(this,At,Rt),At+=ot}),xe._width=Math.max(ft,At)+be,xe._height=Rt+mt+oe}else{var It=ge.size(),Pt=ht+Ee+(It-1)*Oe<xe._maxWidth,Bt=0,Ut=0,Vt=0,tn=0;ge.each(function(nt){var $e=nt[0].height,ot=y(nt,xe,De),dt=Pt?ot:Je;Ne||(dt+=Oe),dt+be+Ut-Oe>=xe._maxWidth&&(ft=Math.max(ft,tn),Ut=0,Vt+=Bt,xe._height+=Bt,Bt=0),c.setTranslate(this,Ve[0]+be+Ut,Ve[1]+be+Vt+$e/2+Oe),tn=Ut+ot+Oe,Ut+=dt,Bt=Math.max(Bt,$e)}),Pt?(xe._width=Ut+Ee,xe._height=Bt+oe):(xe._width=Math.max(ft,tn)+Ee,xe._height+=Bt+oe)}}xe._width=Math.ceil(Math.max(xe._width+Ve[0],xe._titleWidth+2*(be+o.titlePad))),xe._height=Math.ceil(Math.max(xe._height+Ve[1],xe._titleHeight+2*(be+o.itemGap))),xe._effHeight=Math.min(xe._height,xe._maxHeight);var Gt=ue._context.edits,et=Gt.legendText||Gt.legendPosition;ge.each(function(nt){var $e=C.select(this).select(".legendtoggle"),ot=nt[0].height,dt=nt[0].trace.legendgroup,Le=y(nt,xe,De);ye&&""!==dt&&(Le=Ue[dt]);var Ge=et?De:Be||Le;pe||Ne||(Ge+=Oe/2),c.setRect($e,0,-ot/2,Ge,ot)})}(L,re,le,N)},function(){var ue,he,ge,xe,Ce,We,Ke,Je,ke=j._size,Ae=N.borderwidth;if(!V){if(Ke=O(We=(Ce=L)._fullLayout.legend),Je=A(We),f.autoMargin(Ce,"legend",{x:We.x,y:We.y,l:We._width*d[Ke],r:We._width*g[Ke],b:We._effHeight*g[Je],t:We._effHeight*d[Je]}))return;var ye=ke.l+ke.w*N.x-d[O(N)]*N._width,Ne=ke.t+ke.h*(1-N.y)-d[A(N)]*N._effHeight;if(j.margin.autoexpand){var be=ye,Ee=Ne;ye=E.constrain(ye,0,j.width-N._width),Ne=E.constrain(Ne,0,j.height-N._effHeight),ye!==be&&E.log("Constrain legend.x to make legend fit inside graph"),Ne!==Ee&&E.log("Constrain legend.y to make legend fit inside graph")}c.setTranslate(G,ye,Ne)}if(te.on(".drag",null),G.on("wheel",null),V||N._height<=N._maxHeight||L._context.staticPlot){var Oe=N._effHeight;V&&(Oe=N._height),ne.attr({width:N._width-Ae,height:Oe-Ae,x:Ae/2,y:Ae/2}),c.setTranslate(X,0,0),H.select("rect").attr({width:N._width-2*Ae,height:Oe-2*Ae,x:Ae,y:Ae}),c.setClipUrl(X,Z,L),c.setRect(te,0,0,0,0),delete N._scrollY}else{var De,de,_e=Math.max(o.scrollBarMinHeight,N._effHeight*N._effHeight/N._height),Me=N._effHeight-_e-2*o.scrollBarMargin,Pe=N._height-N._effHeight,Ue=Me/Pe,Be=Math.min(N._scrollY||0,Pe);ne.attr({width:N._width-2*Ae+o.scrollBarWidth+o.scrollBarMargin,height:N._effHeight-Ae,x:Ae/2,y:Ae/2}),H.select("rect").attr({width:N._width-2*Ae+o.scrollBarWidth+o.scrollBarMargin,height:N._effHeight-2*Ae,x:Ae,y:Ae+Be}),c.setClipUrl(X,Z,L),Te(Be,_e,Ue),G.on("wheel",function(){Te(Be=E.constrain(N._scrollY+C.event.deltaY/Me*Pe,0,Pe),_e,Ue),0!==Be&&Be!==Pe&&C.event.preventDefault()});var Ve=C.behavior.drag().on("dragstart",function(){var Ce=C.event.sourceEvent;De="touchstart"===Ce.type?Ce.changedTouches[0].clientY:Ce.clientY,de=Be}).on("drag",function(){var Ce=C.event.sourceEvent;2===Ce.buttons||Ce.ctrlKey||Te(Be=function(We,Ke,Je){return E.constrain((Je-Ke)/Ue+We,0,Pe)}(de,De,"touchmove"===Ce.type?Ce.changedTouches[0].clientY:Ce.clientY),_e,Ue)});te.call(Ve);var ve=C.behavior.drag().on("dragstart",function(){var Ce=C.event.sourceEvent;"touchstart"===Ce.type&&(De=Ce.changedTouches[0].clientY,de=Be)}).on("drag",function(){var Ce=C.event.sourceEvent;"touchmove"===Ce.type&&Te(Be=function(We,Ke,Je){return E.constrain((Ke-Je)/Ue+We,0,Pe)}(de,De,Ce.changedTouches[0].clientY),_e,Ue)});X.call(ve)}function Te(Ce,We,Ke){N._scrollY=L._fullLayout.legend._scrollY=Ce,c.setTranslate(X,0,-Ce),c.setRect(te,N._width,o.scrollBarMargin+Ce*Ke,o.scrollBarWidth,We),H.select("rect").attr("y",Ae+Ce)}L._context.edits.legendPosition&&(G.classed("cursor-move",!0),v.init({element:G.node(),gd:L,prepFn:function(){var Ce=c.getTranslate(G);ge=Ce.x,xe=Ce.y},moveFn:function(Ce,We){var Ke=ge+Ce,Je=xe+We;c.setTranslate(G,Ke,Je),ue=v.align(Ke,0,ke.l,ke.l+ke.w,N.xanchor),he=v.align(Je,0,ke.t+ke.h,ke.t,N.yanchor)},doneFn:function(){void 0!==ue&&void 0!==he&&S.call("_guiRelayout",L,{"legend.x":ue,"legend.y":he})},clickFn:function(Ce,We){var Ke=B.selectAll("g.traces").filter(function(){var Je=this.getBoundingClientRect();return We.clientX>=Je.left&&We.clientX<=Je.right&&We.clientY>=Je.top&&We.clientY<=Je.bottom});Ke.size()>0&&w(L,G,Ke,Ce,We)}}))}],L)}}(I,P)}},82424:function(ie,z,r){"use strict";var C=r(73972),E=r(10130);ie.exports=function(f,S){var M,v,c=S._inHover,i=E.isGrouped(S),u=E.isReversed(S),a={},o=[],l=!1,s={},d=0,g=0;function p(W,j){if(""!==W&&E.isGrouped(S))-1===o.indexOf(W)?(o.push(W),l=!0,a[W]=[j]):a[W].push(j);else{var Z="~~i"+d;o.push(Z),a[Z]=[j],d++}}for(M=0;M<f.length;M++){var T=f[M],_=T[0],y=_.trace,w=y.legendgroup;if(c||y.visible&&y.showlegend)if(C.traceIs(y,"pie-like"))for(s[w]||(s[w]={}),v=0;v<T.length;v++){var m=T[v].label;s[w][m]||(p(w,{label:m,color:T[v].color,i:T[v].i,trace:y,pts:T[v].pts}),s[w][m]=!0,g=Math.max(g,(m||"").length))}else p(w,_),g=Math.max(g,(y.name||"").length)}if(!o.length)return[];var b=!l||!i,k=[];for(M=0;M<o.length;M++){var h=a[o[M]];k.push(b?h[0]:h)}for(b&&(k=[k]),M=0;M<k.length;M++){var O=1/0;for(v=0;v<k[M].length;v++){var A=k[M][v].trace.legendrank;O>A&&(O=A)}k[M][0]._groupMinRank=O,k[M][0]._preGroupSort=M}var I=function(W,j){return W.trace.legendrank-j.trace.legendrank||W._preSort-j._preSort};for(k.forEach(function(W,j){W[0]._preGroupSort=j}),k.sort(function(W,j){return W[0]._groupMinRank-j[0]._groupMinRank||W[0]._preGroupSort-j[0]._preGroupSort}),M=0;M<k.length;M++){k[M].forEach(function(W,j){W._preSort=j}),k[M].sort(I);var P=k[M][0].trace,L=null;for(v=0;v<k[M].length;v++){var N=k[M][v].trace.legendgrouptitle;if(N&&N.text){L=N,c&&(N.font=S._groupTitleFont);break}}if(u&&k[M].reverse(),L){var B=!1;for(v=0;v<k[M].length;v++)if(C.traceIs(k[M][v].trace,"pie-like")){B=!0;break}k[M].unshift({i:-1,groupTitle:L,noClick:B,trace:{showlegend:P.showlegend,legendgroup:P.legendgroup,visible:"toggleitem"===S.groupclick||P.visible}})}for(v=0;v<k[M].length;v++)k[M][v]=[k[M][v]]}return S._lgroupsLength=k.length,S._maxNameLength=g,k}},85167:function(ie,z,r){"use strict";var C=r(71828),E=r(73972),f=!0;ie.exports=function(S,M,v){var c=M._fullLayout;if(!M._dragged&&!M._editing){var i,u=c.legend.itemclick,a=c.legend.itemdoubleclick,o=c.legend.groupclick;if(1===v&&"toggle"===u&&"toggleothers"===a&&f&&M.data&&M._context.showTips&&C.notifier(C._(M,"Double-click on legend to isolate one trace"),"long"),f=!1,1===v?i=u:2===v&&(i=a),i){var l="togglegroup"===o,s=c.hiddenlabels?c.hiddenlabels.slice():[],d=S.data()[0][0];if(!d.groupTitle||!d.noClick){var g,p,T,_,y,w=M._fullData,m=d.trace,b=m.legendgroup,k={},h=[],O=[],A=[];if(E.traceIs(m,"pie-like")){var I=d.label,P=s.indexOf(I);"toggle"===i?-1===P?s.push(I):s.splice(P,1):"toggleothers"===i&&(s=[],M.calcdata[0].forEach(function(Q){I!==Q.label&&s.push(Q.label)}),M._fullLayout.hiddenlabels&&M._fullLayout.hiddenlabels.length===s.length&&-1===P&&(s=[])),E.call("_guiRelayout",M,"hiddenlabels",s)}else{var L,N=b&&b.length,B=[];if(N)for(g=0;g<w.length;g++)(L=w[g]).visible&&L.legendgroup===b&&B.push(g);if("toggle"===i){var W;switch(m.visible){case!0:W="legendonly";break;case!1:W=!1;break;case"legendonly":W=!0}if(N)if(l)for(g=0;g<w.length;g++)!1!==w[g].visible&&w[g].legendgroup===b&&$(w[g],W);else $(m,W);else $(m,W)}else if("toggleothers"===i){var V,G=!0;for(g=0;g<w.length;g++)if(V=!0!==w[g].showlegend,!(w[g]===m||V||N&&w[g].legendgroup===b||!0!==w[g].visible||E.traceIs(w[g],"notLegendIsolatable"))){G=!1;break}for(g=0;g<w.length;g++)if(!1!==w[g].visible&&!E.traceIs(w[g],"notLegendIsolatable"))switch(m.visible){case"legendonly":$(w[g],!0);break;case!0:V=!0!==w[g].showlegend&&!w[g].legendgroup,$(w[g],!!(w[g]===m||N&&w[g].legendgroup===b||V)||!!G||"legendonly")}}for(g=0;g<O.length;g++)if(T=O[g]){var H=T.constructUpdate(),ne=Object.keys(H);for(p=0;p<ne.length;p++)(k[_=ne[p]]=k[_]||[])[A[g]]=H[_]}for(y=Object.keys(k),g=0;g<y.length;g++)for(_=y[g],p=0;p<h.length;p++)k[_].hasOwnProperty(p)||(k[_][p]=void 0);E.call("_guiRestyle",M,k,h)}}}}function X(Q,te,re){var le=h.indexOf(Q),ue=k[te];return ue||(ue=k[te]=[]),-1===h.indexOf(Q)&&(h.push(Q),le=h.length-1),ue[le]=re,le}function $(Q,te){if(!d.groupTitle||l){var re=Q._fullInput;if(E.hasTransform(re,"groupby")){var le=O[re.index];if(!le){var ue=E.getTransformIndices(re,"groupby");le=C.keyedContainer(re,"transforms["+ue[ue.length-1]+"].styles","target","value.visible"),O[re.index]=le}var ge=le.get(Q._group);void 0===ge&&(ge=!0),!1!==ge&&le.set(Q._group,te),A[re.index]=X(re.index,"visible",!1!==re.visible)}else X(re.index,"visible",!1!==re.visible&&te)}}}},10130:function(ie,z){"use strict";z.isGrouped=function(r){return-1!==(r.traceorder||"").indexOf("grouped")},z.isVertical=function(r){return"h"!==r.orientation},z.isReversed=function(r){return-1!==(r.traceorder||"").indexOf("reversed")}},2199:function(ie,z,r){"use strict";ie.exports={moduleType:"component",name:"legend",layoutAttributes:r(33030),supplyLayoutDefaults:r(99017),draw:r(43969),style:r(53630)}},53630:function(ie,z,r){"use strict";var C=r(39898),E=r(73972),f=r(71828),S=f.strTranslate,M=r(91424),v=r(7901),c=r(52075).extractOpts,i=r(34098),u=r(63463),a=r(53581).castOption,o=r(14928);function l(g,p){return(p?"radial":"horizontal")+(g?"":"reversed")}function s(g){var p=g[0].trace,T=p.contours,_=i.hasLines(p),y=i.hasMarkers(p),w=p.visible&&p.fill&&"none"!==p.fill,m=!1,b=!1;if(T){var k=T.coloring;"lines"===k?m=!0:_="none"===k||"heatmap"===k||T.showlines,"constraint"===T.type?w="="!==T._operation:"fill"!==k&&"heatmap"!==k||(b=!0)}return{showMarker:y,showLine:_,showFill:w,showGradientLine:m,showGradientFill:b,anyLine:_||m,anyFill:w||b}}function d(g,p,T){return g&&f.isArrayOrTypedArray(g)?p:g>T?T:g}ie.exports=function(g,p,T){T||(T=p._fullLayout.legend);var y="constant"===T.itemsizing,w=T.itemwidth,b=S((w+2*o.itemGap)/2,0),k=function(A,I,P,L){var N;if(A+1)N=A;else{if(!(I&&I.width>0))return 0;N=I.width}return y?L:Math.min(N,P)};function h(A,I,P){var L=A[0].trace,N=L.marker||{},B=N.line||{},W=P?L.visible&&L.type===P:E.traceIs(L,"bar"),j=C.select(I).select("g.legendpoints").selectAll("path.legend"+P).data(W?[A]:[]);j.enter().append("path").classed("legend"+P,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",b),j.exit().remove(),j.each(function(Z){var V=C.select(this),q=Z[0],G=k(q.mlw,N.line,5,2);V.style("stroke-width",G+"px");var H=q.mcc;if(!T._inHover&&"mc"in q){var ne=c(N),X=ne.mid;void 0===X&&(X=(ne.max+ne.min)/2),H=M.tryColorscale(N,"")(X)}var $=H||q.mc||N.color,Q=N.pattern,te=Q&&M.getPatternAttr(Q.shape,0,"");if(te){var re=M.getPatternAttr(Q.bgcolor,0,null),le=M.getPatternAttr(Q.fgcolor,0,null),ue=Q.fgopacity,he=d(Q.size,8,10),ge=d(Q.solidity,.5,1);V.call(M.pattern,"legend",p,"legend-"+L.uid,te,he,ge,H,Q.fillmode,re,le,ue)}else V.call(v.fill,$);G&&v.stroke(V,q.mlc||B.color)})}function O(A,I,P){var L=A[0],N=L.trace,B=P?N.visible&&N.type===P:E.traceIs(N,P),W=C.select(I).select("g.legendpoints").selectAll("path.legend"+P).data(B?[A]:[]);if(W.enter().append("path").classed("legend"+P,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",b),W.exit().remove(),W.size()){var j=(N.marker||{}).line,Z=k(a(j.width,L.pts),j,5,2),V=f.minExtend(N,{marker:{line:{width:Z}}});V.marker.line.color=j.color;var q=f.minExtend(L,{trace:V});u(W,q,V)}}g.each(function(A){var I=C.select(this),P=f.ensureSingle(I,"g","layers");P.style("opacity",A[0].trace.opacity);var L=T.valign,N=A[0].lineHeight,B=A[0].height;P.attr("transform","middle"!==L&&N&&B?S(0,{top:1,bottom:-1}[L]*(.5*(N-B+3))):null),P.selectAll("g.legendfill").data([A]).enter().append("g").classed("legendfill",!0),P.selectAll("g.legendlines").data([A]).enter().append("g").classed("legendlines",!0);var j=P.selectAll("g.legendsymbols").data([A]);j.enter().append("g").classed("legendsymbols",!0),j.selectAll("g.legendpoints").data([A]).enter().append("g").classed("legendpoints",!0)}).each(function(A){var I,P=A[0].trace,L=[];if(P.visible)switch(P.type){case"histogram2d":case"heatmap":L=[["M-15,-2V4H15V-2Z"]],I=!0;break;case"choropleth":case"choroplethmapbox":L=[["M-6,-6V6H6V-6Z"]],I=!0;break;case"densitymapbox":L=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],I="radial";break;case"cone":L=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],I=!1;break;case"streamtube":L=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],I=!1;break;case"surface":L=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],I=!0;break;case"mesh3d":L=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],I=!1;break;case"volume":L=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],I=!0;break;case"isosurface":L=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],I=!1}var N=C.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(L);N.enter().append("path").classed("legend3dandfriends",!0).attr("transform",b).style("stroke-miterlimit",1),N.exit().remove(),N.each(function(B,W){var j,Z=C.select(this),V=c(P),q=V.colorscale,G=V.reversescale;if(q){if(!I){var H=q.length;j=0===W?q[G?H-1:0][1]:1===W?q[G?0:H-1][1]:q[Math.floor((H-1)/2)][1]}}else{var ne=P.vertexcolor||P.facecolor||P.color;j=f.isArrayOrTypedArray(ne)?ne[W]||ne[0]:ne}Z.attr("d",B[0]),j?Z.call(v.fill,j):Z.call(function(X){X.size()&&M.gradient(X,p,"legendfill-"+P.uid,l(G,"radial"===I),q,"fill")})})}).each(function(A){var I=A[0].trace,P="waterfall"===I.type;if(A[0]._distinct&&P){var L=A[0].trace[A[0].dir].marker;return A[0].mc=L.color,A[0].mlw=L.line.width,A[0].mlc=L.line.color,h(A,this,"waterfall")}var N=[];I.visible&&P&&(N=A[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var B=C.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(N);B.enter().append("path").classed("legendwaterfall",!0).attr("transform",b).style("stroke-miterlimit",1),B.exit().remove(),B.each(function(W){var j=C.select(this),Z=I[W[0]].marker,V=k(void 0,Z.line,5,2);j.attr("d",W[1]).style("stroke-width",V+"px").call(v.fill,Z.color),V&&j.call(v.stroke,Z.line.color)})}).each(function(A){h(A,this,"funnel")}).each(function(A){h(A,this)}).each(function(A){var I=A[0].trace,P=C.select(this).select("g.legendpoints").selectAll("path.legendbox").data(I.visible&&E.traceIs(I,"box-violin")?[A]:[]);P.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",b),P.exit().remove(),P.each(function(){var L=C.select(this);if("all"!==I.boxpoints&&"all"!==I.points||0!==v.opacity(I.fillcolor)||0!==v.opacity((I.line||{}).color)){var N=k(void 0,I.line,5,2);L.style("stroke-width",N+"px").call(v.fill,I.fillcolor),N&&v.stroke(L,I.line.color)}else{var B=f.minExtend(I,{marker:{size:y?12:f.constrain(I.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});P.call(M.pointStyle,B,p)}})}).each(function(A){O(A,this,"funnelarea")}).each(function(A){O(A,this,"pie")}).each(function(A){var I,P,L=s(A),N=L.showFill,B=L.showLine,W=L.showGradientLine,j=L.showGradientFill,Z=L.anyFill,V=L.anyLine,q=A[0],G=q.trace,H=c(G),ne=H.colorscale,X=H.reversescale,$=i.hasMarkers(G)||!Z?"M5,0":V?"M5,-2":"M5,-3",Q=C.select(this),te=Q.select(".legendfill").selectAll("path").data(N||j?[A]:[]);if(te.enter().append("path").classed("js-fill",!0),te.exit().remove(),te.attr("d",$+"h"+w+"v6h-"+w+"z").call(function(ue){ue.size()&&(N?M.fillGroupStyle(ue,p):M.gradient(ue,p,"legendfill-"+G.uid,l(X),ne,"fill"))}),B||W){var re=k(void 0,G.line,10,5);P=f.minExtend(G,{line:{width:re}}),I=[f.minExtend(q,{trace:P})]}var le=Q.select(".legendlines").selectAll("path").data(B||W?[I]:[]);le.enter().append("path").classed("js-line",!0),le.exit().remove(),le.attr("d",$+(W?"l"+w+",0.0001":"h"+w)).call(B?M.lineGroupStyle:function(ue){if(ue.size()){var he="legendline-"+G.uid;M.lineGroupStyle(ue),M.gradient(ue,p,he,l(X),ne,"stroke")}})}).each(function(A){var I,P,L=s(A),W=L.showLine,j=L.showMarker,Z=A[0],V=Z.trace,q=!j&&!L.anyLine&&!L.anyFill&&i.hasText(V);function G(le,ue,he,ge){var xe=f.nestedProperty(V,le).get(),ke=f.isArrayOrTypedArray(xe)&&ue?ue(xe):xe;if(y&&ke&&void 0!==ge&&(ke=ge),he){if(ke<he[0])return he[0];if(ke>he[1])return he[1]}return ke}function H(le){return Z._distinct&&Z.index&&le[Z.index]?le[Z.index]:le[0]}if(j||q||W){var ne={},X={};if(j){ne.mc=G("marker.color",H),ne.mx=G("marker.symbol",H),ne.mo=G("marker.opacity",f.mean,[.2,1]),ne.mlc=G("marker.line.color",H),ne.mlw=G("marker.line.width",f.mean,[0,5],2),X.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var $=G("marker.size",f.mean,[2,16],12);ne.ms=$,X.marker.size=$}W&&(X.line={width:G("line.width",H,[0,10],5)}),q&&(ne.tx="Aa",ne.tp=G("textposition",H),ne.ts=10,ne.tc=G("textfont.color",H),ne.tf=G("textfont.family",H)),I=[f.minExtend(Z,ne)],(P=f.minExtend(V,X)).selectedpoints=null,P.texttemplate=null}var Q=C.select(this).select("g.legendpoints"),te=Q.selectAll("path.scatterpts").data(j?I:[]);te.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",b),te.exit().remove(),te.call(M.pointStyle,P,p),j&&(I[0].mrc=3);var re=Q.selectAll("g.pointtext").data(q?I:[]);re.enter().append("g").classed("pointtext",!0).append("text").attr("transform",b),re.exit().remove(),re.selectAll("text").call(M.textPointStyle,P,p)}).each(function(A){var I=A[0].trace,P=C.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(I.visible&&"candlestick"===I.type?[A,A]:[]);P.enter().append("path").classed("legendcandle",!0).attr("d",function(L,N){return N?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",b).style("stroke-miterlimit",1),P.exit().remove(),P.each(function(L,N){var B=C.select(this),W=I[N?"increasing":"decreasing"],j=k(void 0,W.line,5,2);B.style("stroke-width",j+"px").call(v.fill,W.fillcolor),j&&v.stroke(B,W.line.color)})}).each(function(A){var I=A[0].trace,P=C.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(I.visible&&"ohlc"===I.type?[A,A]:[]);P.enter().append("path").classed("legendohlc",!0).attr("d",function(L,N){return N?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",b).style("stroke-miterlimit",1),P.exit().remove(),P.each(function(L,N){var B=C.select(this),W=I[N?"increasing":"decreasing"],j=k(void 0,W.line,5,2);B.style("fill","none").call(M.dashLine,W.line.dash,j),j&&v.stroke(B,W.line.color)})})}},42068:function(ie,z,r){"use strict";r(93348),ie.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},26023:function(ie,z,r){"use strict";var C=r(73972),E=r(74875),f=r(41675),S=r(24255),M=r(34031).eraseActiveShape,v=r(71828),c=v._,i=ie.exports={};function u(_,y){var w,m,b=y.currentTarget,k=b.getAttribute("data-attr"),h=b.getAttribute("data-val")||!0,O=_._fullLayout,A={},I=f.list(_,null,!0),P=O._cartesianSpikesEnabled;if("zoom"===k){var L,N="in"===h?.5:2,B=(1+N)/2,W=(1-N)/2;for(m=0;m<I.length;m++)if(!(w=I[m]).fixedrange)if(L=w._name,"auto"===h)A[L+".autorange"]=!0;else if("reset"===h){if(void 0===w._rangeInitial)A[L+".autorange"]=!0;else{var j=w._rangeInitial.slice();A[L+".range[0]"]=j[0],A[L+".range[1]"]=j[1]}void 0!==w._showSpikeInitial&&(A[L+".showspikes"]=w._showSpikeInitial,"on"!==P||w._showSpikeInitial||(P="off"))}else{var Z=[w.r2l(w.range[0]),w.r2l(w.range[1])],V=[B*Z[0]+W*Z[1],B*Z[1]+W*Z[0]];A[L+".range[0]"]=w.l2r(V[0]),A[L+".range[1]"]=w.l2r(V[1])}}else"hovermode"!==k||"x"!==h&&"y"!==h||b.setAttribute("data-val",h=O._isHoriz?"y":"x"),A[k]=h;O._cartesianSpikesEnabled=P,C.call("_guiRelayout",_,A)}function a(_,y){for(var w=y.currentTarget,m=w.getAttribute("data-attr"),b=w.getAttribute("data-val")||!0,k=_._fullLayout._subplots.gl3d||[],h={},O=m.split("."),A=0;A<k.length;A++)h[k[A]+"."+O[1]]=b;h.dragmode="pan"===b?b:"zoom",C.call("_guiRelayout",_,h)}function o(_,y){for(var w=y.currentTarget.getAttribute("data-attr"),m="resetLastSave"===w,b="resetDefault"===w,k=_._fullLayout,h=k._subplots.gl3d||[],O={},A=0;A<h.length;A++){var I,P=h[A],L=P+".camera",N=P+".aspectratio",B=P+".aspectmode",W=k[P]._scene;m?(O[L+".up"]=W.viewInitial.up,O[L+".eye"]=W.viewInitial.eye,O[L+".center"]=W.viewInitial.center,I=!0):b&&(O[L+".up"]=null,O[L+".eye"]=null,O[L+".center"]=null,I=!0),I&&(O[N+".x"]=W.viewInitial.aspectratio.x,O[N+".y"]=W.viewInitial.aspectratio.y,O[N+".z"]=W.viewInitial.aspectratio.z,O[B]=W.viewInitial.aspectmode)}C.call("_guiRelayout",_,O)}function l(_,y){var w=y.currentTarget,m=w._previousVal,b=_._fullLayout,k=b._subplots.gl3d||[],h=["xaxis","yaxis","zaxis"],O={},A={};if(m)A=m,w._previousVal=null;else{for(var I=0;I<k.length;I++){var P=k[I],L=b[P],N=P+".hovermode";O[N]=L.hovermode,A[N]=!1;for(var B=0;B<3;B++){var W=h[B],j=P+"."+W+".showspikes";A[j]=!1,O[j]=L[W].showspikes}}w._previousVal=O}return A}function s(_,y){for(var w=y.currentTarget,m=w.getAttribute("data-attr"),b=w.getAttribute("data-val")||!0,k=_._fullLayout,h=k._subplots.geo||[],O=0;O<h.length;O++){var A=h[O];if("zoom"===m){var P=k[A].projection.scale;C.call("_guiRelayout",_,A+".projection.scale","in"===b?2*P:.5*P)}}"reset"===m&&T(_,"geo")}function d(_){var y=_._fullLayout;return!y.hovermode&&(y._has("cartesian")?y._isHoriz?"y":"x":"closest")}function g(_){var y=d(_);C.call("_guiRelayout",_,"hovermode",y)}function p(_,y){for(var w=y.currentTarget.getAttribute("data-val"),m=_._fullLayout,b=m._subplots.mapbox||[],k={},h=0;h<b.length;h++){var O=b[h],A=m[O].zoom;k[O+".zoom"]="in"===w?1.05*A:A/1.05}C.call("_guiRelayout",_,k)}function T(_,y){for(var w=_._fullLayout,m=w._subplots[y]||[],b={},k=0;k<m.length;k++)for(var h=m[k],O=w[h]._subplot.viewInitial,A=Object.keys(O),I=0;I<A.length;I++){var P=A[I];b[h+"."+P]=O[P]}C.call("_guiRelayout",_,b)}i.toImage={name:"toImage",title:function(_){return c(_,"png"===((_._context.toImageButtonOptions||{}).format||"png")?"Download plot as a png":"Download plot")},icon:S.camera,click:function(_){var y=_._context.toImageButtonOptions,w={format:y.format||"png"};v.notifier(c(_,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==w.format&&v.isIE()&&(v.notifier(c(_,"IE only supports svg.  Changing format to svg."),"long"),w.format="svg"),["filename","width","height","scale"].forEach(function(m){m in y&&(w[m]=y[m])}),C.call("downloadImage",_,w).then(function(m){v.notifier(c(_,"Snapshot succeeded")+" - "+m,"long")}).catch(function(){v.notifier(c(_,"Sorry, there was a problem downloading your snapshot!"),"long")})}},i.sendDataToCloud={name:"sendDataToCloud",title:function(_){return c(_,"Edit in Chart Studio")},icon:S.disk,click:function(_){E.sendDataToCloud(_)}},i.editInChartStudio={name:"editInChartStudio",title:function(_){return c(_,"Edit in Chart Studio")},icon:S.pencil,click:function(_){E.sendDataToCloud(_)}},i.zoom2d={name:"zoom2d",_cat:"zoom",title:function(_){return c(_,"Zoom")},attr:"dragmode",val:"zoom",icon:S.zoombox,click:u},i.pan2d={name:"pan2d",_cat:"pan",title:function(_){return c(_,"Pan")},attr:"dragmode",val:"pan",icon:S.pan,click:u},i.select2d={name:"select2d",_cat:"select",title:function(_){return c(_,"Box Select")},attr:"dragmode",val:"select",icon:S.selectbox,click:u},i.lasso2d={name:"lasso2d",_cat:"lasso",title:function(_){return c(_,"Lasso Select")},attr:"dragmode",val:"lasso",icon:S.lasso,click:u},i.drawclosedpath={name:"drawclosedpath",title:function(_){return c(_,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:S.drawclosedpath,click:u},i.drawopenpath={name:"drawopenpath",title:function(_){return c(_,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:S.drawopenpath,click:u},i.drawline={name:"drawline",title:function(_){return c(_,"Draw line")},attr:"dragmode",val:"drawline",icon:S.drawline,click:u},i.drawrect={name:"drawrect",title:function(_){return c(_,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:S.drawrect,click:u},i.drawcircle={name:"drawcircle",title:function(_){return c(_,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:S.drawcircle,click:u},i.eraseshape={name:"eraseshape",title:function(_){return c(_,"Erase active shape")},icon:S.eraseshape,click:M},i.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(_){return c(_,"Zoom in")},attr:"zoom",val:"in",icon:S.zoom_plus,click:u},i.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(_){return c(_,"Zoom out")},attr:"zoom",val:"out",icon:S.zoom_minus,click:u},i.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(_){return c(_,"Autoscale")},attr:"zoom",val:"auto",icon:S.autoscale,click:u},i.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(_){return c(_,"Reset axes")},attr:"zoom",val:"reset",icon:S.home,click:u},i.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(_){return c(_,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:S.tooltip_basic,gravity:"ne",click:u},i.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(_){return c(_,"Compare data on hover")},attr:"hovermode",val:function(_){return _._fullLayout._isHoriz?"y":"x"},icon:S.tooltip_compare,gravity:"ne",click:u},i.zoom3d={name:"zoom3d",_cat:"zoom",title:function(_){return c(_,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:S.zoombox,click:a},i.pan3d={name:"pan3d",_cat:"pan",title:function(_){return c(_,"Pan")},attr:"scene.dragmode",val:"pan",icon:S.pan,click:a},i.orbitRotation={name:"orbitRotation",title:function(_){return c(_,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:S["3d_rotate"],click:a},i.tableRotation={name:"tableRotation",title:function(_){return c(_,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:S["z-axis"],click:a},i.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(_){return c(_,"Reset camera to default")},attr:"resetDefault",icon:S.home,click:o},i.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(_){return c(_,"Reset camera to last save")},attr:"resetLastSave",icon:S.movie,click:o},i.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(_){return c(_,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:S.tooltip_basic,gravity:"ne",click:function(_,y){var w=l(_,y);C.call("_guiRelayout",_,w)}},i.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(_){return c(_,"Zoom in")},attr:"zoom",val:"in",icon:S.zoom_plus,click:s},i.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(_){return c(_,"Zoom out")},attr:"zoom",val:"out",icon:S.zoom_minus,click:s},i.resetGeo={name:"resetGeo",_cat:"reset",title:function(_){return c(_,"Reset")},attr:"reset",val:null,icon:S.autoscale,click:s},i.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(_){return c(_,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:S.tooltip_basic,gravity:"ne",click:g},i.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(_){return c(_,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:S.tooltip_basic,gravity:"ne",click:g},i.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(_){return c(_,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:S.tooltip_basic,gravity:"ne",click:g},i.resetViewSankey={name:"resetSankeyGroup",title:function(_){return c(_,"Reset view")},icon:S.home,click:function(_){for(var y={"node.groups":[],"node.x":[],"node.y":[]},w=0;w<_._fullData.length;w++){var m=_._fullData[w]._viewInitial;y["node.groups"].push(m.node.groups.slice()),y["node.x"].push(m.node.x.slice()),y["node.y"].push(m.node.y.slice())}C.call("restyle",_,y)}},i.toggleHover={name:"toggleHover",title:function(_){return c(_,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:S.tooltip_basic,gravity:"ne",click:function(_,y){var w=l(_,y);w.hovermode=d(_),C.call("_guiRelayout",_,w)}},i.resetViews={name:"resetViews",title:function(_){return c(_,"Reset views")},icon:S.home,click:function(_,y){var w=y.currentTarget;w.setAttribute("data-attr","zoom"),w.setAttribute("data-val","reset"),u(_,y),w.setAttribute("data-attr","resetLastSave"),o(_,y),T(_,"geo"),T(_,"mapbox")}},i.toggleSpikelines={name:"toggleSpikelines",title:function(_){return c(_,"Toggle Spike Lines")},icon:S.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(_){var y=_._fullLayout;y._cartesianSpikesEnabled="on"===y._cartesianSpikesEnabled?"off":"on",C.call("_guiRelayout",_,function(m){for(var b="on"===m._fullLayout._cartesianSpikesEnabled,k=f.list(m,null,!0),h={},O=0;O<k.length;O++){var A=k[O];h[A._name+".showspikes"]=!!b||A._showSpikeInitial}return h}(_))}},i.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(_){return c(_,"Reset view")},attr:"reset",icon:S.home,click:function(_){T(_,"mapbox")}},i.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(_){return c(_,"Zoom in")},attr:"zoom",val:"in",icon:S.zoom_plus,click:p},i.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(_){return c(_,"Zoom out")},attr:"zoom",val:"out",icon:S.zoom_minus,click:p}},93348:function(ie,z,r){"use strict";var C=r(26023),E=Object.keys(C),f=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],S=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(f),M=[];E.forEach(function(v){!function(c){if(-1===S.indexOf(c._cat||c.name)){var i=c.name,u=(c._cat||c.name).toLowerCase();-1===M.indexOf(i)&&M.push(i),-1===M.indexOf(u)&&M.push(u)}}(C[v])}),M.sort(),ie.exports={DRAW_MODES:f,backButtons:S,foreButtons:M}},35750:function(ie,z,r){"use strict";var C=r(71828),E=r(7901),f=r(44467),S=r(42068);ie.exports=function(M,v){var c=M.modebar||{},i=f.newContainer(v,"modebar");function u(o,l){return C.coerce(c,i,S,o,l)}u("orientation"),u("bgcolor",E.addOpacity(v.paper_bgcolor,.5));var a=E.contrast(E.rgb(v.modebar.bgcolor));u("color",E.addOpacity(a,.3)),u("activecolor",E.addOpacity(a,.7)),u("uirevision",v.uirevision),u("add"),u("remove")}},64168:function(ie,z,r){"use strict";ie.exports={moduleType:"component",name:"modebar",layoutAttributes:r(42068),supplyLayoutDefaults:r(35750),manage:r(14192)}},14192:function(ie,z,r){"use strict";var C=r(41675),E=r(34098),f=r(73972),S=r(23469).isUnifiedHover,M=r(37676),v=r(26023),c=r(93348).DRAW_MODES,i=r(71828).extendDeep;ie.exports=function(u){var a=u._fullLayout,o=u._context,l=a._modeBar;if(o.displayModeBar||o.watermark){if(!Array.isArray(o.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(o.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var s,d=o.modeBarButtons;s=Array.isArray(d)&&d.length?function(g){for(var p=i([],g),T=0;T<p.length;T++)for(var _=p[T],y=0;y<_.length;y++){var w=_[y];if("string"==typeof w){if(void 0===v[w])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));p[T][y]=v[w]}}return p}(d):!o.displayModeBar&&o.watermark?[]:function(g){var p=g._fullLayout,T=g._fullData,_=g._context;function y(xe,ke){if("string"==typeof ke){if(ke.toLowerCase()===xe.toLowerCase())return!0}else if(ke.name===xe||(ke._cat||ke.name)===xe.toLowerCase())return!0;return!1}var w=p.modebar.add;"string"==typeof w&&(w=[w]);var m=p.modebar.remove;"string"==typeof m&&(m=[m]);var b=_.modeBarButtonsToAdd.concat(w.filter(function(xe){for(var ke=0;ke<_.modeBarButtonsToRemove.length;ke++)if(y(xe,_.modeBarButtonsToRemove[ke]))return!1;return!0})),k=_.modeBarButtonsToRemove.concat(m.filter(function(xe){for(var ke=0;ke<_.modeBarButtonsToAdd.length;ke++)if(y(xe,_.modeBarButtonsToAdd[ke]))return!1;return!0})),h=p._has("cartesian"),O=p._has("gl3d"),A=p._has("geo"),I=p._has("pie"),P=p._has("funnelarea"),L=p._has("gl2d"),N=p._has("ternary"),B=p._has("mapbox"),W=p._has("polar"),j=p._has("smith"),Z=p._has("sankey"),V=function(xe){for(var ke=C.list({_fullLayout:xe},null,!0),Ae=0;Ae<ke.length;Ae++)if(!ke[Ae].fixedrange)return!1;return!0}(p),q=S(p.hovermode),G=[];function H(xe){if(xe.length){for(var ke=[],Ae=0;Ae<xe.length;Ae++){for(var pe=xe[Ae],ye=v[pe],Ne=ye.name.toLowerCase(),be=(ye._cat||ye.name).toLowerCase(),Ee=!1,Oe=0;Oe<k.length;Oe++){var De=k[Oe].toLowerCase();if(De===Ne||De===be){Ee=!0;break}}Ee||ke.push(v[pe])}G.push(ke)}}var ne=["toImage"];_.showEditInChartStudio?ne.push("editInChartStudio"):_.showSendToCloud&&ne.push("sendDataToCloud"),H(ne);var X=[],$=[],Q=[],te=[];(h||L||I||P||N)+A+O+B+W+j>1?($=["toggleHover"],Q=["resetViews"]):A?(X=["zoomInGeo","zoomOutGeo"],$=["hoverClosestGeo"],Q=["resetGeo"]):O?($=["hoverClosest3d"],Q=["resetCameraDefault3d","resetCameraLastSave3d"]):B?(X=["zoomInMapbox","zoomOutMapbox"],$=["toggleHover"],Q=["resetViewMapbox"]):L?$=["hoverClosestGl2d"]:I?$=["hoverClosestPie"]:Z?($=["hoverClosestCartesian","hoverCompareCartesian"],Q=["resetViewSankey"]):$=["toggleHover"],h&&($=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(function(xe){for(var ke=0;ke<xe.length;ke++)if(!f.traceIs(xe[ke],"noHover"))return!1;return!0}(T)||q)&&($=[]),!h&&!L||V||(X=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==Q[0]&&(Q=["resetScale2d"])),O?te=["zoom3d","pan3d","orbitRotation","tableRotation"]:(h||L)&&!V||N?te=["zoom2d","pan2d"]:B||A?te=["pan2d"]:W&&(te=["zoom2d"]),function(xe){for(var ke=!1,Ae=0;Ae<xe.length&&!ke;Ae++){var pe=xe[Ae];pe._module&&pe._module.selectPoints&&(f.traceIs(pe,"scatter-like")?(E.hasMarkers(pe)||E.hasText(pe))&&(ke=!0):f.traceIs(pe,"box-violin")&&"all"!==pe.boxpoints&&"all"!==pe.points||(ke=!0))}return ke}(T)&&te.push("select2d","lasso2d");var re=[],le=function(xe){-1===re.indexOf(xe)&&-1!==$.indexOf(xe)&&re.push(xe)};if(Array.isArray(b)){for(var ue=[],he=0;he<b.length;he++){var ge=b[he];"string"==typeof ge?(ge=ge.toLowerCase(),-1!==c.indexOf(ge)?(p._has("mapbox")||p._has("cartesian"))&&te.push(ge):"togglespikelines"===ge?le("toggleSpikelines"):"togglehover"===ge?le("toggleHover"):"hovercompare"===ge?le("hoverCompareCartesian"):"hoverclosest"===ge?(le("hoverClosestCartesian"),le("hoverClosestGeo"),le("hoverClosest3d"),le("hoverClosestGl2d"),le("hoverClosestPie")):"v1hovermode"===ge&&(le("toggleHover"),le("hoverClosestCartesian"),le("hoverCompareCartesian"),le("hoverClosestGeo"),le("hoverClosest3d"),le("hoverClosestGl2d"),le("hoverClosestPie"))):ue.push(ge)}b=ue}return H(te),H(X.concat(Q)),H(re),function(xe,ke){if(ke.length)if(Array.isArray(ke[0]))for(var Ae=0;Ae<ke.length;Ae++)xe.push(ke[Ae]);else xe.push(ke);return xe}(G,b)}(u),l?l.update(u,s):a._modeBar=M(u,s)}else l&&(l.destroy(),delete a._modeBar)}},37676:function(ie,z,r){"use strict";var C=r(39898),E=r(92770),f=r(71828),S=r(24255),M=r(11506).version,v=new DOMParser;function c(u){this.container=u.container,this.element=document.createElement("div"),this.update(u.graphInfo,u.buttons),this.container.appendChild(this.element)}var i=c.prototype;i.update=function(u,a){this.graphInfo=u;var o=this.graphInfo._context,l=this.graphInfo._fullLayout,s="modebar-"+l._uid;this.element.setAttribute("id",s),this._uid=s,this.element.className="modebar","hover"===o.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===l.modebar.orientation&&(this.element.className+=" vertical",a=a.reverse());var d=l.modebar,g="hover"===o.displayModeBar?".js-plotly-plot .plotly:hover ":"";f.deleteRelatedStyleRule(s),f.addRelatedStyleRule(s,g+"#"+s+" .modebar-group","background-color: "+d.bgcolor),f.addRelatedStyleRule(s,"#"+s+" .modebar-btn .icon path","fill: "+d.color),f.addRelatedStyleRule(s,"#"+s+" .modebar-btn:hover .icon path","fill: "+d.activecolor),f.addRelatedStyleRule(s,"#"+s+" .modebar-btn.active .icon path","fill: "+d.activecolor);var p=!this.hasButtons(a),T=this.hasLogo!==o.displaylogo,_=this.locale!==o.locale;if(this.locale=o.locale,(p||T||_)&&(this.removeAllButtons(),this.updateButtons(a),o.watermark||o.displaylogo)){var y=this.getLogo();o.watermark&&(y.className=y.className+" watermark"),"v"===l.modebar.orientation?this.element.insertBefore(y,this.element.childNodes[0]):this.element.appendChild(y),this.hasLogo=!0}this.updateActiveButton()},i.updateButtons=function(u){var a=this;this.buttons=u,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(o){var l=a.createGroup();o.forEach(function(s){var d=s.name;if(!d)throw new Error("must provide button 'name' in button config");if(-1!==a.buttonsNames.indexOf(d))throw new Error("button name '"+d+"' is taken");a.buttonsNames.push(d);var g=a.createButton(s);a.buttonElements.push(g),l.appendChild(g)}),a.element.appendChild(l)})},i.createGroup=function(){var u=document.createElement("div");return u.className="modebar-group",u},i.createButton=function(u){var a=this,o=document.createElement("a");o.setAttribute("rel","tooltip"),o.className="modebar-btn";var l=u.title;void 0===l?l=u.name:"function"==typeof l&&(l=l(this.graphInfo)),(l||0===l)&&o.setAttribute("data-title",l),void 0!==u.attr&&o.setAttribute("data-attr",u.attr);var s=u.val;if(void 0!==s&&("function"==typeof s&&(s=s(this.graphInfo)),o.setAttribute("data-val",s)),"function"!=typeof u.click)throw new Error("must provide button 'click' function in button config");o.addEventListener("click",function(g){u.click(a.graphInfo,g),a.updateActiveButton(g.currentTarget)}),o.setAttribute("data-toggle",u.toggle||!1),u.toggle&&C.select(o).classed("active",!0);var d=u.icon;return o.appendChild("function"==typeof d?d():this.createIcon(d||S.question)),o.setAttribute("data-gravity",u.gravity||"n"),o},i.createIcon=function(u){var a,o=E(u.height)?Number(u.height):u.ascent-u.descent,l="http://www.w3.org/2000/svg";if(u.path){(a=document.createElementNS(l,"svg")).setAttribute("viewBox",[0,0,u.width,o].join(" ")),a.setAttribute("class","icon");var s=document.createElementNS(l,"path");s.setAttribute("d",u.path),u.transform?s.setAttribute("transform",u.transform):void 0!==u.ascent&&s.setAttribute("transform","matrix(1 0 0 -1 0 "+u.ascent+")"),a.appendChild(s)}return u.svg&&(a=v.parseFromString(u.svg,"application/xml").childNodes[0]),a.setAttribute("height","1em"),a.setAttribute("width","1em"),a},i.updateActiveButton=function(u){var a=this.graphInfo._fullLayout,o=void 0!==u?u.getAttribute("data-attr"):null;this.buttonElements.forEach(function(l){var s=l.getAttribute("data-val")||!0,d=l.getAttribute("data-attr"),g="true"===l.getAttribute("data-toggle"),p=C.select(l);if(g)d===o&&p.classed("active",!p.classed("active"));else{var T=null===d?d:f.nestedProperty(a,d).get();p.classed("active",T===s)}})},i.hasButtons=function(u){var a=this.buttons;if(!a||u.length!==a.length)return!1;for(var o=0;o<u.length;++o){if(u[o].length!==a[o].length)return!1;for(var l=0;l<u[o].length;l++)if(u[o][l].name!==a[o][l].name)return!1}return!0},i.getLogo=function(){var u=this.createGroup(),a=document.createElement("a");return a.href="https://plotly.com/",a.target="_blank",a.setAttribute("data-title",f._(this.graphInfo,"Produced with Plotly.js")+" (v"+M+")"),a.className="modebar-btn plotlyjsicon modebar-btn--logo",a.appendChild(this.createIcon(S.newplotlylogo)),u.appendChild(a),u},i.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},i.destroy=function(){f.removeElement(this.container.querySelector(".modebar")),f.deleteRelatedStyleRule(this._uid)},ie.exports=function(u,a){var o=u._fullLayout,l=new c({graphInfo:u,container:o._modebardiv.node(),buttons:a});return o._privateplot&&C.select(l.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),l}},37113:function(ie,z,r){"use strict";var C=r(41940),E=r(22399),f=(0,r(44467).templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});ie.exports={visible:{valType:"boolean",editType:"plot"},buttons:f,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:C({editType:"plot"}),bgcolor:{valType:"color",dflt:E.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:E.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},89573:function(ie){"use strict";ie.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},28674:function(ie,z,r){"use strict";var C=r(71828),E=r(7901),f=r(44467),S=r(85501),M=r(37113),v=r(89573);function c(i,u,a,o){var l=o.calendar;function s(g,p){return C.coerce(i,u,M.buttons,g,p)}if(s("visible")){var d=s("step");"all"!==d&&(!l||"gregorian"===l||"month"!==d&&"year"!==d?s("stepmode"):u.stepmode="backward",s("count")),s("label")}}ie.exports=function(i,u,a,o,l){var s=i.rangeselector||{},d=f.newContainer(u,"rangeselector");function g(_,y){return C.coerce(s,d,M,_,y)}if(g("visible",S(s,d,{name:"buttons",handleItemDefaults:c,calendar:l}).length>0)){var p=function(_,y,w){for(var m=w.filter(function(O){return y[O].anchor===_._id}),b=0,k=0;k<m.length;k++){var h=y[m[k]].domain;h&&(b=Math.max(h[1],b))}return[_.domain[0],b+v.yPad]}(u,a,o);g("x",p[0]),g("y",p[1]),C.noneOrAll(i,u,["x","y"]),g("xanchor"),g("yanchor"),C.coerceFont(g,"font",a.font);var T=g("bgcolor");g("activecolor",E.contrast(T,v.lightAmount,v.darkAmount)),g("bordercolor"),g("borderwidth")}}},21598:function(ie,z,r){"use strict";var C=r(39898),E=r(73972),f=r(74875),S=r(7901),M=r(91424),v=r(71828),c=v.strTranslate,i=r(63893),u=r(41675),a=r(18783),o=a.LINE_SPACING,l=a.FROM_TL,s=a.FROM_BR,d=r(89573),g=r(70565);function p(y){return y._id}function T(y,w,m){var k,h,b=v.ensureSingle(y,"rect","selector-rect",function(k){k.attr("shape-rendering","crispEdges")});b.attr({rx:d.rx,ry:d.ry}),b.call(S.stroke,w.bordercolor).call(S.fill,(k=w,h=m,h._isActive||h._isHovered?k.activecolor:k.bgcolor)).style("stroke-width",w.borderwidth+"px")}function _(y,w,m,b){var k,h;v.ensureSingle(y,"text","selector-text",function(O){O.attr("text-anchor","middle")}).call(M.font,w.font).text((k=m,h=b._fullLayout._meta,k.label?h?v.templateString(k.label,h):k.label:"all"===k.step?"all":k.count+k.step.charAt(0))).call(function(O){i.convertToTspans(O,b)})}ie.exports=function(y){var w=y._fullLayout._infolayer.selectAll(".rangeselector").data(function(m){for(var b=u.list(m,"x",!0),k=[],h=0;h<b.length;h++){var O=b[h];O.rangeselector&&O.rangeselector.visible&&k.push(O)}return k}(y),p);w.enter().append("g").classed("rangeselector",!0),w.exit().remove(),w.style({cursor:"pointer","pointer-events":"all"}),w.each(function(m){var b=C.select(this),k=m,h=k.rangeselector,O=b.selectAll("g.button").data(v.filterVisible(h.buttons));O.enter().append("g").classed("button",!0),O.exit().remove(),O.each(function(A){var I=C.select(this),P=g(k,A);A._isActive=function(L,N,B){if("all"===N.step)return!0===L.autorange;var W=Object.keys(B);return L.range[0]===B[W[0]]&&L.range[1]===B[W[1]]}(k,A,P),I.call(T,h,A),I.call(_,h,A,y),I.on("click",function(){y._dragged||E.call("_guiRelayout",y,P)}),I.on("mouseover",function(){A._isHovered=!0,I.call(T,h,A)}),I.on("mouseout",function(){A._isHovered=!1,I.call(T,h,A)})}),function(A,I,P,L,N){var B=0,W=0,j=P.borderwidth;I.each(function(){var ne=C.select(this).select(".selector-text"),$=Math.max(P.font.size*o*i.lineCount(ne),16)+3;W=Math.max(W,$)}),I.each(function(){var ne=C.select(this),X=ne.select(".selector-rect"),$=ne.select(".selector-text"),Q=$.node()&&M.bBox($.node()).width,te=P.font.size*o,re=i.lineCount($),le=Math.max(Q+10,d.minButtonWidth);ne.attr("transform",c(j+B,j)),X.attr({x:0,y:0,width:le,height:W}),i.positionText($,le/2,W/2-(re-1)*te/2+3),B+=le+5});var Z=A._fullLayout._size,V=Z.l+Z.w*P.x,q=Z.t+Z.h*(1-P.y),G="left";v.isRightAnchor(P)&&(V-=B,G="right"),v.isCenterAnchor(P)&&(V-=B/2,G="center");var H="top";v.isBottomAnchor(P)&&(q-=W,H="bottom"),v.isMiddleAnchor(P)&&(q-=W/2,H="middle"),B=Math.ceil(B),W=Math.ceil(W),V=Math.round(V),q=Math.round(q),f.autoMargin(A,L+"-range-selector",{x:P.x,y:P.y,l:B*l[G],r:B*s[G],b:W*s[H],t:W*l[H]}),N.attr("transform",c(V,q))}(y,O,h,k._name,b)})}},70565:function(ie,z,r){"use strict";var C=r(81041),E=r(71828).titleCase;ie.exports=function(f,S){var M=f._name,v={};if("all"===S.step)v[M+".autorange"]=!0;else{var c=function(i,u){var a,o=i.range,l=new Date(i.r2l(o[1])),d=C["utc"+E(u.step)],g=u.count;switch(u.stepmode){case"backward":a=i.l2r(+d.offset(l,-g));break;case"todate":var p=d.offset(l,-g);a=i.l2r(+d.ceil(p))}return[a,o[1]]}(f,S);v[M+".range[0]"]=c[0],v[M+".range[1]"]=c[1]}return v}},97218:function(ie,z,r){"use strict";ie.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:r(37113)}}},layoutAttributes:r(37113),handleDefaults:r(28674),draw:r(21598)}},75148:function(ie,z,r){"use strict";var C=r(22399);ie.exports={bgcolor:{valType:"color",dflt:C.background,editType:"plot"},bordercolor:{valType:"color",dflt:C.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},88443:function(ie,z,r){"use strict";var C=r(41675).list,E=r(71739).getAutoRange,f=r(73251);ie.exports=function(S){for(var M=C(S,"x",!0),v=0;v<M.length;v++){var c=M[v],i=c[f.name];i&&i.visible&&i.autorange&&(i._input.autorange=!0,i._input.range=i.range=E(S,c))}}},73251:function(ie){"use strict";ie.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},26377:function(ie,z,r){"use strict";var C=r(71828),E=r(44467),f=r(41675),S=r(75148),M=r(47850);ie.exports=function(v,c,i){var u=v[i],a=c[i];if(u.rangeslider||c._requestRangeslider[a._id]){C.isPlainObject(u.rangeslider)||(u.rangeslider={});var o,l,s=u.rangeslider,d=E.newContainer(a,"rangeslider");if(b("visible")){b("bgcolor",c.plot_bgcolor),b("bordercolor"),b("borderwidth"),b("thickness"),b("autorange",!a.isValidRange(s.range)),b("range");var g=c._subplots;if(g)for(var p=g.cartesian.filter(function(h){return h.substr(0,h.indexOf("y"))===f.name2id(i)}).map(function(h){return h.substr(h.indexOf("y"),h.length)}),T=C.simpleMap(p,f.id2name),_=0;_<T.length;_++){var y=T[_];o=s[y]||{},l=E.newContainer(d,y,"yaxis");var w,m=c[y];o.range&&m.isValidRange(o.range)&&(w="fixed"),"match"!==k("rangemode",w)&&k("range",m.range.slice())}d._input=s}}function b(h,O){return C.coerce(s,d,S,h,O)}function k(h,O){return C.coerce(o,l,M,h,O)}}},72413:function(ie,z,r){"use strict";var C=r(39898),E=r(73972),f=r(74875),S=r(71828),M=S.strTranslate,v=r(91424),c=r(7901),i=r(92998),u=r(93612),a=r(41675),o=r(28569),l=r(6964),s=r(73251);function d(w,m,b,k){var h=S.ensureSingle(w,"rect",s.bgClassName,function(P){P.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),O=k.borderwidth%2==0?k.borderwidth:k.borderwidth-1,A=-k._offsetShift,I=v.crispRound(m,k.borderwidth);h.attr({width:k._width+O,height:k._height+O,transform:M(A,A),"stroke-width":I}).call(c.stroke,k.bordercolor).call(c.fill,k.bgcolor)}function g(w,m,b,k){S.ensureSingleById(m._fullLayout._topdefs,"clipPath",k._clipId,function(O){O.append("rect").attr({x:0,y:0})}).select("rect").attr({width:k._width,height:k._height})}function p(w,m,b,k){var h,O=m.calcdata,A=w.selectAll("g."+s.rangePlotClassName).data(b._subplotsWith,S.identity);A.enter().append("g").attr("class",function(I){return s.rangePlotClassName+" "+I}).call(v.setClipUrl,k._clipId,m),A.order(),A.exit().remove(),A.each(function(I,P){var L=C.select(this),N=0===P,B=a.getFromId(m,I,"y"),W=B._name,j=k[W],Z={data:[],layout:{xaxis:{type:b.type,domain:[0,1],range:k.range.slice(),calendar:b.calendar},width:k._width,height:k._height,margin:{t:0,b:0,l:0,r:0}},_context:m._context};b.rangebreaks&&(Z.layout.xaxis.rangebreaks=b.rangebreaks),Z.layout[W]={type:B.type,domain:[0,1],range:"match"!==j.rangemode?j.range.slice():B.range.slice(),calendar:B.calendar},B.rangebreaks&&(Z.layout[W].rangebreaks=B.rangebreaks),f.supplyDefaults(Z);var V=Z._fullLayout.xaxis,q=Z._fullLayout[W];V.clearCalc(),V.setScale(),q.clearCalc(),q.setScale();var G={id:I,plotgroup:L,xaxis:V,yaxis:q,isRangePlot:!0};N?h=G:(G.mainplot="xy",G.mainplotinfo=h),u.rangePlot(m,G,function(H,ne){for(var X=[],$=0;$<H.length;$++){var Q=H[$],te=Q[0].trace;te.xaxis+te.yaxis===ne&&X.push(Q)}return X}(O,I))})}function T(w,m,b,k,h){S.ensureSingle(w,"rect",s.maskMinClassName,function(O){O.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",k._height).call(c.fill,s.maskColor),S.ensureSingle(w,"rect",s.maskMaxClassName,function(O){O.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",k._height).call(c.fill,s.maskColor),"match"!==h.rangemode&&(S.ensureSingle(w,"rect",s.maskMinOppAxisClassName,function(O){O.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",k._width).call(c.fill,s.maskOppAxisColor),S.ensureSingle(w,"rect",s.maskMaxOppAxisClassName,function(O){O.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",k._width).style("border-top",s.maskOppBorder).call(c.fill,s.maskOppAxisColor))}function _(w,m,b,k){m._context.staticPlot||S.ensureSingle(w,"rect",s.slideBoxClassName,function(h){h.attr({y:0,cursor:s.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:k._height,fill:s.slideBoxFill})}function y(w,m,b,k){var h=S.ensureSingle(w,"g",s.grabberMinClassName),O=S.ensureSingle(w,"g",s.grabberMaxClassName),A={x:0,width:s.handleWidth,rx:s.handleRadius,fill:c.background,stroke:c.defaultLine,"stroke-width":s.handleStrokeWidth,"shape-rendering":"crispEdges"},I={y:Math.round(k._height/4),height:Math.round(k._height/2)};S.ensureSingle(h,"rect",s.handleMinClassName,function(L){L.attr(A)}).attr(I),S.ensureSingle(O,"rect",s.handleMaxClassName,function(L){L.attr(A)}).attr(I);var P={width:s.grabAreaWidth,x:0,y:0,fill:s.grabAreaFill,cursor:m._context.staticPlot?void 0:s.grabAreaCursor};S.ensureSingle(h,"rect",s.grabAreaMinClassName,function(L){L.attr(P)}).attr("height",k._height),S.ensureSingle(O,"rect",s.grabAreaMaxClassName,function(L){L.attr(P)}).attr("height",k._height)}ie.exports=function(w){for(var m=w._fullLayout,b=m._rangeSliderData,k=0;k<b.length;k++){var h=b[k][s.name];h._clipId=h._id+"-"+m._uid}var O=m._infolayer.selectAll("g."+s.containerClassName).data(b,function(A){return A._name});O.exit().each(function(A){m._topdefs.select("#"+A[s.name]._clipId).remove()}).remove(),0!==b.length&&(O.enter().append("g").classed(s.containerClassName,!0).attr("pointer-events","all"),O.each(function(A){var I=C.select(this),P=A[s.name],L=m[a.id2name(A.anchor)],N=P[a.id2name(A.anchor)];if(P.range){var B,W=S.simpleMap(P.range,A.r2l),j=S.simpleMap(A.range,A.r2l);B=j[0]<j[1]?[Math.min(W[0],j[0]),Math.max(W[1],j[1])]:[Math.max(W[0],j[0]),Math.min(W[1],j[1])],P.range=P._input.range=S.simpleMap(B,A.l2r)}A.cleanRange("rangeslider.range");var Z=m._size,V=A.domain;P._width=Z.w*(V[1]-V[0]);var q=Math.round(Z.l+Z.w*V[0]),G=Math.round(Z.t+Z.h*(1-A._counterDomainMin)+("bottom"===A.side?A._depth:0)+P._offsetShift+s.extraPad);I.attr("transform",M(q,G)),P._rl=S.simpleMap(P.range,A.r2l);var H=P._rl[0],ne=P._rl[1],X=ne-H;if(P.p2d=function(xe){return xe/P._width*X+H},P.d2p=function(xe){return(xe-H)/X*P._width},A.rangebreaks){var $=A.locateBreaks(H,ne);if($.length){var Q,te,re=0;for(Q=0;Q<$.length;Q++)re+=(te=$[Q]).max-te.min;var le=P._width/(ne-H-re),ue=[-le*H];for(Q=0;Q<$.length;Q++)ue.push(ue[ue.length-1]-le*((te=$[Q]).max-te.min));for(P.d2p=function(xe){for(var ke=ue[0],Ae=0;Ae<$.length;Ae++){var pe=$[Ae];if(xe>=pe.max)ke=ue[Ae+1];else if(xe<pe.min)break}return ke+le*xe},Q=0;Q<$.length;Q++)(te=$[Q]).pmin=P.d2p(te.min),te.pmax=P.d2p(te.max);P.p2d=function(xe){for(var ke=ue[0],Ae=0;Ae<$.length;Ae++){var pe=$[Ae];if(xe>=pe.pmax)ke=ue[Ae+1];else if(xe<pe.pmin)break}return(xe-ke)/le}}}if("match"!==N.rangemode){var he=L.r2l(N.range[0]),ge=L.r2l(N.range[1])-he;P.d2pOppAxis=function(xe){return(xe-he)/ge*P._height}}I.call(d,w,A,P).call(g,w,A,P).call(p,w,A,P).call(T,w,A,P,N).call(_,w,A,P).call(y,w,A,P),function(xe,ke,Ae,pe){if(!ke._context.staticPlot){var ye=xe.select("rect."+s.slideBoxClassName).node(),Ne=xe.select("rect."+s.grabAreaMinClassName).node(),be=xe.select("rect."+s.grabAreaMaxClassName).node();xe.on("mousedown",Ee),xe.on("touchstart",Ee)}function Ee(){var Oe=C.event,De=Oe.target,oe=Oe.clientX||Oe.touches[0].clientX,de=oe-xe.node().getBoundingClientRect().left,_e=pe.d2p(Ae._rl[0]),Me=pe.d2p(Ae._rl[1]),Pe=o.coverSlip();function Ue(Ve){var ve,Te,Ce,We=+(Ve.clientX||Ve.touches[0].clientX)-oe;switch(De){case ye:Ce="ew-resize",ve=_e+We,Te=Me+We;break;case Ne:Ce="col-resize",ve=_e+We,Te=Me;break;case be:Ce="col-resize",ve=_e,Te=Me+We;break;default:Ce="ew-resize",ve=de,Te=de+We}if(Te<ve){var Ke=Te;Te=ve,ve=Ke}pe._pixelMin=ve,pe._pixelMax=Te,l(C.select(Pe),Ce),function(Je,ht,ft,mt){function At(Pt){return ft.l2r(S.constrain(Pt,mt._rl[0],mt._rl[1]))}var Rt=At(mt.p2d(mt._pixelMin)),It=At(mt.p2d(mt._pixelMax));window.requestAnimationFrame(function(){E.call("_guiRelayout",ht,ft._name+".range",[Rt,It])})}(0,ke,Ae,pe)}function Be(){Pe.removeEventListener("mousemove",Ue),Pe.removeEventListener("mouseup",Be),this.removeEventListener("touchmove",Ue),this.removeEventListener("touchend",Be),S.removeElement(Pe)}this.addEventListener("touchmove",Ue),this.addEventListener("touchend",Be),Pe.addEventListener("mousemove",Ue),Pe.addEventListener("mouseup",Be)}}(I,w,A,P),function(xe,ke,Ae,pe,ye,Ne){var be=s.handleWidth/2;function Ee(Ve){return S.constrain(Ve,0,pe._width)}function Oe(Ve){return S.constrain(Ve,0,pe._height)}function De(Ve){return S.constrain(Ve,-be,pe._width+be)}var oe=Ee(pe.d2p(Ae._rl[0])),de=Ee(pe.d2p(Ae._rl[1]));if(xe.select("rect."+s.slideBoxClassName).attr("x",oe).attr("width",de-oe),xe.select("rect."+s.maskMinClassName).attr("width",oe),xe.select("rect."+s.maskMaxClassName).attr("x",de).attr("width",pe._width-de),"match"!==Ne.rangemode){var _e=pe._height-Oe(pe.d2pOppAxis(ye._rl[1])),Me=pe._height-Oe(pe.d2pOppAxis(ye._rl[0]));xe.select("rect."+s.maskMinOppAxisClassName).attr("x",oe).attr("height",_e).attr("width",de-oe),xe.select("rect."+s.maskMaxOppAxisClassName).attr("x",oe).attr("y",Me).attr("height",pe._height-Me).attr("width",de-oe),xe.select("rect."+s.slideBoxClassName).attr("y",_e).attr("height",Me-_e)}var Ue=Math.round(De(oe-be))-.5,Be=Math.round(De(de-be))+.5;xe.select("g."+s.grabberMinClassName).attr("transform",M(Ue,.5)),xe.select("g."+s.grabberMaxClassName).attr("transform",M(Be,.5))}(I,0,A,P,L,N),"bottom"===A.side&&i.draw(w,A._id+"title",{propContainer:A,propName:A._name+".title",placeholder:m._dfltTitle.x,attributes:{x:A._offset+A._length/2,y:G+P._height+P._offsetShift+10+1.5*A.title.font.size,"text-anchor":"middle"}})}))}},549:function(ie,z,r){"use strict";var C=r(41675),E=r(63893),f=r(73251),S=r(18783).LINE_SPACING,M=f.name;function v(c){var i=c&&c[M];return i&&i.visible}z.isVisible=v,z.makeData=function(c){var i=C.list({_fullLayout:c},"x",!0),u=c.margin,a=[];if(!c._has("gl2d"))for(var o=0;o<i.length;o++){var l=i[o];if(v(l)){a.push(l);var s=l[M];s._id=M+l._id,s._height=(c.height-u.b-u.t)*s.thickness,s._offsetShift=Math.floor(s.borderwidth/2)}}c._rangeSliderData=a},z.autoMarginOpts=function(c,i){var u=c._fullLayout,a=i[M],o=i._id.charAt(0),l=0,s=0;return"bottom"===i.side&&(l=i._depth,i.title.text!==u._dfltTitle[o]&&(s=1.5*i.title.font.size+10+a._offsetShift,s+=(i.title.text.match(E.BR_TAG_ALL)||[]).length*i.title.font.size*S)),{x:0,y:i._counterDomainMin,l:0,r:0,t:0,b:a._height+l+Math.max(u.margin.b,s),pad:f.extraPad+2*a._offsetShift}}},13137:function(ie,z,r){"use strict";var C=r(71828),E=r(75148),f=r(47850),S=r(549);ie.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:C.extendFlat({},E,{yaxis:f})}}},layoutAttributes:r(75148),handleDefaults:r(26377),calcAutorange:r(88443),draw:r(72413),isVisible:S.isVisible,makeData:S.makeData,autoMarginOpts:S.autoMarginOpts}},47850:function(ie){"use strict";ie.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},8389:function(ie,z,r){"use strict";var C=r(50215),E=r(82196).line,f=r(79952).P,S=r(1426).extendFlat,M=r(30962).overrideAll,v=r(44467).templatedArray;r(24695),ie.exports=M(v("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:S({},C.xref,{}),yref:S({},C.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:E.color,width:S({},E.width,{min:1,dflt:1}),dash:S({},f,{dflt:"dot"})}}),"arraydraw","from-root")},34122:function(ie){"use strict";ie.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},59402:function(ie,z,r){"use strict";var C=r(71828),E=r(89298),f=r(85501),S=r(8389),M=r(30477);function v(c,i,u){function a(I,P){return C.coerce(c,i,S,I,P)}var o=a("path"),l="path"!==a("type",o?"path":"rect");l&&delete i.path,a("opacity"),a("line.color"),a("line.width"),a("line.dash");for(var s=["x","y"],d=0;d<2;d++){var g,p,T,_=s[d],y={_fullLayout:u},w=E.coerceRef(c,i,y,_);if((g=E.getFromId(y,w))._selectionIndices.push(i._index),T=M.rangeToShapePosition(g),p=M.shapePositionToRange(g),l){var m=_+"0",b=_+"1",k=c[m],h=c[b];c[m]=p(c[m],!0),c[b]=p(c[b],!0),E.coercePosition(i,y,a,w,m),E.coercePosition(i,y,a,w,b);var O=i[m],A=i[b];void 0!==O&&void 0!==A&&(i[m]=T(O),i[b]=T(A),c[m]=k,c[b]=h)}}l&&C.noneOrAll(c,i,["x0","x1","y0","y1"])}ie.exports=function(c,i){f(c,i,{name:"selections",handleItemDefaults:v});for(var u=i.selections,a=0;a<u.length;a++){var o=u[a];o&&void 0===o.path&&(void 0!==o.x0&&void 0!==o.x1&&void 0!==o.y0&&void 0!==o.y1||(i.selections[a]=null))}}},32485:function(ie,z,r){"use strict";var C=r(60165).readPaths,E=r(42359),f=r(51873).clearOutlineControllers,S=r(7901),M=r(91424),v=r(44467).arrayEditor,c=r(30477),i=c.getPathString;function u(d){var g=d._fullLayout;for(var p in f(d),g._selectionLayer.selectAll("path").remove(),g._plots){var T=g._plots[p].selectionLayer;T&&T.selectAll("path").remove()}for(var _=0;_<g.selections.length;_++)o(d,_)}function a(d){return d._context.editSelection}function o(d,g){d._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+g+'"]').remove();var p=c.makeSelectionsOptionsAndPlotinfo(d,g),T=p.options,_=p.plotinfo;T._input&&function(y){var w=i(d,T),m={"data-index":g,"fill-rule":"evenodd",d:w},b=T.opacity,k="rgba(0,0,0,0)",h=T.line.color||S.contrast(d._fullLayout.plot_bgcolor),O=T.line.width,A=T.line.dash;O||(O=5,A="solid");var I=a(d)&&d._fullLayout._activeSelectionIndex===g;I&&(k=d._fullLayout.activeselection.fillcolor,b=d._fullLayout.activeselection.opacity);for(var P=[],L=1;L>=0;L--){var N=y.append("path").attr(m).style("opacity",L?.1:b).call(S.stroke,h).call(S.fill,k).call(M.dashLine,L?"solid":A,L?4+O:O);if(l(N,d,T),I){var B=v(d.layout,"selections",T);N.style({cursor:"move"});var W={element:N.node(),plotinfo:_,gd:d,editHelpers:B,isActiveSelection:!0},j=C(w,d);E(j,N,W)}else N.style("pointer-events",L?"all":"none");P[L]=N}var Z=P[0];P[1].node().addEventListener("click",function(){return function(V,q){if(a(V)){var G=+q.node().getAttribute("data-index");if(G>=0){if(G===V._fullLayout._activeSelectionIndex)return void s(V);V._fullLayout._activeSelectionIndex=G,V._fullLayout._deactivateSelection=s,u(V)}}}(d,Z)})}(d._fullLayout._selectionLayer)}function l(d,g,p){M.setClipUrl(d,"clip"+g._fullLayout._uid+(p.xref+p.yref),g)}function s(d){a(d)&&d._fullLayout._activeSelectionIndex>=0&&(f(d),delete d._fullLayout._activeSelectionIndex,u(d))}ie.exports={draw:u,drawOne:o,activateLastSelection:function(d){a(d)&&(d._fullLayout._activeSelectionIndex=d._fullLayout.selections.length-1,d._fullLayout._deactivateSelection=s,u(d))}}},53777:function(ie,z,r){"use strict";var C=r(79952).P,E=r(1426).extendFlat;ie.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:E({},C,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},90849:function(ie){"use strict";ie.exports=function(z,r,C){C("newselection.mode"),C("newselection.line.width")&&(C("newselection.line.color"),C("newselection.line.dash")),C("activeselection.fillcolor"),C("activeselection.opacity")}},35855:function(ie,z,r){"use strict";var C=r(64505).selectMode,E=r(51873).clearOutline,f=r(60165),S=f.readPaths,M=f.writePaths,v=f.fixDatesForPaths;ie.exports=function(c,i){if(c.length){var u=c[0][0];if(u){var a=u.getAttribute("d"),o=i.gd,l=o._fullLayout.newselection,s=i.plotinfo,d=s.xaxis,g=s.yaxis,p=i.isActiveSelection,T=i.dragmode,_=(o.layout||{}).selections||[];if(!C(T)&&void 0!==p){var y=o._fullLayout._activeSelectionIndex;if(y<_.length)switch(o._fullLayout.selections[y].type){case"rect":T="select";break;case"path":T="lasso"}}var w,m=S(a,o,s,p),b={xref:d._id,yref:g._id,opacity:l.opacity,line:{color:l.line.color,width:l.line.width,dash:l.line.dash}};1===m.length&&(w=m[0]),w&&5===w.length&&"select"===T?(b.type="rect",b.x0=w[0][1],b.y0=w[0][2],b.x1=w[2][1],b.y1=w[2][2]):(b.type="path",d&&g&&v(m,d,g),b.path=M(m),w=null),E(o);for(var k=i.editHelpers,h=(k||{}).modifyItem,O=[],A=0;A<_.length;A++){var I=o._fullLayout.selections[A];if(I){if(O[A]=I._input,void 0!==p&&A===o._fullLayout._activeSelectionIndex){var P=b;switch(I.type){case"rect":h("x0",P.x0),h("x1",P.x1),h("y0",P.y0),h("y1",P.y1);break;case"path":h("path",P.path)}}}else O[A]=I}return void 0===p?(O.push(b),O):k?k.getUpdateObj():{}}}}},75549:function(ie,z,r){"use strict";var C=r(71828).strTranslate;function E(f,S){switch(f.type){case"log":return f.p2d(S);case"date":return f.p2r(S,0,f.calendar);default:return f.p2r(S)}}ie.exports={p2r:E,r2p:function(f,S){switch(f.type){case"log":return f.d2p(S);case"date":return f.r2p(S,0,f.calendar);default:return f.r2p(S)}},axValue:function(f){var S="y"===f._id.charAt(0)?1:0;return function(M){return E(f,M[S])}},getTransform:function(f){return C(f.xaxis._offset,f.yaxis._offset)}}},47322:function(ie,z,r){"use strict";var C=r(32485),E=r(3937);ie.exports={moduleType:"component",name:"selections",layoutAttributes:r(8389),supplyLayoutDefaults:r(59402),supplyDrawNewSelectionDefaults:r(90849),includeBasePlot:r(76325)("selections"),draw:C.draw,drawOne:C.drawOne,reselect:E.reselect,prepSelect:E.prepSelect,clearOutline:E.clearOutline,clearSelectionsCache:E.clearSelectionsCache,selectOnClick:E.selectOnClick}},3937:function(ie,z,r){"use strict";var C=r(52142),E=r(38258),f=r(73972),S=r(91424).dashStyle,M=r(7901),v=r(30211),c=r(23469).makeEventData,i=r(64505),u=i.freeMode,a=i.rectMode,o=i.drawMode,l=i.openMode,s=i.selectMode,d=r(30477),g=r(21459),p=r(42359),T=r(51873).clearOutline,_=r(60165),y=_.handleEllipse,w=_.readPaths,m=r(90551),b=r(35855),k=r(32485).activateLastSelection,h=r(71828),O=h.sorterAsc,A=r(61082),I=r(79990),P=r(41675).getFromId,L=r(33306),N=r(61549).redrawReglTraces,B=r(34122),W=B.MINSELECT,j=A.filter,Z=A.tester,V=r(75549),q=V.p2r,G=V.axValue,H=V.getTransform;function ne(Be){return void 0!==Be.subplot}function X(Be,Ve,ve,Te,Ce,We,Ke){var Je,ht,ft,mt,At,Rt,It,Pt,Bt,ot,Ut=Ve._hoverdata,Vt=Ve._fullLayout.clickmode.indexOf("event")>-1,tn=[];if((ot=Ut)&&Array.isArray(ot)&&!0!==ot[0].hoverOnBox){re(Be,Ve,We);var Gt=function(ot,dt){var Le,Ge,st=ot[0],vt=-1,bt=[];for(Ge=0;Ge<dt.length;Ge++)if(st.fullData._expandedIndex===(Le=dt[Ge]).cd[0].trace._expandedIndex){if(!0===st.hoverOnBox)break;void 0!==st.pointNumber?vt=st.pointNumber:void 0!==st.binNumber&&(vt=st.binNumber,bt=st.pointNumbers);break}return{pointNumber:vt,pointNumbers:bt,searchInfo:Le}}(Ut,Je=he(Ve,ve,Te,Ce));if(Gt.pointNumbers.length>0?function(ot,dt){var Le,Ge,st,vt=[];for(st=0;st<ot.length;st++)(Le=ot[st]).cd[0].trace.selectedpoints&&Le.cd[0].trace.selectedpoints.length>0&&vt.push(Le);if(1===vt.length&&vt[0]===dt.searchInfo&&(Ge=dt.searchInfo.cd[0].trace).selectedpoints.length===dt.pointNumbers.length){for(st=0;st<dt.pointNumbers.length;st++)if(Ge.selectedpoints.indexOf(dt.pointNumbers[st])<0)return!1;return!0}return!1}(Je,Gt):function(ot){var dt,Le,Ge=0;for(Le=0;Le<ot.length;Le++)if((dt=ot[Le].cd[0].trace).selectedpoints&&(dt.selectedpoints.length>1||(Ge+=dt.selectedpoints.length)>1))return!1;return 1===Ge}(Je)&&(Rt=xe(Gt))){for(Ke&&Ke.remove(),Bt=0;Bt<Je.length;Bt++)(ht=Je[Bt])._module.selectPoints(ht,!1);ke(Ve,Je),le(We),Vt&&Ue(Ve)}else{for(It=Be.shiftKey&&(void 0!==Rt?Rt:xe(Gt)),ft=function(ot,dt,Le){return{pointNumber:ot,searchInfo:dt,subtract:!!Le}}(Gt.pointNumber,Gt.searchInfo,It),mt=te(We.selectionDefs.concat([ft])),Bt=0;Bt<Je.length;Bt++)if(At=pe(Je[Bt]._module.selectPoints(Je[Bt],mt),Je[Bt]),tn.length)for(var et=0;et<At.length;et++)tn.push(At[et]);else tn=At;if(ke(Ve,Je,Pt={points:tn}),ft&&We&&We.selectionDefs.push(ft),Ke){var nt=We.mergedPolygons,$e=l(We.dragmode);p(ye(nt,$e),Ke,We)}Vt&&Pe(Ve,Pt)}}}function $(Be){return"pointNumber"in Be&&"searchInfo"in Be}function Q(Be){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Ve,ve,Te,Ce){return Ce.cd[0].trace._expandedIndex===Be.searchInfo.cd[0].trace._expandedIndex&&Te===Be.pointNumber},isRect:!1,degenerate:!1,subtract:!!Be.subtract}}function te(Be){if(Be.length){for(var Ve=[],ve=$(Be[0])?0:Be[0][0][0],Te=ve,Ce=$(Be[0])?0:Be[0][0][1],We=Ce,Ke=0;Ke<Be.length;Ke++)if($(Be[Ke]))Ve.push(Q(Be[Ke]));else{var Je=Z(Be[Ke]);Je.subtract=!!Be[Ke].subtract,Ve.push(Je),ve=Math.min(ve,Je.xmin),Te=Math.max(Te,Je.xmax),Ce=Math.min(Ce,Je.ymin),We=Math.max(We,Je.ymax)}return{xmin:ve,xmax:Te,ymin:Ce,ymax:We,pts:[],contains:function(ht,ft,mt,At){for(var Rt=!1,It=0;It<Ve.length;It++)Ve[It].contains(ht,ft,mt,At)&&(Rt=!Ve[It].subtract);return Rt},isRect:!1,degenerate:!1}}}function re(Be,Ve,ve){var Te=Ve._fullLayout,Ce=ve.plotinfo,We=ve.dragmode,Ke=Te._lastSelectedSubplot&&Te._lastSelectedSubplot===Ce.id,Je=(Be.shiftKey||Be.altKey)&&!(o(We)&&l(We));Ke&&Je&&Ce.selection&&Ce.selection.selectionDefs&&!ve.selectionDefs?(ve.selectionDefs=Ce.selection.selectionDefs,ve.mergedPolygons=Ce.selection.mergedPolygons):Je&&Ce.selection||le(ve),Ke||(T(Ve),Te._lastSelectedSubplot=Ce.id)}function le(Be,Ve){var ve=Be.dragmode,Te=Be.plotinfo,Ce=Be.gd;Ce._fullLayout._activeShapeIndex>=0&&Ce._fullLayout._deactivateShape(Ce),Ce._fullLayout._activeSelectionIndex>=0&&Ce._fullLayout._deactivateSelection(Ce);var We=Ce._fullLayout._zoomlayer,Ke=o(ve),Je=s(ve);if(Ke||Je){var ht,ft,mt=We.selectAll(".select-outline-"+Te.id);mt&&Ce._fullLayout._outlining&&(Ke&&(ht=m(mt,Be)),ht&&f.call("_guiRelayout",Ce,{shapes:ht}),Je&&!ne(Be)&&(ft=b(mt,Be)),ft&&(Ce._fullLayout._noEmitSelectedAtStart=!0,f.call("_guiRelayout",Ce,{selections:ft}).then(function(){Ve&&k(Ce)})),Ce._fullLayout._outlining=!1)}Te.selection={},Te.selection.selectionDefs=Be.selectionDefs=[],Te.selection.mergedPolygons=Be.mergedPolygons=[]}function ue(Be){return Be._id}function he(Be,Ve,ve,Te){if(!Be.calcdata)return[];var Ce,We,Ke,Je=[],ht=Ve.map(ue),ft=ve.map(ue);for(Ke=0;Ke<Be.calcdata.length;Ke++)if(!0===(We=(Ce=Be.calcdata[Ke])[0].trace).visible&&We._module&&We._module.selectPoints)if(!ne({subplot:Te})||We.subplot!==Te&&We.geo!==Te)if("splom"===We.type){if(We._xaxes[ht[0]]&&We._yaxes[ft[0]]){var mt=ge(We._module,Ce,Ve[0],ve[0]);mt.scene=Be._fullLayout._splomScenes[We.uid],Je.push(mt)}}else if("sankey"===We.type){var At=ge(We._module,Ce,Ve[0],ve[0]);Je.push(At)}else{if(-1===ht.indexOf(We.xaxis)||-1===ft.indexOf(We.yaxis))continue;Je.push(ge(We._module,Ce,P(Be,We.xaxis),P(Be,We.yaxis)))}else Je.push(ge(We._module,Ce,Ve[0],ve[0]));return Je}function ge(Be,Ve,ve,Te){return{_module:Be,cd:Ve,xaxis:ve,yaxis:Te}}function xe(Be){var Ve=Be.searchInfo.cd[0].trace,Te=Be.pointNumbers;return!!Ve.selectedpoints&&Ve.selectedpoints.indexOf(Te.length>0?Te[0]:Be.pointNumber)>-1}function ke(Be,Ve,ve){var Te,Ce;for(Te=0;Te<Ve.length;Te++){var We=Ve[Te].cd[0].trace._fullInput,Ke=Be._fullLayout._tracePreGUI[We.uid]||{};void 0===Ke.selectedpoints&&(Ke.selectedpoints=We._input.selectedpoints||null)}if(ve){var Je=ve.points||[];for(Te=0;Te<Ve.length;Te++)(Ce=Ve[Te].cd[0].trace)._input.selectedpoints=Ce._fullInput.selectedpoints=[],Ce._fullInput!==Ce&&(Ce.selectedpoints=[]);for(var ht=0;ht<Je.length;ht++){var ft=Je[ht],mt=ft.data,At=ft.fullData,Rt=ft.pointIndex,It=ft.pointIndices;It?([].push.apply(mt.selectedpoints,It),Ce._fullInput!==Ce&&[].push.apply(At.selectedpoints,It)):(mt.selectedpoints.push(Rt),Ce._fullInput!==Ce&&At.selectedpoints.push(Rt))}}else for(Te=0;Te<Ve.length;Te++)delete(Ce=Ve[Te].cd[0].trace).selectedpoints,delete Ce._input.selectedpoints,Ce._fullInput!==Ce&&delete Ce._fullInput.selectedpoints;!function(Pt,Bt){for(var Ut=!1,Vt=0;Vt<Bt.length;Vt++){var tn=Bt[Vt],Gt=tn.cd;f.traceIs(Gt[0].trace,"regl")&&(Ut=!0);var et=tn._module,nt=et.styleOnSelect||et.style;nt&&(nt(Pt,Gt,Gt[0].node3),Gt[0].nodeRangePlot3&&nt(Pt,Gt,Gt[0].nodeRangePlot3))}Ut&&(L(Pt),N(Pt))}(Be,Ve)}function Ae(Be,Ve,ve){for(var Te=(ve?C.difference:C.union)({regions:Be},{regions:[Ve]}).regions.reverse(),Ce=0;Ce<Te.length;Ce++){var We=Te[Ce];We.subtract=oe(We,Te.slice(0,Ce))}return Te}function pe(Be,Ve){if(Array.isArray(Be))for(var ve=Ve.cd,Te=Ve.cd[0].trace,Ce=0;Ce<Be.length;Ce++)Be[Ce]=c(Be[Ce],Te,ve);return Be}function ye(Be,Ve){for(var ve=[],Te=0;Te<Be.length;Te++){ve[Te]=[];for(var Ce=0;Ce<Be[Te].length;Ce++){ve[Te][Ce]=[],ve[Te][Ce][0]=Ce?"L":"M";for(var We=0;We<Be[Te][Ce].length;We++)ve[Te][Ce].push(Be[Te][Ce][We])}Ve||ve[Te].push(["Z",ve[Te][0][1],ve[Te][0][2]])}return ve}function Ne(Be,Ve){for(var ve,Te,Ce=[],We=[],Ke=0;Ke<Ve.length;Ke++){var Je=Ve[Ke];Te=Je._module.selectPoints(Je,Be),We.push(Te),ve=pe(Te,Je),Ce=Ce.concat(ve)}return Ce}function be(Be,Ve,ve,Te,Ce){var We,Ke,Je,ht=!!Te;Ce&&(We=Ce.plotinfo,Ke=Ce.xaxes[0]._id,Je=Ce.yaxes[0]._id);var ft=[],mt=[],At=De(Be),Rt=Be._fullLayout;if(We){var It=Rt._zoomlayer,Pt=Rt.dragmode,Bt=o(Pt),Ut=s(Pt);if(Bt||Ut){var Vt=P(Be,Ke,"x"),tn=P(Be,Je,"y");if(Vt&&tn){var Gt=It.selectAll(".select-outline-"+We.id);if(Gt&&Be._fullLayout._outlining&&Gt.length){for(var et=Gt[0][0].getAttribute("d"),nt=w(et,Be,We),$e=[],ot=0;ot<nt.length;ot++){for(var dt=nt[ot],Le=[],Ge=0;Ge<dt.length;Ge++)Le.push([de(Vt,dt[Ge][1]),de(tn,dt[Ge][2])]);Le.xref=Ke,Le.yref=Je,Le.subtract=oe(Le,$e),$e.push(Le)}At=At.concat($e)}}}}var st=Ke&&Je?[Ke+Je]:Rt._subplots.cartesian;!function(er){var Zn=er.calcdata;if(Zn)for(var Gn=0;Gn<Zn.length;Gn++){var mr=er._fullLayout._splomScenes;if(mr){var Vr=mr[Zn[Gn][0].trace.uid];Vr&&(Vr.selectBatch=[])}}}(Be);for(var vt={},bt=0;bt<st.length;bt++){var Lt=st[bt],jt=Lt.indexOf("y"),Nt=Lt.slice(0,jt),Tt=Lt.slice(jt),Mt=Ke&&Je?ve:void 0;if(Mt=Oe(At,Nt,Tt,Mt)){var kt=Te;if(!ht){var Ht=P(Be,Nt,"x"),qt=P(Be,Tt,"y");kt=he(Be,[Ht],[qt],Lt);for(var Qt=0;Qt<kt.length;Qt++){var Jt=kt[Qt],Kt=Jt.cd[0],ln=Kt.trace;if("scattergl"===Jt._module.name&&!Kt.t.xpx){var Tn=ln.x,An=ln.y,pn=ln._length;Kt.t.xpx=[],Kt.t.ypx=[];for(var Nn=0;Nn<pn;Nn++)Kt.t.xpx[Nn]=Ht.c2p(Tn[Nn]),Kt.t.ypx[Nn]=qt.c2p(An[Nn])}"splom"===Jt._module.name&&(vt[ln.uid]||(vt[ln.uid]=!0))}}var tr=Ne(Mt,kt);ft=ft.concat(tr),mt=mt.concat(kt)}}var On={points:ft};ke(Be,mt,On);var wn=Rt.clickmode.indexOf("event")>-1&&Ve;if(!We&&Ve){var Cn=De(Be,!0);if(Cn.length){var mn=Cn[0].xref,En=Cn[0].yref;if(mn&&En){var Fn=_e(Cn);Me([P(Be,mn,"x"),P(Be,En,"y")])(On,Fn)}}Be._fullLayout._noEmitSelectedAtStart?Be._fullLayout._noEmitSelectedAtStart=!1:wn&&Pe(Be,On),Rt._reselect=!1}if(!We&&Rt._deselect){var jn=Rt._deselect;(function(er,Zn,Gn){for(var _r=0;_r<Gn.length;_r++){var mr=Gn[_r];if(mr.xaxis&&mr.xaxis._id===er&&mr.yaxis&&mr.yaxis._id===Zn)return!0}return!1})(Ke=jn.xref,Je=jn.yref,mt)||Ee(Be,Ke,Je,Te),wn&&(On.points.length?Pe(Be,On):Ue(Be)),Rt._deselect=!1}return{eventData:On,selectionTesters:ve}}function Ee(Be,Ve,ve,Te){Te=he(Be,[P(Be,Ve,"x")],[P(Be,ve,"y")],Ve+ve);for(var Ce=0;Ce<Te.length;Ce++){var We=Te[Ce];We._module.selectPoints(We,!1)}ke(Be,Te)}function Oe(Be,Ve,ve,Te){for(var Ce,We=0;We<Be.length;We++){var Ke=Be[We];Ve===Ke.xref&&ve===Ke.yref&&(Ce?Te=te(Ce=Ae(Ce,Ke,!!Ke.subtract)):(Ce=[Ke],Te=Z(Ke)))}return Te}function De(Be,Ve){for(var ve=[],Te=Be._fullLayout,Ce=Te.selections,We=Ce.length,Ke=0;Ke<We;Ke++)if(!Ve||Ke===Te._activeSelectionIndex){var Je=Ce[Ke];if(Je){var ht,ft,mt,At,Rt,It=Je.xref,Pt=Je.yref,Bt=P(Be,It,"x"),Ut=P(Be,Pt,"y");if("rect"===Je.type){Rt=[];var Vt=de(Bt,Je.x0),tn=de(Bt,Je.x1),Gt=de(Ut,Je.y0),et=de(Ut,Je.y1);Rt=[[Vt,Gt],[Vt,et],[tn,et],[tn,Gt]],ht=Math.min(Vt,tn),ft=Math.max(Vt,tn),mt=Math.min(Gt,et),At=Math.max(Gt,et),Rt.xmin=ht,Rt.xmax=ft,Rt.ymin=mt,Rt.ymax=At,Rt.xref=It,Rt.yref=Pt,Rt.subtract=!1,Rt.isRect=!0,ve.push(Rt)}else if("path"===Je.type)for(var nt=Je.path.split("Z"),$e=[],ot=0;ot<nt.length;ot++){var dt=nt[ot];if(dt){var Le=d.extractPathCoords(dt+="Z",g.paramIsX,"raw"),Ge=d.extractPathCoords(dt,g.paramIsY,"raw");ht=1/0,ft=-1/0,mt=1/0,At=-1/0,Rt=[];for(var st=0;st<Le.length;st++){var vt=de(Bt,Le[st]),bt=de(Ut,Ge[st]);Rt.push([vt,bt]),ht=Math.min(vt,ht),ft=Math.max(vt,ft),mt=Math.min(bt,mt),At=Math.max(bt,At)}Rt.xmin=ht,Rt.xmax=ft,Rt.ymin=mt,Rt.ymax=At,Rt.xref=It,Rt.yref=Pt,Rt.subtract=oe(Rt,$e),$e.push(Rt),ve.push(Rt)}}}}return ve}function oe(Be,Ve){for(var ve=!1,Te=0;Te<Ve.length;Te++)for(var Ce=Ve[Te],We=0;We<Be.length;We++)if(E(Be[We],Ce)){ve=!ve;break}return ve}function de(Be,Ve){return"date"===Be.type&&(Ve=Ve.replace("_"," ")),"log"===Be.type?Be.c2p(Ve):Be.r2p(Ve,null,Be.calendar)}function _e(Be){for(var Ve=Be.length,ve=[],Te=0;Te<Ve;Te++){var Ce=Be[Te];ve=(ve=ve.concat(Ce)).concat([Ce[0]])}return(We=ve).isRect=5===We.length&&We[0][0]===We[4][0]&&We[0][1]===We[4][1]&&We[0][0]===We[1][0]&&We[2][0]===We[3][0]&&We[0][1]===We[3][1]&&We[1][1]===We[2][1]||We[0][1]===We[1][1]&&We[2][1]===We[3][1]&&We[0][0]===We[3][0]&&We[1][0]===We[2][0],We.isRect&&(We.xmin=Math.min(We[0][0],We[2][0]),We.xmax=Math.max(We[0][0],We[2][0]),We.ymin=Math.min(We[0][1],We[2][1]),We.ymax=Math.max(We[0][1],We[2][1])),We;var We}function Me(Be){return function(Ve,ve){for(var Te,Ce,We=0;We<Be.length;We++){var Ke=Be[We],Je=Ke._id,ht=Je.charAt(0);if(ve.isRect){Te||(Te={});var ft=ve[ht+"min"],mt=ve[ht+"max"];void 0!==ft&&void 0!==mt&&(Te[Je]=[q(Ke,ft),q(Ke,mt)].sort(O))}else Ce||(Ce={}),Ce[Je]=ve.map(G(Ke))}Te&&(Ve.range=Te),Ce&&(Ve.lassoPoints=Ce)}}function Pe(Be,Ve){Ve&&(Ve.selections=(Be.layout||{}).selections||[]),Be.emit("plotly_selected",Ve)}function Ue(Be){Be.emit("plotly_deselect",null)}ie.exports={reselect:be,prepSelect:function(Be,Ve,ve,Te,Ce){var We=!ne(Te),Ke=u(Ce),Je=a(Ce),ht=l(Ce),ft=o(Ce),mt=s(Ce),At="drawcircle"===Ce,Rt="drawline"===Ce||At,It=Te.gd,Pt=It._fullLayout,Bt=mt&&"immediate"===Pt.newselection.mode&&We,Ut=Pt._zoomlayer,Vt=Te.element.getBoundingClientRect(),tn=Te.plotinfo,Gt=H(tn),et=Ve-Vt.left,nt=ve-Vt.top;Pt._calcInverseTransform(It);var ot,dt,Le,Ge,st,vt,bt,$e=h.apply3DTransform(Pt._invTransform)(et,nt),Lt=Pt._invScaleX,jt=Pt._invScaleY,Nt=et=$e[0],Tt=nt=$e[1],Mt="M"+et+","+nt,kt=Te.xaxes[0],Ht=Te.yaxes[0],qt=kt._length,Qt=Ht._length,Jt=Be.altKey&&!(o(Ce)&&ht);re(Be,It,Te),Ke&&(ot=j([[et,nt]],B.BENDPX));var Kt=Ut.selectAll("path.select-outline-"+tn.id).data([1]),ln=ft?Pt.newshape:Pt.newselection,Tn=ft&&!ht?ln.fillcolor:"rgba(0,0,0,0)",An=ln.line.color||(We?M.contrast(It._fullLayout.plot_bgcolor):"#7f7f7f");Kt.enter().append("path").attr("class","select-outline select-outline-"+tn.id).style({opacity:ft?ln.opacity/2:1,"stroke-dasharray":S(ln.line.dash,ln.line.width),"stroke-width":ln.line.width+"px","shape-rendering":"crispEdges"}).call(M.stroke,An).call(M.fill,Tn).attr("fill-rule","evenodd").classed("cursor-move",!!ft).attr("transform",Gt).attr("d",Mt+"Z");var pn=Ut.append("path").attr("class","zoombox-corners").style({fill:M.background,stroke:M.defaultLine,"stroke-width":1}).attr("transform",Gt).attr("d","M0,0Z"),Nn=Pt._uid+B.SELECTID,tr=[],On=he(It,Te.xaxes,Te.yaxes,Te.subplot);Bt&&!Be.shiftKey&&(Te._clearSubplotSelections=function(){if(We){var Cn=kt._id,mn=Ht._id;Ee(It,Cn,mn,On);for(var En=(It.layout||{}).selections||[],Fn=[],jn=!1,er=0;er<En.length;er++){var Zn=Pt.selections[er];Zn.xref!==Cn||Zn.yref!==mn?Fn.push(En[er]):jn=!0}jn&&(It._fullLayout._noEmitSelectedAtStart=!0,f.call("_guiRelayout",It,{selections:Fn}))}});var Cn,wn=(Cn=Te).plotinfo.fillRangeItems||Me(Cn.xaxes.concat(Cn.yaxes));Te.moveFn=function(Cn,mn){Te._clearSubplotSelections&&(Te._clearSubplotSelections(),Te._clearSubplotSelections=void 0),Nt=Math.max(0,Math.min(qt,Lt*Cn+et)),Tt=Math.max(0,Math.min(Qt,jt*mn+nt));var En=Math.abs(Nt-et),Fn=Math.abs(Tt-nt);if(Je){var jn,er,Zn;if(mt){var Gn=Pt.selectdirection;switch(jn="any"===Gn?Fn<Math.min(.6*En,W)?"h":En<Math.min(.6*Fn,W)?"v":"d":Gn){case"h":er=At?Qt/2:0,Zn=Qt;break;case"v":er=At?qt/2:0,Zn=qt}}if(ft)switch(Pt.newshape.drawdirection){case"vertical":jn="h",er=At?Qt/2:0,Zn=Qt;break;case"horizontal":jn="v",er=At?qt/2:0,Zn=qt;break;case"ortho":En<Fn?(jn="h",er=nt,Zn=Tt):(jn="v",er=et,Zn=Nt);break;default:jn="d"}"h"===jn?((Ge=Rt?y(At,[Nt,er],[Nt,Zn]):[[et,er],[et,Zn],[Nt,Zn],[Nt,er]]).xmin=Rt?Nt:Math.min(et,Nt),Ge.xmax=Rt?Nt:Math.max(et,Nt),Ge.ymin=Math.min(er,Zn),Ge.ymax=Math.max(er,Zn),pn.attr("d","M"+Ge.xmin+","+(nt-W)+"h-4v"+2*W+"h4ZM"+(Ge.xmax-1)+","+(nt-W)+"h4v"+2*W+"h-4Z")):"v"===jn?((Ge=Rt?y(At,[er,Tt],[Zn,Tt]):[[er,nt],[er,Tt],[Zn,Tt],[Zn,nt]]).xmin=Math.min(er,Zn),Ge.xmax=Math.max(er,Zn),Ge.ymin=Rt?Tt:Math.min(nt,Tt),Ge.ymax=Rt?Tt:Math.max(nt,Tt),pn.attr("d","M"+(et-W)+","+Ge.ymin+"v-4h"+2*W+"v4ZM"+(et-W)+","+(Ge.ymax-1)+"v4h"+2*W+"v-4Z")):"d"===jn&&((Ge=Rt?y(At,[et,nt],[Nt,Tt]):[[et,nt],[et,Tt],[Nt,Tt],[Nt,nt]]).xmin=Math.min(et,Nt),Ge.xmax=Math.max(et,Nt),Ge.ymin=Math.min(nt,Tt),Ge.ymax=Math.max(nt,Tt),pn.attr("d","M0,0Z"))}else Ke&&(ot.addPt([Nt,Tt]),Ge=ot.filtered);if(Te.selectionDefs&&Te.selectionDefs.length?(Le=Ae(Te.mergedPolygons,Ge,Jt),Ge.subtract=Jt,dt=te(Te.selectionDefs.concat([Ge]))):(Le=[Ge],dt=Z(Ge)),p(ye(Le,ht),Kt,Te),mt){var _r,mr=be(It,!1),Vr=mr.eventData?mr.eventData.points.slice():[];mr=be(It,!1,dt,On,Te),dt=mr.selectionTesters,bt=mr.eventData,_r=ot?ot.filtered:_e(Le),I.throttle(Nn,B.SELECTDELAY,function(){for(var Dr=(tr=Ne(dt,On)).slice(),Un=0;Un<Vr.length;Un++){for(var ur=Vr[Un],cr=!1,on=0;on<Dr.length;on++)if(Dr[on].curveNumber===ur.curveNumber&&Dr[on].pointNumber===ur.pointNumber){cr=!0;break}cr||Dr.push(ur)}Dr.length&&(bt||(bt={}),bt.points=Dr),wn(bt,_r),It.emit("plotly_selecting",bt)})}},Te.clickFn=function(Cn,mn){if(pn.remove(),It._fullLayout._activeShapeIndex>=0)It._fullLayout._deactivateShape(It);else if(!ft){var En=Pt.clickmode;I.done(Nn).then(function(){if(I.clear(Nn),2===Cn){for(Kt.remove(),st=0;st<On.length;st++)(vt=On[st])._module.selectPoints(vt,!1);if(ke(It,On),le(Te),Ue(It),On.length){var Fn=On[0].xaxis,jn=On[0].yaxis;if(Fn&&jn){for(var er=[],Zn=It._fullLayout.selections,Gn=0;Gn<Zn.length;Gn++){var _r=Zn[Gn];_r&&(_r.xref===Fn._id&&_r.yref===jn._id||er.push(_r))}er.length<Zn.length&&(It._fullLayout._noEmitSelectedAtStart=!0,f.call("_guiRelayout",It,{selections:er}))}}}else En.indexOf("select")>-1&&X(mn,It,Te.xaxes,Te.yaxes,Te.subplot,Te,Kt),"event"===En&&Pe(It,void 0);v.click(It,mn)}).catch(h.error)}},Te.doneFn=function(){pn.remove(),I.done(Nn).then(function(){I.clear(Nn),!Bt&&Ge&&Te.selectionDefs&&(Ge.subtract=Jt,Te.selectionDefs.push(Ge),Te.mergedPolygons.length=0,[].push.apply(Te.mergedPolygons,Le)),(Bt||ft)&&le(Te,Bt),Te.doneFnCompleted&&Te.doneFnCompleted(tr),mt&&Pe(It,bt)}).catch(h.error)}},clearOutline:T,clearSelectionsCache:le,selectOnClick:X}},89827:function(ie,z,r){"use strict";var C=r(50215),E=r(82196).line,f=r(79952).P,S=r(1426).extendFlat,M=r(44467).templatedArray;r(24695),ie.exports=M("shape",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:S({},C.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:S({},C.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:S({},E.color,{editType:"arraydraw"}),width:S({},E.width,{editType:"calc+arraydraw"}),dash:S({},f,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},editType:"arraydraw"})},5627:function(ie,z,r){"use strict";var C=r(71828),E=r(89298),f=r(21459),S=r(30477);function M(u){return c(u.line.width,u.xsizemode,u.x0,u.x1,u.path,!1)}function v(u){return c(u.line.width,u.ysizemode,u.y0,u.y1,u.path,!0)}function c(u,a,o,l,s,d){var g=u/2,p=d;if("pixel"===a){var T=s?S.extractPathCoords(s,d?f.paramIsY:f.paramIsX):[o,l],_=C.aggNums(Math.max,null,T),y=C.aggNums(Math.min,null,T),w=y<0?Math.abs(y)+g:g,m=_>0?_+g:g;return{ppad:g,ppadplus:p?w:m,ppadminus:p?m:w}}return{ppad:g}}function i(u,a,o,l,s){var d="category"===u.type||"multicategory"===u.type?u.r2c:u.d2c;if(void 0!==a)return[d(a),d(o)];if(l){var g,p,T,_,y=1/0,w=-1/0,m=l.match(f.segmentRE);for("date"===u.type&&(d=S.decodeDate(d)),g=0;g<m.length;g++)void 0!==(p=s[m[g].charAt(0)].drawn)&&(!(T=m[g].substr(1).match(f.paramRE))||T.length<p||((_=d(T[p]))<y&&(y=_),_>w&&(w=_)));return w>=y?[y,w]:void 0}}ie.exports=function(u){var o=C.filterVisible(u._fullLayout.shapes);if(o.length&&u._fullData.length)for(var l=0;l<o.length;l++){var s,d,g=o[l];g._extremes={};var p=E.getRefType(g.xref),T=E.getRefType(g.yref);if("paper"!==g.xref&&"domain"!==p){var _="pixel"===g.xsizemode?g.xanchor:g.x0,y="pixel"===g.xsizemode?g.xanchor:g.x1;(d=i(s=E.getFromId(u,g.xref),_,y,g.path,f.paramIsX))&&(g._extremes[s._id]=E.findExtremes(s,d,M(g)))}if("paper"!==g.yref&&"domain"!==T){var w="pixel"===g.ysizemode?g.yanchor:g.y0,m="pixel"===g.ysizemode?g.yanchor:g.y1;(d=i(s=E.getFromId(u,g.yref),w,m,g.path,f.paramIsY))&&(g._extremes[s._id]=E.findExtremes(s,d,v(g)))}}}},21459:function(ie){"use strict";ie.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},84726:function(ie,z,r){"use strict";var C=r(71828),E=r(89298),f=r(85501),S=r(89827),M=r(30477);function v(c,i,u){function a(N,B){return C.coerce(c,i,S,N,B)}if(a("visible")){var o=a("path"),l="path"!==a("type",o?"path":"rect");l&&delete i.path,a("editable"),a("layer"),a("opacity"),a("fillcolor"),a("fillrule"),a("line.width")&&(a("line.color"),a("line.dash"));for(var s=a("xsizemode"),d=a("ysizemode"),g=["x","y"],p=0;p<2;p++){var T,_,y,w=g[p],m=w+"anchor",b="x"===w?s:d,k={_fullLayout:u},h=E.coerceRef(c,i,k,w,void 0,"paper");if("range"===E.getRefType(h)?((T=E.getFromId(k,h))._shapeIndices.push(i._index),y=M.rangeToShapePosition(T),_=M.shapePositionToRange(T)):_=y=C.identity,l){var O=w+"0",A=w+"1",I=c[O],P=c[A];c[O]=_(c[O],!0),c[A]=_(c[A],!0),"pixel"===b?(a(O,0),a(A,10)):(E.coercePosition(i,k,a,h,O,.25),E.coercePosition(i,k,a,h,A,.75)),i[O]=y(i[O]),i[A]=y(i[A]),c[O]=I,c[A]=P}if("pixel"===b){var L=c[m];c[m]=_(c[m],!0),E.coercePosition(i,k,a,h,m,.25),i[m]=y(i[m]),c[m]=L}}l&&C.noneOrAll(c,i,["x0","x1","y0","y1"])}}ie.exports=function(c,i){f(c,i,{name:"shapes",handleItemDefaults:v})}},42359:function(ie,z,r){"use strict";var C=r(71828).strTranslate,E=r(28569),f=r(64505),S=f.drawMode,M=f.selectMode,v=r(73972),c=r(7901),i=r(89995),u=i.i000,a=i.i090,o=i.i180,l=i.i270,s=r(51873).clearOutlineControllers,d=r(60165),g=d.pointsOnRectangle,p=d.pointsOnEllipse,T=d.writePaths,_=r(90551),y=r(35855);function w(m,b){var k,h,O,P=m.length;return h=m[k=(b+1)%P][1],O=m[k][2],h===m[b][1]&&O===m[b][2]&&(h=m[k=(b+2)%P][1],O=m[k][2]),[k,h,O]}ie.exports=function m(b,k,h,O){O||(O=0);var A=h.gd;function I(){m(b,k,h,O++),p(b[0])&&P({redrawing:!0})}function P(ue){var he={};void 0!==h.isActiveShape&&(h.isActiveShape=!1,he=_(k,h)),void 0!==h.isActiveSelection&&(h.isActiveSelection=!1,he=y(k,h),A._fullLayout._reselect=!0),Object.keys(he).length&&v.call((ue||{}).redrawing?"relayout":"_guiRelayout",A,he)}var L,N,B,W,j,Z=A._fullLayout._zoomlayer,V=h.dragmode,q=S(V),G=M(V);function H(ue){B=+ue.srcElement.getAttribute("data-i"),W=+ue.srcElement.getAttribute("data-j"),L[B][W].moveFn=ne}function ne(ue,he){if(b.length){var ge=j[B][W][1],xe=j[B][W][2],ke=b[B],Ae=ke.length;if(g(ke)){var pe=ue,ye=he;h.isActiveSelection&&(w(ke,W)[1]===ke[W][1]?ye=0:pe=0);for(var Ne=0;Ne<Ae;Ne++)if(Ne!==W){var be=ke[Ne];be[1]===ke[W][1]&&(be[1]=ge+pe),be[2]===ke[W][2]&&(be[2]=xe+ye)}if(ke[W][1]=ge+pe,ke[W][2]=xe+ye,!g(ke))for(var Ee=0;Ee<Ae;Ee++)for(var Oe=0;Oe<ke[Ee].length;Oe++)ke[Ee][Oe]=j[B][Ee][Oe]}else ke[W][1]=ge+ue,ke[W][2]=xe+he;I()}}function X(){P()}function $(ue,he){if(2===ue){B=+he.srcElement.getAttribute("data-i"),W=+he.srcElement.getAttribute("data-j");var ge=b[B];g(ge)||p(ge)||function(){if(b.length&&b[B]&&b[B].length){for(var xe=[],ke=0;ke<b[B].length;ke++)ke!==W&&xe.push(b[B][ke]);xe.length>1&&(2!==xe.length||"Z"!==xe[1][0])&&(0===W&&(xe[0][0]="M"),b[B]=xe,I(),P())}}()}}function Q(ue,he){(function(ge,xe){if(b.length)for(var ke=0;ke<b.length;ke++)for(var Ae=0;Ae<b[ke].length;Ae++)for(var pe=0;pe+2<b[ke][Ae].length;pe+=2)b[ke][Ae][pe+1]=j[ke][Ae][pe+1]+ge,b[ke][Ae][pe+2]=j[ke][Ae][pe+2]+xe})(ue,he),I()}(q||G)&&(A._fullLayout._outlining=!0),s(A),k.attr("d",T(b)),O||!h.isActiveShape&&!h.isActiveSelection||(j=function(ue,he){for(var ge=0;ge<he.length;ge++){var xe=he[ge];ue[ge]=[];for(var ke=0;ke<xe.length;ke++){ue[ge][ke]=[];for(var Ae=0;Ae<xe[ke].length;Ae++)ue[ge][ke][Ae]=xe[ke][Ae]}}return ue}([],b),function(ue){L=[];for(var he=0;he<b.length;he++){var ge=b[he],xe=g(ge),ke=!xe&&p(ge);L[he]=[];for(var Ae=ge.length,pe=0;pe<Ae;pe++)if("Z"!==ge[pe][0]&&(!ke||pe===u||pe===a||pe===o||pe===l)){var ye,Ne=xe&&h.isActiveSelection;Ne&&(ye=w(ge,pe));var be=ge[pe][1],Ee=ge[pe][2],Oe=ue.append(Ne?"rect":"circle").attr("data-i",he).attr("data-j",pe).style({fill:c.background,stroke:c.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(Ne){var De=ye[1]-be,oe=ye[2]-Ee,de=oe?5:Math.max(Math.min(25,Math.abs(De)-5),5),_e=De?5:Math.max(Math.min(25,Math.abs(oe)-5),5);Oe.classed(oe?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",de).attr("height",_e).attr("x",be-de/2).attr("y",Ee-_e/2).attr("transform",C(De/2,oe/2))}else Oe.classed("cursor-grab",!0).attr("r",5).attr("cx",be).attr("cy",Ee);L[he][pe]={element:Oe.node(),gd:A,prepFn:H,doneFn:X,clickFn:$},E.init(L[he][pe])}}}(Z.append("g").attr("class","outline-controllers")),N=[],b.length&&(N[0]={element:k[0][0],gd:A,prepFn:function te(ue){(B=+ue.srcElement.getAttribute("data-i"))||(B=0),N[B].moveFn=Q},doneFn:function re(){P()},clickFn:function le(ue){2===ue&&function(he){if(M(he._fullLayout.dragmode)){s(he);var ge=he._fullLayout._activeSelectionIndex,xe=(he.layout||{}).selections||[];if(ge<xe.length){for(var ke=[],Ae=0;Ae<xe.length;Ae++)Ae!==ge&&ke.push(xe[Ae]);delete he._fullLayout._activeSelectionIndex;var pe=he._fullLayout.selections[ge];he._fullLayout._deselect={xref:pe.xref,yref:pe.yref},v.call("_guiRelayout",he,{selections:ke})}}}(A)}},E.init(N[0])))}},34031:function(ie,z,r){"use strict";var C=r(73972),E=r(71828),f=r(89298),S=r(60165).readPaths,M=r(42359),v=r(51873).clearOutlineControllers,c=r(7901),i=r(91424),u=r(44467).arrayEditor,a=r(28569),o=r(6964),l=r(21459),s=r(30477),d=s.getPathString;function g(b){var k=b._fullLayout;for(var h in k._shapeUpperLayer.selectAll("path").remove(),k._shapeLowerLayer.selectAll("path").remove(),k._plots){var O=k._plots[h].shapelayer;O&&O.selectAll("path").remove()}for(var A=0;A<k.shapes.length;A++)k.shapes[A].visible&&_(b,A)}function p(b){return!!b._fullLayout._outlining}function T(b){return!b._context.edits.shapePosition}function _(b,k){b._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+k+'"]').remove();var h=s.makeShapesOptionsAndPlotinfo(b,k),O=h.options,A=h.plotinfo;O._input&&!1!==O.visible&&function I(P){var L=d(b,O),N={"data-index":k,"fill-rule":O.fillrule,d:L},B=O.opacity,W=O.fillcolor,j=O.line.width?O.line.color:"rgba(0,0,0,0)",Z=O.line.width,V=O.line.dash;Z||!0!==O.editable||(Z=5,V="solid");var q="Z"!==L[L.length-1],G=T(b)&&O.editable&&b._fullLayout._activeShapeIndex===k;G&&(W=q?"rgba(0,0,0,0)":b._fullLayout.activeshape.fillcolor,B=b._fullLayout.activeshape.opacity);var H,ne=P.append("path").attr(N).style("opacity",B).call(c.stroke,j).call(c.fill,W).call(i.dashLine,V,Z);if(y(ne,b,O),(G||b._context.edits.shapePosition)&&(H=u(b.layout,"shapes",O)),G){ne.style({cursor:"move"});var X={element:ne.node(),plotinfo:A,gd:b,editHelpers:H,isActiveShape:!0},$=S(L,b);M($,ne,X)}else b._context.edits.shapePosition?function(Q,te,re,le,ue,he){var ge,xe,ke,Ae,pe,ye,Ne,be,Ee,Oe,De,oe,de,_e,Me,Pe,Ue="pixel"===re.xsizemode,Be="pixel"===re.ysizemode,Ve="line"===re.type,ve="path"===re.type,Te=he.modifyItem,Ce=f.getFromId(Q,re.xref),We=f.getRefType(re.xref),Ke=f.getFromId(Q,re.yref),Je=f.getRefType(re.yref),ht=s.getDataToPixel(Q,Ce,!1,We),ft=s.getDataToPixel(Q,Ke,!0,Je),mt=s.getPixelToData(Q,Ce,!1,We),At=s.getPixelToData(Q,Ke,!0,Je),Rt=Ve?function(){var et=Math.max(re.line.width,10),nt=ue.append("g").attr("data-index",le);nt.append("path").attr("d",te.attr("d")).style({cursor:"move","stroke-width":et,"stroke-opacity":"0"});var $e={"fill-opacity":"0"},ot=Math.max(et/2,10);return nt.append("circle").attr({"data-line-point":"start-point",cx:Ue?ht(re.xanchor)+re.x0:ht(re.x0),cy:Be?ft(re.yanchor)-re.y0:ft(re.y0),r:ot}).style($e).classed("cursor-grab",!0),nt.append("circle").attr({"data-line-point":"end-point",cx:Ue?ht(re.xanchor)+re.x1:ht(re.x1),cy:Be?ft(re.yanchor)-re.y1:ft(re.y1),r:ot}).style($e).classed("cursor-grab",!0),nt}():te,It={element:Rt.node(),gd:Q,prepFn:function(Gt){var et,nt,$e,ot,dt,Le,Ge,st;p(Q)||(Ue&&(pe=ht(re.xanchor)),Be&&(ye=ft(re.yanchor)),"path"===re.type?Me=re.path:(ge=Ue?re.x0:ht(re.x0),xe=Be?re.y0:ft(re.y0),ke=Ue?re.x1:ht(re.x1),Ae=Be?re.y1:ft(re.y1)),ge<ke?(Ee=ge,de="x0",Oe=ke,_e="x1"):(Ee=ke,de="x1",Oe=ge,_e="x0"),!Be&&xe<Ae||Be&&xe>Ae?(Ne=xe,De="y0",be=Ae,oe="y1"):(Ne=Ae,De="y1",be=xe,oe="y0"),Pt(Gt),Vt(ue,re),et=te,dt=(nt=re).yref,Le=f.getFromId($e=Q,ot=nt.xref),Ge=f.getFromId($e,dt),st="","paper"===ot||Le.autorange||(st+=ot),"paper"===dt||Ge.autorange||(st+=dt),i.setClipUrl(et,st?"clip"+$e._fullLayout._uid+st:null,$e),It.moveFn="move"===Pe?Bt:Ut,It.altKey=Gt.altKey)},doneFn:function(){p(Q)||(o(te),tn(ue),y(te,Q,re),C.call("_guiRelayout",Q,he.getUpdateObj()))},clickFn:function(){p(Q)||tn(ue)}};function Pt(Gt){if(p(Q))Pe=null;else if(Ve)Pe="path"===Gt.target.tagName?"move":"start-point"===Gt.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var et=It.element.getBoundingClientRect(),nt=et.right-et.left,$e=et.bottom-et.top,Le=!ve&&nt>10&&$e>10&&!Gt.shiftKey?a.getCursor((Gt.clientX-et.left)/nt,1-(Gt.clientY-et.top)/$e):"move";o(te,Le),Pe=Le.split("-")[0]}}function Bt(Gt,et){if("path"===re.type){var nt=function(dt){return dt},$e=nt,ot=nt;Ue?Te("xanchor",re.xanchor=mt(pe+Gt)):($e=function(dt){return mt(ht(dt)+Gt)},Ce&&"date"===Ce.type&&($e=s.encodeDate($e))),Be?Te("yanchor",re.yanchor=At(ye+et)):(ot=function(dt){return At(ft(dt)+et)},Ke&&"date"===Ke.type&&(ot=s.encodeDate(ot))),Te("path",re.path=w(Me,$e,ot))}else Ue?Te("xanchor",re.xanchor=mt(pe+Gt)):(Te("x0",re.x0=mt(ge+Gt)),Te("x1",re.x1=mt(ke+Gt))),Be?Te("yanchor",re.yanchor=At(ye+et)):(Te("y0",re.y0=At(xe+et)),Te("y1",re.y1=At(Ae+et)));te.attr("d",d(Q,re)),Vt(ue,re)}function Ut(Gt,et){if(ve){var nt=function(qt){return qt},$e=nt,ot=nt;Ue?Te("xanchor",re.xanchor=mt(pe+Gt)):($e=function(qt){return mt(ht(qt)+Gt)},Ce&&"date"===Ce.type&&($e=s.encodeDate($e))),Be?Te("yanchor",re.yanchor=At(ye+et)):(ot=function(qt){return At(ft(qt)+et)},Ke&&"date"===Ke.type&&(ot=s.encodeDate(ot))),Te("path",re.path=w(Me,$e,ot))}else if(Ve){if("resize-over-start-point"===Pe){var dt=ge+Gt,Le=Be?xe-et:xe+et;Te("x0",re.x0=Ue?dt:mt(dt)),Te("y0",re.y0=Be?Le:At(Le))}else if("resize-over-end-point"===Pe){var Ge=ke+Gt,st=Be?Ae-et:Ae+et;Te("x1",re.x1=Ue?Ge:mt(Ge)),Te("y1",re.y1=Be?st:At(st))}}else{var vt=function(qt){return-1!==Pe.indexOf(qt)},bt=vt("n"),Lt=vt("s"),jt=vt("w"),Nt=vt("e"),Tt=bt?Ne+et:Ne,Mt=Lt?be+et:be,kt=jt?Ee+Gt:Ee,Ht=Nt?Oe+Gt:Oe;Be&&(bt&&(Tt=Ne-et),Lt&&(Mt=be-et)),(!Be&&Mt-Tt>10||Be&&Tt-Mt>10)&&(Te(De,re[De]=Be?Tt:At(Tt)),Te(oe,re[oe]=Be?Mt:At(Mt))),Ht-kt>10&&(Te(de,re[de]=Ue?kt:mt(kt)),Te(_e,re[_e]=Ue?Ht:mt(Ht)))}te.attr("d",d(Q,re)),Vt(ue,re)}function Vt(Gt,et){(Ue||Be)&&function(){var nt="path"!==et.type,$e=Gt.selectAll(".visual-cue").data([0]);$e.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var ot=ht(Ue?et.xanchor:E.midRange(nt?[et.x0,et.x1]:s.extractPathCoords(et.path,l.paramIsX))),dt=ft(Be?et.yanchor:E.midRange(nt?[et.y0,et.y1]:s.extractPathCoords(et.path,l.paramIsY)));ot=s.roundPositionForSharpStrokeRendering(ot,1),dt=s.roundPositionForSharpStrokeRendering(dt,1),$e.attr("d",Ue&&Be?"M"+(ot-1-1)+","+(dt-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z":Ue?"M"+(ot-1-1)+","+(dt-9-1)+"v18 h2 v-18 Z":"M"+(ot-9-1)+","+(dt-1-1)+"h18 v2 h-18 Z")}()}function tn(Gt){Gt.selectAll(".visual-cue").remove()}a.init(It),Rt.node().onmousemove=Pt}(b,ne,O,k,P,H):!0===O.editable&&ne.style("pointer-events",q||c.opacity(W)*B<=.5?"stroke":"all");ne.node().addEventListener("click",function(){return function(Q,te){if(T(Q)){var re=+te.node().getAttribute("data-index");if(re>=0){if(re===Q._fullLayout._activeShapeIndex)return void m(Q);Q._fullLayout._activeShapeIndex=re,Q._fullLayout._deactivateShape=m,g(Q)}}}(b,ne)})}("below"!==O.layer?b._fullLayout._shapeUpperLayer:"paper"===O.xref||"paper"===O.yref?b._fullLayout._shapeLowerLayer:A._hadPlotinfo?(A.mainplotinfo||A).shapelayer:b._fullLayout._shapeLowerLayer)}function y(b,k,h){var O=(h.xref+h.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");i.setClipUrl(b,O?"clip"+k._fullLayout._uid+O:null,k)}function w(b,k,h){return b.replace(l.segmentRE,function(O){var A=0,I=O.charAt(0),P=l.paramIsX[I],L=l.paramIsY[I],N=l.numParams[I];return I+O.substr(1).replace(l.paramRE,function(B){return A>=N||(P[A]?B=k(B):L[A]&&(B=h(B)),A++),B})})}function m(b){T(b)&&b._fullLayout._activeShapeIndex>=0&&(v(b),delete b._fullLayout._activeShapeIndex,g(b))}ie.exports={draw:g,drawOne:_,eraseActiveShape:function(b){if(T(b)){v(b);var k=b._fullLayout._activeShapeIndex,h=(b.layout||{}).shapes||[];if(k<h.length){for(var O=[],A=0;A<h.length;A++)A!==k&&O.push(h[A]);delete b._fullLayout._activeShapeIndex,C.call("_guiRelayout",b,{shapes:O})}}}}},29241:function(ie,z,r){"use strict";var C=r(79952).P,E=r(1426).extendFlat;ie.exports={newshape:{line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:0,dflt:4,editType:"none"},dash:E({},C,{dflt:"solid",editType:"none"}),editType:"none"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"none"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"none"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal",editType:"none"},editType:"none"},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},89995:function(ie){"use strict";ie.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},45547:function(ie,z,r){"use strict";var C=r(7901);ie.exports=function(E,f,S){S("newshape.drawdirection"),S("newshape.layer"),S("newshape.fillcolor"),S("newshape.fillrule"),S("newshape.opacity"),S("newshape.line.width")&&(S("newshape.line.color",C.contrast((E||{}).plot_bgcolor||"#FFF")),S("newshape.line.dash")),S("activeshape.fillcolor"),S("activeshape.opacity")}},60165:function(ie,z,r){"use strict";var C=r(95616),E=r(89995),f=E.CIRCLE_SIDES,S=E.SQRT2,M=r(75549),v=M.p2r,c=M.r2p,i=[0,3,4,5,6,1,2],u=[0,3,4,1,2];function a(l,s){return Math.abs(l-s)<=1e-6}function o(l,s){var d=s[1]-l[1],g=s[2]-l[2];return Math.sqrt(d*d+g*g)}z.writePaths=function(l){var s=l.length;if(!s)return"M0,0Z";for(var d="",g=0;g<s;g++)for(var p=l[g].length,T=0;T<p;T++){var _=l[g][T][0];if("Z"===_)d+="Z";else for(var y=l[g][T].length,w=0;w<y;w++){var m=w;"Q"===_||"S"===_?m=u[w]:"C"===_&&(m=i[w]),d+=l[g][T][m],w>0&&w<y-1&&(d+=",")}}return d},z.readPaths=function(l,s,d,g){var p,T,_,y=C(l),w=[],m=-1,b=0,k=0,h=function(){T=b,_=k};h();for(var O=0;O<y.length;O++){var N=[],B=y[O][0],W=B;switch(B){case"M":w[++m]=[],N.push([W,b=+y[O][1],k=+y[O][2]]),h();break;case"Q":case"S":N.push([W,b=+y[O][3],k=+y[O][4],+y[O][1],+y[O][2]]);break;case"C":N.push([W,b=+y[O][5],k=+y[O][6],+y[O][1],+y[O][2],+y[O][3],+y[O][4]]);break;case"T":case"L":N.push([W,b=+y[O][1],k=+y[O][2]]);break;case"H":N.push([W="L",b=+y[O][1],k]);break;case"V":N.push([W="L",b,k=+y[O][1]]);break;case"A":W="L";var j=+y[O][1],Z=+y[O][2];+y[O][4]||(j=-j,Z=-Z);var V=b-j,q=k;for(p=1;p<=f/2;p++){var G=2*Math.PI*p/f;N.push([W,V+j*Math.cos(G),q+Z*Math.sin(G)])}break;case"Z":b===T&&k===_||N.push([W,b=T,k=_])}for(var H=(d||{}).domain,ne=s._fullLayout._size,X=d&&"pixel"===d.xsizemode,$=d&&"pixel"===d.ysizemode,Q=!1===g,te=0;te<N.length;te++){for(p=0;p+2<7;p+=2){var re=N[te][p+1],le=N[te][p+2];void 0!==re&&void 0!==le&&(b=re,k=le,d&&(d.xaxis&&d.xaxis.p2r?(Q&&(re-=d.xaxis._offset),re=X?c(d.xaxis,d.xanchor)+re:v(d.xaxis,re)):(Q&&(re-=ne.l),H?re=H.x[0]+re/ne.w:re/=ne.w),d.yaxis&&d.yaxis.p2r?(Q&&(le-=d.yaxis._offset),le=$?c(d.yaxis,d.yanchor)-le:v(d.yaxis,le)):(Q&&(le-=ne.t),le=H?H.y[1]-le/ne.h:1-le/ne.h)),N[te][p+1]=re,N[te][p+2]=le)}w[m].push(N[te].slice())}}return w},z.pointsOnRectangle=function(l){if(5!==l.length)return!1;for(var s=1;s<3;s++)if(!a(l[0][s]-l[1][s],l[3][s]-l[2][s])||!a(l[0][s]-l[3][s],l[1][s]-l[2][s]))return!1;return!(!a(l[0][1],l[1][1])&&!a(l[0][1],l[3][1])||!(o(l[0],l[1])*o(l[0],l[3])))},z.pointsOnEllipse=function(l){var s=l.length;if(s!==f+1)return!1;s=f;for(var d=0;d<s;d++){var g=(2*s-d)%s,p=(s/2+g)%s;if(!a(o(l[d],l[(s/2+d)%s]),o(l[g],l[p])))return!1}return!0},z.handleEllipse=function(l,s,d){if(!l)return[s,d];var g=z.ellipseOver({x0:s[0],y0:s[1],x1:d[0],y1:d[1]}),p=(g.x1+g.x0)/2,T=(g.y1+g.y0)/2,_=(g.x1-g.x0)/2,y=(g.y1-g.y0)/2;_||(_=y/=S),y||(y=_/=S);for(var w=[],m=0;m<f;m++){var b=2*m*Math.PI/f;w.push([p+_*Math.cos(b),T+y*Math.sin(b)])}return w},z.ellipseOver=function(l){var s=l.x0,d=l.y0,g=l.x1,p=l.y1,T=g-s,_=p-d,y=((s-=T)+g)/2,w=((d-=_)+p)/2;return{x0:y-(T*=S),y0:w-(_*=S),x1:y+T,y1:w+_}},z.fixDatesForPaths=function(l,s,d){var g="date"===s.type,p="date"===d.type;if(!g&&!p)return l;for(var T=0;T<l.length;T++)for(var _=0;_<l[T].length;_++)for(var y=0;y+2<l[T][_].length;y+=2)g&&(l[T][_][y+1]=l[T][_][y+1].replace(" ","_")),p&&(l[T][_][y+2]=l[T][_][y+2].replace(" ","_"));return l}},90551:function(ie,z,r){"use strict";var C=r(64505),E=C.drawMode,f=C.openMode,S=r(89995),M=S.i000,v=S.i090,c=S.i180,i=S.i270,u=S.cos45,a=S.sin45,o=r(75549),l=o.p2r,s=o.r2p,d=r(51873).clearOutline,g=r(60165),p=g.readPaths,T=g.writePaths,_=g.ellipseOver,y=g.fixDatesForPaths;ie.exports=function(w,m){if(w.length){var b=w[0][0];if(b){var k=b.getAttribute("d"),h=m.gd,O=h._fullLayout.newshape,A=m.plotinfo,I=A.xaxis,P=A.yaxis,L=!!A.domain||!A.xaxis,N=!!A.domain||!A.yaxis,B=m.isActiveShape,W=m.dragmode,j=(h.layout||{}).shapes||[];if(!E(W)&&void 0!==B){var Z=h._fullLayout._activeShapeIndex;if(Z<j.length)switch(h._fullLayout.shapes[Z].type){case"rect":W="drawrect";break;case"circle":W="drawcircle";break;case"line":W="drawline";break;case"path":var V=j[Z].path||"";W="Z"===V[V.length-1]?"drawclosedpath":"drawopenpath"}}var q,G=f(W),H=p(k,h,A,B),ne={editable:!0,xref:L?"paper":I._id,yref:N?"paper":P._id,layer:O.layer,opacity:O.opacity,line:{color:O.line.color,width:O.line.width,dash:O.line.dash}};if(G||(ne.fillcolor=O.fillcolor,ne.fillrule=O.fillrule),1===H.length&&(q=H[0]),q&&5===q.length&&"drawrect"===W)ne.type="rect",ne.x0=q[0][1],ne.y0=q[0][2],ne.x1=q[2][1],ne.y1=q[2][2];else if(q&&"drawline"===W)ne.type="line",ne.x0=q[0][1],ne.y0=q[0][2],ne.x1=q[1][1],ne.y1=q[1][2];else if(q&&"drawcircle"===W){ne.type="circle";var X=q[M][1],$=q[v][1],Q=q[c][1],te=q[i][1],re=q[M][2],le=q[v][2],ue=q[c][2],he=q[i][2],ge=A.xaxis&&("date"===A.xaxis.type||"log"===A.xaxis.type),xe=A.yaxis&&("date"===A.yaxis.type||"log"===A.yaxis.type);ge&&(X=s(A.xaxis,X),$=s(A.xaxis,$),Q=s(A.xaxis,Q),te=s(A.xaxis,te)),xe&&(re=s(A.yaxis,re),le=s(A.yaxis,le),ue=s(A.yaxis,ue),he=s(A.yaxis,he));var ke=($+te)/2,Ae=(re+ue)/2,pe=_({x0:ke,y0:Ae,x1:ke+(te-$+Q-X)/2*u,y1:Ae+(he-le+ue-re)/2*a});ge&&(pe.x0=l(A.xaxis,pe.x0),pe.x1=l(A.xaxis,pe.x1)),xe&&(pe.y0=l(A.yaxis,pe.y0),pe.y1=l(A.yaxis,pe.y1)),ne.x0=pe.x0,ne.y0=pe.y0,ne.x1=pe.x1,ne.y1=pe.y1}else ne.type="path",I&&P&&y(H,I,P),ne.path=T(H),q=null;d(h);for(var ye=m.editHelpers,Ne=(ye||{}).modifyItem,be=[],Ee=0;Ee<j.length;Ee++){var Oe=h._fullLayout.shapes[Ee];if(be[Ee]=Oe._input,void 0!==B&&Ee===h._fullLayout._activeShapeIndex){var De=ne;switch(Oe.type){case"line":case"rect":case"circle":Ne("x0",De.x0),Ne("x1",De.x1),Ne("y0",De.y0),Ne("y1",De.y1);break;case"path":Ne("path",De.path)}}}return void 0===B?(be.push(ne),be):ye?ye.getUpdateObj():{}}}}},51873:function(ie){"use strict";ie.exports={clearOutlineControllers:function(z){var r=z._fullLayout._zoomlayer;r&&r.selectAll(".outline-controllers").remove()},clearOutline:function(z){var r=z._fullLayout._zoomlayer;r&&r.selectAll(".select-outline").remove(),z._fullLayout._outlining=!1}}},30477:function(ie,z,r){"use strict";var C=r(21459),E=r(71828),f=r(89298);z.rangeToShapePosition=function(S){return"log"===S.type?S.r2d:function(M){return M}},z.shapePositionToRange=function(S){return"log"===S.type?S.d2r:function(M){return M}},z.decodeDate=function(S){return function(M){return M.replace&&(M=M.replace("_"," ")),S(M)}},z.encodeDate=function(S){return function(M){return S(M).replace(" ","_")}},z.extractPathCoords=function(S,M,v){var c=[];return S.match(C.segmentRE).forEach(function(i){var u=M[i.charAt(0)].drawn;if(void 0!==u){var a=i.substr(1).match(C.paramRE);if(a&&!(a.length<u)){var o=a[u],l=v?o:E.cleanNumber(o);c.push(l)}}}),c},z.getDataToPixel=function(S,M,v,c){var i,u=S._fullLayout._size;if(M)if("domain"===c)i=function(o){return M._length*(v?1-o:o)+M._offset};else{var a=z.shapePositionToRange(M);i=function(o){return M._offset+M.r2p(a(o,!0))},"date"===M.type&&(i=z.decodeDate(i))}else i=v?function(o){return u.t+u.h*(1-o)}:function(o){return u.l+u.w*o};return i},z.getPixelToData=function(S,M,v,c){var i,u=S._fullLayout._size;if(M)if("domain"===c)i=function(o){var l=(o-M._offset)/M._length;return v?1-l:l};else{var a=z.rangeToShapePosition(M);i=function(o){return a(M.p2r(o-M._offset))}}else i=v?function(o){return 1-(o-u.t)/u.h}:function(o){return(o-u.l)/u.w};return i},z.roundPositionForSharpStrokeRendering=function(S,M){var v=1===Math.round(M%2),c=Math.round(S);return v?c+.5:c},z.makeShapesOptionsAndPlotinfo=function(S,M){var v=S._fullLayout.shapes[M]||{},c=S._fullLayout._plots[v.xref+v.yref];return c?c._hadPlotinfo=!0:(c={},v.xref&&"paper"!==v.xref&&(c.xaxis=S._fullLayout[v.xref+"axis"]),v.yref&&"paper"!==v.yref&&(c.yaxis=S._fullLayout[v.yref+"axis"])),c.xsizemode=v.xsizemode,c.ysizemode=v.ysizemode,c.xanchor=v.xanchor,c.yanchor=v.yanchor,{options:v,plotinfo:c}},z.makeSelectionsOptionsAndPlotinfo=function(S,M){var v=S._fullLayout.selections[M]||{},c=S._fullLayout._plots[v.xref+v.yref];return c?c._hadPlotinfo=!0:(c={},v.xref&&(c.xaxis=S._fullLayout[v.xref+"axis"]),v.yref&&(c.yaxis=S._fullLayout[v.yref+"axis"])),{options:v,plotinfo:c}},z.getPathString=function(S,M){var v,c,i,u,a,o,l,s,P,L,N,W,j,Z,V,d=M.type,g=f.getRefType(M.xref),p=f.getRefType(M.yref),T=f.getFromId(S,M.xref),_=f.getFromId(S,M.yref),y=S._fullLayout._size;if(T?"domain"===g?c=function(P){return T._offset+T._length*P}:(v=z.shapePositionToRange(T),c=function(P){return T._offset+T.r2p(v(P,!0))}):c=function(P){return y.l+y.w*P},_?"domain"===p?u=function(P){return _._offset+_._length*(1-P)}:(i=z.shapePositionToRange(_),u=function(P){return _._offset+_.r2p(i(P,!0))}):u=function(P){return y.t+y.h*(1-P)},"path"===d)return T&&"date"===T.type&&(c=z.decodeDate(c)),_&&"date"===_.type&&(u=z.decodeDate(u)),L=c,N=u,W=(P=M).xsizemode,j=P.ysizemode,Z=P.xanchor,V=P.yanchor,P.path.replace(C.segmentRE,function(q){var G=0,H=q.charAt(0),ne=C.paramIsX[H],X=C.paramIsY[H],$=C.numParams[H],Q=q.substr(1).replace(C.paramRE,function(te){return ne[G]?te="pixel"===W?L(Z)+Number(te):L(te):X[G]&&(te="pixel"===j?N(V)-Number(te):N(te)),++G>$&&(te="X"),te});return G>$&&(Q=Q.replace(/[\s,]*X.*/,""),E.log("Ignoring extra params in segment "+q)),H+Q});if("pixel"===M.xsizemode){var w=c(M.xanchor);a=w+M.x0,o=w+M.x1}else a=c(M.x0),o=c(M.x1);if("pixel"===M.ysizemode){var m=u(M.yanchor);l=m-M.y0,s=m-M.y1}else l=u(M.y0),s=u(M.y1);if("line"===d)return"M"+a+","+l+"L"+o+","+s;if("rect"===d)return"M"+a+","+l+"H"+o+"V"+s+"H"+a+"Z";var b=(a+o)/2,k=(l+s)/2,h=Math.abs(b-a),O=Math.abs(k-l),A="A"+h+","+O,I=b+h+","+k;return"M"+I+A+" 0 1,1 "+b+","+(k-O)+A+" 0 0,1 "+I+"Z"}},89853:function(ie,z,r){"use strict";var C=r(34031);ie.exports={moduleType:"component",name:"shapes",layoutAttributes:r(89827),supplyLayoutDefaults:r(84726),supplyDrawNewShapeDefaults:r(45547),includeBasePlot:r(76325)("shapes"),calcAutorange:r(5627),draw:C.draw,drawOne:C.drawOne}},75067:function(ie,z,r){"use strict";var C=r(41940),E=r(35025),f=r(1426).extendDeepAll,S=r(30962).overrideAll,M=r(85594),v=r(44467).templatedArray,c=r(98292),i=v("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});ie.exports=S(v("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:i,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:f(E({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:M.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:C({})},font:C({}),activebgcolor:{valType:"color",dflt:c.gripBgActiveColor},bgcolor:{valType:"color",dflt:c.railBgColor},bordercolor:{valType:"color",dflt:c.railBorderColor},borderwidth:{valType:"number",min:0,dflt:c.railBorderWidth},ticklen:{valType:"number",min:0,dflt:c.tickLength},tickcolor:{valType:"color",dflt:c.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:c.minorTickLength}}),"arraydraw","from-root")},98292:function(ie){"use strict";ie.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},12343:function(ie,z,r){"use strict";var C=r(71828),E=r(85501),f=r(75067),S=r(98292).name,M=f.steps;function v(i,u,a){function o(p,T){return C.coerce(i,u,f,p,T)}for(var l=E(i,u,{name:"steps",handleItemDefaults:c}),s=0,d=0;d<l.length;d++)l[d].visible&&s++;if(s<2?u.visible=!1:o("visible")){u._stepCount=s;var g=u._visibleSteps=C.filterVisible(l);(l[o("active")]||{}).visible||(u.active=g[0]._index),o("x"),o("y"),C.noneOrAll(i,u,["x","y"]),o("xanchor"),o("yanchor"),o("len"),o("lenmode"),o("pad.t"),o("pad.r"),o("pad.b"),o("pad.l"),C.coerceFont(o,"font",a.font),o("currentvalue.visible")&&(o("currentvalue.xanchor"),o("currentvalue.prefix"),o("currentvalue.suffix"),o("currentvalue.offset"),C.coerceFont(o,"currentvalue.font",u.font)),o("transition.duration"),o("transition.easing"),o("bgcolor"),o("activebgcolor"),o("bordercolor"),o("borderwidth"),o("ticklen"),o("tickwidth"),o("tickcolor"),o("minorticklen")}}function c(i,u){function a(l,s){return C.coerce(i,u,M,l,s)}if("skip"===i.method||Array.isArray(i.args)?a("visible"):u.visible=!1){a("method"),a("args");var o=a("label","step-"+u._index);a("value",o),a("execute")}}ie.exports=function(i,u){E(i,u,{name:S,handleItemDefaults:v})}},44504:function(ie,z,r){"use strict";var C=r(39898),E=r(74875),f=r(7901),S=r(91424),M=r(71828),v=M.strTranslate,c=r(63893),i=r(44467).arrayEditor,u=r(98292),a=r(18783),o=a.LINE_SPACING,l=a.FROM_TL,s=a.FROM_BR;function d(N){return u.autoMarginIdRoot+N._index}function g(N){return N._index}function p(N,B){var W=S.tester.selectAll("g."+u.labelGroupClass).data(B._visibleSteps);W.enter().append("g").classed(u.labelGroupClass,!0);var j=0,Z=0;W.each(function(te){var re=y(C.select(this),{step:te},B).node();if(re){var le=S.bBox(re);Z=Math.max(Z,le.height),j=Math.max(j,le.width)}}),W.remove();var V=B._dims={};V.inputAreaWidth=Math.max(u.railWidth,u.gripHeight);var q=N._fullLayout._size;if(V.lx=q.l+q.w*B.x,V.ly=q.t+q.h*(1-B.y),V.outerLength="fraction"===B.lenmode?Math.round(q.w*B.len):B.len,V.inputAreaStart=0,V.inputAreaLength=Math.round(V.outerLength-B.pad.l-B.pad.r),V.labelStride=Math.max(1,Math.ceil((j+u.labelPadding)/((V.inputAreaLength-2*u.stepInset)/(B._stepCount-1)))),V.labelHeight=Z,V.currentValueMaxWidth=0,V.currentValueHeight=0,V.currentValueTotalHeight=0,V.currentValueMaxLines=1,B.currentvalue.visible){var ne=S.tester.append("g");W.each(function(te){var re=T(ne,B,te.label),le=re.node()&&S.bBox(re.node())||{width:0,height:0},ue=c.lineCount(re);V.currentValueMaxWidth=Math.max(V.currentValueMaxWidth,Math.ceil(le.width)),V.currentValueHeight=Math.max(V.currentValueHeight,Math.ceil(le.height)),V.currentValueMaxLines=Math.max(V.currentValueMaxLines,ue)}),V.currentValueTotalHeight=V.currentValueHeight+B.currentvalue.offset,ne.remove()}V.height=V.currentValueTotalHeight+u.tickOffset+B.ticklen+u.labelOffset+V.labelHeight+B.pad.t+B.pad.b;var X="left";M.isRightAnchor(B)&&(V.lx-=V.outerLength,X="right"),M.isCenterAnchor(B)&&(V.lx-=V.outerLength/2,X="center");var $="top";M.isBottomAnchor(B)&&(V.ly-=V.height,$="bottom"),M.isMiddleAnchor(B)&&(V.ly-=V.height/2,$="middle"),V.outerLength=Math.ceil(V.outerLength),V.height=Math.ceil(V.height),V.lx=Math.round(V.lx),V.ly=Math.round(V.ly);var Q={y:B.y,b:V.height*s[$],t:V.height*l[$]};"fraction"===B.lenmode?(Q.l=0,Q.xl=B.x-B.len*l[X],Q.r=0,Q.xr=B.x+B.len*s[X]):(Q.x=B.x,Q.l=V.outerLength*l[X],Q.r=V.outerLength*s[X]),E.autoMargin(N,d(B),Q)}function T(N,B,W){if(B.currentvalue.visible){var j,Z,V=B._dims;switch(B.currentvalue.xanchor){case"right":j=V.inputAreaLength-u.currentValueInset-V.currentValueMaxWidth,Z="left";break;case"center":j=.5*V.inputAreaLength,Z="middle";break;default:j=u.currentValueInset,Z="left"}var q=M.ensureSingle(N,"text",u.labelClass,function(Q){Q.attr({"text-anchor":Z,"data-notex":1})}),G=B.currentvalue.prefix?B.currentvalue.prefix:"";if("string"==typeof W)G+=W;else{var H=B.steps[B.active].label,ne=B._gd._fullLayout._meta;ne&&(H=M.templateString(H,ne)),G+=H}B.currentvalue.suffix&&(G+=B.currentvalue.suffix),q.call(S.font,B.currentvalue.font).text(G).call(c.convertToTspans,B._gd);var X=c.lineCount(q);return c.positionText(q,j,(V.currentValueMaxLines+1-X)*B.currentvalue.font.size*o),q}}function _(N,B,W){M.ensureSingle(N,"rect",u.gripRectClass,function(j){j.call(k,B,N,W).style("pointer-events","all")}).attr({width:u.gripWidth,height:u.gripHeight,rx:u.gripRadius,ry:u.gripRadius}).call(f.stroke,W.bordercolor).call(f.fill,W.bgcolor).style("stroke-width",W.borderwidth+"px")}function y(N,B,W){var j=M.ensureSingle(N,"text",u.labelClass,function(q){q.attr({"text-anchor":"middle","data-notex":1})}),Z=B.step.label,V=W._gd._fullLayout._meta;return V&&(Z=M.templateString(Z,V)),j.call(S.font,W.font).text(Z).call(c.convertToTspans,W._gd),j}function w(N,B){var W=M.ensureSingle(N,"g",u.labelsClass),j=B._dims,Z=W.selectAll("g."+u.labelGroupClass).data(j.labelSteps);Z.enter().append("g").classed(u.labelGroupClass,!0),Z.exit().remove(),Z.each(function(V){var q=C.select(this);q.call(y,V,B),S.setTranslate(q,A(B,V.fraction),u.tickOffset+B.ticklen+B.font.size*o+u.labelOffset+j.currentValueTotalHeight)})}function m(N,B,W,j,Z){var V=Math.round(j*(W._stepCount-1)),q=W._visibleSteps[V]._index;q!==W.active&&b(N,B,W,q,!0,Z)}function b(N,B,W,j,Z,V){var q=W.active;W.active=j,i(N.layout,u.name,W).applyUpdate("active",j);var G=W.steps[W.active];B.call(O,W,V),B.call(T,W),N.emit("plotly_sliderchange",{slider:W,step:W.steps[W.active],interaction:Z,previousActive:q}),G&&G.method&&Z&&(B._nextMethod?(B._nextMethod.step=G,B._nextMethod.doCallback=Z,B._nextMethod.doTransition=V):(B._nextMethod={step:G,doCallback:Z,doTransition:V},B._nextMethodRaf=window.requestAnimationFrame(function(){var H=B._nextMethod.step;H.method&&(H.execute&&E.executeAPICommand(N,H.method,H.args),B._nextMethod=null,B._nextMethodRaf=null)})))}function k(N,B,W){if(!B._context.staticPlot){var j=W.node(),Z=C.select(B);N.on("mousedown",q),N.on("touchstart",q)}function V(){return W.data()[0]}function q(){var G=V();B.emit("plotly_sliderstart",{slider:G});var H=W.select("."+u.gripRectClass);C.event.stopPropagation(),C.event.preventDefault(),H.call(f.fill,G.activebgcolor);var ne=I(G,C.mouse(j)[0]);function X(){var Q=V(),te=I(Q,C.mouse(j)[0]);m(B,W,Q,te,!1)}function $(){var Q=V();Q._dragging=!1,H.call(f.fill,Q.bgcolor),Z.on("mouseup",null),Z.on("mousemove",null),Z.on("touchend",null),Z.on("touchmove",null),B.emit("plotly_sliderend",{slider:Q,step:Q.steps[Q.active]})}m(B,W,G,ne,!0),G._dragging=!0,Z.on("mousemove",X),Z.on("touchmove",X),Z.on("mouseup",$),Z.on("touchend",$)}}function h(N,B){var W=N.selectAll("rect."+u.tickRectClass).data(B._visibleSteps),j=B._dims;W.enter().append("rect").classed(u.tickRectClass,!0),W.exit().remove(),W.attr({width:B.tickwidth+"px","shape-rendering":"crispEdges"}),W.each(function(Z,V){var q=V%j.labelStride==0,G=C.select(this);G.attr({height:q?B.ticklen:B.minorticklen}).call(f.fill,B.tickcolor),S.setTranslate(G,A(B,V/(B._stepCount-1))-.5*B.tickwidth,(q?u.tickOffset:u.minorTickOffset)+j.currentValueTotalHeight)})}function O(N,B,W){for(var j=N.select("rect."+u.gripRectClass),Z=0,V=0;V<B._stepCount;V++)if(B._visibleSteps[V]._index===B.active){Z=V;break}var q=A(B,Z/(B._stepCount-1));if(!B._invokingCommand){var G=j;W&&B.transition.duration>0&&(G=G.transition().duration(B.transition.duration).ease(B.transition.easing)),G.attr("transform",v(q-.5*u.gripWidth,B._dims.currentValueTotalHeight))}}function A(N,B){var W=N._dims;return W.inputAreaStart+u.stepInset+(W.inputAreaLength-2*u.stepInset)*Math.min(1,Math.max(0,B))}function I(N,B){var W=N._dims;return Math.min(1,Math.max(0,(B-u.stepInset-W.inputAreaStart)/(W.inputAreaLength-2*u.stepInset-2*W.inputAreaStart)))}function P(N,B,W){var j=W._dims,Z=M.ensureSingle(N,"rect",u.railTouchRectClass,function(V){V.call(k,B,N,W).style("pointer-events","all")});Z.attr({width:j.inputAreaLength,height:Math.max(j.inputAreaWidth,u.tickOffset+W.ticklen+j.labelHeight)}).call(f.fill,W.bgcolor).attr("opacity",0),S.setTranslate(Z,0,j.currentValueTotalHeight)}function L(N,B){var W=B._dims,j=W.inputAreaLength-2*u.railInset,Z=M.ensureSingle(N,"rect",u.railRectClass);Z.attr({width:j,height:u.railWidth,rx:u.railRadius,ry:u.railRadius,"shape-rendering":"crispEdges"}).call(f.stroke,B.bordercolor).call(f.fill,B.bgcolor).style("stroke-width",B.borderwidth+"px"),S.setTranslate(Z,u.railInset,.5*(W.inputAreaWidth-u.railWidth)+W.currentValueTotalHeight)}ie.exports=function(N){var B=N._context.staticPlot,W=N._fullLayout,j=function(ne,X){for(var $=ne[u.name],Q=[],te=0;te<$.length;te++){var re=$[te];re.visible&&(re._gd=X,Q.push(re))}return Q}(W,N),Z=W._infolayer.selectAll("g."+u.containerClassName).data(j.length>0?[0]:[]);function V(ne){ne._commandObserver&&(ne._commandObserver.remove(),delete ne._commandObserver),E.autoMargin(N,d(ne))}if(Z.enter().append("g").classed(u.containerClassName,!0).style("cursor",B?null:"ew-resize"),Z.exit().each(function(){C.select(this).selectAll("g."+u.groupClassName).each(V)}).remove(),0!==j.length){var q=Z.selectAll("g."+u.groupClassName).data(j,g);q.enter().append("g").classed(u.groupClassName,!0),q.exit().each(V).remove();for(var G=0;G<j.length;G++)p(N,j[G]);q.each(function(ne){var X=C.select(this);(function($){var Q=$._dims;Q.labelSteps=[];for(var te=$._stepCount,re=0;re<te;re+=Q.labelStride)Q.labelSteps.push({fraction:re/(te-1),step:$._visibleSteps[re]})})(ne),E.manageCommandObserver(N,ne,ne._visibleSteps,function($){var Q=X.data()[0];Q.active!==$.index&&(Q._dragging||b(N,X,Q,$.index,!1,!0))}),function($,Q,te){(te.steps[te.active]||{}).visible||(te.active=te._visibleSteps[0]._index),Q.call(T,te).call(L,te).call(w,te).call(h,te).call(P,$,te).call(_,$,te);var re=te._dims;S.setTranslate(Q,re.lx+te.pad.l,re.ly+te.pad.t),Q.call(O,te,!1),Q.call(T,te)}(N,C.select(this),ne)})}}},23243:function(ie,z,r){"use strict";var C=r(98292);ie.exports={moduleType:"component",name:C.name,layoutAttributes:r(75067),supplyLayoutDefaults:r(12343),draw:r(44504)}},92998:function(ie,z,r){"use strict";var C=r(39898),E=r(92770),f=r(74875),S=r(73972),M=r(71828),v=M.strTranslate,c=r(91424),i=r(7901),u=r(63893),a=r(37822),o=r(18783).OPPOSITE_SIDE,l=/ [XY][0-9]* /;ie.exports={draw:function(s,d,g){var p,T=g.propContainer,_=g.propName,y=g.placeholder,w=g.traceIndex,m=g.avoid||{},b=g.attributes,k=g.transform,h=g.containerGroup,O=s._fullLayout,A=1,I=!1,P=T.title,L=(P&&P.text?P.text:"").trim(),N=P&&P.font?P.font:{},B=N.family,W=N.size,j=N.color;"title.text"===_?p="titleText":-1!==_.indexOf("axis")?p="axisTitleText":_.indexOf(!0)&&(p="colorbarTitleText");var Z=s._context.edits[p];""===L?A=0:L.replace(l," % ")===y.replace(l," % ")&&(A=.2,I=!0,Z||(L="")),g._meta?L=M.templateString(L,g._meta):O._meta&&(L=M.templateString(L,O._meta));var V,q=L||Z;h||(h=M.ensureSingle(O._infolayer,"g","g-"+d),V=O._hColorbarMoveTitle);var G=h.selectAll("text").data(q?[0]:[]);if(G.enter().append("text"),G.text(L).attr("class",d),G.exit().remove(),!q)return h;function H($){M.syncOrAsync([ne,X],$)}function ne($){var Q;return!k&&V&&(k={}),k?(Q="",k.rotate&&(Q+="rotate("+[k.rotate,b.x,b.y]+")"),(k.offset||V)&&(Q+=v(0,(k.offset||0)-(V||0)))):Q=null,$.attr("transform",Q),$.style({"font-family":B,"font-size":C.round(W,2)+"px",fill:i.rgb(j),opacity:A*i.opacity(j),"font-weight":f.fontWeight}).attr(b).call(u.convertToTspans,s),f.previousPromises(s)}function X($){var Q=C.select($.node().parentNode);if(m&&m.selection&&m.side&&L){Q.attr("transform",null);var te=o[m.side],re="left"===m.side||"top"===m.side?-1:1,le=E(m.pad)?m.pad:2,ue=c.bBox(Q.node()),ge=m.maxShift||re*({left:0,top:0,right:O.width,bottom:O.height}[m.side]-ue[m.side]),xe=0;if(ge<0)xe=ge;else{var ke=m.offsetLeft||0,Ae=m.offsetTop||0;ue.left-=ke,ue.right-=ke,ue.top-=Ae,ue.bottom-=Ae,m.selection.each(function(){var ye=c.bBox(this);M.bBoxIntersect(ue,ye,le)&&(xe=Math.max(xe,re*(ye[m.side]-ue[te])+le))}),xe=Math.min(ge,xe),T._titleScoot=Math.abs(xe)}if(xe>0||ge<0){var pe={left:[-xe,0],right:[xe,0],top:[0,-xe],bottom:[0,xe]}[m.side];Q.attr("transform",v(pe[0],pe[1]))}}}return G.call(H),Z&&(L?G.on(".opacity",null):(A=0,I=!0,G.text(y).on("mouseover.opacity",function(){C.select(this).transition().duration(a.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){C.select(this).transition().duration(a.HIDE_PLACEHOLDER).style("opacity",0)})),G.call(u.makeEditable,{gd:s}).on("edit",function($){void 0!==w?S.call("_guiRestyle",s,_,$,w):S.call("_guiRelayout",s,_,$)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(H)}).on("input",function($){this.text($||" ").call(u.positionText,b.x,b.y)})),G.classed("js-placeholder",I),h}}},7163:function(ie,z,r){"use strict";var C=r(41940),E=r(22399),f=r(1426).extendFlat,S=r(30962).overrideAll,M=r(35025),v=r(44467).templatedArray,c=v("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});ie.exports=S(v("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:c,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:f(M({editType:"arraydraw"}),{}),font:C({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:E.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},75909:function(ie){"use strict";ie.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25c4",right:"\u25ba",up:"\u25b2",down:"\u25bc"}}},64897:function(ie,z,r){"use strict";var C=r(71828),E=r(85501),f=r(7163),S=r(75909).name,M=f.buttons;function v(i,u,a){function o(l,s){return C.coerce(i,u,f,l,s)}o("visible",E(i,u,{name:"buttons",handleItemDefaults:c}).length>0)&&(o("active"),o("direction"),o("type"),o("showactive"),o("x"),o("y"),C.noneOrAll(i,u,["x","y"]),o("xanchor"),o("yanchor"),o("pad.t"),o("pad.r"),o("pad.b"),o("pad.l"),C.coerceFont(o,"font",a.font),o("bgcolor",a.paper_bgcolor),o("bordercolor"),o("borderwidth"))}function c(i,u){function a(o,l){return C.coerce(i,u,M,o,l)}a("visible","skip"===i.method||Array.isArray(i.args))&&(a("method"),a("args"),a("args2"),a("label"),a("execute"))}ie.exports=function(i,u){E(i,u,{name:S,handleItemDefaults:v})}},13689:function(ie,z,r){"use strict";var C=r(39898),E=r(74875),f=r(7901),S=r(91424),M=r(71828),v=r(63893),c=r(44467).arrayEditor,i=r(18783).LINE_SPACING,u=r(75909),a=r(25849);function o(A){return A._index}function l(A,I){return+A.attr(u.menuIndexAttrName)===I._index}function s(A,I,P,L,N,B,W,j){I.active=W,c(A.layout,u.name,I).applyUpdate("active",W),"buttons"===I.type?g(A,L,null,null,I):"dropdown"===I.type&&(N.attr(u.menuIndexAttrName,"-1"),d(A,L,N,B,I),j||g(A,L,N,B,I))}function d(A,I,P,L,N){var B=M.ensureSingle(I,"g",u.headerClassName,function(G){G.style("pointer-events","all")}),W=N._dims,V={y:N.pad.t,yPad:0,x:N.pad.l,xPad:0,index:0},q={width:W.headerWidth,height:W.headerHeight};B.call(p,N,N.buttons[N.active]||u.blankHeaderOpts,A).call(h,N,V,q),M.ensureSingle(I,"text",u.headerArrowClassName,function(G){G.attr("text-anchor","end").call(S.font,N.font).text(u.arrowSymbol[N.direction])}).attr({x:W.headerWidth-u.arrowOffsetX+N.pad.l,y:W.headerHeight/2+u.textOffsetY+N.pad.t}),B.on("click",function(){P.call(O,String(l(P,N)?-1:N._index)),g(A,I,P,L,N)}),B.on("mouseover",function(){B.call(w)}),B.on("mouseout",function(){B.call(m,N)}),S.setTranslate(I,W.lx,W.ly)}function g(A,I,P,L,N){P||(P=I).attr("pointer-events","all");var B=-1==+P.attr(u.menuIndexAttrName)&&"buttons"!==N.type?[]:N.buttons,W="dropdown"===N.type?u.dropdownButtonClassName:u.buttonClassName,j=P.selectAll("g."+W).data(M.filterVisible(B)),Z=j.enter().append("g").classed(W,!0),V=j.exit();"dropdown"===N.type?(Z.attr("opacity","0").transition().attr("opacity","1"),V.transition().attr("opacity","0").remove()):V.remove();var q=0,G=0,H=N._dims,ne=-1!==["up","down"].indexOf(N.direction);"dropdown"===N.type&&(ne?G=H.headerHeight+u.gapButtonHeader:q=H.headerWidth+u.gapButtonHeader),"dropdown"===N.type&&"up"===N.direction&&(G=-u.gapButtonHeader+u.gapButton-H.openHeight),"dropdown"===N.type&&"left"===N.direction&&(q=-u.gapButtonHeader+u.gapButton-H.openWidth);var Q,te,re,X={x:H.lx+q+N.pad.l,y:H.ly+G+N.pad.t,yPad:u.gapButton,xPad:u.gapButton,index:0},$={l:X.x+N.borderwidth,t:X.y+N.borderwidth};j.each(function(Q,te){var re=C.select(this);re.call(p,N,Q,A).call(h,N,X),re.on("click",function(){C.event.defaultPrevented||(Q.execute&&(Q.args2&&N.active===te?(s(A,N,0,I,P,L,-1),E.executeAPICommand(A,Q.method,Q.args2)):(s(A,N,0,I,P,L,te),E.executeAPICommand(A,Q.method,Q.args))),A.emit("plotly_buttonclicked",{menu:N,button:Q,active:N.active}))}),re.on("mouseover",function(){re.call(w)}),re.on("mouseout",function(){re.call(m,N),j.call(y,N)})}),j.call(y,N),ne?($.w=Math.max(H.openWidth,H.headerWidth),$.h=X.y-$.t):($.w=X.x-$.l,$.h=Math.max(H.openHeight,H.headerHeight)),$.direction=N.direction,L&&(j.size()?function(Q,te,re,le,ue,he){var ge,xe,ke,Ae=ue.direction,ye=ue._dims,Ne=ue.active;if("up"===Ae||"down"===Ae)for(xe=0,ke=0;ke<Ne;ke++)xe+=ye.heights[ke]+u.gapButton;else for(ge=0,ke=0;ke<Ne;ke++)ge+=ye.widths[ke]+u.gapButton;le.enable(he,ge,xe),le.hbar&&le.hbar.attr("opacity","0").transition().attr("opacity","1"),le.vbar&&le.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,L,N,$):(re=!!(Q=L).vbar,(te=!!Q.hbar)&&Q.hbar.transition().attr("opacity","0").each("end",function(){te=!1,re||Q.disable()}),re&&Q.vbar.transition().attr("opacity","0").each("end",function(){re=!1,te||Q.disable()})))}function p(A,I,P,L){A.call(T,I).call(_,I,P,L)}function T(A,I){M.ensureSingle(A,"rect",u.itemRectClassName,function(P){P.attr({rx:u.rx,ry:u.ry,"shape-rendering":"crispEdges"})}).call(f.stroke,I.bordercolor).call(f.fill,I.bgcolor).style("stroke-width",I.borderwidth+"px")}function _(A,I,P,L){var N=M.ensureSingle(A,"text",u.itemTextClassName,function(j){j.attr({"text-anchor":"start","data-notex":1})}),B=P.label,W=L._fullLayout._meta;W&&(B=M.templateString(B,W)),N.call(S.font,I.font).text(B).call(v.convertToTspans,L)}function y(A,I){var P=I.active;A.each(function(L,N){var B=C.select(this);N===P&&I.showactive&&B.select("rect."+u.itemRectClassName).call(f.fill,u.activeColor)})}function w(A){A.select("rect."+u.itemRectClassName).call(f.fill,u.hoverColor)}function m(A,I){A.select("rect."+u.itemRectClassName).call(f.fill,I.bgcolor)}function b(A,I){var P=I._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},L=S.tester.selectAll("g."+u.dropdownButtonClassName).data(M.filterVisible(I.buttons));L.enter().append("g").classed(u.dropdownButtonClassName,!0);var N=-1!==["up","down"].indexOf(I.direction);L.each(function(q,G){var H=C.select(this);H.call(p,I,q,A);var ne=H.select("."+u.itemTextClassName),X=ne.node()&&S.bBox(ne.node()).width,$=Math.max(X+u.textPadX,u.minWidth),Q=I.font.size*i,te=v.lineCount(ne),re=Math.max(Q*te,u.minHeight)+u.textOffsetY;re=Math.ceil(re),$=Math.ceil($),P.widths[G]=$,P.heights[G]=re,P.height1=Math.max(P.height1,re),P.width1=Math.max(P.width1,$),N?(P.totalWidth=Math.max(P.totalWidth,$),P.openWidth=P.totalWidth,P.totalHeight+=re+u.gapButton,P.openHeight+=re+u.gapButton):(P.totalWidth+=$+u.gapButton,P.openWidth+=$+u.gapButton,P.totalHeight=Math.max(P.totalHeight,re),P.openHeight=P.totalHeight)}),N?P.totalHeight-=u.gapButton:P.totalWidth-=u.gapButton,P.headerWidth=P.width1+u.arrowPadX,P.headerHeight=P.height1,"dropdown"===I.type&&(N?(P.width1+=u.arrowPadX,P.totalHeight=P.height1):P.totalWidth=P.width1,P.totalWidth+=u.arrowPadX),L.remove();var B=P.totalWidth+I.pad.l+I.pad.r,W=P.totalHeight+I.pad.t+I.pad.b,j=A._fullLayout._size;P.lx=j.l+j.w*I.x,P.ly=j.t+j.h*(1-I.y);var Z="left";M.isRightAnchor(I)&&(P.lx-=B,Z="right"),M.isCenterAnchor(I)&&(P.lx-=B/2,Z="center");var V="top";M.isBottomAnchor(I)&&(P.ly-=W,V="bottom"),M.isMiddleAnchor(I)&&(P.ly-=W/2,V="middle"),P.totalWidth=Math.ceil(P.totalWidth),P.totalHeight=Math.ceil(P.totalHeight),P.lx=Math.round(P.lx),P.ly=Math.round(P.ly),E.autoMargin(A,k(I),{x:I.x,y:I.y,l:B*({right:1,center:.5}[Z]||0),r:B*({left:1,center:.5}[Z]||0),b:W*({top:1,middle:.5}[V]||0),t:W*({bottom:1,middle:.5}[V]||0)})}function k(A){return u.autoMarginIdRoot+A._index}function h(A,I,P,L){L=L||{};var N=A.select("."+u.itemRectClassName),B=A.select("."+u.itemTextClassName),W=I.borderwidth,j=P.index,Z=I._dims;S.setTranslate(A,W+P.x,W+P.y);var V=-1!==["up","down"].indexOf(I.direction),q=L.height||(V?Z.heights[j]:Z.height1);N.attr({x:0,y:0,width:L.width||(V?Z.width1:Z.widths[j]),height:q});var G=I.font.size*i,H=(v.lineCount(B)-1)*G/2;v.positionText(B,u.textOffsetX,q/2-H+u.textOffsetY),V?P.y+=Z.heights[j]+P.yPad:P.x+=Z.widths[j]+P.xPad,P.index++}function O(A,I){A.attr(u.menuIndexAttrName,I||"-1").selectAll("g."+u.dropdownButtonClassName).remove()}ie.exports=function(A){var I=A._fullLayout,P=M.filterVisible(I[u.name]);function L(G){E.autoMargin(A,k(G))}var N=I._menulayer.selectAll("g."+u.containerClassName).data(P.length>0?[0]:[]);if(N.enter().append("g").classed(u.containerClassName,!0).style("cursor","pointer"),N.exit().each(function(){C.select(this).selectAll("g."+u.headerGroupClassName).each(L)}).remove(),0!==P.length){var B=N.selectAll("g."+u.headerGroupClassName).data(P,o);B.enter().append("g").classed(u.headerGroupClassName,!0);for(var W=M.ensureSingle(N,"g",u.dropdownButtonGroupClassName,function(G){G.style("pointer-events","all")}),j=0;j<P.length;j++)b(A,P[j]);var q=new a(A,W,"updatemenus"+I._uid);B.enter().size()&&(W.node().parentNode.appendChild(W.node()),W.call(O)),B.exit().each(function(G){W.call(O),L(G)}).remove(),B.each(function(G){var H=C.select(this),ne="dropdown"===G.type?W:null;E.manageCommandObserver(A,G,G.buttons,function(X){s(A,G,0,H,ne,q,X.index,!0)}),"dropdown"===G.type?(d(A,H,W,q,G),l(W,G)&&g(A,H,W,q,G)):g(A,H,null,null,G)})}}},20763:function(ie,z,r){"use strict";var C=r(75909);ie.exports={moduleType:"component",name:C.name,layoutAttributes:r(7163),supplyLayoutDefaults:r(64897),draw:r(13689)}},25849:function(ie,z,r){"use strict";ie.exports=M;var C=r(39898),E=r(7901),f=r(91424),S=r(71828);function M(v,c,i){this.gd=v,this.container=c,this.id=i,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}M.barWidth=2,M.barLength=20,M.barRadius=2,M.barPad=1,M.barColor="#808BA4",M.prototype.enable=function(v,c,i){var u=this.gd._fullLayout,a=u.width,o=u.height;this.position=v;var l,s,d,g,p=this.position.l,T=this.position.w,_=this.position.t,y=this.position.h,w=this.position.direction,m="down"===w,b="left"===w,k="up"===w,h=T,O=y;m||b||"right"===w||k||(this.position.direction="down",m=!0),m||k?(s=(l=p)+h,m?(d=_,O=(g=Math.min(d+O,o))-d):O=(g=_+O)-(d=Math.max(g-O,0))):(g=(d=_)+O,b?h=(s=p+h)-(l=Math.max(s-h,0)):(l=p,h=(s=Math.min(l+h,a))-l)),this._box={l,t:d,w:h,h:O};var A=T>h,I=M.barLength+2*M.barPad,P=M.barWidth+2*M.barPad,L=p,N=_+y;N+P>o&&(N=o-P);var B=this.container.selectAll("rect.scrollbar-horizontal").data(A?[0]:[]);B.exit().on(".drag",null).remove(),B.enter().append("rect").classed("scrollbar-horizontal",!0).call(E.fill,M.barColor),A?(this.hbar=B.attr({rx:M.barRadius,ry:M.barRadius,x:L,y:N,width:I,height:P}),this._hbarXMin=L+I/2,this._hbarTranslateMax=h-I):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var W=y>O,j=M.barWidth+2*M.barPad,Z=M.barLength+2*M.barPad,V=p+T,q=_;V+j>a&&(V=a-j);var G=this.container.selectAll("rect.scrollbar-vertical").data(W?[0]:[]);G.exit().on(".drag",null).remove(),G.enter().append("rect").classed("scrollbar-vertical",!0).call(E.fill,M.barColor),W?(this.vbar=G.attr({rx:M.barRadius,ry:M.barRadius,x:V,y:q,width:j,height:Z}),this._vbarYMin=q+Z/2,this._vbarTranslateMax=O-Z):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var H=this.id,ne=l-.5,X=W?s+j+.5:s+.5,$=d-.5,Q=A?g+P+.5:g+.5,te=u._topdefs.selectAll("#"+H).data(A||W?[0]:[]);if(te.exit().remove(),te.enter().append("clipPath").attr("id",H).append("rect"),A||W?(this._clipRect=te.select("rect").attr({x:Math.floor(ne),y:Math.floor($),width:Math.ceil(X)-Math.floor(ne),height:Math.ceil(Q)-Math.floor($)}),this.container.call(f.setClipUrl,H,this.gd),this.bg.attr({x:p,y:_,width:T,height:y})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(f.setClipUrl,null),delete this._clipRect),A||W){var re=C.behavior.drag().on("dragstart",function(){C.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(re);var le=C.behavior.drag().on("dragstart",function(){C.event.sourceEvent.preventDefault(),C.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));A&&this.hbar.on(".drag",null).call(le),W&&this.vbar.on(".drag",null).call(le)}this.setTranslate(c,i)},M.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(f.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},M.prototype._onBoxDrag=function(){var v=this.translateX,c=this.translateY;this.hbar&&(v-=C.event.dx),this.vbar&&(c-=C.event.dy),this.setTranslate(v,c)},M.prototype._onBoxWheel=function(){var v=this.translateX,c=this.translateY;this.hbar&&(v+=C.event.deltaY),this.vbar&&(c+=C.event.deltaY),this.setTranslate(v,c)},M.prototype._onBarDrag=function(){var v=this.translateX,c=this.translateY;if(this.hbar){var i=v+this._hbarXMin,u=i+this._hbarTranslateMax;v=(S.constrain(C.event.x,i,u)-i)/(u-i)*(this.position.w-this._box.w)}if(this.vbar){var a=c+this._vbarYMin,o=a+this._vbarTranslateMax;c=(S.constrain(C.event.y,a,o)-a)/(o-a)*(this.position.h-this._box.h)}this.setTranslate(v,c)},M.prototype.setTranslate=function(v,c){var i=this.position.w-this._box.w,u=this.position.h-this._box.h;v=S.constrain(v||0,0,i),c=S.constrain(c||0,0,u),this.translateX=v,this.translateY=c,this.container.call(f.setTranslate,this._box.l-this.position.l-v,this._box.t-this.position.t-c),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+v-.5),y:Math.floor(this.position.t+c-.5)}),this.hbar&&this.hbar.call(f.setTranslate,v+v/i*this._hbarTranslateMax,c),this.vbar&&this.vbar.call(f.setTranslate,v,c+c/u*this._vbarTranslateMax)}},18783:function(ie){"use strict";ie.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},24695:function(ie){"use strict";ie.exports={axisRefDescription:function(z,r,C){return["If set to a",z,"axis id (e.g. *"+z+"* or","*"+z+"2*), the `"+z+"` position refers to a",z,"coordinate. If set to *paper*, the `"+z+"`","position refers to the distance from the",r,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",r,"("+C+"). If set to a",z,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",r,"of the domain of that axis: e.g.,","*"+z+"2 domain* refers to the domain of the second",z," axis and a",z,"position of 0.5 refers to the","point between the",r,"and the",C,"of the domain of the","second",z,"axis."].join(" ")}}},22372:function(ie){"use strict";ie.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:"\u25b2"},DECREASING:{COLOR:"#FF4136",SYMBOL:"\u25bc"}}},31562:function(ie){"use strict";ie.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},74808:function(ie){"use strict";ie.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},29659:function(ie){"use strict";ie.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87381:function(ie){"use strict";ie.exports={circle:"\u25cf","circle-open":"\u25cb",square:"\u25a0","square-open":"\u25a1",diamond:"\u25c6","diamond-open":"\u25c7",cross:"+",x:"\u274c"}},37822:function(ie){"use strict";ie.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},50606:function(ie){"use strict";ie.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"\u2212"}},77922:function(ie,z){"use strict";z.xmlns="http://www.w3.org/2000/xmlns/",z.svg="http://www.w3.org/2000/svg",z.xlink="http://www.w3.org/1999/xlink",z.svgAttrs={xmlns:z.svg,"xmlns:xlink":z.xlink}},8729:function(ie,z,r){"use strict";z.version=r(11506).version,r(7417),r(98847);for(var C=r(73972),E=z.register=C.register,f=r(10641),S=Object.keys(f),M=0;M<S.length;M++){var v=S[M];"_"!==v.charAt(0)&&(z[v]=f[v]),E({moduleType:"apiMethod",name:v,fn:f[v]})}E(r(67368)),E([r(2199),r(30211),r(32745),r(2468),r(47322),r(89853),r(68804),r(20763),r(23243),r(13137),r(97218),r(83312),r(37369),r(21081),r(12311),r(64168)]),E([r(92177),r(37815)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(E(window.PlotlyLocales),delete window.PlotlyLocales),z.Icons=r(24255);var c=r(30211),i=r(74875);z.Plots={resize:i.resize,graphJson:i.graphJson,sendDataToCloud:i.sendDataToCloud},z.Fx={hover:c.hover,unhover:c.unhover,loneHover:c.loneHover,loneUnhover:c.loneUnhover},z.Snapshot=r(44511),z.PlotSchema=r(86281)},24255:function(ie){"use strict";ie.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},99863:function(ie,z){"use strict";z.isLeftAnchor=function(r){return"left"===r.xanchor||"auto"===r.xanchor&&r.x<=.3333333333333333},z.isCenterAnchor=function(r){return"center"===r.xanchor||"auto"===r.xanchor&&r.x>.3333333333333333&&r.x<.6666666666666666},z.isRightAnchor=function(r){return"right"===r.xanchor||"auto"===r.xanchor&&r.x>=.6666666666666666},z.isTopAnchor=function(r){return"top"===r.yanchor||"auto"===r.yanchor&&r.y>=.6666666666666666},z.isMiddleAnchor=function(r){return"middle"===r.yanchor||"auto"===r.yanchor&&r.y>.3333333333333333&&r.y<.6666666666666666},z.isBottomAnchor=function(r){return"bottom"===r.yanchor||"auto"===r.yanchor&&r.y<=.3333333333333333}},26348:function(ie,z,r){"use strict";var C=r(64872),E=C.mod,f=C.modHalf,S=Math.PI,M=2*S;function v(a){return Math.abs(a[1]-a[0])>M-1e-14}function c(a,o){return f(o-a,M)}function i(a,o){if(v(o))return!0;var l,s;o[0]<o[1]?(l=o[0],s=o[1]):(l=o[1],s=o[0]),(l=E(l,M))>(s=E(s,M))&&(s+=M);var d=E(a,M),g=d+M;return d>=l&&d<=s||g>=l&&g<=s}function u(a,o,l,s,d,g,p){d=d||0,g=g||0;var T,_,y,w,m,b=v([l,s]);function k(I,P){return[I*Math.cos(P)+d,g-I*Math.sin(P)]}b?(T=0,_=S,y=M):l<s?(T=l,y=s):(T=s,y=l),a<o?(w=a,m=o):(w=o,m=a);var h,O=Math.abs(y-T)<=S?0:1;function A(I,P,L){return"A"+[I,I]+" "+[0,O,L]+" "+k(I,P)}return b?h=null===w?"M"+k(m,T)+A(m,_,0)+A(m,y,0)+"Z":"M"+k(w,T)+A(w,_,0)+A(w,y,0)+"ZM"+k(m,T)+A(m,_,1)+A(m,y,1)+"Z":null===w?(h="M"+k(m,T)+A(m,y,0),p&&(h+="L0,0Z")):h="M"+k(w,T)+"L"+k(m,T)+A(m,y,0)+"L"+k(w,y)+A(w,T,1)+"Z",h}ie.exports={deg2rad:function(a){return a/180*S},rad2deg:function(a){return a/S*180},angleDelta:c,angleDist:function(a,o){return Math.abs(c(a,o))},isFullCircle:v,isAngleInsideSector:i,isPtInsideSector:function(a,o,l,s){return!!i(o,s)&&(l[0]<l[1]?(d=l[0],g=l[1]):(d=l[1],g=l[0]),a>=d&&a<=g);var d,g},pathArc:function(a,o,l,s,d){return u(null,a,o,l,s,d,0)},pathSector:function(a,o,l,s,d){return u(null,a,o,l,s,d,1)},pathAnnulus:function(a,o,l,s,d,g){return u(a,o,l,s,d,g,1)}}},73627:function(ie,z){"use strict";var r=Array.isArray,C=ArrayBuffer,E=DataView;function f(v){return C.isView(v)&&!(v instanceof E)}function S(v){return r(v)||f(v)}function M(v,c,i){if(S(v)){if(S(v[0])){for(var u=i,a=0;a<v.length;a++)u=c(u,v[a].length);return u}return v.length}return 0}z.isTypedArray=f,z.isArrayOrTypedArray=S,z.isArray1D=function(v){return!S(v[0])},z.ensureArray=function(v,c){return r(v)||(v=[]),v.length=c,v},z.concat=function(){var v,c,i,u,a,o,l,s,d=[],g=!0,p=0;for(i=0;i<arguments.length;i++)(o=(u=arguments[i]).length)&&(c?d.push(u):(c=u,a=o),r(u)?v=!1:(g=!1,p?v!==u.constructor&&(v=!1):v=u.constructor),p+=o);if(!p)return[];if(!d.length)return c;if(g)return c.concat.apply(c,d);if(v){for((l=new v(p)).set(c),i=0;i<d.length;i++)l.set(u=d[i],a),a+=u.length;return l}for(l=new Array(p),s=0;s<c.length;s++)l[s]=c[s];for(i=0;i<d.length;i++){for(u=d[i],s=0;s<u.length;s++)l[a+s]=u[s];a+=s}return l},z.maxRowLength=function(v){return M(v,Math.max,0)},z.minRowLength=function(v){return M(v,Math.min,1/0)}},95218:function(ie,z,r){"use strict";var C=r(92770),E=r(50606).BADNUM,f=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;ie.exports=function(S){return"string"==typeof S&&(S=S.replace(f,"")),C(S)?Number(S):E}},33306:function(ie){"use strict";ie.exports=function(z){var r=z._fullLayout;r._glcanvas&&r._glcanvas.size()&&r._glcanvas.each(function(C){C.regl&&C.regl.clear({color:!0,depth:!0})})}},86367:function(ie){"use strict";ie.exports=function(z){z._responsiveChartHandler&&(window.removeEventListener("resize",z._responsiveChartHandler),delete z._responsiveChartHandler)}},96554:function(ie,z,r){"use strict";var C=r(92770),E=r(84267),f=r(9012),S=r(63282),M=r(7901),v=r(37822).DESELECTDIM,c=r(65487),i=r(30587).counter,u=r(64872).modHalf,a=r(73627).isArrayOrTypedArray;function o(l,s){var d=z.valObjectMeta[s.valType];if(s.arrayOk&&a(l))return!0;if(d.validateFunction)return d.validateFunction(l,s);var g={},p=g;return d.coerceFunction(l,{set:function(_){p=_}},g,s),p!==g}z.valObjectMeta={data_array:{coerceFunction:function(l,s,d){a(l)?s.set(l):void 0!==d&&s.set(d)}},enumerated:{coerceFunction:function(l,s,d,g){g.coerceNumber&&(l=+l),-1===g.values.indexOf(l)?s.set(d):s.set(l)},validateFunction:function(l,s){s.coerceNumber&&(l=+l);for(var d=s.values,g=0;g<d.length;g++){var p=String(d[g]);if("/"===p.charAt(0)&&"/"===p.charAt(p.length-1)){if(new RegExp(p.substr(1,p.length-2)).test(l))return!0}else if(l===d[g])return!0}return!1}},boolean:{coerceFunction:function(l,s,d){s.set(!0===l||!1===l?l:d)}},number:{coerceFunction:function(l,s,d,g){!C(l)||void 0!==g.min&&l<g.min||void 0!==g.max&&l>g.max?s.set(d):s.set(+l)}},integer:{coerceFunction:function(l,s,d,g){l%1||!C(l)||void 0!==g.min&&l<g.min||void 0!==g.max&&l>g.max?s.set(d):s.set(+l)}},string:{coerceFunction:function(l,s,d,g){s.set("string"!=typeof l?!0!==g.strict&&"number"==typeof l?String(l):d:g.noBlank&&!l?d:l)}},color:{coerceFunction:function(l,s,d){E(l).isValid()?s.set(l):s.set(d)}},colorlist:{coerceFunction:function(l,s,d){Array.isArray(l)&&l.length&&l.every(function(g){return E(g).isValid()})?s.set(l):s.set(d)}},colorscale:{coerceFunction:function(l,s,d){s.set(S.get(l,d))}},angle:{coerceFunction:function(l,s,d){"auto"===l?s.set("auto"):C(l)?s.set(u(+l,360)):s.set(d)}},subplotid:{coerceFunction:function(l,s,d,g){var p=g.regex||i(d);"string"==typeof l&&p.test(l)?s.set(l):s.set(d)},validateFunction:function(l,s){var d=s.dflt;return l===d||"string"==typeof l&&!!i(d).test(l)}},flaglist:{coerceFunction:function(l,s,d,g){if(-1===(g.extras||[]).indexOf(l))if("string"==typeof l){for(var p=l.split("+"),T=0;T<p.length;){var _=p[T];-1===g.flags.indexOf(_)||p.indexOf(_)<T?p.splice(T,1):T++}s.set(p.length?p.join("+"):d)}else s.set(d);else s.set(l)}},any:{coerceFunction:function(l,s,d){s.set(void 0===l?d:l)}},info_array:{coerceFunction:function(l,s,d,g){function p(N,B,W){var j;return void 0===W&&(W=B.dflt),z.valObjectMeta[B.valType].coerceFunction(N,{set:function(V){j=V}},W,B),j}var T=2===g.dimensions||"1-2"===g.dimensions&&Array.isArray(l)&&Array.isArray(l[0]);if(Array.isArray(l)){var _,y,w,b,k,h=g.items,O=[],A=Array.isArray(h),I=A&&T&&Array.isArray(h[0]),P=T&&A&&!I,L=A&&!P?h.length:l.length;if(d=Array.isArray(d)?d:[],T)for(_=0;_<L;_++)for(O[_]=[],w=Array.isArray(l[_])?l[_]:[],b=P?h.length:A?h[_].length:w.length,y=0;y<b;y++)void 0!==(k=p(w[y],P?h[y]:A?h[_][y]:h,(d[_]||[])[y]))&&(O[_][y]=k);else for(_=0;_<L;_++)void 0!==(k=p(l[_],A?h[_]:h,d[_]))&&(O[_]=k);s.set(O)}else s.set(d)},validateFunction:function(l,s){if(!Array.isArray(l))return!1;var d=s.items,g=Array.isArray(d),p=2===s.dimensions;if(!s.freeLength&&l.length!==d.length)return!1;for(var T=0;T<l.length;T++)if(p){if(!Array.isArray(l[T])||!s.freeLength&&l[T].length!==d[T].length)return!1;for(var _=0;_<l[T].length;_++)if(!o(l[T][_],g?d[T][_]:d))return!1}else if(!o(l[T],g?d[T]:d))return!1;return!0}}},z.coerce=function(l,s,d,g,p){var T=c(d,g).get(),_=c(l,g),y=c(s,g),w=_.get(),m=s._template;if(void 0===w&&m&&(w=c(m,g).get(),m=0),void 0===p&&(p=T.dflt),T.arrayOk&&a(w))return y.set(w),w;var b=z.valObjectMeta[T.valType].coerceFunction;b(w,y,p,T);var k=y.get();return m&&k===p&&!o(w,T)&&(b(w=c(m,g).get(),y,p,T),k=y.get()),k},z.coerce2=function(l,s,d,g,p){var T=c(l,g),_=z.coerce(l,s,d,g,p);return null!=T.get()&&_},z.coerceFont=function(l,s,d){var g={};return g.family=l(s+".family",(d=d||{}).family),g.size=l(s+".size",d.size),g.color=l(s+".color",d.color),g},z.coercePattern=function(l,s,d,g){if(l(s+".shape")){l(s+".solidity"),l(s+".size");var p="overlay"===l(s+".fillmode");if(!g){var T=l(s+".bgcolor",p?d:void 0);l(s+".fgcolor",p?M.contrast(T):d)}l(s+".fgopacity",p?.5:1)}},z.coerceHoverinfo=function(l,s,d){var g,p=s._module.attributes,T=p.hoverinfo?p:f,_=T.hoverinfo;if(1===d._dataLength){var y="all"===_.dflt?_.flags.slice():_.dflt.split("+");y.splice(y.indexOf("name"),1),g=y.join("+")}return z.coerce(l,s,T,"hoverinfo",g)},z.coerceSelectionMarkerOpacity=function(l,s){if(l.marker){var d,g,p=l.marker.opacity;void 0!==p&&(a(p)||l.selected||l.unselected||(d=p,g=v*p),s("selected.marker.opacity",d),s("unselected.marker.opacity",g))}},z.validate=o},41631:function(ie,z,r){"use strict";var C,E,f=r(84096).i$,S=r(92770),M=r(47769),v=r(64872).mod,c=r(50606),i=c.BADNUM,u=c.ONEDAY,a=c.ONEHOUR,o=c.ONEMIN,l=c.ONESEC,s=c.EPOCHJD,d=r(73972),g=r(84096).g0,p=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,T=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,_=(new Date).getFullYear()-70;function y(B){return B&&d.componentsRegistry.calendars&&"string"==typeof B&&"gregorian"!==B}function w(B,W){return String(B+Math.pow(10,W)).substr(1)}z.dateTick0=function(B,W){var V,q,j=(q=!!W,y(V=B)?q?d.getComponentMethod("calendars","CANONICAL_SUNDAY")[V]:d.getComponentMethod("calendars","CANONICAL_TICK")[V]:q?"2000-01-02":"2000-01-01");if(W<2)return j;var Z=z.dateTime2ms(j,B);return z.ms2DateTime(Z+=u*(W-1),0,B)},z.dfltRange=function(B){return y(B)?d.getComponentMethod("calendars","DFLTRANGE")[B]:["2000-01-01","2001-01-01"]},z.isJSDate=function(B){return"object"==typeof B&&null!==B&&"function"==typeof B.getTime},z.dateTime2ms=function(B,W){if(z.isJSDate(B)){var j=B.getTimezoneOffset()*o,Z=(B.getUTCMinutes()-B.getMinutes())*o+(B.getUTCSeconds()-B.getSeconds())*l+(B.getUTCMilliseconds()-B.getMilliseconds());if(Z){var V=3*o;j=j-V/2+v(Z-j+V/2,V)}return(B=Number(B)-j)>=C&&B<=E?B:i}if("string"!=typeof B&&"number"!=typeof B)return i;B=String(B);var q=y(W),G=B.charAt(0);!q||"G"!==G&&"g"!==G||(B=B.substr(1),W="");var H=q&&"chinese"===W.substr(0,7),ne=B.match(H?T:p);if(!ne)return i;var X=ne[1],$=ne[3]||"1",Q=Number(ne[5]||1),te=Number(ne[7]||0),re=Number(ne[9]||0),le=Number(ne[11]||0);if(q){if(2===X.length)return i;var ue;X=Number(X);try{var he=d.getComponentMethod("calendars","getCal")(W);if(H){var ge="i"===$.charAt($.length-1);$=parseInt($,10),ue=he.newDate(X,he.toMonthIndex(X,$,ge),Q)}else ue=he.newDate(X,Number($),Q)}catch{return i}return ue?(ue.toJD()-s)*u+te*a+re*o+le*l:i}X=2===X.length?(Number(X)+2e3-_)%100+_:Number(X),$-=1;var xe=new Date(Date.UTC(2e3,$,Q,te,re));return xe.setUTCFullYear(X),xe.getUTCMonth()!==$||xe.getUTCDate()!==Q?i:xe.getTime()+le*l},C=z.MIN_MS=z.dateTime2ms("-9999"),E=z.MAX_MS=z.dateTime2ms("9999-12-31 23:59:59.9999"),z.isDateTime=function(B,W){return z.dateTime2ms(B,W)!==i};var m=90*u,b=3*a,k=5*o;function h(B,W,j,Z,V){if((W||j||Z||V)&&(B+=" "+w(W,2)+":"+w(j,2),(Z||V)&&(B+=":"+w(Z,2),V))){for(var q=4;V%10==0;)q-=1,V/=10;B+="."+w(V,q)}return B}z.ms2DateTime=function(B,W,j){if("number"!=typeof B||!(B>=C&&B<=E))return i;W||(W=0);var Z,V,q,G,H,ne,X=Math.floor(10*v(B+.05,1)),$=Math.round(B-X/10);if(y(j)){var Q=Math.floor($/u)+s,te=Math.floor(v(B,u));try{Z=d.getComponentMethod("calendars","getCal")(j).fromJD(Q).formatDate("yyyy-mm-dd")}catch{Z=g("G%Y-%m-%d")(new Date($))}if("-"===Z.charAt(0))for(;Z.length<11;)Z="-0"+Z.substr(1);else for(;Z.length<10;)Z="0"+Z;V=W<m?Math.floor(te/a):0,q=W<m?Math.floor(te%a/o):0,G=W<b?Math.floor(te%o/l):0,H=W<k?te%l*10+X:0}else ne=new Date($),Z=g("%Y-%m-%d")(ne),V=W<m?ne.getUTCHours():0,q=W<m?ne.getUTCMinutes():0,G=W<b?ne.getUTCSeconds():0,H=W<k?10*ne.getUTCMilliseconds()+X:0;return h(Z,V,q,G,H)},z.ms2DateTimeLocal=function(B){if(!(B>=C+u&&B<=E-u))return i;var W=Math.floor(10*v(B+.05,1)),j=new Date(Math.round(B-W/10));return h(f("%Y-%m-%d")(j),j.getHours(),j.getMinutes(),j.getSeconds(),10*j.getUTCMilliseconds()+W)},z.cleanDate=function(B,W,j){if(B===i)return W;if(z.isJSDate(B)||"number"==typeof B&&isFinite(B)){if(y(j))return M.error("JS Dates and milliseconds are incompatible with world calendars",B),W;if(!(B=z.ms2DateTimeLocal(+B))&&void 0!==W)return W}else if(!z.isDateTime(B,j))return M.error("unrecognized date",B),W;return B};var O=/%\d?f/g,A=/%h/g,I={1:"1",2:"1",3:"2",4:"2"};function P(B,W,j,Z){B=B.replace(O,function(q){var G=Math.min(+q.charAt(1)||6,6);return(W/1e3%1+2).toFixed(G).substr(2).replace(/0+$/,"")||"0"});var V=new Date(Math.floor(W+.05));if(B=B.replace(A,function(){return I[j("%q")(V)]}),y(Z))try{B=d.getComponentMethod("calendars","worldCalFmt")(B,W,Z)}catch{return"Invalid"}return j(B)(V)}var L=[59,59.9,59.99,59.999,59.9999];z.formatDate=function(B,W,j,Z,V,q){if(V=y(V)&&V,!W)if("y"===j)W=q.year;else if("m"===j)W=q.month;else{if("d"!==j)return function(G,H){var ne=v(G+.05,u),X=w(Math.floor(ne/a),2)+":"+w(v(Math.floor(ne/o),60),2);if("M"!==H){S(H)||(H=0);var $=(100+Math.min(v(G/l,60),L[H])).toFixed(H).substr(1);H>0&&($=$.replace(/0+$/,"").replace(/[\.]$/,"")),X+=":"+$}return X}(B,j)+"\n"+P(q.dayMonthYear,B,Z,V);W=q.dayMonth+"\n"+q.year}return P(W,B,Z,V)};var N=3*u;z.incrementMonth=function(B,W,j){j=y(j)&&j;var Z=v(B,u);if(B=Math.round(B-Z),j)try{var V=Math.round(B/u)+s,q=d.getComponentMethod("calendars","getCal")(j),G=q.fromJD(V);return W%12?q.add(G,W,"m"):q.add(G,W/12,"y"),(G.toJD()-s)*u+Z}catch{M.error("invalid ms "+B+" in calendar "+j)}var H=new Date(B+N);return H.setUTCMonth(H.getUTCMonth()+W)+Z-N},z.findExactDates=function(B,W){for(var j,Z,V=0,q=0,G=0,H=0,ne=y(W)&&d.getComponentMethod("calendars","getCal")(W),X=0;X<B.length;X++)if(S(Z=B[X])){if(!(Z%u))if(ne)try{1===(j=ne.fromJD(Z/u+s)).day()?1===j.month()?V++:q++:G++}catch{}else 1===(j=new Date(Z)).getUTCDate()?0===j.getUTCMonth()?V++:q++:G++}else H++;G+=q+=V;var $=B.length-H;return{exactYears:V/$,exactMonths:q/$,exactDays:G/$}}},24401:function(ie,z,r){"use strict";var C=r(39898),E=r(47769),f=r(35657),S=r(79576);function M(a){var o=a&&a.parentNode;o&&o.removeChild(a)}function v(a,o,l){var s="plotly.js-style-"+a,d=document.getElementById(s);d||((d=document.createElement("style")).setAttribute("id",s),d.appendChild(document.createTextNode("")),document.head.appendChild(d));var g=d.sheet;g.insertRule?g.insertRule(o+"{"+l+"}",0):g.addRule?g.addRule(o,l,0):E.warn("addStyleRule failed")}function c(a){var o=window.getComputedStyle(a,null),l=o.getPropertyValue("-webkit-transform")||o.getPropertyValue("-moz-transform")||o.getPropertyValue("-ms-transform")||o.getPropertyValue("-o-transform")||o.getPropertyValue("transform");return"none"===l?null:l.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(s){return+s})}function i(a){for(var o=[];u(a);)o.push(a),a=a.parentNode;return o}function u(a){return a&&(a instanceof Element||a instanceof HTMLElement)}ie.exports={getGraphDiv:function(a){var o;if("string"==typeof a){if(null===(o=document.getElementById(a)))throw new Error("No DOM element with id '"+a+"' exists on the page.");return o}if(null==a)throw new Error("DOM element provided is null or undefined");return a},isPlotDiv:function(a){var o=C.select(a);return o.node()instanceof HTMLElement&&o.size()&&o.classed("js-plotly-plot")},removeElement:M,addStyleRule:function(a,o){v("global",a,o)},addRelatedStyleRule:v,deleteRelatedStyleRule:function(a){var l=document.getElementById("plotly.js-style-"+a);l&&M(l)},getFullTransformMatrix:function(a){var o=i(a),l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return o.forEach(function(s){var d=c(s);if(d){var g=f.convertCssMatrix(d);l=S.multiply(l,l,g)}}),l},getElementTransformMatrix:c,getElementAndAncestors:i,equalDomRects:function(a,o){return a&&o&&a.top===o.top&&a.left===o.left&&a.right===o.right&&a.bottom===o.bottom}}},11086:function(ie,z,r){"use strict";var C=r(15398).EventEmitter;ie.exports={init:function(f){if(f._ev instanceof C)return f;var S=new C,M=new C;return f._ev=S,f._internalEv=M,f.on=S.on.bind(S),f.once=S.once.bind(S),f.removeListener=S.removeListener.bind(S),f.removeAllListeners=S.removeAllListeners.bind(S),f._internalOn=M.on.bind(M),f._internalOnce=M.once.bind(M),f._removeInternalListener=M.removeListener.bind(M),f._removeAllInternalListeners=M.removeAllListeners.bind(M),f.emit=function(v,c){typeof jQuery<"u"&&jQuery(f).trigger(v,c),S.emit(v,c),M.emit(v,c)},f},triggerHandler:function(f,S,M){var v,c;typeof jQuery<"u"&&(v=jQuery(f).triggerHandler(S,M));var i=f._ev;if(!i)return v;var u,a=i._events[S];if(!a)return v;function o(l){return l.listener?(i.removeListener(S,l.listener),l.fired?void 0:(l.fired=!0,l.listener.apply(i,[M]))):l.apply(i,[M])}for(a=Array.isArray(a)?a:[a],u=0;u<a.length-1;u++)o(a[u]);return c=o(a[u]),void 0!==v?v:c},purge:function(f){return delete f._ev,delete f.on,delete f.once,delete f.removeListener,delete f.removeAllListeners,delete f.emit,delete f._ev,delete f._internalEv,delete f._internalOn,delete f._internalOnce,delete f._removeInternalListener,delete f._removeAllInternalListeners,f}}},1426:function(ie,z,r){"use strict";var C=r(41965),E=Array.isArray;function f(S,M,v,c){var i,u,a,o,l,s,g=S[0],p=S.length;if(2===p&&E(g)&&E(S[1])&&0===g.length){if(function(_,y){var w,m;for(w=0;w<_.length;w++){if(null!==(m=_[w])&&"object"==typeof m)return!1;void 0!==m&&(y[w]=m)}return!0}(S[1],g))return g;g.splice(0,g.length)}for(var T=1;T<p;T++)for(u in i=S[T])a=g[u],o=i[u],c&&E(o)?g[u]=o:M&&o&&(C(o)||(l=E(o)))?(l?(l=!1,s=a&&E(a)?a:[]):s=a&&C(a)?a:{},g[u]=f([s,o],M,v,c)):(void 0!==o||v)&&(g[u]=o);return g}z.extendFlat=function(){return f(arguments,!1,!1,!1)},z.extendDeep=function(){return f(arguments,!0,!1,!1)},z.extendDeepAll=function(){return f(arguments,!0,!0,!1)},z.extendDeepNoArrays=function(){return f(arguments,!0,!1,!0)}},75744:function(ie){"use strict";ie.exports=function(z){for(var r={},C=[],E=0,f=0;f<z.length;f++){var S=z[f];1!==r[S]&&(r[S]=1,C[E++]=S)}return C}},76756:function(ie){"use strict";function z(C){return!0===C.visible}function r(C){var E=C[0].trace;return!0===E.visible&&0!==E._length}ie.exports=function(C){for(var E,f=(E=C,Array.isArray(E)&&Array.isArray(E[0])&&E[0][0]&&E[0][0].trace?r:z),S=[],M=0;M<C.length;M++){var v=C[M];f(v)&&S.push(v)}return S}},41327:function(ie,z,r){"use strict";var C=r(39898),E=r(24138),f=r(30774),S=r(29261),M=r(85268),v=r(23389),c=r(47769),i=r(41965),u=r(65487),a=r(61082),o=Object.keys(E),l={"ISO-3":v,"USA-states":v,"country names":function(d){for(var g=0;g<o.length;g++){var p=o[g];if(new RegExp(E[p]).test(d.trim().toLowerCase()))return p}return c.log("Unrecognized country name: "+d+"."),!1}};function s(d){var g=d.geojson,p=window.PlotlyGeoAssets||{},T="string"==typeof g?p[g]:g;return i(T)?T:(c.error("Oops ... something went wrong when fetching "+g),!1)}ie.exports={locationToFeature:function(d,g,p){if(!g||"string"!=typeof g)return!1;var T,_,y,w=l[d](g);if(w){if("USA-states"===d)for(T=[],y=0;y<p.length;y++)(_=p[y]).properties&&_.properties.gu&&"USA"===_.properties.gu&&T.push(_);else T=p;for(y=0;y<T.length;y++)if((_=T[y]).id===w)return _;c.log(["Location with id",w,"does not have a matching topojson feature at this resolution."].join(" "))}return!1},feature2polygons:function(d){var g,p,T,_,y=d.geometry,w=y.coordinates,m=d.id,b=[];function k(h){for(var O=0;O<h.length-1;O++)if(h[O][0]>0&&h[O+1][0]<0)return O;return null}switch(g="RUS"===m||"FJI"===m?function(h){var O;if(null===k(h))O=h;else for(O=new Array(h.length),_=0;_<h.length;_++)O[_]=[h[_][0]<0?h[_][0]+360:h[_][0],h[_][1]];b.push(a.tester(O))}:"ATA"===m?function(h){var O=k(h);if(null===O)return b.push(a.tester(h));var A=new Array(h.length+1),I=0;for(_=0;_<h.length;_++)_>O?A[I++]=[h[_][0]+360,h[_][1]]:_===O?(A[I++]=h[_],A[I++]=[h[_][0],-90]):A[I++]=h[_];var P=a.tester(A);P.pts.pop(),b.push(P)}:function(h){b.push(a.tester(h))},y.type){case"MultiPolygon":for(p=0;p<w.length;p++)for(T=0;T<w[p].length;T++)g(w[p][T]);break;case"Polygon":for(p=0;p<w.length;p++)g(w[p])}return b},getTraceGeojson:s,extractTraceFeature:function(d){var g=d[0].trace,p=s(g);if(!p)return!1;var T,_={},y=[];for(T=0;T<g._length;T++){var w=d[T];(w.loc||0===w.loc)&&(_[w.loc]=w)}function m(h){var O=u(h,g.featureidkey||"id").get(),A=_[O];if(A){var I=h.geometry;if("Polygon"===I.type||"MultiPolygon"===I.type){var P={type:"Feature",id:O,geometry:I,properties:{}};P.properties.ct=function(L){var N,B=L.geometry;if("MultiPolygon"===B.type)for(var W=B.coordinates,j=0,Z=0;Z<W.length;Z++){var V={type:"Polygon",coordinates:W[Z]},q=f.default(V);q>j&&(j=q,N=V)}else N=B;return S.default(N).geometry.coordinates}(P),A.fIn=h,A.fOut=P,y.push(P)}else c.log(["Location",A.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete _[O]}switch(p.type){case"FeatureCollection":var b=p.features;for(T=0;T<b.length;T++)m(b[T]);break;case"Feature":m(p);break;default:return c.warn(["Invalid GeoJSON type",(p.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var k in _)c.log(["Location *"+k+"*","does not have a matching feature with id-key","*"+g.featureidkey+"*."].join(" "));return y},fetchTraceGeoData:function(d){var g=window.PlotlyGeoAssets||{},p=[];function T(m){return new Promise(function(b,k){C.json(m,function(h,O){return h?(delete g[m],k(new Error(404===h.status?'GeoJSON at URL "'+m+'" does not exist.':"Unexpected error while fetching from "+m))):(g[m]=O,b(O))})})}function _(m){return new Promise(function(b,k){var h=0,O=setInterval(function(){return g[m]&&"pending"!==g[m]?(clearInterval(O),b(g[m])):h>100?(clearInterval(O),k("Unexpected error while fetching from "+m)):void h++},50)})}for(var y=0;y<d.length;y++){var w=d[y][0].trace.geojson;"string"==typeof w&&(g[w]?"pending"===g[w]&&p.push(_(w)):(g[w]="pending",p.push(T(w))))}return p},computeBbox:function(d){return M.default(d)}}},18214:function(ie,z,r){"use strict";var C=r(50606).BADNUM;z.calcTraceToLineCoords=function(E){for(var f=E[0].trace.connectgaps,S=[],M=[],v=0;v<E.length;v++){var c=E[v].lonlat;c[0]!==C?M.push(c):!f&&M.length>0&&(S.push(M),M=[])}return M.length>0&&S.push(M),S},z.makeLine=function(E){return 1===E.length?{type:"LineString",coordinates:E[0]}:{type:"MultiLineString",coordinates:E}},z.makePolygon=function(E){if(1===E.length)return{type:"Polygon",coordinates:E};for(var f=new Array(E.length),S=0;S<E.length;S++)f[S]=[E[S]];return{type:"MultiPolygon",coordinates:f}},z.makeBlank=function(){return{type:"Point",coordinates:[]}}},87642:function(ie,z,r){"use strict";var C,E,f,S=r(64872).mod;function M(c,i,u,a,o,l,s,d){var g=u-c,p=o-c,T=s-o,_=a-i,y=l-i,w=d-l,m=g*w-T*_;if(0===m)return null;var b=(p*w-T*y)/m,k=(p*_-g*y)/m;return k<0||k>1||b<0||b>1?null:{x:c+g*b,y:i+_*b}}function v(c,i,u,a,o){var l=a*c+o*i;if(l<0)return a*a+o*o;if(l>u){var s=a-c,d=o-i;return s*s+d*d}var g=a*i-o*c;return g*g/u}z.segmentsIntersect=M,z.segmentDistance=function(c,i,u,a,o,l,s,d){if(M(c,i,u,a,o,l,s,d))return 0;var g=u-c,p=a-i,T=s-o,_=d-l,y=g*g+p*p,w=T*T+_*_,m=Math.min(v(g,p,y,o-c,l-i),v(g,p,y,s-c,d-i),v(T,_,w,c-o,i-l),v(T,_,w,u-o,a-l));return Math.sqrt(m)},z.getTextLocation=function(c,i,u,a){if(c===E&&a===f||(C={},E=c,f=a),C[u])return C[u];var o=c.getPointAtLength(S(u-a/2,i)),l=c.getPointAtLength(S(u+a/2,i)),s=Math.atan((l.y-o.y)/(l.x-o.x)),d=c.getPointAtLength(S(u,i)),g={x:(4*d.x+o.x+l.x)/6,y:(4*d.y+o.y+l.y)/6,theta:s};return C[u]=g,g},z.clearLocationCache=function(){E=null},z.getVisibleSegment=function(c,i,u){var a,o,l=i.left,s=i.right,d=i.top,g=i.bottom,p=0,T=c.getTotalLength(),_=T;function y(m){var b=c.getPointAtLength(m);0===m?a=b:m===T&&(o=b);var k=b.x<l?l-b.x:b.x>s?b.x-s:0,h=b.y<d?d-b.y:b.y>g?b.y-g:0;return Math.sqrt(k*k+h*h)}for(var w=y(p);w;){if((p+=w+u)>_)return;w=y(p)}for(w=y(_);w;){if(p>(_-=w+u))return;w=y(_)}return{min:p,max:_,len:_-p,total:T,isClosed:0===p&&_===T&&Math.abs(a.x-o.x)<.1&&Math.abs(a.y-o.y)<.1}},z.findPointOnPath=function(c,i,u,a){for(var o,l,s,d=(a=a||{}).pathLength||c.getTotalLength(),g=a.tolerance||.001,p=a.iterationLimit||30,T=c.getPointAtLength(0)[u]>c.getPointAtLength(d)[u]?-1:1,_=0,y=0,w=d;_<p;){if(s=(l=c.getPointAtLength(o=(y+w)/2))[u]-i,Math.abs(s)<g)return l;T*s>0?w=o:y=o,_++}return l}},81697:function(ie,z,r){"use strict";var C=r(92770),E=r(84267),f=r(25075),S=r(21081),M=r(22399).defaultLine,v=r(73627).isArrayOrTypedArray,c=f(M);function i(o,l){var s=o;return s[3]*=l,s}function u(o){if(C(o))return c;var l=f(o);return l.length?l:c}function a(o){return C(o)?o:1}ie.exports={formatColor:function(o,l,s){var d,g,p,T,_,y=o.color,w=v(y),m=v(l),b=S.extractOpts(o),k=[];if(d=void 0!==b.colorscale?S.makeColorScaleFuncFromTrace(o):u,g=w?function(O,A){return void 0===O[A]?c:f(d(O[A]))}:u,p=m?function(O,A){return void 0===O[A]?1:a(O[A])}:a,w||m)for(var h=0;h<s;h++)T=g(y,h),_=p(l,h),k[h]=i(T,_);else k=i(f(y),l);return k},parseColorScale:function(o){var l=S.extractOpts(o),s=l.colorscale;return l.reversescale&&(s=S.flipScale(l.colorscale)),s.map(function(d){var g=d[0],p=E(d[1]).toRgb();return{index:g,rgb:[p.r,p.g,p.b,p.a]}})}}},28984:function(ie,z,r){"use strict";var C=r(23389);function E(f){return[f]}ie.exports={keyFun:function(f){return f.key},repeat:E,descend:C,wrap:E,unwrap:function(f){return f[0]}}},23389:function(ie){"use strict";ie.exports=function(z){return z}},39240:function(ie){"use strict";ie.exports=function(z,r){if(!r)return z;var C=1/Math.abs(r),E=C>1?(C*z+C*r)/C:z+r,f=String(E).length;if(f>16){var S=String(r).length;if(f>=String(z).length+S){var M=parseFloat(E).toPrecision(12);-1===M.indexOf("e+")&&(E=+M)}}return E}},71828:function(ie,z,r){"use strict";var C=r(39898),E=r(84096).g0,f=r(60721).WU,S=r(92770),M=r(50606),v=M.FP_SAFE,c=-v,i=M.BADNUM,u=ie.exports={};u.adjustFormat=function(X){return!X||/^\d[.]\df/.test(X)||/[.]\d%/.test(X)?X:"0.f"===X?"~f":/^\d%/.test(X)?"~%":/^\ds/.test(X)?"~s":!/^[~,.0$]/.test(X)&&/[&fps]/.test(X)?"~"+X:X};var a={};u.warnBadFormat=function(X){var $=String(X);a[$]||(a[$]=1,u.warn('encountered bad format: "'+$+'"'))},u.noFormat=function(X){return String(X)},u.numberFormat=function(X){var $;try{$=f(u.adjustFormat(X))}catch{return u.warnBadFormat(X),u.noFormat}return $},u.nestedProperty=r(65487),u.keyedContainer=r(66636),u.relativeAttr=r(6962),u.isPlainObject=r(41965),u.toLogRange=r(58163),u.relinkPrivateKeys=r(51332);var o=r(73627);u.isTypedArray=o.isTypedArray,u.isArrayOrTypedArray=o.isArrayOrTypedArray,u.isArray1D=o.isArray1D,u.ensureArray=o.ensureArray,u.concat=o.concat,u.maxRowLength=o.maxRowLength,u.minRowLength=o.minRowLength;var l=r(64872);u.mod=l.mod,u.modHalf=l.modHalf;var s=r(96554);u.valObjectMeta=s.valObjectMeta,u.coerce=s.coerce,u.coerce2=s.coerce2,u.coerceFont=s.coerceFont,u.coercePattern=s.coercePattern,u.coerceHoverinfo=s.coerceHoverinfo,u.coerceSelectionMarkerOpacity=s.coerceSelectionMarkerOpacity,u.validate=s.validate;var d=r(41631);u.dateTime2ms=d.dateTime2ms,u.isDateTime=d.isDateTime,u.ms2DateTime=d.ms2DateTime,u.ms2DateTimeLocal=d.ms2DateTimeLocal,u.cleanDate=d.cleanDate,u.isJSDate=d.isJSDate,u.formatDate=d.formatDate,u.incrementMonth=d.incrementMonth,u.dateTick0=d.dateTick0,u.dfltRange=d.dfltRange,u.findExactDates=d.findExactDates,u.MIN_MS=d.MIN_MS,u.MAX_MS=d.MAX_MS;var g=r(65888);u.findBin=g.findBin,u.sorterAsc=g.sorterAsc,u.sorterDes=g.sorterDes,u.distinctVals=g.distinctVals,u.roundUp=g.roundUp,u.sort=g.sort,u.findIndexOfMin=g.findIndexOfMin,u.sortObjectKeys=r(78607);var p=r(80038);u.aggNums=p.aggNums,u.len=p.len,u.mean=p.mean,u.median=p.median,u.midRange=p.midRange,u.variance=p.variance,u.stdev=p.stdev,u.interp=p.interp;var T=r(35657);u.init2dArray=T.init2dArray,u.transposeRagged=T.transposeRagged,u.dot=T.dot,u.translationMatrix=T.translationMatrix,u.rotationMatrix=T.rotationMatrix,u.rotationXYMatrix=T.rotationXYMatrix,u.apply3DTransform=T.apply3DTransform,u.apply2DTransform=T.apply2DTransform,u.apply2DTransform2=T.apply2DTransform2,u.convertCssMatrix=T.convertCssMatrix,u.inverseTransformMatrix=T.inverseTransformMatrix;var _=r(26348);u.deg2rad=_.deg2rad,u.rad2deg=_.rad2deg,u.angleDelta=_.angleDelta,u.angleDist=_.angleDist,u.isFullCircle=_.isFullCircle,u.isAngleInsideSector=_.isAngleInsideSector,u.isPtInsideSector=_.isPtInsideSector,u.pathArc=_.pathArc,u.pathSector=_.pathSector,u.pathAnnulus=_.pathAnnulus;var y=r(99863);u.isLeftAnchor=y.isLeftAnchor,u.isCenterAnchor=y.isCenterAnchor,u.isRightAnchor=y.isRightAnchor,u.isTopAnchor=y.isTopAnchor,u.isMiddleAnchor=y.isMiddleAnchor,u.isBottomAnchor=y.isBottomAnchor;var w=r(87642);u.segmentsIntersect=w.segmentsIntersect,u.segmentDistance=w.segmentDistance,u.getTextLocation=w.getTextLocation,u.clearLocationCache=w.clearLocationCache,u.getVisibleSegment=w.getVisibleSegment,u.findPointOnPath=w.findPointOnPath;var m=r(1426);u.extendFlat=m.extendFlat,u.extendDeep=m.extendDeep,u.extendDeepAll=m.extendDeepAll,u.extendDeepNoArrays=m.extendDeepNoArrays;var b=r(47769);u.log=b.log,u.warn=b.warn,u.error=b.error;var k=r(30587);u.counterRegex=k.counter;var h=r(79990);u.throttle=h.throttle,u.throttleDone=h.done,u.clearThrottle=h.clear;var O=r(24401);function A(X){var $={};for(var Q in X)for(var te=X[Q],re=0;re<te.length;re++)$[te[re]]=+Q;return $}u.getGraphDiv=O.getGraphDiv,u.isPlotDiv=O.isPlotDiv,u.removeElement=O.removeElement,u.addStyleRule=O.addStyleRule,u.addRelatedStyleRule=O.addRelatedStyleRule,u.deleteRelatedStyleRule=O.deleteRelatedStyleRule,u.getFullTransformMatrix=O.getFullTransformMatrix,u.getElementTransformMatrix=O.getElementTransformMatrix,u.getElementAndAncestors=O.getElementAndAncestors,u.equalDomRects=O.equalDomRects,u.clearResponsive=r(86367),u.preserveDrawingBuffer=r(45142),u.makeTraceGroups=r(77310),u._=r(15867),u.notifier=r(75046),u.filterUnique=r(75744),u.filterVisible=r(76756),u.pushUnique=r(75138),u.increment=r(39240),u.cleanNumber=r(95218),u.ensureNumber=function(X){return S(X)?(X=Number(X))>v||X<c?i:X:i},u.isIndex=function(X,$){return!(void 0!==$&&X>=$)&&S(X)&&X>=0&&X%1==0},u.noop=r(64213),u.identity=r(23389),u.repeat=function(X,$){for(var Q=new Array($),te=0;te<$;te++)Q[te]=X;return Q},u.swapAttrs=function(X,$,Q,te){Q||(Q="x"),te||(te="y");for(var re=0;re<$.length;re++){var le=$[re],ue=u.nestedProperty(X,le.replace("?",Q)),he=u.nestedProperty(X,le.replace("?",te)),ge=ue.get();ue.set(he.get()),he.set(ge)}},u.raiseToTop=function(X){X.parentNode.appendChild(X)},u.cancelTransition=function(X){return X.transition().duration(0)},u.constrain=function(X,$,Q){return $>Q?Math.max(Q,Math.min($,X)):Math.max($,Math.min(Q,X))},u.bBoxIntersect=function(X,$,Q){return X.left<=$.right+(Q=Q||0)&&$.left<=X.right+Q&&X.top<=$.bottom+Q&&$.top<=X.bottom+Q},u.simpleMap=function(X,$,Q,te,re){for(var le=X.length,ue=new Array(le),he=0;he<le;he++)ue[he]=$(X[he],Q,te,re);return ue},u.randstr=function X($,Q,te,re){if(te||(te=16),void 0===Q&&(Q=24),Q<=0)return"0";var le,ue,he=Math.log(Math.pow(2,Q))/Math.log(te),ge="";for(le=2;he===1/0;le*=2)he=Math.log(Math.pow(2,Q/le))/Math.log(te)*le;var xe=he-Math.floor(he);for(le=0;le<Math.floor(he);le++)ge=Math.floor(Math.random()*te).toString(te)+ge;xe&&(ue=Math.pow(te,xe),ge=Math.floor(Math.random()*ue).toString(te)+ge);var ke=parseInt(ge,te);return $&&$[ge]||ke!==1/0&&ke>=Math.pow(2,Q)?re>10?(u.warn("randstr failed uniqueness"),ge):X($,Q,te,(re||0)+1):ge},u.OptionControl=function(X,$){X||(X={}),$||($="opt");var Q={optionList:[],_newoption:function(te){te[$]=X,Q[te.name]=te,Q.optionList.push(te)}};return Q["_"+$]=X,Q},u.smooth=function(X,$){if(($=Math.round($)||0)<2)return X;var Q,te,re,le,ue=X.length,he=2*ue,ge=2*$-1,xe=new Array(ge),ke=new Array(ue);for(Q=0;Q<ge;Q++)xe[Q]=(1-Math.cos(Math.PI*(Q+1)/$))/(2*$);for(Q=0;Q<ue;Q++){for(le=0,te=0;te<ge;te++)(re=Q+te+1-$)<-ue?re-=he*Math.round(re/he):re>=he&&(re-=he*Math.floor(re/he)),re<0?re=-1-re:re>=ue&&(re=he-1-re),le+=X[re]*xe[te];ke[Q]=le}return ke},u.syncOrAsync=function(X,$,Q){var te;function re(){return u.syncOrAsync(X,$,Q)}for(;X.length;)if((te=(0,X.splice(0,1)[0])($))&&te.then)return te.then(re);return Q&&Q($)},u.stripTrailingSlash=function(X){return"/"===X.substr(-1)?X.substr(0,X.length-1):X},u.noneOrAll=function(X,$,Q){if(X){var te,re=!1,le=!0;for(te=0;te<Q.length;te++)null!=X[Q[te]]?re=!0:le=!1;if(re&&!le)for(te=0;te<Q.length;te++)X[Q[te]]=$[Q[te]]}},u.mergeArray=function(X,$,Q,te){var re="function"==typeof te;if(u.isArrayOrTypedArray(X))for(var le=Math.min(X.length,$.length),ue=0;ue<le;ue++){var he=X[ue];$[ue][Q]=re?te(he):he}},u.mergeArrayCastPositive=function(X,$,Q){return u.mergeArray(X,$,Q,function(te){var re=+te;return isFinite(re)&&re>0?re:0})},u.fillArray=function(X,$,Q,te){if(te=te||u.identity,u.isArrayOrTypedArray(X))for(var re=0;re<$.length;re++)$[re][Q]=te(X[re])},u.castOption=function(X,$,Q,te){te=te||u.identity;var re=u.nestedProperty(X,Q).get();return u.isArrayOrTypedArray(re)?Array.isArray($)&&u.isArrayOrTypedArray(re[$[0]])?te(re[$[0]][$[1]]):te(re[$]):re},u.extractOption=function(X,$,Q,te){if(Q in X)return X[Q];var re=u.nestedProperty($,te).get();return Array.isArray(re)?void 0:re},u.tagSelected=function(X,$,Q){var te,re,le=$.selectedpoints,ue=$._indexToPoints;ue&&(te=A(ue));for(var he=0;he<le.length;he++){var ge=le[he];if(u.isIndex(ge)||u.isArrayOrTypedArray(ge)&&u.isIndex(ge[0])&&u.isIndex(ge[1])){var xe=te?te[ge]:ge,ke=Q?Q[xe]:xe;void 0!==(re=ke)&&re<X.length&&(X[ke].selected=1)}}},u.selIndices2selPoints=function(X){var $=X.selectedpoints,Q=X._indexToPoints;if(Q){for(var te=A(Q),re=[],le=0;le<$.length;le++){var ue=$[le];if(u.isIndex(ue)){var he=te[ue];u.isIndex(he)&&re.push(he)}}return re}return $},u.getTargetArray=function(X,$){var Q=$.target;if("string"==typeof Q&&Q){var te=u.nestedProperty(X,Q).get();return!!Array.isArray(te)&&te}return!!Array.isArray(Q)&&Q},u.minExtend=function(X,$){var Q={};"object"!=typeof $&&($={});var te,re,le,ue=Object.keys(X);for(te=0;te<ue.length;te++)le=X[re=ue[te]],"_"!==re.charAt(0)&&"function"!=typeof le&&(Q[re]="module"===re?le:Array.isArray(le)?"colorscale"===re?le.slice():le.slice(0,3):u.isTypedArray(le)?le.subarray(0,3):le&&"object"==typeof le?u.minExtend(X[re],$[re]):le);for(ue=Object.keys($),te=0;te<ue.length;te++)"object"==typeof(le=$[re=ue[te]])&&re in Q&&"object"==typeof Q[re]||(Q[re]=le);return Q},u.titleCase=function(X){return X.charAt(0).toUpperCase()+X.substr(1)},u.containsAny=function(X,$){for(var Q=0;Q<$.length;Q++)if(-1!==X.indexOf($[Q]))return!0;return!1},u.isIE=function(){return void 0!==window.navigator.msSaveBlob};var I=/Version\/[\d\.]+.*Safari/;u.isSafari=function(){return I.test(window.navigator.userAgent)};var P=/iPad|iPhone|iPod/;u.isIOS=function(){return P.test(window.navigator.userAgent)};var L=/Firefox\/(\d+)\.\d+/;u.getFirefoxVersion=function(){var X=L.exec(window.navigator.userAgent);if(X&&2===X.length){var $=parseInt(X[1]);if(!isNaN($))return $}return null},u.isD3Selection=function(X){return X instanceof C.selection},u.ensureSingle=function(X,$,Q,te){var re=X.select($+(Q?"."+Q:""));if(re.size())return re;var le=X.append($);return Q&&le.classed(Q,!0),te&&le.call(te),le},u.ensureSingleById=function(X,$,Q,te){var re=X.select($+"#"+Q);if(re.size())return re;var le=X.append($).attr("id",Q);return te&&le.call(te),le},u.objectFromPath=function(X,$){for(var Q,te=X.split("."),re=Q={},le=0;le<te.length;le++){var ue=te[le],he=null,ge=te[le].match(/(.*)\[([0-9]+)\]/);ge?(he=ge[2],(Q=Q[ue=ge[1]]=[])[he]=le===te.length-1?$:{},Q=Q[he]):(Q[ue]=le===te.length-1?$:{},Q=Q[ue])}return re};var N=/^([^\[\.]+)\.(.+)?/,B=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;u.expandObjectPaths=function(X){var $,Q,te,re,le,ue,he;if("object"==typeof X&&!Array.isArray(X))for(Q in X)X.hasOwnProperty(Q)&&(($=Q.match(N))?(re=X[Q],te=$[1],delete X[Q],X[te]=u.extendDeepNoArrays(X[te]||{},u.objectFromPath(Q,u.expandObjectPaths(re))[te])):($=Q.match(B))?(re=X[Q],te=$[1],le=parseInt($[2]),delete X[Q],X[te]=X[te]||[],"."===$[3]?(he=$[4],ue=X[te][le]=X[te][le]||{},u.extendDeepNoArrays(ue,u.objectFromPath(he,u.expandObjectPaths(re)))):X[te][le]=u.expandObjectPaths(re)):X[Q]=u.expandObjectPaths(X[Q]));return X},u.numSeparate=function(X,$,Q){if(Q||(Q=!1),"string"!=typeof $||0===$.length)throw new Error("Separator string required for formatting!");"number"==typeof X&&(X=String(X));var te=/(\d+)(\d{3})/,re=$.charAt(0),le=$.charAt(1),ue=X.split("."),he=ue[0],ge=ue.length>1?re+ue[1]:"";if(le&&(ue.length>1||he.length>4||Q))for(;te.test(he);)he=he.replace(te,"$1"+le+"$2");return he+ge},u.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var W=/^\w*$/;u.templateString=function(X,$){var Q={};return X.replace(u.TEMPLATE_STRING_REGEX,function(te,re){var le;return W.test(re)?le=$[re]:(Q[re]=Q[re]||u.nestedProperty($,re).get,le=Q[re]()),u.isValidTextValue(le)?le:""})};var j={max:10,count:0,name:"hovertemplate"};u.hovertemplateString=function(){return q.apply(j,arguments)};var Z={max:10,count:0,name:"texttemplate"};u.texttemplateString=function(){return q.apply(Z,arguments)};var V=/^[:|\|]/;function q(X,$,Q){var te=this,re=arguments;$||($={});var le={};return X.replace(u.TEMPLATE_STRING_REGEX,function(ue,he,ge){var xe,ke,Ae,pe="_xother"===he||"_yother"===he,ye="_xother_"===he||"_yother_"===he,Ne="xother_"===he||"yother_"===he,be="xother"===he||"yother"===he||pe||Ne||ye,Ee=he;if((pe||ye)&&(Ee=Ee.substring(1)),(Ne||ye)&&(Ee=Ee.substring(0,Ee.length-1)),be){if(void 0===(xe=$[Ee]))return""}else for(Ae=3;Ae<re.length;Ae++)if(ke=re[Ae]){if(ke.hasOwnProperty(Ee)){xe=ke[Ee];break}if(W.test(Ee)||(xe=u.nestedProperty(ke,Ee).get(),(xe=le[Ee]||u.nestedProperty(ke,Ee).get())&&(le[Ee]=xe)),void 0!==xe)break}if(void 0===xe&&te)return te.count<te.max&&(u.warn("Variable '"+Ee+"' in "+te.name+" could not be found!"),xe=ue),te.count===te.max&&u.warn("Too many "+te.name+" warnings - additional warnings will be suppressed"),te.count++,ue;if(ge){var Oe;if(":"===ge[0]&&(xe=(Oe=Q?Q.numberFormat:u.numberFormat)(ge.replace(V,""))(xe)),"|"===ge[0]){Oe=Q?Q.timeFormat:E;var De=u.dateTime2ms(xe);xe=u.formatDate(De,ge.replace(V,""),!1,Oe)}}else{var oe=Ee+"Label";$.hasOwnProperty(oe)&&(xe=$[oe])}return be&&(xe="("+xe+")",(pe||ye)&&(xe=" "+xe),(Ne||ye)&&(xe+=" ")),xe})}u.subplotSort=function(X,$){for(var Q=Math.min(X.length,$.length)+1,te=0,re=0,le=0;le<Q;le++){var ue=X.charCodeAt(le)||0,he=$.charCodeAt(le)||0,ge=ue>=48&&ue<=57,xe=he>=48&&he<=57;if(ge&&(te=10*te+ue-48),xe&&(re=10*re+he-48),!ge||!xe){if(te!==re)return te-re;if(ue!==he)return ue-he}}return re-te};var G=2e9;u.seedPseudoRandom=function(){G=2e9},u.pseudoRandom=function(){var X=G;return G=(69069*G+1)%4294967296,Math.abs(G-X)<429496729?u.pseudoRandom():G/4294967296},u.fillText=function(X,$,Q){var te=Array.isArray(Q)?function(ue){Q.push(ue)}:function(ue){Q.text=ue},re=u.extractOption(X,$,"htx","hovertext");if(u.isValidTextValue(re))return te(re);var le=u.extractOption(X,$,"tx","text");return u.isValidTextValue(le)?te(le):void 0},u.isValidTextValue=function(X){return X||0===X},u.formatPercent=function(X,$){$=$||0;for(var Q=(Math.round(100*X*Math.pow(10,$))*Math.pow(.1,$)).toFixed($)+"%",te=0;te<$;te++)-1!==Q.indexOf(".")&&(Q=(Q=Q.replace("0%","%")).replace(".%","%"));return Q},u.isHidden=function(X){var $=window.getComputedStyle(X).display;return!$||"none"===$},u.strTranslate=function(X,$){return X||$?"translate("+X+","+$+")":""},u.strRotate=function(X){return X?"rotate("+X+")":""},u.strScale=function(X){return 1!==X?"scale("+X+")":""},u.getTextTransform=function(X){var $=X.noCenter,Q=X.textX,te=X.textY,ge=X.rotate,xe=X.scale;return xe?xe>1&&(xe=1):xe=0,u.strTranslate(X.targetX-xe*(Q+(X.anchorX||0)),X.targetY-xe*(te+(X.anchorY||0)))+u.strScale(xe)+(ge?"rotate("+ge+($?"":" "+Q+" "+te)+")":"")},u.setTransormAndDisplay=function(X,$){X.attr("transform",u.getTextTransform($)),X.style("display",$.scale?null:"none")},u.ensureUniformFontSize=function(X,$){var Q=u.extendFlat({},$);return Q.size=Math.max($.size,X._fullLayout.uniformtext.minsize||0),Q},u.join2=function(X,$,Q){var te=X.length;return te>1?X.slice(0,-1).join($)+Q+X[te-1]:X.join($)},u.bigFont=function(X){return Math.round(1.2*X)};var H=u.getFirefoxVersion(),ne=null!==H&&H<86;u.getPositionFromD3Event=function(){return ne?[C.event.layerX,C.event.layerY]:[C.event.offsetX,C.event.offsetY]}},41965:function(ie){"use strict";ie.exports=function(z){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(z):"[object Object]"===Object.prototype.toString.call(z)&&Object.getPrototypeOf(z).hasOwnProperty("hasOwnProperty")}},66636:function(ie,z,r){"use strict";var C=r(65487),E=/^\w*$/;ie.exports=function(f,S,M,v){var c,i,u;M=M||"name",v=v||"value";var a={};S&&S.length?(u=C(f,S),i=u.get()):i=f,S=S||"";var o={};if(i)for(c=0;c<i.length;c++)o[i[c][M]]=c;var l=E.test(v),s={set:function(d,g){var p=null===g?4:0;if(!i){if(!u||4===p)return;u.set(i=[])}var T=o[d];if(void 0===T){if(4===p)return;p|=3,o[d]=T=i.length}else g!==(l?i[T][v]:C(i[T],v).get())&&(p|=2);var _=i[T]=i[T]||{};return _[M]=d,l?_[v]=g:C(_,v).set(g),null!==g&&(p&=-5),a[T]=a[T]|p,s},get:function(d){if(i){var g=o[d];return void 0===g?void 0:l?i[g][v]:C(i[g],v).get()}},rename:function(d,g){var p=o[d];return void 0===p||(a[p]=1|a[p],o[g]=p,delete o[d],i[p][M]=g),s},remove:function(d){var g=o[d];if(void 0===g)return s;var p=i[g];if(Object.keys(p).length>2)return a[g]=2|a[g],s.set(d,null);if(l){for(c=g;c<i.length;c++)a[c]=3|a[c];for(c=g;c<i.length;c++)o[i[c][M]]--;i.splice(g,1),delete o[d]}else C(p,v).set(null),a[g]=6|a[g];return s},constructUpdate:function(){for(var d,g,p={},T=Object.keys(a),_=0;_<T.length;_++)d=S+"["+(g=T[_])+"]",i[g]?(1&a[g]&&(p[d+"."+M]=i[g][M]),2&a[g]&&(p[d+"."+v]=l?4&a[g]?null:i[g][v]:4&a[g]?null:C(i[g],v).get())):p[d]=null;return p}};return s}},15867:function(ie,z,r){"use strict";var C=r(73972);ie.exports=function(E,f){for(var S=E._context.locale,M=0;M<2;M++){for(var v=E._context.locales,c=0;c<2;c++){var i=(v[S]||{}).dictionary;if(i){var u=i[f];if(u)return u}v=C.localeRegistry}var a=S.split("-")[0];if(a===S)break;S=a}return f}},47769:function(ie,z,r){"use strict";var C=r(72075).dfltConfig,E=r(75046),f=ie.exports={};f.log=function(){var S;if(C.logging>1){var M=["LOG:"];for(S=0;S<arguments.length;S++)M.push(arguments[S]);console.trace.apply(console,M)}if(C.notifyOnLogging>1){var v=[];for(S=0;S<arguments.length;S++)v.push(arguments[S]);E(v.join("<br>"),"long")}},f.warn=function(){var S;if(C.logging>0){var M=["WARN:"];for(S=0;S<arguments.length;S++)M.push(arguments[S]);console.trace.apply(console,M)}if(C.notifyOnLogging>0){var v=[];for(S=0;S<arguments.length;S++)v.push(arguments[S]);E(v.join("<br>"),"stick")}},f.error=function(){var S;if(C.logging>0){var M=["ERROR:"];for(S=0;S<arguments.length;S++)M.push(arguments[S]);console.error.apply(console,M)}if(C.notifyOnLogging>0){var v=[];for(S=0;S<arguments.length;S++)v.push(arguments[S]);E(v.join("<br>"),"stick")}}},77310:function(ie,z,r){"use strict";var C=r(39898);ie.exports=function(E,f,S){var M=E.selectAll("g."+S.replace(/\s/g,".")).data(f,function(c){return c[0].trace.uid});M.exit().remove(),M.enter().append("g").attr("class",S),M.order();var v=E.classed("rangeplot")?"nodeRangePlot3":"node3";return M.each(function(c){c[0][v]=C.select(this)}),M}},35657:function(ie,z,r){"use strict";var C=r(79576);z.init2dArray=function(E,f){for(var S=new Array(E),M=0;M<E;M++)S[M]=new Array(f);return S},z.transposeRagged=function(E){var f,S,M=0,v=E.length;for(f=0;f<v;f++)M=Math.max(M,E[f].length);var c=new Array(M);for(f=0;f<M;f++)for(c[f]=new Array(v),S=0;S<v;S++)c[f][S]=E[S][f];return c},z.dot=function(E,f){if(!E.length||!f.length||E.length!==f.length)return null;var S,M,v=E.length;if(E[0].length)for(S=new Array(v),M=0;M<v;M++)S[M]=z.dot(E[M],f);else if(f[0].length){var c=z.transposeRagged(f);for(S=new Array(c.length),M=0;M<c.length;M++)S[M]=z.dot(E,c[M])}else for(S=0,M=0;M<v;M++)S+=E[M]*f[M];return S},z.translationMatrix=function(E,f){return[[1,0,E],[0,1,f],[0,0,1]]},z.rotationMatrix=function(E){var f=E*Math.PI/180;return[[Math.cos(f),-Math.sin(f),0],[Math.sin(f),Math.cos(f),0],[0,0,1]]},z.rotationXYMatrix=function(E,f,S){return z.dot(z.dot(z.translationMatrix(f,S),z.rotationMatrix(E)),z.translationMatrix(-f,-S))},z.apply3DTransform=function(E){return function(){var f=arguments,S=1===arguments.length?f[0]:[f[0],f[1],f[2]||0];return z.dot(E,[S[0],S[1],S[2],1]).slice(0,3)}},z.apply2DTransform=function(E){return function(){var f=arguments;3===f.length&&(f=f[0]);var S=1===arguments.length?f[0]:[f[0],f[1]];return z.dot(E,[S[0],S[1],1]).slice(0,2)}},z.apply2DTransform2=function(E){var f=z.apply2DTransform(E);return function(S){return f(S.slice(0,2)).concat(f(S.slice(2,4)))}},z.convertCssMatrix=function(E){if(E){var f=E.length;if(16===f)return E;if(6===f)return[E[0],E[1],0,0,E[2],E[3],0,0,0,0,1,0,E[4],E[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},z.inverseTransformMatrix=function(E){var f=[];return C.invert(f,E),[[f[0],f[1],f[2],f[3]],[f[4],f[5],f[6],f[7]],[f[8],f[9],f[10],f[11]],[f[12],f[13],f[14],f[15]]]}},64872:function(ie){"use strict";ie.exports={mod:function(z,r){var C=z%r;return C<0?C+r:C},modHalf:function(z,r){return Math.abs(z)>r/2?z-Math.round(z/r)*r:z}}},65487:function(ie,z,r){"use strict";var C=r(92770),E=r(73627).isArrayOrTypedArray;function f(a,o){return function(){var l,s,d,g,p,T=a;for(g=0;g<o.length-1;g++){if(-1===(l=o[g])){for(s=!0,d=[],p=0;p<T.length;p++)d[p]=f(T[p],o.slice(g+1))(),d[p]!==d[0]&&(s=!1);return s?d[0]:d}if("number"==typeof l&&!E(T)||"object"!=typeof(T=T[l])||null===T)return}if("object"==typeof T&&null!==T&&null!==(d=T[o[g]]))return d}}ie.exports=function(a,o){if(C(o))o=String(o);else if("string"!=typeof o||"[-1]"===o.substr(o.length-4))throw"bad property string";for(var l,s,d,g=0,p=o.split(".");g<p.length;){if(l=String(p[g]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(l[1])p[g]=l[1];else{if(0!==g)throw"bad property string";p.splice(0,1)}for(s=l[2].substr(1,l[2].length-2).split("]["),d=0;d<s.length;d++)g++,p.splice(g,0,Number(s[d]))}g++}return"object"!=typeof a?{set:function(){throw"bad container"},get:function(){},astr:o,parts:p,obj:a}:{set:v(a,p,o),get:f(a,p),astr:o,parts:p,obj:a}};var S=/(^|\.)args\[/;function M(a,o){return void 0===a||null===a&&!o.match(S)}function v(a,o,l){return function(s){var d,g,p=a,T="",_=[[a,T]],y=M(s,l);for(g=0;g<o.length-1;g++){if("number"==typeof(d=o[g])&&!E(p))throw"array index but container is not an array";if(-1===d){if(y=!i(p,o.slice(g+1),s,l))break;return}if(!u(p,d,o[g+1],y))break;if("object"!=typeof(p=p[d])||null===p)throw"container is not an object";T=c(T,d),_.push([p,T])}if(y){if(g===o.length-1&&(delete p[o[g]],Array.isArray(p)&&+o[g]==p.length-1))for(;p.length&&void 0===p[p.length-1];)p.pop()}else p[o[g]]=s}}function c(a,o){var l=o;return C(o)?l="["+o+"]":a&&(l="."+o),a+l}function i(a,o,l,s){var d,g=E(l),p=!0,T=l,_=s.replace("-1",0),y=!g&&M(l,_),w=o[0];for(d=0;d<a.length;d++)_=s.replace("-1",d),g&&(y=M(T=l[d%l.length],_)),y&&(p=!1),u(a,d,w,y)&&v(a[d],o,s.replace("-1",d))(T);return p}function u(a,o,l,s){if(void 0===a[o]){if(s)return!1;a[o]="number"==typeof l?[]:{}}return!0}},64213:function(ie){"use strict";ie.exports=function(){}},75046:function(ie,z,r){"use strict";var C=r(39898),E=r(92770),f=[];ie.exports=function(S,M){if(-1===f.indexOf(S)){f.push(S);var v=1e3;E(M)?v=M:"long"===M&&(v=3e3);var c=C.select("body").selectAll(".plotly-notifier").data([0]);c.enter().append("div").classed("plotly-notifier",!0),c.selectAll(".notifier-note").data(f).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(u){var a=C.select(this);a.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){a.transition().call(i)});for(var o=a.append("p"),l=u.split(/<br\s*\/?>/g),s=0;s<l.length;s++)s&&o.append("br"),o.append("span").text(l[s]);"stick"===M?a.transition().duration(350).style("opacity",1):a.transition().duration(700).style("opacity",1).transition().delay(v).call(i)})}function i(u){u.duration(700).style("opacity",0).each("end",function(a){var o=f.indexOf(a);-1!==o&&f.splice(o,1),C.select(this).remove()})}}},39918:function(ie,z,r){"use strict";var C=r(6964),E="data-savedcursor";ie.exports=function(f,S){var M=f.attr(E);if(S){if(!M){for(var v=(f.attr("class")||"").split(" "),c=0;c<v.length;c++){var i=v[c];0===i.indexOf("cursor-")&&f.attr(E,i.substr(7)).classed(i,!1)}f.attr(E)||f.attr(E,"!!")}C(f,S)}else M&&(f.attr(E,null),"!!"===M?C(f):C(f,M))}},61082:function(ie,z,r){"use strict";var C=r(35657).dot,E=r(50606).BADNUM,f=ie.exports={};f.tester=function(S){var M,v=S.slice(),c=v[0][0],i=c,u=v[0][1],a=u;for(v[v.length-1][0]===v[0][0]&&v[v.length-1][1]===v[0][1]||v.push(v[0]),M=1;M<v.length;M++)c=Math.min(c,v[M][0]),i=Math.max(i,v[M][0]),u=Math.min(u,v[M][1]),a=Math.max(a,v[M][1]);var o,l=!1;5===v.length&&(v[0][0]===v[1][0]?v[2][0]===v[3][0]&&v[0][1]===v[3][1]&&v[1][1]===v[2][1]&&(l=!0,o=function(g){return g[0]===v[0][0]}):v[0][1]===v[1][1]&&v[2][1]===v[3][1]&&v[0][0]===v[3][0]&&v[1][0]===v[2][0]&&(l=!0,o=function(g){return g[1]===v[0][1]}));var s=!0,d=v[0];for(M=1;M<v.length;M++)if(d[0]!==v[M][0]||d[1]!==v[M][1]){s=!1;break}return{xmin:c,xmax:i,ymin:u,ymax:a,pts:v,contains:l?function(g,p){var T=g[0],_=g[1];return!(T===E||T<c||T>i||_===E||_<u||_>a||p&&o(g))}:function(g,p){var T=g[0],_=g[1];if(T===E||T<c||T>i||_===E||_<u||_>a)return!1;var y,w,m,b,k,h=v.length,O=v[0][0],A=v[0][1],I=0;for(y=1;y<h;y++)if(w=O,m=A,O=v[y][0],A=v[y][1],!(T<(b=Math.min(w,O))||T>Math.max(w,O)||_>Math.max(m,A)))if(_<Math.min(m,A))T!==b&&I++;else{if(_===(k=O===w?_:m+(T-w)*(A-m)/(O-w)))return 1!==y||!p;_<=k&&T!==b&&I++}return I%2==1},isRect:l,degenerate:s}},f.isSegmentBent=function(S,M,v,c){var i,u,a,o=S[M],l=[S[v][0]-o[0],S[v][1]-o[1]],s=C(l,l),d=Math.sqrt(s),g=[-l[1]/d,l[0]/d];for(i=M+1;i<v;i++)if((a=C(u=[S[i][0]-o[0],S[i][1]-o[1]],l))<0||a>s||Math.abs(C(u,g))>c)return!0;return!1},f.filter=function(S,M){var v=[S[0]],c=0,i=0;function u(a){S.push(a);var o=v.length,l=c;v.splice(i+1);for(var s=l+1;s<S.length;s++)(s===S.length-1||f.isSegmentBent(S,l,s+1,M))&&(v.push(S[s]),v.length<o-2&&(c=s,i=v.length-1),l=s)}return S.length>1&&u(S.pop()),{addPt:u,raw:S,filtered:v}}},79749:function(ie,z,r){"use strict";var C=r(58617),E=r(98580);ie.exports=function(f,S,M){var v=f._fullLayout,c=!0;return v._glcanvas.each(function(i){if(i.regl)i.regl.preloadCachedCode(M);else if(!i.pick||v._has("parcoords")){try{i.regl=E({canvas:this,attributes:{antialias:!i.pick,preserveDrawingBuffer:!0},pixelRatio:f._context.plotGlPixelRatio||r.g.devicePixelRatio,extensions:S||[],cachedCode:M||{}})}catch{c=!1}i.regl||(c=!1),c&&this.addEventListener("webglcontextlost",function(u){f&&f.emit&&f.emit("plotly_webglcontextlost",{event:u,layer:i.key})},!1)}}),c||C({container:v._glcontainer.node()}),c}},45142:function(ie,z,r){"use strict";var C=r(92770),E=r(35791);ie.exports=function(f){var S,o;if("string"!=typeof(S=f&&f.hasOwnProperty("userAgent")?f.userAgent:(typeof navigator<"u"&&(o=navigator.userAgent),o&&o.headers&&"string"==typeof o.headers["user-agent"]&&(o=o.headers["user-agent"]),o)))return!0;var M=E({ua:{headers:{"user-agent":S}},tablet:!0,featureDetect:!1});if(!M)for(var v=S.split(" "),c=1;c<v.length;c++)if(-1!==v[c].indexOf("Safari"))for(var i=c-1;i>-1;i--){var u=v[i];if("Version/"===u.substr(0,8)){var a=u.substr(8).split(".")[0];if(C(a)&&(a=+a),a>=13)return!0}}return M}},75138:function(ie){"use strict";ie.exports=function(z,r){if(r instanceof RegExp){for(var C=r.toString(),E=0;E<z.length;E++)if(z[E]instanceof RegExp&&z[E].toString()===C)return z;z.push(r)}else!r&&0!==r||-1!==z.indexOf(r)||z.push(r);return z}},10847:function(ie,z,r){"use strict";var C=r(71828),E=r(72075).dfltConfig,f={add:function(S,M,v,c,i){var u,a;S.undoQueue=S.undoQueue||{index:0,queue:[],sequence:!1},a=S.undoQueue.index,S.autoplay?S.undoQueue.inSequence||(S.autoplay=!1):(!S.undoQueue.sequence||S.undoQueue.beginSequence?(S.undoQueue.queue.splice(a,S.undoQueue.queue.length-a,u={undo:{calls:[],args:[]},redo:{calls:[],args:[]}}),S.undoQueue.index+=1):u=S.undoQueue.queue[a-1],S.undoQueue.beginSequence=!1,u&&(u.undo.calls.unshift(M),u.undo.args.unshift(v),u.redo.calls.push(c),u.redo.args.push(i)),S.undoQueue.queue.length>E.queueLength&&(S.undoQueue.queue.shift(),S.undoQueue.index--))},startSequence:function(S){S.undoQueue=S.undoQueue||{index:0,queue:[],sequence:!1},S.undoQueue.sequence=!0,S.undoQueue.beginSequence=!0},stopSequence:function(S){S.undoQueue=S.undoQueue||{index:0,queue:[],sequence:!1},S.undoQueue.sequence=!1,S.undoQueue.beginSequence=!1},undo:function(S){var M,v;if(!(void 0===S.undoQueue||isNaN(S.undoQueue.index)||S.undoQueue.index<=0)){for(S.undoQueue.index--,M=S.undoQueue.queue[S.undoQueue.index],S.undoQueue.inSequence=!0,v=0;v<M.undo.calls.length;v++)f.plotDo(S,M.undo.calls[v],M.undo.args[v]);S.undoQueue.inSequence=!1,S.autoplay=!1}},redo:function(S){var M,v;if(!(void 0===S.undoQueue||isNaN(S.undoQueue.index)||S.undoQueue.index>=S.undoQueue.queue.length)){for(M=S.undoQueue.queue[S.undoQueue.index],S.undoQueue.inSequence=!0,v=0;v<M.redo.calls.length;v++)f.plotDo(S,M.redo.calls[v],M.redo.args[v]);S.undoQueue.inSequence=!1,S.autoplay=!1,S.undoQueue.index++}},plotDo:function(S,M,v){S.autoplay=!0,v=function(c,i){for(var u,a=[],o=0;o<i.length;o++)a[o]=(u=i[o])===c?u:"object"==typeof u?Array.isArray(u)?C.extendDeep([],u):C.extendDeepAll({},u):u;return a}(S,v),M.apply(null,v)}};ie.exports=f},30587:function(ie,z){"use strict";z.counter=function(r,C,E,f){var S=(C||"")+(E?"":"$"),M=!1===f?"":"^";return"xy"===r?new RegExp(M+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+S):new RegExp(M+r+"([2-9]|[1-9][0-9]+)?"+S)}},6962:function(ie){"use strict";var z=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,r=/^[^\.\[\]]+$/;ie.exports=function(C,E){for(;E;){var f=C.match(z);if(f)C=f[1];else{if(!C.match(r))throw new Error("bad relativeAttr call:"+[C,E]);C=""}if("^"!==E.charAt(0))break;E=E.slice(1)}return C&&"["!==E.charAt(0)?C+"."+E:C+E}},51332:function(ie,z,r){"use strict";var C=r(73627).isArrayOrTypedArray,E=r(41965);ie.exports=function f(S,M){for(var v in M){var c=M[v],i=S[v];if(i!==c)if("_"===v.charAt(0)||"function"==typeof c){if(v in S)continue;S[v]=c}else if(C(c)&&C(i)&&E(c[0])){if("customdata"===v||"ids"===v)continue;for(var u=Math.min(c.length,i.length),a=0;a<u;a++)i[a]!==c[a]&&E(c[a])&&E(i[a])&&f(i[a],c[a])}else E(c)&&E(i)&&(f(i,c),Object.keys(i).length||delete S[v])}}},65888:function(ie,z,r){"use strict";var C=r(92770),E=r(47769),f=r(23389),S=r(50606).BADNUM,M=1e-9;function v(a,o){return a<o}function c(a,o){return a<=o}function i(a,o){return a>o}function u(a,o){return a>=o}z.findBin=function(a,o,l){if(C(o.start))return l?Math.ceil((a-o.start)/o.size-M)-1:Math.floor((a-o.start)/o.size+M);var s,d,g=0,p=o.length,T=0,_=p>1?(o[p-1]-o[0])/(p-1):1;for(d=_>=0?l?v:c:l?u:i,a+=_*M*(l?-1:1)*(_>=0?1:-1);g<p&&T++<100;)d(o[s=Math.floor((g+p)/2)],a)?g=s+1:p=s;return T>90&&E.log("Long binary search..."),g-1},z.sorterAsc=function(a,o){return a-o},z.sorterDes=function(a,o){return o-a},z.distinctVals=function(a){var o,l=a.slice();for(l.sort(z.sorterAsc),o=l.length-1;o>-1&&l[o]===S;o--);for(var s,d=l[o]-l[0]||1,g=d/(o||1)/1e4,p=[],T=0;T<=o;T++){var _=l[T],y=_-s;void 0===s?(p.push(_),s=_):y>g&&(d=Math.min(d,y),p.push(_),s=_)}return{vals:p,minDiff:d}},z.roundUp=function(a,o,l){for(var s,d=0,g=o.length-1,p=0,T=l?0:1,_=l?1:0,y=l?Math.ceil:Math.floor;d<g&&p++<100;)o[s=y((d+g)/2)]<=a?d=s+T:g=s-_;return o[d]},z.sort=function(a,o){for(var l=0,s=0,d=1;d<a.length;d++){var g=o(a[d],a[d-1]);if(g<0?l=1:g>0&&(s=1),l&&s)return a.sort(o)}return s?a:a.reverse()},z.findIndexOfMin=function(a,o){o=o||f;for(var l,s=1/0,d=0;d<a.length;d++){var g=o(a[d]);g<s&&(s=g,l=d)}return l}},6964:function(ie){"use strict";ie.exports=function(z,r){(z.attr("class")||"").split(" ").forEach(function(C){0===C.indexOf("cursor-")&&z.classed(C,!1)}),r&&z.classed("cursor-"+r,!0)}},58617:function(ie,z,r){"use strict";var C=r(7901),E=function(){};ie.exports=function(f){for(var S in f)"function"==typeof f[S]&&(f[S]=E);f.destroy=function(){f.container.parentNode.removeChild(f.container)};var M=document.createElement("div");M.className="no-webgl",M.style.cursor="pointer",M.style.fontSize="24px",M.style.color=C.defaults[0],M.style.position="absolute",M.style.left=M.style.top="0px",M.style.width=M.style.height="100%",M.style["background-color"]=C.lightLine,M.style["z-index"]=30;var v=document.createElement("p");return v.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",v.style.position="relative",v.style.top="50%",v.style.left="50%",v.style.height="30%",v.style.width="50%",v.style.margin="-15% 0 0 -25%",M.appendChild(v),f.container.appendChild(M),f.container.style.background="#FFFFFF",f.container.onclick=function(){window.open("https://get.webgl.org")},!1}},78607:function(ie){"use strict";ie.exports=function(z){return Object.keys(z).sort()}},80038:function(ie,z,r){"use strict";var C=r(92770),E=r(73627).isArrayOrTypedArray;z.aggNums=function(f,S,M,v){var c,i;if((!v||v>M.length)&&(v=M.length),C(S)||(S=!1),E(M[0])){for(i=new Array(v),c=0;c<v;c++)i[c]=z.aggNums(f,S,M[c]);M=i}for(c=0;c<v;c++)C(S)?C(M[c])&&(S=f(+S,+M[c])):S=M[c];return S},z.len=function(f){return z.aggNums(function(S){return S+1},0,f)},z.mean=function(f,S){return S||(S=z.len(f)),z.aggNums(function(M,v){return M+v},0,f)/S},z.midRange=function(f){if(void 0!==f&&0!==f.length)return(z.aggNums(Math.max,null,f)+z.aggNums(Math.min,null,f))/2},z.variance=function(f,S,M){return S||(S=z.len(f)),C(M)||(M=z.mean(f,S)),z.aggNums(function(v,c){return v+Math.pow(c-M,2)},0,f)/S},z.stdev=function(f,S,M){return Math.sqrt(z.variance(f,S,M))},z.median=function(f){var S=f.slice().sort();return z.interp(S,.5)},z.interp=function(f,S){if(!C(S))throw"n should be a finite number";if((S=S*f.length-.5)<0)return f[0];if(S>f.length-1)return f[f.length-1];var M=S%1;return M*f[Math.ceil(S)]+(1-M)*f[Math.floor(S)]}},78614:function(ie,z,r){"use strict";var C=r(25075);ie.exports=function(E){return E?C(E):[0,0,0,1]}},63893:function(ie,z,r){"use strict";var C=r(39898),E=r(71828),f=E.strTranslate,S=r(77922),M=r(18783).LINE_SPACING,v=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;z.convertToTspans=function(B,W,j){var Z=B.text(),V=!B.attr("data-notex")&&W&&W._context.typesetMath&&typeof MathJax<"u"&&Z.match(v),q=C.select(B.node().parentNode);if(!q.empty()){var G=B.attr("class")?B.attr("class").split(" ")[0]:"text";return q.selectAll("svg."+(G+="-math")).remove(),q.selectAll("g."+G+"-group").remove(),B.style("display",null).attr({"data-unformatted":Z,"data-math":"N"}),V?(W&&W._promises||[]).push(new Promise(function(ne){B.style("display","none");var X=parseInt(B.node().style.fontSize,10);!function(Q,te,re){var le,ue,he,ge,xe=parseInt((MathJax.version||"").split(".")[0]);if(2===xe||3===xe){var ke=function(){var pe="math-output-"+E.randstr({},64),ye=(ge=C.select("body").append("div").attr({id:pe}).style({visibility:"hidden",position:"absolute","font-size":te.fontSize+"px"}).text(Q.replace(c,"\\lt ").replace(i,"\\gt "))).node();return 2===xe?MathJax.Hub.Typeset(ye):MathJax.typeset([ye])},Ae=function(){var pe=ge.select(2===xe?".MathJax_SVG":".MathJax"),ye=!pe.empty()&&ge.select("svg").node();if(ye){var Ne,be=ye.getBoundingClientRect();Ne=2===xe?C.select("body").select("#MathJax_SVG_glyphs"):pe.select("defs"),re(pe,Ne,be)}else E.log("There was an error in the tex syntax.",Q),re();ge.remove()};2===xe?MathJax.Hub.Queue(function(){return ue=E.extendDeepAll({},MathJax.Hub.config),he=MathJax.Hub.processSectionDelay,void 0!==MathJax.Hub.processSectionDelay&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:u},displayAlign:"left"})},function(){if("SVG"!==(le=MathJax.Hub.config.menuSettings.renderer))return MathJax.Hub.setRenderer("SVG")},ke,Ae,function(){if("SVG"!==le)return MathJax.Hub.setRenderer(le)},function(){return void 0!==he&&(MathJax.Hub.processSectionDelay=he),MathJax.Hub.Config(ue)}):3===xe&&(ue=E.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=u,"svg"!==(le=MathJax.config.startup.output)&&(MathJax.config.startup.output="svg"),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){ke(),Ae(),"svg"!==le&&(MathJax.config.startup.output=le),MathJax.config=ue}))}else E.warn("No MathJax version:",MathJax.version)}(V[2],{fontSize:X},function(Q,te,re){q.selectAll("svg."+G).remove(),q.selectAll("g."+G+"-group").remove();var le=Q&&Q.select("svg");if(!le||!le.node())return H(),void ne();var ue=q.append("g").classed(G+"-group",!0).attr({"pointer-events":"none","data-unformatted":Z,"data-math":"Y"});ue.node().appendChild(le.node()),te&&te.node()&&le.node().insertBefore(te.node().cloneNode(!0),le.node().firstChild);var he=re.width,ge=re.height;le.attr({class:G,height:ge,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var xe=B.node().style.fill||"black",ke=le.select("g");ke.attr({fill:xe,stroke:xe});var Ae=ke.node().getBoundingClientRect(),pe=Ae.width,ye=Ae.height;(pe>he||ye>ge)&&(le.style("overflow","hidden"),pe=(Ae=le.node().getBoundingClientRect()).width,ye=Ae.height);var Ne=+B.attr("x"),be=+B.attr("y"),Ee=-(X||B.node().getBoundingClientRect().height)/4;if("y"===G[0])ue.attr({transform:"rotate("+[-90,Ne,be]+")"+f(-pe/2,Ee-ye/2)});else if("l"===G[0])be=Ee-ye/2;else if("a"===G[0]&&0!==G.indexOf("atitle"))Ne=0,be=Ee;else{var Oe=B.attr("text-anchor");Ne-=pe*("middle"===Oe?.5:"end"===Oe?1:0),be=be+Ee-ye/2}le.attr({x:Ne,y:be}),j&&j.call(B,ue),ne(ue)})})):H(),B}function H(){q.empty()||(G=B.attr("class")+"-math",q.select("svg."+G).remove()),B.text("").style("white-space","pre"),function(X,$){$=$.replace(g," ");var Q,te=!1,re=[],le=-1;function ue(){le++;var _e=document.createElementNS(S.svg,"tspan");C.select(_e).attr({class:"line",dy:le*M+"em"}),X.appendChild(_e),Q=_e;var Me=re;if(re=[{node:_e}],Me.length>1)for(var Pe=1;Pe<Me.length;Pe++)he(Me[Pe])}function he(_e){var Me,Pe=_e.type,Ue={};if("a"===Pe){Me="a";var Be=_e.target,Ve=_e.href,ve=_e.popup;Ve&&(Ue={"xlink:xlink:show":"_blank"===Be||"_"!==Be.charAt(0)?"new":"replace",target:Be,"xlink:xlink:href":Ve},ve&&(Ue.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+ve+'");return false;'))}else Me="tspan";_e.style&&(Ue.style=_e.style);var Te=document.createElementNS(S.svg,Me);if("sup"===Pe||"sub"===Pe){ge(Q,s),Q.appendChild(Te);var Ce=document.createElementNS(S.svg,"tspan");ge(Ce,s),C.select(Ce).attr("dy",l[Pe]),Ue.dy=o[Pe],Q.appendChild(Te),Q.appendChild(Ce)}else Q.appendChild(Te);C.select(Te).attr(Ue),Q=_e.node=Te,re.push(_e)}function ge(_e,Me){_e.appendChild(document.createTextNode(Me))}function xe(_e){if(1!==re.length){var Me=re.pop();_e!==Me.type&&E.log("Start tag <"+Me.type+"> doesnt match end tag <"+_e+">. Pretending it did match.",$),Q=re[re.length-1].node}else E.log("Ignoring unexpected end tag </"+_e+">.",$)}_.test($)?ue():(Q=X,re=[{node:X}]);for(var ke=$.split(p),Ae=0;Ae<ke.length;Ae++){var pe=ke[Ae],ye=pe.match(T),Ne=ye&&ye[2].toLowerCase(),be=a[Ne];if("br"===Ne)ue();else if(void 0===be)ge(Q,I(pe));else if(ye[1])xe(Ne);else{var Ee=ye[4],Oe={type:Ne},De=k(Ee,y);if(De?(De=De.replace(h,"$1 fill:"),be&&(De+=";"+be)):be&&(De=be),De&&(Oe.style=De),"a"===Ne){te=!0;var oe=k(Ee,w);if(oe){var de=P(oe);de&&(Oe.href=de,Oe.target=k(Ee,m)||"_blank",Oe.popup=k(Ee,b))}}he(Oe)}}return te}(B.node(),Z)&&B.style("pointer-events","all"),z.positionText(B),j&&j.call(B)}};var c=/(<|&lt;|&#60;)/g,i=/(>|&gt;|&#62;)/g,u=[["$","$"],["\\(","\\)"]],a={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},o={sub:"0.3em",sup:"-0.6em"},l={sub:"-0.21em",sup:"0.42em"},s="\u200b",d=["http:","https:","mailto:","",void 0,":"],g=z.NEWLINES=/(\r\n?|\n)/g,p=/(<[^<>]*>)/,T=/<(\/?)([^ >]*)(\s+(.*))?>/i,_=/<br(\s+.*)?>/i;z.BR_TAG_ALL=/<br(\s+.*)?>/gi;var y=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,w=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,m=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,b=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function k(B,W){if(!B)return null;var j=B.match(W),Z=j&&(j[3]||j[4]);return Z&&I(Z)}var h=/(^|;)\s*color:/;z.plainText=function(B,W){for(var j=void 0!==(W=W||{}).len&&-1!==W.len?W.len:1/0,Z=void 0!==W.allowedTags?W.allowedTags:["br"],q=B.split(p),G=[],H="",ne=0,X=0;X<q.length;X++){var $=q[X],Q=$.match(T),te=Q&&Q[2].toLowerCase();if(te)-1!==Z.indexOf(te)&&(G.push($),H=te);else{var re=$.length;if(ne+re<j)G.push($),ne+=re;else if(ne<j){var le=j-ne;H&&("br"!==H||le<=3||re<=3)&&G.pop(),G.push(j>3?$.substr(0,le-3)+"...":$.substr(0,le));break}H=""}}return G.join("")};var O={mu:"\u03bc",amp:"&",lt:"<",gt:">",nbsp:"\xa0",times:"\xd7",plusmn:"\xb1",deg:"\xb0"},A=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function I(B){return B.replace(A,function(W,j){return("#"===j.charAt(0)?function(Z){if(!(Z>1114111)){var V=String.fromCodePoint;if(V)return V(Z);var q=String.fromCharCode;return Z<=65535?q(Z):q(55232+(Z>>10),Z%1024+56320)}}("x"===j.charAt(1)?parseInt(j.substr(2),16):parseInt(j.substr(1),10)):O[j])||W})}function P(B){var W=encodeURI(decodeURI(B)),j=document.createElement("a"),Z=document.createElement("a");j.href=B,Z.href=W;var q=Z.protocol;return-1!==d.indexOf(j.protocol)&&-1!==d.indexOf(q)?W:""}function L(B,W,j){var Z,V,q,G=j.horizontalAlign,H=j.verticalAlign||"top",ne=B.node().getBoundingClientRect(),X=W.node().getBoundingClientRect();return V="bottom"===H?function(){return ne.bottom-Z.height}:"middle"===H?function(){return ne.top+(ne.height-Z.height)/2}:function(){return ne.top},q="right"===G?function(){return ne.right-Z.width}:"center"===G?function(){return ne.left+(ne.width-Z.width)/2}:function(){return ne.left},function(){Z=this.node().getBoundingClientRect();var $=q()-X.left,Q=V()-X.top,te=j.gd||{};if(j.gd){te._fullLayout._calcInverseTransform(te);var re=E.apply3DTransform(te._fullLayout._invTransform)($,Q);$=re[0],Q=re[1]}return this.style({top:Q+"px",left:$+"px","z-index":1e3}),this}}z.convertEntities=I,z.sanitizeHTML=function(B){B=B.replace(g," ");for(var W=document.createElement("p"),j=W,Z=[],V=B.split(p),q=0;q<V.length;q++){var G=V[q],H=G.match(T),ne=H&&H[2].toLowerCase();if(ne in a)if(H[1])Z.length&&(j=Z.pop());else{var X=H[4],$=k(X,y),Q=$?{style:$}:{};if("a"===ne){var te=k(X,w);if(te){var re=P(te);if(re){Q.href=re;var le=k(X,m);le&&(Q.target=le)}}}var ue=document.createElement(ne);j.appendChild(ue),C.select(ue).attr(Q),j=ue,Z.push(ue)}else j.appendChild(document.createTextNode(I(G)))}return W.innerHTML},z.lineCount=function(B){return B.selectAll("tspan.line").size()||1},z.positionText=function(B,W,j){return B.each(function(){var Z=C.select(this);function V(H,ne){return void 0===ne?null===(ne=Z.attr(H))&&(Z.attr(H,0),ne=0):Z.attr(H,ne),ne}var q=V("x",W),G=V("y",j);"text"===this.nodeName&&Z.selectAll("tspan.line").attr({x:q,y:G})})};var N="1px ";z.makeTextShadow=function(B){return"1px 1px 1px "+B+", -1px -"+N+N+B+", 1px -"+N+N+B+", -"+N+N+N+B},z.makeEditable=function(B,W){var j=W.gd,Z=W.delegate,V=C.dispatch("edit","input","cancel"),q=Z||B;if(B.style({"pointer-events":Z?"none":"all"}),1!==B.size())throw new Error("boo");function G(){var ne,X,$,Q,te;ne=C.select(j).select(".svg-container"),X=ne.append("div"),$=B.node().style,Q=parseFloat($.fontSize||12),void 0===(te=W.text)&&(te=B.attr("data-unformatted")),X.classed("plugin-editable editable",!0).style({position:"absolute","font-family":$.fontFamily||"Arial","font-size":Q,color:W.fill||$.fill||"black",opacity:1,"background-color":W.background||"transparent",outline:"#ffffff33 1px solid",margin:[-Q/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(te).call(L(B,ne,W)).on("blur",function(){j._editing=!1,B.text(this.textContent).style({opacity:1});var ue,he=C.select(this).attr("class");(ue=he?"."+he.split(" ")[0]+"-math-group":"[class*=-math-group]")&&C.select(B.node().parentNode).select(ue).style({opacity:0});var ge=this.textContent;C.select(this).transition().duration(0).remove(),C.select(document).on("mouseup",null),V.edit.call(B,ge)}).on("focus",function(){var ue=this;j._editing=!0,C.select(document).on("mouseup",function(){if(C.event.target===ue)return!1;document.activeElement===X.node()&&X.node().blur()})}).on("keyup",function(){27===C.event.which?(j._editing=!1,B.style({opacity:1}),C.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),V.cancel.call(B,this.textContent)):(V.input.call(B,this.textContent),C.select(this).call(L(B,ne,W)))}).on("keydown",function(){13===C.event.which&&this.blur()}).call(H),B.style({opacity:0});var re,le=q.attr("class");(re=le?"."+le.split(" ")[0]+"-math-group":"[class*=-math-group]")&&C.select(B.node().parentNode).select(re).style({opacity:0})}function H(ne){var X=ne.node(),$=document.createRange();$.selectNodeContents(X);var Q=window.getSelection();Q.removeAllRanges(),Q.addRange($),X.focus()}return W.immediate?G():q.on("click",G),C.rebind(B,V,"on")}},79990:function(ie,z){"use strict";var r={};function C(E){E&&null!==E.timer&&(clearTimeout(E.timer),E.timer=null)}z.throttle=function(E,f,S){var M=r[E],v=Date.now();if(!M){for(var c in r)r[c].ts<v-6e4&&delete r[c];M=r[E]={ts:0,timer:null}}function i(){S(),M.ts=Date.now(),M.onDone&&(M.onDone(),M.onDone=null)}C(M),v>M.ts+f?i():M.timer=setTimeout(function(){i(),M.timer=null},f)},z.done=function(E){var f=r[E];return f&&f.timer?new Promise(function(S){var M=f.onDone;f.onDone=function(){M&&M(),S(),f.onDone=null}}):Promise.resolve()},z.clear=function(E){if(E)C(r[E]),delete r[E];else for(var f in r)z.clear(f)}},58163:function(ie,z,r){"use strict";var C=r(92770);ie.exports=function(E,f){if(E>0)return Math.log(E)/Math.LN10;var S=Math.log(Math.min(f[0],f[1]))/Math.LN10;return C(S)||(S=Math.log(Math.max(f[0],f[1]))/Math.LN10-6),S}},90973:function(ie,z,r){"use strict";var C=ie.exports={},E=r(78776).locationmodeToLayer,f=r(96892).zL;C.getTopojsonName=function(S){return[S.scope.replace(/ /g,"-"),"_",S.resolution.toString(),"m"].join("")},C.getTopojsonPath=function(S,M){return S+M+".json"},C.getTopojsonFeatures=function(S,M){return f(M,M.objects[E[S.locationmode]]).features}},37815:function(ie){"use strict";ie.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},92177:function(ie){"use strict";ie.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},14458:function(ie,z,r){"use strict";var C=r(73972);ie.exports=function(E){for(var f,S,M=C.layoutArrayContainers,v=C.layoutArrayRegexes,c=E.split("[")[0],i=0;i<v.length;i++)if((S=E.match(v[i]))&&0===S.index){f=S[0];break}if(f||(f=M[M.indexOf(c)]),!f)return!1;var u=E.substr(f.length);return u?!!(S=u.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:f,index:Number(S[1]),property:S[3]||""}:{array:f,index:"",property:""}}},30962:function(ie,z,r){"use strict";var C=r(71828),E=C.extendFlat,f=C.isPlainObject,S={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},M={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},v=S.flags.slice().concat(["fullReplot"]),c=M.flags.slice().concat("layoutReplot");function i(o){for(var l={},s=0;s<o.length;s++)l[o[s]]=!1;return l}function u(o,l,s){var d=E({},o);for(var g in d){var p=d[g];f(p)&&(d[g]=a(p,l,0,g))}return"from-root"===s&&(d.editType=l),d}function a(o,l,s,d){if(o.valType){var g=E({},o);if(g.editType=l,Array.isArray(o.items)){g.items=new Array(o.items.length);for(var p=0;p<o.items.length;p++)g.items[p]=a(o.items[p],l)}return g}return u(o,l,"_"===d.charAt(0)?"nested":"from-root")}ie.exports={traces:S,layout:M,traceFlags:function(){return i(v)},layoutFlags:function(){return i(c)},update:function(o,l){var s=l.editType;if(s&&"none"!==s)for(var d=s.split("+"),g=0;g<d.length;g++)o[d[g]]=!0},overrideAll:u}},58377:function(ie,z,r){"use strict";var C=r(92770),E=r(27812),f=r(73972),S=r(71828),M=r(74875),v=r(41675),c=r(7901),i=v.cleanId,u=v.getFromTrace,a=f.traceIs;function o(w,m){var b=w[m],k=m.charAt(0);b&&"paper"!==b&&(w[m]=i(b,k,!0))}function l(w){function m(b,k){w[b]&&(!w.title||!w.title[k])&&(w.title||(w.title={}),w.title[k]=w[b],delete w[b])}w&&("string"!=typeof w.title&&"number"!=typeof w.title||(w.title={text:w.title}),m("titlefont","font"),m("titleposition","position"),m("titleside","side"),m("titleoffset","offset"))}function s(w){if(!S.isPlainObject(w))return!1;var m=w.name;return delete w.name,delete w.showlegend,("string"==typeof m||"number"==typeof m)&&String(m)}function d(w,m,b,k){if(b&&!k)return w;if(k&&!b||!w.trim())return m;if(!m.trim())return w;var h,O=Math.min(w.length,m.length);for(h=0;h<O&&w.charAt(h)===m.charAt(h);h++);return w.substr(0,h).trim()}function g(w){var m="middle",b="center";return"string"==typeof w&&(-1!==w.indexOf("top")?m="top":-1!==w.indexOf("bottom")&&(m="bottom"),-1!==w.indexOf("left")?b="left":-1!==w.indexOf("right")&&(b="right")),m+" "+b}function p(w,m){return m in w&&"object"==typeof w[m]&&0===Object.keys(w[m]).length}z.clearPromiseQueue=function(w){Array.isArray(w._promises)&&w._promises.length>0&&S.log("Clearing previous rejected promises from queue."),w._promises=[]},z.cleanLayout=function(w){var m,b;w||(w={}),w.xaxis1&&(w.xaxis||(w.xaxis=w.xaxis1),delete w.xaxis1),w.yaxis1&&(w.yaxis||(w.yaxis=w.yaxis1),delete w.yaxis1),w.scene1&&(w.scene||(w.scene=w.scene1),delete w.scene1);var k=(M.subplotsRegistry.cartesian||{}).attrRegex,h=(M.subplotsRegistry.polar||{}).attrRegex,O=(M.subplotsRegistry.ternary||{}).attrRegex,A=(M.subplotsRegistry.gl3d||{}).attrRegex,I=Object.keys(w);for(m=0;m<I.length;m++){var P=I[m];if(k&&k.test(P)){var L=w[P];L.anchor&&"free"!==L.anchor&&(L.anchor=i(L.anchor)),L.overlaying&&(L.overlaying=i(L.overlaying)),L.type||(L.isdate?L.type="date":L.islog?L.type="log":!1===L.isdate&&!1===L.islog&&(L.type="linear")),"withzero"!==L.autorange&&"tozero"!==L.autorange||(L.autorange=!0,L.rangemode="tozero"),delete L.islog,delete L.isdate,delete L.categories,p(L,"domain")&&delete L.domain,void 0!==L.autotick&&(void 0===L.tickmode&&(L.tickmode=L.autotick?"auto":"linear"),delete L.autotick),l(L)}else if(h&&h.test(P))l(w[P].radialaxis);else if(O&&O.test(P)){var N=w[P];l(N.aaxis),l(N.baxis),l(N.caxis)}else if(A&&A.test(P)){var B=w[P],W=B.cameraposition;if(Array.isArray(W)&&4===W[0].length){var Z=W[1],V=W[2],q=E([],W[0]),G=[];for(b=0;b<3;++b)G[b]=Z[b]+V*q[2+4*b];B.camera={eye:{x:G[0],y:G[1],z:G[2]},center:{x:Z[0],y:Z[1],z:Z[2]},up:{x:0,y:0,z:1}},delete B.cameraposition}l(B.xaxis),l(B.yaxis),l(B.zaxis)}}var H=Array.isArray(w.annotations)?w.annotations.length:0;for(m=0;m<H;m++){var ne=w.annotations[m];S.isPlainObject(ne)&&(ne.ref&&("paper"===ne.ref?(ne.xref="paper",ne.yref="paper"):"data"===ne.ref&&(ne.xref="x",ne.yref="y"),delete ne.ref),o(ne,"xref"),o(ne,"yref"))}var X=Array.isArray(w.shapes)?w.shapes.length:0;for(m=0;m<X;m++){var $=w.shapes[m];S.isPlainObject($)&&(o($,"xref"),o($,"yref"))}var Q=Array.isArray(w.images)?w.images.length:0;for(m=0;m<Q;m++){var te=w.images[m];S.isPlainObject(te)&&(o(te,"xref"),o(te,"yref"))}var re=w.legend;return re&&(re.x>3?(re.x=1.02,re.xanchor="left"):re.x<-2&&(re.x=-.02,re.xanchor="right"),re.y>3?(re.y=1.02,re.yanchor="bottom"):re.y<-2&&(re.y=-.02,re.yanchor="top")),l(w),"rotate"===w.dragmode&&(w.dragmode="orbit"),c.clean(w),w.template&&w.template.layout&&z.cleanLayout(w.template.layout),w},z.cleanData=function(w){for(var m=0;m<w.length;m++){var b,k=w[m];if("histogramy"===k.type&&"xbins"in k&&!("ybins"in k)&&(k.ybins=k.xbins,delete k.xbins),k.error_y&&"opacity"in k.error_y){var h=c.defaults,O=k.error_y.color||(a(k,"bar")?c.defaultLine:h[m%h.length]);k.error_y.color=c.addOpacity(c.rgb(O),c.opacity(O)*k.error_y.opacity),delete k.error_y.opacity}if("bardir"in k&&("h"!==k.bardir||!a(k,"bar")&&"histogram"!==k.type.substr(0,9)||(k.orientation="h",z.swapXYData(k)),delete k.bardir),"histogramy"===k.type&&z.swapXYData(k),"histogramx"!==k.type&&"histogramy"!==k.type||(k.type="histogram"),"scl"in k&&!("colorscale"in k)&&(k.colorscale=k.scl,delete k.scl),"reversescl"in k&&!("reversescale"in k)&&(k.reversescale=k.reversescl,delete k.reversescl),k.xaxis&&(k.xaxis=i(k.xaxis,"x")),k.yaxis&&(k.yaxis=i(k.yaxis,"y")),a(k,"gl3d")&&k.scene&&(k.scene=M.subplotsRegistry.gl3d.cleanId(k.scene)),!a(k,"pie-like")&&!a(k,"bar-like"))if(Array.isArray(k.textposition))for(b=0;b<k.textposition.length;b++)k.textposition[b]=g(k.textposition[b]);else k.textposition&&(k.textposition=g(k.textposition));var A=f.getModule(k);if(A&&A.colorbar){var I=A.colorbar.container,P=I?k[I]:k;P&&P.colorscale&&("YIGnBu"===P.colorscale&&(P.colorscale="YlGnBu"),"YIOrRd"===P.colorscale&&(P.colorscale="YlOrRd"))}if("surface"===k.type&&S.isPlainObject(k.contours)){var L=["x","y","z"];for(b=0;b<L.length;b++){var N=k.contours[L[b]];S.isPlainObject(N)&&(N.highlightColor&&(N.highlightcolor=N.highlightColor,delete N.highlightColor),N.highlightWidth&&(N.highlightwidth=N.highlightWidth,delete N.highlightWidth))}}if("candlestick"===k.type||"ohlc"===k.type){var B=!1!==(k.increasing||{}).showlegend,W=!1!==(k.decreasing||{}).showlegend,j=s(k.increasing),Z=s(k.decreasing);if(!1!==j&&!1!==Z){var V=d(j,Z,B,W);V&&(k.name=V)}else!j&&!Z||k.name||(k.name=j||Z)}if(Array.isArray(k.transforms)){var q=k.transforms;for(b=0;b<q.length;b++){var G=q[b];if(S.isPlainObject(G))switch(G.type){case"filter":G.filtersrc&&(G.target=G.filtersrc,delete G.filtersrc),G.calendar&&(G.valuecalendar||(G.valuecalendar=G.calendar),delete G.calendar);break;case"groupby":if(G.styles=G.styles||G.style,G.styles&&!Array.isArray(G.styles)){var H=G.styles,ne=Object.keys(H);G.styles=[];for(var X=0;X<ne.length;X++)G.styles.push({target:ne[X],value:H[ne[X]]})}}}}p(k,"line")&&delete k.line,"marker"in k&&(p(k.marker,"line")&&delete k.marker.line,p(k,"marker")&&delete k.marker),c.clean(k),k.autobinx&&(delete k.autobinx,delete k.xbins),k.autobiny&&(delete k.autobiny,delete k.ybins),l(k),k.colorbar&&l(k.colorbar),k.marker&&k.marker.colorbar&&l(k.marker.colorbar),k.line&&k.line.colorbar&&l(k.line.colorbar),k.aaxis&&l(k.aaxis),k.baxis&&l(k.baxis)}},z.swapXYData=function(w){var m;if(S.swapAttrs(w,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(w.z)&&Array.isArray(w.z[0])&&(w.transpose?delete w.transpose:w.transpose=!0),w.error_x&&w.error_y){var b=w.error_y,k="copy_ystyle"in b?b.copy_ystyle:!(b.color||b.thickness||b.width);S.swapAttrs(w,["error_?.copy_ystyle"]),k&&S.swapAttrs(w,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof w.hoverinfo){var h=w.hoverinfo.split("+");for(m=0;m<h.length;m++)"x"===h[m]?h[m]="y":"y"===h[m]&&(h[m]="x");w.hoverinfo=h.join("+")}},z.coerceTraceIndices=function(w,m){if(C(m))return[m];if(!Array.isArray(m)||!m.length)return w.data.map(function(h,O){return O});if(Array.isArray(m)){for(var b=[],k=0;k<m.length;k++)S.isIndex(m[k],w.data.length)?b.push(m[k]):S.warn("trace index (",m[k],") is not a number or is out of bounds");return b}return m},z.manageArrayContainers=function(w,m,b){var k=w.obj,h=w.parts,O=h.length,A=h[O-1],I=C(A);if(I&&null===m){var P=h.slice(0,O-1).join(".");S.nestedProperty(k,P).get().splice(A,1)}else I&&void 0===w.get()&&void 0===w.get()&&(b[w.astr]=null),w.set(m)};var T=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function _(w){var m=w.search(T);if(m>0)return w.substr(0,m)}z.hasParent=function(w,m){for(var b=_(m);b;){if(b in w)return!0;b=_(b)}return!1};var y=["x","y","z"];z.clearAxisTypes=function(w,m,b){for(var k=0;k<m.length;k++)for(var h=w._fullData[k],O=0;O<3;O++){var A=u(w,h,y[O]);if(A&&"log"!==A.type){var I=A._name,P=A._id.substr(1);if("scene"===P.substr(0,5)){if(void 0!==b[P])continue;I=P+"."+I}var L=I+".type";void 0===b[I]&&void 0===b[L]&&S.nestedProperty(w.layout,L).set(null)}}}},10641:function(ie,z,r){"use strict";var C=r(72391);z._doPlot=C._doPlot,z.newPlot=C.newPlot,z.restyle=C.restyle,z.relayout=C.relayout,z.redraw=C.redraw,z.update=C.update,z._guiRestyle=C._guiRestyle,z._guiRelayout=C._guiRelayout,z._guiUpdate=C._guiUpdate,z._storeDirectGUIEdit=C._storeDirectGUIEdit,z.react=C.react,z.extendTraces=C.extendTraces,z.prependTraces=C.prependTraces,z.addTraces=C.addTraces,z.deleteTraces=C.deleteTraces,z.moveTraces=C.moveTraces,z.purge=C.purge,z.addFrames=C.addFrames,z.deleteFrames=C.deleteFrames,z.animate=C.animate,z.setPlotConfig=C.setPlotConfig,z.toImage=r(403),z.validate=r(84936),z.downloadImage=r(7239);var E=r(96318);z.makeTemplate=E.makeTemplate,z.validateTemplate=E.validateTemplate},6611:function(ie,z,r){"use strict";var C=r(41965),E=r(64213),f=r(47769),S=r(65888).sorterAsc,M=r(73972);z.containerArrayMatch=r(14458);var v=z.isAddVal=function(i){return"add"===i||C(i)},c=z.isRemoveVal=function(i){return null===i||"remove"===i};z.applyContainerArrayChanges=function(i,u,a,o,l){var s=u.astr,d=M.getComponentMethod(s,"supplyLayoutDefaults"),g=M.getComponentMethod(s,"draw"),p=M.getComponentMethod(s,"drawOne"),T=o.replot||o.recalc||d===E||g===E,_=i.layout,y=i._fullLayout;if(a[""]){Object.keys(a).length>1&&f.warn("Full array edits are incompatible with other edits",s);var w=a[""][""];if(c(w))u.set(null);else{if(!Array.isArray(w))return f.warn("Unrecognized full array edit value",s,w),!0;u.set(w)}return!T&&(d(_,y),g(i),!0)}var m,b,k,h,O,A,I,L=Object.keys(a).map(Number).sort(S),N=u.get(),B=N||[],W=l(y,s).get(),j=[],Z=-1,V=B.length;for(m=0;m<L.length;m++)if(h=a[k=L[m]],O=Object.keys(h),I=v(A=h[""]),k<0||k>B.length-(I?0:1))f.warn("index out of range",s,k);else if(void 0!==A)O.length>1&&f.warn("Insertion & removal are incompatible with edits to the same index.",s,k),c(A)?j.push(k):I?("add"===A&&(A={}),B.splice(k,0,A),W&&W.splice(k,0,{})):f.warn("Unrecognized full object edit value",s,k,A),-1===Z&&(Z=k);else for(b=0;b<O.length;b++)l(B[k],O[b],s+"["+k+"].").set(h[O[b]]);for(m=j.length-1;m>=0;m--)B.splice(j[m],1),W&&W.splice(j[m],1);if(B.length?N||u.set(B):u.set(null),T)return!1;if(d(_,y),p!==E){var q;if(-1===Z)q=L;else{for(V=Math.max(B.length,V),q=[],m=0;m<L.length&&!((k=L[m])>=Z);m++)q.push(k);for(m=Z;m<V;m++)q.push(m)}for(m=0;m<q.length;m++)p(i,q[m])}else g(i);return!0}},72391:function(ie,z,r){"use strict";var C=r(39898),E=r(92770),f=r(57035),S=r(71828),M=S.nestedProperty,v=r(11086),c=r(10847),i=r(73972),u=r(86281),a=r(74875),o=r(89298),l=r(91424),s=r(7901),d=r(4305).initInteractions,g=r(77922),p=r(47322).clearOutline,T=r(72075).dfltConfig,_=r(6611),y=r(58377),w=r(61549),m=r(30962),b=r(85555).AX_NAME_PATTERN,k=0;function h(oe){var de=oe._fullLayout;de._redrawFromAutoMarginCount?de._redrawFromAutoMarginCount--:oe.emit("plotly_afterplot")}function O(oe,de){try{oe._fullLayout._paper.style("background",de)}catch(_e){S.error(_e)}}function A(oe,de){O(oe,s.combine(de,"white"))}function I(oe,de){if(!oe._context){oe._context=S.extendDeep({},T);var _e=C.select("base");oe._context._baseUrl=_e.size()&&_e.attr("href")?window.location.href.split("#")[0]:""}var Me,Pe,Ue,Be=oe._context;if(de){for(Pe=Object.keys(de),Me=0;Me<Pe.length;Me++)"editable"!==(Ue=Pe[Me])&&"edits"!==Ue&&Ue in Be&&(Be[Ue]="setBackground"===Ue&&"opaque"===de[Ue]?A:de[Ue]);de.plot3dPixelRatio&&!Be.plotGlPixelRatio&&(Be.plotGlPixelRatio=Be.plot3dPixelRatio);var Ve=de.editable;if(void 0!==Ve)for(Be.editable=Ve,Pe=Object.keys(Be.edits),Me=0;Me<Pe.length;Me++)Be.edits[Pe[Me]]=Ve;if(de.edits)for(Pe=Object.keys(de.edits),Me=0;Me<Pe.length;Me++)(Ue=Pe[Me])in Be.edits&&(Be.edits[Ue]=de.edits[Ue]);Be._exportedPlot=de._exportedPlot}Be.staticPlot&&(Be.editable=!1,Be.edits={},Be.autosizable=!1,Be.scrollZoom=!1,Be.doubleClick=!1,Be.showTips=!1,Be.showLink=!1,Be.displayModeBar=!1),"hover"!==Be.displayModeBar||f||(Be.displayModeBar=!0),"transparent"!==Be.setBackground&&"function"==typeof Be.setBackground||(Be.setBackground=O),Be._hasZeroHeight=Be._hasZeroHeight||0===oe.clientHeight,Be._hasZeroWidth=Be._hasZeroWidth||0===oe.clientWidth;var ve=Be.scrollZoom,Te=Be._scrollZoom={};if(!0===ve)Te.cartesian=1,Te.gl3d=1,Te.geo=1,Te.mapbox=1;else if("string"==typeof ve){var Ce=ve.split("+");for(Me=0;Me<Ce.length;Me++)Te[Ce[Me]]=1}else!1!==ve&&(Te.gl3d=1,Te.geo=1,Te.mapbox=1)}function P(oe,de){var _e,Me,Pe=de+1,Ue=[];for(_e=0;_e<oe.length;_e++)(Me=oe[_e])<0?Ue.push(Pe+Me):Ue.push(Me);return Ue}function L(oe,de,_e){var Me,Pe;for(Me=0;Me<de.length;Me++){if((Pe=de[Me])!==parseInt(Pe,10))throw new Error("all values in "+_e+" must be integers");if(Pe>=oe.data.length||Pe<-oe.data.length)throw new Error(_e+" must be valid indices for gd.data.");if(de.indexOf(Pe,Me+1)>-1||Pe>=0&&de.indexOf(-oe.data.length+Pe)>-1||Pe<0&&de.indexOf(oe.data.length+Pe)>-1)throw new Error("each index in "+_e+" must be unique.")}}function N(oe,de,_e){if(!Array.isArray(oe.data))throw new Error("gd.data must be an array.");if(void 0===de)throw new Error("currentIndices is a required argument.");if(Array.isArray(de)||(de=[de]),L(oe,de,"currentIndices"),void 0===_e||Array.isArray(_e)||(_e=[_e]),void 0!==_e&&L(oe,_e,"newIndices"),void 0!==_e&&de.length!==_e.length)throw new Error("current and new indices must be of equal length.")}function B(oe,de,_e,Me,Pe){!function(Ke,Je,ht,ft){var mt=S.isPlainObject(ft);if(!Array.isArray(Ke.data))throw new Error("gd.data must be an array");if(!S.isPlainObject(Je))throw new Error("update must be a key:value object");if(void 0===ht)throw new Error("indices must be an integer or array of integers");for(var At in L(Ke,ht,"indices"),Je){if(!Array.isArray(Je[At])||Je[At].length!==ht.length)throw new Error("attribute "+At+" must be an array of length equal to indices array length");if(mt&&(!(At in ft)||!Array.isArray(ft[At])||ft[At].length!==Je[At].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}(oe,de,_e,Me);for(var Ue=function(Ke,Je,ht,ft){var At,Rt,It,Pt,Bt=S.isPlainObject(ft),Ut=[];for(var Vt in Array.isArray(ht)||(ht=[ht]),ht=P(ht,Ke.data.length-1),Je)for(var tn=0;tn<ht.length;tn++){if(At=(Rt=M(Ke.data[ht[tn]],Vt)).get(),!S.isArrayOrTypedArray(It=Je[Vt][tn]))throw new Error("attribute: "+Vt+" index: "+tn+" must be an array");if(!S.isArrayOrTypedArray(At))throw new Error("cannot extend missing or non-array attribute: "+Vt);if(At.constructor!==It.constructor)throw new Error("cannot extend array with an array of a different type: "+Vt);E(Pt=Bt?ft[Vt][tn]:ft)||(Pt=-1),Ut.push({prop:Rt,target:At,insert:It,maxp:Math.floor(Pt)})}return Ut}(oe,de,_e,Me),Be={},Ve={},ve=0;ve<Ue.length;ve++){var Te=Ue[ve].prop,We=Pe(Ue[ve].target,Ue[ve].insert,Ue[ve].maxp);Te.set(We[0]),Array.isArray(Be[Te.astr])||(Be[Te.astr]=[]),Be[Te.astr].push(We[1]),Array.isArray(Ve[Te.astr])||(Ve[Te.astr]=[]),Ve[Te.astr].push(Ue[ve].target.length)}return{update:Be,maxPoints:Ve}}function W(oe,de){var _e=new oe.constructor(oe.length+de.length);return _e.set(oe),_e.set(de,oe.length),_e}function j(oe,de,_e,Me){oe=S.getGraphDiv(oe),y.clearPromiseQueue(oe);var Pe={};if("string"==typeof de)Pe[de]=_e;else{if(!S.isPlainObject(de))return S.warn("Restyle fail.",de,_e,Me),Promise.reject();Pe=S.extendFlat({},de),void 0===Me&&(Me=_e)}Object.keys(Pe).length&&(oe.changed=!0);var Ue=y.coerceTraceIndices(oe,Me),Be=G(oe,Pe,Ue),Ve=Be.flags;Ve.calc&&(oe.calcdata=void 0),Ve.clearAxisTypes&&y.clearAxisTypes(oe,Ue,{});var ve=[];Ve.fullReplot?ve.push(z._doPlot):(ve.push(a.previousPromises),a.supplyDefaults(oe),Ve.markerSize&&(a.doCalcdata(oe),$(ve)),Ve.style&&ve.push(w.doTraceStyle),Ve.colorbars&&ve.push(w.doColorBars),ve.push(h)),ve.push(a.rehover,a.redrag,a.reselect),c.add(oe,j,[oe,Be.undoit,Be.traces],j,[oe,Be.redoit,Be.traces]);var Te=S.syncOrAsync(ve,oe);return Te&&Te.then||(Te=Promise.resolve()),Te.then(function(){return oe.emit("plotly_restyle",Be.eventData),oe})}function Z(oe){return void 0===oe?null:oe}function V(oe,de){return de?function(_e,Me,Pe){var Ue=M(_e,Me),Be=Ue.set;return Ue.set=function(Ve){q((Pe||"")+Me,Ue.get(),Ve,oe),Be(Ve)},Ue}:M}function q(oe,de,_e,Me){if(Array.isArray(de)||Array.isArray(_e))for(var Pe=Array.isArray(de)?de:[],Ue=Array.isArray(_e)?_e:[],Be=Math.max(Pe.length,Ue.length),Ve=0;Ve<Be;Ve++)q(oe+"["+Ve+"]",Pe[Ve],Ue[Ve],Me);else if(S.isPlainObject(de)||S.isPlainObject(_e)){var ve=S.isPlainObject(de)?de:{},Te=S.isPlainObject(_e)?_e:{},Ce=S.extendFlat({},ve,Te);for(var We in Ce)q(oe+"."+We,ve[We],Te[We],Me)}else void 0===Me[oe]&&(Me[oe]=Z(de))}function G(oe,de,_e){var Me,Pe=oe._fullLayout,Ue=oe._fullData,Be=oe.data,Ve=Pe._guiEditing,ve=V(Pe._preGUI,Ve),Te=S.extendDeepAll({},de);H(de);var Ce,We=m.traceFlags(),Ke={},Je={};function ht(){return _e.map(function(){})}function ft(Kt){var ln=o.id2name(Kt);-1===Ce.indexOf(ln)&&Ce.push(ln)}function mt(Kt){return"LAYOUT"+Kt+".autorange"}function At(Kt){return"LAYOUT"+Kt+".range"}function Rt(Kt){for(var ln=Kt;ln<Ue.length;ln++)if(Ue[ln]._input===Be[Kt])return Ue[ln]}function It(Kt,ln,Tn){if(Array.isArray(Kt))Kt.forEach(function(Nn){It(Nn,ln,Tn)});else if(!(Kt in de)&&!y.hasParent(de,Kt)){var An;if("LAYOUT"===Kt.substr(0,6))An=ve(oe.layout,Kt.replace("LAYOUT",""));else{var pn=_e[Tn];An=V(Pe._tracePreGUI[Rt(pn)._fullInput.uid],Ve)(Be[pn],Kt)}Kt in Je||(Je[Kt]=ht()),void 0===Je[Kt][Tn]&&(Je[Kt][Tn]=Z(An.get())),void 0!==ln&&An.set(ln)}}function Pt(Kt){return function(ln){return Ue[ln][Kt]}}function Bt(Kt){return function(ln,Tn){return!1===ln?Ue[_e[Tn]][Kt]:null}}for(var Ut in de){if(y.hasParent(de,Ut))throw new Error("cannot set "+Ut+" and a parent attribute simultaneously");var Vt,tn,Gt,et,nt,$e,ot=de[Ut];if("autobinx"!==Ut&&"autobiny"!==Ut||(Ut=Ut.charAt(Ut.length-1)+"bins",ot=Array.isArray(ot)?ot.map(Bt(Ut)):!1===ot?_e.map(Pt(Ut)):null),Ke[Ut]=ot,"LAYOUT"!==Ut.substr(0,6)){for(Je[Ut]=ht(),Me=0;Me<_e.length;Me++)if(Vt=Be[_e[Me]],tn=Rt(_e[Me]),et=(Gt=V(Pe._tracePreGUI[tn._fullInput.uid],Ve)(Vt,Ut)).get(),void 0!==(nt=Array.isArray(ot)?ot[Me%ot.length]:ot)){var dt=Gt.parts[Gt.parts.length-1],Le=Ut.substr(0,Ut.length-dt.length-1),Ge=Le?Le+".":"",st=Le?M(tn,Le).get():tn;if(($e=u.getTraceValObject(tn,Gt.parts))&&$e.impliedEdits&&null!==nt)for(var vt in $e.impliedEdits)It(S.relativeAttr(Ut,vt),$e.impliedEdits[vt],Me);else if("thicknessmode"!==dt&&"lenmode"!==dt||et===nt||"fraction"!==nt&&"pixels"!==nt||!st){if("type"===Ut&&("pie"===nt!=("pie"===et)||"funnelarea"===nt!=("funnelarea"===et))){var bt="x",Lt="y";"bar"!==nt&&"bar"!==et||"h"!==Vt.orientation||(bt="y",Lt="x"),S.swapAttrs(Vt,["?","?src"],"labels",bt),S.swapAttrs(Vt,["d?","?0"],"label",bt),S.swapAttrs(Vt,["?","?src"],"values",Lt),"pie"===et||"funnelarea"===et?(M(Vt,"marker.color").set(M(Vt,"marker.colors").get()),Pe._pielayer.selectAll("g.trace").remove()):i.traceIs(Vt,"cartesian")&&M(Vt,"marker.colors").set(M(Vt,"marker.color").get())}}else{var jt=Pe._size,Nt=st.orient,Tt="top"===Nt||"bottom"===Nt;if("thicknessmode"===dt){var Mt=Tt?jt.h:jt.w;It(Ge+"thickness",st.thickness*("fraction"===nt?1/Mt:Mt),Me)}else{var kt=Tt?jt.w:jt.h;It(Ge+"len",st.len*("fraction"===nt?1/kt:kt),Me)}}if(Je[Ut][Me]=Z(et),-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(Ut)){if("orientation"===Ut){Gt.set(nt);var Ht=Vt.x&&!Vt.y?"h":"v";if((Gt.get()||Ht)===tn.orientation)continue}else"orientationaxes"===Ut&&(Vt.orientation={v:"h",h:"v"}[tn.orientation]);y.swapXYData(Vt),We.calc=We.clearAxisTypes=!0}else-1!==a.dataArrayContainers.indexOf(Gt.parts[0])?(y.manageArrayContainers(Gt,nt,Je),We.calc=!0):($e?$e.arrayOk&&!i.traceIs(tn,"regl")&&(S.isArrayOrTypedArray(nt)||S.isArrayOrTypedArray(et))?We.calc=!0:m.update(We,$e):We.calc=!0,Gt.set(nt))}if(-1!==["swapxyaxes","orientationaxes"].indexOf(Ut)&&o.swap(oe,_e),"orientationaxes"===Ut){var qt=M(oe.layout,"hovermode"),Qt=qt.get();"x"===Qt?qt.set("y"):"y"===Qt?qt.set("x"):"x unified"===Qt?qt.set("y unified"):"y unified"===Qt&&qt.set("x unified")}if(-1!==["orientation","type"].indexOf(Ut)){for(Ce=[],Me=0;Me<_e.length;Me++){var Jt=Be[_e[Me]];i.traceIs(Jt,"cartesian")&&(ft(Jt.xaxis||"x"),ft(Jt.yaxis||"y"))}It(Ce.map(mt),!0,0),It(Ce.map(At),[0,1],0)}}else Gt=ve(oe.layout,Ut.replace("LAYOUT","")),Je[Ut]=[Z(Gt.get())],Gt.set(Array.isArray(ot)?ot[0]:ot),We.calc=!0}return(We.calc||We.plot)&&(We.fullReplot=!0),{flags:We,undoit:Je,redoit:Ke,traces:_e,eventData:S.extendDeepNoArrays([],[Te,_e])}}function H(oe){var de,_e,Me,Pe=S.counterRegex("axis",".title",!1,!1),Ue=/colorbar\.title$/,Be=Object.keys(oe);for(de=0;de<Be.length;de++)Me=oe[_e=Be[de]],"title"!==_e&&!Pe.test(_e)&&!Ue.test(_e)||"string"!=typeof Me&&"number"!=typeof Me?_e.indexOf("titlefont")>-1&&-1===_e.indexOf("grouptitlefont")?Ve(_e,_e.replace("titlefont","title.font")):_e.indexOf("titleposition")>-1?Ve(_e,_e.replace("titleposition","title.position")):_e.indexOf("titleside")>-1?Ve(_e,_e.replace("titleside","title.side")):_e.indexOf("titleoffset")>-1&&Ve(_e,_e.replace("titleoffset","title.offset")):Ve(_e,_e.replace("title","title.text"));function Ve(ve,Te){oe[Te]=oe[ve],delete oe[ve]}}function ne(oe,de,_e){oe=S.getGraphDiv(oe),y.clearPromiseQueue(oe);var Me={};if("string"==typeof de)Me[de]=_e;else{if(!S.isPlainObject(de))return S.warn("Relayout fail.",de,_e),Promise.reject();Me=S.extendFlat({},de)}Object.keys(Me).length&&(oe.changed=!0);var Pe=le(oe,Me),Ue=Pe.flags;Ue.calc&&(oe.calcdata=void 0);var Be=[a.previousPromises];Ue.layoutReplot?Be.push(w.layoutReplot):Object.keys(Me).length&&(X(oe,Ue,Pe)||a.supplyDefaults(oe),Ue.legend&&Be.push(w.doLegend),Ue.layoutstyle&&Be.push(w.layoutStyles),Ue.axrange&&$(Be,Pe.rangesAltered),Ue.ticks&&Be.push(w.doTicksRelayout),Ue.modebar&&Be.push(w.doModeBar),Ue.camera&&Be.push(w.doCamera),Ue.colorbars&&Be.push(w.doColorBars),Be.push(h)),Be.push(a.rehover,a.redrag,a.reselect),c.add(oe,ne,[oe,Pe.undoit],ne,[oe,Pe.redoit]);var Ve=S.syncOrAsync(Be,oe);return Ve&&Ve.then||(Ve=Promise.resolve(oe)),Ve.then(function(){return oe.emit("plotly_relayout",Pe.eventData),oe})}function X(oe,de,_e){var Me=oe._fullLayout;if(!de.axrange)return!1;for(var Pe in de)if("axrange"!==Pe&&de[Pe])return!1;for(var Ue in _e.rangesAltered){var Be=o.id2name(Ue),Ve=oe.layout[Be],ve=Me[Be];if(ve.autorange=Ve.autorange,Ve.range&&(ve.range=Ve.range.slice()),ve.cleanRange(),ve._matchGroup)for(var Te in ve._matchGroup)if(Te!==Ue){var Ce=Me[o.id2name(Te)];Ce.autorange=ve.autorange,Ce.range=ve.range.slice(),Ce._input.range=ve.range.slice()}}return!0}function $(oe,de){oe.push(p,w.doAutoRangeAndConstraints,de?function(Me){var Pe=[];for(var Ue in de){var Be=o.getFromId(Me,Ue);if(Pe.push(Ue),-1!==(Be.ticklabelposition||"").indexOf("inside")&&Be._anchorAxis&&Pe.push(Be._anchorAxis._id),Be._matchGroup)for(var Ve in Be._matchGroup)de[Ve]||Pe.push(Ve)}return o.draw(Me,Pe,{skipTitle:!0})}:function(Me){return o.draw(Me,"redraw")},w.drawData,w.finalDraw)}var Q=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,te=/^[xyz]axis[0-9]*\.autorange$/,re=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function le(oe,de){var _e,Me,Pe,Ue=oe.layout,Be=oe._fullLayout,ve=V(Be._preGUI,Be._guiEditing),Te=Object.keys(de),Ce=o.list(oe),We=S.extendDeepAll({},de),Ke={};for(H(de),Te=Object.keys(de),Me=0;Me<Te.length;Me++)if(0===Te[Me].indexOf("allaxes")){for(Pe=0;Pe<Ce.length;Pe++){var Je=Ce[Pe]._id.substr(1),ht=-1!==Je.indexOf("scene")?Je+".":"",ft=Te[Me].replace("allaxes",ht+Ce[Pe]._name);de[ft]||(de[ft]=de[Te[Me]])}delete de[Te[Me]]}var mt=m.layoutFlags(),At={},Rt={};function It(pn,Nn){if(Array.isArray(pn))pn.forEach(function(On){It(On,Nn)});else if(!(pn in de)&&!y.hasParent(de,pn)){var tr=ve(Ue,pn);pn in Rt||(Rt[pn]=Z(tr.get())),void 0!==Nn&&tr.set(Nn)}}var Pt,Bt={};function Ut(pn){var Nn=o.name2id(pn.split(".")[0]);return Bt[Nn]=1,Nn}for(var Vt in de){if(y.hasParent(de,Vt))throw new Error("cannot set "+Vt+" and a parent attribute simultaneously");for(var tn=ve(Ue,Vt),Gt=de[Vt],et=tn.parts.length-1;et>0&&"string"!=typeof tn.parts[et];)et--;var nt=tn.parts[et],$e=tn.parts[et-1]+"."+nt,ot=tn.parts.slice(0,et).join("."),dt=M(oe.layout,ot).get(),Le=M(Be,ot).get(),Ge=tn.get();if(void 0!==Gt){At[Vt]=Gt,Rt[Vt]="reverse"===nt?Gt:Z(Ge);var st=u.getLayoutValObject(Be,tn.parts);if(st&&st.impliedEdits&&null!==Gt)for(var vt in st.impliedEdits)It(S.relativeAttr(Vt,vt),st.impliedEdits[vt]);if(-1!==["width","height"].indexOf(Vt))if(Gt){It("autosize",null);var bt="height"===Vt?"width":"height";It(bt,Be[bt])}else Be[Vt]=oe._initialAutoSize[Vt];else if("autosize"===Vt)It("width",Gt?null:Be.width),It("height",Gt?null:Be.height);else if($e.match(Q))Ut($e),M(Be,ot+"._inputRange").set(null);else if($e.match(te)){Ut($e),M(Be,ot+"._inputRange").set(null);var Lt=M(Be,ot).get();Lt._inputDomain&&(Lt._input.domain=Lt._inputDomain.slice())}else $e.match(re)&&M(Be,ot+"._inputDomain").set(null);if("type"===nt){Pt=dt;var jt="linear"===Le.type&&"log"===Gt;if(jt||"log"===Le.type&&"linear"===Gt){if(Pt&&Pt.range)if(Le.autorange)jt&&(Pt.range=Pt.range[1]>Pt.range[0]?[1,2]:[2,1]);else{var Tt=Pt.range[0],Mt=Pt.range[1];jt?(Tt<=0&&Mt<=0&&It(ot+".autorange",!0),Tt<=0?Tt=Mt/1e6:Mt<=0&&(Mt=Tt/1e6),It(ot+".range[0]",Math.log(Tt)/Math.LN10),It(ot+".range[1]",Math.log(Mt)/Math.LN10)):(It(ot+".range[0]",Math.pow(10,Tt)),It(ot+".range[1]",Math.pow(10,Mt)))}else It(ot+".autorange",!0);Array.isArray(Be._subplots.polar)&&Be._subplots.polar.length&&Be[tn.parts[0]]&&"radialaxis"===tn.parts[1]&&delete Be[tn.parts[0]]._subplot.viewInitial["radialaxis.range"],i.getComponentMethod("annotations","convertCoords")(oe,Le,Gt,It),i.getComponentMethod("images","convertCoords")(oe,Le,Gt,It)}else It(ot+".autorange",!0),It(ot+".range",null);M(Be,ot+"._inputRange").set(null)}else if(nt.match(b)){var kt=M(Be,Vt).get(),Ht=(Gt||{}).type;Ht&&"-"!==Ht||(Ht="linear"),i.getComponentMethod("annotations","convertCoords")(oe,kt,Ht,It),i.getComponentMethod("images","convertCoords")(oe,kt,Ht,It)}var qt=_.containerArrayMatch(Vt);if(qt){_e=qt.array;var Qt=qt.property,Jt=st||{editType:"calc"};""!==(Me=qt.index)&&""===Qt&&(_.isAddVal(Gt)?Rt[Vt]=null:_.isRemoveVal(Gt)?Rt[Vt]=(M(Ue,_e).get()||[])[Me]:S.warn("unrecognized full object value",de)),m.update(mt,Jt),Ke[_e]||(Ke[_e]={});var Kt=Ke[_e][Me];Kt||(Kt=Ke[_e][Me]={}),Kt[Qt]=Gt,delete de[Vt]}else"reverse"===nt?(dt.range?dt.range.reverse():(It(ot+".autorange",!0),dt.range=[1,0]),Le.autorange?mt.calc=!0:mt.plot=!0):("dragmode"===Vt&&(!1===Gt&&!1!==Ge||!1!==Gt&&!1===Ge)||Be._has("scatter-like")&&Be._has("regl")&&"dragmode"===Vt&&("lasso"===Gt||"select"===Gt)&&"lasso"!==Ge&&"select"!==Ge||Be._has("gl2d")?mt.plot=!0:st?m.update(mt,st):mt.calc=!0,tn.set(Gt))}}for(_e in Ke)_.applyContainerArrayChanges(oe,ve(Ue,_e),Ke[_e],mt,ve)||(mt.plot=!0);for(var ln in Bt){var Tn=(Pt=o.getFromId(oe,ln))&&Pt._constraintGroup;if(Tn)for(var An in mt.calc=!0,Tn)Bt[An]||(o.getFromId(oe,An)._constraintShrinkable=!0)}return(ue(oe)||de.height||de.width)&&(mt.plot=!0),(mt.plot||mt.calc)&&(mt.layoutReplot=!0),{flags:mt,rangesAltered:Bt,undoit:Rt,redoit:At,eventData:We}}function ue(oe){var de=oe._fullLayout,_e=de.width,Me=de.height;return oe.layout.autosize&&a.plotAutoSize(oe,oe.layout,de),de.width!==_e||de.height!==Me}function he(oe,de,_e,Me){oe=S.getGraphDiv(oe),y.clearPromiseQueue(oe),S.isPlainObject(de)||(de={}),S.isPlainObject(_e)||(_e={}),Object.keys(de).length&&(oe.changed=!0),Object.keys(_e).length&&(oe.changed=!0);var Pe=y.coerceTraceIndices(oe,Me),Ue=G(oe,S.extendFlat({},de),Pe),Be=Ue.flags,Ve=le(oe,S.extendFlat({},_e)),ve=Ve.flags;(Be.calc||ve.calc)&&(oe.calcdata=void 0),Be.clearAxisTypes&&y.clearAxisTypes(oe,Pe,_e);var Te=[];ve.layoutReplot?Te.push(w.layoutReplot):Be.fullReplot?Te.push(z._doPlot):(Te.push(a.previousPromises),X(oe,ve,Ve)||a.supplyDefaults(oe),Be.style&&Te.push(w.doTraceStyle),(Be.colorbars||ve.colorbars)&&Te.push(w.doColorBars),ve.legend&&Te.push(w.doLegend),ve.layoutstyle&&Te.push(w.layoutStyles),ve.axrange&&$(Te,Ve.rangesAltered),ve.ticks&&Te.push(w.doTicksRelayout),ve.modebar&&Te.push(w.doModeBar),ve.camera&&Te.push(w.doCamera),Te.push(h)),Te.push(a.rehover,a.redrag,a.reselect),c.add(oe,he,[oe,Ue.undoit,Ve.undoit,Ue.traces],he,[oe,Ue.redoit,Ve.redoit,Ue.traces]);var Ce=S.syncOrAsync(Te,oe);return Ce&&Ce.then||(Ce=Promise.resolve(oe)),Ce.then(function(){return oe.emit("plotly_update",{data:Ue.eventData,layout:Ve.eventData}),oe})}function ge(oe){return function(de){de._fullLayout._guiEditing=!0;var _e=oe.apply(null,arguments);return de._fullLayout._guiEditing=!1,_e}}var xe=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],ke=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function Ae(oe,de){for(var _e=0;_e<de.length;_e++){var Me=de[_e],Pe=oe.match(Me.pattern);if(Pe){var Ue=Pe[1]||"";return{head:Ue,tail:oe.substr(Ue.length+1),attr:Me.attr}}}}function pe(oe,de){var _e=M(de,oe).get();if(void 0!==_e)return _e;var Me=oe.split(".");for(Me.pop();Me.length>1;)if(Me.pop(),void 0!==(_e=M(de,Me.join(".")+".uirevision").get()))return _e;return de.uirevision}function ye(oe,de){for(var _e=0;_e<de.length;_e++)if(de[_e]._fullInput.uid===oe)return _e;return-1}function Ne(oe,de,_e){for(var Me=0;Me<de.length;Me++)if(de[Me].uid===oe)return Me;return!de[_e]||de[_e].uid?-1:_e}function be(oe,de){var _e=S.isPlainObject(oe),Me=Array.isArray(oe);return _e||Me?(_e&&S.isPlainObject(de)||Me&&Array.isArray(de))&&JSON.stringify(oe)===JSON.stringify(de):oe===de}function Ee(oe,de,_e,Me){var Pe,Ue,Be,Ve=Me.getValObject,ve=Me.flags,Te=Me.immutable,Ce=Me.inArray,We=Me.arrayIndex;function Ke(){var dt=Pe.editType;Ce&&-1!==dt.indexOf("arraydraw")?S.pushUnique(ve.arrays[Ce],We):(m.update(ve,Pe),"none"!==dt&&ve.nChanges++,Me.transition&&Pe.anim&&ve.nChangesAnim++,(Q.test(Be)||te.test(Be))&&(ve.rangesAltered[_e[0]]=1),re.test(Be)&&M(de,"_inputDomain").set(null),"datarevision"===Ue&&(ve.newDataRevision=1))}function Je(dt){return"data_array"===dt.valType||dt.arrayOk}for(Ue in oe){if(ve.calc&&!Me.transition)return;var ht=oe[Ue],ft=de[Ue],mt=_e.concat(Ue);if(Be=mt.join("."),"_"!==Ue.charAt(0)&&"function"!=typeof ht&&ht!==ft){if(("tick0"===Ue||"dtick"===Ue)&&"geo"!==_e[0]){var At=de.tickmode;if("auto"===At||"array"===At||!At)continue}if(("range"!==Ue||!de.autorange)&&("zmin"!==Ue&&"zmax"!==Ue||"contourcarpet"!==de.type)&&(Pe=Ve(mt))&&(!Pe._compareAsJSON||JSON.stringify(ht)!==JSON.stringify(ft))){var Rt,It=Pe.valType,Pt=Je(Pe),Bt=Array.isArray(ht),Ut=Array.isArray(ft);if(Bt&&Ut){var Vt="_input_"+Ue,tn=oe[Vt],Gt=de[Vt];if(Array.isArray(tn)&&tn===Gt)continue}if(void 0===ft)Pt&&Bt?ve.calc=!0:Ke();else if(Pe._isLinkedToArray){var et=[],nt=!1;Ce||(ve.arrays[Ue]=et);var $e=Math.min(ht.length,ft.length),ot=Math.max(ht.length,ft.length);if($e!==ot){if("arraydraw"!==Pe.editType){Ke();continue}nt=!0}for(Rt=0;Rt<$e;Rt++)Ee(ht[Rt],ft[Rt],mt.concat(Rt),S.extendFlat({inArray:Ue,arrayIndex:Rt},Me));if(nt)for(Rt=$e;Rt<ot;Rt++)et.push(Rt)}else!It&&S.isPlainObject(ht)?Ee(ht,ft,mt,Me):Pt?Bt&&Ut?(Te&&(ve.calc=!0),(Te||Me.newDataRevision)&&Ke()):Bt!==Ut?ve.calc=!0:Ke():Bt&&Ut&&ht.length===ft.length&&String(ht)===String(ft)||Ke()}}}for(Ue in de)if(!(Ue in oe)&&"_"!==Ue.charAt(0)&&"function"!=typeof de[Ue]){if(Je(Pe=Ve(_e.concat(Ue)))&&Array.isArray(de[Ue]))return void(ve.calc=!0);Ke()}}function Oe(oe,de){var _e;for(_e in oe)if("_"!==_e.charAt(0)){var Me=oe[_e],Pe=de[_e];if(Me!==Pe)if(S.isPlainObject(Me)&&S.isPlainObject(Pe)){if(Oe(Me,Pe))return!0}else{if(!Array.isArray(Me)||!Array.isArray(Pe)||Me.length!==Pe.length)return!0;for(var Ue=0;Ue<Me.length;Ue++)if(Me[Ue]!==Pe[Ue]&&(!S.isPlainObject(Me[Ue])||!S.isPlainObject(Pe[Ue])||Oe(Me[Ue],Pe[Ue])))return!0}}}function De(oe){var de=oe._fullLayout,_e=oe.getBoundingClientRect();if(!S.equalDomRects(_e,de._lastBBox)){var Me=de._invTransform=S.inverseTransformMatrix(S.getFullTransformMatrix(oe));de._invScaleX=Math.sqrt(Me[0][0]*Me[0][0]+Me[0][1]*Me[0][1]+Me[0][2]*Me[0][2]),de._invScaleY=Math.sqrt(Me[1][0]*Me[1][0]+Me[1][1]*Me[1][1]+Me[1][2]*Me[1][2]),de._lastBBox=_e}}z.animate=function(oe,de,_e){if(oe=S.getGraphDiv(oe),!S.isPlotDiv(oe))throw new Error("This element is not a Plotly plot: "+oe+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var Me=oe._transitionData;Me._frameQueue||(Me._frameQueue=[]);var Pe=(_e=a.supplyAnimationDefaults(_e)).transition,Ue=_e.frame;function Be(Te){return Array.isArray(Pe)?Te>=Pe.length?Pe[0]:Pe[Te]:Pe}function Ve(Te){return Array.isArray(Ue)?Te>=Ue.length?Ue[0]:Ue[Te]:Ue}function ve(Te,Ce){var We=0;return function(){if(Te&&++We===Ce)return Te()}}return void 0===Me._frameWaitingCnt&&(Me._frameWaitingCnt=0),new Promise(function(Te,Ce){var Ke,Je,ht=0;function ft(Vt){return Vt.transitionOpts=Array.isArray(Pe)?ht>=Pe.length?Pe[ht]:Pe[0]:Pe,ht++,Vt}var mt=[],At=null==de,Rt=Array.isArray(de);if(At||Rt||!S.isPlainObject(de)){if(At||-1!==["string","number"].indexOf(typeof de))for(Ke=0;Ke<Me._frames.length;Ke++)(Je=Me._frames[Ke])&&(At||String(Je.group)===String(de))&&mt.push({type:"byname",name:String(Je.name),data:ft({name:Je.name})});else if(Rt)for(Ke=0;Ke<de.length;Ke++){var It=de[Ke];-1!==["number","string"].indexOf(typeof It)?(It=String(It),mt.push({type:"byname",name:It,data:ft({name:It})})):S.isPlainObject(It)&&mt.push({type:"object",data:ft(S.extendFlat({},It))})}}else mt.push({type:"object",data:ft(S.extendFlat({},de))});for(Ke=0;Ke<mt.length;Ke++)if("byname"===(Je=mt[Ke]).type&&!Me._frameHash[Je.data.name])return S.warn('animate failure: frame not found: "'+Je.data.name+'"'),void Ce();-1!==["next","immediate"].indexOf(_e.mode)&&function(){if(0!==Me._frameQueue.length){for(;Me._frameQueue.length;){var Vt=Me._frameQueue.pop();Vt.onInterrupt&&Vt.onInterrupt()}oe.emit("plotly_animationinterrupted",[])}}(),"reverse"===_e.direction&&mt.reverse();var Pt=oe._fullLayout._currentFrame;if(Pt&&_e.fromcurrent){var Bt=-1;for(Ke=0;Ke<mt.length;Ke++)if("byname"===(Je=mt[Ke]).type&&Je.name===Pt){Bt=Ke;break}if(Bt>0&&Bt<mt.length-1){var Ut=[];for(Ke=0;Ke<mt.length;Ke++)Je=mt[Ke],("byname"!==mt[Ke].type||Ke>Bt)&&Ut.push(Je);mt=Ut}}mt.length>0?function(Vt){if(0!==Vt.length){for(var tn=0;tn<Vt.length;tn++){var Gt;Gt="byname"===Vt[tn].type?a.computeFrame(oe,Vt[tn].name):Vt[tn].data;var et=Ve(tn),nt=Be(tn);nt.duration=Math.min(nt.duration,et.duration);var $e={frame:Gt,name:Vt[tn].name,frameOpts:et,transitionOpts:nt};tn===Vt.length-1&&($e.onComplete=ve(Te,2),$e.onInterrupt=Ce),Me._frameQueue.push($e)}"immediate"===_e.mode&&(Me._lastFrameAt=-1/0),Me._animationRaf||function We(){oe.emit("plotly_animating"),Me._lastFrameAt=-1/0,Me._timeToNext=0,Me._runningTransitions=0,Me._currentFrame=null;var Vt=function(){Me._animationRaf=window.requestAnimationFrame(Vt),Date.now()-Me._lastFrameAt>Me._timeToNext&&function(){Me._currentFrame&&Me._currentFrame.onComplete&&Me._currentFrame.onComplete();var tn=Me._currentFrame=Me._frameQueue.shift();if(tn){var Gt=tn.name?tn.name.toString():null;oe._fullLayout._currentFrame=Gt,Me._lastFrameAt=Date.now(),Me._timeToNext=tn.frameOpts.duration,a.transition(oe,tn.frame.data,tn.frame.layout,y.coerceTraceIndices(oe,tn.frame.traces),tn.frameOpts,tn.transitionOpts).then(function(){tn.onComplete&&tn.onComplete()}),oe.emit("plotly_animatingframe",{name:Gt,frame:tn.frame,animation:{frame:tn.frameOpts,transition:tn.transitionOpts}})}else oe.emit("plotly_animated"),window.cancelAnimationFrame(Me._animationRaf),Me._animationRaf=null}()};Vt()}()}}(mt):(oe.emit("plotly_animated"),Te())})},z.addFrames=function(oe,de,_e){if(oe=S.getGraphDiv(oe),null==de)return Promise.resolve();if(!S.isPlotDiv(oe))throw new Error("This element is not a Plotly plot: "+oe+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var Me,Pe,Ue,Be,Ve=oe._transitionData._frames,ve=oe._transitionData._frameHash;if(!Array.isArray(de))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+de);var Te=Ve.length+2*de.length,Ce=[],We={};for(Me=de.length-1;Me>=0;Me--)if(S.isPlainObject(de[Me])){var Ke=de[Me].name,Je=(ve[Ke]||We[Ke]||{}).name,ht=de[Me].name;Je&&ht&&"number"==typeof ht&&(ve[Je]||We[Je])&&k<5&&(k++,S.warn('addFrames: overwriting frame "'+(ve[Je]||We[Je]).name+'" with a frame whose name of type "number" also equates to "'+Je+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),5===k&&S.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),We[Ke]={name:Ke},Ce.push({frame:a.supplyFrameDefaults(de[Me]),index:_e&&null!=_e[Me]?_e[Me]:Te+Me})}Ce.sort(function(Vt,tn){return Vt.index>tn.index?-1:Vt.index<tn.index?1:0});var mt=[],At=[],Rt=Ve.length;for(Me=Ce.length-1;Me>=0;Me--){if("number"==typeof(Pe=Ce[Me].frame).name&&S.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!Pe.name)for(;ve[Pe.name="frame "+oe._transitionData._counter++];);if(ve[Pe.name]){for(Ue=0;Ue<Ve.length&&(Ve[Ue]||{}).name!==Pe.name;Ue++);mt.push({type:"replace",index:Ue,value:Pe}),At.unshift({type:"replace",index:Ue,value:Ve[Ue]})}else Be=Math.max(0,Math.min(Ce[Me].index,Rt)),mt.push({type:"insert",index:Be,value:Pe}),At.unshift({type:"delete",index:Be}),Rt++}return c&&c.add(oe,a.modifyFrames,[oe,At],a.modifyFrames,[oe,mt]),a.modifyFrames(oe,mt)},z.deleteFrames=function(oe,de){if(oe=S.getGraphDiv(oe),!S.isPlotDiv(oe))throw new Error("This element is not a Plotly plot: "+oe);var _e,Me,Pe=oe._transitionData._frames,Ue=[],Be=[];if(!de)for(de=[],_e=0;_e<Pe.length;_e++)de.push(_e);for((de=de.slice()).sort(),_e=de.length-1;_e>=0;_e--)Ue.push({type:"delete",index:Me=de[_e]}),Be.unshift({type:"insert",index:Me,value:Pe[Me]});return c&&c.add(oe,a.modifyFrames,[oe,Be],a.modifyFrames,[oe,Ue]),a.modifyFrames(oe,Ue)},z.addTraces=function oe(de,_e,Me){de=S.getGraphDiv(de);var Pe,Ue,Be=[],Ve=z.deleteTraces,ve=oe,Te=[de,Be],Ce=[de,_e];for(function(We,Ke,Je){var ht,ft;if(!Array.isArray(We.data))throw new Error("gd.data must be an array.");if(void 0===Ke)throw new Error("traces must be defined.");for(Array.isArray(Ke)||(Ke=[Ke]),ht=0;ht<Ke.length;ht++)if("object"!=typeof(ft=Ke[ht])||Array.isArray(ft)||null===ft)throw new Error("all values in traces array must be non-array objects");if(void 0===Je||Array.isArray(Je)||(Je=[Je]),void 0!==Je&&Je.length!==Ke.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(de,_e,Me),Array.isArray(_e)||(_e=[_e]),_e=_e.map(function(We){return S.extendFlat({},We)}),y.cleanData(_e),Pe=0;Pe<_e.length;Pe++)de.data.push(_e[Pe]);for(Pe=0;Pe<_e.length;Pe++)Be.push(-_e.length+Pe);if(void 0===Me)return Ue=z.redraw(de),c.add(de,Ve,Te,ve,Ce),Ue;Array.isArray(Me)||(Me=[Me]);try{N(de,Be,Me)}catch(We){throw de.data.splice(de.data.length-_e.length,_e.length),We}return c.startSequence(de),c.add(de,Ve,Te,ve,Ce),Ue=z.moveTraces(de,Be,Me),c.stopSequence(de),Ue},z.deleteTraces=function oe(de,_e){de=S.getGraphDiv(de);var Me,Pe,Ue=[],Be=z.addTraces,Ve=oe,ve=[de,Ue,_e],Te=[de,_e];if(void 0===_e)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(_e)||(_e=[_e]),L(de,_e,"indices"),(_e=P(_e,de.data.length-1)).sort(S.sorterDes),Me=0;Me<_e.length;Me+=1)Pe=de.data.splice(_e[Me],1)[0],Ue.push(Pe);var Ce=z.redraw(de);return c.add(de,Be,ve,Ve,Te),Ce},z.extendTraces=function oe(de,_e,Me,Pe){function Ue(Te,Ce,We){var Ke,Je;if(S.isTypedArray(Te))if(We<0){var ht=new Te.constructor(0),ft=W(Te,Ce);We<0?(Ke=ft,Je=ht):(Ke=ht,Je=ft)}else if(Ke=new Te.constructor(We),Je=new Te.constructor(Te.length+Ce.length-We),We===Ce.length)Ke.set(Ce),Je.set(Te);else if(We<Ce.length){var mt=Ce.length-We;Ke.set(Ce.subarray(mt)),Je.set(Te),Je.set(Ce.subarray(0,mt),Te.length)}else{var At=We-Ce.length,Rt=Te.length-At;Ke.set(Te.subarray(Rt)),Ke.set(Ce,At),Je.set(Te.subarray(0,Rt))}else Ke=Te.concat(Ce),Je=We>=0&&We<Ke.length?Ke.splice(0,Ke.length-We):[];return[Ke,Je]}var Be=B(de=S.getGraphDiv(de),_e,Me,Pe,Ue),Ve=z.redraw(de);return c.add(de,z.prependTraces,[de,Be.update,Me,Be.maxPoints],oe,arguments),Ve},z.moveTraces=function oe(de,_e,Me){var Pe,Ue=[],Be=[],Ve=oe,ve=oe,Te=[de=S.getGraphDiv(de),Me,_e],Ce=[de,_e,Me];if(N(de,_e,Me),_e=Array.isArray(_e)?_e:[_e],void 0===Me)for(Me=[],Pe=0;Pe<_e.length;Pe++)Me.push(-_e.length+Pe);for(Me=Array.isArray(Me)?Me:[Me],_e=P(_e,de.data.length-1),Me=P(Me,de.data.length-1),Pe=0;Pe<de.data.length;Pe++)-1===_e.indexOf(Pe)&&Ue.push(de.data[Pe]);for(Pe=0;Pe<_e.length;Pe++)Be.push({newIndex:Me[Pe],trace:de.data[_e[Pe]]});for(Be.sort(function(Ke,Je){return Ke.newIndex-Je.newIndex}),Pe=0;Pe<Be.length;Pe+=1)Ue.splice(Be[Pe].newIndex,0,Be[Pe].trace);de.data=Ue;var We=z.redraw(de);return c.add(de,Ve,Te,ve,Ce),We},z.prependTraces=function oe(de,_e,Me,Pe){function Ue(Te,Ce,We){var Ke,Je;if(S.isTypedArray(Te))if(We<=0){var ht=new Te.constructor(0),ft=W(Ce,Te);We<0?(Ke=ft,Je=ht):(Ke=ht,Je=ft)}else if(Ke=new Te.constructor(We),Je=new Te.constructor(Te.length+Ce.length-We),We===Ce.length)Ke.set(Ce),Je.set(Te);else if(We<Ce.length){var mt=Ce.length-We;Ke.set(Ce.subarray(0,mt)),Je.set(Ce.subarray(mt)),Je.set(Te,mt)}else{var At=We-Ce.length;Ke.set(Ce),Ke.set(Te.subarray(0,At),Ce.length),Je.set(Te.subarray(At))}else Ke=Ce.concat(Te),Je=We>=0&&We<Ke.length?Ke.splice(We,Ke.length):[];return[Ke,Je]}var Be=B(de=S.getGraphDiv(de),_e,Me,Pe,Ue),Ve=z.redraw(de);return c.add(de,z.extendTraces,[de,Be.update,Me,Be.maxPoints],oe,arguments),Ve},z.newPlot=function(oe,de,_e,Me){return oe=S.getGraphDiv(oe),a.cleanPlot([],{},oe._fullData||[],oe._fullLayout||{}),a.purge(oe),z._doPlot(oe,de,_e,Me)},z._doPlot=function(oe,de,_e,Me){var Pe;if(oe=S.getGraphDiv(oe),v.init(oe),S.isPlainObject(de)){var Ue=de;de=Ue.data,_e=Ue.layout,Me=Ue.config,Pe=Ue.frames}if(!1===v.triggerHandler(oe,"plotly_beforeplot",[de,_e,Me]))return Promise.reject();de||_e||S.isPlotDiv(oe)||S.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",oe),I(oe,Me),_e||(_e={}),C.select(oe).classed("js-plotly-plot",!0),l.makeTester(),Array.isArray(oe._promises)||(oe._promises=[]);var Be=0===(oe.data||[]).length&&Array.isArray(de);Array.isArray(de)&&(y.cleanData(de),Be?oe.data=de:oe.data.push.apply(oe.data,de),oe.empty=!1),oe.layout&&!Be||(oe.layout=y.cleanLayout(_e)),a.supplyDefaults(oe);var Ve=oe._fullLayout,ve=Ve._has("cartesian");Ve._replotting=!0,(Be||Ve._shouldCreateBgLayer)&&(function(At){var Rt=C.select(At),It=At._fullLayout;if(It._calcInverseTransform=De,It._calcInverseTransform(At),It._container=Rt.selectAll(".plot-container").data([0]),It._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),It._paperdiv=It._container.selectAll(".svg-container").data([0]),It._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),It._glcontainer=It._paperdiv.selectAll(".gl-container").data([{}]),It._glcontainer.enter().append("div").classed("gl-container",!0),It._paperdiv.selectAll(".main-svg").remove(),It._paperdiv.select(".modebar-container").remove(),It._paper=It._paperdiv.insert("svg",":first-child").classed("main-svg",!0),It._toppaper=It._paperdiv.append("svg").classed("main-svg",!0),It._modebardiv=It._paperdiv.append("div"),delete It._modeBar,It._hoverpaper=It._paperdiv.append("svg").classed("main-svg",!0),!It._uid){var Pt={};C.selectAll("defs").each(function(){this.id&&(Pt[this.id.split("-")[1]]=1)}),It._uid=S.randstr(Pt)}It._paperdiv.selectAll(".main-svg").attr(g.svgAttrs),It._defs=It._paper.append("defs").attr("id","defs-"+It._uid),It._clips=It._defs.append("g").classed("clips",!0),It._topdefs=It._toppaper.append("defs").attr("id","topdefs-"+It._uid),It._topclips=It._topdefs.append("g").classed("clips",!0),It._bgLayer=It._paper.append("g").classed("bglayer",!0),It._draggers=It._paper.append("g").classed("draglayer",!0);var Bt=It._paper.append("g").classed("layer-below",!0);It._imageLowerLayer=Bt.append("g").classed("imagelayer",!0),It._shapeLowerLayer=Bt.append("g").classed("shapelayer",!0),It._cartesianlayer=It._paper.append("g").classed("cartesianlayer",!0),It._polarlayer=It._paper.append("g").classed("polarlayer",!0),It._smithlayer=It._paper.append("g").classed("smithlayer",!0),It._ternarylayer=It._paper.append("g").classed("ternarylayer",!0),It._geolayer=It._paper.append("g").classed("geolayer",!0),It._funnelarealayer=It._paper.append("g").classed("funnelarealayer",!0),It._pielayer=It._paper.append("g").classed("pielayer",!0),It._iciclelayer=It._paper.append("g").classed("iciclelayer",!0),It._treemaplayer=It._paper.append("g").classed("treemaplayer",!0),It._sunburstlayer=It._paper.append("g").classed("sunburstlayer",!0),It._indicatorlayer=It._toppaper.append("g").classed("indicatorlayer",!0),It._glimages=It._paper.append("g").classed("glimages",!0);var Ut=It._toppaper.append("g").classed("layer-above",!0);It._imageUpperLayer=Ut.append("g").classed("imagelayer",!0),It._shapeUpperLayer=Ut.append("g").classed("shapelayer",!0),It._selectionLayer=It._toppaper.append("g").classed("selectionlayer",!0),It._infolayer=It._toppaper.append("g").classed("infolayer",!0),It._menulayer=It._toppaper.append("g").classed("menulayer",!0),It._zoomlayer=It._toppaper.append("g").classed("zoomlayer",!0),It._hoverlayer=It._hoverpaper.append("g").classed("hoverlayer",!0),It._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),At.emit("plotly_framework")}(oe),Ve._shouldCreateBgLayer&&delete Ve._shouldCreateBgLayer),l.initGradients(oe),l.initPatterns(oe),Be&&o.saveShowSpikeInitial(oe);var Te=!oe.calcdata||oe.calcdata.length!==(oe._fullData||[]).length;Te&&a.doCalcdata(oe);for(var Ce=0;Ce<oe.calcdata.length;Ce++)oe.calcdata[Ce][0].trace=oe._fullData[Ce];oe._context.responsive?oe._responsiveChartHandler||(oe._responsiveChartHandler=function(){S.isHidden(oe)||a.resize(oe)},window.addEventListener("resize",oe._responsiveChartHandler)):S.clearResponsive(oe);var We=S.extendFlat({},Ve._size),Ke=0;function Je(){if(a.clearAutoMarginIds(oe),w.drawMarginPushers(oe),o.allowAutoMargin(oe),Ve._has("pie"))for(var At=oe._fullData,Rt=0;Rt<At.length;Rt++){var It=At[Rt];"pie"===It.type&&It.automargin&&a.allowAutoMargin(oe,"pie."+It.uid+".automargin")}return a.doAutoMargin(oe),a.previousPromises(oe)}function ht(){oe._transitioning||(w.doAutoRangeAndConstraints(oe),Be&&o.saveRangeInitial(oe),i.getComponentMethod("rangeslider","calcAutorange")(oe))}var ft=[a.previousPromises,function(){if(Pe)return z.addFrames(oe,Pe)},function At(){for(var Rt=Ve._basePlotModules,It=0;It<Rt.length;It++)Rt[It].drawFramework&&Rt[It].drawFramework(oe);!Ve._glcanvas&&Ve._has("gl")&&(Ve._glcanvas=Ve._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(Vt){return Vt.key}),Ve._glcanvas.enter().append("canvas").attr("class",function(Vt){return"gl-canvas gl-canvas-"+Vt.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Pt=oe._context.plotGlPixelRatio;if(Ve._glcanvas){Ve._glcanvas.attr("width",Ve.width*Pt).attr("height",Ve.height*Pt).style("width",Ve.width+"px").style("height",Ve.height+"px");var Bt=Ve._glcanvas.data()[0].regl;if(Bt&&(Math.floor(Ve.width*Pt)!==Bt._gl.drawingBufferWidth||Math.floor(Ve.height*Pt)!==Bt._gl.drawingBufferHeight)){var Ut="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!Ke)return S.log(Ut+" Clearing graph and plotting again."),a.cleanPlot([],{},oe._fullData,Ve),a.supplyDefaults(oe),Ve=oe._fullLayout,a.doCalcdata(oe),Ke++,At();S.error(Ut)}}return"h"===Ve.modebar.orientation?Ve._modebardiv.style("height",null).style("width","100%"):Ve._modebardiv.style("width",null).style("height",Ve.height+"px"),a.previousPromises(oe)},Je,function(){if(a.didMarginChange(We,Ve._size))return S.syncOrAsync([Je,w.layoutStyles],oe)}];ve&&ft.push(function(){if(Te)return S.syncOrAsync([i.getComponentMethod("shapes","calcAutorange"),i.getComponentMethod("annotations","calcAutorange"),ht],oe);ht()}),ft.push(w.layoutStyles),ve&&ft.push(function(){return o.draw(oe,Be?"":"redraw")},function(At){At._fullLayout._insideTickLabelsAutorange&&ne(At,At._fullLayout._insideTickLabelsAutorange).then(function(){At._fullLayout._insideTickLabelsAutorange=void 0})}),ft.push(w.drawData,w.finalDraw,d,a.addLinks,a.rehover,a.redrag,a.reselect,a.doAutoMargin,function(At){At._fullLayout._insideTickLabelsAutorange&&Be&&o.saveRangeInitial(At,!0)},a.previousPromises);var mt=S.syncOrAsync(ft,oe);return mt&&mt.then||(mt=Promise.resolve()),mt.then(function(){return h(oe),oe})},z.purge=function(oe){var de=(oe=S.getGraphDiv(oe))._fullLayout||{};return a.cleanPlot([],{},oe._fullData||[],de),a.purge(oe),v.purge(oe),de._container&&de._container.remove(),delete oe._context,oe},z.react=function(oe,de,_e,Me){var Pe,Ue;oe=S.getGraphDiv(oe),y.clearPromiseQueue(oe);var ot,dt,Le,Ge,st,vt,Be=oe._fullData,Ve=oe._fullLayout;if(S.isPlotDiv(oe)&&Be&&Ve){if(S.isPlainObject(de)){var ve=de;de=ve.data,_e=ve.layout,Me=ve.config,Pe=ve.frames}var Te=!1;if(Me){var Ce=S.extendDeep({},oe._context);oe._context=void 0,I(oe,Me),Te=Oe(Ce,oe._context)}oe.data=de||[],y.cleanData(oe.data),oe.layout=_e||{},y.cleanLayout(oe.layout),function(ot,dt,Le,Ge){var st,vt,bt,Lt,jt,Nt,Tt,Mt,kt,Ht,qt=Ge._preGUI,Qt=[],Jt={},Kt={};for(st in qt){if(jt=Ae(st,xe)){if(kt=jt.head,Ht=jt.tail,(Lt=(bt=M(Ge,vt=jt.attr||kt+".uirevision").get())&&pe(vt,dt))&&Lt===bt){if(null===(Nt=qt[st])&&(Nt=void 0),be(Mt=(Tt=M(dt,st)).get(),Nt)){void 0===Mt&&"autorange"===Ht&&Qt.push(kt),Tt.set(Z(M(Ge,st).get()));continue}if("autorange"===Ht||"range["===Ht.substr(0,6)){var An=qt[kt+".autorange"];if(An||null===An&&null===qt[kt+".range[0]"]&&null===qt[kt+".range[1]"]){if(!(kt in Jt)){var pn=M(dt,kt).get();Jt[kt]=pn&&(pn.autorange||!1!==pn.autorange&&(!pn.range||2!==pn.range.length))}if(Jt[kt]){Tt.set(Z(M(Ge,st).get()));continue}}}}}else S.warn("unrecognized GUI edit: "+st);delete qt[st],jt&&"range["===jt.tail.substr(0,6)&&(Kt[jt.head]=1)}for(var Nn=0;Nn<Qt.length;Nn++){var tr=Qt[Nn];if(Kt[tr]){var On=M(dt,tr).get();On&&delete On.autorange}}var wn=Ge._tracePreGUI;for(var Cn in wn){var mn,En=wn[Cn],Fn=null;for(st in En){if(!Fn){var jn=ye(Cn,Le);if(jn<0){delete wn[Cn];break}var er=Ne(Cn,ot,(mn=Le[jn]._fullInput).index);if(er<0){delete wn[Cn];break}Fn=ot[er]}if(jt=Ae(st,ke)){if(jt.attr?Lt=(bt=M(Ge,jt.attr).get())&&pe(jt.attr,dt):(bt=mn.uirevision,void 0===(Lt=Fn.uirevision)&&(Lt=dt.uirevision)),Lt&&Lt===bt&&(null===(Nt=En[st])&&(Nt=void 0),be(Mt=(Tt=M(Fn,st)).get(),Nt))){Tt.set(Z(M(mn,st).get()));continue}}else S.warn("unrecognized GUI edit: "+st+" in trace uid "+Cn);delete En[st]}}}(oe.data,oe.layout,Be,Ve),a.supplyDefaults(oe,{skipUpdateCalc:!0});var We=oe._fullData,Ke=oe._fullLayout,Je=void 0===Ke.datarevision,ht=Ke.transition,ft=(ot=oe,dt=Ve,Le=Ke,Ge=Je,st=ht,(vt=m.layoutFlags()).arrays={},vt.rangesAltered={},vt.nChanges=0,vt.nChangesAnim=0,Ee(dt,Le,[],{getValObject:function(bt){return u.getLayoutValObject(Le,bt)},flags:vt,immutable:Ge,transition:st,gd:ot}),(vt.plot||vt.calc)&&(vt.layoutReplot=!0),st&&vt.nChanges&&vt.nChangesAnim&&(vt.anim=vt.nChanges===vt.nChangesAnim?"all":"some"),vt),At=function(ot,dt,Le,Ge,st,vt){var bt=dt.length===Le.length;if(!st&&!bt)return{fullReplot:!0,calc:!0};var Lt,jt,Nt=m.traceFlags();Nt.arrays={},Nt.nChanges=0,Nt.nChangesAnim=0;var Tt={getValObject:function(kt){var Ht=u.getTraceValObject(jt,kt);return!jt._module.animatable&&Ht.anim&&(Ht.anim=!1),Ht},flags:Nt,immutable:Ge,transition:st,newDataRevision:vt,gd:ot},Mt={};for(Lt=0;Lt<dt.length;Lt++)if(Le[Lt]){if(a.hasMakesDataTransform(jt=Le[Lt]._fullInput)&&(jt=Le[Lt]),Mt[jt.uid])continue;Mt[jt.uid]=1,Ee(dt[Lt]._fullInput,jt,[],Tt)}return(Nt.calc||Nt.plot)&&(Nt.fullReplot=!0),st&&Nt.nChanges&&Nt.nChangesAnim&&(Nt.anim=Nt.nChanges===Nt.nChangesAnim&&bt?"all":"some"),Nt}(oe,Be,We,Je,ht,ft.newDataRevision);if(ue(oe)&&(ft.layoutReplot=!0),At.calc||ft.calc){oe.calcdata=void 0;for(var Rt=Object.getOwnPropertyNames(Ke),It=0;It<Rt.length;It++){var Pt=Rt[It],Bt=Pt.substring(0,5);if("xaxis"===Bt||"yaxis"===Bt){var Ut=Ke[Pt]._emptyCategories;Ut&&Ut()}}}else a.supplyDefaultsUpdateCalc(oe.calcdata,We);var Vt=[];if(Pe&&(oe._transitionData={},a.createTransitionData(oe),Vt.push(function(){return z.addFrames(oe,Pe)})),Ke.transition&&!Te&&(At.anim||ft.anim))ft.ticks&&Vt.push(w.doTicksRelayout),a.doCalcdata(oe),w.doAutoRangeAndConstraints(oe),Vt.push(function(){return a.transitionFromReact(oe,At,ft,Ve)});else if(At.fullReplot||ft.layoutReplot||Te)oe._fullLayout._skipDefaults=!0,Vt.push(z._doPlot);else{for(var tn in ft.arrays){var Gt=ft.arrays[tn];if(Gt.length){var et=i.getComponentMethod(tn,"drawOne");if(et!==S.noop)for(var nt=0;nt<Gt.length;nt++)et(oe,Gt[nt]);else{var $e=i.getComponentMethod(tn,"draw");if($e===S.noop)throw new Error("cannot draw components: "+tn);$e(oe)}}}Vt.push(a.previousPromises),At.style&&Vt.push(w.doTraceStyle),(At.colorbars||ft.colorbars)&&Vt.push(w.doColorBars),ft.legend&&Vt.push(w.doLegend),ft.layoutstyle&&Vt.push(w.layoutStyles),ft.axrange&&$(Vt),ft.ticks&&Vt.push(w.doTicksRelayout),ft.modebar&&Vt.push(w.doModeBar),ft.camera&&Vt.push(w.doCamera),Vt.push(h)}Vt.push(a.rehover,a.redrag,a.reselect),(Ue=S.syncOrAsync(Vt,oe))&&Ue.then||(Ue=Promise.resolve(oe))}else Ue=z.newPlot(oe,de,_e,Me);return Ue.then(function(){return oe.emit("plotly_react",{data:de,layout:_e}),oe})},z.redraw=function(oe){if(oe=S.getGraphDiv(oe),!S.isPlotDiv(oe))throw new Error("This element is not a Plotly plot: "+oe);return y.cleanData(oe.data),y.cleanLayout(oe.layout),oe.calcdata=void 0,z._doPlot(oe).then(function(){return oe.emit("plotly_redraw"),oe})},z.relayout=ne,z.restyle=j,z.setPlotConfig=function(oe){return S.extendFlat(T,oe)},z.update=he,z._guiRelayout=ge(ne),z._guiRestyle=ge(j),z._guiUpdate=ge(he),z._storeDirectGUIEdit=function(oe,de,_e){for(var Me in _e)q(Me,M(oe,Me).get(),_e[Me],de)}},72075:function(ie){"use strict";var z={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},r={};(function C(E,f){for(var S in E){var M=E[S];M.valType?f[S]=M.dflt:(f[S]||(f[S]={}),C(M,f[S]))}})(z,r),ie.exports={configAttributes:z,dfltConfig:r}},86281:function(ie,z,r){"use strict";var C=r(73972),E=r(71828),f=r(9012),S=r(10820),M=r(31391),v=r(85594),c=r(72075).configAttributes,i=r(30962),u=E.extendDeepAll,a=E.isPlainObject,o=E.isArrayOrTypedArray,l=E.nestedProperty,s=E.valObjectMeta,d="_isSubplotObj",g="_isLinkedToArray",p="_deprecated",T=[d,g,"_arrayAttrRegexps",p];function _(h,O,A){if(!h)return!1;if(h._isLinkedToArray)if(y(O[A]))A++;else if(A<O.length)return!1;for(;A<O.length;A++){var I=h[O[A]];if(!a(I)||(h=I,A===O.length-1))break;if(h._isLinkedToArray){if(!y(O[++A]))return!1}else if("info_array"===h.valType){var P=O[++A];if(!y(P))return!1;var L=h.items;if(Array.isArray(L)){if(P>=L.length)return!1;if(2===h.dimensions){if(A++,O.length===A)return h;var N=O[A];if(!y(N))return!1;h=L[P][N]}else h=L[P]}else h=L}}return h}function y(h){return h===Math.round(h)&&h>=0}function w(){var h,O,A={};for(h in u(A,S),C.subplotsRegistry)if((O=C.subplotsRegistry[h]).layoutAttributes)if(Array.isArray(O.attr))for(var I=0;I<O.attr.length;I++)b(A,O,O.attr[I]);else b(A,O,"subplot"===O.attr?O.name:O.attr);for(h in C.componentsRegistry){var P=(O=C.componentsRegistry[h]).schema;if(P&&(P.subplots||P.layout)){var L=P.subplots;if(L&&L.xaxis&&!L.yaxis)for(var N in L.xaxis)delete A.yaxis[N];delete A.xaxis.shift,delete A.xaxis.autoshift}else"colorscale"===O.name?u(A,O.layoutAttributes):O.layoutAttributes&&k(A,O.layoutAttributes,O.name)}return{layoutAttributes:m(A)}}function m(h){return z.crawl(h,function(A,I,P){z.isValObject(A)?!0!==A.arrayOk&&"data_array"!==A.valType||(P[I+"src"]={valType:"string",editType:"none"}):a(A)&&(A.role="object")}),z.crawl(h,function(A,I,P){if(A){var L=A._isLinkedToArray;L&&(delete A._isLinkedToArray,P[I]={items:{}},P[I].items[L]=A,P[I].role="object")}}),function(O){!function A(I){for(var P in I)if(a(I[P]))A(I[P]);else if(Array.isArray(I[P]))for(var L=0;L<I[P].length;L++)A(I[P][L]);else I[P]instanceof RegExp&&(I[P]=I[P].toString())}(O)}(h),h}function b(h,O,A){var I=l(h,A),P=u({},O.layoutAttributes);P._isSubplotObj=!0,I.set(P)}function k(h,O,A){var I=l(h,A);I.set(u(I.get()||{},O))}z.IS_SUBPLOT_OBJ=d,z.IS_LINKED_TO_ARRAY=g,z.DEPRECATED=p,z.UNDERSCORE_ATTRS=T,z.get=function(){var h={};C.allTypes.forEach(function(I){h[I]=function(P){var L,N;N=(L=C.modules[P]._module).basePlotModule;var B={type:null},W=u({},f),j=u({},L.attributes);z.crawl(j,function(q,G,H,ne,X){l(W,X).set(void 0),void 0===q&&l(j,X).set(void 0)}),u(B,W),C.traceIs(P,"noOpacity")&&delete B.opacity,C.traceIs(P,"showLegend")||(delete B.showlegend,delete B.legendgroup),C.traceIs(P,"noHover")&&(delete B.hoverinfo,delete B.hoverlabel),L.selectPoints||delete B.selectedpoints,u(B,j),N.attributes&&u(B,N.attributes),B.type=P;var Z={meta:L.meta||{},categories:L.categories||{},animatable:Boolean(L.animatable),type:P,attributes:m(B)};if(L.layoutAttributes){var V={};u(V,L.layoutAttributes),Z.layoutAttributes=m(V)}return L.animatable||z.crawl(Z,function(q){z.isValObject(q)&&"anim"in q&&delete q.anim}),Z}(I)});var O,A={};return Object.keys(C.transformsRegistry).forEach(function(I){var P,N;A[I]=(N=u({},C.transformsRegistry[P=I].attributes),Object.keys(C.componentsRegistry).forEach(function(B){var W=C.componentsRegistry[B];W.schema&&W.schema.transforms&&W.schema.transforms[P]&&Object.keys(W.schema.transforms[P]).forEach(function(j){k(N,W.schema.transforms[P][j],j)})}),{attributes:m(N)})}),{defs:{valObjects:s,metaKeys:T.concat(["description","role","editType","impliedEdits"]),editType:{traces:i.traces,layout:i.layout},impliedEdits:{}},traces:h,layout:w(),transforms:A,frames:(O={frames:u({},M)},m(O),O.frames),animation:m(v),config:m(c)}},z.crawl=function(h,O,A,I){var P=A||0;I=I||"",Object.keys(h).forEach(function(L){var N=h[L];if(-1===T.indexOf(L)){var B=(I?I+".":"")+L;O(N,L,h,P,B),z.isValObject(N)||a(N)&&"impliedEdits"!==L&&z.crawl(N,O,P+1,B)}})},z.isValObject=function(h){return h&&void 0!==h.valType},z.findArrayAttributes=function(h){var O,A,I=[],P=[],L=[];function N(q,G,H,ne){P=P.slice(0,ne).concat([G]),L=L.slice(0,ne).concat([q&&q._isLinkedToArray]),q&&("data_array"===q.valType||!0===q.arrayOk)&&("colorbar"!==P[ne-1]||"ticktext"!==G&&"tickvals"!==G)&&B(O,0,"")}function B(q,G,H){var ne=q[P[G]],X=H+P[G];if(G===P.length-1)o(ne)&&I.push(A+X);else if(L[G]){if(Array.isArray(ne))for(var $=0;$<ne.length;$++)a(ne[$])&&B(ne[$],G+1,X+"["+$+"].")}else a(ne)&&B(ne,G+1,X+".")}O=h,A="",z.crawl(f,N),h._module&&h._module.attributes&&z.crawl(h._module.attributes,N);var W=h.transforms;if(W)for(var j=0;j<W.length;j++){var Z=W[j],V=Z._module;V&&(A="transforms["+j+"].",O=Z,z.crawl(V.attributes,N))}return I},z.getTraceValObject=function(h,O){var A,I,P=O[0],L=1;if("transforms"===P){if(1===O.length)return f.transforms;var N=h.transforms;if(!Array.isArray(N)||!N.length)return!1;var B=O[1];if(!y(B)||B>=N.length)return!1;I=(A=(C.transformsRegistry[N[B].type]||{}).attributes)&&A[O[2]],L=3}else{var W=h._module;if(W||(W=(C.modules[h.type||f.type.dflt]||{})._module),!W)return!1;if(!(I=(A=W.attributes)&&A[P])){var j=W.basePlotModule;j&&j.attributes&&(I=j.attributes[P])}I||(I=f[P])}return _(I,O,L)},z.getLayoutValObject=function(h,O){return _(function(I,P){var L,N,B,W,j=I._basePlotModules;if(j){var Z;for(L=0;L<j.length;L++){if((B=j[L]).attrRegex&&B.attrRegex.test(P)){if(B.layoutAttrOverrides)return B.layoutAttrOverrides;!Z&&B.layoutAttributes&&(Z=B.layoutAttributes)}var V=B.baseLayoutAttrOverrides;if(V&&P in V)return V[P]}if(Z)return Z}var q=I._modules;if(q)for(L=0;L<q.length;L++)if((W=q[L].layoutAttributes)&&P in W)return W[P];for(N in C.componentsRegistry){if("colorscale"===(B=C.componentsRegistry[N]).name&&0===P.indexOf("coloraxis"))return B.layoutAttributes[P];if(!B.schema&&P===B.name)return B.layoutAttributes}return P in S&&S[P]}(h,O[0]),O,1)}},44467:function(ie,z,r){"use strict";var C=r(71828),E=r(9012),f={name:{valType:"string",editType:"none"}};function S(v){return v&&"string"==typeof v}function M(v){return"s"!==v.charAt(v.length-1)&&C.warn("bad argument to arrayDefaultKey: "+v),v.substr(0,v.length-1)+"defaults"}f.templateitemname={valType:"string",editType:"calc"},z.templatedArray=function(v,c){return c._isLinkedToArray=v,c.name=f.name,c.templateitemname=f.templateitemname,c},z.traceTemplater=function(v){var c,i,u={};for(c in v)i=v[c],Array.isArray(i)&&i.length&&(u[c]=0);return{newTrace:function(a){var o={type:c=C.coerce(a,{},E,"type"),_template:null};if(c in u){var l=u[c]%(i=v[c]).length;u[c]++,o._template=i[l]}return o}}},z.newContainer=function(v,c,i){var u=v._template,a=u&&(u[c]||i&&u[i]);return C.isPlainObject(a)||(a=null),v[c]={_template:a}},z.arrayTemplater=function(v,c,i){var u=v._template,a=u&&u[M(c)],o=u&&u[c];Array.isArray(o)&&o.length||(o=[]);var l={};return{newItem:function(s){var d={name:s.name,_input:s},g=d.templateitemname=s.templateitemname;if(!S(g))return d._template=a,d;for(var p=0;p<o.length;p++){var T=o[p];if(T.name===g)return l[g]=1,d._template=T,d}return d[i]=s[i]||!1,d._template=!1,d},defaultItems:function(){for(var s=[],d=0;d<o.length;d++){var g=o[d],p=g.name;if(S(p)&&!l[p]){var T={_template:g,name:p,_input:{_templateitemname:p}};T.templateitemname=g.templateitemname,s.push(T),l[p]=1}}return s}}},z.arrayDefaultKey=M,z.arrayEditor=function(v,c,i){var u=(C.nestedProperty(v,c).get()||[]).length,a=i._index,o=a>=u&&(i._input||{})._templateitemname;o&&(a=u);var l,s=c+"["+a+"]";function d(){l={},o&&(l[s]={},l[s].templateitemname=o)}function g(T,_){o?C.nestedProperty(l[s],T).set(_):l[s+"."+T]=_}function p(){var T=l;return d(),T}return d(),{modifyBase:function(T,_){l[T]=_},modifyItem:g,getUpdateObj:p,applyUpdate:function(T,_){T&&g(T,_);var y=p();for(var w in y)C.nestedProperty(v,w).set(y[w])}}}},61549:function(ie,z,r){"use strict";var C=r(39898),E=r(73972),f=r(74875),S=r(71828),M=r(33306),v=r(7901),c=r(91424),i=r(92998),u=r(64168),a=r(89298),o=r(18783),l=r(99082),s=l.enforce,d=l.clean,g=r(71739).doAutoRange,p="start";function T(h,O,A){for(var I=0;I<A.length;I++){var P=A[I][0],L=A[I][1];if(!(P[0]>=h[1]||P[1]<=h[0])&&L[0]<O[1]&&L[1]>O[0])return!0}return!1}function _(h){var O,A,I,P,L,N,B=h._fullLayout,W=B._size,j=W.p,Z=a.list(h,"",!0);if(B._paperdiv.style({width:h._context.responsive&&B.autosize&&!h._context._hasZeroWidth&&!h.layout.width?"100%":B.width+"px",height:h._context.responsive&&B.autosize&&!h._context._hasZeroHeight&&!h.layout.height?"100%":B.height+"px"}).selectAll(".main-svg").call(c.setSize,B.width,B.height),h._context.setBackground(h,B.paper_bgcolor),z.drawMainTitle(h),u.manage(h),!B._has("cartesian"))return f.previousPromises(h);function V(Ke,Je,ht){var ft=Ke._lw/2;return"x"===Ke._id.charAt(0)?Je?"top"===ht?Je._offset-j-ft:Je._offset+Je._length+j+ft:W.t+W.h*(1-(Ke.position||0))+ft%1:Je?"right"===ht?Je._offset+Je._length+j+ft:Je._offset-j-ft:W.l+W.w*(Ke.position||0)+ft%1}for(O=0;O<Z.length;O++){var q=(P=Z[O])._anchorAxis;P._linepositions={},P._lw=c.crispRound(h,P.linewidth,1),P._mainLinePosition=V(P,q,P.side),P._mainMirrorPosition=P.mirror&&q?V(P,q,o.OPPOSITE_SIDE[P.side]):null}var G=[],H=[],ne=[],X=1===v.opacity(B.paper_bgcolor)&&1===v.opacity(B.plot_bgcolor)&&B.paper_bgcolor===B.plot_bgcolor;for(A in B._plots)if((I=B._plots[A]).mainplot)I.bg&&I.bg.remove(),I.bg=void 0;else{var $=I.xaxis.domain,Q=I.yaxis.domain,te=I.plotgroup;if(T($,Q,ne)){var re=te.node(),le=I.bg=S.ensureSingle(te,"rect","bg");re.insertBefore(le.node(),re.childNodes[0]),H.push(A)}else te.select("rect.bg").remove(),ne.push([$,Q]),X||(G.push(A),H.push(A))}var ue,he,ge,xe,ke,Ae,pe,ye,Ne,be,Ee,Oe,De,oe=B._bgLayer.selectAll(".bg").data(G);for(oe.enter().append("rect").classed("bg",!0),oe.exit().remove(),oe.each(function(Ke){B._plots[Ke].bg=C.select(this)}),O=0;O<H.length;O++)L=(I=B._plots[H[O]]).xaxis,N=I.yaxis,I.bg&&void 0!==L._offset&&void 0!==N._offset&&I.bg.call(c.setRect,L._offset-j,N._offset-j,L._length+2*j,N._length+2*j).call(v.fill,B.plot_bgcolor).style("stroke-width",0);if(!B._hasOnlyLargeSploms)for(A in B._plots){L=(I=B._plots[A]).xaxis,N=I.yaxis;var de,_e,Me=I.clipId="clip"+B._uid+A+"plot",Pe=S.ensureSingleById(B._clips,"clipPath",Me,function(Ke){Ke.classed("plotclip",!0).append("rect")});I.clipRect=Pe.select("rect").attr({width:L._length,height:N._length}),c.setTranslate(I.plot,L._offset,N._offset),I._hasClipOnAxisFalse?(de=null,_e=Me):(de=Me,_e=null),c.setClipUrl(I.plot,de,h),I.layerClipId=_e}function Ue(Ke){return"M"+ue+","+Ke+"H"+he}function Be(Ke){return"M"+L._offset+","+Ke+"h"+L._length}function Ve(Ke){return"M"+Ke+","+ye+"V"+pe}function ve(Ke){return void 0!==N._shift&&(Ke+=N._shift),"M"+Ke+","+N._offset+"v"+N._length}function Te(Ke,Je,ht){if(!Ke.showline||A!==Ke._mainSubplot)return"";if(!Ke._anchorAxis)return ht(Ke._mainLinePosition);var ft=Je(Ke._mainLinePosition);return Ke.mirror&&(ft+=Je(Ke._mainMirrorPosition)),ft}for(A in B._plots){N=(I=B._plots[A]).yaxis;var Ce="M0,0";y(L=I.xaxis,A)&&(ke=m(L,"left",N,Z),ue=L._offset-(ke?j+ke:0),Ae=m(L,"right",N,Z),he=L._offset+L._length+(Ae?j+Ae:0),ge=V(L,N,"bottom"),xe=V(L,N,"top"),!(De=!L._anchorAxis||A!==L._mainSubplot)||"allticks"!==L.mirror&&"all"!==L.mirror||(L._linepositions[A]=[ge,xe]),Ce=Te(L,Ue,Be),De&&L.showline&&("all"===L.mirror||"allticks"===L.mirror)&&(Ce+=Ue(ge)+Ue(xe)),I.xlines.style("stroke-width",L._lw+"px").call(v.stroke,L.showline?L.linecolor:"rgba(0,0,0,0)")),I.xlines.attr("d",Ce);var We="M0,0";y(N,A)&&(Ee=m(N,"bottom",L,Z),pe=N._offset+N._length+(Ee?j:0),Oe=m(N,"top",L,Z),ye=N._offset-(Oe?j:0),Ne=V(N,L,"left"),be=V(N,L,"right"),!(De=!N._anchorAxis||A!==N._mainSubplot)||"allticks"!==N.mirror&&"all"!==N.mirror||(N._linepositions[A]=[Ne,be]),We=Te(N,Ve,ve),De&&N.showline&&("all"===N.mirror||"allticks"===N.mirror)&&(We+=Ve(Ne)+Ve(be)),I.ylines.style("stroke-width",N._lw+"px").call(v.stroke,N.showline?N.linecolor:"rgba(0,0,0,0)")),I.ylines.attr("d",We)}return a.makeClipPaths(h),f.previousPromises(h)}function y(h,O){return(h.ticks||h.showline)&&(O===h._mainSubplot||"all"===h.mirror||"allticks"===h.mirror)}function w(h,O,A){if(!A.showline||!A._lw)return!1;if("all"===A.mirror||"allticks"===A.mirror)return!0;var I=A._anchorAxis;if(!I)return!1;var P=o.FROM_BL[O];return A.side===O?I.domain[P]===h.domain[P]:A.mirror&&I.domain[1-P]===h.domain[1-P]}function m(h,O,A,I){if(w(h,O,A))return A._lw;for(var P=0;P<I.length;P++){var L=I[P];if(L._mainAxis===A._mainAxis&&w(h,O,L))return L._lw}return 0}function b(h,O){var A=h.title,I=h._size,P=0;return O===p?P=A.pad.l:"end"===O&&(P=-A.pad.r),"paper"===A.xref?I.l+I.w*A.x+P:h.width*A.x+P}function k(h,O){var A=h.title,I=h._size,P=0;return"0em"!==O&&O?O===o.CAP_SHIFT+"em"&&(P=A.pad.t):P=-A.pad.b,"auto"===A.y?I.t/2:"paper"===A.yref?I.t+I.h-I.h*A.y+P:h.height-h.height*A.y+P}z.layoutStyles=function(h){return S.syncOrAsync([f.doAutoMargin,_],h)},z.drawMainTitle=function(h){var L,N,O=h._fullLayout,A=(N="middle",S.isRightAnchor(L=O.title)?N="end":S.isLeftAnchor(L)&&(N=p),N),I=function(P){var L=P.title,N="0em";return S.isTopAnchor(L)?N=o.CAP_SHIFT+"em":S.isMiddleAnchor(L)&&(N=o.MID_SHIFT+"em"),N}(O);i.draw(h,"gtitle",{propContainer:O,propName:"title.text",placeholder:O._dfltTitle.plot,attributes:{x:b(O,A),y:k(O,I),"text-anchor":A,dy:I}})},z.doTraceStyle=function(h){var O,A=h.calcdata,I=[];for(O=0;O<A.length;O++){var P=A[O],L=P[0]||{},N=L.trace||{},B=N._module||{},W=B.arraysToCalcdata;W&&W(P,N);var j=B.editStyle;j&&I.push({fn:j,cd0:L})}if(I.length){for(O=0;O<I.length;O++){var Z=I[O];Z.fn(h,Z.cd0)}M(h),z.redrawReglTraces(h)}return f.style(h),E.getComponentMethod("legend","draw")(h),f.previousPromises(h)},z.doColorBars=function(h){return E.getComponentMethod("colorbar","draw")(h),f.previousPromises(h)},z.layoutReplot=function(h){var O=h.layout;return h.layout=void 0,E.call("_doPlot",h,"",O)},z.doLegend=function(h){return E.getComponentMethod("legend","draw")(h),f.previousPromises(h)},z.doTicksRelayout=function(h){return a.draw(h,"redraw"),h._fullLayout._hasOnlyLargeSploms&&(E.subplotsRegistry.splom.updateGrid(h),M(h),z.redrawReglTraces(h)),z.drawMainTitle(h),f.previousPromises(h)},z.doModeBar=function(h){var O=h._fullLayout;u.manage(h);for(var A=0;A<O._basePlotModules.length;A++){var I=O._basePlotModules[A].updateFx;I&&I(h)}return f.previousPromises(h)},z.doCamera=function(h){for(var O=h._fullLayout,A=O._subplots.gl3d,I=0;I<A.length;I++){var P=O[A[I]];P._scene.setViewport(P)}},z.drawData=function(h){var O=h._fullLayout;M(h);for(var A=O._basePlotModules,I=0;I<A.length;I++)A[I].plot(h);return z.redrawReglTraces(h),f.style(h),E.getComponentMethod("selections","draw")(h),E.getComponentMethod("shapes","draw")(h),E.getComponentMethod("annotations","draw")(h),E.getComponentMethod("images","draw")(h),O._replotting=!1,f.previousPromises(h)},z.redrawReglTraces=function(h){var O=h._fullLayout;if(O._has("regl")){var A,I,P=h._fullData,L=[],N=[];for(O._hasOnlyLargeSploms&&O._splomGrid.draw(),A=0;A<P.length;A++){var B=P[A];!0===B.visible&&0!==B._length&&("splom"===B.type?O._splomScenes[B.uid].draw():"scattergl"===B.type?S.pushUnique(L,B.xaxis+B.yaxis):"scatterpolargl"===B.type&&S.pushUnique(N,B.subplot))}for(A=0;A<L.length;A++)(I=O._plots[L[A]])._scene&&I._scene.draw();for(A=0;A<N.length;A++)(I=O[N[A]]._subplot)._scene&&I._scene.draw()}},z.doAutoRangeAndConstraints=function(h){for(var O,A=a.list(h,"",!0),I={},P=0;P<A.length;P++)if(!I[(O=A[P])._id]){I[O._id]=1,d(h,O),g(h,O);var L=O._matchGroup;if(L)for(var N in L){var B=a.getFromId(h,N);g(h,B,O.range),I[N]=1}}s(h)},z.finalDraw=function(h){E.getComponentMethod("rangeslider","draw")(h),E.getComponentMethod("rangeselector","draw")(h)},z.drawMarginPushers=function(h){E.getComponentMethod("legend","draw")(h),E.getComponentMethod("rangeselector","draw")(h),E.getComponentMethod("sliders","draw")(h),E.getComponentMethod("updatemenus","draw")(h),E.getComponentMethod("colorbar","draw")(h)}},96318:function(ie,z,r){"use strict";var C=r(71828),E=C.isPlainObject,f=r(86281),S=r(74875),M=r(9012),v=r(44467),c=r(72075).dfltConfig;function i(p,T){p=C.extendDeep({},p);var _,y,w=Object.keys(p).sort();function m(A,I,P){if(E(I)&&E(A))i(A,I);else if(Array.isArray(I)&&Array.isArray(A)){var L=v.arrayTemplater({_template:p},P);for(y=0;y<I.length;y++){var N=I[y],B=L.newItem(N)._template;B&&i(B,N)}var W=L.defaultItems();for(y=0;y<W.length;y++)I.push(W[y]._template);for(y=0;y<I.length;y++)delete I[y].templateitemname}}for(_=0;_<w.length;_++){var b=w[_],k=p[b];if(b in T?m(k,T[b],b):T[b]=k,u(b)===b)for(var h in T){var O=u(h);h===O||O!==b||h in p||m(k,T[h],b)}}}function u(p){return p.replace(/[0-9]+$/,"")}function a(p,T,_,y,w){var m=w&&_(w);for(var b in p){var k=p[b],h=s(p,b,y),O=s(p,b,w),A=_(O);if(!A){var I=u(b);I!==b&&(A=_(O=s(p,I,w)))}if(!(m&&m===A||!A||A._noTemplating||"data_array"===A.valType||A.arrayOk&&Array.isArray(k)))if(!A.valType&&E(k))a(k,T,_,h,O);else if(A._isLinkedToArray&&Array.isArray(k))for(var P=!1,L=0,N={},B=0;B<k.length;B++){var W=k[B];if(E(W)){var j=W.name;if(j)N[j]||(a(W,T,_,s(k,L,h),s(k,L,O)),L++,N[j]=1);else if(!P){var Z=s(p,v.arrayDefaultKey(b),y),V=s(k,L,h);a(W,T,_,V,s(k,L,O));var q=C.nestedProperty(T,V);C.nestedProperty(T,Z).set(q.get()),q.set(null),P=!0}}}else C.nestedProperty(T,h).set(k)}}function o(p,T){return f.getLayoutValObject(p,C.nestedProperty({},T).parts)}function l(p,T){return f.getTraceValObject(p,C.nestedProperty({},T).parts)}function s(p,T,_){return _?Array.isArray(p)?_+"["+T+"]":_+"."+T:T}function d(p){for(var T=0;T<p.length;T++)if(E(p[T]))return!0}function g(p){var T;switch(p.code){case"data":T="The template has no key data.";break;case"layout":T="The template has no key layout.";break;case"missing":T=p.path?"There are no templates for item "+p.path+" with name "+p.templateitemname:"There are no templates for trace "+p.index+", of type "+p.traceType+".";break;case"unused":T=p.path?"The template item at "+p.path+" was not used in constructing the plot.":p.dataCount?"Some of the templates of type "+p.traceType+" were not used. The template has "+p.templateCount+" traces, the data only has "+p.dataCount+" of this type.":"The template has "+p.templateCount+" traces of type "+p.traceType+" but there are none in the data.";break;case"reused":T="Some of the templates of type "+p.traceType+" were used more than once. The template has "+p.templateCount+" traces, the data has "+p.dataCount+" of this type."}return p.msg=T,p}z.makeTemplate=function(p){p=C.isPlainObject(p)?p:C.getGraphDiv(p),p=C.extendDeep({_context:c},{data:p.data,layout:p.layout}),S.supplyDefaults(p);var T=p.data||[],_=p.layout||{};_._basePlotModules=p._fullLayout._basePlotModules,_._modules=p._fullLayout._modules;var y={data:{},layout:{}};T.forEach(function(L){var N={};a(L,N,l.bind(null,L));var B=C.coerce(L,{},M,"type"),W=y.data[B];W||(W=y.data[B]=[]),W.push(N)}),a(_,y.layout,o.bind(null,_)),delete y.layout.template;var w=_.template;if(E(w)){var m,b,k,h,O,A,I=w.layout;E(I)&&i(I,y.layout);var P=w.data;if(E(P)){for(b in y.data)if(k=P[b],Array.isArray(k)){for(A=(O=y.data[b]).length,h=k.length,m=0;m<A;m++)i(k[m%h],O[m]);for(m=A;m<h;m++)O.push(C.extendDeep({},k[m]))}for(b in P)b in y.data||(y.data[b]=C.extendDeep([],P[b]))}}return y},z.validateTemplate=function(p,T){var _=C.extendDeep({},{_context:c,data:p.data,layout:p.layout}),y=_.layout||{};E(T)||(T=y.template||{});var w=T.layout,m=T.data,b=[];_.layout=y,_.layout.template=T,S.supplyDefaults(_);var k=_._fullLayout,h=_._fullData,O={};if(E(w)?(function W(j,Z){for(var V in j)if("_"!==V.charAt(0)&&E(j[V])){var q,G=u(V),H=[];for(q=0;q<Z.length;q++)H.push(s(j,V,Z[q])),G!==V&&H.push(s(j,G,Z[q]));for(q=0;q<H.length;q++)O[H[q]]=1;W(j[V],H)}}(k,["layout"]),function W(j,Z){for(var V in j)if(-1===V.indexOf("defaults")&&E(j[V])){var q=s(j,V,Z);O[q]?W(j[V],q):b.push({code:"unused",path:q})}}(w,"layout")):b.push({code:"layout"}),E(m)){for(var A,I={},P=0;P<h.length;P++){var L=h[P];I[A=L.type]=(I[A]||0)+1,L._fullInput._template||b.push({code:"missing",index:L._fullInput.index,traceType:A})}for(A in m){var N=m[A].length,B=I[A]||0;N>B?b.push({code:"unused",traceType:A,templateCount:N,dataCount:B}):B>N&&b.push({code:"reused",traceType:A,templateCount:N,dataCount:B})}}else b.push({code:"data"});if(function W(j,Z){for(var V in j)if("_"!==V.charAt(0)){var q=j[V],G=s(j,V,Z);E(q)?(Array.isArray(j)&&!1===q._template&&q.templateitemname&&b.push({code:"missing",path:G,templateitemname:q.templateitemname}),W(q,G)):Array.isArray(q)&&d(q)&&W(q,G)}}({data:h,layout:k},""),b.length)return b.map(g)}},403:function(ie,z,r){"use strict";var C=r(92770),E=r(72391),f=r(74875),S=r(71828),M=r(25095),v=r(5900),c=r(70942),i=r(11506).version,u={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};ie.exports=function(a,o){var l,s,d,g;function p(B){return!(B in o)||S.validate(o[B],u[B])}if(o=o||{},S.isPlainObject(a)?(l=a.data||[],s=a.layout||{},d=a.config||{},g={}):(a=S.getGraphDiv(a),l=S.extendDeep([],a.data),s=S.extendDeep({},a.layout),d=a._context,g=a._fullLayout||{}),!p("width")&&null!==o.width||!p("height")&&null!==o.height)throw new Error("Height and width should be pixel values.");if(!p("format"))throw new Error("Export format is not "+S.join2(u.format.values,", "," or ")+".");var T={};function _(B,W){return S.coerce(o,T,u,B,W)}var y=_("format"),w=_("width"),m=_("height"),b=_("scale"),k=_("setBackground"),h=_("imageDataOnly"),O=document.createElement("div");O.style.position="absolute",O.style.left="-5000px",document.body.appendChild(O);var A=S.extendFlat({},s);w?A.width=w:null===o.width&&C(g.width)&&(A.width=g.width),m?A.height=m:null===o.height&&C(g.height)&&(A.height=g.height);var I=S.extendFlat({},d,{_exportedPlot:!0,staticPlot:!0,setBackground:k}),P=M.getRedrawFunc(O);function L(){return new Promise(function(B){setTimeout(B,M.getDelay(O._fullLayout))})}function N(){return new Promise(function(B,W){var j=v(O,y,b),Z=O._fullLayout.width,V=O._fullLayout.height;function q(){E.purge(O),document.body.removeChild(O)}if("full-json"===y){var G=f.graphJson(O,!1,"keepdata","object",!0,!0);return G.version=i,G=JSON.stringify(G),q(),B(h?G:M.encodeJSON(G))}if(q(),"svg"===y)return B(h?j:M.encodeSVG(j));var H=document.createElement("canvas");H.id=S.randstr(),c({format:y,width:Z,height:V,scale:b,canvas:H,svg:j,promise:!0}).then(B).catch(W)})}return new Promise(function(B,W){E.newPlot(O,l,A,I).then(P).then(L).then(N).then(function(j){var Z;B((Z=j,h?Z.replace(M.IMAGE_URL_PREFIX,""):Z))}).catch(function(j){W(j)})})}},84936:function(ie,z,r){"use strict";var C=r(71828),E=r(74875),f=r(86281),S=r(72075).dfltConfig,M=C.isPlainObject,v=Array.isArray,c=C.isArrayOrTypedArray;function i(T,_,y,w,m,b){b=b||[];for(var k=Object.keys(T),h=0;h<k.length;h++){var O=k[h];if("transforms"!==O){var A=b.slice();A.push(O);var I=T[O],P=_[O],L=d(y,O),N=(L||{}).valType,B="info_array"===N,W="colorscale"===N,j=(L||{}).items;if(s(y,O))if(M(I)&&M(P)&&"any"!==N)i(I,P,L,w,m,A);else if(B&&v(I)){I.length>P.length&&w.push(l("unused",m,A.concat(P.length)));var Z,V,G,H,ne=P.length,X=Array.isArray(j);if(X&&(ne=Math.min(ne,j.length)),2===L.dimensions)for(V=0;V<ne;V++)if(v(I[V])){I[V].length>P[V].length&&w.push(l("unused",m,A.concat(V,P[V].length)));var $=P[V].length;for(Z=0;Z<(X?Math.min($,j[V].length):$);Z++)H=P[V][Z],C.validate(G=I[V][Z],X?j[V][Z]:j)?H!==G&&H!==+G&&w.push(l("dynamic",m,A.concat(V,Z),G,H)):w.push(l("value",m,A.concat(V,Z),G))}else w.push(l("array",m,A.concat(V),I[V]));else for(V=0;V<ne;V++)H=P[V],C.validate(G=I[V],X?j[V]:j)?H!==G&&H!==+G&&w.push(l("dynamic",m,A.concat(V),G,H)):w.push(l("value",m,A.concat(V),G))}else if(L.items&&!B&&v(I)){var Q,te,re=j[Object.keys(j)[0]],le=[];for(Q=0;Q<P.length;Q++){var ue=P[Q]._index||Q;if((te=A.slice()).push(ue),M(I[ue])&&M(P[Q])){le.push(ue);var he=I[ue],ge=P[Q];M(he)&&!1!==he.visible&&!1===ge.visible?w.push(l("invisible",m,te)):i(he,ge,re,w,m,te)}}for(Q=0;Q<I.length;Q++)(te=A.slice()).push(Q),M(I[Q])?-1===le.indexOf(Q)&&w.push(l("unused",m,te)):w.push(l("object",m,te,I[Q]))}else!M(I)&&M(P)?w.push(l("object",m,A,I)):c(I)||!c(P)||B||W?O in _?C.validate(I,L)?"enumerated"===L.valType&&(L.coerceNumber&&I!==+P||I!==P)&&w.push(l("dynamic",m,A,I,P)):w.push(l("value",m,A,I)):w.push(l("unused",m,A,I)):w.push(l("array",m,A,I));else w.push(l("schema",m,A))}}return w}function u(T,_){for(var y=T.layout.layoutAttributes,w=0;w<_.length;w++){var m=_[w],b=T.traces[m.type],k=b.layoutAttributes;k&&C.extendFlat(m.subplot?y[b.attributes.subplot.dflt]:y,k)}return y}ie.exports=function(T,_){void 0===T&&(T=[]),void 0===_&&(_={});var y,w,m=f.get(),b=[],k={_context:C.extendFlat({},S)};v(T)?(k.data=C.extendDeep([],T),y=T):(k.data=[],y=[],b.push(l("array","data"))),M(_)?(k.layout=C.extendDeep({},_),w=_):(k.layout={},w={},arguments.length>1&&b.push(l("object","layout"))),E.supplyDefaults(k);for(var h=k._fullData,O=y.length,A=0;A<O;A++){var I=y[A],P=["data",A];if(M(I)){var L=h[A],N=L.type,B=m.traces[N].attributes;B.type={valType:"enumerated",values:[N]},!1===L.visible&&!1!==I.visible&&b.push(l("invisible",P)),i(I,L,B,b,P);var W=I.transforms,j=L.transforms;if(W){v(W)||b.push(l("array",P,["transforms"])),P.push("transforms");for(var Z=0;Z<W.length;Z++){var V=["transforms",Z],q=W[Z].type;if(M(W[Z])){var G=m.transforms[q]?m.transforms[q].attributes:{};G.type={valType:"enumerated",values:Object.keys(m.transforms)},i(W[Z],j[Z],G,b,P,V)}else b.push(l("object",P,V))}}}else b.push(l("object",P))}return i(w,k._fullLayout,u(m,h),b,"layout"),0===b.length?void 0:b};var a={object:function(T,_){return("layout"===T&&""===_?"The layout argument":"data"===T[0]&&""===_?"Trace "+T[1]+" in the data argument":o(T)+"key "+_)+" must be linked to an object container"},array:function(T,_){return("data"===T?"The data argument":o(T)+"key "+_)+" must be linked to an array container"},schema:function(T,_){return o(T)+"key "+_+" is not part of the schema"},unused:function(T,_,y){var w=M(y)?"container":"key";return o(T)+w+" "+_+" did not get coerced"},dynamic:function(T,_,y,w){return[o(T)+"key",_,"(set to '"+y+"')","got reset to","'"+w+"'","during defaults."].join(" ")},invisible:function(T,_){return(_?o(T)+"item "+_:"Trace "+T[1])+" got defaulted to be not visible"},value:function(T,_,y){return[o(T)+"key "+_,"is set to an invalid value ("+y+")"].join(" ")}};function o(T){return v(T)?"In data trace "+T[1]+", ":"In "+T+", "}function l(T,_,y,w,m){var b,k;y=y||"",v(_)?(b=_[0],k=_[1]):(b=_,k=null);var h=function(A){if(!v(A))return String(A);for(var I="",P=0;P<A.length;P++){var L=A[P];"number"==typeof L?I=I.substr(0,I.length-1)+"["+L+"]":I+=L,P<A.length-1&&(I+=".")}return I}(y),O=a[T](_,h,w,m);return C.log(O),{code:T,container:b,trace:k,path:y,astr:h,msg:O}}function s(T,_){var y=p(_),w=y.keyMinusId;return!!(w in T&&T[w]._isSubplotObj&&y.id)||_ in T}function d(T,_){return _ in T?T[_]:T[p(_).keyMinusId]}var g=C.counterRegex("([a-z]+)");function p(T){var _=T.match(g);return{keyMinusId:_&&_[1],id:_&&_[2]}}},85594:function(ie){"use strict";ie.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},85501:function(ie,z,r){"use strict";var C=r(71828),E=r(44467);ie.exports=function(f,S,M){var v,c,i=M.name,u=M.inclusionAttr||"visible",a=S[i],o=C.isArrayOrTypedArray(f[i])?f[i]:[],l=S[i]=[],s=E.arrayTemplater(S,i,u);for(v=0;v<o.length;v++){var d=o[v];C.isPlainObject(d)?c=s.newItem(d):(c=s.newItem({}))[u]=!1,c._index=v,!1!==c[u]&&M.handleItemDefaults(d,c,S,M),l.push(c)}var g=s.defaultItems();for(v=0;v<g.length;v++)(c=g[v])._index=l.length,M.handleItemDefaults({},c,S,M,{}),l.push(c);if(C.isArrayOrTypedArray(a)){var p=Math.min(a.length,l.length);for(v=0;v<p;v++)C.relinkPrivateKeys(l[v],a[v])}return l}},9012:function(ie,z,r){"use strict";var C=r(41940),E=r(77914);ie.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:C({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:E.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},42973:function(ie,z,r){"use strict";var C=r(92770),E=r(71828),f=E.dateTime2ms,S=E.incrementMonth,M=r(50606).ONEAVGMONTH;ie.exports=function(v,c,i,u){if("date"!==c.type)return{vals:u};var a=v[i+"periodalignment"];if(!a)return{vals:u};var o,l=v[i+"period"];if(C(l)){if((l=+l)<=0)return{vals:u}}else if("string"==typeof l&&"M"===l.charAt(0)){var s=+l.substring(1);if(!(s>0&&Math.round(s)===s))return{vals:u};o=s}for(var d=c.calendar,g="start"===a,p="end"===a,_=f(v[i+"period0"],d)||0,y=[],w=[],m=[],b=u.length,k=0;k<b;k++){var h,O,A,I=u[k];if(o){for(h=Math.round((I-_)/(o*M)),A=S(_,o*h,d);A>I;)A=S(A,-o,d);for(;A<=I;)A=S(A,o,d);O=S(A,-o,d)}else{for(A=_+(h=Math.round((I-_)/l))*l;A>I;)A-=l;for(;A<=I;)A+=l;O=A-l}y[k]=g?O:p?A:(O+A)/2,w[k]=O,m[k]=A}return{vals:y,starts:w,ends:m}}},89502:function(ie){"use strict";ie.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},71739:function(ie,z,r){"use strict";var C=r(39898),E=r(92770),f=r(71828),S=r(50606).FP_SAFE,M=r(73972),v=r(91424),c=r(41675),i=c.getFromId,u=c.isLinked;function a(w,m){var b,k,h=[],O=w._fullLayout,A=l(O,m,0),I=l(O,m,1),P=s(w,m),L=P.min,N=P.max;if(0===L.length||0===N.length)return f.simpleMap(m.range,m.r2l);var B=L[0].val,W=N[0].val;for(b=1;b<L.length&&B===W;b++)B=Math.min(B,L[b].val);for(b=1;b<N.length&&B===W;b++)W=Math.max(W,N[b].val);var j=!1;if(m.range){var Z=f.simpleMap(m.range,m.r2l);j=Z[1]<Z[0]}"reversed"===m.autorange&&(j=!0,m.autorange=!0);var V,q,G,H,ne,X,$=m.rangemode,Q="tozero"===$,te="nonnegative"===$,re=m._length,le=re/10,ue=0;for(b=0;b<L.length;b++)for(V=L[b],k=0;k<N.length;k++)(X=(q=N[k]).val-V.val-o(m,V.val,q.val))>0&&((ne=re-A(V)-I(q))>le?X/ne>ue&&(G=V,H=q,ue=X/ne):X/re>ue&&(G={val:V.val,nopad:1},H={val:q.val,nopad:1},ue=X/re));if(B===W){var he=B-1,ge=B+1;if(Q)if(0===B)h=[0,1];else{var xe=(B>0?N:L).reduce(function(Ae,pe){return Math.max(Ae,I(pe))},0),ke=B/(1-Math.min(.5,xe/re));h=B>0?[0,ke]:[ke,0]}else h=te?[Math.max(0,he),Math.max(1,ge)]:[he,ge]}else Q?(G.val>=0&&(G={val:0,nopad:1}),H.val<=0&&(H={val:0,nopad:1})):te&&(G.val-ue*A(G)<0&&(G={val:0,nopad:1}),H.val<=0&&(H={val:1,nopad:1})),ue=(H.val-G.val-o(m,V.val,q.val))/(re-A(G)-I(H)),h=[G.val-ue*A(G),H.val+ue*I(H)];return j&&h.reverse(),f.simpleMap(h,m.l2r||Number)}function o(w,m,b){var k=0;if(w.rangebreaks)for(var h=w.locateBreaks(m,b),O=0;O<h.length;O++){var A=h[O];k+=A.max-A.min}return k}function l(w,m,b){var k=.05*m._length,h=m._anchorAxis||{};if(-1!==(m.ticklabelposition||"").indexOf("inside")||-1!==(h.ticklabelposition||"").indexOf("inside")){var O="reversed"===m.autorange;if(!O){var A=f.simpleMap(m.range,m.r2l);O=A[1]<A[0]}O&&(b=!b)}var I=0;return u(w,m._id)||(I=function(P,L,N){var B=0,W="x"===L._id.charAt(0);for(var j in P._plots){var Z=P._plots[j];if(L._id===Z.xaxis._id||L._id===Z.yaxis._id){var V=(W?Z.yaxis:Z.xaxis)||{};if(-1!==(V.ticklabelposition||"").indexOf("inside")&&(!N&&("left"===V.side||"bottom"===V.side)||N&&("top"===V.side||"right"===V.side))){if(V._vals){var q=f.deg2rad(V._tickAngles[V._id+"tick"]||0),G=Math.abs(Math.cos(q)),H=Math.abs(Math.sin(q));V._vals[0].bb||V._selections[V._id+"tick"].each(function(re){var le=C.select(this);le.select(".text-math-group").empty()&&(re.bb=v.bBox(le.node()))});for(var X=0;X<V._vals.length;X++){var $=V._vals[X].bb;if($){var Q=6+$.width,te=6+$.height;B=Math.max(B,W?Math.max(Q*G,te*H):Math.max(te*G,Q*H))}}}"inside"===V.ticks&&"inside"===V.ticklabelposition&&(B+=V.ticklen||0)}}}return B}(w,m,b)),k=Math.max(I,k),"domain"===m.constrain&&m._inputDomain&&(k*=(m._inputDomain[1]-m._inputDomain[0])/(m.domain[1]-m.domain[0])),function(P){return P.nopad?0:P.pad+(P.extrapad?k:I)}}function s(w,m,b){var k,h,O,A=m._id,P=w._fullLayout,L=[],N=[];function B(q,G){for(k=0;k<G.length;k++){var H=q[G[k]],ne=(H._extremes||{})[A];if(!0===H.visible&&ne){for(h=0;h<ne.min.length;h++)d(L,(O=ne.min[h]).val,O.pad,{extrapad:O.extrapad});for(h=0;h<ne.max.length;h++)g(N,(O=ne.max[h]).val,O.pad,{extrapad:O.extrapad})}}}if(B(w._fullData,m._traceIndices),B(P.annotations||[],m._annIndices||[]),B(P.shapes||[],m._shapeIndices||[]),m._matchGroup&&!b)for(var W in m._matchGroup)if(W!==m._id){var j=i(w,W),Z=s(w,j,!0),V=m._length/j._length;for(h=0;h<Z.min.length;h++)d(L,(O=Z.min[h]).val,O.pad*V,{extrapad:O.extrapad});for(h=0;h<Z.max.length;h++)g(N,(O=Z.max[h]).val,O.pad*V,{extrapad:O.extrapad})}return{min:L,max:N}}function d(w,m,b,k){p(w,m,b,k,_)}function g(w,m,b,k){p(w,m,b,k,y)}function p(w,m,b,k,h){for(var O=k.tozero,A=k.extrapad,I=!0,P=0;P<w.length&&I;P++){var L=w[P];if(h(L.val,m)&&L.pad>=b&&(L.extrapad||!A)){I=!1;break}h(m,L.val)&&L.pad<=b&&(A||!L.extrapad)&&(w.splice(P,1),P--)}if(I){var N=O&&0===m;w.push({val:m,pad:N?0:b,extrapad:!N&&A})}}function T(w){return E(w)&&Math.abs(w)<S}function _(w,m){return w<=m}function y(w,m){return w>=m}ie.exports={getAutoRange:a,makePadFn:l,doAutoRange:function(w,m,b){if(m.setScale(),m.autorange){m.range=b?b.slice():a(w,m),m._r=m.range.slice(),m._rl=f.simpleMap(m._r,m.r2l);var k=m._input,h={};h[m._attr+".range"]=m.range,h[m._attr+".autorange"]=m.autorange,M.call("_storeDirectGUIEdit",w.layout,w._fullLayout._preGUI,h),k.range=m.range.slice(),k.autorange=m.autorange}var O=m._anchorAxis;if(O&&O.rangeslider){var A=O.rangeslider[m._name];A&&"auto"===A.rangemode&&(A.range=a(w,m)),O._input.rangeslider[m._name]=f.extendFlat({},A)}},findExtremes:function(w,m,b){b||(b={}),w._m||w.setScale();var k,h,O,A,I,P,L,N,B,W=[],j=[],Z=m.length,V=b.padded||!1,q=b.tozero&&("linear"===w.type||"-"===w.type),G="log"===w.type,H=!1,ne=b.vpadLinearized||!1;function X(ge){if(Array.isArray(ge))return H=!0,function(ke){return Math.max(Number(ge[ke]||0),0)};var xe=Math.max(Number(ge||0),0);return function(){return xe}}var $=X((w._m>0?b.ppadplus:b.ppadminus)||b.ppad||0),Q=X((w._m>0?b.ppadminus:b.ppadplus)||b.ppad||0),te=X(b.vpadplus||b.vpad),re=X(b.vpadminus||b.vpad);if(!H){if(N=1/0,B=-1/0,G)for(k=0;k<Z;k++)(h=m[k])<N&&h>0&&(N=h),h>B&&h<S&&(B=h);else for(k=0;k<Z;k++)(h=m[k])<N&&h>-S&&(N=h),h>B&&h<S&&(B=h);m=[N,B],Z=2}var le={tozero:q,extrapad:V};function ue(ge){E(O=m[ge])&&(P=$(ge),L=Q(ge),ne?(A=w.c2l(O)-re(ge),I=w.c2l(O)+te(ge)):(N=O-re(ge),B=O+te(ge),G&&N<B/10&&(N=B/10),A=w.c2l(N),I=w.c2l(B)),q&&(A=Math.min(0,A),I=Math.max(0,I)),T(A)&&d(W,A,L,le),T(I)&&g(j,I,P,le))}var he=Math.min(6,Z);for(k=0;k<he;k++)ue(k);for(k=Z-1;k>=he;k--)ue(k);return{min:W,max:j,opts:b}},concatExtremes:s}},89298:function(ie,z,r){"use strict";var C=r(39898),E=r(92770),f=r(74875),S=r(73972),M=r(71828),v=M.strTranslate,c=r(63893),i=r(92998),u=r(7901),a=r(91424),o=r(13838),l=r(66287),s=r(50606),d=s.ONEMAXYEAR,g=s.ONEAVGYEAR,p=s.ONEMINYEAR,T=s.ONEMAXQUARTER,_=s.ONEAVGQUARTER,y=s.ONEMINQUARTER,w=s.ONEMAXMONTH,m=s.ONEAVGMONTH,b=s.ONEMINMONTH,k=s.ONEWEEK,h=s.ONEDAY,O=h/2,A=s.ONEHOUR,I=s.ONEMIN,P=s.ONESEC,L=s.MINUS_SIGN,N=s.BADNUM,B={K:"zeroline"},W={K:"gridline",L:"path"},j={K:"minor-gridline",L:"path"},Z={K:"tick",L:"path"},V={K:"tick",L:"text"},q={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},G=r(18783),H=G.MID_SHIFT,ne=G.CAP_SHIFT,X=G.LINE_SPACING,$=G.OPPOSITE_SIDE,Q=ie.exports={};Q.setConvert=r(21994);var te=r(4322),re=r(41675),le=re.idSort,ue=re.isLinked;Q.id2name=re.id2name,Q.name2id=re.name2id,Q.cleanId=re.cleanId,Q.list=re.list,Q.listIds=re.listIds,Q.getFromId=re.getFromId,Q.getFromTrace=re.getFromTrace;var he=r(71739);function ge(Le){var Ge=1e-4*(Le[1]-Le[0]);return[Le[0]-Ge,Le[1]+Ge]}Q.getAutoRange=he.getAutoRange,Q.findExtremes=he.findExtremes,Q.coerceRef=function(Le,Ge,st,vt,bt,Lt){var jt=vt.charAt(vt.length-1),Nt=st._fullLayout._subplots[jt+"axis"],Tt=vt+"ref",Mt={};return bt||(bt=Nt[0]||("string"==typeof Lt?Lt:Lt[0])),Lt||(Lt=bt),Nt=Nt.concat(Nt.map(function(kt){return kt+" domain"})),Mt[Tt]={valType:"enumerated",values:Nt.concat(Lt?"string"==typeof Lt?[Lt]:Lt:[]),dflt:bt},M.coerce(Le,Ge,Mt,Tt)},Q.getRefType=function(Le){return void 0===Le?Le:"paper"===Le?"paper":"pixel"===Le?"pixel":/( domain)$/.test(Le)?"domain":"range"},Q.coercePosition=function(Le,Ge,st,vt,bt,Lt){var jt,Nt;if("range"!==Q.getRefType(vt))jt=M.ensureNumber,Nt=st(bt,Lt);else{var Tt=Q.getFromId(Ge,vt);Nt=st(bt,Lt=Tt.fraction2r(Lt)),jt=Tt.cleanPos}Le[bt]=jt(Nt)},Q.cleanPosition=function(Le,Ge,st){return("paper"===st||"pixel"===st?M.ensureNumber:Q.getFromId(Ge,st).cleanPos)(Le)},Q.redrawComponents=function(Le,Ge){Ge=Ge||Q.listIds(Le);var st=Le._fullLayout;function vt(bt,Lt,jt,Nt){for(var Tt=S.getComponentMethod(bt,Lt),Mt={},kt=0;kt<Ge.length;kt++)for(var Ht=st[Q.id2name(Ge[kt])][jt],qt=0;qt<Ht.length;qt++){var Qt=Ht[qt];if(!Mt[Qt]&&(Tt(Le,Qt),Mt[Qt]=1,Nt))return}}vt("annotations","drawOne","_annIndices"),vt("shapes","drawOne","_shapeIndices"),vt("images","draw","_imgIndices",!0),vt("selections","drawOne","_selectionIndices")};var xe=Q.getDataConversions=function(Le,Ge,st,vt){var bt,Lt="x"===st||"y"===st||"z"===st?st:vt;if(Array.isArray(Lt)){if(bt={type:te(vt,void 0,{autotypenumbers:Le._fullLayout.autotypenumbers}),_categories:[]},Q.setConvert(bt),"category"===bt.type)for(var jt=0;jt<vt.length;jt++)bt.d2c(vt[jt])}else bt=Q.getFromTrace(Le,Ge,Lt);return bt?{d2c:bt.d2c,c2d:bt.c2d}:"ids"===Lt?{d2c:Ae,c2d:Ae}:{d2c:ke,c2d:ke}};function ke(Le){return+Le}function Ae(Le){return String(Le)}function pe(Le,Ge){return Math.abs((Le/Ge+.5)%1-.5)<.001}function ye(Le,Ge){return Math.abs(Le/Ge-1)<.001}function Ne(Le){return+Le.substring(1)}function be(Le,Ge){return Le.rangebreaks&&(Ge=Ge.filter(function(st){return Le.maskBreaks(st.x)!==N})),Ge}function Ee(Le){var Ge=Le._mainAxis,st=[];if(Ge._vals)for(var vt=0;vt<Ge._vals.length;vt++)if(!Ge._vals[vt].noTick){var bt=Ge.l2p(Ge._vals[vt].x),Lt=Le.p2l(bt),jt=Q.tickText(Le,Lt);Ge._vals[vt].minor&&(jt.minor=!0,jt.text=""),st.push(jt)}return be(Le,st)}function Oe(Le){var Ge=ge(M.simpleMap(Le.range,Le.r2l)),st=Math.min(Ge[0],Ge[1]),vt=Math.max(Ge[0],Ge[1]),bt="category"===Le.type?Le.d2l_noadd:Le.d2l;"log"===Le.type&&"L"!==String(Le.dtick).charAt(0)&&(Le.dtick="L"+Math.pow(10,Math.floor(Math.min(Le.range[0],Le.range[1]))-1));for(var Lt=[],jt=0;jt<=1;jt++)if(!jt||Le.minor){var Nt=jt?Le.minor.tickvals:Le.tickvals,Tt=jt?[]:Le.ticktext;if(Nt){Array.isArray(Tt)||(Tt=[]);for(var Mt=0;Mt<Nt.length;Mt++){var kt=bt(Nt[Mt]);if(kt>st&&kt<vt){var Ht=void 0===Tt[Mt]?Q.tickText(Le,kt):ve(Le,kt,String(Tt[Mt]));jt&&(Ht.minor=!0,Ht.text=""),Lt.push(Ht)}}}}return be(Le,Lt)}Q.getDataToCoordFunc=function(Le,Ge,st,vt){return xe(Le,Ge,st,vt).d2c},Q.counterLetter=function(Le){var Ge=Le.charAt(0);return"x"===Ge?"y":"y"===Ge?"x":void 0},Q.minDtick=function(Le,Ge,st,vt){-1===["log","category","multicategory"].indexOf(Le.type)&&vt?void 0===Le._minDtick?(Le._minDtick=Ge,Le._forceTick0=st):Le._minDtick&&((Le._minDtick/Ge+1e-6)%1<2e-6&&((st-Le._forceTick0)/Ge%1+1.000001)%1<2e-6?(Le._minDtick=Ge,Le._forceTick0=st):((Ge/Le._minDtick+1e-6)%1>2e-6||((st-Le._forceTick0)/Le._minDtick%1+1.000001)%1>2e-6)&&(Le._minDtick=0)):Le._minDtick=0},Q.saveRangeInitial=function(Le,Ge){for(var st=Q.list(Le,"",!0),vt=!1,bt=0;bt<st.length;bt++){var Lt=st[bt],jt=void 0===Lt._rangeInitial;(jt&&!1===Lt.autorange||Ge&&(jt||Lt.range[0]!==Lt._rangeInitial[0]||Lt.range[1]!==Lt._rangeInitial[1]))&&(Lt._rangeInitial=Lt.range.slice(),vt=!0)}return vt},Q.saveShowSpikeInitial=function(Le,Ge){for(var st=Q.list(Le,"",!0),vt=!1,bt="on",Lt=0;Lt<st.length;Lt++){var jt=st[Lt],Nt=void 0===jt._showSpikeInitial;(Nt||Ge&&(Nt||jt.showspikes!==jt._showspikes))&&(jt._showSpikeInitial=jt.showspikes,vt=!0),"on"!==bt||jt.showspikes||(bt="off")}return Le._fullLayout._cartesianSpikesEnabled=bt,vt},Q.autoBin=function(Le,Ge,st,vt,bt,Lt){var jt,Nt=M.aggNums(Math.min,null,Le),Tt=M.aggNums(Math.max,null,Le);if("category"===Ge.type||"multicategory"===Ge.type)return{start:Nt-.5,end:Tt+.5,size:Math.max(1,Math.round(Lt)||1),_dataSpan:Tt-Nt};if(bt||(bt=Ge.calendar),jt="log"===Ge.type?{type:"linear",range:[Nt,Tt]}:{type:Ge.type,range:M.simpleMap([Nt,Tt],Ge.c2r,0,bt),calendar:bt},Q.setConvert(jt),Lt=Lt&&l.dtick(Lt,jt.type))jt.dtick=Lt,jt.tick0=l.tick0(void 0,jt.type,bt);else{var Mt;if(st)Mt=(Tt-Nt)/st;else{var kt=M.distinctVals(Le),Ht=Math.pow(10,Math.floor(Math.log(kt.minDiff)/Math.LN10)),qt=Ht*M.roundUp(kt.minDiff/Ht,[.9,1.9,4.9,9.9],!0);Mt=Math.max(qt,2*M.stdev(Le)/Math.pow(Le.length,vt?.25:.4)),E(Mt)||(Mt=1)}Q.autoTicks(jt,Mt)}var Qt,Jt=jt.dtick,Kt=Q.tickIncrement(Q.tickFirst(jt),Jt,"reverse",bt);if("number"==typeof Jt)Qt=(Kt=function(ln,Tn,An,pn,Nn){var tr=0,On=0,wn=0,Cn=0;function mn(er){return(1+100*(er-ln)/An.dtick)%100<2}for(var En=0;En<Tn.length;En++)Tn[En]%1==0?wn++:E(Tn[En])||Cn++,mn(Tn[En])&&tr++,mn(Tn[En]+An.dtick/2)&&On++;var Fn=Tn.length-Cn;if(wn===Fn&&"date"!==An.type)An.dtick<1?ln=pn-.5*An.dtick:(ln-=.5)+An.dtick<pn&&(ln+=An.dtick);else if(On<.1*Fn&&(tr>.3*Fn||mn(pn)||mn(Nn))){var jn=An.dtick/2;ln+=ln+jn<pn?jn:-jn}return ln}(Kt,Le,jt,Nt,Tt))+(1+Math.floor((Tt-Kt)/Jt))*Jt;else for("M"===jt.dtick.charAt(0)&&(Kt=function(ln,Tn,An,pn,Nn){var tr=M.findExactDates(Tn,Nn);if(tr.exactDays>.8){var On=Number(An.substr(1));tr.exactYears>.8&&On%12==0?ln=Q.tickIncrement(ln,"M6","reverse")+1.5*h:tr.exactMonths>.8?ln=Q.tickIncrement(ln,"M1","reverse")+15.5*h:ln-=O;var wn=Q.tickIncrement(ln,An);if(wn<=pn)return wn}return ln}(Kt,Le,Jt,Nt,bt)),Qt=Kt;Qt<=Tt;)Qt=Q.tickIncrement(Qt,Jt,!1,bt);return{start:Ge.c2r(Kt,0,bt),end:Ge.c2r(Qt,0,bt),size:Jt,_dataSpan:Tt-Nt}},Q.prepMinorTicks=function(Le,Ge,st){if(!Ge.minor.dtick){delete Le.dtick;var vt,bt=Ge.dtick&&E(Ge._tmin);if(bt){var Lt=Q.tickIncrement(Ge._tmin,Ge.dtick,!0);vt=[Ge._tmin,.99*Lt+.01*Ge._tmin]}else{var jt=M.simpleMap(Ge.range,Ge.r2l);vt=[jt[0],.8*jt[0]+.2*jt[1]]}if(Le.range=M.simpleMap(vt,Ge.l2r),Le._isMinor=!0,Q.prepTicks(Le,st),bt){var Nt=E(Ge.dtick),Tt=E(Le.dtick),Mt=Nt?Ge.dtick:+Ge.dtick.substring(1),kt=Tt?Le.dtick:+Le.dtick.substring(1);Nt&&Tt?pe(Mt,kt)?Mt===2*k&&kt===2*h&&(Le.dtick=k):Le.dtick=Mt===2*k&&kt===3*h?k:Mt!==k||(Ge._input.minor||{}).nticks?ye(Mt/kt,2.5)?Mt/2:Mt:h:"M"===String(Ge.dtick).charAt(0)?Tt?Le.dtick="M1":pe(Mt,kt)?Mt>=12&&2===kt&&(Le.dtick="M3"):Le.dtick=Ge.dtick:"L"===String(Le.dtick).charAt(0)?"L"===String(Ge.dtick).charAt(0)?pe(Mt,kt)||(Le.dtick=ye(Mt/kt,2.5)?Ge.dtick/2:Ge.dtick):Le.dtick="D1":"D2"===Le.dtick&&+Ge.dtick>1&&(Le.dtick=1)}Le.range=Ge.range}void 0===Ge.minor._tick0Init&&(Le.tick0=Ge.tick0)},Q.prepTicks=function(Le,Ge){var st=M.simpleMap(Le.range,Le.r2l,void 0,void 0,Ge);if("auto"===Le.tickmode||!Le.dtick){var vt,bt=Le.nticks;bt||("category"===Le.type||"multicategory"===Le.type?(vt=Le.tickfont?M.bigFont(Le.tickfont.size||12):15,bt=Le._length/vt):(vt="y"===Le._id.charAt(0)?40:80,bt=M.constrain(Le._length/vt,4,9)+1),"radialaxis"===Le._name&&(bt*=2)),Le.minor&&"array"!==Le.minor.tickmode||"array"===Le.tickmode&&(bt*=100),Le._roughDTick=Math.abs(st[1]-st[0])/bt,Q.autoTicks(Le,Le._roughDTick),Le._minDtick>0&&Le.dtick<2*Le._minDtick&&(Le.dtick=Le._minDtick,Le.tick0=Le.l2r(Le._forceTick0))}"period"===Le.ticklabelmode&&function(Lt){var jt;function Nt(){return!(E(Lt.dtick)||"M"!==Lt.dtick.charAt(0))}var Tt=Nt(),Mt=Q.getTickFormat(Lt);if(Mt){var kt=Lt._dtickInit!==Lt.dtick;/%[fLQsSMX]/.test(Mt)||(/%[HI]/.test(Mt)?(jt=A,kt&&!Tt&&Lt.dtick<A&&(Lt.dtick=A)):/%p/.test(Mt)?(jt=O,kt&&!Tt&&Lt.dtick<O&&(Lt.dtick=O)):/%[Aadejuwx]/.test(Mt)?(jt=h,kt&&!Tt&&Lt.dtick<h&&(Lt.dtick=h)):/%[UVW]/.test(Mt)?(jt=k,kt&&!Tt&&Lt.dtick<k&&(Lt.dtick=k)):/%[Bbm]/.test(Mt)?(jt=m,kt&&(Tt?Ne(Lt.dtick)<1:Lt.dtick<b)&&(Lt.dtick="M1")):/%[q]/.test(Mt)?(jt=_,kt&&(Tt?Ne(Lt.dtick)<3:Lt.dtick<y)&&(Lt.dtick="M3")):/%[Yy]/.test(Mt)&&(jt=g,kt&&(Tt?Ne(Lt.dtick)<12:Lt.dtick<p)&&(Lt.dtick="M12")))}(Tt=Nt())&&Lt.tick0===Lt._dowTick0&&(Lt.tick0=Lt._rawTick0),Lt._definedDelta=jt}(Le),Le.tick0||(Le.tick0="date"===Le.type?"2000-01-01":0),"date"===Le.type&&Le.dtick<.1&&(Le.dtick=.1),Ve(Le)},Q.calcTicks=function(Le,Ge){for(var st,vt,bt=Le.type,Lt=Le.calendar,jt=Le.ticklabelstep,Nt="period"===Le.ticklabelmode,Tt=M.simpleMap(Le.range,Le.r2l,void 0,void 0,Ge),Mt=Tt[1]<Tt[0],kt=Math.min(Tt[0],Tt[1]),Ht=Math.max(Tt[0],Tt[1]),qt=Math.max(1e3,Le._length||0),Qt=[],Jt=[],Kt=[],ln=[],Tn=Le.minor&&(Le.minor.ticks||Le.minor.showgrid),An=1;An>=(Tn?0:1);An--){var pn=!An;An?(Le._dtickInit=Le.dtick,Le._tick0Init=Le.tick0):(Le.minor._dtickInit=Le.minor.dtick,Le.minor._tick0Init=Le.minor.tick0);var Nn=An?Le:M.extendFlat({},Le,Le.minor);if(pn?Q.prepMinorTicks(Nn,Le,Ge):Q.prepTicks(Nn,Ge),"array"!==Nn.tickmode)if("sync"!==Nn.tickmode){var tr=ge(Tt),On=tr[0],wn=tr[1],Cn=E(Nn.dtick),mn="log"===bt&&!(Cn||"L"===Nn.dtick.charAt(0)),En=Q.tickFirst(Nn,Ge);if(An){if(Le._tmin=En,En<On!==Mt)break;"category"!==bt&&"multicategory"!==bt||(wn=Mt?Math.max(-.5,wn):Math.min(Le._categories.length-.5,wn))}var Fn,jn,er=null,Zn=En;An&&(Cn?jn=Le.dtick:"date"===bt?"string"==typeof Le.dtick&&"M"===Le.dtick.charAt(0)&&(jn=m*Le.dtick.substring(1)):jn=Le._roughDTick,Fn=Math.round((Le.r2l(Zn)-Le.r2l(Le.tick0))/jn)-1);var Gn=Nn.dtick;for(Nn.rangebreaks&&Nn._tick0Init!==Nn.tick0&&(Zn=nt(Zn,Le),Mt||(Zn=Q.tickIncrement(Zn,Gn,!Mt,Lt))),An&&Nt&&(Zn=Q.tickIncrement(Zn,Gn,!Mt,Lt),Fn--);Mt?Zn>=wn:Zn<=wn;Zn=Q.tickIncrement(Zn,Gn,Mt,Lt)){if(An&&Fn++,Nn.rangebreaks&&!Mt){if(Zn<On)continue;if(Nn.maskBreaks(Zn)===N&&nt(Zn,Nn)>=Ht)break}if(Kt.length>qt||Zn===er)break;er=Zn;var _r={value:Zn};An?(mn&&Zn!==(0|Zn)&&(_r.simpleLabel=!0),jt>1&&Fn%jt&&(_r.skipLabel=!0),Kt.push(_r)):(_r.minor=!0,ln.push(_r))}}else Kt=[],Qt=Ee(Le);else An?(Kt=[],Qt=Oe(Le)):(ln=[],Jt=Oe(Le))}if(Tn&&!("inside"===Le.minor.ticks&&"outside"===Le.ticks||"outside"===Le.minor.ticks&&"inside"===Le.ticks)){for(var mr=Kt.map(function(Vn){return Vn.value}),Vr=[],Dr=0;Dr<ln.length;Dr++){var Un=ln[Dr],ur=Un.value;if(-1===mr.indexOf(ur)){for(var cr=!1,on=0;!cr&&on<Kt.length;on++)1e7+Kt[on].value===1e7+ur&&(cr=!0);cr||Vr.push(Un)}}ln=Vr}if(Nt&&function(Vn,Wt,un){for(var vn=0;vn<Vn.length;vn++){var $n=Vn[vn].value,Hn=vn,zn=vn+1;vn<Vn.length-1?(Hn=vn,zn=vn+1):vn>0?(Hn=vn-1,zn=vn):(Hn=vn,zn=vn);var bn,kn=Math.abs(Vn[zn].value-Vn[Hn].value),In=un||kn,Yn=0;In>=p?Yn=kn>=p&&kn<=d?kn:g:un===_&&In>=y?Yn=kn>=y&&kn<=T?kn:_:In>=b?Yn=kn>=b&&kn<=w?kn:m:un===k&&In>=k?Yn=k:In>=h?Yn=h:un===O&&In>=O?Yn=O:un===A&&In>=A&&(Yn=A),Yn>=kn&&(Yn=kn,bn=!0);var Rn=$n+Yn;if(Wt.rangebreaks&&Yn>0){for(var hr=0,sr=0;sr<84;sr++){var wr=(sr+.5)/84;Wt.maskBreaks($n*(1-wr)+wr*Rn)!==N&&hr++}(Yn*=hr/84)||(Vn[vn].drop=!0),bn&&kn>k&&(Yn=kn)}(Yn>0||0===vn)&&(Vn[vn].periodX=$n+Yn/2)}}(Kt,Le,Le._definedDelta),Le.rangebreaks){var xn="y"===Le._id.charAt(0),Wn=1;"auto"===Le.tickmode&&(Wn=Le.tickfont?Le.tickfont.size:12);var Bn=NaN;for(st=Kt.length-1;st>-1;st--)if(Kt[st].drop)Kt.splice(st,1);else{Kt[st].value=nt(Kt[st].value,Le);var qn=Le.c2p(Kt[st].value);(xn?Bn>qn-Wn:Bn<qn+Wn)?Kt.splice(Mt?st+1:st,1):Bn=qn}}et(Le)&&360===Math.abs(Tt[1]-Tt[0])&&Kt.pop(),Le._tmax=(Kt[Kt.length-1]||{}).value,Le._prevDateHead="",Le._inCalcTicks=!0;var nr,fr,Sr=function(Vn){Vn.text="",Le._prevDateHead=vt};for(Kt=Kt.concat(ln),st=0;st<Kt.length;st++){var fn=Kt[st].value;Kt[st].minor?Jt.push({x:fn,minor:!0}):(vt=Le._prevDateHead,nr=Q.tickText(Le,fn,!1,Kt[st].simpleLabel),void 0!==(fr=Kt[st].periodX)&&(nr.periodX=fr,(fr>Ht||fr<kt)&&(fr>Ht&&(nr.periodX=Ht),fr<kt&&(nr.periodX=kt),Sr(nr))),Kt[st].skipLabel&&Sr(nr),Qt.push(nr))}return Qt=Qt.concat(Jt),Le._inCalcTicks=!1,Nt&&Qt.length&&(Qt[0].noTick=!0),Qt};var De=[2,5,10],oe=[1,2,3,6,12],de=[1,2,5,10,15,30],_e=[1,2,3,7,14],Me=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],Pe=[-.301,0,.301,.699,1],Ue=[15,30,45,90,180];function Be(Le,Ge,st){return Ge*M.roundUp(Le/Ge,st)}function Ve(Le){var Ge=Le.dtick;if(Le._tickexponent=0,E(Ge)||"string"==typeof Ge||(Ge=1),"category"!==Le.type&&"multicategory"!==Le.type||(Le._tickround=null),"date"===Le.type){var st=Le.r2l(Le.tick0),vt=Le.l2r(st).replace(/(^-|i)/g,""),bt=vt.length;if("M"===String(Ge).charAt(0))Le._tickround=bt>10||"01-01"!==vt.substr(5)?"d":+Ge.substr(1)%12==0?"y":"m";else if(Ge>=h&&bt<=10||Ge>=15*h)Le._tickround="d";else if(Ge>=I&&bt<=16||Ge>=A)Le._tickround="M";else if(Ge>=P&&bt<=19||Ge>=I)Le._tickround="S";else{var Lt=Le.l2r(st+Ge).replace(/^-/,"").length;Le._tickround=Math.max(bt,Lt)-20,Le._tickround<0&&(Le._tickround=4)}}else if(E(Ge)||"L"===Ge.charAt(0)){var jt=Le.range.map(Le.r2d||Number);E(Ge)||(Ge=Number(Ge.substr(1))),Le._tickround=2-Math.floor(Math.log(Ge)/Math.LN10+.01);var Nt=Math.max(Math.abs(jt[0]),Math.abs(jt[1])),Tt=Math.floor(Math.log(Nt)/Math.LN10+.01),Mt=void 0===Le.minexponent?3:Le.minexponent;Math.abs(Tt)>Mt&&(Le._tickexponent=Ce(Le.exponentformat)&&!We(Tt)?3*Math.round((Tt-1)/3):Tt)}else Le._tickround=null}function ve(Le,Ge,st){var vt=Le.tickfont||{};return{x:Ge,dx:0,dy:0,text:st||"",fontSize:vt.size,font:vt.family,fontColor:vt.color}}Q.autoTicks=function(Le,Ge,st){var vt;function bt(Ht){return Math.pow(Ht,Math.floor(Math.log(Ge)/Math.LN10))}if("date"===Le.type){Le.tick0=M.dateTick0(Le.calendar,0);var Lt=2*Ge;if(Lt>g)Ge/=g,vt=bt(10),Le.dtick="M"+12*Be(Ge,vt,De);else if(Lt>m)Le.dtick="M"+Be(Ge/=m,1,oe);else if(Lt>h){if(Le.dtick=Be(Ge,h,Le._hasDayOfWeekBreaks?[1,2,7,14]:_e),!st){var jt=Q.getTickFormat(Le),Nt="period"===Le.ticklabelmode;Nt&&(Le._rawTick0=Le.tick0),Le.tick0=/%[uVW]/.test(jt)?M.dateTick0(Le.calendar,2):M.dateTick0(Le.calendar,1),Nt&&(Le._dowTick0=Le.tick0)}}else Lt>A?Le.dtick=Be(Ge,A,oe):Lt>I?Le.dtick=Be(Ge,I,de):Lt>P?Le.dtick=Be(Ge,P,de):(vt=bt(10),Le.dtick=Be(Ge,vt,De))}else if("log"===Le.type){Le.tick0=0;var Tt=M.simpleMap(Le.range,Le.r2l);if(Le._isMinor&&(Ge*=1.5),Ge>.7)Le.dtick=Math.ceil(Ge);else if(Math.abs(Tt[1]-Tt[0])<1){var Mt=1.5*Math.abs((Tt[1]-Tt[0])/Ge);Ge=Math.abs(Math.pow(10,Tt[1])-Math.pow(10,Tt[0]))/Mt,vt=bt(10),Le.dtick="L"+Be(Ge,vt,De)}else Le.dtick=Ge>.3?"D2":"D1"}else"category"===Le.type||"multicategory"===Le.type?(Le.tick0=0,Le.dtick=Math.ceil(Math.max(Ge,1))):et(Le)?(Le.tick0=0,Le.dtick=Be(Ge,vt=1,Ue)):(Le.tick0=0,vt=bt(10),Le.dtick=Be(Ge,vt,De));if(0===Le.dtick&&(Le.dtick=1),!E(Le.dtick)&&"string"!=typeof Le.dtick){var kt=Le.dtick;throw Le.dtick=1,"ax.dtick error: "+String(kt)}},Q.tickIncrement=function(Le,Ge,st,vt){var bt=st?-1:1;if(E(Ge))return M.increment(Le,bt*Ge);var Lt=Ge.charAt(0),jt=bt*Number(Ge.substr(1));if("M"===Lt)return M.incrementMonth(Le,jt,vt);if("L"===Lt)return Math.log(Math.pow(10,Le)+jt)/Math.LN10;if("D"===Lt){var Nt="D2"===Ge?Pe:Me,Tt=Le+.01*bt,Mt=M.roundUp(M.mod(Tt,1),Nt,st);return Math.floor(Tt)+Math.log(C.round(Math.pow(10,Mt),1))/Math.LN10}throw"unrecognized dtick "+String(Ge)},Q.tickFirst=function(Le,Ge){var st=Le.r2l||Number,vt=M.simpleMap(Le.range,st,void 0,void 0,Ge),bt=vt[1]<vt[0],Lt=bt?Math.floor:Math.ceil,jt=ge(vt)[0],Nt=Le.dtick,Tt=st(Le.tick0);if(E(Nt)){var Mt=Lt((jt-Tt)/Nt)*Nt+Tt;return"category"!==Le.type&&"multicategory"!==Le.type||(Mt=M.constrain(Mt,0,Le._categories.length-1)),Mt}var kt=Nt.charAt(0),Ht=Number(Nt.substr(1));if("M"===kt){for(var qt,Qt,Jt,Kt=0,ln=Tt;Kt<10;){if(((qt=Q.tickIncrement(ln,Nt,bt,Le.calendar))-jt)*(ln-jt)<=0)return bt?Math.min(ln,qt):Math.max(ln,qt);Qt=(jt-(ln+qt)/2)/(qt-ln),Jt=kt+(Math.abs(Math.round(Qt))||1)*Ht,ln=Q.tickIncrement(ln,Jt,Qt<0?!bt:bt,Le.calendar),Kt++}return M.error("tickFirst did not converge",Le),ln}if("L"===kt)return Math.log(Lt((Math.pow(10,jt)-Tt)/Ht)*Ht+Tt)/Math.LN10;if("D"===kt){var Tn="D2"===Nt?Pe:Me,An=M.roundUp(M.mod(jt,1),Tn,bt);return Math.floor(jt)+Math.log(C.round(Math.pow(10,An),1))/Math.LN10}throw"unrecognized dtick "+String(Nt)},Q.tickText=function(Le,Ge,st,vt){var bt,Lt=ve(Le,Ge),jt="array"===Le.tickmode,Nt=st||jt,Tt=Le.type,Mt="category"===Tt?Le.d2l_noadd:Le.d2l;if(jt&&Array.isArray(Le.ticktext)){var kt=M.simpleMap(Le.range,Le.r2l),Ht=(Math.abs(kt[1]-kt[0])-(Le._lBreaks||0))/1e4;for(bt=0;bt<Le.ticktext.length&&!(Math.abs(Ge-Mt(Le.tickvals[bt]))<Ht);bt++);if(bt<Le.ticktext.length)return Lt.text=String(Le.ticktext[bt]),Lt}function qt(Kt){return void 0===Kt||(st?"none"===Kt:"all"!==Kt&&Ge!=={first:Le._tmin,last:Le._tmax}[Kt])}var ln,Tn,Qt=st?"never":"none"!==Le.exponentformat&&qt(Le.showexponent)?"hide":"";if("date"===Tt?function(Kt,ln,Tn,An){var pn=Kt._tickround,Nn=Tn&&Kt.hoverformat||Q.getTickFormat(Kt);An&&(pn=E(pn)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[pn]);var tr,On=M.formatDate(ln.x,Nn,pn,Kt._dateFormat,Kt.calendar,Kt._extraFormat),wn=On.indexOf("\n");if(-1!==wn&&(tr=On.substr(wn+1),On=On.substr(0,wn)),An&&("00:00:00"===On||"00:00"===On?(On=tr,tr=""):8===On.length&&(On=On.replace(/:00$/,""))),tr)if(Tn)"d"===pn?On+=", "+tr:On=tr+(On?", "+On:"");else if(Kt._inCalcTicks&&Kt._prevDateHead===tr){var Cn=$e(Kt),mn=Kt._trueSide||Kt.side;(!Cn&&"top"===mn||Cn&&"bottom"===mn)&&(On+="<br> ")}else Kt._prevDateHead=tr,On+="<br>"+tr;ln.text=On}(Le,Lt,st,Nt):"log"===Tt?function(Kt,ln,Tn,An,pn){var Nn=Kt.dtick,tr=ln.x,On=Kt.tickformat,wn="string"==typeof Nn&&Nn.charAt(0);if("never"===pn&&(pn=""),An&&"L"!==wn&&(Nn="L3",wn="L"),On||"L"===wn)ln.text=Ke(Math.pow(10,tr),Kt,pn,An);else if(E(Nn)||"D"===wn&&M.mod(tr+.01,1)<.1){var Cn=Math.round(tr),mn=Math.abs(Cn),En=Kt.exponentformat;"power"===En||Ce(En)&&We(Cn)?(ln.text=0===Cn?1:1===Cn?"10":"10<sup>"+(Cn>1?"":L)+mn+"</sup>",ln.fontSize*=1.25):("e"===En||"E"===En)&&mn>2?ln.text="1"+En+(Cn>0?"+":L)+mn:(ln.text=Ke(Math.pow(10,tr),Kt,"","fakehover"),"D1"===Nn&&"y"===Kt._id.charAt(0)&&(ln.dy-=ln.fontSize/6))}else{if("D"!==wn)throw"unrecognized dtick "+String(Nn);ln.text=String(Math.round(Math.pow(10,M.mod(tr,1)))),ln.fontSize*=.75}if("D1"===Kt.dtick){var Fn=String(ln.text).charAt(0);"0"!==Fn&&"1"!==Fn||("y"===Kt._id.charAt(0)?ln.dx-=ln.fontSize/4:(ln.dy+=ln.fontSize/2,ln.dx+=(Kt.range[1]>Kt.range[0]?1:-1)*ln.fontSize*(tr<0?.5:.25)))}}(Le,Lt,0,Nt,Qt):"category"===Tt?(ln=Lt,void 0===(Tn=Le._categories[Math.round(ln.x)])&&(Tn=""),ln.text=String(Tn)):"multicategory"===Tt?function(Kt,ln,Tn){var An=Math.round(ln.x),pn=Kt._categories[An]||[],Nn=void 0===pn[1]?"":String(pn[1]),tr=void 0===pn[0]?"":String(pn[0]);Tn?ln.text=tr+" - "+Nn:(ln.text=Nn,ln.text2=tr)}(Le,Lt,st):et(Le)?function(Kt,ln,Tn,An,pn){if("radians"!==Kt.thetaunit||Tn)ln.text=Ke(ln.x,Kt,pn,An);else{var Nn=ln.x/180;if(0===Nn)ln.text="0";else{var tr=function(wn){function Cn(jn,er){return Math.abs(jn-er)<=1e-6}var mn=function(jn){for(var er=1;!Cn(Math.round(jn*er)/er,jn);)er*=10;return er}(wn),En=wn*mn,Fn=Math.abs(function jn(er,Zn){return Cn(Zn,0)?er:jn(Zn,er%Zn)}(En,mn));return[Math.round(En/Fn),Math.round(mn/Fn)]}(Nn);if(tr[1]>=100)ln.text=Ke(M.deg2rad(ln.x),Kt,pn,An);else{var On=ln.x<0;ln.text=1===tr[1]?1===tr[0]?"\u03c0":tr[0]+"\u03c0":["<sup>",tr[0],"</sup>","\u2044","<sub>",tr[1],"</sub>","\u03c0"].join(""),On&&(ln.text=L+ln.text)}}}}(Le,Lt,st,Nt,Qt):function(Kt,ln,Tn,An,pn){"never"===pn?pn="":"all"===Kt.showexponent&&Math.abs(ln.x/Kt.dtick)<1e-6&&(pn="hide"),ln.text=Ke(ln.x,Kt,pn,An)}(Le,Lt,0,Nt,Qt),vt||(Le.tickprefix&&!qt(Le.showtickprefix)&&(Lt.text=Le.tickprefix+Lt.text),Le.ticksuffix&&!qt(Le.showticksuffix)&&(Lt.text+=Le.ticksuffix)),"boundaries"===Le.tickson||Le.showdividers){var Jt=function(Kt){var ln=Le.l2p(Kt);return ln>=0&&ln<=Le._length?Kt:null};Lt.xbnd=[Jt(Lt.x-.5),Jt(Lt.x+Le.dtick-.5)]}return Lt},Q.hoverLabelText=function(Le,Ge,st){st&&(Le=M.extendFlat({},Le,{hoverformat:st}));var vt=Array.isArray(Ge)?Ge[0]:Ge,bt=Array.isArray(Ge)?Ge[1]:void 0;if(void 0!==bt&&bt!==vt)return Q.hoverLabelText(Le,vt,st)+" - "+Q.hoverLabelText(Le,bt,st);var Lt="log"===Le.type&&vt<=0,jt=Q.tickText(Le,Le.c2l(Lt?-vt:vt),"hover").text;return Lt?0===vt?"0":L+jt:jt};var Te=["f","p","n","\u03bc","m","","k","M","G","T"];function Ce(Le){return"SI"===Le||"B"===Le}function We(Le){return Le>14||Le<-15}function Ke(Le,Ge,st,vt){var bt=Le<0,Lt=Ge._tickround,jt=st||Ge.exponentformat||"B",Nt=Ge._tickexponent,Tt=Q.getTickFormat(Ge),Mt=Ge.separatethousands;if(vt){var kt={exponentformat:jt,minexponent:Ge.minexponent,dtick:"none"===Ge.showexponent?Ge.dtick:E(Le)&&Math.abs(Le)||1,range:"none"===Ge.showexponent?Ge.range.map(Ge.r2d):[0,Le||1]};Ve(kt),Lt=(Number(kt._tickround)||0)+4,Nt=kt._tickexponent,Ge.hoverformat&&(Tt=Ge.hoverformat)}if(Tt)return Ge._numFormat(Tt)(Le).replace(/-/g,L);var Ht,qt=Math.pow(10,-Lt)/2;if("none"===jt&&(Nt=0),(Le=Math.abs(Le))<qt)Le="0",bt=!1;else{if(Le+=qt,Nt&&(Le*=Math.pow(10,-Nt),Lt+=Nt),0===Lt)Le=String(Math.floor(Le));else if(Lt<0){Le=(Le=String(Math.round(Le))).substr(0,Le.length+Lt);for(var Qt=Lt;Qt<0;Qt++)Le+="0"}else{var Jt=(Le=String(Le)).indexOf(".")+1;Jt&&(Le=Le.substr(0,Jt+Lt).replace(/\.?0+$/,""))}Le=M.numSeparate(Le,Ge._separators,Mt)}return Nt&&"hide"!==jt&&(Ce(jt)&&We(Nt)&&(jt="power"),Ht=Nt<0?L+-Nt:"power"!==jt?"+"+Nt:String(Nt),"e"===jt||"E"===jt?Le+=jt+Ht:"power"===jt?Le+="\xd710<sup>"+Ht+"</sup>":"B"===jt&&9===Nt?Le+="B":Ce(jt)&&(Le+=Te[Nt/3+5])),bt?L+Le:Le}function Je(Le,Ge){if(Le){var st=Object.keys(q).reduce(function(vt,bt){return-1!==Ge.indexOf(bt)&&q[bt].forEach(function(Lt){vt[Lt]=1}),vt},{});Object.keys(Le).forEach(function(vt){st[vt]||(1===vt.length?Le[vt]=0:delete Le[vt])})}}function ht(Le,Ge){for(var st=[],vt={},bt=0;bt<Ge.length;bt++){var Lt=Ge[bt];vt[Lt.text2]?vt[Lt.text2].push(Lt.x):vt[Lt.text2]=[Lt.x]}for(var jt in vt)st.push(ve(Le,M.interp(vt[jt],.5),jt));return st}function ft(Le){return void 0!==Le.periodX?Le.periodX:Le.x}function mt(Le){return[Le.text,Le.x,Le.axInfo,Le.font,Le.fontSize,Le.fontColor].join("_")}function At(Le){var Ge=Le.title.font.size,st=(Le.title.text.match(c.BR_TAG_ALL)||[]).length;return Le.title.hasOwnProperty("standoff")?st?Ge*(ne+st*X):Ge*ne:st?Ge*(st+1)*X:Ge}function Rt(Le,Ge){var st=Le.l2p(Ge);return st>1&&st<Le._length-1}function It(Le){var Ge=C.select(Le),st=Ge.select(".text-math-group");return st.empty()?Ge.select("text"):st}function Pt(Le){return Le._id+".automargin"}function Bt(Le){return Pt(Le)+".mirror"}function Ut(Le){return Le._id+".rangeslider"}function Vt(Le,Ge){for(var st=0;st<Ge.length;st++)-1===Le.indexOf(Ge[st])&&Le.push(Ge[st])}function tn(Le,Ge,st){var vt,bt,Lt=[],jt=[],Nt=Le.layout;for(vt=0;vt<Ge.length;vt++)Lt.push(Q.getFromId(Le,Ge[vt]));for(vt=0;vt<st.length;vt++)jt.push(Q.getFromId(Le,st[vt]));var Tt=Object.keys(o),Mt=["anchor","domain","overlaying","position","side","tickangle","editType"],kt=["linear","log"];for(vt=0;vt<Tt.length;vt++){var Ht=Tt[vt],qt=Lt[0][Ht],Qt=jt[0][Ht],Jt=!0,Kt=!1,ln=!1;if("_"!==Ht.charAt(0)&&"function"!=typeof qt&&-1===Mt.indexOf(Ht)){for(bt=1;bt<Lt.length&&Jt;bt++){var Tn=Lt[bt][Ht];"type"===Ht&&-1!==kt.indexOf(qt)&&-1!==kt.indexOf(Tn)&&qt!==Tn?Kt=!0:Tn!==qt&&(Jt=!1)}for(bt=1;bt<jt.length&&Jt;bt++){var An=jt[bt][Ht];"type"===Ht&&-1!==kt.indexOf(Qt)&&-1!==kt.indexOf(An)&&Qt!==An?ln=!0:jt[bt][Ht]!==Qt&&(Jt=!1)}Jt&&(Kt&&(Nt[Lt[0]._name].type="linear"),ln&&(Nt[jt[0]._name].type="linear"),Gt(Nt,Ht,Lt,jt,Le._fullLayout._dfltTitle))}}for(vt=0;vt<Le._fullLayout.annotations.length;vt++){var pn=Le._fullLayout.annotations[vt];-1!==Ge.indexOf(pn.xref)&&-1!==st.indexOf(pn.yref)&&M.swapAttrs(Nt.annotations[vt],["?"])}}function Gt(Le,Ge,st,vt,bt){var Lt,jt=M.nestedProperty,Nt=jt(Le[st[0]._name],Ge).get(),Tt=jt(Le[vt[0]._name],Ge).get();for("title"===Ge&&(Nt&&Nt.text===bt.x&&(Nt.text=bt.y),Tt&&Tt.text===bt.y&&(Tt.text=bt.x)),Lt=0;Lt<st.length;Lt++)jt(Le,st[Lt]._name+"."+Ge).set(Tt);for(Lt=0;Lt<vt.length;Lt++)jt(Le,vt[Lt]._name+"."+Ge).set(Nt)}function et(Le){return"angularaxis"===Le._id}function nt(Le,Ge){for(var st=Ge._rangebreaks.length,vt=0;vt<st;vt++){var bt=Ge._rangebreaks[vt];if(Le>=bt.min&&Le<bt.max)return bt.max}return Le}function $e(Le){return-1!==(Le.ticklabelposition||"").indexOf("inside")}function ot(Le,Ge){$e(Le._anchorAxis||{})&&Le._hideCounterAxisInsideTickLabels&&Le._hideCounterAxisInsideTickLabels(Ge)}function dt(Le,Ge,st,vt){var bt,Lt="free"===Le.anchor||void 0!==Le.overlaying&&!1!==Le.overlaying?Le.overlaying:Le._id;bt=vt?"right"===Le.side?Ge:-Ge:Ge,Lt in st||(st[Lt]={}),Le.side in st[Lt]||(st[Lt][Le.side]=0),st[Lt][Le.side]+=bt}Q.getTickFormat=function(Le){var Ge,st,vt,bt,Lt,jt,Nt,Tt,qt,Qt,Jt,Kt,ln,Tn;function Mt(qt){return"string"!=typeof qt?qt:Number(qt.replace("M",""))*m}function kt(qt,Qt){var Jt=["L","D"];if(typeof qt==typeof Qt){if("number"==typeof qt)return qt-Qt;var Kt=Jt.indexOf(qt.charAt(0)),ln=Jt.indexOf(Qt.charAt(0));return Kt===ln?Number(qt.replace(/(L|D)/g,""))-Number(Qt.replace(/(L|D)/g,"")):Kt-ln}return"number"==typeof qt?1:-1}if(Le.tickformatstops&&Le.tickformatstops.length>0)switch(Le.type){case"date":case"linear":for(Ge=0;Ge<Le.tickformatstops.length;Ge++)if((vt=Le.tickformatstops[Ge]).enabled&&(bt=Le.dtick,jt=void 0,void 0,void 0,jt=Mt||function(qt){return qt},Tt=(Lt=vt.dtickrange)[1],(!(Nt=Lt[0])&&"number"!=typeof Nt||jt(Nt)<=jt(bt))&&(!Tt&&"number"!=typeof Tt||jt(Tt)>=jt(bt)))){st=vt;break}break;case"log":for(Ge=0;Ge<Le.tickformatstops.length;Ge++)if((vt=Le.tickformatstops[Ge]).enabled&&(Jt=void 0,Kt=void 0,ln=void 0,Tn=void 0,Jt=null===(Qt=vt.dtickrange)[0],Kt=null===Qt[1],ln=kt(qt=Le.dtick,Qt[0])>=0,Tn=kt(qt,Qt[1])<=0,(Jt||ln)&&(Kt||Tn))){st=vt;break}}return st?st.value:Le.tickformat},Q.getSubplots=function(Le,Ge){var st=Le._fullLayout._subplots,vt=st.cartesian.concat(st.gl2d||[]),bt=Ge?Q.findSubplotsWithAxis(vt,Ge):vt;return bt.sort(function(Lt,jt){var Nt=Lt.substr(1).split("y"),Tt=jt.substr(1).split("y");return Nt[0]===Tt[0]?+Nt[1]-+Tt[1]:+Nt[0]-+Tt[0]}),bt},Q.findSubplotsWithAxis=function(Le,Ge){for(var st=new RegExp("x"===Ge._id.charAt(0)?"^"+Ge._id+"y":Ge._id+"$"),vt=[],bt=0;bt<Le.length;bt++){var Lt=Le[bt];st.test(Lt)&&vt.push(Lt)}return vt},Q.makeClipPaths=function(Le){var Ge=Le._fullLayout;if(!Ge._hasOnlyLargeSploms){var st,vt,bt={_offset:0,_length:Ge.width,_id:""},Lt={_offset:0,_length:Ge.height,_id:""},jt=Q.list(Le,"x",!0),Nt=Q.list(Le,"y",!0),Tt=[];for(st=0;st<jt.length;st++)for(Tt.push({x:jt[st],y:Lt}),vt=0;vt<Nt.length;vt++)0===st&&Tt.push({x:bt,y:Nt[vt]}),Tt.push({x:jt[st],y:Nt[vt]});var Mt=Ge._clips.selectAll(".axesclip").data(Tt,function(kt){return kt.x._id+kt.y._id});Mt.enter().append("clipPath").classed("axesclip",!0).attr("id",function(kt){return"clip"+Ge._uid+kt.x._id+kt.y._id}).append("rect"),Mt.exit().remove(),Mt.each(function(kt){C.select(this).select("rect").attr({x:kt.x._offset||0,y:kt.y._offset||0,width:kt.x._length||1,height:kt.y._length||1})})}},Q.draw=function(Le,Ge,st){var vt=Le._fullLayout;"redraw"===Ge&&vt._paper.selectAll("g.subplot").each(function(Nt){var Mt=vt._plots[Nt[0]];if(Mt){var kt=Mt.xaxis,Ht=Mt.yaxis;Mt.xaxislayer.selectAll("."+kt._id+"tick").remove(),Mt.yaxislayer.selectAll("."+Ht._id+"tick").remove(),Mt.xaxislayer.selectAll("."+kt._id+"tick2").remove(),Mt.yaxislayer.selectAll("."+Ht._id+"tick2").remove(),Mt.xaxislayer.selectAll("."+kt._id+"divider").remove(),Mt.yaxislayer.selectAll("."+Ht._id+"divider").remove(),Mt.minorGridlayer&&Mt.minorGridlayer.selectAll("path").remove(),Mt.gridlayer&&Mt.gridlayer.selectAll("path").remove(),Mt.zerolinelayer&&Mt.zerolinelayer.selectAll("path").remove(),vt._infolayer.select(".g-"+kt._id+"title").remove(),vt._infolayer.select(".g-"+Ht._id+"title").remove()}});var bt=Ge&&"redraw"!==Ge?Ge:Q.listIds(Le),Lt=Q.list(Le).filter(function(Nt){return Nt.autoshift}).map(function(Nt){return Nt.overlaying});bt.map(function(Nt){var Tt=Q.getFromId(Le,Nt);if("sync"===Tt.tickmode&&Tt.overlaying){var Mt=bt.findIndex(function(kt){return kt===Tt.overlaying});Mt>=0&&bt.unshift(bt.splice(Mt,1).shift())}});var jt={false:{left:0,right:0}};return M.syncOrAsync(bt.map(function(Nt){return function(){if(Nt){var Tt=Q.getFromId(Le,Nt);st||(st={}),st.axShifts=jt,st.overlayingShiftedAx=Lt;var Mt=Q.drawOne(Le,Tt,st);return Tt._shiftPusher&&dt(Tt,Tt._fullDepth||0,jt,!0),Tt._r=Tt.range.slice(),Tt._rl=M.simpleMap(Tt._r,Tt.r2l),Mt}}}))},Q.drawOne=function(Le,Ge,st){var vt,bt,Lt,jt=(st=st||{}).axShifts||{},Nt=st.overlayingShiftedAx||[];Ge.setScale();var zn,Tt=Le._fullLayout,Mt=Ge._id,kt=Mt.charAt(0),Ht=Q.counterLetter(Mt),qt=Tt._plots[Ge._mainSubplot];if(qt){if(Ge._shiftPusher=Ge.autoshift||-1!==Nt.indexOf(Ge._id)||-1!==Nt.indexOf(Ge.overlaying),Ge._shiftPusher&"free"===Ge.anchor){var Qt=Ge.linewidth/2||0;"inside"===Ge.ticks&&(Qt+=Ge.ticklen),dt(Ge,Qt,jt,!0),dt(Ge,Ge.shift||0,jt,!1)}!0===st.skipTitle&&void 0!==Ge._shift||(Ge._shift=(zn=Ge).autoshift?jt[zn.overlaying][zn.side]:zn.shift||0);var Jt=qt[kt+"axislayer"],Kt=Ge._mainLinePosition,ln=Kt+=Ge._shift,Tn=Ge._mainMirrorPosition,An=Ge._vals=Q.calcTicks(Ge),pn=[Ge.mirror,ln,Tn].join("_");for(vt=0;vt<An.length;vt++)An[vt].axInfo=pn;Ge._selections={},Ge._tickAngles&&(Ge._prevTickAngles=Ge._tickAngles),Ge._tickAngles={},Ge._depth=null;var Nn={};if(Ge.visible){var tr,On,wn=Q.makeTransTickFn(Ge),Cn=Q.makeTransTickLabelFn(Ge),mn="inside"===Ge.ticks,En="outside"===Ge.ticks;if("boundaries"===Ge.tickson){var Fn=function(zn,bn){var Sn,gn=[],kn=function(In,Yn){var Rn=In.xbnd[Yn];null!==Rn&&gn.push(M.extendFlat({},In,{x:Rn}))};if(bn.length){for(Sn=0;Sn<bn.length;Sn++)kn(bn[Sn],0);kn(bn[Sn-1],1)}return gn}(0,An);On=Q.clipEnds(Ge,Fn),tr=mn?On:Fn}else On=Q.clipEnds(Ge,An),tr=mn&&"period"!==Ge.ticklabelmode?On:An;var jn,er=Ge._gridVals=On,Zn=function(zn,bn){var Sn,gn,kn=[],In=bn.length&&bn[bn.length-1].x<bn[0].x,Yn=function(hr,sr){var wr=hr.xbnd[sr];null!==wr&&kn.push(M.extendFlat({},hr,{x:wr}))};if(zn.showdividers&&bn.length){for(Sn=0;Sn<bn.length;Sn++){var Rn=bn[Sn];Rn.text2!==gn&&Yn(Rn,In?1:0),gn=Rn.text2}Yn(bn[Sn-1],In?0:1)}return kn}(Ge,An);if(!Tt._hasOnlyLargeSploms){var Gn=Ge._subplotsWith,_r={};for(vt=0;vt<Gn.length;vt++){var mr=(Lt=Tt._plots[bt=Gn[vt]])[Ht+"axis"],Vr=mr._mainAxis._id;if(!_r[Vr]){_r[Vr]=1;var Dr="x"===kt?"M0,"+mr._offset+"v"+mr._length:"M"+mr._offset+",0h"+mr._length;Q.drawGrid(Le,Ge,{vals:er,counterAxis:mr,layer:Lt.gridlayer.select("."+Mt),minorLayer:Lt.minorGridlayer.select("."+Mt),path:Dr,transFn:wn}),Q.drawZeroLine(Le,Ge,{counterAxis:mr,layer:Lt.zerolinelayer,path:Dr,transFn:wn})}}}var Un=Q.getTickSigns(Ge),ur=Q.getTickSigns(Ge,"minor");if(Ge.ticks||Ge.minor&&Ge.minor.ticks){var cr,on,xn,Wn,Bn=Q.makeTickPath(Ge,ln,Un[2]),qn=Q.makeTickPath(Ge,ln,ur[2],{minor:!0});if(Ge._anchorAxis&&Ge.mirror&&!0!==Ge.mirror?(cr=Q.makeTickPath(Ge,Tn,Un[3]),on=Q.makeTickPath(Ge,Tn,ur[3],{minor:!0}),xn=Bn+cr,Wn=qn+on):(cr="",on="",xn=Bn,Wn=qn),Ge.showdividers&&En&&"boundaries"===Ge.tickson){var nr={};for(vt=0;vt<Zn.length;vt++)nr[Zn[vt].x]=1;jn=function(zn){return nr[zn.x]?cr:xn}}else jn=function(zn){return zn.minor?Wn:xn}}if(Q.drawTicks(Le,Ge,{vals:tr,layer:Jt,path:jn,transFn:wn}),"allticks"===Ge.mirror){var fr=Object.keys(Ge._linepositions||{});for(vt=0;vt<fr.length;vt++){Lt=Tt._plots[bt=fr[vt]];var Sr=Ge._linepositions[bt]||[],fn=Sr[1],Vn=Sr[2],Wt=Q.makeTickPath(Ge,Sr[0],Vn?Un[0]:ur[0],{minor:Vn})+Q.makeTickPath(Ge,fn,Vn?Un[1]:ur[1],{minor:Vn});Q.drawTicks(Le,Ge,{vals:tr,layer:Lt[kt+"axislayer"],path:Wt,transFn:wn})}}var un=[];if(un.push(function(){return Q.drawLabels(Le,Ge,{vals:An,layer:Jt,plotinfo:Lt,transFn:Cn,labelFns:Q.makeLabelFns(Ge,ln)})}),"multicategory"===Ge.type){var vn={x:2,y:10}[kt];un.push(function(){var zn={x:"height",y:"width"}[kt],bn=Hn()[zn]+vn+(Ge._tickAngles[Mt+"tick"]?Ge.tickfont.size*X:0);return Q.drawLabels(Le,Ge,{vals:ht(Ge,An),layer:Jt,cls:Mt+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:wn,labelFns:Q.makeLabelFns(Ge,ln+bn*Un[4])})}),un.push(function(){return Ge._depth=Un[4]*(Hn("tick2")[Ge.side]-ln),function(zn,bn,Sn){var gn=bn._id+"divider",kn=Sn.vals,In=Sn.layer.selectAll("path."+gn).data(kn,mt);In.exit().remove(),In.enter().insert("path",":first-child").classed(gn,1).classed("crisp",1).call(u.stroke,bn.dividercolor).style("stroke-width",a.crispRound(zn,bn.dividerwidth,1)+"px"),In.attr("transform",Sn.transFn).attr("d",Sn.path)}(Le,Ge,{vals:Zn,layer:Jt,path:Q.makeTickPath(Ge,ln,Un[4],{len:Ge._depth}),transFn:wn})})}else Ge.title.hasOwnProperty("standoff")&&un.push(function(){Ge._depth=Un[4]*(Hn()[Ge.side]-ln)});var $n=S.getComponentMethod("rangeslider","isVisible")(Ge);return st.skipTitle||$n&&"bottom"===Ge.side||un.push(function(){return function(zn,bn){var Sn,gn=zn._fullLayout,kn=bn._id,In=kn.charAt(0),Yn=bn.title.font.size;if(bn.title.hasOwnProperty("standoff"))Sn=bn._depth+bn.title.standoff+At(bn);else{var Rn=$e(bn);if("multicategory"===bn.type)Sn=bn._depth;else{var hr=1.5*Yn;Rn&&(hr=.5*Yn,"outside"===bn.ticks&&(hr+=bn.ticklen)),Sn=10+hr+(bn.linewidth?bn.linewidth-1:0)}Rn||(Sn+="x"===In?"top"===bn.side?Yn*(bn.showticklabels?1:0):Yn*(bn.showticklabels?1.5:.5):"right"===bn.side?Yn*(bn.showticklabels?1:.5):Yn*(bn.showticklabels?.5:0))}var sr,wr,Tr,Cr,Ar=Q.getPxPosition(zn,bn);if("x"===In?(wr=bn._offset+bn._length/2,Tr="top"===bn.side?Ar-Sn:Ar+Sn):(Tr=bn._offset+bn._length/2,wr="right"===bn.side?Ar+Sn:Ar-Sn,sr={rotate:"-90",offset:0}),"multicategory"!==bn.type){var Ir=bn._selections[bn._id+"tick"];if(Cr={selection:Ir,side:bn.side},Ir&&Ir.node()&&Ir.node().parentNode){var Wr=a.getTranslate(Ir.node().parentNode);Cr.offsetLeft=Wr.x,Cr.offsetTop=Wr.y}bn.title.hasOwnProperty("standoff")&&(Cr.pad=0)}return bn._titleStandoff=Sn,i.draw(zn,kn+"title",{propContainer:bn,propName:bn._name+".title.text",placeholder:gn._dfltTitle[In],avoid:Cr,transform:sr,attributes:{x:wr,y:Tr,"text-anchor":"middle"}})}(Le,Ge)}),un.push(function(){var zn,bn,Sn,gn,kn=Ge.side.charAt(0),In=$[Ge.side].charAt(0),Yn=Q.getPxPosition(Le,Ge),Rn=En?Ge.ticklen:0;(Ge.automargin||$n||Ge._shiftPusher)&&("multicategory"===Ge.type?zn=Hn("tick2"):(zn=Hn(),"x"===kt&&"b"===kn&&(Ge._depth=Math.max(zn.width>0?zn.bottom-Yn:0,Rn))));var hr=0,sr=0;if(Ge._shiftPusher&&(hr=Math.max(Rn,zn.height>0?"l"===kn?Yn-zn.left:zn.right-Yn:0),Ge.title.text!==Tt._dfltTitle[kt]&&(sr=(Ge._titleStandoff||0)+(Ge._titleScoot||0),"l"===kn&&(sr+=At(Ge))),Ge._fullDepth=Math.max(hr,sr)),Ge.automargin){bn={x:0,y:0,r:0,l:0,t:0,b:0};var wr=[0,1],Tr="number"==typeof Ge._shift?Ge._shift:0;if("x"===kt){if("b"===kn?bn[kn]=Ge._depth:(bn[kn]=Ge._depth=Math.max(zn.width>0?Yn-zn.top:0,Rn),wr.reverse()),zn.width>0){var Cr=zn.right-(Ge._offset+Ge._length);Cr>0&&(bn.xr=1,bn.r=Cr);var Ar=Ge._offset-zn.left;Ar>0&&(bn.xl=0,bn.l=Ar)}}else if("l"===kn?(Ge._depth=Math.max(zn.height>0?Yn-zn.left:0,Rn),bn[kn]=Ge._depth-Tr):(Ge._depth=Math.max(zn.height>0?zn.right-Yn:0,Rn),bn[kn]=Ge._depth+Tr,wr.reverse()),zn.height>0){var Ir=zn.bottom-(Ge._offset+Ge._length);Ir>0&&(bn.yb=0,bn.b=Ir);var Wr=Ge._offset-zn.top;Wr>0&&(bn.yt=1,bn.t=Wr)}bn[Ht]="free"===Ge.anchor?Ge.position:Ge._anchorAxis.domain[wr[0]],Ge.title.text!==Tt._dfltTitle[kt]&&(bn[kn]+=At(Ge)+(Ge.title.standoff||0)),Ge.mirror&&"free"!==Ge.anchor&&((Sn={x:0,y:0,r:0,l:0,t:0,b:0})[In]=Ge.linewidth,Ge.mirror&&!0!==Ge.mirror&&(Sn[In]+=Rn),!0===Ge.mirror||"ticks"===Ge.mirror?Sn[Ht]=Ge._anchorAxis.domain[wr[1]]:"all"!==Ge.mirror&&"allticks"!==Ge.mirror||(Sn[Ht]=[Ge._counterDomainMin,Ge._counterDomainMax][wr[1]]))}$n&&(gn=S.getComponentMethod("rangeslider","autoMarginOpts")(Le,Ge)),"string"==typeof Ge.automargin&&(Je(bn,Ge.automargin),Je(Sn,Ge.automargin)),f.autoMargin(Le,Pt(Ge),bn),f.autoMargin(Le,Bt(Ge),Sn),f.autoMargin(Le,Ut(Ge),gn)}),M.syncOrAsync(un)}}function Hn(zn){var Sn,gn,kn,In,Yn,Rn,bn=Mt+(zn||"tick");return Nn[bn]||(Nn[bn]=((Sn=Ge)._selections[gn=bn].size()?(kn=1/0,In=-1/0,Yn=1/0,Rn=-1/0,Sn._selections[gn].each(function(){var hr=It(this),sr=a.bBox(hr.node().parentNode);kn=Math.min(kn,sr.top),In=Math.max(In,sr.bottom),Yn=Math.min(Yn,sr.left),Rn=Math.max(Rn,sr.right)})):(kn=0,In=0,Yn=0,Rn=0),{top:kn,bottom:In,left:Yn,right:Rn,height:In-kn,width:Rn-Yn})),Nn[bn]}},Q.getTickSigns=function(Le,Ge){var st=Le._id.charAt(0),bt=Le.side==={x:"top",y:"right"}[st]?1:-1,Lt=[-1,1,bt,-bt];return"inside"!==(Ge?(Le.minor||{}).ticks:Le.ticks)==("x"===st)&&(Lt=Lt.map(function(jt){return-jt})),Le.side&&Lt.push({l:-1,t:-1,r:1,b:1}[Le.side.charAt(0)]),Lt},Q.makeTransTickFn=function(Le){return"x"===Le._id.charAt(0)?function(Ge){return v(Le._offset+Le.l2p(Ge.x),0)}:function(Ge){return v(0,Le._offset+Le.l2p(Ge.x))}},Q.makeTransTickLabelFn=function(Le){var Ge=function(bt){var Lt=bt.ticklabelposition||"",jt=function(Tn){return-1!==Lt.indexOf(Tn)},Nt=jt("top"),Tt=jt("left"),Mt=jt("right"),kt=jt("bottom"),Ht=jt("inside"),qt=kt||Tt||Nt||Mt;if(!qt&&!Ht)return[0,0];var Qt=bt.side,Jt=qt?(bt.tickwidth||0)/2:0,Kt=3,ln=bt.tickfont?bt.tickfont.size:12;return(kt||Nt)&&(Jt+=ln*ne,Kt+=(bt.linewidth||0)/2),(Tt||Mt)&&(Jt+=(bt.linewidth||0)/2,Kt+=3),Ht&&"top"===Qt&&(Kt-=ln*(1-ne)),(Tt||Nt)&&(Jt=-Jt),"bottom"!==Qt&&"right"!==Qt||(Kt=-Kt),[qt?Jt:0,Ht?Kt:0]}(Le),st=Ge[0],vt=Ge[1];return"x"===Le._id.charAt(0)?function(bt){return v(st+Le._offset+Le.l2p(ft(bt)),vt)}:function(bt){return v(vt,st+Le._offset+Le.l2p(ft(bt)))}},Q.makeTickPath=function(Le,Ge,st,vt){vt||(vt={});var bt=vt.minor;if(bt&&!Le.minor)return"";var Lt=void 0!==vt.len?vt.len:bt?Le.minor.ticklen:Le.ticklen,jt=Le._id.charAt(0),Nt=(Le.linewidth||1)/2;return"x"===jt?"M0,"+(Ge+Nt*st)+"v"+Lt*st:"M"+(Ge+Nt*st)+",0h"+Lt*st},Q.makeLabelFns=function(Le,Ge,st){var vt=Le.ticklabelposition||"",bt=function(Fn){return-1!==vt.indexOf(Fn)},Lt=bt("top"),jt=bt("left"),Nt=bt("right"),Tt=bt("bottom")||jt||Lt||Nt,Mt=bt("inside"),kt="inside"===vt&&"inside"===Le.ticks||!Mt&&"outside"===Le.ticks&&"boundaries"!==Le.tickson,Ht=0,qt=0,Qt=kt?Le.ticklen:0;if(Mt?Qt*=-1:Tt&&(Qt=0),kt&&(Ht+=Qt,st)){var Jt=M.deg2rad(st);Ht=Qt*Math.cos(Jt)+1,qt=Qt*Math.sin(Jt)}Le.showticklabels&&(kt||Le.showline)&&(Ht+=.2*Le.tickfont.size);var Kt,ln,Tn,An,pn,Nn={labelStandoff:Ht+=(Le.linewidth||1)/2*(Mt?-1:1),labelShift:qt},tr=0,On=Le.side,wn=Le._id.charAt(0),Cn=Le.tickangle;if("x"===wn)An=(pn=!Mt&&"bottom"===On||Mt&&"top"===On)?1:-1,Mt&&(An*=-1),Kt=qt*An,ln=Ge+Ht*An,Tn=pn?1:-.2,90===Math.abs(Cn)&&(Mt?Tn+=H:Tn=-90===Cn&&"bottom"===On?ne:90===Cn&&"top"===On?H:.5,tr=H/2*(Cn/90)),Nn.xFn=function(Fn){return Fn.dx+Kt+tr*Fn.fontSize},Nn.yFn=function(Fn){return Fn.dy+ln+Fn.fontSize*Tn},Nn.anchorFn=function(Fn,jn){if(Tt){if(jt)return"end";if(Nt)return"start"}return E(jn)&&0!==jn&&180!==jn?jn*An<0!==Mt?"end":"start":"middle"},Nn.heightFn=function(Fn,jn,er){return jn<-60||jn>60?-.5*er:"top"===Le.side!==Mt?-er:0};else if("y"===wn){if(An=(pn=!Mt&&"left"===On||Mt&&"right"===On)?1:-1,Mt&&(An*=-1),Kt=Ht,ln=qt*An,Tn=0,Mt||90!==Math.abs(Cn)||(Tn=-90===Cn&&"left"===On||90===Cn&&"right"===On?ne:.5),Mt){var mn=E(Cn)?+Cn:0;if(0!==mn){var En=M.deg2rad(mn);tr=Math.abs(Math.sin(En))*ne*An,Tn=0}}Nn.xFn=function(Fn){return Fn.dx+Ge-(Kt+Fn.fontSize*Tn)*An+tr*Fn.fontSize},Nn.yFn=function(Fn){return Fn.dy+ln+Fn.fontSize*H},Nn.anchorFn=function(Fn,jn){return E(jn)&&90===Math.abs(jn)?"middle":pn?"end":"start"},Nn.heightFn=function(Fn,jn,er){return"right"===Le.side&&(jn*=-1),jn<-30?-er:jn<30?-.5*er:0}}return Nn},Q.drawTicks=function(Le,Ge,st){st=st||{};var vt=Ge._id+"tick",bt=[].concat(Ge.minor&&Ge.minor.ticks?st.vals.filter(function(jt){return jt.minor&&!jt.noTick}):[]).concat(Ge.ticks?st.vals.filter(function(jt){return!jt.minor&&!jt.noTick}):[]),Lt=st.layer.selectAll("path."+vt).data(bt,mt);Lt.exit().remove(),Lt.enter().append("path").classed(vt,1).classed("ticks",1).classed("crisp",!1!==st.crisp).each(function(jt){return u.stroke(C.select(this),jt.minor?Ge.minor.tickcolor:Ge.tickcolor)}).style("stroke-width",function(jt){return a.crispRound(Le,jt.minor?Ge.minor.tickwidth:Ge.tickwidth,1)+"px"}).attr("d",st.path).style("display",null),ot(Ge,[Z]),Lt.attr("transform",st.transFn)},Q.drawGrid=function(Le,Ge,st){if(st=st||{},"sync"!==Ge.tickmode){var vt=Ge._id+"grid",bt=Ge.minor&&Ge.minor.showgrid,Lt=bt?st.vals.filter(function(Tn){return Tn.minor}):[],jt=Ge.showgrid?st.vals.filter(function(Tn){return!Tn.minor}):[],Nt=st.counterAxis;if(Nt&&Q.shouldShowZeroLine(Le,Ge,Nt))for(var Tt="array"===Ge.tickmode,Mt=0;Mt<jt.length;Mt++){var kt=jt[Mt].x;if(Tt?!kt:Math.abs(kt)<Ge.dtick/100){if(jt=jt.slice(0,Mt).concat(jt.slice(Mt+1)),!Tt)break;Mt--}}Ge._gw=a.crispRound(Le,Ge.gridwidth,1);for(var Ht=bt?a.crispRound(Le,Ge.minor.gridwidth,1):0,qt=st.layer,Qt=st.minorLayer,Jt=1;Jt>=0;Jt--){var Kt=Jt?qt:Qt;if(Kt){var ln=Kt.selectAll("path."+vt).data(Jt?jt:Lt,mt);ln.exit().remove(),ln.enter().append("path").classed(vt,1).classed("crisp",!1!==st.crisp),ln.attr("transform",st.transFn).attr("d",st.path).each(function(Tn){return u.stroke(C.select(this),Tn.minor?Ge.minor.gridcolor:Ge.gridcolor||"#ddd")}).style("stroke-dasharray",function(Tn){return a.dashStyle(Tn.minor?Ge.minor.griddash:Ge.griddash,Tn.minor?Ge.minor.gridwidth:Ge.gridwidth)}).style("stroke-width",function(Tn){return(Tn.minor?Ht:Ge._gw)+"px"}).style("display",null),"function"==typeof st.path&&ln.attr("d",st.path)}}ot(Ge,[W,j])}},Q.drawZeroLine=function(Le,Ge,st){var vt=Ge._id+"zl",bt=Q.shouldShowZeroLine(Le,Ge,(st=st||st).counterAxis),Lt=st.layer.selectAll("path."+vt).data(bt?[{x:0,id:Ge._id}]:[]);Lt.exit().remove(),Lt.enter().append("path").classed(vt,1).classed("zl",1).classed("crisp",!1!==st.crisp).each(function(){st.layer.selectAll("path").sort(function(jt,Nt){return le(jt.id,Nt.id)})}),Lt.attr("transform",st.transFn).attr("d",st.path).call(u.stroke,Ge.zerolinecolor||u.defaultLine).style("stroke-width",a.crispRound(Le,Ge.zerolinewidth,Ge._gw||1)+"px").style("display",null),ot(Ge,[B])},Q.drawLabels=function(Le,Ge,st){st=st||{};var vt=Le._fullLayout,bt=Ge._id,Lt=bt.charAt(0),jt=st.cls||bt+"tick",Nt=st.vals.filter(function(An){return An.text}),Tt=st.labelFns,Mt=st.secondary?0:Ge.tickangle,kt=(Ge._prevTickAngles||{})[jt],Ht=st.layer.selectAll("g."+jt).data(Ge.showticklabels?Nt:[],mt),qt=[];function Qt(An,pn){An.each(function(Nn){var tr=C.select(this),On=tr.select(".text-math-group"),wn=Tt.anchorFn(Nn,pn),Cn=st.transFn.call(tr.node(),Nn)+(E(pn)&&0!=+pn?" rotate("+pn+","+Tt.xFn(Nn)+","+(Tt.yFn(Nn)-Nn.fontSize/2)+")":""),mn=c.lineCount(tr),En=X*Nn.fontSize,Fn=Tt.heightFn(Nn,E(pn)?+pn:0,(mn-1)*En);if(Fn&&(Cn+=v(0,Fn)),On.empty()){var jn=tr.select("text");jn.attr({transform:Cn,"text-anchor":wn}),jn.style("opacity",1),Ge._adjustTickLabelsOverflow&&Ge._adjustTickLabelsOverflow()}else{var er=a.bBox(On.node()).width*{end:-.5,start:.5}[wn];On.attr("transform",Cn+v(er,0))}})}Ht.enter().append("g").classed(jt,1).append("text").attr("text-anchor","middle").each(function(An){var pn=C.select(this),Nn=Le._promises.length;pn.call(c.positionText,Tt.xFn(An),Tt.yFn(An)).call(a.font,An.font,An.fontSize,An.fontColor).text(An.text).call(c.convertToTspans,Le),Le._promises[Nn]?qt.push(Le._promises.pop().then(function(){Qt(pn,Mt)})):Qt(pn,Mt)}),ot(Ge,[V]),Ht.exit().remove(),st.repositionOnUpdate&&Ht.each(function(An){C.select(this).select("text").call(c.positionText,Tt.xFn(An),Tt.yFn(An))}),Ge._adjustTickLabelsOverflow=function(){var An=Ge.ticklabeloverflow;if(An&&"allow"!==An){var pn=-1!==An.indexOf("hide"),Nn="x"===Ge._id.charAt(0),tr=0,On=Nn?Le._fullLayout.width:Le._fullLayout.height;if(-1!==An.indexOf("domain")){var wn=M.simpleMap(Ge.range,Ge.r2l);tr=Ge.l2p(wn[0])+Ge._offset,On=Ge.l2p(wn[1])+Ge._offset}var Cn=Math.min(tr,On),mn=Math.max(tr,On),En=Ge.side,Fn=1/0,jn=-1/0;for(var er in Ht.each(function(_r){var mr=C.select(this);if(mr.select(".text-math-group").empty()){var Vr=a.bBox(mr.node()),Dr=0;Nn?(Vr.right>mn||Vr.left<Cn)&&(Dr=1):(Vr.bottom>mn||Vr.top+(Ge.tickangle?0:_r.fontSize/4)<Cn)&&(Dr=1);var Un=mr.select("text");Dr?pn&&Un.style("opacity",0):(Un.style("opacity",1),Fn="bottom"===En||"right"===En?Math.min(Fn,Nn?Vr.top:Vr.left):-1/0,jn="top"===En||"left"===En?Math.max(jn,Nn?Vr.bottom:Vr.right):1/0)}}),vt._plots){var Zn=vt._plots[er];if(Ge._id===Zn.xaxis._id||Ge._id===Zn.yaxis._id){var Gn=Nn?Zn.yaxis:Zn.xaxis;Gn&&(Gn["_visibleLabelMin_"+Ge._id]=Fn,Gn["_visibleLabelMax_"+Ge._id]=jn)}}}},Ge._hideCounterAxisInsideTickLabels=function(An){var pn="x"===Ge._id.charAt(0),Nn=[];for(var tr in vt._plots){var On=vt._plots[tr];Ge._id!==On.xaxis._id&&Ge._id!==On.yaxis._id||Nn.push(pn?On.yaxis:On.xaxis)}Nn.forEach(function(wn,Cn){wn&&$e(wn)&&(An||[B,j,W,Z,V]).forEach(function(mn){var En="tick"===mn.K&&"text"===mn.L&&"period"===Ge.ticklabelmode,Fn=vt._plots[Ge._mainSubplot];(mn.K===B.K?Fn.zerolinelayer.selectAll("."+Ge._id+"zl"):mn.K===j.K?Fn.minorGridlayer.selectAll("."+Ge._id):mn.K===W.K?Fn.gridlayer.selectAll("."+Ge._id):Fn[Ge._id.charAt(0)+"axislayer"]).each(function(){var jn=C.select(this);mn.L&&(jn=jn.selectAll(mn.L)),jn.each(function(er){var Zn=Ge.l2p(En?ft(er):er.x)+Ge._offset,Gn=C.select(this);Zn<Ge["_visibleLabelMax_"+wn._id]&&Zn>Ge["_visibleLabelMin_"+wn._id]?Gn.style("display","none"):"tick"!==mn.K||Cn||Gn.style("display",null)})})})})},Qt(Ht,kt+1?kt:Mt);var Jt=null;Ge._selections&&(Ge._selections[jt]=Ht);var Kt=[function(){return qt.length&&Promise.all(qt)}];Ge.automargin&&vt._redrawFromAutoMarginCount&&90===kt?(Jt=90,Kt.push(function(){Qt(Ht,kt)})):Kt.push(function(){if(Qt(Ht,Mt),Nt.length&&"x"===Lt&&!E(Mt)&&("log"!==Ge.type||"D"!==String(Ge.dtick).charAt(0))){Jt=0;var An,pn=0,Nn=[];if(Ht.each(function(mr){pn=Math.max(pn,mr.fontSize);var Vr=Ge.l2p(mr.x),Dr=It(this),Un=a.bBox(Dr.node());Nn.push({top:0,bottom:10,height:10,left:Vr-Un.width/2,right:Vr+Un.width/2+2,width:Un.width+2})}),"boundaries"!==Ge.tickson&&!Ge.showdividers||st.secondary){var tr=Nt.length,On=Math.abs((Nt[tr-1].x-Nt[0].x)*Ge._m)/(tr-1),wn=Ge.ticklabelposition||"",Cn=function(mr){return-1!==wn.indexOf(mr)},mn=Cn("top"),En=Cn("left"),Fn=Cn("right"),jn=Cn("bottom")||En||mn||Fn?(Ge.tickwidth||0)+6:0,er=On<2.5*pn||"multicategory"===Ge.type||"realaxis"===Ge._name;for(An=0;An<Nn.length-1;An++)if(M.bBoxIntersect(Nn[An],Nn[An+1],jn)){Jt=er?90:30;break}}else{var Zn=2;for(Ge.ticks&&(Zn+=Ge.tickwidth/2),An=0;An<Nn.length;An++){var Gn=Nt[An].xbnd,_r=Nn[An];if(null!==Gn[0]&&_r.left-Ge.l2p(Gn[0])<Zn||null!==Gn[1]&&Ge.l2p(Gn[1])-_r.right<Zn){Jt=90;break}}}Jt&&Qt(Ht,Jt)}}),Ge._tickAngles&&Kt.push(function(){Ge._tickAngles[jt]=null===Jt?E(Mt)?Mt:0:Jt});var ln=Ge._anchorAxis;ln&&ln.autorange&&$e(Ge)&&!ue(vt,Ge._id)&&(vt._insideTickLabelsAutorange||(vt._insideTickLabelsAutorange={}),vt._insideTickLabelsAutorange[ln._name+".autorange"]=ln.autorange,Kt.push(function(){Ht.each(function(An,pn){var Nn=It(this);Nn.select(".text-math-group").empty()&&(Ge._vals[pn].bb=a.bBox(Nn.node()))})}));var Tn=M.syncOrAsync(Kt);return Tn&&Tn.then&&Le._promises.push(Tn),Tn},Q.getPxPosition=function(Le,Ge){var st,vt=Le._fullLayout._size,bt=Ge._id.charAt(0),Lt=Ge.side;return"free"!==Ge.anchor?st=Ge._anchorAxis:"x"===bt?st={_offset:vt.t+(1-(Ge.position||0))*vt.h,_length:0}:"y"===bt&&(st={_offset:vt.l+(Ge.position||0)*vt.w+Ge._shift,_length:0}),"top"===Lt||"left"===Lt?st._offset:"bottom"===Lt||"right"===Lt?st._offset+st._length:void 0},Q.shouldShowZeroLine=function(Le,Ge,st){var vt=M.simpleMap(Ge.range,Ge.r2l);return vt[0]*vt[1]<=0&&Ge.zeroline&&("linear"===Ge.type||"-"===Ge.type)&&!(Ge.rangebreaks&&Ge.maskBreaks(0)===N)&&(Rt(Ge,0)||!function(bt,Lt,jt,Nt){var Tt=jt._mainAxis;if(Tt){var Mt=bt._fullLayout,kt=Lt._id.charAt(0),Ht=Q.counterLetter(Lt._id),qt=Lt._offset+(Math.abs(Nt[0])<Math.abs(Nt[1])==("x"===kt)?0:Lt._length),Qt=Mt._plots[jt._mainSubplot];if(!(Qt.mainplotinfo||Qt).overlays.length)return Tn(jt);for(var Jt=Q.list(bt,Ht),Kt=0;Kt<Jt.length;Kt++){var ln=Jt[Kt];if(ln._mainAxis===Tt&&Tn(ln))return!0}}function Tn(An){if(!An.showline||!An.linewidth)return!1;var pn=Math.max((An.linewidth+Lt.zerolinewidth)/2,1);function Nn(wn){return"number"==typeof wn&&Math.abs(wn-qt)<pn}if(Nn(An._mainLinePosition)||Nn(An._mainMirrorPosition))return!0;var tr=An._linepositions||{};for(var On in tr)if(Nn(tr[On][0])||Nn(tr[On][1]))return!0}}(Le,Ge,st,vt)||function(bt,Lt){for(var jt=bt._fullData,Nt=Lt._mainSubplot,Tt=Lt._id.charAt(0),Mt=0;Mt<jt.length;Mt++){var kt=jt[Mt];if(!0===kt.visible&&kt.xaxis+kt.yaxis===Nt&&(S.traceIs(kt,"bar-like")&&kt.orientation==={x:"h",y:"v"}[Tt]||kt.fill&&kt.fill.charAt(kt.fill.length-1)===Tt))return!0}return!1}(Le,Ge))},Q.clipEnds=function(Le,Ge){return Ge.filter(function(st){return Rt(Le,st.x)})},Q.allowAutoMargin=function(Le){for(var Ge=Q.list(Le,"",!0),st=0;st<Ge.length;st++){var vt=Ge[st];vt.automargin&&(f.allowAutoMargin(Le,Pt(vt)),vt.mirror&&f.allowAutoMargin(Le,Bt(vt))),S.getComponentMethod("rangeslider","isVisible")(vt)&&f.allowAutoMargin(Le,Ut(vt))}},Q.swap=function(Le,Ge){for(var st=function(bt,Lt){var jt,Nt,Tt=[];for(jt=0;jt<Lt.length;jt++){var Mt=[],kt=bt._fullData[Lt[jt]].xaxis,Ht=bt._fullData[Lt[jt]].yaxis;if(kt&&Ht){for(Nt=0;Nt<Tt.length;Nt++)-1===Tt[Nt].x.indexOf(kt)&&-1===Tt[Nt].y.indexOf(Ht)||Mt.push(Nt);if(Mt.length){var qt,Qt=Tt[Mt[0]];if(Mt.length>1)for(Nt=1;Nt<Mt.length;Nt++)Vt(Qt.x,(qt=Tt[Mt[Nt]]).x),Vt(Qt.y,qt.y);Vt(Qt.x,[kt]),Vt(Qt.y,[Ht])}else Tt.push({x:[kt],y:[Ht]})}}return Tt}(Le,Ge),vt=0;vt<st.length;vt++)tn(Le,st[vt].x,st[vt].y)}},4322:function(ie,z,r){"use strict";var C=r(92770),E=r(71828),f=r(50606).BADNUM,S=E.isArrayOrTypedArray,M=E.isDateTime,v=E.cleanNumber,c=Math.round;function i(a,o){return o?C(a):"number"==typeof a}function u(a){return Math.max(1,(a-1)/1e3)}ie.exports=function(a,o,l){var y,s=a,d=l.noMultiCategory;if(S(s)&&!s.length)return"-";if(!d&&S((y=s)[0])&&S(y[1]))return"multicategory";if(d&&Array.isArray(s[0])){for(var g=[],p=0;p<s.length;p++)if(S(s[p]))for(var T=0;T<s[p].length;T++)g.push(s[p][T]);s=g}if(function(y,w){for(var m=y.length,b=u(m),k=0,h=0,O={},A=0;A<m;A+=b){var I=y[c(A)],P=String(I);O[P]||(O[P]=1,M(I,w)&&k++,C(I)&&h++)}return k>2*h}(s,o))return"date";var _="strict"!==l.autotypenumbers;return function(y,w){for(var m=y.length,b=u(m),k=0,h=0,O={},A=0;A<m;A+=b){var I=y[c(A)],P=String(I);if(!O[P]){O[P]=1;var L=typeof I;"boolean"===L?h++:(w?v(I)!==f:"number"===L)?k++:"string"===L&&h++}}return h>2*k}(s,_)?"category":function(y,w){for(var m=y.length,b=0;b<m;b++)if(i(y[b],w))return!0;return!1}(s,_)?"linear":"-"}},71453:function(ie,z,r){"use strict";var C=r(92770),E=r(73972),f=r(71828),S=r(44467),M=r(85501),v=r(13838),c=r(26218),i=r(38701),u=r(96115),a=r(89426),o=r(15258),l=r(92128),s=r(21994),d=r(85555).WEEKDAY_PATTERN,g=r(85555).HOUR_PATTERN;function p(y,w,m){function b(N,B){return f.coerce(y,w,v.rangebreaks,N,B)}if(b("enabled")){var k=b("bounds");if(k&&k.length>=2){var h,O,A="";if(2===k.length)for(h=0;h<2;h++)if(O=_(k[h])){A=d;break}var I=b("pattern",A);if(I===d)for(h=0;h<2;h++)(O=_(k[h]))&&(w.bounds[h]=k[h]=O-1);if(I)for(h=0;h<2;h++)switch(O=k[h],I){case d:if(!C(O)||(O=+O)!==Math.floor(O)||O<0||O>=7)return void(w.enabled=!1);w.bounds[h]=k[h]=O;break;case g:if(!C(O)||(O=+O)<0||O>24)return void(w.enabled=!1);w.bounds[h]=k[h]=O}if(!1===m.autorange){var P=m.range;if(P[0]<P[1]){if(k[0]<P[0]&&k[1]>P[1])return void(w.enabled=!1)}else if(k[0]>P[0]&&k[1]<P[1])return void(w.enabled=!1)}}else{var L=b("values");if(!L||!L.length)return void(w.enabled=!1);b("dvalue")}}}ie.exports=function(y,w,m,b,k){var h,O=b.letter,A=b.font||{},I=b.splomStash||{},P=m("visible",!b.visibleDflt),N=w.type||(w._template||{}).type||"-";"date"===N&&(E.getComponentMethod("calendars","handleDefaults")(y,w,"calendar",b.calendar),b.noTicklabelmode||(h=m("ticklabelmode")));var B="";b.noTicklabelposition&&"multicategory"!==N||(B=f.coerce(y,w,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:"period"===h?["outside","inside"]:"x"===O?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),b.noTicklabeloverflow||m("ticklabeloverflow",-1!==B.indexOf("inside")?"hide past domain":"category"===N||"multicategory"===N?"allow":"hide past div"),s(w,k);var W=!w.isValidRange(y.range);W&&b.reverseDflt&&(W="reversed"),!m("autorange",W)||"linear"!==N&&"-"!==N||m("rangemode"),m("range"),w.cleanRange(),o(y,w,m,b),"category"===N||b.noHover||m("hoverformat");var j=m("color"),Z=j!==v.color.dflt?j:A.color,V=I.label||k._dfltTitle[O];if(a(y,w,m,N,b),!P)return w;m("title.text",V),f.coerceFont(m,"title.font",{family:A.family,size:f.bigFont(A.size),color:Z}),c(y,w,m,N);var q=b.hasMinor;if(q&&(S.newContainer(w,"minor"),c(y,w,m,N,{isMinor:!0})),u(y,w,m,N,b),i(y,w,m,b),q){var G=b.isMinor;b.isMinor=!0,i(y,w,m,b),b.isMinor=G}l(y,w,m,{dfltColor:j,bgColor:b.bgColor,showGrid:b.showGrid,hasMinor:q,attributes:v}),!q||w.minor.ticks||w.minor.showgrid||delete w.minor,(w.showline||w.ticks)&&m("mirror");var H,ne="multicategory"===N;if(b.noTickson||"category"!==N&&!ne||!w.ticks&&!w.showgrid||(ne&&(H="boundaries"),"boundaries"===m("tickson",H)&&delete w.ticklabelposition),ne&&m("showdividers")&&(m("dividercolor"),m("dividerwidth")),"date"===N)if(M(y,w,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:p}),w.rangebreaks.length){for(var X=0;X<w.rangebreaks.length;X++)if(w.rangebreaks[X].pattern===d){w._hasDayOfWeekBreaks=!0;break}if(s(w,k),k._has("scattergl")||k._has("splom"))for(var $=0;$<b.data.length;$++){var Q=b.data[$];"scattergl"!==Q.type&&"splom"!==Q.type||(Q.visible=!1,f.warn(Q.type+" traces do not work on axes with rangebreaks. Setting trace "+Q.index+" to `visible: false`."))}}else delete w.rangebreaks;return w};var T={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function _(y){if("string"==typeof y)return T[y.substr(0,3).toLowerCase()]}},12663:function(ie,z,r){"use strict";var C=r(31562),E=C.FORMAT_LINK,f=C.DATE_FORMAT_LINK;function S(v,c){return["Sets the "+v+" formatting rule"+(c?"for `"+c+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+E+"."].join(" ")}function M(v,c){return S(v,c)+[" And for dates see: "+f+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}ie.exports={axisHoverFormat:function(v,c){return{valType:"string",dflt:"",editType:"none",description:(c?S:M)("hover text",v)+["By default the values are formatted using "+(c?"generic number format":"`"+v+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:S,descriptionWithDates:M}},41675:function(ie,z,r){"use strict";var C=r(73972),E=r(85555);function f(S,M){if(M&&M.length)for(var v=0;v<M.length;v++)if(M[v][S])return!0;return!1}z.id2name=function(S){if("string"==typeof S&&S.match(E.AX_ID_PATTERN)){var M=S.split(" ")[0].substr(1);return"1"===M&&(M=""),S.charAt(0)+"axis"+M}},z.name2id=function(S){if(S.match(E.AX_NAME_PATTERN)){var M=S.substr(5);return"1"===M&&(M=""),S.charAt(0)+M}},z.cleanId=function(S,M,v){var c=/( domain)$/.test(S);if("string"==typeof S&&S.match(E.AX_ID_PATTERN)&&(!M||S.charAt(0)===M)&&(!c||v)){var i=S.split(" ")[0].substr(1).replace(/^0+/,"");return"1"===i&&(i=""),S.charAt(0)+i+(c&&v?" domain":"")}},z.list=function(S,M,v){var c=S._fullLayout;if(!c)return[];var i,u=z.listIds(S,M),a=new Array(u.length);for(i=0;i<u.length;i++){var o=u[i];a[i]=c[o.charAt(0)+"axis"+o.substr(1)]}if(!v){var l=c._subplots.gl3d||[];for(i=0;i<l.length;i++){var s=c[l[i]];M?a.push(s[M+"axis"]):a.push(s.xaxis,s.yaxis,s.zaxis)}}return a},z.listIds=function(S,M){var v=S._fullLayout;if(!v)return[];var c=v._subplots;return M?c[M+"axis"]:c.xaxis.concat(c.yaxis)},z.getFromId=function(S,M,v){var c=S._fullLayout;return M=void 0===M||"string"!=typeof M?M:M.replace(" domain",""),"x"===v?M=M.replace(/y[0-9]*/,""):"y"===v&&(M=M.replace(/x[0-9]*/,"")),c[z.id2name(M)]},z.getFromTrace=function(S,M,v){var c=S._fullLayout,i=null;if(C.traceIs(M,"gl3d")){var u=M.scene;"scene"===u.substr(0,5)&&(i=c[u][v+"axis"])}else i=z.getFromId(S,M[v+"axis"]||v);return i},z.idSort=function(S,M){var v=S.charAt(0),c=M.charAt(0);return v!==c?v>c?1:-1:+(S.substr(1)||1)-+(M.substr(1)||1)},z.ref2id=function(S){return!!/^[xyz]/.test(S)&&S.split(" ")[0]},z.isLinked=function(S,M){return f(M,S._axisMatchGroups)||f(M,S._axisConstraintGroups)}},15258:function(ie){"use strict";ie.exports=function(z,r,C,E){if("category"===r.type){var f,S=z.categoryarray,M=Array.isArray(S)&&S.length>0;M&&(f="array");var v,c=C("categoryorder",f);"array"===c&&(v=C("categoryarray")),M||"array"!==c||(c=r.categoryorder="trace"),"trace"===c?r._initialCategories=[]:"array"===c?r._initialCategories=v.slice():(v=function(i,u){var a,o,l,s=u.dataAttr||i._id.charAt(0),d={};if(u.axData)a=u.axData;else for(a=[],o=0;o<u.data.length;o++){var g=u.data[o];g[s+"axis"]===i._id&&a.push(g)}for(o=0;o<a.length;o++){var p=a[o][s];for(l=0;l<p.length;l++){var T=p[l];null!=T&&(d[T]=1)}}return Object.keys(d)}(r,E).sort(),"category ascending"===c?r._initialCategories=v:"category descending"===c&&(r._initialCategories=v.reverse()))}}},66287:function(ie,z,r){"use strict";var C=r(92770),E=r(71828),f=r(50606),S=f.ONEDAY,M=f.ONEWEEK;z.dtick=function(v,c){var i="log"===c,u="date"===c,a="category"===c,o=u?S:1;if(!v)return o;if(C(v))return(v=Number(v))<=0?o:a?Math.max(1,Math.round(v)):u?Math.max(.1,v):v;if("string"!=typeof v||!u&&!i)return o;var l=v.charAt(0),s=v.substr(1);return(s=C(s)?Number(s):0)<=0||!(u&&"M"===l&&s===Math.round(s)||i&&"L"===l||i&&"D"===l&&(1===s||2===s))?o:v},z.tick0=function(v,c,i,u){return"date"===c?E.cleanDate(v,E.dateTick0(i,u%M==0?1:0)):"D1"!==u&&"D2"!==u?C(v)?Number(v):0:void 0}},85555:function(ie,z,r){"use strict";var C=r(30587).counter;ie.exports={idRegex:{x:C("x","( domain)?"),y:C("y","( domain)?")},attrRegex:C("[xy]axis"),xAxisMatch:C("xaxis"),yAxisMatch:C("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},99082:function(ie,z,r){"use strict";var C=r(71828),E=r(71739),f=r(41675).id2name,S=r(13838),M=r(42449),v=r(21994),c=r(50606).ALMOST_EQUAL,i=r(18783).FROM_BL;function u(p,T,_){var y=_.axIds,w=_.layoutOut,m=_.hasImage,b=w._axisConstraintGroups,k=w._axisMatchGroups,h=T._id,O=h.charAt(0),A=((w._splomAxes||{})[O]||{})[h]||{},I=T._id,P="x"===I.charAt(0);function L(te,re){return C.coerce(p,T,S,te,re)}T._matchGroup=null,T._constraintGroup=null,L("constrain",m?"domain":"range"),C.coerce(p,T,{constraintoward:{valType:"enumerated",values:P?["left","center","right"]:["bottom","middle","top"],dflt:P?"center":"middle"}},"constraintoward");var N,B,W=T.type,j=[];for(N=0;N<y.length;N++)(B=y[N])!==I&&w[f(B)].type===W&&j.push(B);var Z=o(b,I);if(Z){var V=[];for(N=0;N<j.length;N++)Z[B=j[N]]||V.push(B);j=V}var q,G,H=j.length;H&&(p.matches||A.matches)&&(q=C.coerce(p,T,{matches:{valType:"enumerated",values:j,dflt:-1!==j.indexOf(A.matches)?A.matches:void 0}},"matches"));var ne=m&&!P?T.anchor:void 0;if(H&&!q&&(p.scaleanchor||ne)&&(G=C.coerce(p,T,{scaleanchor:{valType:"enumerated",values:j}},"scaleanchor",ne)),q){T._matchGroup=l(k,I,q,1);var X=w[f(q)],$=a(w,T)/a(w,X);P!==("x"===q.charAt(0))&&($=(P?"x":"y")+$),l(b,I,q,$)}else p.matches&&-1!==y.indexOf(p.matches)&&C.warn("ignored "+T._name+'.matches: "'+p.matches+'" to avoid an infinite loop');if(G){var Q=L("scaleratio");Q||(Q=T.scaleratio=1),l(b,I,G,Q)}else p.scaleanchor&&-1!==y.indexOf(p.scaleanchor)&&C.warn("ignored "+T._name+'.scaleanchor: "'+p.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function a(p,T){var _=T.domain;return _||(_=p[f(T.overlaying)].domain),_[1]-_[0]}function o(p,T){for(var _=0;_<p.length;_++)if(p[_][T])return p[_];return null}function l(p,T,_,y){var w,m,b,k,h,O=o(p,T);null===O?((O={})[T]=1,h=p.length,p.push(O)):h=p.indexOf(O);var A=Object.keys(O);for(w=0;w<p.length;w++)if(b=p[w],w!==h&&b[_]){var I=b[_];for(m=0;m<A.length;m++)b[k=A[m]]=s(I,s(y,O[k]));return void p.splice(h,1)}if(1!==y)for(m=0;m<A.length;m++){var P=A[m];O[P]=s(y,O[P])}O[_]=1}function s(p,T){var _,y,w="",m="";"string"==typeof p&&(_=(w=p.match(/^[xy]*/)[0]).length,p=+p.substr(_)),"string"==typeof T&&(y=(m=T.match(/^[xy]*/)[0]).length,T=+T.substr(y));var b=p*T;return _||y?_&&y&&w.charAt(0)!==m.charAt(0)?_===y?b:(_>y?w.substr(y):m.substr(_))+b:w+m+p*T:b}function d(p,T){for(var _=T._size,y=_.h/_.w,w={},m=Object.keys(p),b=0;b<m.length;b++){var k=m[b],h=p[k];if("string"==typeof h){var O=h.match(/^[xy]*/)[0],A=O.length;h=+h.substr(A);for(var I="y"===O.charAt(0)?y:1/y,P=0;P<A;P++)h*=I}w[k]=h}return w}function g(p,T){var _=p._inputDomain,w=_[0]+(_[1]-_[0])*i[p.constraintoward];p.domain=p._input.domain=[w+(_[0]-w)/T,w+(_[1]-w)/T],p.setScale()}z.handleDefaults=function(p,T,_){var y,w,m,b,k,h,O,A,I=_.axIds,P=_.axHasImage,L=T._axisConstraintGroups=[],N=T._axisMatchGroups=[];for(y=0;y<I.length;y++)u(k=p[b=f(I[y])],h=T[b],{axIds:I,layoutOut:T,hasImage:P[b]});function B(X,$){for(y=0;y<X.length;y++)for(m in w=X[y])T[f(m)][$]=w}for(B(N,"_matchGroup"),y=0;y<L.length;y++)for(m in w=L[y])if((h=T[f(m)]).fixedrange){for(var W in w){var j=f(W);!1===(p[j]||{}).fixedrange&&C.warn("fixedrange was specified as false for axis "+j+" but was overridden because another axis in its constraint group has fixedrange true"),T[j].fixedrange=!0}break}for(y=0;y<L.length;){for(m in w=L[y]){(h=T[f(m)])._matchGroup&&Object.keys(h._matchGroup).length===Object.keys(w).length&&(L.splice(y,1),y--);break}y++}B(L,"_constraintGroup");var Z=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],V=!1,q=!1;function G(){A=h[O],"rangebreaks"===O&&(q=h._hasDayOfWeekBreaks)}for(y=0;y<N.length;y++){w=N[y];for(var H=0;H<Z.length;H++){var ne;for(m in O=Z[H],A=null,w)if(k=p[b=f(m)],O in(h=T[b])){if(!h.matches&&(ne=h,O in k)){G();break}null===A&&O in k&&G()}if("range"===O&&A&&(V=!0),"autorange"===O&&null===A&&V&&(A=!1),null===A&&O in ne&&(A=ne[O]),null!==A)for(m in w)(h=T[f(m)])[O]="range"===O?A.slice():A,"rangebreaks"===O&&(h._hasDayOfWeekBreaks=q,v(h,T))}}},z.enforce=function(p){var T,_,y,w,m,b,k,h,O=p._fullLayout,A=O._axisConstraintGroups||[];for(T=0;T<A.length;T++){y=d(A[T],O);var I=Object.keys(y),P=1/0,L=0,N=1/0,B={},W={},j=!1;for(_=0;_<I.length;_++)W[w=I[_]]=m=O[f(w)],m._inputDomain?m.domain=m._inputDomain.slice():m._inputDomain=m.domain.slice(),m._inputRange||(m._inputRange=m.range.slice()),m.setScale(),B[w]=b=Math.abs(m._m)/y[w],P=Math.min(P,b),"domain"!==m.constrain&&m._constraintShrinkable||(N=Math.min(N,b)),delete m._constraintShrinkable,L=Math.max(L,b),"domain"===m.constrain&&(j=!0);if(!(P>c*L)||j)for(_=0;_<I.length;_++)if(b=B[w=I[_]],k=(m=W[w]).constrain,b!==N||"domain"===k)if(h=b/N,"range"===k)M(m,h);else{var Z=m._inputDomain,V=(m.domain[1]-m.domain[0])/(Z[1]-Z[0]),q=(m.r2l(m.range[1])-m.r2l(m.range[0]))/(m.r2l(m._inputRange[1])-m.r2l(m._inputRange[0]));if((h/=V)*q<1){m.domain=m._input.domain=Z.slice(),M(m,h);continue}if(q<1&&(m.range=m._input.range=m._inputRange.slice(),h*=q),m.autorange){var G=m.r2l(m.range[0]),H=m.r2l(m.range[1]),ne=(G+H)/2,X=ne,$=ne,Q=Math.abs(H-ne),te=ne-Q*h*1.0001,re=ne+Q*h*1.0001,le=E.makePadFn(O,m,0),ue=E.makePadFn(O,m,1);g(m,h);var he,ge,xe=Math.abs(m._m),ke=E.concatExtremes(p,m),Ae=ke.min,pe=ke.max;for(ge=0;ge<Ae.length;ge++)(he=Ae[ge].val-le(Ae[ge])/xe)>te&&he<X&&(X=he);for(ge=0;ge<pe.length;ge++)(he=pe[ge].val+ue(pe[ge])/xe)<re&&he>$&&($=he);h/=($-X)/(2*Q),X=m.l2r(X),$=m.l2r($),m.range=m._input.range=G<H?[X,$]:[$,X]}g(m,h)}}},z.getAxisGroup=function(p,T){for(var _=p._axisMatchGroups,y=0;y<_.length;y++)if(_[y][T])return"g"+y;return T},z.clean=function(p,T){if(T._inputDomain){for(var _=!1,y=T._id,w=p._fullLayout._axisConstraintGroups,m=0;m<w.length;m++)if(w[m][y]){_=!0;break}_&&"domain"===T.constrain||(T._input.domain=T.domain=T._inputDomain,delete T._inputDomain)}}},29323:function(ie,z,r){"use strict";var C=r(39898),E=r(71828),f=E.numberFormat,S=r(84267),M=r(38520),v=r(73972),c=E.strTranslate,i=r(63893),u=r(7901),a=r(91424),o=r(30211),l=r(89298),s=r(6964),d=r(28569),g=r(64505),p=g.selectingOrDrawing,T=g.freeMode,_=r(18783).FROM_TL,y=r(33306),w=r(61549).redrawReglTraces,m=r(74875),b=r(41675).getFromId,k=r(47322).prepSelect,h=r(47322).clearOutline,O=r(47322).selectOnClick,A=r(42449),I=r(85555),P=I.MINDRAG,L=I.MINZOOM,N=!0;function B(he,ge,xe,ke){var Ae=E.ensureSingle(he.draglayer,ge,xe,function(pe){pe.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",he.id)});return Ae.call(s,ke),Ae.node()}function W(he,ge,xe,ke,Ae,pe,ye){var Ne=B(he,"rect",ge,xe);return C.select(Ne).call(a.setRect,ke,Ae,pe,ye),Ne}function j(he,ge){for(var xe=0;xe<he.length;xe++)if(!he[xe].fixedrange)return ge;return""}function Z(he,ge,xe,ke,Ae){for(var pe=0;pe<he.length;pe++){var ye=he[pe];if(!ye.fixedrange)if(ye.rangebreaks){var Ne="y"===ye._id.charAt(0),Ee=Ne?1-xe:xe;ke[ye._name+".range[0]"]=ye.l2r(ye.p2l((Ne?1-ge:ge)*ye._length)),ke[ye._name+".range[1]"]=ye.l2r(ye.p2l(Ee*ye._length))}else{var Oe=ye._rl[0],De=ye._rl[1]-Oe;ke[ye._name+".range[0]"]=ye.l2r(Oe+De*ge),ke[ye._name+".range[1]"]=ye.l2r(Oe+De*xe)}}if(Ae&&Ae.length){var oe=(ge+(1-xe))/2;Z(Ae,oe,1-oe,ke,[])}}function V(he,ge){for(var xe=0;xe<he.length;xe++){var ke=he[xe];if(!ke.fixedrange)if(ke.rangebreaks){var Ae=ke._length,pe=(ke.p2l(0+ge)-ke.p2l(0)+(ke.p2l(Ae+ge)-ke.p2l(Ae)))/2;ke.range=[ke.l2r(ke._rl[0]-pe),ke.l2r(ke._rl[1]-pe)]}else ke.range=[ke.l2r(ke._rl[0]-ge/ke._m),ke.l2r(ke._rl[1]-ge/ke._m)]}}function q(he){return 1-(he>=0?Math.min(he,.9):1/(1/Math.max(he,-.3)+3.222))}function G(he,ge,xe,ke,Ae){return he.append("path").attr("class","zoombox").style({fill:ge>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",c(xe,ke)).attr("d",Ae+"Z")}function H(he,ge,xe){return he.append("path").attr("class","zoombox-corners").style({fill:u.background,stroke:u.defaultLine,"stroke-width":1,opacity:0}).attr("transform",c(ge,xe)).attr("d","M0,0Z")}function ne(he,ge,xe,ke,Ae,pe){he.attr("d",ke+"M"+xe.l+","+xe.t+"v"+xe.h+"h"+xe.w+"v-"+xe.h+"h-"+xe.w+"Z"),X(he,ge,Ae,pe)}function X(he,ge,xe,ke){xe||(he.transition().style("fill",ke>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ge.transition().style("opacity",1).duration(200))}function $(he){C.select(he).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function Q(he){N&&he.data&&he._context.showTips&&(E.notifier(E._(he,"Double-click to zoom back out"),"long"),N=!1)}function te(he){var ge=Math.floor(Math.min(he.b-he.t,he.r-he.l,L)/2);return"M"+(he.l-3.5)+","+(he.t-.5+ge)+"h3v"+-ge+"h"+ge+"v-3h-"+(ge+3)+"ZM"+(he.r+3.5)+","+(he.t-.5+ge)+"h-3v"+-ge+"h"+-ge+"v-3h"+(ge+3)+"ZM"+(he.r+3.5)+","+(he.b+.5-ge)+"h-3v"+ge+"h"+-ge+"v3h"+(ge+3)+"ZM"+(he.l-3.5)+","+(he.b+.5-ge)+"h3v"+ge+"h"+ge+"v3h-"+(ge+3)+"Z"}function re(he,ge,xe,ke,Ae){for(var pe,ye,Ne,be,Ee=!1,Oe={},De={},oe=(Ae||{}).xaHash,de=(Ae||{}).yaHash,_e=0;_e<ge.length;_e++){var Me=ge[_e];for(pe in xe)if(Me[pe]){for(Ne in Me)Ae&&(oe[Ne]||de[Ne])||("x"===Ne.charAt(0)?xe:ke)[Ne]||(Oe[Ne]=pe);for(ye in ke)Ae&&(oe[ye]||de[ye])||!Me[ye]||(Ee=!0)}for(ye in ke)if(Me[ye])for(be in Me)Ae&&(oe[be]||de[be])||("x"===be.charAt(0)?xe:ke)[be]||(De[be]=ye)}Ee&&(E.extendFlat(Oe,De),De={});var Pe={},Ue=[];for(Ne in Oe){var Be=b(he,Ne);Ue.push(Be),Pe[Be._id]=Be}var Ve={},ve=[];for(be in De){var Te=b(he,be);ve.push(Te),Ve[Te._id]=Te}return{xaHash:Pe,yaHash:Ve,xaxes:Ue,yaxes:ve,xLinks:Oe,yLinks:De,isSubplotConstrained:Ee}}function le(he,ge){if(M){var xe=void 0!==he.onwheel?"wheel":"mousewheel";he._onwheel&&he.removeEventListener(xe,he._onwheel),he._onwheel=ge,he.addEventListener(xe,ge,{passive:!1})}else void 0!==he.onwheel?he.onwheel=ge:void 0!==he.onmousewheel?he.onmousewheel=ge:he.isAddedWheelEvent||(he.isAddedWheelEvent=!0,he.addEventListener("wheel",ge,{passive:!1}))}function ue(he){var ge=[];for(var xe in he)ge.push(he[xe]);return ge}ie.exports={makeDragBox:function(he,ge,xe,ke,Ae,pe,ye,Ne){var be,Ee,Oe,De,oe,de,_e,Me,Pe,Ue,Be,Ve,ve,Te,Ce,We,Ke,Je,ht,ft,mt,At,Rt,It=he._fullLayout._zoomlayer,Pt=ye+Ne==="nsew",Bt=1===(ye+Ne).length;function Ut(){if(Pe=(be=ge.xaxis)._length,Ue=(Ee=ge.yaxis)._length,_e=be._offset,Me=Ee._offset,(Oe={})[be._id]=be,(De={})[Ee._id]=Ee,ye&&Ne)for(var wn=ge.overlays,Cn=0;Cn<wn.length;Cn++){var mn=wn[Cn].xaxis;Oe[mn._id]=mn;var En=wn[Cn].yaxis;De[En._id]=En}oe=ue(Oe),de=ue(De),ve=j(oe,Ne),Te=j(de,ye),Ce=!Te&&!ve,Ve=re(he,he._fullLayout._axisMatchGroups,Oe,De);var Fn=(Be=re(he,he._fullLayout._axisConstraintGroups,Oe,De,Ve)).isSubplotConstrained||Ve.isSubplotConstrained;We=Ne||Fn,Ke=ye||Fn;var jn=he._fullLayout;Je=jn._has("scattergl"),ht=jn._has("splom"),ft=jn._has("svg")}xe+=ge.yaxis._shift,Ut();var wn,Vt=(wn=Te+ve)?"nsew"===wn?Pt?"":"pan"===he._fullLayout.dragmode?"move":"crosshair":wn.toLowerCase()+"-resize":"pointer",tn=W(ge,ye+Ne+"drag",Vt,xe,ke,Ae,pe);if(Ce&&!Pt)return tn.onmousedown=null,tn.style.pointerEvents="none",tn;var Gt,et,nt,$e,ot,dt,Le,Ge,st,vt,bt={element:tn,gd:he,plotinfo:ge};function Lt(){bt.plotinfo.selection=!1,h(he)}function jt(wn,Cn){var mr,Vr,Dr,Un,ur,mn=bt.gd;if(mn._fullLayout._activeShapeIndex>=0)mn._fullLayout._deactivateShape(mn);else{var En=mn._fullLayout.clickmode;if($(mn),2!==wn||Bt||function Tn(){if(!he._transitioningWithDuration){var wn=he._context.doubleClick,Cn=[];ve&&(Cn=Cn.concat(oe)),Te&&(Cn=Cn.concat(de)),Ve.xaxes&&(Cn=Cn.concat(Ve.xaxes)),Ve.yaxes&&(Cn=Cn.concat(Ve.yaxes));var mn,En,Fn,jn={};if("reset+autosize"===wn)for(wn="autosize",En=0;En<Cn.length;En++)if((mn=Cn[En])._rangeInitial&&(mn.range[0]!==mn._rangeInitial[0]||mn.range[1]!==mn._rangeInitial[1])||!mn._rangeInitial&&!mn.autorange){wn="reset";break}if("autosize"===wn)for(En=0;En<Cn.length;En++)(mn=Cn[En]).fixedrange||(jn[mn._name+".autorange"]=!0);else if("reset"===wn)for((ve||Be.isSubplotConstrained)&&(Cn=Cn.concat(Be.xaxes)),Te&&!Be.isSubplotConstrained&&(Cn=Cn.concat(Be.yaxes)),Be.isSubplotConstrained&&(ve?Te||(Cn=Cn.concat(de)):Cn=Cn.concat(oe)),En=0;En<Cn.length;En++)(mn=Cn[En]).fixedrange||(mn._rangeInitial?(jn[mn._name+".range[0]"]=(Fn=mn._rangeInitial)[0],jn[mn._name+".range[1]"]=Fn[1]):jn[mn._name+".autorange"]=!0);he.emit("plotly_doubleclick",null),v.call("_guiRelayout",he,jn)}}(),Pt)En.indexOf("select")>-1&&O(Cn,mn,oe,de,ge.id,bt),En.indexOf("event")>-1&&o.click(mn,Cn,ge.id);else if(1===wn&&Bt){var Fn=ye?Ee:be,jn="s"===ye||"w"===Ne?0:1,er=Fn._name+".range["+jn+"]",Zn=(Un=(mr=Fn).range[Vr=jn],ur=Math.abs(Un-mr.range[1-Vr]),"date"===mr.type?Un:"log"===mr.type?(Dr=Math.ceil(Math.max(0,-Math.log(ur)/Math.LN10))+3,f("."+Dr+"g")(Math.pow(10,Un))):(Dr=Math.floor(Math.log(Math.abs(Un))/Math.LN10)-Math.floor(Math.log(ur)/Math.LN10)+4,f("."+String(Dr)+"g")(Un))),Gn="left",_r="middle";if(Fn.fixedrange)return;ye?(_r="n"===ye?"top":"bottom","right"===Fn.side&&(Gn="right")):"e"===Ne&&(Gn="right"),mn._context.showAxisRangeEntryBoxes&&C.select(tn).call(i.makeEditable,{gd:mn,immediate:!0,background:mn._fullLayout.paper_bgcolor,text:String(Zn),fill:Fn.tickfont?Fn.tickfont.color:"#444",horizontalAlign:Gn,verticalAlign:_r}).on("edit",function(mr){var Vr=Fn.d2r(mr);void 0!==Vr&&v.call("_guiRelayout",mn,er,Vr)})}}}function Nt(wn,Cn){if(he._transitioningWithDuration)return!1;var _r,mr,mn=Math.max(0,Math.min(Pe,At*wn+Gt)),En=Math.max(0,Math.min(Ue,Rt*Cn+et)),Fn=Math.abs(mn-Gt),jn=Math.abs(En-et);function er(){Le="",nt.r=nt.l,nt.t=nt.b,st.attr("d","M0,0Z")}if(nt.l=Math.min(Gt,mn),nt.r=Math.max(Gt,mn),nt.t=Math.min(et,En),nt.b=Math.max(et,En),Be.isSubplotConstrained)Fn>L||jn>L?(Le="xy",Fn/Pe>jn/Ue?(jn=Fn*Ue/Pe,et>En?nt.t=et-jn:nt.b=et+jn):(Fn=jn*Pe/Ue,Gt>mn?nt.l=Gt-Fn:nt.r=Gt+Fn),st.attr("d",te(nt))):er();else if(Ve.isSubplotConstrained)if(Fn>L||jn>L){Le="xy";var Zn=Math.min(nt.l/Pe,(Ue-nt.b)/Ue),Gn=Math.max(nt.r/Pe,(Ue-nt.t)/Ue);nt.l=Zn*Pe,nt.r=Gn*Pe,nt.b=(1-Zn)*Ue,nt.t=(1-Gn)*Ue,st.attr("d",te(nt))}else er();else!Te||jn<Math.min(Math.max(.6*Fn,P),L)?Fn<P||!ve?er():(nt.t=0,nt.b=Ue,Le="x",st.attr("d","M"+((_r=nt).l-.5)+","+((mr=et)-L-.5)+"h-3v"+(2*L+1)+"h3ZM"+(_r.r+.5)+","+(mr-L-.5)+"h3v"+(2*L+1)+"h-3Z")):!ve||Fn<Math.min(.6*jn,L)?(nt.l=0,nt.r=Pe,Le="y",st.attr("d",function(_r,mr){return"M"+(mr-L-.5)+","+(_r.t-.5)+"v-3h"+(2*L+1)+"v3ZM"+(mr-L-.5)+","+(_r.b+.5)+"v3h"+(2*L+1)+"v-3Z"}(nt,Gt))):(Le="xy",st.attr("d",te(nt)));nt.w=nt.r-nt.l,nt.h=nt.b-nt.t,Le&&(vt=!0),he._dragged=vt,ne(Ge,st,nt,ot,dt,$e),Tt(),he.emit("plotly_relayouting",mt),dt=!0}function Tt(){mt={},"xy"!==Le&&"x"!==Le||(Z(oe,nt.l/Pe,nt.r/Pe,mt,Be.xaxes),Kt("x",mt)),"xy"!==Le&&"y"!==Le||(Z(de,(Ue-nt.b)/Ue,(Ue-nt.t)/Ue,mt,Be.yaxes),Kt("y",mt))}function Mt(){Tt(),$(he),An(),Q(he)}bt.prepFn=function(wn,Cn,mn){var En=bt.dragmode,Fn=he._fullLayout.dragmode;Fn!==En&&(bt.dragmode=Fn),Ut(),At=he._fullLayout._invScaleX,Rt=he._fullLayout._invScaleY,Ce||(Pt?wn.shiftKey?"pan"===Fn?Fn="zoom":p(Fn)||(Fn="pan"):wn.ctrlKey&&(Fn="pan"):Fn="pan"),bt.minDrag=T(Fn)?1:void 0,p(Fn)?(bt.xaxes=oe,bt.yaxes=de,k(wn,Cn,mn,bt,Fn)):(bt.clickFn=jt,p(En)&&Lt(),Ce||("zoom"===Fn?(bt.moveFn=Nt,bt.doneFn=Mt,bt.minDrag=1,function(jn,er,Zn){var Gn=tn.getBoundingClientRect();Gt=er-Gn.left,et=Zn-Gn.top,he._fullLayout._calcInverseTransform(he);var _r=E.apply3DTransform(he._fullLayout._invTransform)(Gt,et);nt={l:Gt=_r[0],r:Gt,w:0,t:et=_r[1],b:et,h:0},$e=he._hmpixcount?he._hmlumcount/he._hmpixcount:S(he._fullLayout.plot_bgcolor).getLuminance(),dt=!1,Le="xy",vt=!1,Ge=G(It,$e,_e,Me,ot="M0,0H"+Pe+"V"+Ue+"H0V0"),st=H(It,_e,Me)}(0,Cn,mn)):"pan"===Fn&&(bt.moveFn=Jt,bt.doneFn=An))),he._fullLayout._redrag=function(){var jn=he._dragdata;jn&&jn.element===tn&&(p(he._fullLayout.dragmode)||(Ut(),pn([0,0,Pe,Ue]),bt.moveFn(jn.dx,jn.dy)))}},d.init(bt);var kt=[0,0,Pe,Ue],Ht=null,qt=I.REDRAWDELAY,Qt=ge.mainplot?he._fullLayout._plots[ge.mainplot]:ge;function Jt(wn,Cn){if(wn*=At,Cn*=Rt,!he._transitioningWithDuration){if(he._fullLayout._replotting=!0,"ew"===ve||"ns"===Te){var mn=ve?-wn:0,En=Te?-Cn:0;if(Ve.isSubplotConstrained){if(ve&&Te){var Fn=(wn/Pe-Cn/Ue)/2;mn=-(wn=Fn*Pe),En=-(Cn=-Fn*Ue)}Te?mn=-En*Pe/Ue:En=-mn*Ue/Pe}return ve&&(V(oe,wn),Kt("x")),Te&&(V(de,Cn),Kt("y")),pn([mn,En,Pe,Ue]),ln(),void he.emit("plotly_relayouting",mt)}var jn,er,Zn="w"===ve==("n"===Te)?1:-1;if(ve&&Te&&(Be.isSubplotConstrained||Ve.isSubplotConstrained)){var Gn=(wn/Pe+Zn*Cn/Ue)/2;wn=Gn*Pe,Cn=Zn*Gn*Ue}if("w"===ve?wn=Dr(oe,0,wn):"e"===ve?wn=Dr(oe,1,-wn):ve||(wn=0),"n"===Te?Cn=Dr(de,1,Cn):"s"===Te?Cn=Dr(de,0,-Cn):Te||(Cn=0),jn="w"===ve?wn:0,er="n"===Te?Cn:0,Be.isSubplotConstrained&&!Ve.isSubplotConstrained||Ve.isSubplotConstrained&&ve&&Te&&Zn>0){var _r;if(Ve.isSubplotConstrained||!ve&&1===Te.length){for(_r=0;_r<oe.length;_r++)oe[_r].range=oe[_r]._r.slice(),A(oe[_r],1-Cn/Ue);jn=(wn=Cn*Pe/Ue)/2}if(Ve.isSubplotConstrained||!Te&&1===ve.length){for(_r=0;_r<de.length;_r++)de[_r].range=de[_r]._r.slice(),A(de[_r],1-wn/Pe);er=(Cn=wn*Ue/Pe)/2}}Ve.isSubplotConstrained&&Te||Kt("x"),Ve.isSubplotConstrained&&ve||Kt("y");var mr=Pe-wn,Vr=Ue-Cn;!Ve.isSubplotConstrained||ve&&Te||(ve?(er=jn?0:wn*Ue/Pe,Vr=mr*Ue/Pe):(jn=er?0:Cn*Pe/Ue,mr=Vr*Pe/Ue)),pn([jn,er,mr,Vr]),ln(),he.emit("plotly_relayouting",mt)}function Dr(Un,ur,cr){for(var on,xn,Wn=1-ur,Bn=0;Bn<Un.length;Bn++){var qn=Un[Bn];if(!qn.fixedrange){on=qn,xn=qn._rl[Wn]+(qn._rl[ur]-qn._rl[Wn])/q(cr/qn._length);var nr=qn.l2r(xn);!1!==nr&&void 0!==nr&&(qn.range[ur]=nr)}}return on._length*(on._rl[ur]-xn)/(on._rl[ur]-on._rl[Wn])}}function Kt(wn,Cn){for(var mn=Ve.isSubplotConstrained?{x:de,y:oe}[wn]:Ve[wn+"axes"],En=Ve.isSubplotConstrained?{x:oe,y:de}[wn]:[],Fn=0;Fn<mn.length;Fn++){var jn=mn[Fn],er=jn._id,Zn=Ve.xLinks[er]||Ve.yLinks[er],Gn=En[0]||Oe[Zn]||De[Zn];Gn&&(Cn?(Cn[jn._name+".range[0]"]=Cn[Gn._name+".range[0]"],Cn[jn._name+".range[1]"]=Cn[Gn._name+".range[1]"]):jn.range=Gn.range.slice())}}function ln(){var wn,Cn=[];function mn(er){for(wn=0;wn<er.length;wn++)er[wn].fixedrange||Cn.push(er[wn]._id)}function En(er,Zn){for(wn=0;wn<er.length;wn++){var Gn=er[wn],_r=Gn[Zn];Gn.fixedrange||"sync"!==_r.tickmode||Cn.push(_r._id)}}for(We&&(mn(oe),mn(Be.xaxes),mn(Ve.xaxes),En(ge.overlays,"xaxis")),Ke&&(mn(de),mn(Be.yaxes),mn(Ve.yaxes),En(ge.overlays,"yaxis")),mt={},wn=0;wn<Cn.length;wn++){var jn=b(he,Cn[wn]);l.drawOne(he,jn,{skipTitle:!0}),mt[jn._name+".range[0]"]=jn.range[0],mt[jn._name+".range[1]"]=jn.range[1]}l.redrawComponents(he,Cn)}function An(){pn([0,0,Pe,Ue]),E.syncOrAsync([m.previousPromises,function(){he._fullLayout._replotting=!1,v.call("_guiRelayout",he,mt)}],he)}function pn(wn){var Cn,mn,En,Fn,jn=he._fullLayout,er=jn._plots,Zn=jn._subplots.cartesian;if(ht&&v.subplotsRegistry.splom.drag(he),Je)for(Cn=0;Cn<Zn.length;Cn++)if(En=(mn=er[Zn[Cn]]).xaxis,Fn=mn.yaxis,mn._scene){var Gn=E.simpleMap(En.range,En.r2l),_r=E.simpleMap(Fn.range,Fn.r2l);mn._scene.update({range:[Gn[0],_r[0],Gn[1],_r[1]]})}if((ht||Je)&&(y(he),w(he)),ft){var mr=wn[2]/be._length,Vr=wn[3]/Ee._length;for(Cn=0;Cn<Zn.length;Cn++){En=(mn=er[Zn[Cn]]).xaxis,Fn=mn.yaxis;var Dr,Un,ur,cr,xn=(Ke||Ve.isSubplotConstrained)&&!Fn.fixedrange&&De[Fn._id];if((We||Ve.isSubplotConstrained)&&!En.fixedrange&&Oe[En._id]?(Dr=mr,ur=Ne||Ve.isSubplotConstrained?wn[0]:On(En,Dr)):Ve.xaHash[En._id]?(Dr=mr,ur=wn[0]*En._length/be._length):Ve.yaHash[En._id]?(Dr=Vr,ur="ns"===Te?-wn[1]*En._length/Ee._length:On(En,Dr,{n:"top",s:"bottom"}[Te])):ur=tr(En,Dr=Nn(En,mr,Vr)),xn?(Un=Vr,cr=ye||Ve.isSubplotConstrained?wn[1]:On(Fn,Un)):Ve.yaHash[Fn._id]?(Un=Vr,cr=wn[1]*Fn._length/Ee._length):Ve.xaHash[Fn._id]?(Un=mr,cr="ew"===ve?-wn[0]*Fn._length/be._length:On(Fn,Un,{e:"right",w:"left"}[ve])):cr=tr(Fn,Un=Nn(Fn,mr,Vr)),Dr||Un){Dr||(Dr=1),Un||(Un=1);var Wn=En._offset-ur/Dr,Bn=Fn._offset-cr/Un;mn.clipRect.call(a.setTranslate,ur,cr).call(a.setScale,Dr,Un),mn.plot.call(a.setTranslate,Wn,Bn).call(a.setScale,1/Dr,1/Un),Dr===mn.xScaleFactor&&Un===mn.yScaleFactor||(a.setPointGroupScale(mn.zoomScalePts,Dr,Un),a.setTextPointsScale(mn.zoomScaleTxt,Dr,Un)),a.hideOutsideRangePoints(mn.clipOnAxisFalseTraces,mn),mn.xScaleFactor=Dr,mn.yScaleFactor=Un}}}}function Nn(wn,Cn,mn){return wn.fixedrange?0:We&&Be.xaHash[wn._id]?Cn:Ke&&(Be.isSubplotConstrained?Be.xaHash:Be.yaHash)[wn._id]?mn:0}function tr(wn,Cn){return Cn?(wn.range=wn._r.slice(),A(wn,Cn),On(wn,Cn)):0}function On(wn,Cn,mn){return wn._length*(1-Cn)*_[mn||wn.constraintoward||"middle"]}return ye.length*Ne.length!=1&&le(tn,function(wn){if(he._context._scrollZoom.cartesian||he._fullLayout._enablescrollzoom){if(Lt(),he._transitioningWithDuration)return wn.preventDefault(),void wn.stopPropagation();Ut(),clearTimeout(Ht);var Cn=-wn.deltaY;if(isFinite(Cn)||(Cn=wn.wheelDelta/10),isFinite(Cn)){var mn,En=Math.exp(-Math.min(Math.max(Cn,-20),20)/200),Fn=Qt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),jn=(wn.clientX-Fn.left)/Fn.width,er=(Fn.bottom-wn.clientY)/Fn.height;if(We){for(Ne||(jn=.5),mn=0;mn<oe.length;mn++)Zn(oe[mn],jn,En);Kt("x"),kt[2]*=En,kt[0]+=kt[2]*jn*(1/En-1)}if(Ke){for(ye||(er=.5),mn=0;mn<de.length;mn++)Zn(de[mn],er,En);Kt("y"),kt[3]*=En,kt[1]+=kt[3]*(1-er)*(1/En-1)}pn(kt),ln(),he.emit("plotly_relayouting",mt),Ht=setTimeout(function(){he._fullLayout&&(kt=[0,0,Pe,Ue],An())},qt),wn.preventDefault()}else E.log("Did not find wheel motion attributes: ",wn)}function Zn(Gn,_r,mr){if(!Gn.fixedrange){var Vr=E.simpleMap(Gn.range,Gn.r2l),Dr=Vr[0]+(Vr[1]-Vr[0])*_r;Gn.range=Vr.map(function(Un){return Gn.l2r(Dr+(Un-Dr)*mr)})}}}),tn},makeDragger:B,makeRectDragger:W,makeZoombox:G,makeCorners:H,updateZoombox:ne,xyCorners:te,transitionZoombox:X,removeZoombox:$,showDoubleClickNotifier:Q,attachWheelEventHandler:le}},4305:function(ie,z,r){"use strict";var C=r(39898),E=r(30211),f=r(28569),S=r(6964),M=r(29323).makeDragBox,v=r(85555).DRAGGERSIZE;z.initInteractions=function(c){var i=c._fullLayout;if(c._context.staticPlot)C.select(c).selectAll(".drag").remove();else if(i._has("cartesian")||i._has("splom")){Object.keys(i._plots||{}).sort(function(a,o){if((i._plots[a].mainplot&&!0)===(i._plots[o].mainplot&&!0)){var l=a.split("y"),s=o.split("y");return l[0]===s[0]?Number(l[1]||1)-Number(s[1]||1):Number(l[0]||1)-Number(s[0]||1)}return i._plots[a].mainplot?1:-1}).forEach(function(a){var o=i._plots[a],l=o.xaxis,s=o.yaxis;if(!o.mainplot){var d=M(c,o,l._offset,s._offset,l._length,s._length,"ns","ew");d.onmousemove=function(T){c._fullLayout._rehover=function(){c._fullLayout._hoversubplot===a&&c._fullLayout._plots[a]&&E.hover(c,T,a)},E.hover(c,T,a),c._fullLayout._lasthover=d,c._fullLayout._hoversubplot=a},d.onmouseout=function(T){c._dragging||(c._fullLayout._hoversubplot=null,f.unhover(c,T))},c._context.showAxisDragHandles&&(M(c,o,l._offset-v,s._offset-v,v,v,"n","w"),M(c,o,l._offset+l._length,s._offset-v,v,v,"n","e"),M(c,o,l._offset-v,s._offset+s._length,v,v,"s","w"),M(c,o,l._offset+l._length,s._offset+s._length,v,v,"s","e"))}if(c._context.showAxisDragHandles){if(a===l._mainSubplot){var g=l._mainLinePosition;"top"===l.side&&(g-=v),M(c,o,l._offset+.1*l._length,g,.8*l._length,v,"","ew"),M(c,o,l._offset,g,.1*l._length,v,"","w"),M(c,o,l._offset+.9*l._length,g,.1*l._length,v,"","e")}if(a===s._mainSubplot){var p=s._mainLinePosition;"right"!==s.side&&(p-=v),M(c,o,p,s._offset+.1*s._length,v,.8*s._length,"ns",""),M(c,o,p,s._offset+.9*s._length,v,.1*s._length,"s",""),M(c,o,p,s._offset,v,.1*s._length,"n","")}}});var u=i._hoverlayer.node();u.onmousemove=function(a){a.target=c._fullLayout._lasthover,E.hover(c,a,i._hoversubplot)},u.onclick=function(a){a.target=c._fullLayout._lasthover,E.click(c,a)},u.onmousedown=function(a){c._fullLayout._lasthover.onmousedown(a)},z.updateFx(c)}},z.updateFx=function(c){var i=c._fullLayout;S(i._draggers,"pan"===i.dragmode?"move":"crosshair")}},76325:function(ie,z,r){"use strict";var C=r(73972),E=r(71828),f=r(41675);ie.exports=function(S){return function(M,v){var c=M[S];if(Array.isArray(c))for(var i=C.subplotsRegistry.cartesian,u=i.idRegex,a=v._subplots,o=a.xaxis,l=a.yaxis,s=a.cartesian,d=v._has("cartesian")||v._has("gl2d"),g=0;g<c.length;g++){var p=c[g];if(E.isPlainObject(p)){var T=f.cleanId(p.xref,"x",!1),_=f.cleanId(p.yref,"y",!1),y=u.x.test(T),w=u.y.test(_);if(y||w){d||E.pushUnique(v._basePlotModules,i);var m=!1;y&&-1===o.indexOf(T)&&(o.push(T),m=!0),w&&-1===l.indexOf(_)&&(l.push(_),m=!0),m&&y&&w&&s.push(T+_)}}}}}},93612:function(ie,z,r){"use strict";var C=r(39898),E=r(73972),f=r(71828),S=r(74875),M=r(91424),v=r(27659).a0,c=r(41675),i=r(85555),u=r(77922),a=f.ensureSingle;function o(p,T,_){return f.ensureSingle(p,T,_,function(y){y.datum(_)})}function l(p,T,_,y,w){for(var m,b,k,h=i.traceLayerClasses,O=p._fullLayout,A=O._modules,I=[],P=[],L=0;L<A.length;L++){var N=(m=A[L]).name,B=E.modules[N].categories;if(B.svg){var W=m.layerName||N+"layer",j=m.plot;k=(b=v(_,j))[0],_=b[1],k.length&&I.push({i:h.indexOf(W),className:W,plotMethod:j,cdModule:k}),B.zoomScale&&P.push("."+W)}}I.sort(function(q,G){return q.i-G.i});var Z=T.plot.selectAll("g.mlayer").data(I,function(q){return q.className});if(Z.enter().append("g").attr("class",function(q){return q.className}).classed("mlayer",!0).classed("rangeplot",T.isRangePlot),Z.exit().remove(),Z.order(),Z.each(function(q){var G=C.select(this),H=q.className;q.plotMethod(p,T,q.cdModule,G,y,w),-1===i.clipOnAxisFalseQuery.indexOf("."+H)&&M.setClipUrl(G,T.layerClipId,p)}),O._has("scattergl")&&(m=E.getModule("scattergl"),k=v(_,m)[0],m.plot(p,T,k)),!p._context.staticPlot&&(T._hasClipOnAxisFalse&&(T.clipOnAxisFalseTraces=T.plot.selectAll(i.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),P.length)){var V=T.plot.selectAll(P.join(",")).selectAll(".trace");T.zoomScalePts=V.selectAll("path.point"),T.zoomScaleTxt=V.selectAll(".textpoint")}}function s(p,T){var _=T.plotgroup,y=T.id,w=i.layerValue2layerClass[T.xaxis.layer],m=i.layerValue2layerClass[T.yaxis.layer],b=p._fullLayout._hasOnlyLargeSploms;if(T.mainplot){var k=T.mainplotinfo,h=k.plotgroup,O=y+"-x",A=y+"-y";T.minorGridlayer=k.minorGridlayer,T.gridlayer=k.gridlayer,T.zerolinelayer=k.zerolinelayer,a(k.overlinesBelow,"path",O),a(k.overlinesBelow,"path",A),a(k.overaxesBelow,"g",O),a(k.overaxesBelow,"g",A),T.plot=a(k.overplot,"g",y),a(k.overlinesAbove,"path",O),a(k.overlinesAbove,"path",A),a(k.overaxesAbove,"g",O),a(k.overaxesAbove,"g",A),T.xlines=h.select(".overlines-"+w).select("."+O),T.ylines=h.select(".overlines-"+m).select("."+A),T.xaxislayer=h.select(".overaxes-"+w).select("."+O),T.yaxislayer=h.select(".overaxes-"+m).select("."+A)}else if(b)T.xlines=a(_,"path","xlines-above"),T.ylines=a(_,"path","ylines-above"),T.xaxislayer=a(_,"g","xaxislayer-above"),T.yaxislayer=a(_,"g","yaxislayer-above");else{var I=a(_,"g","layer-subplot");T.shapelayer=a(I,"g","shapelayer"),T.imagelayer=a(I,"g","imagelayer"),T.minorGridlayer=a(_,"g","minor-gridlayer"),T.gridlayer=a(_,"g","gridlayer"),T.zerolinelayer=a(_,"g","zerolinelayer"),a(_,"path","xlines-below"),a(_,"path","ylines-below"),T.overlinesBelow=a(_,"g","overlines-below"),a(_,"g","xaxislayer-below"),a(_,"g","yaxislayer-below"),T.overaxesBelow=a(_,"g","overaxes-below"),T.plot=a(_,"g","plot"),T.overplot=a(_,"g","overplot"),T.xlines=a(_,"path","xlines-above"),T.ylines=a(_,"path","ylines-above"),T.overlinesAbove=a(_,"g","overlines-above"),a(_,"g","xaxislayer-above"),a(_,"g","yaxislayer-above"),T.overaxesAbove=a(_,"g","overaxes-above"),T.xlines=_.select(".xlines-"+w),T.ylines=_.select(".ylines-"+m),T.xaxislayer=_.select(".xaxislayer-"+w),T.yaxislayer=_.select(".yaxislayer-"+m)}b||(o(T.minorGridlayer,"g",T.xaxis._id),o(T.minorGridlayer,"g",T.yaxis._id),T.minorGridlayer.selectAll("g").map(function(P){return P[0]}).sort(c.idSort),o(T.gridlayer,"g",T.xaxis._id),o(T.gridlayer,"g",T.yaxis._id),T.gridlayer.selectAll("g").map(function(P){return P[0]}).sort(c.idSort)),T.xlines.style("fill","none").classed("crisp",!0),T.ylines.style("fill","none").classed("crisp",!0)}function d(p,T){if(p){var _={};for(var y in p.each(function(k){var h=k[0];C.select(this).remove(),g(h,T),_[h]=!0}),T._plots)for(var w=T._plots[y].overlays||[],m=0;m<w.length;m++){var b=w[m];_[b.id]&&b.plot.selectAll(".trace").remove()}}}function g(p,T){T._draggers.selectAll("g."+p).remove(),T._defs.select("#clip"+T._uid+p+"plot").remove()}z.name="cartesian",z.attr=["xaxis","yaxis"],z.idRoot=["x","y"],z.idRegex=i.idRegex,z.attrRegex=i.attrRegex,z.attributes=r(89502),z.layoutAttributes=r(13838),z.supplyLayoutDefaults=r(86763),z.transitionAxes=r(66847),z.finalizeSubplots=function(p,T){var _,y,w,m=T._subplots,b=m.xaxis,k=m.yaxis,h=m.cartesian,O=h.concat(m.gl2d||[]),A={},I={};for(_=0;_<O.length;_++){var P=O[_].split("y");A[P[0]]=1,I["y"+P[1]]=1}for(_=0;_<b.length;_++)A[y=b[_]]||(w=(p[c.id2name(y)]||{}).anchor,i.idRegex.y.test(w)||(w="y"),h.push(y+w),O.push(y+w),I[w]||(I[w]=1,f.pushUnique(k,w)));for(_=0;_<k.length;_++)I[w=k[_]]||(y=(p[c.id2name(w)]||{}).anchor,i.idRegex.x.test(y)||(y="x"),h.push(y+w),O.push(y+w),A[y]||(A[y]=1,f.pushUnique(b,y)));if(!O.length){for(var L in y="",w="",p)i.attrRegex.test(L)&&("x"===L.charAt(0)?(!y||+L.substr(5)<+y.substr(5))&&(y=L):(!w||+L.substr(5)<+w.substr(5))&&(w=L));y=y?c.name2id(y):"x",w=w?c.name2id(w):"y",b.push(y),k.push(w),h.push(y+w)}},z.plot=function(p,T,_,y){var w,m=p._fullLayout,b=m._subplots.cartesian,k=p.calcdata;if(!Array.isArray(T))for(T=[],w=0;w<k.length;w++)T.push(w);for(w=0;w<b.length;w++){for(var h,O=b[w],A=m._plots[O],I=[],P=0;P<k.length;P++){var L=k[P],N=L[0].trace;N.xaxis+N.yaxis===O&&((-1!==T.indexOf(N.index)||N.carpet)&&(h&&h[0].trace.xaxis+h[0].trace.yaxis===O&&-1!==["tonextx","tonexty","tonext"].indexOf(N.fill)&&-1===I.indexOf(h)&&I.push(h),I.push(L)),h=L)}l(p,A,I,_,y)}},z.clean=function(p,T,_,y){var w,m,b,k=y._plots||{},h=T._plots||{},O=y._subplots||{};if(y._hasOnlyLargeSploms&&!T._hasOnlyLargeSploms)for(b in k)(w=k[b]).plotgroup&&w.plotgroup.remove();var A=y._has&&y._has("gl"),I=T._has&&T._has("gl");if(A&&!I)for(b in k)(w=k[b])._scene&&w._scene.destroy();if(O.xaxis&&O.yaxis){var P=c.listIds({_fullLayout:y});for(m=0;m<P.length;m++){var L=P[m];T[c.id2name(L)]||y._infolayer.selectAll(".g-"+L+"title").remove()}}var N=y._has&&y._has("cartesian"),B=T._has&&T._has("cartesian");if(N&&!B)d(y._cartesianlayer.selectAll(".subplot"),y),y._defs.selectAll(".axesclip").remove(),delete y._axisConstraintGroups,delete y._axisMatchGroups;else if(O.cartesian)for(m=0;m<O.cartesian.length;m++){var W=O.cartesian[m];h[W]||(y._cartesianlayer.selectAll("."+W+",."+W+"-x,."+W+"-y").remove(),g(W,y))}},z.drawFramework=function(p){var T=p._fullLayout,_=function(w){var m,b,k,h,O,A,I=w._fullLayout,P=I._subplots.cartesian,L=P.length,N=[],B=[];for(m=0;m<L;m++){var Z=(O=(h=I._plots[k=P[m]]).xaxis)._mainAxis._id+(A=h.yaxis)._mainAxis._id,V=I._plots[Z];h.overlays=[],Z!==k&&V?(h.mainplot=Z,h.mainplotinfo=V,B.push(k)):(h.mainplot=void 0,h.mainplotinfo=void 0,N.push(k))}for(m=0;m<B.length;m++)(h=I._plots[k=B[m]]).mainplotinfo.overlays.push(h);var q=N.concat(B),G=new Array(L);for(m=0;m<L;m++){var H=[k=q[m],(O=(h=I._plots[k]).xaxis).layer,(A=h.yaxis).layer,O.overlaying||"",A.overlaying||""];for(b=0;b<h.overlays.length;b++)H.push(h.overlays[b].id);G[m]=H}return G}(p),y=T._cartesianlayer.selectAll(".subplot").data(_,String);y.enter().append("g").attr("class",function(w){return"subplot "+w[0]}),y.order(),y.exit().call(d,T),y.each(function(w){var m=w[0],b=T._plots[m];b.plotgroup=C.select(this),s(p,b),b.draglayer=a(T._draggers,"g",m)})},z.rangePlot=function(p,T,_){s(p,T),l(p,T,_),S.style(p)},z.toSVG=function(p){var T=p._fullLayout._glimages,_=C.select(p).selectAll(".svg-container");_.filter(function(y,w){return w===_.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var y=this,w=y.toDataURL("image/png");T.append("svg:image").attr({xmlns:u.svg,"xlink:href":w,preserveAspectRatio:"none",x:0,y:0,width:y.style.width,height:y.style.height})})},z.updateFx=r(4305).updateFx},13838:function(ie,z,r){"use strict";var C=r(41940),E=r(22399),f=r(79952).P,S=r(1426).extendFlat,M=r(44467).templatedArray,v=r(12663).descriptionWithDates,c=r(50606).ONEDAY,i=r(85555),u=i.HOUR_PATTERN,a=i.WEEKDAY_PATTERN,o={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},l=S({},o,{values:o.values.slice().concat(["sync"])});function s(O){return{valType:"integer",min:0,dflt:O?5:0,editType:"ticks"}}var d={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},g={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},p={valType:"data_array",editType:"ticks"},T={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function _(O){var A={valType:"number",min:0,editType:"ticks"};return O||(A.dflt=5),A}function y(O){var A={valType:"number",min:0,editType:"ticks"};return O||(A.dflt=1),A}var w={valType:"color",dflt:E.defaultLine,editType:"ticks"},m={valType:"color",dflt:E.lightLine,editType:"ticks"};function b(O){var A={valType:"number",min:0,editType:"ticks"};return O||(A.dflt=1),A}var k=S({},f,{editType:"ticks"}),h={valType:"boolean",editType:"ticks"};ie.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:E.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:C({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[i.idRegex.x.toString(),i.idRegex.y.toString()],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[i.idRegex.x.toString(),i.idRegex.y.toString()],editType:"calc"},rangebreaks:M("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[a,u,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:c},editType:"calc"}),tickmode:l,nticks:s(),tick0:d,dtick:g,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:p,ticktext:{valType:"data_array",editType:"ticks"},ticks:T,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:_(),tickwidth:y(),tickcolor:w,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:S({},f,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:C({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:v("tick label")},tickformatstops:M("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:v("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:E.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:h,gridcolor:m,gridwidth:b(),griddash:k,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:E.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:E.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",i.idRegex.x.toString(),i.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",i.idRegex.x.toString(),i.idRegex.y.toString()],editType:"plot"},minor:{tickmode:o,nticks:s("minor"),tick0:d,dtick:g,tickvals:p,ticks:T,ticklen:_("minor"),tickwidth:y("minor"),tickcolor:w,gridcolor:m,gridwidth:b("minor"),griddash:k,showgrid:h,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:C({editType:"ticks"})}}},86763:function(ie,z,r){"use strict";var C=r(71828),E=r(7901),f=r(23469).isUnifiedHover,S=r(98212),M=r(44467),v=r(10820),c=r(13838),i=r(951),u=r(71453),a=r(99082),o=r(52830),l=r(41675),s=l.id2name,d=l.name2id,g=r(85555).AX_ID_PATTERN,p=r(73972),T=p.traceIs,_=p.getComponentMethod;function y(w,m,b){Array.isArray(w[m])?w[m].push(b):w[m]=[b]}ie.exports=function(w,m,b){var k,h,O=m.autotypenumbers,A={},I={},P={},L={},N={},B={},W={},j={},Z={},V={};for(k=0;k<b.length;k++){var q=b[k];if(T(q,"cartesian")||T(q,"gl2d")){var G,H;if(q.xaxis)G=s(q.xaxis),y(A,G,q);else if(q.xaxes)for(h=0;h<q.xaxes.length;h++)y(A,s(q.xaxes[h]),q);if(q.yaxis)H=s(q.yaxis),y(A,H,q);else if(q.yaxes)for(h=0;h<q.yaxes.length;h++)y(A,s(q.yaxes[h]),q);"funnel"===q.type?"h"===q.orientation?(G&&(I[G]=!0),H&&(W[H]=!0)):H&&(P[H]=!0):"image"===q.type?(H&&(j[H]=!0),G&&(j[G]=!0)):(H&&(N[H]=!0,B[H]=!0),T(q,"carpet")&&("carpet"!==q.type||q._cheater)||G&&(L[G]=!0)),"carpet"===q.type&&q._cheater&&G&&(I[G]=!0),T(q,"2dMap")&&(Z[G]=!0,Z[H]=!0),T(q,"oriented")&&(V["h"===q.orientation?H:G]=!0)}}var ne=m._subplots,X=ne.xaxis,$=ne.yaxis,Q=C.simpleMap(X,s),te=C.simpleMap($,s),re=Q.concat(te),le=E.background;X.length&&$.length&&(le=C.coerce(w,m,v,"plot_bgcolor"));var ue,he,ge,xe,ke,Ae=E.combine(le,m.paper_bgcolor);function pe(){ke._traceIndices=(A[ue]||[]).map(function(Ut){return Ut._expandedIndex}),ke._annIndices=[],ke._shapeIndices=[],ke._selectionIndices=[],ke._imgIndices=[],ke._subplotsWith=[],ke._counterAxes=[],ke._name=ke._attr=ue,ke._id=he}function ye(Bt,Ut){return C.coerce(xe,ke,c,Bt,Ut)}function Ne(Bt,Ut){return C.coerce2(xe,ke,c,Bt,Ut)}function be(Bt){return"x"===Bt?$:X}function Ee(Bt,Ut){for(var Vt="x"===Bt?Q:te,tn=[],Gt=0;Gt<Vt.length;Gt++){var et=Vt[Gt];et===Ut||(w[et]||{}).overlaying||tn.push(d(et))}return tn}var Oe={x:be("x"),y:be("y")},De=Oe.x.concat(Oe.y),oe={},de=[];function _e(){var Bt=xe.matches;g.test(Bt)&&-1===De.indexOf(Bt)&&(oe[Bt]=xe.type,de=Object.keys(oe))}var Me=S(w,m),Pe=f(Me);for(k=0;k<re.length;k++){he=d(ue=re[k]),ge=ue.charAt(0),C.isPlainObject(w[ue])||(w[ue]={}),xe=w[ue],ke=M.newContainer(m,ue,ge+"axis"),pe();var Ve={hasMinor:!0,letter:ge,font:m.font,outerTicks:Z[ue],showGrid:!V[ue],data:A[ue]||[],bgColor:Ae,calendar:m.calendar,automargin:!0,visibleDflt:"x"===ge&&!L[ue]&&I[ue]||"y"===ge&&!N[ue]&&P[ue],reverseDflt:"y"===ge&&(!B[ue]&&W[ue]||j[ue]),autotypenumbersDflt:O,splomStash:((m._splomAxes||{})[ge]||{})[he]};ye("uirevision",m.uirevision),i(xe,ke,ye,Ve),u(xe,ke,ye,Ve,m);var ve=Pe&&ge===Me.charAt(0),Te=Ne("spikecolor",Pe?ke.color:void 0),Ce=Ne("spikethickness",Pe?1.5:void 0),We=Ne("spikedash",Pe?"dot":void 0),Ke=Ne("spikemode",Pe?"across":void 0),Je=Ne("spikesnap");ye("showspikes",!!(ve||Te||Ce||We||Ke||Je))||(delete ke.spikecolor,delete ke.spikethickness,delete ke.spikedash,delete ke.spikemode,delete ke.spikesnap);var ht=s(xe.overlaying),ft=[0,1];if(void 0!==m[ht]){var mt=s(m[ht].anchor);void 0!==m[mt]&&(ft=m[mt].domain)}o(xe,ke,ye,{letter:ge,counterAxes:Oe[ge],overlayableAxes:Ee(ge,ue),grid:m.grid,overlayingDomain:ft}),ye("title.standoff"),_e(),ke._input=xe}for(k=0;k<de.length;){he=de[k++],ge=(ue=s(he)).charAt(0),C.isPlainObject(w[ue])||(w[ue]={}),xe=w[ue],ke=M.newContainer(m,ue,ge+"axis"),pe();var At={letter:ge,font:m.font,outerTicks:Z[ue],showGrid:!V[ue],data:[],bgColor:Ae,calendar:m.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:O,splomStash:((m._splomAxes||{})[ge]||{})[he]};ye("uirevision",m.uirevision),ke.type=oe[he]||"linear",u(xe,ke,ye,At,m),o(xe,ke,ye,{letter:ge,counterAxes:Oe[ge],overlayableAxes:Ee(ge,ue),grid:m.grid}),ye("fixedrange"),_e(),ke._input=xe}var Rt=_("rangeslider","handleDefaults"),It=_("rangeselector","handleDefaults");for(k=0;k<Q.length;k++)xe=w[ue=Q[k]],ke=m[ue],Rt(w,m,ue),"date"===ke.type&&It(xe,ke,m,te,ke.calendar),ye("fixedrange");for(k=0;k<te.length;k++){xe=w[ue=te[k]];var Pt=m[s((ke=m[ue]).anchor)];ye("fixedrange",_("rangeslider","isVisible")(Pt))}a.handleDefaults(w,m,{axIds:De.concat(de).sort(l.idSort),axHasImage:j})}},92128:function(ie,z,r){"use strict";var C=r(84267).mix,E=r(22399),f=r(71828);ie.exports=function(S,M,v,c){var i=(c=c||{}).dfltColor;function u(w,m){return f.coerce2(S,M,c.attributes,w,m)}var a=u("linecolor",i),o=u("linewidth");v("showline",c.showLine||!!a||!!o)||(delete M.linecolor,delete M.linewidth);var l=u("gridcolor",C(i,c.bgColor,c.blend||E.lightFraction).toRgbString()),s=u("gridwidth"),d=u("griddash");if(v("showgrid",c.showGrid||!!l||!!s||!!d)||(delete M.gridcolor,delete M.gridwidth,delete M.griddash),c.hasMinor){var g=u("minor.gridcolor",C(M.gridcolor,c.bgColor,67).toRgbString()),p=u("minor.gridwidth",M.gridwidth||1),T=u("minor.griddash",M.griddash||"solid");v("minor.showgrid",!!g||!!p||!!T)||(delete M.minor.gridcolor,delete M.minor.gridwidth,delete M.minor.griddash)}if(!c.noZeroLine){var _=u("zerolinecolor",i),y=u("zerolinewidth");v("zeroline",c.showGrid||!!_||!!y)||(delete M.zerolinecolor,delete M.zerolinewidth)}}},52830:function(ie,z,r){"use strict";var C=r(92770),E=r(71828);ie.exports=function(f,S,M,v){var c,i,u,a,o,l,s=v.counterAxes||[],d=v.overlayableAxes||[],g=v.letter,p=v.grid,T=v.overlayingDomain;p&&(c=p._anchors[S._id],(i=p._domains[g][p._axisMap[S._id]])&&(u=p[g+"side"].split(" ")[0],a=p.domain[g]["right"===u||"top"===u?1:0])),i=i||[0,1],c=c||(C(f.position)?"free":s[0]||"free"),u=u||("x"===g?"bottom":"left"),a=a||0,o=0,l=!1;var _=E.coerce(f,S,{anchor:{valType:"enumerated",values:["free"].concat(s),dflt:c}},"anchor"),y=E.coerce(f,S,{side:{valType:"enumerated",values:"x"===g?["bottom","top"]:["left","right"],dflt:u}},"side");"free"===_&&("y"===g&&(M("autoshift")&&(a="left"===y?T[0]:T[1],l=!S.automargin||S.automargin,o="left"===y?-3:3),M("shift",o)),M("position",a)),M("automargin",l);var w=!1;if(d.length&&(w=E.coerce(f,S,{overlaying:{valType:"enumerated",values:[!1].concat(d),dflt:!1}},"overlaying")),!w){var m=M("domain",i);m[0]>m[1]-.000244140625&&(S.domain=i),E.noneOrAll(f.domain,S.domain,i),"sync"===S.tickmode&&(S.tickmode="auto")}return M("layer"),S}},89426:function(ie,z,r){"use strict";var C=r(59652);ie.exports=function(E,f,S,M,v){v||(v={});var c=v.tickSuffixDflt,i=C(E);S("tickprefix")&&S("showtickprefix",i),S("ticksuffix",c)&&S("showticksuffix",i)}},42449:function(ie,z,r){"use strict";var C=r(18783).FROM_BL;ie.exports=function(E,f,S){void 0===S&&(S=C[E.constraintoward||"center"]);var M=[E.r2l(E.range[0]),E.r2l(E.range[1])],v=M[0]+(M[1]-M[0])*S;E.range=E._input.range=[E.l2r(v+(M[0]-v)*f),E.l2r(v+(M[1]-v)*f)],E.setScale()}},21994:function(ie,z,r){"use strict";var C=r(39898),E=r(84096).g0,f=r(71828),S=f.numberFormat,M=r(92770),v=f.cleanNumber,c=f.ms2DateTime,i=f.dateTime2ms,u=f.ensureNumber,a=f.isArrayOrTypedArray,o=r(50606),l=o.FP_SAFE,s=o.BADNUM,d=o.LOG_CLIP,g=o.ONEWEEK,p=o.ONEDAY,T=o.ONEHOUR,_=o.ONEMIN,y=o.ONESEC,w=r(41675),m=r(85555),b=m.HOUR_PATTERN,k=m.WEEKDAY_PATTERN;function h(A){return Math.pow(10,A)}function O(A){return null!=A}ie.exports=function(A,I){I=I||{};var P=A._id||"x",L=P.charAt(0);function N(re,le){if(re>0)return Math.log(re)/Math.LN10;if(re<=0&&le&&A.range&&2===A.range.length){var ue=A.range[0],he=A.range[1];return.5*(ue+he-2*d*Math.abs(ue-he))}return s}function B(re,le,ue,he){if((he||{}).msUTC&&M(re))return+re;var ge=i(re,ue||A.calendar);if(ge===s){if(!M(re))return s;re=+re;var xe=Math.floor(10*f.mod(re+.05,1)),ke=Math.round(re-xe/10);ge=i(new Date(ke))+xe/10}return ge}function W(re,le,ue){return c(re,le,ue||A.calendar)}function j(re){return A._categories[Math.round(re)]}function Z(re){if(O(re)){if(void 0===A._categoriesMap&&(A._categoriesMap={}),void 0!==A._categoriesMap[re])return A._categoriesMap[re];A._categories.push("number"==typeof re?String(re):re);var le=A._categories.length-1;return A._categoriesMap[re]=le,le}return s}function V(re){if(A._categoriesMap)return A._categoriesMap[re]}function q(re){var le=V(re);return void 0!==le?le:M(re)?+re:void 0}function G(re){return M(re)?+re:V(re)}function H(re,le,ue){return C.round(ue+le*re,2)}function ne(re,le,ue){return(re-ue)/le}var X=function(re){return M(re)?H(re,A._m,A._b):s},$=function(re){return ne(re,A._m,A._b)};if(A.rangebreaks){var Q="y"===L;X=function(re){if(!M(re))return s;var le=A._rangebreaks.length;if(!le)return H(re,A._m,A._b);var ue=Q;A.range[0]>A.range[1]&&(ue=!ue);for(var he=ue?-1:1,ge=he*re,xe=0,ke=0;ke<le;ke++){var Ae=he*A._rangebreaks[ke].min,pe=he*A._rangebreaks[ke].max;if(ge<Ae)break;if(!(ge>pe)){xe=ge<(Ae+pe)/2?ke:ke+1;break}xe=ke+1}var ye=A._B[xe]||0;return isFinite(ye)?H(re,A._m2,ye):0},$=function(re){var le=A._rangebreaks.length;if(!le)return ne(re,A._m,A._b);for(var ue=0,he=0;he<le&&!(re<A._rangebreaks[he].pmin);he++)re>A._rangebreaks[he].pmax&&(ue=he+1);return ne(re,A._m2,A._B[ue])}}A.c2l="log"===A.type?N:u,A.l2c="log"===A.type?h:u,A.l2p=X,A.p2l=$,A.c2p="log"===A.type?function(re,le){return X(N(re,le))}:X,A.p2c="log"===A.type?function(re){return h($(re))}:$,-1!==["linear","-"].indexOf(A.type)?(A.d2r=A.r2d=A.d2c=A.r2c=A.d2l=A.r2l=v,A.c2d=A.c2r=A.l2d=A.l2r=u,A.d2p=A.r2p=function(re){return A.l2p(v(re))},A.p2d=A.p2r=$,A.cleanPos=u):"log"===A.type?(A.d2r=A.d2l=function(re,le){return N(v(re),le)},A.r2d=A.r2c=function(re){return h(v(re))},A.d2c=A.r2l=v,A.c2d=A.l2r=u,A.c2r=N,A.l2d=h,A.d2p=function(re,le){return A.l2p(A.d2r(re,le))},A.p2d=function(re){return h($(re))},A.r2p=function(re){return A.l2p(v(re))},A.p2r=$,A.cleanPos=u):"date"===A.type?(A.d2r=A.r2d=f.identity,A.d2c=A.r2c=A.d2l=A.r2l=B,A.c2d=A.c2r=A.l2d=A.l2r=W,A.d2p=A.r2p=function(re,le,ue){return A.l2p(B(re,0,ue))},A.p2d=A.p2r=function(re,le,ue){return W($(re),le,ue)},A.cleanPos=function(re){return f.cleanDate(re,s,A.calendar)}):"category"===A.type?(A.d2c=A.d2l=Z,A.r2d=A.c2d=A.l2d=j,A.d2r=A.d2l_noadd=q,A.r2c=function(re){var le=G(re);return void 0!==le?le:A.fraction2r(.5)},A.l2r=A.c2r=u,A.r2l=G,A.d2p=function(re){return A.l2p(A.r2c(re))},A.p2d=function(re){return j($(re))},A.r2p=A.d2p,A.p2r=$,A.cleanPos=function(re){return"string"==typeof re&&""!==re?re:u(re)}):"multicategory"===A.type&&(A.r2d=A.c2d=A.l2d=j,A.d2r=A.d2l_noadd=q,A.r2c=function(re){var le=q(re);return void 0!==le?le:A.fraction2r(.5)},A.r2c_just_indices=V,A.l2r=A.c2r=u,A.r2l=q,A.d2p=function(re){return A.l2p(A.r2c(re))},A.p2d=function(re){return j($(re))},A.r2p=A.d2p,A.p2r=$,A.cleanPos=function(re){return Array.isArray(re)||"string"==typeof re&&""!==re?re:u(re)},A.setupMultiCategory=function(re){var le,ue,he=A._traceIndices,ge=A._matchGroup;if(ge&&0===A._categories.length)for(var xe in ge)if(xe!==P){var ke=I[w.id2name(xe)];he=he.concat(ke._traceIndices)}var Ae=[[0,{}],[0,{}]],pe=[];for(le=0;le<he.length;le++){var ye=re[he[le]];if(L in ye){var Ne=ye[L],be=ye._length||f.minRowLength(Ne);if(a(Ne[0])&&a(Ne[1]))for(ue=0;ue<be;ue++){var Ee=Ne[0][ue],Oe=Ne[1][ue];O(Ee)&&O(Oe)&&(pe.push([Ee,Oe]),Ee in Ae[0][1]||(Ae[0][1][Ee]=Ae[0][0]++),Oe in Ae[1][1]||(Ae[1][1][Oe]=Ae[1][0]++))}}}for(pe.sort(function(De,oe){var de=Ae[0][1],_e=de[De[0]]-de[oe[0]];if(_e)return _e;var Me=Ae[1][1];return Me[De[1]]-Me[oe[1]]}),le=0;le<pe.length;le++)Z(pe[le])}),A.fraction2r=function(re){var le=A.r2l(A.range[0]),ue=A.r2l(A.range[1]);return A.l2r(le+re*(ue-le))},A.r2fraction=function(re){var le=A.r2l(A.range[0]),ue=A.r2l(A.range[1]);return(A.r2l(re)-le)/(ue-le)},A.cleanRange=function(re,le){le||(le={}),re||(re="range");var ue,he,ge=f.nestedProperty(A,re).get();if(he=(he="date"===A.type?f.dfltRange(A.calendar):"y"===L?m.DFLTRANGEY:"realaxis"===A._name?[0,1]:le.dfltRange||m.DFLTRANGEX).slice(),"tozero"!==A.rangemode&&"nonnegative"!==A.rangemode||(he[0]=0),ge&&2===ge.length)for("date"!==A.type||A.autorange||(ge[0]=f.cleanDate(ge[0],s,A.calendar),ge[1]=f.cleanDate(ge[1],s,A.calendar)),ue=0;ue<2;ue++)if("date"===A.type){if(!f.isDateTime(ge[ue],A.calendar)){A[re]=he;break}if(A.r2l(ge[0])===A.r2l(ge[1])){var xe=f.constrain(A.r2l(ge[0]),f.MIN_MS+1e3,f.MAX_MS-1e3);ge[0]=A.l2r(xe-1e3),ge[1]=A.l2r(xe+1e3);break}}else{if(!M(ge[ue])){if(!M(ge[1-ue])){A[re]=he;break}ge[ue]=ge[1-ue]*(ue?10:.1)}if(ge[ue]<-l?ge[ue]=-l:ge[ue]>l&&(ge[ue]=l),ge[0]===ge[1]){var ke=Math.max(1,Math.abs(1e-6*ge[0]));ge[0]-=ke,ge[1]+=ke}}else f.nestedProperty(A,re).set(he)},A.setScale=function(re){var le=I._size;if(A.overlaying){var ue=w.getFromId({_fullLayout:I},A.overlaying);A.domain=ue.domain}var he=re&&A._r?"_r":"range",ge=A.calendar;A.cleanRange(he);var xe,ke,Ae=A.r2l(A[he][0],ge),pe=A.r2l(A[he][1],ge),ye="y"===L;if(ye?(A._offset=le.t+(1-A.domain[1])*le.h,A._length=le.h*(A.domain[1]-A.domain[0]),A._m=A._length/(Ae-pe),A._b=-A._m*pe):(A._offset=le.l+A.domain[0]*le.w,A._length=le.w*(A.domain[1]-A.domain[0]),A._m=A._length/(pe-Ae),A._b=-A._m*Ae),A._rangebreaks=[],A._lBreaks=0,A._m2=0,A._B=[],A.rangebreaks&&(A._rangebreaks=A.locateBreaks(Math.min(Ae,pe),Math.max(Ae,pe)),A._rangebreaks.length)){for(xe=0;xe<A._rangebreaks.length;xe++)ke=A._rangebreaks[xe],A._lBreaks+=Math.abs(ke.max-ke.min);var Ne=ye;Ae>pe&&(Ne=!Ne),Ne&&A._rangebreaks.reverse();var be=Ne?-1:1;for(A._m2=be*A._length/(Math.abs(pe-Ae)-A._lBreaks),A._B.push(-A._m2*(ye?pe:Ae)),xe=0;xe<A._rangebreaks.length;xe++)A._B.push(A._B[A._B.length-1]-be*A._m2*((ke=A._rangebreaks[xe]).max-ke.min));for(xe=0;xe<A._rangebreaks.length;xe++)(ke=A._rangebreaks[xe]).pmin=X(ke.min),ke.pmax=X(ke.max)}if(!isFinite(A._m)||!isFinite(A._b)||A._length<0)throw I._replotting=!1,new Error("Something went wrong with axis scaling")},A.maskBreaks=function(re){var le,ue,he,ge,xe,ke=A.rangebreaks||[];ke._cachedPatterns||(ke._cachedPatterns=ke.map(function(Ee){return Ee.enabled&&Ee.bounds?f.simpleMap(Ee.bounds,Ee.pattern?v:A.d2c):null})),ke._cachedValues||(ke._cachedValues=ke.map(function(Ee){return Ee.enabled&&Ee.values?f.simpleMap(Ee.values,A.d2c).sort(f.sorterAsc):null}));for(var Ae=0;Ae<ke.length;Ae++){var pe=ke[Ae];if(pe.enabled)if(pe.bounds){switch(ue=(le=ke._cachedPatterns[Ae])[0],he=le[1],pe.pattern){case k:ge=(xe=new Date(re)).getUTCDay(),ue>he&&(he+=7,ge<ue&&(ge+=7));break;case b:ge=(xe=new Date(re)).getUTCHours()+(xe.getUTCMinutes()/60+xe.getUTCSeconds()/3600+xe.getUTCMilliseconds()/36e5),ue>he&&(he+=24,ge<ue&&(ge+=24));break;case"":ge=re}if(ge>=ue&&ge<he)return s}else for(var Ne=ke._cachedValues[Ae],be=0;be<Ne.length;be++)if(he=(ue=Ne[be])+pe.dvalue,re>=ue&&re<he)return s}return re},A.locateBreaks=function(re,le){var ue,he,ge,xe,ke=[];if(!A.rangebreaks)return ke;var Ae=A.rangebreaks.slice().sort(function(Me,Pe){return Me.pattern===k&&Pe.pattern===b?-1:Pe.pattern===k&&Me.pattern===b?1:0}),pe=function(Me,Pe){if((Me=f.constrain(Me,re,le))!==(Pe=f.constrain(Pe,re,le))){for(var Ue=!0,Be=0;Be<ke.length;Be++){var Ve=ke[Be];Me<Ve.max&&Pe>=Ve.min&&(Me<Ve.min&&(Ve.min=Me),Pe>Ve.max&&(Ve.max=Pe),Ue=!1)}Ue&&ke.push({min:Me,max:Pe})}};for(ue=0;ue<Ae.length;ue++){var ye=Ae[ue];if(ye.enabled)if(ye.bounds){var Ne=re,be=le;ye.pattern&&(Ne=Math.floor(Ne)),ge=(he=f.simpleMap(ye.bounds,ye.pattern?v:A.r2l))[0],xe=he[1];var Ee,Oe,De=new Date(Ne);switch(ye.pattern){case k:Oe=g,Ee=(xe-ge+(xe<ge?7:0))*p,Ne+=ge*p-(De.getUTCDay()*p+De.getUTCHours()*T+De.getUTCMinutes()*_+De.getUTCSeconds()*y+De.getUTCMilliseconds());break;case b:Oe=p,Ee=(xe-ge+(xe<ge?24:0))*T,Ne+=ge*T-(De.getUTCHours()*T+De.getUTCMinutes()*_+De.getUTCSeconds()*y+De.getUTCMilliseconds());break;default:Ne=Math.min(he[0],he[1]),Ee=Oe=(be=Math.max(he[0],he[1]))-Ne}for(var oe=Ne;oe<be;oe+=Oe)pe(oe,oe+Ee)}else for(var de=f.simpleMap(ye.values,A.d2c),_e=0;_e<de.length;_e++)pe(ge=de[_e],xe=ge+ye.dvalue)}return ke.sort(function(Me,Pe){return Me.min-Pe.min}),ke},A.makeCalcdata=function(re,le,ue){var he,ge,xe,ke,Ae=A.type,pe="date"===Ae&&re[le+"calendar"];if(le in re){if(he=re[le],ke=re._length||f.minRowLength(he),f.isTypedArray(he)&&("linear"===Ae||"log"===Ae)){if(ke===he.length)return he;if(he.subarray)return he.subarray(0,ke)}if("multicategory"===Ae)return function(be,Ee){for(var Oe=new Array(Ee),De=0;De<Ee;De++)Oe[De]=V([(be[0]||[])[De],(be[1]||[])[De]]);return Oe}(he,ke);for(ge=new Array(ke),xe=0;xe<ke;xe++)ge[xe]=A.d2c(he[xe],0,pe,ue)}else{var ye=le+"0"in re?A.d2c(re[le+"0"],0,pe):0,Ne=re["d"+le]?Number(re["d"+le]):1;for(he=re[{x:"y",y:"x"}[le]],ke=re._length||he.length,ge=new Array(ke),xe=0;xe<ke;xe++)ge[xe]=ye+xe*Ne}if(A.rangebreaks)for(xe=0;xe<ke;xe++)ge[xe]=A.maskBreaks(ge[xe]);return ge},A.isValidRange=function(re){return Array.isArray(re)&&2===re.length&&M(A.r2l(re[0]))&&M(A.r2l(re[1]))},A.isPtWithinRange=function(re,le){var ue=A.c2l(re[L],null,le),he=A.r2l(A.range[0]),ge=A.r2l(A.range[1]);return he<ge?he<=ue&&ue<=ge:ge<=ue&&ue<=he},A._emptyCategories=function(){A._categories=[],A._categoriesMap={}},A.clearCalc=function(){var re=A._matchGroup;if(re){var le=null,ue=null;for(var he in re){var ge=I[w.id2name(he)];if(ge._categories){le=ge._categories,ue=ge._categoriesMap;break}}le&&ue?(A._categories=le,A._categoriesMap=ue):A._emptyCategories()}else A._emptyCategories();if(A._initialCategories)for(var xe=0;xe<A._initialCategories.length;xe++)Z(A._initialCategories[xe])},A.sortByInitialCategories=function(){var re=[];if(A._emptyCategories(),A._initialCategories)for(var le=0;le<A._initialCategories.length;le++)Z(A._initialCategories[le]);re=re.concat(A._traceIndices);var ue=A._matchGroup;for(var he in ue)if(P!==he){var ge=I[w.id2name(he)];ge._categories=A._categories,ge._categoriesMap=A._categoriesMap,re=re.concat(ge._traceIndices)}return re};var te=I._d3locale;"date"===A.type&&(A._dateFormat=te?te.timeFormat:E,A._extraFormat=I._extraFormat),A._separators=I.separators,A._numFormat=te?te.numberFormat:S,delete A._minDtick,delete A._forceTick0}},59652:function(ie){"use strict";ie.exports=function(z){var r=["showexponent","showtickprefix","showticksuffix"].filter(function(C){return void 0!==z[C]});if(r.every(function(C){return z[C]===z[r[0]]})||1===r.length)return z[r[0]]}},96115:function(ie,z,r){"use strict";var C=r(71828),E=r(7901).contrast,f=r(13838),S=r(59652),M=r(85501);function v(c,i){function u(a,o){return C.coerce(c,i,f.tickformatstops,a,o)}u("enabled")&&(u("dtickrange"),u("value"))}ie.exports=function(c,i,u,a,o){o||(o={});var l=S(c);if(u("showticklabels")){var s=o.font||{},d=i.color,g=-1!==(i.ticklabelposition||"").indexOf("inside")?E(o.bgColor):d&&d!==f.color.dflt?d:s.color;if(C.coerceFont(u,"tickfont",{family:s.family,size:s.size,color:g}),o.noTicklabelstep||"multicategory"===a||"log"===a||u("ticklabelstep"),o.noAng||u("tickangle"),"category"!==a){var p=u("tickformat");M(c,i,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:v}),i.tickformatstops.length||delete i.tickformatstops,o.noExp||p||"date"===a||(u("showexponent",l),u("exponentformat"),u("minexponent"),u("separatethousands"))}}}},38701:function(ie,z,r){"use strict";var C=r(71828),E=r(13838);ie.exports=function(f,S,M,v){var c=v.isMinor,i=c?f.minor||{}:f,u=c?S.minor:S,a=c?E.minor:E,o=c?"minor.":"",l=C.coerce2(i,u,a,"ticklen",c?.6*(S.ticklen||5):void 0),s=C.coerce2(i,u,a,"tickwidth",c?S.tickwidth||1:void 0),d=C.coerce2(i,u,a,"tickcolor",(c?S.tickcolor:void 0)||u.color);M(o+"ticks",!c&&v.outerTicks||l||s||d?"outside":"")||(delete u.ticklen,delete u.tickwidth,delete u.tickcolor)}},26218:function(ie,z,r){"use strict";var C=r(66287),E=r(71828).isArrayOrTypedArray;ie.exports=function(f,S,M,v,c){c||(c={});var i=c.isMinor,u=i?f.minor||{}:f,a=i?S.minor:S,o=i?"minor.":"";function l(_){var y=u[_];return void 0!==y?y:(a._template||{})[_]}var s=l("tick0"),d=l("dtick"),g=l("tickvals"),p=M(o+"tickmode",E(g)?"array":d?"linear":"auto");if("auto"===p||"sync"===p)M(o+"nticks");else if("linear"===p){var T=a.dtick=C.dtick(d,v);a.tick0=C.tick0(s,v,S.calendar,T)}else"multicategory"!==v&&(void 0===M(o+"tickvals")?a.tickmode="auto":i||M("ticktext"))}},66847:function(ie,z,r){"use strict";var C=r(39898),E=r(73972),f=r(71828),S=r(91424),M=r(89298);ie.exports=function(v,c,i,u){var a=v._fullLayout;if(0!==c.length){var o,l,s,d;u&&(o=u());var g=C.ease(i.easing);return v._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(d),d=null,function(){for(var _={},y=0;y<c.length;y++){var w=c[y],b=w.plotinfo.yaxis;w.xr0&&(_[w.plotinfo.xaxis._name+".range"]=w.xr0.slice()),w.yr0&&(_[b._name+".range"]=w.yr0.slice())}return E.call("relayout",v,_).then(function(){for(var k=0;k<c.length;k++)p(c[k].plotinfo)})}()}),l=Date.now(),d=window.requestAnimationFrame(function _(){s=Date.now();for(var y=Math.min(1,(s-l)/i.duration),w=g(y),m=0;m<c.length;m++)T(c[m],w);s-l>i.duration?(function(){for(var b={},k=0;k<c.length;k++){var h=c[k],A=h.plotinfo.yaxis;h.xr1&&(b[h.plotinfo.xaxis._name+".range"]=h.xr1.slice()),h.yr1&&(b[A._name+".range"]=h.yr1.slice())}o&&o(),E.call("relayout",v,b).then(function(){for(var I=0;I<c.length;I++)p(c[I].plotinfo)})}(),d=window.cancelAnimationFrame(_)):d=window.requestAnimationFrame(_)}),Promise.resolve()}function p(_){var y=_.xaxis,w=_.yaxis;a._defs.select("#"+_.clipId+"> rect").call(S.setTranslate,0,0).call(S.setScale,1,1),_.plot.call(S.setTranslate,y._offset,w._offset).call(S.setScale,1,1);var m=_.plot.selectAll(".scatterlayer .trace");m.selectAll(".point").call(S.setPointGroupScale,1,1),m.selectAll(".textpoint").call(S.setTextPointsScale,1,1),m.call(S.hideOutsideRangePoints,_)}function T(_,y){var w=_.plotinfo,m=w.xaxis,b=w.yaxis,k=m._length,h=b._length,O=!!_.xr1,A=!!_.yr1,I=[];if(O){var P=f.simpleMap(_.xr0,m.r2l),L=f.simpleMap(_.xr1,m.r2l),N=P[1]-P[0],B=L[1]-L[0];I[0]=(P[0]*(1-y)+y*L[0]-P[0])/(P[1]-P[0])*k,I[2]=k*(1-y+y*B/N),m.range[0]=m.l2r(P[0]*(1-y)+y*L[0]),m.range[1]=m.l2r(P[1]*(1-y)+y*L[1])}else I[0]=0,I[2]=k;if(A){var W=f.simpleMap(_.yr0,b.r2l),j=f.simpleMap(_.yr1,b.r2l),Z=W[1]-W[0],V=j[1]-j[0];I[1]=(W[1]*(1-y)+y*j[1]-W[1])/(W[0]-W[1])*h,I[3]=h*(1-y+y*V/Z),b.range[0]=m.l2r(W[0]*(1-y)+y*j[0]),b.range[1]=b.l2r(W[1]*(1-y)+y*j[1])}else I[1]=0,I[3]=h;M.drawOne(v,m,{skipTitle:!0}),M.drawOne(v,b,{skipTitle:!0}),M.redrawComponents(v,[m._id,b._id]);var q=O?k/I[2]:1,G=A?h/I[3]:1,Q=m._offset-(O?I[0]/I[2]*k:0),te=b._offset-(A?I[1]/I[3]*h:0);w.clipRect.call(S.setTranslate,O?I[0]:0,A?I[1]:0).call(S.setScale,1/q,1/G),w.plot.call(S.setTranslate,Q,te).call(S.setScale,q,G),S.setPointGroupScale(w.zoomScalePts,1/q,1/G),S.setTextPointsScale(w.zoomScaleTxt,1/q,1/G)}M.redrawComponents(v)}},951:function(ie,z,r){"use strict";var C=r(73972).traceIs,E=r(4322);function f(M){return{v:"x",h:"y"}[M.orientation||"v"]}function S(M,v){var c=f(M),i=C(M,"box-violin"),u=C(M._fullInput||{},"candlestick");return i&&!u&&v===c&&void 0===M[c]&&void 0===M[c+"0"]}ie.exports=function(M,v,c,i){c("autotypenumbers",i.autotypenumbersDflt),"-"===c("type",(i.splomStash||{}).type)&&(function(u,a){if("-"===u.type){var o,l=u._id,s=l.charAt(0);-1!==l.indexOf("scene")&&(l=s);var d=function(b,k,h){for(var O=0;O<b.length;O++){var A=b[O];if("splom"===A.type&&A._length>0&&(A["_"+h+"axes"]||{})[k]||(A[h+"axis"]||h)===k&&(S(A,h)||(A[h]||[]).length||A[h+"0"]))return A}}(a,l,s);if(d)if("histogram"!==d.type||s!=={v:"y",h:"x"}[d.orientation||"v"]){var g=s+"calendar",p=d[g],T={noMultiCategory:!C(d,"cartesian")||C(d,"noMultiCategory")};if("box"===d.type&&d._hasPreCompStats&&s==={h:"x",v:"y"}[d.orientation||"v"]&&(T.noMultiCategory=!0),T.autotypenumbers=u.autotypenumbers,S(d,s)){var _=f(d),y=[];for(o=0;o<a.length;o++){var w=a[o];C(w,"box-violin")&&(w[s+"axis"]||s)===l&&(y.push(void 0!==w[_]?w[_][0]:void 0!==w.name?w.name:"text"),w[g]!==p&&(p=void 0))}u.type=E(y,p,T)}else if("splom"===d.type){var m=d.dimensions[d._axesDim[l]];m.visible&&(u.type=E(m.values,p,T))}else u.type=E(d[s]||[d[s+"0"]],p,T)}else u.type="linear"}}(v,i.data),"-"===v.type?v.type="linear":M.type=v.type)}},31137:function(ie,z,r){"use strict";var C=r(73972),E=r(71828);function f(c,i,u){var a,o,l,s=!1;if("data"===i.type)a=c._fullData[null!==i.traces?i.traces[0]:0];else{if("layout"!==i.type)return!1;a=c._fullLayout}return o=E.nestedProperty(a,i.prop).get(),(l=u[i.type]=u[i.type]||{}).hasOwnProperty(i.prop)&&l[i.prop]!==o&&(s=!0),l[i.prop]=o,{changed:s,value:o}}function S(c,i){var u=[],a=i[0],o={};if("string"==typeof a)o[a]=i[1];else{if(!E.isPlainObject(a))return u;o=a}return v(o,function(l,s,d){u.push({type:"layout",prop:l,value:d})},"",0),u}function M(c,i){var u,a,o,l,s=[];if(o=i[1],u=i[2],l={},"string"==typeof(a=i[0]))l[a]=o;else{if(!E.isPlainObject(a))return s;l=a,void 0===u&&(u=o)}return void 0===u&&(u=null),v(l,function(d,g,p){var T,_;if(Array.isArray(p)){_=p.slice();var y=Math.min(_.length,c.data.length);u&&(y=Math.min(y,u.length)),T=[];for(var w=0;w<y;w++)T[w]=u?u[w]:w}else _=p,T=u?u.slice():null;if(null===T)Array.isArray(_)&&(_=_[0]);else if(Array.isArray(T)){if(!Array.isArray(_)){var m=_;_=[];for(var b=0;b<T.length;b++)_[b]=m}_.length=Math.min(T.length,_.length)}s.push({type:"data",prop:d,traces:T,value:_})},"",0),s}function v(c,i,u,a){Object.keys(c).forEach(function(o){var l=c[o];if("_"!==o[0]){var s=u+(a>0?".":"")+o;E.isPlainObject(l)?v(l,i,s,a+1):i(s,o,l)}})}z.manageCommandObserver=function(c,i,u,a){var o={},l=!0;i&&i._commandObserver&&(o=i._commandObserver),o.cache||(o.cache={}),o.lookupTable={};var s=z.hasSimpleAPICommandBindings(c,u,o.lookupTable);if(i&&i._commandObserver){if(s)return o;if(i._commandObserver.remove)return i._commandObserver.remove(),i._commandObserver=null,o}if(s){f(c,s,o.cache),o.check=function(){if(l){var p=f(c,s,o.cache);return p.changed&&a&&void 0!==o.lookupTable[p.value]&&(o.disable(),Promise.resolve(a({value:p.value,type:s.type,prop:s.prop,traces:s.traces,index:o.lookupTable[p.value]})).then(o.enable,o.enable)),p.changed}};for(var d=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],g=0;g<d.length;g++)c._internalOn(d[g],o.check);o.remove=function(){for(var p=0;p<d.length;p++)c._removeInternalListener(d[p],o.check)}}else E.log("Unable to automatically bind plot updates to API command"),o.lookupTable={},o.remove=function(){};return o.disable=function(){l=!1},o.enable=function(){l=!0},i&&(i._commandObserver=o),o},z.hasSimpleAPICommandBindings=function(c,i,u){var a,o,l=i.length;for(a=0;a<l;a++){var s,d=i[a],g=d.method,p=d.args;if(Array.isArray(p)||(p=[]),!g)return!1;var T=z.computeAPICommandBindings(c,g,p);if(1!==T.length)return!1;if(o){if((s=T[0]).type!==o.type||s.prop!==o.prop)return!1;if(Array.isArray(o.traces)){if(!Array.isArray(s.traces))return!1;s.traces.sort();for(var _=0;_<o.traces.length;_++)if(o.traces[_]!==s.traces[_])return!1}else if(s.prop!==o.prop)return!1}else o=T[0],Array.isArray(o.traces)&&o.traces.sort();var y=(s=T[0]).value;if(Array.isArray(y)){if(1!==y.length)return!1;y=y[0]}u&&(u[y]=a)}return o},z.executeAPICommand=function(c,i,u){if("skip"===i)return Promise.resolve();var a=C.apiMethodRegistry[i],o=[c];Array.isArray(u)||(u=[]);for(var l=0;l<u.length;l++)o.push(u[l]);return a.apply(null,o).catch(function(s){return E.warn("API call to Plotly."+i+" rejected.",s),Promise.reject(s)})},z.computeAPICommandBindings=function(c,i,u){var a,l;switch(Array.isArray(u)||(u=[]),i){case"restyle":a=M(c,u);break;case"relayout":a=S(0,u);break;case"update":a=M(c,[u[0],u[2]]).concat(S(0,[u[1]]));break;case"animate":l=u,a=Array.isArray(l[0])&&1===l[0].length&&-1!==["string","number"].indexOf(typeof l[0][0])?[{type:"layout",prop:"_currentFrame",value:l[0][0].toString()}]:[];break;default:a=[]}return a}},27670:function(ie,z,r){"use strict";var C=r(1426).extendFlat;z.Y=function(E,f){f=f||{};var S={valType:"info_array",editType:(E=E||{}).editType,items:[{valType:"number",min:0,max:1,editType:E.editType},{valType:"number",min:0,max:1,editType:E.editType}],dflt:[0,1]},M={x:C({},S,{}),y:C({},S,{}),editType:E.editType};return E.noGridCell||(M.row={valType:"integer",min:0,dflt:0,editType:E.editType},M.column={valType:"integer",min:0,dflt:0,editType:E.editType}),M},z.c=function(E,f,S,M){var v=M&&M.x||[0,1],c=M&&M.y||[0,1],i=f.grid;if(i){var u=S("domain.column");void 0!==u&&(u<i.columns?v=i._domains.x[u]:delete E.domain.column);var a=S("domain.row");void 0!==a&&(a<i.rows?c=i._domains.y[a]:delete E.domain.row)}var o=S("domain.x",v),l=S("domain.y",c);o[0]<o[1]||(E.domain.x=v.slice()),l[0]<l[1]||(E.domain.y=c.slice())}},41940:function(ie){"use strict";ie.exports=function(z){var r=z.editType,C=z.colorEditType;void 0===C&&(C=r);var E={family:{valType:"string",noBlank:!0,strict:!0,editType:r},size:{valType:"number",min:1,editType:r},color:{valType:"color",editType:C},editType:r};return z.autoSize&&(E.size.dflt="auto"),z.autoColor&&(E.color.dflt="auto"),z.arrayOk&&(E.family.arrayOk=!0,E.size.arrayOk=!0,E.color.arrayOk=!0),E}},31391:function(ie){"use strict";ie.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},78776:function(ie,z){"use strict";z.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},z.axesNames=["lonaxis","lataxis"],z.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},z.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},z.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},z.clipPad=.001,z.precision=.1,z.landColor="#F0DC82",z.waterColor="#3399FF",z.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},z.sphereSVG={type:"Sphere"},z.fillLayers={ocean:1,land:1,lakes:1},z.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},z.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],z.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],z.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},69082:function(ie,z,r){"use strict";var C=r(39898),E=r(27362),f=E.geoPath,S=E.geoDistance,M=r(65704),v=r(73972),c=r(71828),i=c.strTranslate,u=r(7901),a=r(91424),o=r(30211),l=r(74875),s=r(89298),d=r(71739).getAutoRange,g=r(28569),p=r(47322).prepSelect,T=r(47322).clearOutline,_=r(47322).selectOnClick,y=r(74455),w=r(78776),m=r(41327),b=r(90973),k=r(96892).zL;function h(I){this.id=I.id,this.graphDiv=I.graphDiv,this.container=I.container,this.topojsonURL=I.topojsonURL,this.isStatic=I.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var O=h.prototype;function A(I,P){var L=w.clipPad,N=I[0]+L,B=I[1]-L,W=P[0]+L,j=P[1]-L;N>0&&B<0&&(B+=360);var Z=(B-N)/4;return{type:"Polygon",coordinates:[[[N,W],[N,j],[N+Z,j],[N+2*Z,j],[N+3*Z,j],[B,j],[B,W],[B-Z,W],[B-2*Z,W],[B-3*Z,W],[N,W]]]}}ie.exports=function(I){return new h(I)},O.plot=function(I,P,L,N){var B=this;if(N)return B.update(I,P,!0);B._geoCalcData=I,B._fullLayout=P;var W=P[this.id],j=[],Z=!1;for(var V in w.layerNameToAdjective)if("frame"!==V&&W["show"+V]){Z=!0;break}for(var q=!1,G=0;G<I.length;G++){var H=I[0][0].trace;H._geo=B,H.locationmode&&(Z=!0);var ne=H.marker;if(ne){var $=ne.angleref;(ne.angle||"north"===$||"previous"===$)&&(q=!0)}}if(this._hasMarkerAngles=q,Z){var Q=b.getTopojsonName(W);null!==B.topojson&&Q===B.topojsonName||(B.topojsonName=Q,void 0===PlotlyGeoAssets.topojson[B.topojsonName]&&j.push(B.fetchTopojson()))}j=j.concat(m.fetchTraceGeoData(I)),L.push(new Promise(function(te,re){Promise.all(j).then(function(){B.topojson=PlotlyGeoAssets.topojson[B.topojsonName],B.update(I,P),te()}).catch(re)}))},O.fetchTopojson=function(){var I=this,P=b.getTopojsonPath(I.topojsonURL,I.topojsonName);return new Promise(function(L,N){C.json(P,function(B,W){if(B)return N(404===B.status?new Error(["plotly.js could not find topojson file at",P+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" ")):new Error(["unexpected error while fetching topojson file at",P].join(" ")));PlotlyGeoAssets.topojson[I.topojsonName]=W,L()})})},O.update=function(I,P,L){var N=P[this.id];this.hasChoropleth=!1;for(var B=0;B<I.length;B++){var W=I[B],j=W[0].trace;"choropleth"===j.type&&(this.hasChoropleth=!0),!0===j.visible&&j._length>0&&j._module.calcGeoJSON(W,P)}if(!L){if(this.updateProjection(I,P))return;this.viewInitial&&this.scope===N.scope||this.saveViewInitial(N)}this.scope=N.scope,this.updateBaseLayers(P,N),this.updateDims(P,N),this.updateFx(P,N),l.generalUpdatePerTraceModule(this.graphDiv,this,I,N);var Z=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=Z.selectAll(".point"),this.dataPoints.text=Z.selectAll("text"),this.dataPaths.line=Z.selectAll(".js-line");var V=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=V.selectAll("path"),this._render()},O.updateProjection=function(I,P){var L=this.graphDiv,N=P[this.id],B=P._size,W=N.domain,j=N.projection,Z=N.lonaxis,V=N.lataxis,q=Z._ax,G=V._ax,H=this.projection=function(De){var oe=De.projection,de=oe.type,_e=w.projNames[de];_e="geo"+c.titleCase(_e);for(var Me=(E[_e]||M[_e])(),Pe=De._isSatellite?180*Math.acos(1/oe.distance)/Math.PI:De._isClipped?w.lonaxisSpan[de]/2:null,Ue=["center","rotate","parallels","clipExtent"],Be=function(Te){return Te?Me:[]},Ve=0;Ve<Ue.length;Ve++){var ve=Ue[Ve];"function"!=typeof Me[ve]&&(Me[ve]=Be)}return Me.isLonLatOverEdges=function(Te){if(null===Me(Te))return!0;if(Pe){var Ce=Me.rotate();return S(Te,[-Ce[0],-Ce[1]])>Pe*Math.PI/180}return!1},Me.getPath=function(){return f().projection(Me)},Me.getBounds=function(Te){return Me.getPath().bounds(Te)},Me.precision(w.precision),De._isSatellite&&Me.tilt(oe.tilt).distance(oe.distance),Pe&&Me.clipAngle(Pe-w.clipPad),Me}(N),ne=[[B.l+B.w*W.x[0],B.t+B.h*(1-W.y[1])],[B.l+B.w*W.x[1],B.t+B.h*(1-W.y[0])]],X=N.center||{},$=j.rotation||{},Q=Z.range||[],te=V.range||[];if(N.fitbounds){q._length=ne[1][0]-ne[0][0],G._length=ne[1][1]-ne[0][1],q.range=d(L,q),G.range=d(L,G);var re=(q.range[0]+q.range[1])/2,le=(G.range[0]+G.range[1])/2;if(N._isScoped)X={lon:re,lat:le};else if(N._isClipped){X={lon:re,lat:le},$={lon:re,lat:le,roll:$.roll};var ue=j.type,he=w.lonaxisSpan[ue]/2||180,ge=w.lataxisSpan[ue]/2||90;Q=[re-he,re+he],te=[le-ge,le+ge]}else X={lon:re,lat:le},$={lon:re,lat:$.lat,roll:$.roll}}H.center([X.lon-$.lon,X.lat-$.lat]).rotate([-$.lon,-$.lat,$.roll]).parallels(j.parallels);var xe=A(Q,te);H.fitExtent(ne,xe);var ke=this.bounds=H.getBounds(xe),Ae=this.fitScale=H.scale(),pe=H.translate();if(N.fitbounds){var ye=H.getBounds(A(q.range,G.range)),Ne=Math.min((ke[1][0]-ke[0][0])/(ye[1][0]-ye[0][0]),(ke[1][1]-ke[0][1])/(ye[1][1]-ye[0][1]));isFinite(Ne)?H.scale(Ne*Ae):c.warn("Something went wrong during"+this.id+"fitbounds computations.")}else H.scale(j.scale*Ae);var be=this.midPt=[(ke[0][0]+ke[1][0])/2,(ke[0][1]+ke[1][1])/2];if(H.translate([pe[0]+(be[0]-pe[0]),pe[1]+(be[1]-pe[1])]).clipExtent(ke),N._isAlbersUsa){var Ee=H([X.lon,X.lat]),Oe=H.translate();H.translate([Oe[0]-(Ee[0]-Oe[0]),Oe[1]-(Ee[1]-Oe[1])])}},O.updateBaseLayers=function(I,P){var L=this,N=L.topojson,B=L.layers,W=L.basePaths;function j(H){return"lonaxis"===H||"lataxis"===H}function Z(H){return Boolean(w.lineLayers[H])}function V(H){return Boolean(w.fillLayers[H])}var q=(this.hasChoropleth?w.layersForChoropleth:w.layers).filter(function(H){return Z(H)||V(H)?P["show"+H]:!j(H)||P[H].showgrid}),G=L.framework.selectAll(".layer").data(q,String);G.exit().each(function(H){delete B[H],delete W[H],C.select(this).remove()}),G.enter().append("g").attr("class",function(H){return"layer "+H}).each(function(H){var ne=B[H]=C.select(this);"bg"===H?L.bgRect=ne.append("rect").style("pointer-events","all"):j(H)?W[H]=ne.append("path").style("fill","none"):"backplot"===H?ne.append("g").classed("choroplethlayer",!0):"frontplot"===H?ne.append("g").classed("scatterlayer",!0):Z(H)?W[H]=ne.append("path").style("fill","none").style("stroke-miterlimit",2):V(H)&&(W[H]=ne.append("path").style("stroke","none"))}),G.order(),G.each(function(H){var ne=W[H],X=w.layerNameToAdjective[H];"frame"===H?ne.datum(w.sphereSVG):Z(H)||V(H)?ne.datum(k(N,N.objects[H])):j(H)&&ne.datum(function($,Q,te){var re,le,ue,he=Q[$],ge=w.scopeDefaults[Q.scope];"lonaxis"===$?(re=ge.lonaxisRange,le=ge.lataxisRange,ue=function(Oe,De){return[Oe,De]}):"lataxis"===$&&(re=ge.lataxisRange,le=ge.lonaxisRange,ue=function(Oe,De){return[De,Oe]});var xe={type:"linear",range:[re[0],re[1]-1e-6],tick0:he.tick0,dtick:he.dtick};s.setConvert(xe,te);var ke=s.calcTicks(xe);Q.isScoped||"lonaxis"!==$||ke.pop();for(var Ae=ke.length,pe=new Array(Ae),ye=0;ye<Ae;ye++)for(var Ne=ke[ye].x,be=pe[ye]=[],Ee=le[0];Ee<le[1]+2.5;Ee+=2.5)be.push(ue(Ne,Ee));return{type:"MultiLineString",coordinates:pe}}(H,P,I)).call(u.stroke,P[H].gridcolor).call(a.dashLine,P[H].griddash,P[H].gridwidth),Z(H)?ne.call(u.stroke,P[X+"color"]).call(a.dashLine,"",P[X+"width"]):V(H)&&ne.call(u.fill,P[X+"color"])})},O.updateDims=function(I,P){var L=this.bounds,N=(P.framewidth||0)/2,B=L[0][0]-N,W=L[0][1]-N,j=L[1][0]-B+N,Z=L[1][1]-W+N;a.setRect(this.clipRect,B,W,j,Z),this.bgRect.call(a.setRect,B,W,j,Z).call(u.fill,P.bgcolor),this.xaxis._offset=B,this.xaxis._length=j,this.yaxis._offset=W,this.yaxis._length=Z},O.updateFx=function(I,P){var L=this,N=L.graphDiv,B=L.bgRect,W=I.dragmode,j=I.clickmode;if(!L.isStatic){var Z={element:L.bgRect.node(),gd:N,plotinfo:{id:L.id,xaxis:L.xaxis,yaxis:L.yaxis,fillRangeItems:function(q,G){G.isRect?(q.range={})[L.id]=[V([G.xmin,G.ymin]),V([G.xmax,G.ymax])]:(q.lassoPoints={})[L.id]=G.map(V)}},xaxes:[L.xaxis],yaxes:[L.yaxis],subplot:L.id,clickFn:function(q){2===q&&T(N)}};"pan"===W?(B.node().onmousedown=null,B.call(y(L,P)),B.on("dblclick.zoom",function(){var q=L.viewInitial,G={};for(var H in q)G[L.id+"."+H]=q[H];v.call("_guiRelayout",N,G),N.emit("plotly_doubleclick",null)}),N._context._scrollZoom.geo||B.on("wheel.zoom",null)):"select"!==W&&"lasso"!==W||(B.on(".zoom",null),Z.prepFn=function(q,G,H){p(q,G,H,Z,W)},g.init(Z)),B.on("mousemove",function(){var q=L.projection.invert(c.getPositionFromD3Event());if(!q)return g.unhover(N,C.event);L.xaxis.p2c=function(){return q[0]},L.yaxis.p2c=function(){return q[1]},o.hover(N,C.event,L.id)}),B.on("mouseout",function(){N._dragging||g.unhover(N,C.event)}),B.on("click",function(){"select"!==W&&"lasso"!==W&&(j.indexOf("select")>-1&&_(C.event,N,[L.xaxis],[L.yaxis],L.id,Z),j.indexOf("event")>-1&&o.click(N,C.event))})}function V(q){return L.projection.invert([q[0]+L.xaxis._offset,q[1]+L.yaxis._offset])}},O.makeFramework=function(){var I=this,P=I.graphDiv,L=P._fullLayout,N="clip"+L._uid+I.id;I.clipDef=L._clips.append("clipPath").attr("id",N),I.clipRect=I.clipDef.append("rect"),I.framework=C.select(I.container).append("g").attr("class","geo "+I.id).call(a.setClipUrl,N,P),I.project=function(B){var W=I.projection(B);return W?[W[0]-I.xaxis._offset,W[1]-I.yaxis._offset]:[null,null]},I.xaxis={_id:"x",c2p:function(B){return I.project(B)[0]}},I.yaxis={_id:"y",c2p:function(B){return I.project(B)[1]}},I.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},s.setConvert(I.mockAxis,L)},O.saveViewInitial=function(I){var L=I.center||{},N=I.projection,B=N.rotation||{};this.viewInitial={fitbounds:I.fitbounds,"projection.scale":N.scale},c.extendFlat(this.viewInitial,I._isScoped?{"center.lon":L.lon,"center.lat":L.lat}:I._isClipped?{"projection.rotation.lon":B.lon,"projection.rotation.lat":B.lat}:{"center.lon":L.lon,"center.lat":L.lat,"projection.rotation.lon":B.lon})},O.render=function(I){this._hasMarkerAngles&&I?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},O._render=function(){var I,P=this.projection,L=P.getPath();function N(W){var j=P(W.lonlat);return j?i(j[0],j[1]):null}function B(W){return P.isLonLatOverEdges(W.lonlat)?"none":null}for(I in this.basePaths)this.basePaths[I].attr("d",L);for(I in this.dataPaths)this.dataPaths[I].attr("d",function(W){return L(W.geojson)});for(I in this.dataPoints)this.dataPoints[I].attr("display",B).attr("transform",N)}},44622:function(ie,z,r){"use strict";var C=r(27659).AU,E=r(71828).counterRegex,f=r(69082),S="geo",M=E(S),v={};v.geo={valType:"subplotid",dflt:S,editType:"calc"},ie.exports={attr:S,name:S,idRoot:S,idRegex:M,attrRegex:M,attributes:v,layoutAttributes:r(77519),supplyLayoutDefaults:r(82161),plot:function(c){for(var i=c._fullLayout,u=c.calcdata,a=i._subplots.geo,o=0;o<a.length;o++){var l=a[o],s=C(u,S,l),d=i[l]._subplot;d||(d=f({id:l,graphDiv:c,container:i._geolayer.node(),topojsonURL:c._context.topojsonURL,staticPlot:c._context.staticPlot}),i[l]._subplot=d),d.plot(s,i,c._promises)}},updateFx:function(c){for(var i=c._fullLayout,u=i._subplots.geo,a=0;a<u.length;a++){var o=i[u[a]];o._subplot.updateFx(i,o)}},clean:function(c,i,u,a){for(var o=a._subplots.geo||[],l=0;l<o.length;l++){var s=o[l],d=a[s]._subplot;!i[s]&&d&&(d.framework.remove(),d.clipDef.remove())}}}},77519:function(ie,z,r){"use strict";var C=r(22399),E=r(27670).Y,f=r(79952).P,S=r(78776),M=r(30962).overrideAll,v=r(78607),c={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:C.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:f};(ie.exports=M({domain:E({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:v(S.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:v(S.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:C.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:S.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:S.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:S.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:S.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:C.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:C.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:C.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:C.background},lonaxis:c,lataxis:c},"plot","from-root")).uirevision={valType:"any",editType:"none"}},82161:function(ie,z,r){"use strict";var C=r(71828),E=r(49119),f=r(27659).NG,S=r(78776),M=r(77519),v=S.axesNames;function c(i,u,a,o){var l=f(o.fullData,"geo",o.id).map(function($){return $._expandedIndex}),s=a("resolution"),d=a("scope"),g=S.scopeDefaults[d],p=a("projection.type",g.projType),T=u._isAlbersUsa="albers usa"===p;T&&(d=u.scope="usa");var _=u._isScoped="world"!==d,y=u._isSatellite="satellite"===p,w=u._isConic=-1!==p.indexOf("conic")||"albers"===p,m=u._isClipped=!!S.lonaxisSpan[p];if(!1===i.visible){var b=C.extendDeep({},u._template);b.showcoastlines=!1,b.showcountries=!1,b.showframe=!1,b.showlakes=!1,b.showland=!1,b.showocean=!1,b.showrivers=!1,b.showsubunits=!1,b.lonaxis&&(b.lonaxis.showgrid=!1),b.lataxis&&(b.lataxis.showgrid=!1),u._template=b}for(var k=a("visible"),h=0;h<v.length;h++){var O,A=v[h],I=[30,10][h];if(_)O=g[A+"Range"];else{var P=S[A+"Span"],L=(P[p]||P["*"])/2,N=a("projection.rotation."+A.substr(0,3),g.projRotate[h]);O=[N-L,N+L]}var B=a(A+".range",O);a(A+".tick0"),a(A+".dtick",I),a(A+".showgrid",!!k&&void 0)&&(a(A+".gridcolor"),a(A+".gridwidth"),a(A+".griddash")),u[A]._ax={type:"linear",_id:A.slice(0,3),_traceIndices:l,setScale:C.identity,c2l:C.identity,r2l:C.identity,autorange:!0,range:B.slice(),_m:1,_input:{}}}var W=u.lonaxis.range,j=u.lataxis.range,Z=W[0],V=W[1];Z>0&&V<0&&(V+=360);var q,G,H,ne=(Z+V)/2;if(!T){var X=_?g.projRotate:[ne,0,0];q=a("projection.rotation.lon",X[0]),a("projection.rotation.lat",X[1]),a("projection.rotation.roll",X[2]),a("showcoastlines",!_&&k)&&(a("coastlinecolor"),a("coastlinewidth")),a("showocean",!!k&&void 0)&&a("oceancolor")}T?(G=-96.6,H=38.7):(G=_?ne:q,H=(j[0]+j[1])/2),a("center.lon",G),a("center.lat",H),y&&(a("projection.tilt"),a("projection.distance")),w&&a("projection.parallels",g.projParallels||[0,60]),a("projection.scale"),a("showland",!!k&&void 0)&&a("landcolor"),a("showlakes",!!k&&void 0)&&a("lakecolor"),a("showrivers",!!k&&void 0)&&(a("rivercolor"),a("riverwidth")),a("showcountries",_&&"usa"!==d&&k)&&(a("countrycolor"),a("countrywidth")),("usa"===d||"north america"===d&&50===s)&&(a("showsubunits",k),a("subunitcolor"),a("subunitwidth")),_||a("showframe",k)&&(a("framecolor"),a("framewidth")),a("bgcolor"),a("fitbounds")&&(delete u.projection.scale,_?(delete u.center.lon,delete u.center.lat):m?(delete u.center.lon,delete u.center.lat,delete u.projection.rotation.lon,delete u.projection.rotation.lat,delete u.lonaxis.range,delete u.lataxis.range):(delete u.center.lon,delete u.center.lat,delete u.projection.rotation.lon))}ie.exports=function(i,u,a){E(i,u,a,{type:"geo",attributes:M,handleDefaults:c,fullData:a,partition:"y"})}},74455:function(ie,z,r){"use strict";var C=r(39898),E=r(71828),f=r(73972),S=Math.PI/180,M=180/Math.PI,v={cursor:"pointer"},c={cursor:"auto"};function i(k,h){return C.behavior.zoom().translate(h.translate()).scale(h.scale())}function u(k,h,O){var A=k.id,I=k.graphDiv,P=I.layout,L=P[A],N=I._fullLayout,B=N[A],W={},j={};function Z(V,q){W[A+"."+V]=E.nestedProperty(L,V).get(),f.call("_storeDirectGUIEdit",P,N._preGUI,W);var G=E.nestedProperty(B,V);G.get()!==q&&(G.set(q),E.nestedProperty(L,V).set(q),j[A+"."+V]=q)}O(Z),Z("projection.scale",h.scale()/k.fitScale),Z("fitbounds",!1),I.emit("plotly_relayout",j)}function a(k,h){var O=i(0,h);function A(I){var P=h.invert(k.midPt);I("center.lon",P[0]),I("center.lat",P[1])}return O.on("zoomstart",function(){C.select(this).style(v)}).on("zoom",function(){h.scale(C.event.scale).translate(C.event.translate),k.render(!0);var I=h.invert(k.midPt);k.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":h.scale()/k.fitScale,"geo.center.lon":I[0],"geo.center.lat":I[1]})}).on("zoomend",function(){C.select(this).style(c),u(k,h,A)}),O}function o(k,h){var O,A,I,P,L,N,B,W,j,Z=i(0,h);function V(G){return h.invert(G)}function q(G){var H=h.rotate(),ne=h.invert(k.midPt);G("projection.rotation.lon",-H[0]),G("center.lon",ne[0]),G("center.lat",ne[1])}return Z.on("zoomstart",function(){C.select(this).style(v),O=C.mouse(this),A=h.rotate(),I=h.translate(),P=A,L=V(O)}).on("zoom",function(){if(N=C.mouse(this),function(ne){var X=V(ne);if(!X)return!0;var $=h(X);return Math.abs($[0]-ne[0])>2||Math.abs($[1]-ne[1])>2}(O))return Z.scale(h.scale()),void Z.translate(h.translate());h.scale(C.event.scale),h.translate([I[0],C.event.translate[1]]),L?V(N)&&(W=V(N),h.rotate(B=[P[0]+(W[0]-L[0]),A[1],A[2]]),P=B):L=V(O=N),j=!0,k.render(!0);var G=h.rotate(),H=h.invert(k.midPt);k.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":h.scale()/k.fitScale,"geo.center.lon":H[0],"geo.center.lat":H[1],"geo.projection.rotation.lon":-G[0]})}).on("zoomend",function(){C.select(this).style(c),j&&u(k,h,q)}),Z}function l(k,h){var O,A={r:h.rotate(),k:h.scale()},I=i(0,h),P=function(V){for(var q=0,G=arguments.length,H=[];++q<G;)H.push(arguments[q]);var ne=C.dispatch.apply(null,H);return ne.of=function(X,$){return function(Q){var te;try{te=Q.sourceEvent=C.event,Q.target=V,C.event=Q,ne[Q.type].apply(X,$)}finally{C.event=te}}},ne}(I,"zoomstart","zoom","zoomend"),L=0,N=I.on;function B(V){L++||V({type:"zoomstart"})}function W(V){V({type:"zoom"})}function j(V){--L||V({type:"zoomend"})}function Z(V){var q=h.rotate();V("projection.rotation.lon",-q[0]),V("projection.rotation.lat",-q[1])}return I.on("zoomstart",function(){C.select(this).style(v);var V=C.mouse(this),q=h.rotate(),G=q,H=h.translate(),ne=d(q);O=s(h,V),N.call(I,"zoom",function(){var X=C.mouse(this);if(h.scale(A.k=C.event.scale),O){if(s(h,X)){h.rotate(q).translate(H);var $=s(h,X),Q=p(O,$),te=m(g(ne,Q)),re=A.r=T(te,O,G);isFinite(re[0])&&isFinite(re[1])&&isFinite(re[2])||(re=G),h.rotate(re),G=re}}else O=s(h,V=X);W(P.of(this,arguments))}),B(P.of(this,arguments))}).on("zoomend",function(){C.select(this).style(c),N.call(I,"zoom",null),j(P.of(this,arguments)),u(k,h,Z)}).on("zoom.redraw",function(){k.render(!0);var V=h.rotate();k.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":h.scale()/k.fitScale,"geo.projection.rotation.lon":-V[0],"geo.projection.rotation.lat":-V[1]})}),C.rebind(I,P,"on")}function s(k,h){var A,I,P,L,O=k.invert(h);return O&&isFinite(O[0])&&isFinite(O[1])&&(I=(A=O)[0]*S,P=A[1]*S,[(L=Math.cos(P))*Math.cos(I),L*Math.sin(I),Math.sin(P)])}function d(k){var h=.5*k[0]*S,O=.5*k[1]*S,A=.5*k[2]*S,I=Math.sin(h),P=Math.cos(h),L=Math.sin(O),N=Math.cos(O),B=Math.sin(A),W=Math.cos(A);return[P*N*W+I*L*B,I*N*W-P*L*B,P*L*W+I*N*B,P*N*B-I*L*W]}function g(k,h){var O=k[0],A=k[1],I=k[2],P=k[3],L=h[0],N=h[1],B=h[2],W=h[3];return[O*L-A*N-I*B-P*W,O*N+A*L+I*W-P*B,O*B-A*W+I*L+P*N,O*W+A*B-I*N+P*L]}function p(k,h){if(k&&h){var O=[(L=k)[1]*(N=h)[2]-L[2]*N[1],L[2]*N[0]-L[0]*N[2],L[0]*N[1]-L[1]*N[0]],A=Math.sqrt(b(O,O)),I=.5*Math.acos(Math.max(-1,Math.min(1,b(k,h)))),P=Math.sin(I)/A;return A&&[Math.cos(I),O[2]*P,-O[1]*P,O[0]*P]}var L,N}function T(k,h,O){var A=w(h,2,k[0]);A=w(A,1,k[1]),A=w(A,0,k[2]-O[2]);var I,P,L=h[0],N=h[1],B=h[2],W=A[0],j=A[1],Z=A[2],V=Math.atan2(N,L)*M,q=Math.sqrt(L*L+N*N);Math.abs(j)>q?(P=(j>0?90:-90)-V,I=0):(P=Math.asin(j/q)*M-V,I=Math.sqrt(q*q-j*j));var G=180-P-2*V,H=(Math.atan2(Z,W)-Math.atan2(B,I))*M,ne=(Math.atan2(Z,W)-Math.atan2(B,-I))*M;return _(O[0],O[1],P,H)<=_(O[0],O[1],G,ne)?[P,H,O[2]]:[G,ne,O[2]]}function _(k,h,O,A){var I=y(O-k),P=y(A-h);return Math.sqrt(I*I+P*P)}function y(k){return(k%360+540)%360-180}function w(k,h,O){var A=O*S,I=k.slice(),P=0===h?1:0,L=2===h?1:2,N=Math.cos(A),B=Math.sin(A);return I[P]=k[P]*N-k[L]*B,I[L]=k[L]*N+k[P]*B,I}function m(k){return[Math.atan2(2*(k[0]*k[1]+k[2]*k[3]),1-2*(k[1]*k[1]+k[2]*k[2]))*M,Math.asin(Math.max(-1,Math.min(1,2*(k[0]*k[2]-k[3]*k[1]))))*M,Math.atan2(2*(k[0]*k[3]+k[1]*k[2]),1-2*(k[2]*k[2]+k[3]*k[3]))*M]}function b(k,h){for(var O=0,A=0,I=k.length;A<I;++A)O+=k[A]*h[A];return O}ie.exports=function(k,h){return(h._isScoped?a:h._isClipped?l:o)(k,k.projection)}},27659:function(ie,z,r){"use strict";var C=r(73972),E=r(85555).SUBPLOT_PATTERN;z.AU=function(f,S,M){var v=C.subplotsRegistry[S];if(!v)return[];for(var c=v.attr,i=[],u=0;u<f.length;u++){var a=f[u];a[0].trace[c]===M&&i.push(a)}return i},z.a0=function(f,S){var M,v=[],c=[];if(!(M="string"==typeof S?C.getModule(S).plot:"function"==typeof S?S:S.plot))return[v,f];for(var i=0;i<f.length;i++){var u=f[i],a=u[0].trace;!0===a.visible&&0!==a._length&&(a._module.plot===M?v.push(u):c.push(u))}return[v,c]},z.NG=function(f,S,M){if(!C.subplotsRegistry[S])return[];var v,c,i,u=C.subplotsRegistry[S].attr,a=[];if("gl2d"===S){var o=M.match(E);c="x"+o[1],i="y"+o[2]}for(var l=0;l<f.length;l++)v=f[l],"gl2d"===S&&C.traceIs(v,"gl2d")?v[u[0]]===c&&v[u[1]]===i&&a.push(v):v[u]===M&&a.push(v);return a}},75071:function(ie,z,r){"use strict";var C=r(16825),E=r(1195),f=r(48956),S=r(85555),M=r(38520);function v(c,i){this.element=c,this.plot=i,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}ie.exports=function(c){var i=c.mouseContainer,u=c.glplot,a=new v(i,u);function o(){c.xaxis.autorange=!1,c.yaxis.autorange=!1}function l(s,d,g){var p,T,_=c.calcDataBox(),y=u.viewBox,w=a.lastPos[0],m=a.lastPos[1],b=S.MINDRAG*u.pixelRatio,k=S.MINZOOM*u.pixelRatio;function h(N,B,W){var j=Math.min(B,W),Z=Math.max(B,W);j!==Z?(_[N]=j,_[N+2]=Z,a.dataBox=_,c.setRanges(_)):(c.selectBox.selectBox=[0,0,1,1],c.glplot.setDirty())}switch(d*=u.pixelRatio,g=y[3]-y[1]-(g*=u.pixelRatio),c.fullLayout.dragmode){case"zoom":if(s){var O=d/(y[2]-y[0])*(_[2]-_[0])+_[0],A=g/(y[3]-y[1])*(_[3]-_[1])+_[1];a.boxInited||(a.boxStart[0]=O,a.boxStart[1]=A,a.dragStart[0]=d,a.dragStart[1]=g),a.boxEnd[0]=O,a.boxEnd[1]=A,a.boxInited=!0,a.boxEnabled||a.boxStart[0]===a.boxEnd[0]&&a.boxStart[1]===a.boxEnd[1]||(a.boxEnabled=!0);var I=Math.abs(a.dragStart[0]-d)<k,P=Math.abs(a.dragStart[1]-g)<k;if(!function(){for(var N=c.graphDiv._fullLayout._axisConstraintGroups,B=c.xaxis._id,W=c.yaxis._id,j=0;j<N.length;j++)if(-1!==N[j][B]){if(-1!==N[j][W])return!0;break}return!1}()||I&&P)I&&(a.boxEnd[0]=a.boxStart[0]),P&&(a.boxEnd[1]=a.boxStart[1]);else{p=a.boxEnd[0]-a.boxStart[0],T=a.boxEnd[1]-a.boxStart[1];var L=(_[3]-_[1])/(_[2]-_[0]);Math.abs(p*L)>Math.abs(T)?(a.boxEnd[1]=a.boxStart[1]+Math.abs(p)*L*(T>=0?1:-1),a.boxEnd[1]<_[1]?(a.boxEnd[1]=_[1],a.boxEnd[0]=a.boxStart[0]+(_[1]-a.boxStart[1])/Math.abs(L)):a.boxEnd[1]>_[3]&&(a.boxEnd[1]=_[3],a.boxEnd[0]=a.boxStart[0]+(_[3]-a.boxStart[1])/Math.abs(L))):(a.boxEnd[0]=a.boxStart[0]+Math.abs(T)/L*(p>=0?1:-1),a.boxEnd[0]<_[0]?(a.boxEnd[0]=_[0],a.boxEnd[1]=a.boxStart[1]+(_[0]-a.boxStart[0])*Math.abs(L)):a.boxEnd[0]>_[2]&&(a.boxEnd[0]=_[2],a.boxEnd[1]=a.boxStart[1]+(_[2]-a.boxStart[0])*Math.abs(L)))}}else a.boxEnabled?(T=a.boxStart[1]!==a.boxEnd[1],(p=a.boxStart[0]!==a.boxEnd[0])||T?(p&&(h(0,a.boxStart[0],a.boxEnd[0]),c.xaxis.autorange=!1),T&&(h(1,a.boxStart[1],a.boxEnd[1]),c.yaxis.autorange=!1),c.relayoutCallback()):c.glplot.setDirty(),a.boxEnabled=!1,a.boxInited=!1):a.boxInited&&(a.boxInited=!1);break;case"pan":a.boxEnabled=!1,a.boxInited=!1,s?(a.panning||(a.dragStart[0]=d,a.dragStart[1]=g),Math.abs(a.dragStart[0]-d)<b&&(d=a.dragStart[0]),Math.abs(a.dragStart[1]-g)<b&&(g=a.dragStart[1]),T=(m-g)*(_[3]-_[1])/(u.viewBox[3]-u.viewBox[1]),_[0]+=p=(w-d)*(_[2]-_[0])/(u.viewBox[2]-u.viewBox[0]),_[2]+=p,_[1]+=T,_[3]+=T,c.setRanges(_),a.panning=!0,a.lastInputTime=Date.now(),o(),c.cameraChanged(),c.handleAnnotations()):a.panning&&(a.panning=!1,c.relayoutCallback())}a.lastPos[0]=d,a.lastPos[1]=g}return a.mouseListener=C(i,l),i.addEventListener("touchstart",function(s){var d=f(s.changedTouches[0],i);l(0,d[0],d[1]),l(1,d[0],d[1]),s.preventDefault()},!!M&&{passive:!1}),i.addEventListener("touchmove",function(s){s.preventDefault();var d=f(s.changedTouches[0],i);l(1,d[0],d[1]),s.preventDefault()},!!M&&{passive:!1}),i.addEventListener("touchend",function(s){l(0,a.lastPos[0],a.lastPos[1]),s.preventDefault()},!!M&&{passive:!1}),a.wheelListener=E(i,function(s,d){if(!c.scrollZoom)return!1;var g=c.calcDataBox(),p=u.viewBox,T=a.lastPos[0],_=a.lastPos[1],y=Math.exp(5*d/(p[3]-p[1])),w=T/(p[2]-p[0])*(g[2]-g[0])+g[0],m=_/(p[3]-p[1])*(g[3]-g[1])+g[1];return g[0]=(g[0]-w)*y+w,g[2]=(g[2]-w)*y+w,g[1]=(g[1]-m)*y+m,g[3]=(g[3]-m)*y+m,c.setRanges(g),a.lastInputTime=Date.now(),o(),c.cameraChanged(),c.handleAnnotations(),c.relayoutCallback(),!0},!0),a}},82961:function(ie,z,r){"use strict";var C=r(89298),E=r(78614);function f(v){this.scene=v,this.gl=v.gl,this.pixelRatio=v.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var S=f.prototype,M=["xaxis","yaxis"];S.merge=function(v){var c,i,u,a,o,l,s,d,g,p,T;for(this.titleEnable=!1,this.backgroundColor=E(v.plot_bgcolor),p=0;p<2;++p){var _=(c=M[p]).charAt(0);for(u=(i=v[this.scene[c]._name]).title.text===this.scene.fullLayout._dfltTitle[_]?"":i.title.text,T=0;T<=2;T+=2)this.labelEnable[p+T]=!1,this.labels[p+T]=u,this.labelColor[p+T]=E(i.title.font.color),this.labelFont[p+T]=i.title.font.family,this.labelSize[p+T]=i.title.font.size,this.labelPad[p+T]=this.getLabelPad(c,i),this.tickEnable[p+T]=!1,this.tickColor[p+T]=E((i.tickfont||{}).color),this.tickAngle[p+T]="auto"===i.tickangle?0:Math.PI*-i.tickangle/180,this.tickPad[p+T]=this.getTickPad(i),this.tickMarkLength[p+T]=0,this.tickMarkWidth[p+T]=i.tickwidth||0,this.tickMarkColor[p+T]=E(i.tickcolor),this.borderLineEnable[p+T]=!1,this.borderLineColor[p+T]=E(i.linecolor),this.borderLineWidth[p+T]=i.linewidth||0;s=this.hasSharedAxis(i),o=this.hasAxisInDfltPos(c,i)&&!s,l=this.hasAxisInAltrPos(c,i)&&!s,a=i.mirror||!1,d=s?-1!==String(a).indexOf("all"):!!a,g=s?"allticks"===a:-1!==String(a).indexOf("ticks"),o?this.labelEnable[p]=!0:l&&(this.labelEnable[p+2]=!0),o?this.tickEnable[p]=i.showticklabels:l&&(this.tickEnable[p+2]=i.showticklabels),(o||d)&&(this.borderLineEnable[p]=i.showline),(l||d)&&(this.borderLineEnable[p+2]=i.showline),(o||g)&&(this.tickMarkLength[p]=this.getTickMarkLength(i)),(l||g)&&(this.tickMarkLength[p+2]=this.getTickMarkLength(i)),this.gridLineEnable[p]=i.showgrid,this.gridLineColor[p]=E(i.gridcolor),this.gridLineWidth[p]=i.gridwidth,this.zeroLineEnable[p]=i.zeroline,this.zeroLineColor[p]=E(i.zerolinecolor),this.zeroLineWidth[p]=i.zerolinewidth}},S.hasSharedAxis=function(v){var c=this.scene;return 0!==C.findSubplotsWithAxis(c.fullLayout._subplots.gl2d,v).indexOf(c.id)},S.hasAxisInDfltPos=function(v,c){var i=c.side;return"xaxis"===v?"bottom"===i:"yaxis"===v?"left"===i:void 0},S.hasAxisInAltrPos=function(v,c){var i=c.side;return"xaxis"===v?"top"===i:"yaxis"===v?"right"===i:void 0},S.getLabelPad=function(v,c){var i=1.5,u=c.title.font.size,a=c.showticklabels;return"xaxis"===v?"top"===c.side?u*(i+(a?1:0))-10:u*(i+(a?.5:0))-10:"yaxis"===v?"right"===c.side?10+u*(i+(a?1:.5)):10+u*(i+(a?.5:0)):void 0},S.getTickPad=function(v){return"outside"===v.ticks?10+v.ticklen:15},S.getTickMarkLength=function(v){if(!v.ticks)return 0;var c=v.ticklen;return"inside"===v.ticks?-c:c},ie.exports=function(v){return new f(v)}},4796:function(ie,z,r){"use strict";var C=r(30962).overrideAll,E=r(92918),f=r(10820),S=r(77922),M=r(85555),v=r(93612),c=r(528),i=r(27659).NG;z.name="gl2d",z.attr=["xaxis","yaxis"],z.idRoot=["x","y"],z.idRegex=M.idRegex,z.attrRegex=M.attrRegex,z.attributes=r(89502),z.supplyLayoutDefaults=function(u,a,o){a._has("cartesian")||v.supplyLayoutDefaults(u,a,o)},z.layoutAttrOverrides=C(v.layoutAttributes,"plot","from-root"),z.baseLayoutAttrOverrides=C({plot_bgcolor:f.plot_bgcolor,hoverlabel:c.hoverlabel},"plot","nested"),z.plot=function(u){for(var a=u._fullLayout,o=u._fullData,l=a._subplots.gl2d,s=0;s<l.length;s++){var d=l[s],g=a._plots[d],p=i(o,"gl2d",d),T=g._scene2d;void 0===T&&(T=new E({id:d,graphDiv:u,container:u.querySelector(".gl-container"),staticPlot:u._context.staticPlot,plotGlPixelRatio:u._context.plotGlPixelRatio},a),g._scene2d=T),T.plot(p,u.calcdata,a,u.layout)}},z.clean=function(u,a,o,l){for(var s=l._subplots.gl2d||[],d=0;d<s.length;d++){var g=s[d],p=l._plots[g];p._scene2d&&0===i(u,"gl2d",g).length&&(p._scene2d.destroy(),delete l._plots[g])}v.clean.apply(this,arguments)},z.drawFramework=function(u){u._context.staticPlot||v.drawFramework(u)},z.toSVG=function(u){for(var a=u._fullLayout,o=a._subplots.gl2d,l=0;l<o.length;l++){var s=a._plots[o[l]]._scene2d,d=s.toImage("png");a._glimages.append("svg:image").attr({xmlns:S.svg,"xlink:href":d,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),s.destroy()}},z.updateFx=function(u){for(var a=u._fullLayout,o=a._subplots.gl2d,l=0;l<o.length;l++)a._plots[o[l]]._scene2d.updateFx(a.dragmode)}},92918:function(ie,z,r){"use strict";var C,E,f=r(73972),S=r(89298),M=r(30211),v=r(9330).gl_plot2d,c=r(9330).gl_spikes2d,i=r(9330).gl_select_box,u=r(40372),a=r(82961),o=r(75071),l=r(58617),s=r(99082),d=s.enforce,g=s.clean,p=r(71739).doAutoRange,T=r(64505),_=T.drawMode,y=T.selectMode,w=["xaxis","yaxis"],m=r(85555).SUBPLOT_PATTERN;function b(h,O){this.container=h.container,this.graphDiv=h.graphDiv,this.pixelRatio=h.plotGlPixelRatio||window.devicePixelRatio,this.id=h.id,this.staticPlot=!!h.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(O),this.makeFramework(),this.stopped||(this.glplotOptions=a(this),this.glplotOptions.merge(O),this.glplot=v(this.glplotOptions),this.camera=o(this),this.traces={},this.spikes=c(this.glplot),this.selectBox=i(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}ie.exports=b;var k=b.prototype;k.makeFramework=function(){if(this.staticPlot){if(!(E||(C=document.createElement("canvas"),E=u({canvas:C,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}))))throw new Error("Error creating static canvas/context for image server");this.canvas=C,this.gl=E}else{var h=this.container.querySelector(".gl-canvas-focus"),O=u({canvas:h,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!O)return l(this),void(this.stopped=!0);this.canvas=h,this.gl=O}var A=this.canvas;A.style.width="100%",A.style.height="100%",A.style.position="absolute",A.style.top="0px",A.style.left="0px",A.style["pointer-events"]="none",this.updateSize(A);var I=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");I.style.position="absolute",I.style.top=I.style.left="0px",I.style.width=I.style.height="100%",I.style["z-index"]=20,I.style["pointer-events"]="none";var P=this.mouseContainer=document.createElement("div");P.style.position="absolute",P.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var L=this.container;L.appendChild(I),L.appendChild(P);var N=this;P.addEventListener("mouseout",function(){N.isMouseOver=!1,N.unhover()}),P.addEventListener("mouseover",function(){N.isMouseOver=!0})},k.toImage=function(h){h||(h="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(C),this.updateSize(this.canvas);var O=this.glplot.gl,A=O.drawingBufferWidth,I=O.drawingBufferHeight;O.clearColor(1,1,1,0),O.clear(O.COLOR_BUFFER_BIT|O.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),O.bindFramebuffer(O.FRAMEBUFFER,null);var P=new Uint8Array(A*I*4);O.readPixels(0,0,A,I,O.RGBA,O.UNSIGNED_BYTE,P);for(var L=0,N=I-1;L<N;++L,--N)for(var B=0;B<A;++B)for(var W=0;W<4;++W){var j=P[4*(A*L+B)+W];P[4*(A*L+B)+W]=P[4*(A*N+B)+W],P[4*(A*N+B)+W]=j}var Z=document.createElement("canvas");Z.width=A,Z.height=I;var V,q=Z.getContext("2d",{willReadFrequently:!0}),G=q.createImageData(A,I);switch(G.data.set(P),q.putImageData(G,0,0),h){case"jpeg":V=Z.toDataURL("image/jpeg");break;case"webp":V=Z.toDataURL("image/webp");break;default:V=Z.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(C),V},k.updateSize=function(h){h||(h=this.canvas);var O=this.pixelRatio,A=this.fullLayout,P=A.height,L=0|Math.ceil(O*A.width),N=0|Math.ceil(O*P);return h.width===L&&h.height===N||(h.width=L,h.height=N),h},k.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var h=[S.calcTicks(this.xaxis),S.calcTicks(this.yaxis)],O=0;O<2;++O)for(var A=0;A<h[O].length;++A)h[O][A].text=h[O][A].text+"";return h},k.updateRefs=function(h){this.fullLayout=h;var O=this.id.match(m),I="yaxis"+O[2];this.xaxis=this.fullLayout["xaxis"+O[1]],this.yaxis=this.fullLayout[I]},k.relayoutCallback=function(){var h=this.graphDiv,O=this.xaxis,A=this.yaxis,I=h.layout,P={},L=P[O._name+".range"]=O.range.slice(),N=P[A._name+".range"]=A.range.slice();P[O._name+".autorange"]=O.autorange,P[A._name+".autorange"]=A.autorange,f.call("_storeDirectGUIEdit",h.layout,h._fullLayout._preGUI,P);var B=I[O._name];B.range=L,B.autorange=O.autorange;var W=I[A._name];W.range=N,W.autorange=A.autorange,P.lastInputTime=this.camera.lastInputTime,h.emit("plotly_relayout",P)},k.cameraChanged=function(){var h=this.camera;this.glplot.setDataBox(this.calcDataBox());var O=this.computeTickMarks();(function(A,I){for(var P=0;P<2;++P){var L=A[P],N=I[P];if(L.length!==N.length)return!0;for(var B=0;B<L.length;++B)if(L[B].x!==N[B].x)return!0}return!1})(O,this.glplotOptions.ticks)&&(this.glplotOptions.ticks=O,this.glplotOptions.dataBox=h.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},k.handleAnnotations=function(){for(var h=this.graphDiv,O=this.fullLayout.annotations,A=0;A<O.length;A++){var I=O[A];I.xref===this.xaxis._id&&I.yref===this.yaxis._id&&f.getComponentMethod("annotations","drawOne")(h,A)}},k.destroy=function(){if(this.glplot){var h=this.traces;h&&Object.keys(h).map(function(O){h[O].dispose(),delete h[O]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},k.plot=function(h,O,A){var I=this.glplot;this.updateRefs(A),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(h,O),this.updateFx(A.dragmode);var P=A.width,L=A.height;this.updateSize(this.canvas);var N=this.glplotOptions;N.merge(A),N.screenBox=[0,0,P,L];var B={_fullLayout:{_axisConstraintGroups:A._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:A._size}};g(B,this.xaxis),g(B,this.yaxis);var W,j,Z=A._size,V=this.xaxis.domain,q=this.yaxis.domain;for(N.viewBox=[Z.l+V[0]*Z.w,Z.b+q[0]*Z.h,P-Z.r-(1-V[1])*Z.w,L-Z.t-(1-q[1])*Z.h],this.mouseContainer.style.width=Z.w*(V[1]-V[0])+"px",this.mouseContainer.style.height=Z.h*(q[1]-q[0])+"px",this.mouseContainer.height=Z.h*(q[1]-q[0]),this.mouseContainer.style.left=Z.l+V[0]*Z.w+"px",this.mouseContainer.style.top=Z.t+(1-q[1])*Z.h+"px",j=0;j<2;++j)(W=this[w[j]])._length=N.viewBox[j+2]-N.viewBox[j],p(this.graphDiv,W),W.setScale();d(B),N.ticks=this.computeTickMarks(),N.dataBox=this.calcDataBox(),N.merge(A),I.update(N),this.glplot.draw()},k.calcDataBox=function(){var h=this.xaxis,O=this.yaxis,A=h.range,I=O.range,P=h.r2l,L=O.r2l;return[P(A[0]),L(I[0]),P(A[1]),L(I[1])]},k.setRanges=function(h){var O=this.xaxis,A=this.yaxis,I=O.l2r,P=A.l2r;O.range=[I(h[0]),I(h[2])],A.range=[P(h[1]),P(h[3])]},k.updateTraces=function(h,O){var A,I,P,L=Object.keys(this.traces);this.fullData=h;e:for(A=0;A<L.length;A++){var N=L[A],B=this.traces[N];for(I=0;I<h.length;I++)if((P=h[I]).uid===N&&P.type===B.type)continue e;B.dispose(),delete this.traces[N]}for(A=0;A<h.length;A++){var W=O[A],j=this.traces[(P=h[A]).uid];j?j.update(P,W):(j=P._module.plot(this,P,W),this.traces[P.uid]=j)}this.glplot.objects.sort(function(Z,V){return Z._trace.index-V._trace.index})},k.updateFx=function(h){y(h)||_(h)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),this.mouseContainer.style.cursor="pan"===h?"move":"zoom"===h?"crosshair":null},k.emitPointAction=function(h,O){for(var A,I=h.trace.uid,P=h.pointIndex,L=0;L<this.fullData.length;L++)this.fullData[L].uid===I&&(A=this.fullData[L]);var N={x:h.traceCoord[0],y:h.traceCoord[1],curveNumber:A.index,pointNumber:P,data:A._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};M.appendArrayPointValue(N,A,P),this.graphDiv.emit(O,{points:[N]})},k.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var h=this.glplot,O=this.camera,A=O.mouseListener,I=1===this.lastButtonState&&0===A.buttons,P=this.fullLayout;this.lastButtonState=A.buttons,this.cameraChanged();var L,N=A.x*h.pixelRatio,B=this.canvas.height-h.pixelRatio*A.y;if(O.boxEnabled&&"zoom"===P.dragmode){this.selectBox.enabled=!0;for(var W=this.selectBox.selectBox=[Math.min(O.boxStart[0],O.boxEnd[0]),Math.min(O.boxStart[1],O.boxEnd[1]),Math.max(O.boxStart[0],O.boxEnd[0]),Math.max(O.boxStart[1],O.boxEnd[1])],j=0;j<2;j++)O.boxStart[j]===O.boxEnd[j]&&(W[j]=h.dataBox[j],W[j+2]=h.dataBox[j+2]);h.setDirty()}else if(!O.panning&&this.isMouseOver){this.selectBox.enabled=!1;var Z=P._size,G=(L=h.pick(N/h.pixelRatio+Z.l+this.xaxis.domain[0]*Z.w,B/h.pixelRatio-(Z.t+(1-this.yaxis.domain[1])*Z.h)))&&L.object._trace.handlePick(L);if(G&&I&&this.emitPointAction(G,"plotly_click"),L&&"skip"!==L.object._trace.hoverinfo&&P.hovermode&&G&&(!this.lastPickResult||this.lastPickResult.traceUid!==G.trace.uid||this.lastPickResult.dataCoord[0]!==G.dataCoord[0]||this.lastPickResult.dataCoord[1]!==G.dataCoord[1])){var H=G;this.lastPickResult={traceUid:G.trace?G.trace.uid:null,dataCoord:G.dataCoord.slice()},this.spikes.update({center:L.dataCoord}),H.screenCoord=[((h.viewBox[2]-h.viewBox[0])*(L.dataCoord[0]-h.dataBox[0])/(h.dataBox[2]-h.dataBox[0])+h.viewBox[0])/h.pixelRatio,(this.canvas.height-(h.viewBox[3]-h.viewBox[1])*(L.dataCoord[1]-h.dataBox[1])/(h.dataBox[3]-h.dataBox[1])-h.viewBox[1])/h.pixelRatio],this.emitPointAction(G,"plotly_hover");var ne=this.fullData[H.trace.index]||{},X=H.pointIndex,$=M.castHoverinfo(ne,P,X);if($&&"all"!==$){var Q=$.split("+");-1===Q.indexOf("x")&&(H.traceCoord[0]=void 0),-1===Q.indexOf("y")&&(H.traceCoord[1]=void 0),-1===Q.indexOf("z")&&(H.traceCoord[2]=void 0),-1===Q.indexOf("text")&&(H.textLabel=void 0),-1===Q.indexOf("name")&&(H.name=void 0)}M.loneHover({x:H.screenCoord[0],y:H.screenCoord[1],xLabel:this.hoverFormatter("xaxis",H.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",H.traceCoord[1]),zLabel:H.traceCoord[2],text:H.textLabel,name:H.name,color:M.castHoverOption(ne,X,"bgcolor")||H.color,borderColor:M.castHoverOption(ne,X,"bordercolor"),fontFamily:M.castHoverOption(ne,X,"font.family"),fontSize:M.castHoverOption(ne,X,"font.size"),fontColor:M.castHoverOption(ne,X,"font.color"),nameLength:M.castHoverOption(ne,X,"namelength"),textAlign:M.castHoverOption(ne,X,"align")},{container:this.svgContainer,gd:this.graphDiv})}}L||this.unhover(),h.draw()}},k.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),M.loneUnhover(this.svgContainer))},k.hoverFormatter=function(h,O){if(void 0!==O){var A=this[h];return S.tickText(A,A.c2l(O),"hover").text}}},58547:function(ie,z,r){"use strict";var C=r(30962).overrideAll,E=r(528),f=r(33539),S=r(27659).NG,M=r(71828),v=r(77922),c="gl3d",i="scene";z.name=c,z.attr=i,z.idRoot=i,z.idRegex=z.attrRegex=M.counterRegex("scene"),z.attributes=r(59084),z.layoutAttributes=r(65500),z.baseLayoutAttrOverrides=C({hoverlabel:E.hoverlabel},"plot","nested"),z.supplyLayoutDefaults=r(24682),z.plot=function(u){for(var a=u._fullLayout,o=u._fullData,l=a._subplots.gl3d,s=0;s<l.length;s++){var d=l[s],g=S(o,c,d),p=a[d],T=p.camera,_=p._scene;_||(_=new f({id:d,graphDiv:u,container:u.querySelector(".gl-container"),staticPlot:u._context.staticPlot,plotGlPixelRatio:u._context.plotGlPixelRatio,camera:T},a),p._scene=_),_.viewInitial||(_.viewInitial={up:{x:T.up.x,y:T.up.y,z:T.up.z},eye:{x:T.eye.x,y:T.eye.y,z:T.eye.z},center:{x:T.center.x,y:T.center.y,z:T.center.z}}),_.plot(g,a,u.layout)}},z.clean=function(u,a,o,l){for(var s=l._subplots.gl3d||[],d=0;d<s.length;d++){var g=s[d];!a[g]&&l[g]._scene&&(l[g]._scene.destroy(),l._infolayer&&l._infolayer.selectAll(".annotation-"+g).remove())}},z.toSVG=function(u){for(var a=u._fullLayout,o=a._subplots.gl3d,l=a._size,s=0;s<o.length;s++){var d=a[o[s]],g=d.domain,p=d._scene,T=p.toImage("png");a._glimages.append("svg:image").attr({xmlns:v.svg,"xlink:href":T,x:l.l+l.w*g.x[0],y:l.t+l.h*(1-g.y[1]),width:l.w*(g.x[1]-g.x[0]),height:l.h*(g.y[1]-g.y[0]),preserveAspectRatio:"none"}),p.destroy()}},z.cleanId=function(u){if(u.match(/^scene[0-9]*$/)){var a=u.substr(5);return"1"===a&&(a=""),i+a}},z.updateFx=function(u){for(var a=u._fullLayout,o=a._subplots.gl3d,l=0;l<o.length;l++)a[o[l]]._scene.updateFx(a.dragmode,a.hovermode)}},59084:function(ie){"use strict";ie.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},77894:function(ie,z,r){"use strict";var C=r(7901),E=r(13838),f=r(1426).extendFlat,S=r(30962).overrideAll;ie.exports=S({visible:E.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:C.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:E.color,categoryorder:E.categoryorder,categoryarray:E.categoryarray,title:{text:E.title.text,font:E.title.font},type:f({},E.type,{values:["-","linear","log","date","category"]}),autotypenumbers:E.autotypenumbers,autorange:E.autorange,rangemode:E.rangemode,range:f({},E.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:E.minor.tickmode,nticks:E.nticks,tick0:E.tick0,dtick:E.dtick,tickvals:E.tickvals,ticktext:E.ticktext,ticks:E.ticks,mirror:E.mirror,ticklen:E.ticklen,tickwidth:E.tickwidth,tickcolor:E.tickcolor,showticklabels:E.showticklabels,tickfont:E.tickfont,tickangle:E.tickangle,tickprefix:E.tickprefix,showtickprefix:E.showtickprefix,ticksuffix:E.ticksuffix,showticksuffix:E.showticksuffix,showexponent:E.showexponent,exponentformat:E.exponentformat,minexponent:E.minexponent,separatethousands:E.separatethousands,tickformat:E.tickformat,tickformatstops:E.tickformatstops,hoverformat:E.hoverformat,showline:E.showline,linecolor:E.linecolor,linewidth:E.linewidth,showgrid:E.showgrid,gridcolor:f({},E.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:E.gridwidth,zeroline:E.zeroline,zerolinecolor:E.zerolinecolor,zerolinewidth:E.zerolinewidth,_deprecated:{title:E._deprecated.title,titlefont:E._deprecated.titlefont}},"plot","from-root")},3277:function(ie,z,r){"use strict";var C=r(84267).mix,E=r(71828),f=r(44467),S=r(77894),M=r(951),v=r(71453),c=["xaxis","yaxis","zaxis"];ie.exports=function(i,u,a){var o,l;function s(p,T){return E.coerce(o,l,S,p,T)}for(var d=0;d<c.length;d++){var g=c[d];o=i[g]||{},(l=f.newContainer(u,g))._id=g[0]+a.scene,l._name=g,M(o,l,s,a),v(o,l,s,{font:a.font,letter:g[0],data:a.data,showGrid:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,bgColor:a.bgColor,calendar:a.calendar},a.fullLayout),s("gridcolor",C(l.color,a.bgColor,72.72727272727273).toRgbString()),s("title.text",g[0]),l.setScale=E.noop,s("showspikes")&&(s("spikesides"),s("spikethickness"),s("spikecolor",l.color)),s("showaxeslabels"),s("showbackground")&&s("backgroundcolor")}}},30422:function(ie,z,r){"use strict";var C=r(78614),E=r(71828),f=["xaxis","yaxis","zaxis"];function S(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}S.prototype.merge=function(M,v){for(var c=this,i=0;i<3;++i){var u=v[f[i]];u.visible?(c.labels[i]=M._meta?E.templateString(u.title.text,M._meta):u.title.text,"font"in u.title&&(u.title.font.color&&(c.labelColor[i]=C(u.title.font.color)),u.title.font.family&&(c.labelFont[i]=u.title.font.family),u.title.font.size&&(c.labelSize[i]=u.title.font.size)),"showline"in u&&(c.lineEnable[i]=u.showline),"linecolor"in u&&(c.lineColor[i]=C(u.linecolor)),"linewidth"in u&&(c.lineWidth[i]=u.linewidth),"showgrid"in u&&(c.gridEnable[i]=u.showgrid),"gridcolor"in u&&(c.gridColor[i]=C(u.gridcolor)),"gridwidth"in u&&(c.gridWidth[i]=u.gridwidth),"log"===u.type?c.zeroEnable[i]=!1:"zeroline"in u&&(c.zeroEnable[i]=u.zeroline),"zerolinecolor"in u&&(c.zeroLineColor[i]=C(u.zerolinecolor)),"zerolinewidth"in u&&(c.zeroLineWidth[i]=u.zerolinewidth),c.lineTickEnable[i]=!(!("ticks"in u)||!u.ticks),"ticklen"in u&&(c.lineTickLength[i]=c._defaultLineTickLength[i]=u.ticklen),"tickcolor"in u&&(c.lineTickColor[i]=C(u.tickcolor)),"tickwidth"in u&&(c.lineTickWidth[i]=u.tickwidth),"tickangle"in u&&(c.tickAngle[i]="auto"===u.tickangle?-3600:Math.PI*-u.tickangle/180),"showticklabels"in u&&(c.tickEnable[i]=u.showticklabels),"tickfont"in u&&(u.tickfont.color&&(c.tickColor[i]=C(u.tickfont.color)),u.tickfont.family&&(c.tickFont[i]=u.tickfont.family),u.tickfont.size&&(c.tickSize[i]=u.tickfont.size)),"mirror"in u?-1!==["ticks","all","allticks"].indexOf(u.mirror)?(c.lineTickMirror[i]=!0,c.lineMirror[i]=!0):!0===u.mirror?(c.lineTickMirror[i]=!1,c.lineMirror[i]=!0):(c.lineTickMirror[i]=!1,c.lineMirror[i]=!1):c.lineMirror[i]=!1,"showbackground"in u&&!1!==u.showbackground?(c.backgroundEnable[i]=!0,c.backgroundColor[i]=C(u.backgroundcolor)):c.backgroundEnable[i]=!1):(c.tickEnable[i]=!1,c.labelEnable[i]=!1,c.lineEnable[i]=!1,c.lineTickEnable[i]=!1,c.gridEnable[i]=!1,c.zeroEnable[i]=!1,c.backgroundEnable[i]=!1)}},ie.exports=function(M,v){var c=new S;return c.merge(M,v),c}},24682:function(ie,z,r){"use strict";var C=r(71828),E=r(7901),f=r(73972),S=r(49119),M=r(3277),v=r(65500),c=r(27659).NG,i="gl3d";function u(a,o,l,s){for(var d=l("bgcolor"),g=E.combine(d,s.paper_bgcolor),p=["up","center","eye"],T=0;T<p.length;T++)l("camera."+p[T]+".x"),l("camera."+p[T]+".y"),l("camera."+p[T]+".z");l("camera.projection.type");var _=!!l("aspectratio.x")&&!!l("aspectratio.y")&&!!l("aspectratio.z"),y=l("aspectmode",_?"manual":"auto");_||(a.aspectratio=o.aspectratio={x:1,y:1,z:1},"manual"===y&&(o.aspectmode="auto"),a.aspectmode=o.aspectmode);var w=c(s.fullData,i,s.id);M(a,o,{font:s.font,scene:s.id,data:w,bgColor:g,calendar:s.calendar,autotypenumbersDflt:s.autotypenumbersDflt,fullLayout:s.fullLayout}),f.getComponentMethod("annotations3d","handleDefaults")(a,o,s);var m=s.getDfltFromLayout("dragmode");if(!1!==m&&!m)if(m="orbit",a.camera&&a.camera.up){var b=a.camera.up.x,k=a.camera.up.y,h=a.camera.up.z;0!==h&&(b&&k&&h?h/Math.sqrt(b*b+k*k+h*h)>.999&&(m="turntable"):m="turntable")}else m="turntable";l("dragmode",m),l("hovermode",s.getDfltFromLayout("hovermode"))}ie.exports=function(a,o,l){var s=o._basePlotModules.length>1;S(a,o,l,{type:i,attributes:v,handleDefaults:u,fullLayout:o,font:o.font,fullData:l,getDfltFromLayout:function(d){if(!s)return C.validate(a[d],v[d])?a[d]:void 0},autotypenumbersDflt:o.autotypenumbers,paper_bgcolor:o.paper_bgcolor,calendar:o.calendar})}},65500:function(ie,z,r){"use strict";var C=r(77894),E=r(27670).Y,f=r(1426).extendFlat,S=r(71828).counterRegex;function M(v,c,i){return{x:{valType:"number",dflt:v,editType:"camera"},y:{valType:"number",dflt:c,editType:"camera"},z:{valType:"number",dflt:i,editType:"camera"},editType:"camera"}}ie.exports={_arrayAttrRegexps:[S("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:f(M(0,0,1),{}),center:f(M(0,0,0),{}),eye:f(M(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:E({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:C,yaxis:C,zaxis:C,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},13133:function(ie,z,r){"use strict";var C=r(78614),E=["xaxis","yaxis","zaxis"];function f(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}f.prototype.merge=function(S){for(var M=0;M<3;++M){var v=S[E[M]];v.visible?(this.enabled[M]=v.showspikes,this.colors[M]=C(v.spikecolor),this.drawSides[M]=v.spikesides,this.lineWidth[M]=v.spikethickness):(this.enabled[M]=!1,this.drawSides[M]=!1)}},ie.exports=function(S){var M=new f;return M.merge(S),M}},96085:function(ie,z,r){"use strict";ie.exports=function(M){for(var v=M.axesOptions,c=M.glplot.axesPixels,i=M.fullSceneLayout,u=[[],[],[]],a=0;a<3;++a){var o=i[f[a]];if(o._length=(c[a].hi-c[a].lo)*c[a].pixelsPerDataUnit/M.dataScale[a],Math.abs(o._length)===1/0||isNaN(o._length))u[a]=[];else{o._input_range=o.range.slice(),o.range[0]=c[a].lo/M.dataScale[a],o.range[1]=c[a].hi/M.dataScale[a],o._m=1/(M.dataScale[a]*c[a].pixelsPerDataUnit),o.range[0]===o.range[1]&&(o.range[0]-=1,o.range[1]+=1);var l=o.tickmode;if("auto"===o.tickmode){o.tickmode="linear";var s=o.nticks||E.constrain(o._length/40,4,9);C.autoTicks(o,Math.abs(o.range[1]-o.range[0])/s)}for(var d=C.calcTicks(o,{msUTC:!0}),g=0;g<d.length;++g)d[g].x=d[g].x*M.dataScale[a],"date"===o.type&&(d[g].text=d[g].text.replace(/\<br\>/g," "));u[a]=d,o.tickmode=l}}for(v.ticks=u,a=0;a<3;++a)for(S[a]=.5*(M.glplot.bounds[0][a]+M.glplot.bounds[1][a]),g=0;g<2;++g)v.bounds[g][a]=M.glplot.bounds[g][a];M.contourLevels=function(p){for(var T=new Array(3),_=0;_<3;++_){for(var y=p[_],w=new Array(y.length),m=0;m<y.length;++m)w[m]=y[m].x;T[_]=w}return T}(u)};var C=r(89298),E=r(71828),f=["xaxis","yaxis","zaxis"],S=[0,0,0]},63538:function(ie){"use strict";function z(r,C){var E,f,S=[0,0,0,0];for(E=0;E<4;++E)for(f=0;f<4;++f)S[f]+=r[4*E+f]*C[E];return S}ie.exports=function(r,C){return z(r.projection,z(r.view,z(r.model,[C[0],C[1],C[2],1])))}},33539:function(ie,z,r){"use strict";var C,E,f=r(9330).gl_plot3d,S=f.createCamera,M=f.createScene,v=r(40372),c=r(38520),i=r(73972),u=r(71828),a=u.preserveDrawingBuffer(),o=r(89298),l=r(30211),s=r(78614),d=r(58617),g=r(63538),p=r(30422),T=r(13133),_=r(96085);function y(h,O){var A=document.createElement("div"),I=h.container;this.graphDiv=h.graphDiv;var P=document.createElementNS("http://www.w3.org/2000/svg","svg");P.style.position="absolute",P.style.top=P.style.left="0px",P.style.width=P.style.height="100%",P.style["z-index"]=20,P.style["pointer-events"]="none",A.appendChild(P),this.svgContainer=P,A.id=h.id,A.style.position="absolute",A.style.top=A.style.left="0px",A.style.width=A.style.height="100%",I.appendChild(A),this.fullLayout=O,this.id=h.id||"scene",this.fullSceneLayout=O[this.id],this.plotArgs=[[],{},{}],this.axesOptions=p(O,O[this.id]),this.spikeOptions=T(O[this.id]),this.container=A,this.staticMode=!!h.staticPlot,this.pixelRatio=this.pixelRatio||h.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=i.getComponentMethod("annotations3d","convert"),this.drawAnnotations=i.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var w=y.prototype;w.prepareOptions=function(){var h=this,O={canvas:h.canvas,gl:h.gl,glOptions:{preserveDrawingBuffer:a,premultipliedAlpha:!0,antialias:!0},container:h.container,axes:h.axesOptions,spikes:h.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:h.camera,pixelRatio:h.pixelRatio};if(h.staticMode){if(!(E||(C=document.createElement("canvas"),E=v({canvas:C,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}))))throw new Error("error creating static canvas/context for image server");O.gl=E,O.canvas=C}return O};var m=!0;w.tryCreatePlot=function(){var h=this,O=h.prepareOptions(),A=!0;try{h.glplot=M(O)}catch{if(h.staticMode||!m||a)A=!1;else{u.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{a=O.glOptions.preserveDrawingBuffer=!0,h.glplot=M(O)}catch{a=O.glOptions.preserveDrawingBuffer=!1,A=!1}}}return m=!1,A},w.initializeGLCamera=function(){var h=this,O=h.fullSceneLayout.camera;h.camera=S(h.container,{center:[O.center.x,O.center.y,O.center.z],eye:[O.eye.x,O.eye.y,O.eye.z],up:[O.up.x,O.up.y,O.up.z],_ortho:"orthographic"===O.projection.type,zoomMin:.01,zoomMax:100,mode:"orbit"})},w.initializeGLPlot=function(){var h=this;if(h.initializeGLCamera(),!h.tryCreatePlot())return d(h);h.traces={},h.make4thDimension();var O=h.graphDiv,A=O.layout,I=function(){var L={};return h.isCameraChanged(A)&&(L[h.id+".camera"]=h.getCamera()),h.isAspectChanged(A)&&(L[h.id+".aspectratio"]=h.glplot.getAspectratio(),"manual"!==A[h.id].aspectmode&&(h.fullSceneLayout.aspectmode=A[h.id].aspectmode=L[h.id+".aspectmode"]="manual")),L},P=function(L){if(!1!==L.fullSceneLayout.dragmode){var N=I();L.saveLayout(A),L.graphDiv.emit("plotly_relayout",N)}};return h.glplot.canvas&&(h.glplot.canvas.addEventListener("mouseup",function(){P(h)}),h.glplot.canvas.addEventListener("wheel",function(L){if(O._context._scrollZoom.gl3d){if(h.camera._ortho){var N=L.deltaX>L.deltaY?1.1:.9090909090909091,B=h.glplot.getAspectratio();h.glplot.setAspectratio({x:N*B.x,y:N*B.y,z:N*B.z})}P(h)}},!!c&&{passive:!1}),h.glplot.canvas.addEventListener("mousemove",function(){if(!1!==h.fullSceneLayout.dragmode&&0!==h.camera.mouseListener.buttons){var L=I();h.graphDiv.emit("plotly_relayouting",L)}}),h.staticMode||h.glplot.canvas.addEventListener("webglcontextlost",function(L){O&&O.emit&&O.emit("plotly_webglcontextlost",{event:L,layer:h.id})},!1)),h.glplot.oncontextloss=function(){h.recoverContext()},h.glplot.onrender=function(){h.render()},!0},w.render=function(){var h,O=this,A=O.graphDiv,I=O.svgContainer,P=O.container.getBoundingClientRect();A._fullLayout._calcInverseTransform(A);var B=P.width*A._fullLayout._invScaleX,W=P.height*A._fullLayout._invScaleY;I.setAttributeNS(null,"viewBox","0 0 "+B+" "+W),I.setAttributeNS(null,"width",B),I.setAttributeNS(null,"height",W),_(O),O.glplot.axes.update(O.axesOptions);for(var j=Object.keys(O.traces),Z=null,V=O.glplot.selection,q=0;q<j.length;++q)"skip"!==(h=O.traces[j[q]]).data.hoverinfo&&h.handlePick(V)&&(Z=h),h.setContourLevels&&h.setContourLevels();function G(ke,Ae,pe){var ye=O.fullSceneLayout[ke+"axis"];return"log"!==ye.type&&(Ae=ye.d2l(Ae)),o.hoverLabelText(ye,Ae,pe)}if(null!==Z){var ne,H=g(O.glplot.cameraParams,V.dataCoordinate),X=A._fullData[(h=Z.data).index],$=V.index,Q={xLabel:G("x",V.traceCoordinate[0],h.xhoverformat),yLabel:G("y",V.traceCoordinate[1],h.yhoverformat),zLabel:G("z",V.traceCoordinate[2],h.zhoverformat)},te=l.castHoverinfo(X,O.fullLayout,$),re=(te||"").split("+"),le=te&&"all"===te;X.hovertemplate||le||(-1===re.indexOf("x")&&(Q.xLabel=void 0),-1===re.indexOf("y")&&(Q.yLabel=void 0),-1===re.indexOf("z")&&(Q.zLabel=void 0),-1===re.indexOf("text")&&(V.textLabel=void 0),-1===re.indexOf("name")&&(Z.name=void 0));var ue=[];"cone"===h.type||"streamtube"===h.type?(Q.uLabel=G("x",V.traceCoordinate[3],h.uhoverformat),(le||-1!==re.indexOf("u"))&&ue.push("u: "+Q.uLabel),Q.vLabel=G("y",V.traceCoordinate[4],h.vhoverformat),(le||-1!==re.indexOf("v"))&&ue.push("v: "+Q.vLabel),Q.wLabel=G("z",V.traceCoordinate[5],h.whoverformat),(le||-1!==re.indexOf("w"))&&ue.push("w: "+Q.wLabel),Q.normLabel=V.traceCoordinate[6].toPrecision(3),(le||-1!==re.indexOf("norm"))&&ue.push("norm: "+Q.normLabel),"streamtube"===h.type&&(Q.divergenceLabel=V.traceCoordinate[7].toPrecision(3),(le||-1!==re.indexOf("divergence"))&&ue.push("divergence: "+Q.divergenceLabel)),V.textLabel&&ue.push(V.textLabel),ne=ue.join("<br>")):"isosurface"===h.type||"volume"===h.type?(Q.valueLabel=o.hoverLabelText(O._mockAxis,O._mockAxis.d2l(V.traceCoordinate[3]),h.valuehoverformat),ue.push("value: "+Q.valueLabel),V.textLabel&&ue.push(V.textLabel),ne=ue.join("<br>")):ne=V.textLabel;var he={x:V.traceCoordinate[0],y:V.traceCoordinate[1],z:V.traceCoordinate[2],data:X._input,fullData:X,curveNumber:X.index,pointNumber:$};l.appendArrayPointValue(he,X,$),h._module.eventData&&(he=X._module.eventData(he,V,X,{},$));var ge={points:[he]};if(O.fullSceneLayout.hovermode){var xe=[];l.loneHover({trace:X,x:(.5+.5*H[0]/H[3])*B,y:(.5-.5*H[1]/H[3])*W,xLabel:Q.xLabel,yLabel:Q.yLabel,zLabel:Q.zLabel,text:ne,name:Z.name,color:l.castHoverOption(X,$,"bgcolor")||Z.color,borderColor:l.castHoverOption(X,$,"bordercolor"),fontFamily:l.castHoverOption(X,$,"font.family"),fontSize:l.castHoverOption(X,$,"font.size"),fontColor:l.castHoverOption(X,$,"font.color"),nameLength:l.castHoverOption(X,$,"namelength"),textAlign:l.castHoverOption(X,$,"align"),hovertemplate:u.castOption(X,$,"hovertemplate"),hovertemplateLabels:u.extendFlat({},he,Q),eventData:[he]},{container:I,gd:A,inOut_bbox:xe}),he.bbox=xe[0]}A.emit(V.buttons&&V.distance<5?"plotly_click":"plotly_hover",ge),this.oldEventData=ge}else l.loneUnhover(I),this.oldEventData&&A.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;O.drawAnnotations(O)},w.recoverContext=function(){var h=this;h.glplot.dispose();var O=function(){h.glplot.gl.isContextLost()?requestAnimationFrame(O):h.initializeGLPlot()?h.plot.apply(h,h.plotArgs):u.error("Catastrophic and unrecoverable WebGL error. Context lost.")};requestAnimationFrame(O)};var b=["xaxis","yaxis","zaxis"];function k(h,O,A){for(var I=h.fullSceneLayout,P=0;P<3;P++){var L=b[P],N=L.charAt(0),B=I[L],W=O[N],j=O[N+"calendar"],Z=O["_"+N+"length"];if(u.isArrayOrTypedArray(W))for(var V,q=0;q<(Z||W.length);q++)if(u.isArrayOrTypedArray(W[q]))for(var G=0;G<W[q].length;++G)V=B.d2l(W[q][G],0,j),!isNaN(V)&&isFinite(V)&&(A[0][P]=Math.min(A[0][P],V),A[1][P]=Math.max(A[1][P],V));else V=B.d2l(W[q],0,j),!isNaN(V)&&isFinite(V)&&(A[0][P]=Math.min(A[0][P],V),A[1][P]=Math.max(A[1][P],V));else A[0][P]=Math.min(A[0][P],0),A[1][P]=Math.max(A[1][P],Z-1)}}w.plot=function(h,O,A){var I=this;if(I.plotArgs=[h,O,A],!I.glplot.contextLost){var P,L,N,B,W,j,Z=O[I.id],V=A[I.id];I.fullLayout=O,I.fullSceneLayout=Z,I.axesOptions.merge(O,Z),I.spikeOptions.merge(Z),I.setViewport(Z),I.updateFx(Z.dragmode,Z.hovermode),I.camera.enableWheel=I.graphDiv._context._scrollZoom.gl3d,I.glplot.setClearColor(s(Z.bgcolor)),I.setConvert(W),h?Array.isArray(h)||(h=[h]):h=[];var q=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(N=0;N<h.length;++N)!0===(P=h[N]).visible&&0!==P._length&&k(this,P,q);!function(_e,Me){for(var Pe=_e.fullSceneLayout,Ue=Pe.annotations||[],Be=0;Be<3;Be++)for(var Ve=b[Be],ve=Ve.charAt(0),Te=Pe[Ve],Ce=0;Ce<Ue.length;Ce++){var We=Ue[Ce];if(We.visible){var Ke=Te.r2l(We[ve]);!isNaN(Ke)&&isFinite(Ke)&&(Me[0][Be]=Math.min(Me[0][Be],Ke),Me[1][Be]=Math.max(Me[1][Be],Ke))}}}(this,q);var G=[1,1,1];for(B=0;B<3;++B)G[B]=q[1][B]===q[0][B]?1:1/(q[1][B]-q[0][B]);for(I.dataScale=G,I.convertAnnotations(this),N=0;N<h.length;++N)!0===(P=h[N]).visible&&0!==P._length&&((L=I.traces[P.uid])?L.data.type===P.type?L.update(P):(L.dispose(),L=P._module.plot(this,P),I.traces[P.uid]=L):(L=P._module.plot(this,P),I.traces[P.uid]=L),L.name=P.name);var H=Object.keys(I.traces);e:for(N=0;N<H.length;++N){for(B=0;B<h.length;++B)if(h[B].uid===H[N]&&!0===h[B].visible&&0!==h[B]._length)continue e;(L=I.traces[H[N]]).dispose(),delete I.traces[H[N]]}I.glplot.objects.sort(function(_e,Me){return _e._trace.data.index-Me._trace.data.index});var ne,X=[[0,0,0],[0,0,0]],$=[],Q={};for(N=0;N<3;++N){if((j=(W=Z[b[N]]).type)in Q?(Q[j].acc*=G[N],Q[j].count+=1):Q[j]={acc:G[N],count:1},W.autorange){X[0][N]=1/0,X[1][N]=-1/0;var te=I.glplot.objects,re=I.fullSceneLayout.annotations||[],le=W._name.charAt(0);for(B=0;B<te.length;B++){var ue=te[B],he=ue.bounds,ge=ue._trace.data._pad||0;X[0][N]="ErrorBars"===ue.constructor.name&&W._lowerLogErrorBound?Math.min(X[0][N],W._lowerLogErrorBound):Math.min(X[0][N],he[0][N]/G[N]-ge),X[1][N]=Math.max(X[1][N],he[1][N]/G[N]+ge)}for(B=0;B<re.length;B++){var xe=re[B];if(xe.visible){var ke=W.r2l(xe[le]);X[0][N]=Math.min(X[0][N],ke),X[1][N]=Math.max(X[1][N],ke)}}if("rangemode"in W&&"tozero"===W.rangemode&&(X[0][N]=Math.min(X[0][N],0),X[1][N]=Math.max(X[1][N],0)),X[0][N]>X[1][N])X[0][N]=-1,X[1][N]=1;else{var Ae=X[1][N]-X[0][N];X[0][N]-=Ae/32,X[1][N]+=Ae/32}if("reversed"===W.autorange){var pe=X[0][N];X[0][N]=X[1][N],X[1][N]=pe}}else{var ye=W.range;X[0][N]=W.r2l(ye[0]),X[1][N]=W.r2l(ye[1])}X[0][N]===X[1][N]&&(X[0][N]-=1,X[1][N]+=1),$[N]=X[1][N]-X[0][N],I.glplot.setBounds(N,{min:X[0][N]*G[N],max:X[1][N]*G[N]})}var Ne=Z.aspectmode;if("cube"===Ne)ne=[1,1,1];else if("manual"===Ne){var be=Z.aspectratio;ne=[be.x,be.y,be.z]}else{if("auto"!==Ne&&"data"!==Ne)throw new Error("scene.js aspectRatio was not one of the enumerated types");var Ee=[1,1,1];for(N=0;N<3;++N){var Oe=Q[j=(W=Z[b[N]]).type];Ee[N]=Math.pow(Oe.acc,1/Oe.count)/G[N]}ne="data"===Ne||Math.max.apply(null,Ee)/Math.min.apply(null,Ee)<=4?Ee:[1,1,1]}Z.aspectratio.x=V.aspectratio.x=ne[0],Z.aspectratio.y=V.aspectratio.y=ne[1],Z.aspectratio.z=V.aspectratio.z=ne[2],I.glplot.setAspectratio(Z.aspectratio),I.viewInitial.aspectratio||(I.viewInitial.aspectratio={x:Z.aspectratio.x,y:Z.aspectratio.y,z:Z.aspectratio.z}),I.viewInitial.aspectmode||(I.viewInitial.aspectmode=Z.aspectmode);var De=Z.domain||null,oe=O._size||null;if(De&&oe){var de=I.container.style;de.position="absolute",de.left=oe.l+De.x[0]*oe.w+"px",de.top=oe.t+(1-De.y[1])*oe.h+"px",de.width=oe.w*(De.x[1]-De.x[0])+"px",de.height=oe.h*(De.y[1]-De.y[0])+"px"}I.glplot.redraw()}},w.destroy=function(){var h=this;h.glplot&&(h.camera.mouseListener.enabled=!1,h.container.removeEventListener("wheel",h.camera.wheelListener),h.camera=null,h.glplot.dispose(),h.container.parentNode.removeChild(h.container),h.glplot=null)},w.getCamera=function(){var h,O=this;return O.camera.view.recalcMatrix(O.camera.view.lastT()),{up:{x:(h=O.camera).up[0],y:h.up[1],z:h.up[2]},center:{x:h.center[0],y:h.center[1],z:h.center[2]},eye:{x:h.eye[0],y:h.eye[1],z:h.eye[2]},projection:{type:!0===h._ortho?"orthographic":"perspective"}}},w.setViewport=function(h){var O,A=this,I=h.camera;A.camera.lookAt.apply(this,[[(O=I).eye.x,O.eye.y,O.eye.z],[O.center.x,O.center.y,O.center.z],[O.up.x,O.up.y,O.up.z]]),A.glplot.setAspectratio(h.aspectratio),"orthographic"===I.projection.type!==A.camera._ortho&&(A.glplot.redraw(),A.glplot.clearRGBA(),A.glplot.dispose(),A.initializeGLPlot())},w.isCameraChanged=function(h){var O=this.getCamera(),A=u.nestedProperty(h,this.id+".camera").get();var B,W,j,Z,V,q,P=!1;if(void 0===A)P=!0;else{for(var L=0;L<3;L++)for(var N=0;N<3;N++)if(B=O,Z=N,V=void 0,q=void 0,q=["x","y","z"],!(W=A)[(V=["up","center","eye"])[j=L]]||B[V[j]][q[Z]]!==W[V[j]][q[Z]]){P=!0;break}(!A.projection||O.projection&&O.projection.type!==A.projection.type)&&(P=!0)}return P},w.isAspectChanged=function(h){var O=this.glplot.getAspectratio(),A=u.nestedProperty(h,this.id+".aspectratio").get();return void 0===A||A.x!==O.x||A.y!==O.y||A.z!==O.z},w.saveLayout=function(h){var O,A,I,P,L,N,B=this,W=B.fullLayout,j=B.isCameraChanged(h),Z=B.isAspectChanged(h),V=j||Z;if(V){var q={};j&&(O=B.getCamera(),I=(A=u.nestedProperty(h,B.id+".camera")).get(),q[B.id+".camera"]=I),Z&&(P=B.glplot.getAspectratio(),N=(L=u.nestedProperty(h,B.id+".aspectratio")).get(),q[B.id+".aspectratio"]=N),i.call("_storeDirectGUIEdit",h,W._preGUI,q),j&&(A.set(O),u.nestedProperty(W,B.id+".camera").set(O)),Z&&(L.set(P),u.nestedProperty(W,B.id+".aspectratio").set(P),B.glplot.redraw())}return V},w.updateFx=function(h,O){var A=this,I=A.camera;if(I)if("orbit"===h)I.mode="orbit",I.keyBindingMode="rotate";else if("turntable"===h){I.up=[0,0,1],I.mode="turntable",I.keyBindingMode="rotate";var P=A.graphDiv,L=P._fullLayout,N=A.fullSceneLayout.camera,B=N.up.x,W=N.up.y,j=N.up.z;if(j/Math.sqrt(B*B+W*W+j*j)<.999){var Z=A.id+".camera.up",V={x:0,y:0,z:1},q={};q[Z]=V;var G=P.layout;i.call("_storeDirectGUIEdit",G,L._preGUI,q),N.up=V,u.nestedProperty(G,Z).set(V)}}else I.keyBindingMode=h;A.fullSceneLayout.hovermode=O},w.toImage=function(h){var O=this;h||(h="png"),O.staticMode&&O.container.appendChild(C),O.glplot.redraw();var A=O.glplot.gl,I=A.drawingBufferWidth,P=A.drawingBufferHeight;A.bindFramebuffer(A.FRAMEBUFFER,null);var L=new Uint8Array(I*P*4);A.readPixels(0,0,I,P,A.RGBA,A.UNSIGNED_BYTE,L),function(Z,V,q){for(var G=0,H=q-1;G<H;++G,--H)for(var ne=0;ne<V;++ne)for(var X=0;X<4;++X){var $=4*(V*G+ne)+X,Q=4*(V*H+ne)+X,te=Z[$];Z[$]=Z[Q],Z[Q]=te}}(L,I,P),function(Z,V,q){for(var G=0;G<q;++G)for(var H=0;H<V;++H){var ne=4*(V*G+H),X=Z[ne+3];if(X>0)for(var $=255/X,Q=0;Q<3;++Q)Z[ne+Q]=Math.min($*Z[ne+Q],255)}}(L,I,P);var N=document.createElement("canvas");N.width=I,N.height=P;var B,W=N.getContext("2d",{willReadFrequently:!0}),j=W.createImageData(I,P);switch(j.data.set(L),W.putImageData(j,0,0),h){case"jpeg":B=N.toDataURL("image/jpeg");break;case"webp":B=N.toDataURL("image/webp");break;default:B=N.toDataURL("image/png")}return O.staticMode&&O.container.removeChild(C),B},w.setConvert=function(){for(var h=0;h<3;h++){var O=this.fullSceneLayout[b[h]];o.setConvert(O,this.fullLayout),O.setScale=u.noop}},w.make4thDimension=function(){var h=this,O=h.graphDiv._fullLayout;h._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},o.setConvert(h._mockAxis,O)},ie.exports=y},90060:function(ie){"use strict";ie.exports=function(z,r,C,E){E=E||z.length;for(var f=new Array(E),S=0;S<E;S++)f[S]=[z[S],r[S],C[S]];return f}},10820:function(ie,z,r){"use strict";var C=r(41940),E=r(85594),f=r(22399),S=r(29241),M=r(53777),v=r(35025),c=r(1426).extendFlat,i=C({editType:"calc"});i.family.dflt='"Open Sans", verdana, arial, sans-serif',i.size.dflt=12,i.color.dflt=f.defaultLine,ie.exports={font:i,title:{text:{valType:"string",editType:"layoutstyle"},font:C({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:c(v({editType:"layoutstyle"}),{}),editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:f.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:f.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:f.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:S.newshape,activeshape:S.activeshape,newselection:M.newselection,activeselection:M.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:c({},E.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:C({editType:"layoutstyle"})}}},77734:function(ie,z,r){"use strict";var C=r(78607),E='\xa9 <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',f=['\xa9 <a target="_blank" href="https://carto.com/">Carto</a>',E].join(" "),S=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),M={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:E,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}]},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}]},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:f,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}]},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:f,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}]},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:S,tiles:["https://stamen-tiles.a.ssl.fastly.net/terrain/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}]},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:S,tiles:["https://stamen-tiles.a.ssl.fastly.net/toner/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}]},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),tiles:["https://stamen-tiles.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}]}},v=C(M);ie.exports={requiredVersion:"1.10.1",styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:M,styleValuesNonMapbox:v,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install mapbox-gl@1.10.1."].join("\n"),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join("\n"),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",v.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join("\n"),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join("\n"),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":'content: ""; cursor: pointer; position: absolute; background-image: url(\'data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E\'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;',"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":'display:block; width: 21px; height: 21px; background-image: url(\'data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E\')'}}},13056:function(ie,z,r){"use strict";var C=r(71828);ie.exports=function(E,f){var S=E.split(" "),M=S[0],v=S[1],c=C.isArrayOrTypedArray(f)?C.mean(f):f,i=.5+c/100,u=1.5+c/100,a=["",""],o=[0,0];switch(M){case"top":a[0]="top",o[1]=-u;break;case"bottom":a[0]="bottom",o[1]=u}switch(v){case"left":a[1]="right",o[0]=-i;break;case"right":a[1]="left",o[0]=i}return{anchor:a[0]&&a[1]?a.join("-"):a[0]?a[0]:a[1]?a[1]:"center",offset:o}}},50101:function(ie,z,r){"use strict";var C=r(44517),E=r(71828),f=E.strTranslate,S=E.strScale,M=r(27659).AU,v=r(77922),c=r(39898),i=r(91424),u=r(63893),a=r(10481),o="mapbox",l=z.constants=r(77734);function s(d){return"string"==typeof d&&(-1!==l.styleValuesMapbox.indexOf(d)||0===d.indexOf("mapbox://"))}z.name=o,z.attr="subplot",z.idRoot=o,z.idRegex=z.attrRegex=E.counterRegex(o),z.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},z.layoutAttributes=r(23585),z.supplyLayoutDefaults=r(77882),z.plot=function(d){var g=d._fullLayout,p=d.calcdata,T=g._subplots.mapbox;if(C.version!==l.requiredVersion)throw new Error(l.wrongVersionErrorMsg);var _=function(h,O){var A=h._fullLayout;if(""===h._context.mapboxAccessToken)return"";for(var I=[],P=[],L=!1,N=!1,B=0;B<O.length;B++){var W=A[O[B]],j=W.accesstoken;s(W.style)&&(j?E.pushUnique(I,j):(s(W._input.style)&&(E.error("Uses Mapbox map style, but did not set an access token."),L=!0),N=!0)),j&&E.pushUnique(P,j)}if(N){var Z=L?l.noAccessTokenErrorMsg:l.missingStyleErrorMsg;throw E.error(Z),new Error(Z)}return I.length?(I.length>1&&E.warn(l.multipleTokensErrorMsg),I[0]):(P.length&&E.log(["Listed mapbox access token(s)",P.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}(d,T);C.accessToken=_;for(var y=0;y<T.length;y++){var w=T[y],m=M(p,o,w),b=g[w],k=b._subplot;k||(k=new a(d,w),g[w]._subplot=k),k.viewInitial||(k.viewInitial={center:E.extendFlat({},b.center),zoom:b.zoom,bearing:b.bearing,pitch:b.pitch}),k.plot(m,g,d._promises)}},z.clean=function(d,g,p,T){for(var _=T._subplots.mapbox||[],y=0;y<_.length;y++){var w=_[y];!g[w]&&T[w]._subplot&&T[w]._subplot.destroy()}},z.toSVG=function(d){for(var g=d._fullLayout,p=g._subplots.mapbox,T=g._size,_=0;_<p.length;_++){var y=g[p[_]],w=y.domain,m=y._subplot.toImage("png");g._glimages.append("svg:image").attr({xmlns:v.svg,"xlink:href":m,x:T.l+T.w*w.x[0],y:T.t+T.h*(1-w.y[1]),width:T.w*(w.x[1]-w.x[0]),height:T.h*(w.y[1]-w.y[0]),preserveAspectRatio:"none"});var b=c.select(y._subplot.div);if(null!==b.select(".mapboxgl-ctrl-logo").node().offsetParent){var k=g._glimages.append("g");k.attr("transform",f(T.l+T.w*w.x[0]+10,T.t+T.h*(1-w.y[0])-31)),k.append("path").attr("d",l.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),k.append("path").attr("d",l.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),k.append("path").attr("d",l.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),k.append("polygon").attr("points",l.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var h=b.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),O=g._glimages.append("g"),A=O.append("text");A.text(h).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":h});var I=i.bBox(A.node()),P=T.w*(w.x[1]-w.x[0]);if(I.width>P/2){var L=h.split("|").join("<br>");A.text(L).attr("data-unformatted",L).call(u.convertToTspans,d),I=i.bBox(A.node())}A.attr("transform",f(-3,8-I.height)),O.insert("rect",".static-attribution").attr({x:-I.width-6,y:-I.height-3,width:I.width+6,height:I.height+3,fill:"rgba(255, 255, 255, 0.75)"});var N=1;I.width+6>P&&(N=P/(I.width+6));var B=[T.l+T.w*w.x[1],T.t+T.h*(1-w.y[0])];O.attr("transform",f(B[0],B[1])+S(N))}},z.updateFx=function(d){for(var g=d._fullLayout,p=g._subplots.mapbox,T=0;T<p.length;T++)g[p[T]]._subplot.updateFx(g)}},67911:function(ie,z,r){"use strict";var C=r(71828),E=r(63893).sanitizeHTML,f=r(13056),S=r(77734);function M(u,a){this.subplot=u,this.uid=u.uid+"-"+a,this.index=a,this.idSource="source-"+this.uid,this.idLayer=S.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var v=M.prototype;function c(u){if(!u.visible)return!1;var a=u.source;if(Array.isArray(a)&&a.length>0){for(var o=0;o<a.length;o++)if("string"!=typeof a[o]||0===a[o].length)return!1;return!0}return C.isPlainObject(a)||"string"==typeof a&&a.length>0}function i(u){var a={},o={};switch(u.type){case"circle":C.extendFlat(o,{"circle-radius":u.circle.radius,"circle-color":u.color,"circle-opacity":u.opacity});break;case"line":C.extendFlat(o,{"line-width":u.line.width,"line-color":u.color,"line-opacity":u.opacity,"line-dasharray":u.line.dash});break;case"fill":C.extendFlat(o,{"fill-color":u.color,"fill-outline-color":u.fill.outlinecolor,"fill-opacity":u.opacity});break;case"symbol":var l=u.symbol,s=f(l.textposition,l.iconsize);C.extendFlat(a,{"icon-image":l.icon+"-15","icon-size":l.iconsize/10,"text-field":l.text,"text-size":l.textfont.size,"text-anchor":s.anchor,"text-offset":s.offset,"symbol-placement":l.placement}),C.extendFlat(o,{"icon-color":u.color,"text-color":l.textfont.color,"text-opacity":u.opacity});break;case"raster":C.extendFlat(o,{"raster-fade-duration":0,"raster-opacity":u.opacity})}return{layout:a,paint:o}}v.update=function(u){this.visible?this.needsNewImage(u)?this.updateImage(u):this.needsNewSource(u)?(this.removeLayer(),this.updateSource(u),this.updateLayer(u)):this.needsNewLayer(u)?this.updateLayer(u):this.updateStyle(u):(this.updateSource(u),this.updateLayer(u)),this.visible=c(u)},v.needsNewImage=function(u){return this.subplot.map.getSource(this.idSource)&&"image"===this.sourceType&&"image"===u.sourcetype&&(this.source!==u.source||JSON.stringify(this.coordinates)!==JSON.stringify(u.coordinates))},v.needsNewSource=function(u){return this.sourceType!==u.sourcetype||JSON.stringify(this.source)!==JSON.stringify(u.source)||this.layerType!==u.type},v.needsNewLayer=function(u){return this.layerType!==u.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},v.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},v.updateImage=function(u){this.subplot.map.getSource(this.idSource).updateImage({url:u.source,coordinates:u.coordinates});var a=this.findFollowingMapboxLayerId(this.lookupBelow());null!==a&&this.subplot.map.moveLayer(this.idLayer,a)},v.updateSource=function(u){var l,s,d,g,p,a=this.subplot.map;if(a.getSource(this.idSource)&&a.removeSource(this.idSource),this.sourceType=u.sourcetype,this.source=u.source,c(u)){var o=(g=(l=u).source,p={type:d=l.sourcetype},"geojson"===d?s="data":"vector"===d?s="string"==typeof g?"url":"tiles":"raster"===d?(s="tiles",p.tileSize=256):"image"===d&&(s="url",p.coordinates=l.coordinates),p[s]=g,l.sourceattribution&&(p.attribution=E(l.sourceattribution)),p);a.addSource(this.idSource,o)}},v.findFollowingMapboxLayerId=function(u){if("traces"===u)for(var a=this.subplot.getMapLayers(),o=0;o<a.length;o++){var l=a[o].id;if("string"==typeof l&&0===l.indexOf(S.traceLayerPrefix)){u=l;break}}return u},v.updateLayer=function(u){var a=this.subplot,o=i(u),l=this.lookupBelow(),s=this.findFollowingMapboxLayerId(l);this.removeLayer(),c(u)&&a.addLayer({id:this.idLayer,source:this.idSource,"source-layer":u.sourcelayer||"",type:u.type,minzoom:u.minzoom,maxzoom:u.maxzoom,layout:o.layout,paint:o.paint},s),this.layerType=u.type,this.below=l},v.updateStyle=function(u){if(c(u)){var a=i(u);this.subplot.setOptions(this.idLayer,"setLayoutProperty",a.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",a.paint)}},v.removeLayer=function(){var u=this.subplot.map;u.getLayer(this.idLayer)&&u.removeLayer(this.idLayer)},v.dispose=function(){var u=this.subplot.map;u.getLayer(this.idLayer)&&u.removeLayer(this.idLayer),u.getSource(this.idSource)&&u.removeSource(this.idSource)},ie.exports=function(u,a,o){var l=new M(u,a);return l.update(o),l}},23585:function(ie,z,r){"use strict";var C=r(71828),E=r(7901).defaultLine,f=r(27670).Y,S=r(41940),M=r(82196).textposition,v=r(30962).overrideAll,c=r(44467).templatedArray,i=r(77734),u=S({});u.family.dflt="Open Sans Regular, Arial Unicode MS Regular",(ie.exports=v({_arrayAttrRegexps:[C.counterRegex("mapbox",".layers",!0)],domain:f({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:i.styleValuesMapbox.concat(i.styleValuesNonMapbox),dflt:i.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:c("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:E},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:E}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:u,textposition:C.extendFlat({},M,{arrayOk:!1})}})},"plot","from-root")).uirevision={valType:"any",editType:"none"}},77882:function(ie,z,r){"use strict";var C=r(71828),E=r(49119),f=r(85501),S=r(23585);function M(c,i,u,a){u("accesstoken",a.accessToken),u("style"),u("center.lon"),u("center.lat"),u("zoom"),u("bearing"),u("pitch");var o=u("bounds.west"),l=u("bounds.east"),s=u("bounds.south"),d=u("bounds.north");void 0!==o&&void 0!==l&&void 0!==s&&void 0!==d||delete i.bounds,f(c,i,{name:"layers",handleItemDefaults:v}),i._input=c}function v(c,i){function u(d,g){return C.coerce(c,i,S.layers,d,g)}if(u("visible")){var a,o=u("sourcetype"),l="raster"===o||"image"===o;u("source"),u("sourceattribution"),"vector"===o&&u("sourcelayer"),"image"===o&&u("coordinates"),l&&(a="raster");var s=u("type",a);l&&"raster"!==s&&(s=i.type="raster",C.log("Source types *raster* and *image* must drawn *raster* layer type.")),u("below"),u("color"),u("opacity"),u("minzoom"),u("maxzoom"),"circle"===s&&u("circle.radius"),"line"===s&&(u("line.width"),u("line.dash")),"fill"===s&&u("fill.outlinecolor"),"symbol"===s&&(u("symbol.icon"),u("symbol.iconsize"),u("symbol.text"),C.coerceFont(u,"symbol.textfont"),u("symbol.textposition"),u("symbol.placement"))}}ie.exports=function(c,i,u){E(c,i,u,{type:"mapbox",attributes:S,handleDefaults:M,partition:"y",accessToken:i._mapboxAccessToken})}},10481:function(ie,z,r){"use strict";var C=r(44517),E=r(71828),f=r(41327),S=r(73972),M=r(89298),v=r(28569),c=r(30211),i=r(64505),u=i.drawMode,a=i.selectMode,o=r(47322).prepSelect,l=r(47322).clearOutline,s=r(47322).clearSelectionsCache,d=r(47322).selectOnClick,g=r(77734),p=r(67911);function T(k,h){this.id=h,this.gd=k;var O=k._fullLayout,A=k._context;this.container=O._glcontainer.node(),this.isStatic=A.staticPlot,this.uid=O._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(O),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var _=T.prototype;_.plot=function(k,h,O){var A,I=this;I.map&&h[I.id].accesstoken!==I.accessToken&&(I.map.remove(),I.map=null,I.styleObj=null,I.traceHash={},I.layerList=[]),A=new Promise(I.map?function(L,N){I.updateMap(k,h,L,N)}:function(L,N){I.createMap(k,h,L,N)}),O.push(A)},_.createMap=function(k,h,O,A){var I=this,P=h[I.id],L=I.styleObj=w(P.style);I.accessToken=P.accesstoken;var N=P.bounds,B=N?[[N.west,N.south],[N.east,N.north]]:null,W=I.map=new C.Map({container:I.div,style:L.style,center:b(P.center),zoom:P.zoom,bearing:P.bearing,pitch:P.pitch,maxBounds:B,interactive:!I.isStatic,preserveDrawingBuffer:I.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new C.AttributionControl({compact:!0}));W._canvas.style.left="0px",W._canvas.style.top="0px",I.rejectOnError(A),I.isStatic||I.initFx(k,h);var j=[];j.push(new Promise(function(Z){W.once("load",Z)})),j=j.concat(f.fetchTraceGeoData(k)),Promise.all(j).then(function(){I.fillBelowLookup(k,h),I.updateData(k),I.updateLayout(h),I.resolveOnRender(O)}).catch(A)},_.updateMap=function(k,h,O,A){var I=this,P=I.map,L=h[this.id];I.rejectOnError(A);var N=[],B=w(L.style);JSON.stringify(I.styleObj)!==JSON.stringify(B)&&(I.styleObj=B,P.setStyle(B.style),I.traceHash={},N.push(new Promise(function(W){P.once("styledata",W)}))),N=N.concat(f.fetchTraceGeoData(k)),Promise.all(N).then(function(){I.fillBelowLookup(k,h),I.updateData(k),I.updateLayout(h),I.resolveOnRender(O)}).catch(A)},_.fillBelowLookup=function(k,h){var O,A,I=h[this.id].layers,P=this.belowLookup={},L=!1;for(O=0;O<k.length;O++){var N=k[O][0].trace,B=N._module;"string"==typeof N.below?A=N.below:B.getBelow&&(A=B.getBelow(N,this)),""===A&&(L=!0),P["trace-"+N.uid]=A||""}for(O=0;O<I.length;O++){var W=I[O];P["layout-"+O]=A="string"==typeof W.below?W.below:L?"traces":""}var j,Z,V={};for(j in P)V[A=P[j]]?V[A].push(j):V[A]=[j];for(A in V){var q=V[A];if(q.length>1)for(O=0;O<q.length;O++)0===(j=q[O]).indexOf("trace-")?(Z=j.split("trace-")[1],this.traceHash[Z]&&(this.traceHash[Z].below=null)):0===j.indexOf("layout-")&&(Z=j.split("layout-")[1],this.layerList[Z]&&(this.layerList[Z].below=null))}};var y={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};function w(k){var h={};return E.isPlainObject(k)?(h.id=k.id,h.style=k):"string"==typeof k?(h.id=k,h.style=-1!==g.styleValuesMapbox.indexOf(k)?m(k):g.stylesNonMapbox[k]?g.stylesNonMapbox[k]:k):(h.id=g.styleValueDflt,h.style=m(g.styleValueDflt)),h.transition={duration:0,delay:0},h}function m(k){return g.styleUrlPrefix+k+"-"+g.styleUrlSuffix}function b(k){return[k.lon,k.lat]}_.updateData=function(k){var h,O,A,I,P=this.traceHash,L=k.slice().sort(function(Z,V){return y[Z[0].trace.type]-y[V[0].trace.type]});for(A=0;A<L.length;A++){var N=L[A],B=!1;(h=P[(O=N[0].trace).uid])&&(h.type===O.type?(h.update(N),B=!0):h.dispose()),!B&&O._module&&(P[O.uid]=O._module.plot(this,N))}var W=Object.keys(P);e:for(A=0;A<W.length;A++){var j=W[A];for(I=0;I<k.length;I++)if(j===(O=k[I][0].trace).uid)continue e;(h=P[j]).dispose(),delete P[j]}},_.updateLayout=function(k){var h=this.map,O=k[this.id];this.dragging||this.wheeling||(h.setCenter(b(O.center)),h.setZoom(O.zoom),h.setBearing(O.bearing),h.setPitch(O.pitch)),this.updateLayers(k),this.updateFramework(k),this.updateFx(k),this.map.resize(),this.gd._context._scrollZoom.mapbox?h.scrollZoom.enable():h.scrollZoom.disable()},_.resolveOnRender=function(k){var h=this.map;h.on("render",function O(){h.loaded()&&(h.off("render",O),setTimeout(k,10))})},_.rejectOnError=function(k){var h=this.map;function O(){k(new Error(g.mapOnErrorMsg))}h.once("error",O),h.once("style.error",O),h.once("source.error",O),h.once("tile.error",O),h.once("layer.error",O)},_.createFramework=function(k){var h=this,O=h.div=document.createElement("div");O.id=h.uid,O.style.position="absolute",h.container.appendChild(O),h.xaxis={_id:"x",c2p:function(A){return h.project(A).x}},h.yaxis={_id:"y",c2p:function(A){return h.project(A).y}},h.updateFramework(k),h.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},M.setConvert(h.mockAxis,k)},_.initFx=function(k,h){var O=this,A=O.gd,I=O.map;function P(){c.loneUnhover(h._hoverlayer)}function L(){var N=O.getView();A.emit("plotly_relayouting",O.getViewEditsWithDerived(N))}I.on("moveend",function(N){if(O.map){var B=A._fullLayout;if(N.originalEvent||O.wheeling){var W=B[O.id];S.call("_storeDirectGUIEdit",A.layout,B._preGUI,O.getViewEdits(W));var j=O.getView();W._input.center=W.center=j.center,W._input.zoom=W.zoom=j.zoom,W._input.bearing=W.bearing=j.bearing,W._input.pitch=W.pitch=j.pitch,A.emit("plotly_relayout",O.getViewEditsWithDerived(j))}N.originalEvent&&"mouseup"===N.originalEvent.type?O.dragging=!1:O.wheeling&&(O.wheeling=!1),B._rehover&&B._rehover()}}),I.on("wheel",function(){O.wheeling=!0}),I.on("mousemove",function(N){var B=O.div.getBoundingClientRect(),W=[N.originalEvent.offsetX,N.originalEvent.offsetY];N.target.getBoundingClientRect=function(){return B},O.xaxis.p2c=function(){return I.unproject(W).lng},O.yaxis.p2c=function(){return I.unproject(W).lat},A._fullLayout._rehover=function(){A._fullLayout._hoversubplot===O.id&&A._fullLayout[O.id]&&c.hover(A,N,O.id)},c.hover(A,N,O.id),A._fullLayout._hoversubplot=O.id}),I.on("dragstart",function(){O.dragging=!0,P()}),I.on("zoomstart",P),I.on("mouseout",function(){A._fullLayout._hoversubplot=null}),I.on("drag",L),I.on("zoom",L),I.on("dblclick",function(){var N=A._fullLayout[O.id];S.call("_storeDirectGUIEdit",A.layout,A._fullLayout._preGUI,O.getViewEdits(N));var B=O.viewInitial;I.setCenter(b(B.center)),I.setZoom(B.zoom),I.setBearing(B.bearing),I.setPitch(B.pitch);var W=O.getView();N._input.center=N.center=W.center,N._input.zoom=N.zoom=W.zoom,N._input.bearing=N.bearing=W.bearing,N._input.pitch=N.pitch=W.pitch,A.emit("plotly_doubleclick",null),A.emit("plotly_relayout",O.getViewEditsWithDerived(W))}),O.clearOutline=function(){s(O.dragOptions),l(O.dragOptions.gd)},O.onClickInPanFn=function(N){return function(B){var W=A._fullLayout.clickmode;W.indexOf("select")>-1&&d(B.originalEvent,A,[O.xaxis],[O.yaxis],O.id,N),W.indexOf("event")>-1&&c.click(A,B.originalEvent)}}},_.updateFx=function(k){var h=this,O=h.map;if(!h.isStatic){var P=k.dragmode;h.dragOptions=E.extendDeep(h.dragOptions||{},{dragmode:k.dragmode,element:h.div,gd:h.gd,plotinfo:{id:h.id,domain:k[h.id].domain,xaxis:h.xaxis,yaxis:h.yaxis,fillRangeItems:function(B,W){W.isRect?(B.range={})[h.id]=[N([W.xmin,W.ymin]),N([W.xmax,W.ymax])]:(B.lassoPoints={})[h.id]=W.map(N)}},xaxes:[h.xaxis],yaxes:[h.yaxis],subplot:h.id}),O.off("click",h.onClickInPanHandler),a(P)||u(P)?(O.dragPan.disable(),O.on("zoomstart",h.clearOutline),h.dragOptions.prepFn=function(B,W,j){o(B,W,j,h.dragOptions,P)},v.init(h.dragOptions)):(O.dragPan.enable(),O.off("zoomstart",h.clearOutline),h.div.onmousedown=null,h.div.ontouchstart=null,h.div.removeEventListener("touchstart",h.div._ontouchstart),h.onClickInPanHandler=h.onClickInPanFn(h.dragOptions),O.on("click",h.onClickInPanHandler))}function N(B){var W=h.map.unproject(B);return[W.lng,W.lat]}},_.updateFramework=function(k){var h=k[this.id].domain,O=k._size,A=this.div.style;A.width=O.w*(h.x[1]-h.x[0])+"px",A.height=O.h*(h.y[1]-h.y[0])+"px",A.left=O.l+h.x[0]*O.w+"px",A.top=O.t+(1-h.y[1])*O.h+"px",this.xaxis._offset=O.l+h.x[0]*O.w,this.xaxis._length=O.w*(h.x[1]-h.x[0]),this.yaxis._offset=O.t+(1-h.y[1])*O.h,this.yaxis._length=O.h*(h.y[1]-h.y[0])},_.updateLayers=function(k){var h,O=k[this.id].layers,A=this.layerList;if(O.length!==A.length){for(h=0;h<A.length;h++)A[h].dispose();for(A=this.layerList=[],h=0;h<O.length;h++)A.push(p(this,h,O[h]))}else for(h=0;h<O.length;h++)A[h].update(O[h])},_.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},_.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},_.setOptions=function(k,h,O){for(var A in O)this.map[h](k,A,O[A])},_.getMapLayers=function(){return this.map.getStyle().layers},_.addLayer=function(k,h){var O=this.map;if("string"==typeof h){if(""===h)return void O.addLayer(k,h);for(var A=this.getMapLayers(),I=0;I<A.length;I++)if(h===A[I].id)return void O.addLayer(k,h);E.warn(["Trying to add layer with *below* value",h,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}O.addLayer(k)},_.project=function(k){return this.map.project(new C.LngLat(k[0],k[1]))},_.getView=function(){var k=this.map,h=k.getCenter(),O={lon:h.lng,lat:h.lat},A=k.getCanvas(),I=parseInt(A.style.width),P=parseInt(A.style.height);return{center:O,zoom:k.getZoom(),bearing:k.getBearing(),pitch:k.getPitch(),_derived:{coordinates:[k.unproject([0,0]).toArray(),k.unproject([I,0]).toArray(),k.unproject([I,P]).toArray(),k.unproject([0,P]).toArray()]}}},_.getViewEdits=function(k){for(var h=this.id,O=["center","zoom","bearing","pitch"],A={},I=0;I<O.length;I++){var P=O[I];A[h+"."+P]=k[P]}return A},_.getViewEditsWithDerived=function(k){var h=this.id,O=this.getViewEdits(k);return O[h+"._derived"]=k._derived,O},ie.exports=T},35025:function(ie){"use strict";ie.exports=function(z){var r=z.editType;return{t:{valType:"number",dflt:0,editType:r},r:{valType:"number",dflt:0,editType:r},b:{valType:"number",dflt:0,editType:r},l:{valType:"number",dflt:0,editType:r},editType:r}}},74875:function(ie,z,r){"use strict";var C=r(39898),E=r(84096).Dq,f=r(60721).FF,S=r(92770),M=r(73972),v=r(86281),c=r(44467),i=r(71828),u=r(7901),a=r(50606).BADNUM,o=r(41675),l=r(51873).clearOutline,s=r(21479),d=r(85594),g=r(31391),p=r(27659).a0,T=i.relinkPrivateKeys,_=i._,y=ie.exports={};i.extendFlat(y,M),y.attributes=r(9012),y.attributes.type.values=y.allTypes,y.fontAttrs=r(41940),y.layoutAttributes=r(10820),y.fontWeight="normal";var w=y.transformsRegistry,m=r(31137);y.executeAPICommand=m.executeAPICommand,y.computeAPICommandBindings=m.computeAPICommandBindings,y.manageCommandObserver=m.manageCommandObserver,y.hasSimpleAPICommandBindings=m.hasSimpleAPICommandBindings,y.redrawText=function(V){return V=i.getGraphDiv(V),new Promise(function(q){setTimeout(function(){V._fullLayout&&(M.getComponentMethod("annotations","draw")(V),M.getComponentMethod("legend","draw")(V),M.getComponentMethod("colorbar","draw")(V),q(y.previousPromises(V)))},300)})},y.resize=function(V){var q;V=i.getGraphDiv(V);var G=new Promise(function(H,ne){V&&!i.isHidden(V)||ne(new Error("Resize must be passed a displayed plot div element.")),V._redrawTimer&&clearTimeout(V._redrawTimer),V._resolveResize&&(q=V._resolveResize),V._resolveResize=H,V._redrawTimer=setTimeout(function(){if(!V.layout||V.layout.width&&V.layout.height||i.isHidden(V))H(V);else{delete V.layout.width,delete V.layout.height;var X=V.changed;V.autoplay=!0,M.call("relayout",V,{autosize:!0}).then(function(){V.changed=X,V._resolveResize===H&&(delete V._resolveResize,H(V))})}},100)});return q&&q(G),G},y.previousPromises=function(V){if((V._promises||[]).length)return Promise.all(V._promises).then(function(){V._promises=[]})},y.addLinks=function(V){if(V._context.showLink||V._context.showSources){var q=V._fullLayout,G=i.ensureSingle(q._paper,"text","js-plot-link-container",function(te){te.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:u.defaultLine,"pointer-events":"all"}).each(function(){var re=C.select(this);re.append("tspan").classed("js-link-to-tool",!0),re.append("tspan").classed("js-link-spacer",!0),re.append("tspan").classed("js-sourcelinks",!0)})}),H=G.node(),ne={y:q._paper.attr("height")-9};document.body.contains(H)&&H.getComputedTextLength()>=q.width-20?(ne["text-anchor"]="start",ne.x=5):(ne["text-anchor"]="end",ne.x=q._paper.attr("width")-7),G.attr(ne);var X=G.select(".js-link-to-tool"),$=G.select(".js-link-spacer"),Q=G.select(".js-sourcelinks");V._context.showSources&&V._context.showSources(V),V._context.showLink&&function(te,re){re.text("");var le=re.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(te._context.linkText+" "+String.fromCharCode(187));if(te._context.sendData)le.on("click",function(){y.sendDataToCloud(te)});else{var ue=window.location.pathname.split("/"),he=window.location.search;le.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+ue[2].split(".")[0]+"/"+ue[1]+he})}}(V,X),$.text(X.text()&&Q.text()?" - ":"")}},y.sendDataToCloud=function(V){var q=(window.PLOTLYENV||{}).BASE_URL||V._context.plotlyServerURL;if(q){V.emit("plotly_beforeexport");var G=C.select(V).append("div").attr("id","hiddenform").style("display","none"),H=G.append("form").attr({action:q+"/external",method:"post",target:"_blank"});return H.append("input").attr({type:"text",name:"data"}).node().value=y.graphJson(V,!1,"keepdata"),H.node().submit(),G.remove(),V.emit("plotly_afterexport"),!1}};var b=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],k=["year","month","dayMonth","dayMonthYear"];function h(V,q){var G=V._context.locale;G||(G="en-US");var H=!1,ne={};function X(ue){for(var he=!0,ge=0;ge<q.length;ge++){var xe=q[ge];ne[xe]||(ue[xe]?ne[xe]=ue[xe]:he=!1)}he&&(H=!0)}for(var $=0;$<2;$++){for(var Q=V._context.locales,te=0;te<2;te++){var re=(Q[G]||{}).format;if(re&&(X(re),H))break;Q=M.localeRegistry}var le=G.split("-")[0];if(H||le===G)break;G=le}return H||X(M.localeRegistry.en.format),ne}function O(V,q){var G={_fullLayout:q},H="x"===V._id.charAt(0),ne=V._mainAxis._anchorAxis,X="",$="",Q="";if(ne&&(Q=ne._mainAxis._id,X=H?V._id+Q:Q+V._id),!X||!q._plots[X]){X="";for(var te=V._counterAxes,re=0;re<te.length;re++){var le=te[re],ue=H?V._id+le:le+V._id;$||($=ue);var he=o.getFromId(G,le);if(Q&&he.overlaying===Q){X=ue;break}}}return X||$}function A(V){var q=V.transforms;if(Array.isArray(q)&&q.length)for(var G=0;G<q.length;G++){var H=q[G],ne=H._module||w[H.type];if(ne&&ne.makesData)return!0}return!1}function I(V,q,G,H){for(var ne=V.transforms,X=[V],$=0;$<ne.length;$++){var Q=ne[$],te=w[Q.type];te&&te.transform&&(X=te.transform(X,{transform:Q,fullTrace:V,fullData:q,layout:G,fullLayout:H,transformIndex:$}))}return X}function P(V){return"string"==typeof V&&"px"===V.substr(V.length-2)&&parseFloat(V)}function L(V){var q=V.margin;if(!V._size){var G=V._size={l:Math.round(q.l),r:Math.round(q.r),t:Math.round(q.t),b:Math.round(q.b),p:Math.round(q.pad)};G.w=Math.round(V.width)-G.l-G.r,G.h=Math.round(V.height)-G.t-G.b}V._pushmargin||(V._pushmargin={}),V._pushmarginIds||(V._pushmarginIds={})}y.supplyDefaults=function(V,q){var Ce,We,G=q&&q.skipUpdateCalc,H=V._fullLayout||{};if(H._skipDefaults)delete H._skipDefaults;else{var ne,X=V._fullLayout={},$=V.layout||{},Q=V._fullData||[],te=V._fullData=[],re=V.data||[],le=V.calcdata||[],ue=V._context||{};V._transitionData||y.createTransitionData(V),X._dfltTitle={plot:_(V,"Click to enter Plot title"),x:_(V,"Click to enter X axis title"),y:_(V,"Click to enter Y axis title"),colorbar:_(V,"Click to enter Colorscale title"),annotation:_(V,"new text")},X._traceWord=_(V,"trace");var he=h(V,b);if(X._mapboxAccessToken=ue.mapboxAccessToken,H._initialAutoSizeIsDone){var ge=H.width,xe=H.height;y.supplyLayoutGlobalDefaults($,X,he),$.width||(X.width=ge),$.height||(X.height=xe),y.sanitizeMargins(X)}else{y.supplyLayoutGlobalDefaults($,X,he);var ke=!$.width||!$.height,Ae=X.autosize;ke&&(Ae||ue.autosizable)?y.plotAutoSize(V,$,X):ke&&y.sanitizeMargins(X),!Ae&&ke&&($.width=X.width,$.height=X.height)}X._d3locale=((Ce=he).decimal=(We=X.separators).charAt(0),Ce.thousands=We.charAt(1),{numberFormat:function(Ke){try{Ke=f(Ce).format(i.adjustFormat(Ke))}catch{return i.warnBadFormat(Ke),i.noFormat}return Ke},timeFormat:E(Ce).utcFormat}),X._extraFormat=h(V,k),X._initialAutoSizeIsDone=!0,X._dataLength=re.length,X._modules=[],X._visibleModules=[],X._basePlotModules=[];var ye=X._subplots=function(){var Ce,We,Ke=M.collectableSubplotTypes,Je={};if(!Ke){Ke=[];var ht=M.subplotsRegistry;for(var ft in ht){var mt=ht[ft].attr;if(mt&&(Ke.push(ft),Array.isArray(mt)))for(We=0;We<mt.length;We++)i.pushUnique(Ke,mt[We])}}for(Ce=0;Ce<Ke.length;Ce++)Je[Ke[Ce]]=[];return Je}(),Ne=X._splomAxes={x:{},y:{}},be=X._splomSubplots={};X._splomGridDflt={},X._scatterStackOpts={},X._firstScatter={},X._alignmentOpts={},X._colorAxes={},X._requestRangeslider={},X._traceUids=function(Ce,We){var Ke,Je,ht=We.length,ft=[];for(Ke=0;Ke<Ce.length;Ke++){var mt=Ce[Ke]._fullInput;mt!==Je&&ft.push(mt),Je=mt}var At=ft.length,Rt=new Array(ht),It={};function Pt(Vt,tn){Rt[tn]=Vt,It[Vt]=1}function Bt(Vt,tn){if(Vt&&"string"==typeof Vt&&!It[Vt])return Pt(Vt,tn),!0}for(Ke=0;Ke<ht;Ke++){var Ut=We[Ke].uid;"number"==typeof Ut&&(Ut=String(Ut)),Bt(Ut,Ke)||Ke<At&&Bt(ft[Ke].uid,Ke)||Pt(i.randstr(It),Ke)}return Rt}(Q,re),X._globalTransforms=(V._context||{}).globalTransforms,y.supplyDataDefaults(re,te,$,X);var Ee=Object.keys(Ne.x),Oe=Object.keys(Ne.y);if(Ee.length>1&&Oe.length>1){for(M.getComponentMethod("grid","sizeDefaults")($,X),ne=0;ne<Ee.length;ne++)i.pushUnique(ye.xaxis,Ee[ne]);for(ne=0;ne<Oe.length;ne++)i.pushUnique(ye.yaxis,Oe[ne]);for(var De in be)i.pushUnique(ye.cartesian,De)}if(X._has=y._hasPlotType.bind(X),Q.length===te.length)for(ne=0;ne<te.length;ne++)T(te[ne],Q[ne]);y.supplyLayoutModuleDefaults($,X,te,V._transitionData);var oe=X._visibleModules,de=[];for(ne=0;ne<oe.length;ne++){var _e=oe[ne].crossTraceDefaults;_e&&i.pushUnique(de,_e)}for(ne=0;ne<de.length;ne++)de[ne](te,X);X._hasOnlyLargeSploms=1===X._basePlotModules.length&&"splom"===X._basePlotModules[0].name&&Ee.length>15&&Oe.length>15&&0===X.shapes.length&&0===X.images.length,y.linkSubplots(te,X,Q,H),y.cleanPlot(te,X,Q,H);var Me=!(!H._has||!H._has("gl2d")),Pe=!(!X._has||!X._has("gl2d")),Ue=!(!H._has||!H._has("cartesian"))||Me,Be=!(!X._has||!X._has("cartesian"))||Pe;Ue&&!Be?H._bgLayer.remove():Be&&!Ue&&(X._shouldCreateBgLayer=!0),H._zoomlayer&&!V._dragging&&l({_fullLayout:H}),function(Ce,We){var Ke,Je=[];We.meta&&(Ke=We._meta={meta:We.meta,layout:{meta:We.meta}});for(var ht=0;ht<Ce.length;ht++){var ft=Ce[ht];ft.meta?Je[ft.index]=ft._meta={meta:ft.meta}:We.meta&&(ft._meta={meta:We.meta}),We.meta&&(ft._meta.layout={meta:We.meta})}Je.length&&(Ke||(Ke=We._meta={}),Ke.data=Je)}(te,X),T(X,H),M.getComponentMethod("colorscale","crossTraceDefaults")(te,X),X._preGUI||(X._preGUI={}),X._tracePreGUI||(X._tracePreGUI={});var Ve,ve=X._tracePreGUI,Te={};for(Ve in ve)Te[Ve]="old";for(ne=0;ne<te.length;ne++)Te[Ve=te[ne]._fullInput.uid]||(ve[Ve]={}),Te[Ve]="new";for(Ve in Te)"old"===Te[Ve]&&delete ve[Ve];L(X),M.getComponentMethod("rangeslider","makeData")(X),G||le.length!==te.length||y.supplyDefaultsUpdateCalc(le,te)}},y.supplyDefaultsUpdateCalc=function(V,q){for(var G=0;G<q.length;G++){var H=q[G],ne=(V[G]||[])[0];if(ne&&ne.trace){var X=ne.trace;if(X._hasCalcTransform){var $,Q,te,re=X._arrayAttrs;for($=0;$<re.length;$++)te=i.nestedProperty(X,Q=re[$]).get().slice(),i.nestedProperty(H,Q).set(te)}ne.trace=H}}},y.createTransitionData=function(V){V._transitionData||(V._transitionData={}),V._transitionData._frames||(V._transitionData._frames=[]),V._transitionData._frameHash||(V._transitionData._frameHash={}),V._transitionData._counter||(V._transitionData._counter=0),V._transitionData._interruptCallbacks||(V._transitionData._interruptCallbacks=[])},y._hasPlotType=function(V){var q,G=this._basePlotModules||[];for(q=0;q<G.length;q++)if(G[q].name===V)return!0;var H=this._modules||[];for(q=0;q<H.length;q++){var ne=H[q].name;if(ne===V)return!0;var X=M.modules[ne];if(X&&X.categories[V])return!0}return!1},y.cleanPlot=function(V,q,G,H){var ne,X,$=H._basePlotModules||[];for(ne=0;ne<$.length;ne++){var Q=$[ne];Q.clean&&Q.clean(V,q,G,H)}var te=H._has&&H._has("gl"),re=q._has&&q._has("gl");te&&!re&&void 0!==H._glcontainer&&(H._glcontainer.selectAll(".gl-canvas").remove(),H._glcontainer.selectAll(".no-webgl").remove(),H._glcanvas=null);var le=!!H._infolayer;e:for(ne=0;ne<G.length;ne++){var ue=G[ne].uid;for(X=0;X<V.length;X++)if(ue===V[X].uid)continue e;le&&H._infolayer.select(".cb"+ue).remove()}},y.linkSubplots=function(V,q,G,H){var ne,X,$=H._plots||{},Q=q._plots={},te=q._subplots,re={_fullData:V,_fullLayout:q},le=te.cartesian.concat(te.gl2d||[]);for(ne=0;ne<le.length;ne++){var ue,he=le[ne],ge=$[he],xe=o.getFromId(re,he,"x"),ke=o.getFromId(re,he,"y");for(ge?ue=Q[he]=ge:(ue=Q[he]={}).id=he,xe._counterAxes.push(ke._id),ke._counterAxes.push(xe._id),xe._subplotsWith.push(he),ke._subplotsWith.push(he),ue.xaxis=xe,ue.yaxis=ke,ue._hasClipOnAxisFalse=!1,X=0;X<V.length;X++){var Ae=V[X];if(Ae.xaxis===ue.xaxis._id&&Ae.yaxis===ue.yaxis._id&&!1===Ae.cliponaxis){ue._hasClipOnAxisFalse=!0;break}}}var pe,ye=o.list(re,null,!0);for(ne=0;ne<ye.length;ne++){var Ne=null;(pe=ye[ne]).overlaying&&(Ne=o.getFromId(re,pe.overlaying))&&Ne.overlaying&&(pe.overlaying=!1,Ne=null),pe._mainAxis=Ne||pe,Ne&&(pe.domain=Ne.domain.slice()),pe._anchorAxis="free"===pe.anchor?null:o.getFromId(re,pe.anchor)}for(ne=0;ne<ye.length;ne++)if((pe=ye[ne])._counterAxes.sort(o.idSort),pe._subplotsWith.sort(i.subplotSort),pe._mainSubplot=O(pe,q),pe._counterAxes.length&&(pe.spikemode&&-1!==pe.spikemode.indexOf("across")||pe.automargin&&pe.mirror&&"free"!==pe.anchor||M.getComponentMethod("rangeslider","isVisible")(pe))){var be=1,Ee=0;for(X=0;X<pe._counterAxes.length;X++){var Oe=o.getFromId(re,pe._counterAxes[X]);be=Math.min(be,Oe.domain[0]),Ee=Math.max(Ee,Oe.domain[1])}be<Ee&&(pe._counterDomainMin=be,pe._counterDomainMax=Ee)}},y.clearExpandedTraceDefaultColors=function(V){var q,G,H;for(G=[],(q=V._module._colorAttrs)||(V._module._colorAttrs=q=[],v.crawl(V._module.attributes,function(ne,X,$,Q){G[Q]=X,G.length=Q+1,"color"===ne.valType&&void 0===ne.dflt&&q.push(G.join("."))})),H=0;H<q.length;H++)i.nestedProperty(V,"_input."+q[H]).get()||i.nestedProperty(V,q[H]).set(null)},y.supplyDataDefaults=function(V,q,G,H){var ne,X,$,Q=H._modules,te=H._visibleModules,re=H._basePlotModules,le=0,ue=0;function he(De){q.push(De);var oe=De._module;oe&&(i.pushUnique(Q,oe),!0===De.visible&&i.pushUnique(te,oe),i.pushUnique(re,De._module.basePlotModule),le++,!1!==De._input.visible&&ue++)}H._transformModules=[];var ge={},xe=[],Ae=c.traceTemplater((G.template||{}).data||{});for(ne=0;ne<V.length;ne++){if((X=Ae.newTrace($=V[ne])).uid=H._traceUids[ne],y.supplyTraceDefaults($,X,ue,H,ne),X.index=ne,X._input=$,X._expandedIndex=le,X.transforms&&X.transforms.length)for(var pe=!1!==$.visible&&!1===X.visible,ye=I(X,q,G,H),Ne=0;Ne<ye.length;Ne++){var be=ye[Ne],Ee={_template:X._template,type:X.type,uid:X.uid+Ne};pe&&!1===be.visible&&delete be.visible,y.supplyTraceDefaults(be,Ee,le,H,ne),T(Ee,be),Ee.index=ne,Ee._input=$,Ee._fullInput=X,Ee._expandedIndex=le,Ee._expandedInput=be,he(Ee)}else X._fullInput=X,X._expandedInput=X,he(X);M.traceIs(X,"carpetAxis")&&(ge[X.carpet]=X),M.traceIs(X,"carpetDependent")&&xe.push(ne)}for(ne=0;ne<xe.length;ne++)if((X=q[xe[ne]]).visible){var Oe=ge[X.carpet];X._carpet=Oe,Oe&&Oe.visible?(X.xaxis=Oe.xaxis,X.yaxis=Oe.yaxis):X.visible=!1}},y.supplyAnimationDefaults=function(V){var q;V=V||{};var G={};function H(ne,X){return i.coerce(V||{},G,d,ne,X)}if(H("mode"),H("direction"),H("fromcurrent"),Array.isArray(V.frame))for(G.frame=[],q=0;q<V.frame.length;q++)G.frame[q]=y.supplyAnimationFrameDefaults(V.frame[q]||{});else G.frame=y.supplyAnimationFrameDefaults(V.frame||{});if(Array.isArray(V.transition))for(G.transition=[],q=0;q<V.transition.length;q++)G.transition[q]=y.supplyAnimationTransitionDefaults(V.transition[q]||{});else G.transition=y.supplyAnimationTransitionDefaults(V.transition||{});return G},y.supplyAnimationFrameDefaults=function(V){var q={};function G(H,ne){return i.coerce(V||{},q,d.frame,H,ne)}return G("duration"),G("redraw"),q},y.supplyAnimationTransitionDefaults=function(V){var q={};function G(H,ne){return i.coerce(V||{},q,d.transition,H,ne)}return G("duration"),G("easing"),q},y.supplyFrameDefaults=function(V){var q={};function G(H,ne){return i.coerce(V,q,g,H,ne)}return G("group"),G("name"),G("traces"),G("baseframe"),G("data"),G("layout"),q},y.supplyTraceDefaults=function(V,q,G,H,ne){var X,$=H.colorway||u.defaults,Q=$[G%$.length];function te(ye,Ne){return i.coerce(V,q,y.attributes,ye,Ne)}var re=te("visible");te("type"),te("name",H._traceWord+" "+ne),te("uirevision",H.uirevision);var le=y.getModule(q);if(q._module=le,le){var ue=le.basePlotModule,he=ue.attr,ge=ue.attributes;if(he&&ge){var xe=H._subplots,ke="";if(re||"gl2d"!==ue.name){if(Array.isArray(he))for(X=0;X<he.length;X++){var Ae=he[X],pe=i.coerce(V,q,ge,Ae);xe[Ae]&&i.pushUnique(xe[Ae],pe),ke+=pe}else ke=i.coerce(V,q,ge,he);xe[ue.name]&&i.pushUnique(xe[ue.name],ke)}}}return re&&(te("customdata"),te("ids"),te("meta"),M.traceIs(q,"showLegend")?(i.coerce(V,q,le.attributes.showlegend?le.attributes:y.attributes,"showlegend"),te("legendwidth"),te("legendgroup"),te("legendgrouptitle.text"),te("legendrank"),q._dfltShowLegend=!0):q._dfltShowLegend=!1,le&&le.supplyDefaults(V,q,Q,H),M.traceIs(q,"noOpacity")||te("opacity"),M.traceIs(q,"notLegendIsolatable")&&(q.visible=!!q.visible),M.traceIs(q,"noHover")||(q.hovertemplate||i.coerceHoverinfo(V,q,H),"parcats"!==q.type&&M.getComponentMethod("fx","supplyDefaults")(V,q,Q,H)),le&&le.selectPoints&&te("selectedpoints"),y.supplyTransformDefaults(V,q,H)),q},y.hasMakesDataTransform=A,y.supplyTransformDefaults=function(V,q,G){if(q._length||A(V)){var H=G._globalTransforms||[],ne=G._transformModules||[];if(Array.isArray(V.transforms)||0!==H.length)for(var $=H.concat(V.transforms||[]),Q=q.transforms=[],te=0;te<$.length;te++){var re,le=$[te],ue=le.type,he=w[ue],ge=!(le._module&&le._module===he),xe=he&&"function"==typeof he.transform;he||i.warn("Unrecognized transform type "+ue+"."),he&&he.supplyDefaults&&(ge||xe)?((re=he.supplyDefaults(le,q,G,V)).type=ue,re._module=he,i.pushUnique(ne,he)):re=i.extendFlat({},le),Q.push(re)}}},y.supplyLayoutGlobalDefaults=function(V,q,G){function H(te,re){return i.coerce(V,q,y.layoutAttributes,te,re)}var ne=V.template;i.isPlainObject(ne)&&(q.template=ne,q._template=ne.layout,q._dataTemplate=ne.data),H("autotypenumbers");var X=i.coerceFont(H,"font");i.coerceFont(H,"title.font",i.extendFlat({},X,{size:Math.round(1.4*X.size)})),H("title.text",q._dfltTitle.plot),H("title.xref"),H("title.yref"),H("title.x"),H("title.y"),H("title.xanchor"),H("title.yanchor"),H("title.pad.t"),H("title.pad.r"),H("title.pad.b"),H("title.pad.l"),H("uniformtext.mode")&&H("uniformtext.minsize"),H("autosize",!(V.width&&V.height)),H("width"),H("height"),H("minreducedwidth"),H("minreducedheight"),H("margin.l"),H("margin.r"),H("margin.t"),H("margin.b"),H("margin.pad"),H("margin.autoexpand"),V.width&&V.height&&y.sanitizeMargins(q),M.getComponentMethod("grid","sizeDefaults")(V,q),H("paper_bgcolor"),H("separators",G.decimal+G.thousands),H("hidesources"),H("colorway"),H("datarevision");var Q=H("uirevision");H("editrevision",Q),H("selectionrevision",Q),M.getComponentMethod("modebar","supplyLayoutDefaults")(V,q),M.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(V,q,H),M.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(V,q,H),H("meta"),i.isPlainObject(V.transition)&&(H("transition.duration"),H("transition.easing"),H("transition.ordering")),M.getComponentMethod("calendars","handleDefaults")(V,q,"calendar"),M.getComponentMethod("fx","supplyLayoutGlobalDefaults")(V,q,H),i.coerce(V,q,s,"scattermode")},y.plotAutoSize=function(V,q,G){var H,ne,X=V._context||{},$=X.frameMargins,Q=i.isPlotDiv(V);if(Q&&V.emit("plotly_autosize"),X.fillFrame)H=window.innerWidth,ne=window.innerHeight,document.body.style.overflow="hidden";else{var te=Q?window.getComputedStyle(V):{};if(H=P(te.width)||P(te.maxWidth)||G.width,ne=P(te.height)||P(te.maxHeight)||G.height,S($)&&$>0){var re=1-2*$;H=Math.round(re*H),ne=Math.round(re*ne)}}var le=y.layoutAttributes.width.min,ue=y.layoutAttributes.height.min;H<le&&(H=le),ne<ue&&(ne=ue);var he=!q.width&&Math.abs(G.width-H)>1,ge=!q.height&&Math.abs(G.height-ne)>1;(ge||he)&&(he&&(G.width=H),ge&&(G.height=ne)),V._initialAutoSize||(V._initialAutoSize={width:H,height:ne}),y.sanitizeMargins(G)},y.supplyLayoutModuleDefaults=function(V,q,G,H){var ne,X,$,Q=M.componentsRegistry,te=q._basePlotModules,re=M.subplotsRegistry.cartesian;for(ne in Q)($=Q[ne]).includeBasePlot&&$.includeBasePlot(V,q);for(var le in te.length||te.push(re),q._has("cartesian")&&(M.getComponentMethod("grid","contentDefaults")(V,q),re.finalizeSubplots(V,q)),q._subplots)q._subplots[le].sort(i.subplotSort);for(X=0;X<te.length;X++)($=te[X]).supplyLayoutDefaults&&$.supplyLayoutDefaults(V,q,G);var ue=q._modules;for(X=0;X<ue.length;X++)($=ue[X]).supplyLayoutDefaults&&$.supplyLayoutDefaults(V,q,G);var he=q._transformModules;for(X=0;X<he.length;X++)($=he[X]).supplyLayoutDefaults&&$.supplyLayoutDefaults(V,q,G,H);for(ne in Q)($=Q[ne]).supplyLayoutDefaults&&$.supplyLayoutDefaults(V,q,G)},y.purge=function(V){var q=V._fullLayout||{};void 0!==q._glcontainer&&(q._glcontainer.selectAll(".gl-canvas").remove(),q._glcontainer.remove(),q._glcanvas=null),q._modeBar&&q._modeBar.destroy(),V._transitionData&&(V._transitionData._interruptCallbacks&&(V._transitionData._interruptCallbacks.length=0),V._transitionData._animationRaf&&window.cancelAnimationFrame(V._transitionData._animationRaf)),i.clearThrottle(),i.clearResponsive(V),delete V.data,delete V.layout,delete V._fullData,delete V._fullLayout,delete V.calcdata,delete V.empty,delete V.fid,delete V.undoqueue,delete V.undonum,delete V.autoplay,delete V.changed,delete V._promises,delete V._redrawTimer,delete V._hmlumcount,delete V._hmpixcount,delete V._transitionData,delete V._transitioning,delete V._initialAutoSize,delete V._transitioningWithDuration,delete V._dragging,delete V._dragged,delete V._dragdata,delete V._hoverdata,delete V._snapshotInProgress,delete V._editing,delete V._mouseDownTime,delete V._legendMouseDownTime,V.removeAllListeners&&V.removeAllListeners()},y.style=function(V){var q,G=V._fullLayout._visibleModules,H=[];for(q=0;q<G.length;q++){var ne=G[q];ne.style&&i.pushUnique(H,ne.style)}for(q=0;q<H.length;q++)H[q](V)},y.sanitizeMargins=function(V){if(V&&V.margin){var q,G=V.width,H=V.height,ne=V.margin,$=H-(ne.t+ne.b);G-(ne.l+ne.r)<0&&(q=(G-1)/(ne.l+ne.r),ne.l=Math.floor(q*ne.l),ne.r=Math.floor(q*ne.r)),$<0&&(q=(H-1)/(ne.t+ne.b),ne.t=Math.floor(q*ne.t),ne.b=Math.floor(q*ne.b))}},y.clearAutoMarginIds=function(V){V._fullLayout._pushmarginIds={}},y.allowAutoMargin=function(V,q){V._fullLayout._pushmarginIds[q]=1},y.autoMargin=function(V,q,G){var H=V._fullLayout,ne=H.width,X=H.height,$=H.margin,te=H.minreducedheight,re=i.constrain(ne-$.l-$.r,2,H.minreducedwidth),le=i.constrain(X-$.t-$.b,2,te),ue=Math.max(0,ne-re),he=Math.max(0,X-le),ge=H._pushmargin,xe=H._pushmarginIds;if(!1!==$.autoexpand){if(G){var ke=G.pad;if(void 0===ke&&(ke=Math.min(12,$.l,$.r,$.t,$.b)),ue){var Ae=(G.l+G.r)/ue;Ae>1&&(G.l/=Ae,G.r/=Ae)}if(he){var pe=(G.t+G.b)/he;pe>1&&(G.t/=pe,G.b/=pe)}ge[q]={l:{val:void 0!==G.xl?G.xl:G.x,size:G.l+ke},r:{val:void 0!==G.xr?G.xr:G.x,size:G.r+ke},b:{val:void 0!==G.yb?G.yb:G.y,size:G.b+ke},t:{val:void 0!==G.yt?G.yt:G.y,size:G.t+ke}},xe[q]=1}else delete ge[q],delete xe[q];if(!H._replotting)return y.doAutoMargin(V)}},y.doAutoMargin=function(V){var q=V._fullLayout,G=q.width,H=q.height;q._size||(q._size={}),L(q);var ne=q._size,X=q.margin,$=i.extendFlat({},ne),Q=X.l,te=X.r,re=X.t,le=X.b,ue=q._pushmargin,he=q._pushmarginIds,ge=q.minreducedwidth,xe=q.minreducedheight;if(!1!==q.margin.autoexpand){for(var ke in ue)he[ke]||delete ue[ke];for(var Ae in ue.base={l:{val:0,size:Q},r:{val:1,size:te},t:{val:1,size:re},b:{val:0,size:le}},ue){var pe=ue[Ae].l||{},ye=ue[Ae].b||{},Ne=pe.val,be=pe.size,Ee=ye.val,Oe=ye.size;for(var De in ue){if(S(be)&&ue[De].r){var oe=ue[De].r.val,de=ue[De].r.size;if(oe>Ne){var _e=(be*oe+(de-G)*Ne)/(oe-Ne),Me=(de*(1-Ne)+(be-G)*(1-oe))/(oe-Ne);_e+Me>Q+te&&(Q=_e,te=Me)}}if(S(Oe)&&ue[De].t){var Pe=ue[De].t.val,Ue=ue[De].t.size;if(Pe>Ee){var Be=(Oe*Pe+(Ue-H)*Ee)/(Pe-Ee),Ve=(Ue*(1-Ee)+(Oe-H)*(1-Pe))/(Pe-Ee);Be+Ve>le+re&&(le=Be,re=Ve)}}}}}var mt,ve=i.constrain(G-X.l-X.r,2,ge),Te=i.constrain(H-X.t-X.b,2,xe),Ce=Math.max(0,G-ve),We=Math.max(0,H-Te);if(Ce){var Ke=(Q+te)/Ce;Ke>1&&(Q/=Ke,te/=Ke)}if(We){var Je=(le+re)/We;Je>1&&(le/=Je,re/=Je)}if(ne.l=Math.round(Q),ne.r=Math.round(te),ne.t=Math.round(re),ne.b=Math.round(le),ne.p=Math.round(X.pad),ne.w=Math.round(G)-ne.l-ne.r,ne.h=Math.round(H)-ne.t-ne.b,!q._replotting&&(y.didMarginChange($,ne)||function(ft){if("_redrawFromAutoMarginCount"in ft._fullLayout)return!1;var mt=o.list(ft,"",!0);for(var At in mt)if(mt[At].autoshift||mt[At].shift)return!0;return!1}(V))){"_redrawFromAutoMarginCount"in q?q._redrawFromAutoMarginCount++:q._redrawFromAutoMarginCount=1;var ht=3*(1+Object.keys(he).length);if(q._redrawFromAutoMarginCount<ht)return M.call("_doPlot",V);q._size=$,i.warn("Too many auto-margin redraws.")}mt=o.list(V,"",!0),["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(At){for(var Rt=0;Rt<mt.length;Rt++){var It=mt[Rt][At];It&&It()}})};var N=["l","r","t","b","p","w","h"];function B(V,q,G){var H=!1,X=i.syncOrAsync([y.previousPromises,function(){if(V._transitionData)return V._transitioning=!1,function($){var Q=Promise.resolve();if(!$)return Q;for(;$.length;)Q=Q.then($.shift());return Q}(V._transitionData._interruptCallbacks)},G.prepareFn,y.rehover,y.reselect,function(){return V.emit("plotly_transitioning",[]),new Promise(function($){V._transitioning=!0,q.duration>0&&(V._transitioningWithDuration=!0),V._transitionData._interruptCallbacks.push(function(){H=!0}),G.redraw&&V._transitionData._interruptCallbacks.push(function(){return M.call("redraw",V)}),V._transitionData._interruptCallbacks.push(function(){V.emit("plotly_transitioninterrupted",[])});var Q=0,te=0;function re(){return Q++,function(){var le;te++,H||te!==Q||(le=$,V._transitionData&&(function(ue){if(ue)for(;ue.length;)ue.shift()}(V._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(G.redraw)return M.call("redraw",V)}).then(function(){V._transitioning=!1,V._transitioningWithDuration=!1,V.emit("plotly_transitioned",[])}).then(le)))}}G.runFn(re),setTimeout(re())})}],V);return X&&X.then||(X=Promise.resolve()),X.then(function(){return V})}y.didMarginChange=function(V,q){for(var G=0;G<N.length;G++){var H=N[G],ne=V[H],X=q[H];if(!S(ne)||Math.abs(X-ne)>1)return!0}return!1},y.graphJson=function(V,q,G,H,ne,X){(ne&&q&&!V._fullData||ne&&!q&&!V._fullLayout)&&y.supplyDefaults(V);var Q=ne?V._fullLayout:V.layout,te=(V._transitionData||{})._frames;function re(he,ge){if("function"==typeof he)return ge?"_function_":null;if(i.isPlainObject(he)){var xe,ke={};return Object.keys(he).sort().forEach(function(Ae){if(-1===["_","["].indexOf(Ae.charAt(0)))if("function"!=typeof he[Ae]){if("keepdata"===G){if("src"===Ae.substr(Ae.length-3))return}else if("keepstream"===G){if("string"==typeof(xe=he[Ae+"src"])&&xe.indexOf(":")>0&&!i.isPlainObject(he.stream))return}else if("keepall"!==G&&"string"==typeof(xe=he[Ae+"src"])&&xe.indexOf(":")>0)return;ke[Ae]=re(he[Ae],ge)}else ge&&(ke[Ae]="_function")}),ke}return Array.isArray(he)?he.map(function(Ae){return re(Ae,ge)}):i.isTypedArray(he)?i.simpleMap(he,i.identity):i.isJSDate(he)?i.ms2DateTimeLocal(+he):he}var le={data:((ne?V._fullData:V.data)||[]).map(function(he){var ge=re(he);return q&&delete ge.fit,ge})};if(!q&&(le.layout=re(Q),ne)){var ue=Q._size;le.layout.computed={margin:{b:ue.b,l:ue.l,r:ue.r,t:ue.t}}}return te&&(le.frames=re(te)),X&&(le.config=re(V._context,!0)),"object"===H?le:JSON.stringify(le)},y.modifyFrames=function(V,q){var G,H,ne,X=V._transitionData._frames,$=V._transitionData._frameHash;for(G=0;G<q.length;G++)switch((H=q[G]).type){case"replace":var Q=(X[H.index]||{}).name,te=(ne=H.value).name;X[H.index]=$[te]=ne,te!==Q&&(delete $[Q],$[te]=ne);break;case"insert":$[(ne=H.value).name]=ne,X.splice(H.index,0,ne);break;case"delete":delete $[(ne=X[H.index]).name],X.splice(H.index,1)}return Promise.resolve()},y.computeFrame=function(V,q){var G,H,ne,X,$=V._transitionData._frameHash;if(!q)throw new Error("computeFrame must be given a string frame name");var Q=$[q.toString()];if(!Q)return!1;for(var te=[Q],re=[Q.name];Q.baseframe&&(Q=$[Q.baseframe.toString()])&&-1===re.indexOf(Q.name);)te.push(Q),re.push(Q.name);for(var le={};Q=te.pop();)if(Q.layout&&(le.layout=y.extendLayout(le.layout,Q.layout)),Q.data){if(le.data||(le.data=[]),!(H=Q.traces))for(H=[],G=0;G<Q.data.length;G++)H[G]=G;for(le.traces||(le.traces=[]),G=0;G<Q.data.length;G++)null!=(ne=H[G])&&(-1===(X=le.traces.indexOf(ne))&&(le.traces[X=le.data.length]=ne),le.data[X]=y.extendTrace(le.data[X],Q.data[G]))}return le},y.recomputeFrameHash=function(V){for(var q=V._transitionData._frameHash={},G=V._transitionData._frames,H=0;H<G.length;H++){var ne=G[H];ne&&ne.name&&(q[ne.name]=ne)}},y.extendObjectWithContainers=function(V,q,G){var H,ne,X,$,Q,te,re,le=i.extendDeepNoArrays({},q||{}),ue=i.expandObjectPaths(le),he={};if(G&&G.length)for(X=0;X<G.length;X++)void 0===(ne=(H=i.nestedProperty(ue,G[X])).get())?i.nestedProperty(he,G[X]).set(null):(H.set(null),i.nestedProperty(he,G[X]).set(ne));if(V=i.extendDeepNoArrays(V||{},ue),G&&G.length)for(X=0;X<G.length;X++)if(te=i.nestedProperty(he,G[X]).get()){for(re=(Q=i.nestedProperty(V,G[X])).get(),Array.isArray(re)||Q.set(re=[]),$=0;$<te.length;$++){var ge=te[$];re[$]=null===ge?null:y.extendObjectWithContainers(re[$],ge)}Q.set(re)}return V},y.dataArrayContainers=["transforms","dimensions"],y.layoutArrayContainers=M.layoutArrayContainers,y.extendTrace=function(V,q){return y.extendObjectWithContainers(V,q,y.dataArrayContainers)},y.extendLayout=function(V,q){return y.extendObjectWithContainers(V,q,y.layoutArrayContainers)},y.transition=function(V,q,G,H,ne,X){var $={redraw:ne.redraw},Q={},te=[];return $.prepareFn=function(){for(var re=Array.isArray(q)?q.length:0,le=H.slice(0,re),ue=0;ue<le.length;ue++){var he=le[ue],ge=V._fullData[he]._module;if(ge){if(ge.animatable){var xe=ge.basePlotModule.name;Q[xe]||(Q[xe]=[]),Q[xe].push(he)}V.data[le[ue]]=y.extendTrace(V.data[le[ue]],q[ue])}}var ke=i.expandObjectPaths(i.extendDeepNoArrays({},G)),Ae=/^[xy]axis[0-9]*$/;for(var pe in ke)Ae.test(pe)&&delete ke[pe].range;y.extendLayout(V.layout,ke),delete V.calcdata,y.supplyDefaults(V),y.doCalcdata(V);var ye=i.expandObjectPaths(G);if(ye){var Ne=V._fullLayout._plots;for(var be in Ne){var Ee=Ne[be],Oe=Ee.xaxis,De=Ee.yaxis,oe=Oe.range.slice(),de=De.range.slice(),_e=null,Me=null,Pe=null,Ue=null;Array.isArray(ye[Oe._name+".range"])?_e=ye[Oe._name+".range"].slice():Array.isArray((ye[Oe._name]||{}).range)&&(_e=ye[Oe._name].range.slice()),Array.isArray(ye[De._name+".range"])?Me=ye[De._name+".range"].slice():Array.isArray((ye[De._name]||{}).range)&&(Me=ye[De._name].range.slice()),oe&&_e&&(Oe.r2l(oe[0])!==Oe.r2l(_e[0])||Oe.r2l(oe[1])!==Oe.r2l(_e[1]))&&(Pe={xr0:oe,xr1:_e}),de&&Me&&(De.r2l(de[0])!==De.r2l(Me[0])||De.r2l(de[1])!==De.r2l(Me[1]))&&(Ue={yr0:de,yr1:Me}),(Pe||Ue)&&te.push(i.extendFlat({plotinfo:Ee},Pe,Ue))}}return Promise.resolve()},$.runFn=function(re){var le,ue,he=V._fullLayout._basePlotModules,ge=te.length;if(G)for(ue=0;ue<he.length;ue++)he[ue].transitionAxes&&he[ue].transitionAxes(V,te,X,re);for(var xe in ge?((le=i.extendFlat({},X)).duration=0,delete Q.cartesian):le=X,Q){var ke=Q[xe];V._fullData[ke[0]]._module.basePlotModule.plot(V,ke,le,re)}},B(V,X,$)},y.transitionFromReact=function(V,q,G,H){var ne=V._fullLayout,X=ne.transition,$={},Q=[];return $.prepareFn=function(){var te=ne._plots;for(var re in $.redraw=!1,"some"===q.anim&&($.redraw=!0),"some"===G.anim&&($.redraw=!0),te){var le=te[re],ue=le.xaxis,he=le.yaxis,ge=H[ue._name].range.slice(),xe=H[he._name].range.slice(),ke=ue.range.slice(),Ae=he.range.slice();ue.setScale(),he.setScale();var pe=null,ye=null;ue.r2l(ge[0])===ue.r2l(ke[0])&&ue.r2l(ge[1])===ue.r2l(ke[1])||(pe={xr0:ge,xr1:ke}),he.r2l(xe[0])===he.r2l(Ae[0])&&he.r2l(xe[1])===he.r2l(Ae[1])||(ye={yr0:xe,yr1:Ae}),(pe||ye)&&Q.push(i.extendFlat({plotinfo:le},pe,ye))}return Promise.resolve()},$.runFn=function(te){for(var re,le,ue,he=V._fullData,ge=V._fullLayout._basePlotModules,xe=[],ke=0;ke<he.length;ke++)xe.push(ke);function Ae(){if(V._fullLayout)for(var ye=0;ye<ge.length;ye++)ge[ye].transitionAxes&&ge[ye].transitionAxes(V,Q,re,te)}function pe(){if(V._fullLayout)for(var ye=0;ye<ge.length;ye++)ge[ye].plot(V,ue,le,te)}Q.length&&q.anim?"traces first"===X.ordering?(re=i.extendFlat({},X,{duration:0}),ue=xe,le=X,setTimeout(Ae,X.duration),pe()):(re=X,ue=null,le=i.extendFlat({},X,{duration:0}),setTimeout(pe,re.duration),Ae()):Q.length?(re=X,Ae()):q.anim&&(ue=xe,le=X,pe())},B(V,X,$)},y.doCalcdata=function(V,q){var G,H,ne,X,$=o.list(V),Q=V._fullData,te=V._fullLayout,re=new Array(Q.length),le=(V.calcdata||[]).slice();for(V.calcdata=re,te._numBoxes=0,te._numViolins=0,te._violinScaleGroupStats={},V._hmpixcount=0,V._hmlumcount=0,te._piecolormap={},te._sunburstcolormap={},te._treemapcolormap={},te._iciclecolormap={},te._funnelareacolormap={},ne=0;ne<Q.length;ne++)Array.isArray(q)&&-1===q.indexOf(ne)&&(re[ne]=le[ne]);for(ne=0;ne<Q.length;ne++)(G=Q[ne])._arrayAttrs=v.findArrayAttributes(G),G._extremes={};var ue=te._subplots.polar||[];for(ne=0;ne<ue.length;ne++)$.push(te[ue[ne]].radialaxis,te[ue[ne]].angularaxis);for(var he in te._colorAxes){var ge=te[he];!1!==ge.cauto&&(delete ge.cmin,delete ge.cmax)}var xe=!1;function ke(ye){if(H=(G=Q[ye])._module,!0===G.visible&&G.transforms){if(H&&H.calc){var Ne=H.calc(V,G);Ne[0]&&Ne[0].t&&Ne[0].t._scene&&delete Ne[0].t._scene.dirty}for(X=0;X<G.transforms.length;X++){var be=G.transforms[X];(H=w[be.type])&&H.calcTransform&&(G._hasCalcTransform=!0,xe=!0,H.calcTransform(V,G,be))}}}function Ae(ye,Ne){if(!!(H=(G=Q[ye])._module).isContainer===Ne){var be=[];if(!0===G.visible&&0!==G._length){delete G._indexToPoints;var Ee=G.transforms||[];for(X=Ee.length-1;X>=0;X--)if(Ee[X].enabled){G._indexToPoints=Ee[X]._indexToPoints;break}H&&H.calc&&(be=H.calc(V,G))}Array.isArray(be)&&be[0]||(be=[{x:a,y:a}]),be[0].t||(be[0].t={}),be[0].trace=G,re[ye]=be}}for(j($,Q,te),ne=0;ne<Q.length;ne++)Ae(ne,!0);for(ne=0;ne<Q.length;ne++)ke(ne);for(xe&&j($,Q,te),ne=0;ne<Q.length;ne++)Ae(ne,!0);for(ne=0;ne<Q.length;ne++)Ae(ne,!1);Z(V);var pe=function(ye,Ne){var be,Ee,Oe,De,oe,de=[];function _e(et,nt,$e){var ot=nt._id.charAt(0);if("histogram2dcontour"===et){var dt=nt._counterAxes[0],Le=o.getFromId(Ne,dt),Ge="x"===ot||"x"===dt&&"category"===Le.type,st="y"===ot||"y"===dt&&"category"===Le.type;return function(vt,bt){return 0===vt||0===bt||Ge&&vt===$e[bt].length-1||st&&bt===$e.length-1?-1:("y"===ot?bt:vt)-1}}return function(vt,bt){return"y"===ot?bt:vt}}var Me={min:function(et){return i.aggNums(Math.min,null,et)},max:function(et){return i.aggNums(Math.max,null,et)},sum:function(et){return i.aggNums(function(nt,$e){return nt+$e},null,et)},total:function(et){return i.aggNums(function(nt,$e){return nt+$e},null,et)},mean:function(et){return i.mean(et)},median:function(et){return i.median(et)}};for(be=0;be<ye.length;be++){var Pe=ye[be];if("category"===Pe.type){var Ue=Pe.categoryorder.match(W);if(Ue){var Be=Ue[1],Ve=Ue[2],ve=Pe._id.charAt(0),Te="x"===ve,Ce=[];for(Ee=0;Ee<Pe._categories.length;Ee++)Ce.push([Pe._categories[Ee],[]]);for(Ee=0;Ee<Pe._traceIndices.length;Ee++){var We=Pe._traceIndices[Ee],Ke=Ne._fullData[We];if(!0===Ke.visible){var Je=Ke.type;M.traceIs(Ke,"histogram")&&(delete Ke._xautoBinFinished,delete Ke._yautoBinFinished);var ht="splom"===Je,ft="scattergl"===Je,mt=Ne.calcdata[We];for(Oe=0;Oe<mt.length;Oe++){var At,Rt,It=mt[Oe];if(ht){var Pt=Ke._axesDim[Pe._id];if(!Te){var Bt=Ke._diag[Pt][0];Bt&&(Pe=Ne._fullLayout[o.id2name(Bt)])}var Ut=It.trace.dimensions[Pt].values;for(De=0;De<Ut.length;De++)for(At=Pe._categoriesMap[Ut[De]],oe=0;oe<It.trace.dimensions.length;oe++)oe!==Pt&&Ce[At][1].push(It.trace.dimensions[oe].values[De])}else if(ft){for(De=0;De<It.t.x.length;De++)Te?(At=It.t.x[De],Rt=It.t.y[De]):(At=It.t.y[De],Rt=It.t.x[De]),Ce[At][1].push(Rt);It.t&&It.t._scene&&delete It.t._scene.dirty}else if(It.hasOwnProperty("z")){var tn=_e(Ke.type,Pe,Rt=It.z);for(De=0;De<Rt.length;De++)for(oe=0;oe<Rt[De].length;oe++)(At=tn(oe,De))+1&&Ce[At][1].push(Rt[De][oe])}else for(void 0===(At=It.p)&&(At=It[ve]),void 0===(Rt=It.s)&&(Rt=It.v),void 0===Rt&&(Rt=Te?It.y:It.x),Array.isArray(Rt)||(Rt=void 0===Rt?[]:[Rt]),De=0;De<Rt.length;De++)Ce[At][1].push(Rt[De])}}}Pe._categoriesValue=Ce;var Gt=[];for(Ee=0;Ee<Ce.length;Ee++)Gt.push([Ce[Ee][0],Me[Be](Ce[Ee][1])]);Gt.sort(function(et,nt){return et[1]-nt[1]}),Pe._categoriesAggregatedValue=Gt,Pe._initialCategories=Gt.map(function(et){return et[0]}),"descending"===Ve&&Pe._initialCategories.reverse(),de=de.concat(Pe.sortByInitialCategories())}}}return de}($,V);if(pe.length){for(te._numBoxes=0,te._numViolins=0,ne=0;ne<pe.length;ne++)Ae(pe[ne],!0);for(ne=0;ne<pe.length;ne++)Ae(pe[ne],!1);Z(V)}M.getComponentMethod("fx","calc")(V),M.getComponentMethod("errorbars","calc")(V)};var W=/(total|sum|min|max|mean|median) (ascending|descending)/;function j(V,q,G){var H={};function ne(te){te.clearCalc(),"multicategory"===te.type&&te.setupMultiCategory(q),H[te._id]=1}i.simpleMap(V,ne);for(var X=G._axisMatchGroups||[],$=0;$<X.length;$++)for(var Q in X[$])H[Q]||ne(G[o.id2name(Q)])}function Z(V){var q,G,H,ne=V._fullLayout,X=ne._visibleModules,$={};for(G=0;G<X.length;G++){var Q=X[G],te=Q.crossTraceCalc;if(te){var re=Q.basePlotModule.name;$[re]?i.pushUnique($[re],te):$[re]=[te]}}for(H in $){var le=$[H],ue=ne._subplots[H];if(Array.isArray(ue))for(q=0;q<ue.length;q++){var he=ue[q],ge="cartesian"===H?ne._plots[he]:ne[he];for(G=0;G<le.length;G++)le[G](V,ge,he)}else for(G=0;G<le.length;G++)le[G](V)}}y.rehover=function(V){V._fullLayout._rehover&&V._fullLayout._rehover()},y.redrag=function(V){V._fullLayout._redrag&&V._fullLayout._redrag()},y.reselect=function(V){var q=V._fullLayout,G=(V.layout||{}).selections,H=q._previousSelections;q._previousSelections=G;var ne=q._reselect||JSON.stringify(G)!==JSON.stringify(H);M.getComponentMethod("selections","reselect")(V,ne)},y.generalUpdatePerTraceModule=function(V,q,G,H){var ne,X=q.traceHash,$={};for(ne=0;ne<G.length;ne++){var Q=G[ne],te=Q[0].trace;te.visible&&($[te.type]=$[te.type]||[],$[te.type].push(Q))}for(var re in X)if(!$[re]){var le=X[re][0];le[0].trace.visible=!1,$[re]=[le]}for(var ue in $){var he=$[ue];he[0][0].trace._module.plot(V,q,i.filterVisible(he),H)}q.traceHash=$},y.plotBasePlot=function(V,q,G,H,ne){var X=M.getModule(V),$=p(q.calcdata,X)[0];X.plot(q,$,H,ne)},y.cleanBasePlot=function(V,q,G,H,ne){var X=ne._has&&ne._has(V),$=G._has&&G._has(V);X&&!$&&ne["_"+V+"layer"].selectAll("g.trace").remove()}},9813:function(ie){"use strict";ie.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},10869:function(ie,z,r){"use strict";var C=r(71828),E=r(61082).tester,f=C.findIndexOfMin,S=C.isAngleInsideSector,M=C.angleDelta,v=C.angleDist;function c(o,l,s,d){var g,p,T=d[0],_=d[1],y=u(Math.sin(l)-Math.sin(o)),w=u(Math.cos(l)-Math.cos(o)),m=Math.tan(s),b=u(1/m),k=y/w,h=_-k*T;return b?y&&w?p=m*(g=h/(m-k)):w?(g=_*b,p=_):(g=T,p=T*m):y&&w?(g=0,p=h):w?(g=0,p=_):g=p=NaN,[g,p]}function i(o,l,s,d){return C.isFullCircle([l,s])?function(g,p){var T,_=p.length,y=new Array(_+1);for(T=0;T<_;T++){var w=p[T];y[T]=[g*Math.cos(w),g*Math.sin(w)]}return y[T]=y[0].slice(),y}(o,d):function(g,p,T,_){var y,w,m=_.length,b=[];function k(W){return[g*Math.cos(W),g*Math.sin(W)]}function h(W,j,Z){return c(W,j,Z,k(W))}function O(W){return C.mod(W,m)}function A(W){return S(W,[p,T])}var I=f(_,function(W){return A(W)?v(W,p):1/0}),P=h(_[I],_[O(I-1)],p);for(b.push(P),y=I,w=0;w<m;y++,w++){var L=_[O(y)];if(!A(L))break;b.push(k(L))}var N=f(_,function(W){return A(W)?v(W,T):1/0}),B=h(_[N],_[O(N+1)],T);return b.push(B),b.push([0,0]),b.push(b[0].slice()),b}(o,l,s,d)}function u(o){return Math.abs(o)>1e-10?o:0}function a(o,l,s){l=l||0,s=s||0;for(var d=o.length,g=new Array(d),p=0;p<d;p++){var T=o[p];g[p]=[l+T[0],s-T[1]]}return g}ie.exports={isPtInsidePolygon:function(o,l,s,d,g){if(!S(l,d))return!1;var p,T;s[0]<s[1]?(p=s[0],T=s[1]):(p=s[1],T=s[0]);var _=E(i(p,d[0],d[1],g)),y=E(i(T,d[0],d[1],g)),w=[o*Math.cos(l),o*Math.sin(l)];return y.contains(w)&&!_.contains(w)},findPolygonOffset:function(o,l,s,d){for(var g=1/0,p=1/0,T=i(o,l,s,d),_=0;_<T.length;_++){var y=T[_];g=Math.min(g,y[0]),p=Math.min(p,-y[1])}return[g,p]},findEnclosingVertexAngles:function(o,l){var s=f(l,function(g){var p=M(g,o);return p>0?p:1/0}),d=C.mod(s+1,l.length);return[l[s],l[d]]},findIntersectionXY:c,findXYatLength:function(o,l,s,d){var g=-l*s,p=l*l+1,T=2*(l*g-s),y=Math.sqrt(T*T-4*p*(g*g+s*s-o*o)),w=(-T+y)/(2*p),m=(-T-y)/(2*p);return[[w,l*w+g+d],[m,l*m+g+d]]},clampTiny:u,pathPolygon:function(o,l,s,d,g,p){return"M"+a(i(o,l,s,d),g,p).join("L")},pathPolygonAnnulus:function(o,l,s,d,g,p,T){var _,y;o<l?(_=o,y=l):(_=l,y=o);var w=a(i(_,s,d,g),p,T);return"M"+a(i(y,s,d,g),p,T).reverse().join("L")+"M"+w.join("L")}}},23580:function(ie,z,r){"use strict";var C=r(27659).AU,E=r(71828).counterRegex,f=r(77997),S=r(9813),M=S.attr,v=S.name,c=E(v),i={};i[M]={valType:"subplotid",dflt:v,editType:"calc"},ie.exports={attr:M,name:v,idRoot:v,idRegex:c,attrRegex:c,attributes:i,layoutAttributes:r(73812),supplyLayoutDefaults:r(68993),plot:function(u){for(var a=u._fullLayout,o=u.calcdata,l=a._subplots[v],s=0;s<l.length;s++){var d=l[s],g=C(o,v,d),p=a[d]._subplot;p||(p=f(u,d),a[d]._subplot=p),p.plot(g,a,u._promises)}},clean:function(u,a,o,l){for(var s=l._subplots[v]||[],d=l._has&&l._has("gl"),g=a._has&&a._has("gl"),p=d&&!g,T=0;T<s.length;T++){var _=s[T],y=l[_]._subplot;if(!a[_]&&y)for(var w in y.framework.remove(),y.layers["radial-axis-title"].remove(),y.clipPaths)y.clipPaths[w].remove();p&&y._scene&&(y._scene.destroy(),y._scene=null)}},toSVG:r(93612).toSVG}},73812:function(ie,z,r){"use strict";var C=r(22399),E=r(13838),f=r(27670).Y,S=r(71828).extendFlat,M=r(30962).overrideAll,v=M({color:E.color,showline:S({},E.showline,{dflt:!0}),linecolor:E.linecolor,linewidth:E.linewidth,showgrid:S({},E.showgrid,{dflt:!0}),gridcolor:E.gridcolor,gridwidth:E.gridwidth,griddash:E.griddash},"plot","from-root"),c=M({tickmode:E.minor.tickmode,nticks:E.nticks,tick0:E.tick0,dtick:E.dtick,tickvals:E.tickvals,ticktext:E.ticktext,ticks:E.ticks,ticklen:E.ticklen,tickwidth:E.tickwidth,tickcolor:E.tickcolor,ticklabelstep:E.ticklabelstep,showticklabels:E.showticklabels,showtickprefix:E.showtickprefix,tickprefix:E.tickprefix,showticksuffix:E.showticksuffix,ticksuffix:E.ticksuffix,showexponent:E.showexponent,exponentformat:E.exponentformat,minexponent:E.minexponent,separatethousands:E.separatethousands,tickfont:E.tickfont,tickangle:E.tickangle,tickformat:E.tickformat,tickformatstops:E.tickformatstops,layer:E.layer},"plot","from-root"),i={visible:S({},E.visible,{dflt:!0}),type:S({},E.type,{values:["-","linear","log","date","category"]}),autotypenumbers:E.autotypenumbers,autorange:S({},E.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},range:S({},E.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:E.categoryorder,categoryarray:E.categoryarray,angle:{valType:"angle",editType:"plot"},side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:S({},E.title.text,{editType:"plot",dflt:""}),font:S({},E.title.font,{editType:"plot"}),editType:"plot"},hoverformat:E.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:E._deprecated.title,titlefont:E._deprecated.titlefont}};S(i,v,c);var u={visible:S({},E.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:E.autotypenumbers,categoryorder:E.categoryorder,categoryarray:E.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:E.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};S(u,v,c),ie.exports={domain:f({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:C.background},radialaxis:i,angularaxis:u,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},68993:function(ie,z,r){"use strict";var C=r(71828),E=r(7901),f=r(44467),S=r(49119),M=r(27659).NG,v=r(26218),c=r(38701),i=r(96115),u=r(89426),a=r(15258),o=r(92128),l=r(4322),s=r(73812),d=r(12101),g=r(9813),p=g.axisNames;function T(y,w,m,b){var k=m("bgcolor");b.bgColor=E.combine(k,b.paper_bgcolor);var h=m("sector");m("hole");var O,A=M(b.fullData,g.name,b.id),I=b.layoutOut;function P(te,re){return m(O+"."+te,re)}for(var L=0;L<p.length;L++){C.isPlainObject(y[O=p[L]])||(y[O]={});var N=y[O],B=f.newContainer(w,O);B._id=B._name=O,B._attr=b.id+"."+O,B._traceIndices=A.map(function(te){return te._expandedIndex});var W=g.axisName2dataArray[O],j=_(N,B,P,A,W,b);a(N,B,P,{axData:A,dataAttr:W});var Z=P("visible");switch(d(B,w,I),P("uirevision",w.uirevision),B._m=1,O){case"radialaxis":var V=P("autorange",!B.isValidRange(N.range));N.autorange=V,!V||"linear"!==j&&"-"!==j||P("rangemode"),"reversed"===V&&(B._m=-1),P("range"),B.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if("date"===j){C.log("Polar plots do not support date angular axes yet.");for(var q=0;q<A.length;q++)A[q].visible=!1;j=N.type=B.type="linear"}P("linear"===j?"thetaunit":"period");var G=P("direction");P("rotation",{counterclockwise:0,clockwise:90}[G])}if(u(N,B,P,B.type,{tickSuffixDflt:"degrees"===B.thetaunit?"\xb0":void 0}),Z){var H,ne,X,$,Q=b.font||{};ne=(H=P("color"))===N.color?H:Q.color,X=Q.size,$=Q.family,v(N,B,P,B.type),i(N,B,P,B.type,{font:{color:ne,size:X,family:$}}),c(N,B,P,{outerTicks:!0}),o(N,B,P,{dfltColor:H,bgColor:b.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:s[O]}),P("layer"),"radialaxis"===O&&(P("side"),P("angle",h[0]),P("title.text"),C.coerceFont(P,"title.font",{color:ne,size:C.bigFont(X),family:$}))}"category"!==j&&P("hoverformat"),B._input=N}"category"===w.angularaxis.type&&m("gridshape")}function _(y,w,m,b,k,h){var O=m("autotypenumbers",h.autotypenumbersDflt);if("-"===m("type")){for(var A,I=0;I<b.length;I++)if(b[I].visible){A=b[I];break}A&&A[k]&&(w.type=l(A[k],"gregorian",{noMultiCategory:!0,autotypenumbers:O})),"-"===w.type?w.type="linear":y.type=w.type}return w.type}ie.exports=function(y,w,m){S(y,w,m,{type:g.name,attributes:s,handleDefaults:T,font:w.font,autotypenumbersDflt:w.autotypenumbers,paper_bgcolor:w.paper_bgcolor,fullData:m,layoutOut:w})}},77997:function(ie,z,r){"use strict";var C=r(39898),E=r(84267),f=r(73972),S=r(71828),M=S.strRotate,v=S.strTranslate,c=r(7901),i=r(91424),u=r(74875),a=r(89298),o=r(21994),l=r(12101),s=r(71739).doAutoRange,d=r(29323),g=r(28569),p=r(30211),T=r(92998),_=r(47322).prepSelect,y=r(47322).selectOnClick,w=r(47322).clearOutline,m=r(6964),b=r(33306),k=r(61549).redrawReglTraces,h=r(18783).MID_SHIFT,O=r(9813),A=r(10869),I=r(23893),P=I.smith,L=I.reactanceArc,N=I.resistanceArc,B=I.smithTransform,W=S._,j=S.mod,Z=S.deg2rad,V=S.rad2deg;function q($,Q,te){this.isSmith=te||!1,this.id=Q,this.gd=$,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var re=$._fullLayout;this.clipIds.forTraces="clip"+re._uid+Q+"-for-traces",this.clipPaths.forTraces=re._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=re["_"+(te?"smith":"polar")+"layer"].append("g").attr("class",Q),this.getHole=function(ue){return this.isSmith?0:ue.hole},this.getSector=function(ue){return this.isSmith?[0,360]:ue.sector},this.getRadial=function(ue){return this.isSmith?ue.realaxis:ue.radialaxis},this.getAngular=function(ue){return this.isSmith?ue.imaginaryaxis:ue.angularaxis},te||(this.radialTickLayout=null,this.angularTickLayout=null)}var G=q.prototype;function H($){var Q=$.ticks+String($.ticklen)+String($.showticklabels);return"side"in $&&(Q+=$.side),Q}function ne($,Q){return Q[S.findIndexOfMin(Q,function(te){return S.angleDist($,te)})]}function X($,Q,te){return Q?($.attr("display",null),$.attr(te)):$&&$.attr("display","none"),$}ie.exports=function($,Q,te){return new q($,Q,te)},G.plot=function($,Q){for(var te=this,re=Q[te.id],le=!1,ue=0;ue<$.length;ue++)if(!1===$[ue][0].trace.cliponaxis){le=!0;break}te._hasClipOnAxisFalse=le,te.updateLayers(Q,re),te.updateLayout(Q,re),u.generalUpdatePerTraceModule(te.gd,te,$,re),te.updateFx(Q,re),te.isSmith&&(delete re.realaxis.range,delete re.imaginaryaxis.range)},G.updateLayers=function($,Q){var te=this,re=te.isSmith,le=te.layers,ue=te.getRadial(Q),he=te.getAngular(Q),ge=O.layerNames,xe=ge.indexOf("frontplot"),ke=ge.slice(0,xe),Ae="below traces"===he.layer,pe="below traces"===ue.layer;Ae&&ke.push("angular-line"),pe&&ke.push("radial-line"),Ae&&ke.push("angular-axis"),pe&&ke.push("radial-axis"),ke.push("frontplot"),Ae||ke.push("angular-line"),pe||ke.push("radial-line"),Ae||ke.push("angular-axis"),pe||ke.push("radial-axis");var ye=(re?"smith":"polar")+"sublayer",Ne=te.framework.selectAll("."+ye).data(ke,String);Ne.enter().append("g").attr("class",function(be){return ye+" "+be}).each(function(be){var Ee=le[be]=C.select(this);switch(be){case"frontplot":re||Ee.append("g").classed("barlayer",!0),Ee.append("g").classed("scatterlayer",!0);break;case"backplot":Ee.append("g").classed("maplayer",!0);break;case"plotbg":le.bg=Ee.append("path");break;case"radial-grid":case"angular-grid":Ee.style("fill","none");break;case"radial-line":Ee.append("line").style("fill","none");break;case"angular-line":Ee.append("path").style("fill","none")}}),Ne.order()},G.updateLayout=function($,Q){var te=this,re=te.layers,le=$._size,ue=te.getRadial(Q),he=te.getAngular(Q),ge=Q.domain.x,xe=Q.domain.y;te.xOffset=le.l+le.w*ge[0],te.yOffset=le.t+le.h*(1-xe[1]);var ke=te.xLength=le.w*(ge[1]-ge[0]),Ae=te.yLength=le.h*(xe[1]-xe[0]),pe=te.getSector(Q);te.sectorInRad=pe.map(Z);var ye,Ne,be,Ee,Oe,ft,mt,At,Rt,It,Pt,Bt,Ut,Vt,tn,De=te.sectorBBox=(Rt=(ft=pe)[1]-(At=ft[0]),Pt=(It=j(At,360))+Rt,Bt=Math.cos(Z(It)),Ut=Math.sin(Z(It)),Vt=Math.cos(Z(Pt)),tn=Math.sin(Z(Pt)),mt=It<=90&&Pt>=90||It>90&&Pt>=450?1:Ut<=0&&tn<=0?0:Math.max(Ut,tn),[It<=180&&Pt>=180||It>180&&Pt>=540?-1:Bt>=0&&Vt>=0?0:Math.min(Bt,Vt),It<=270&&Pt>=270||It>270&&Pt>=630?-1:Ut>=0&&tn>=0?0:Math.min(Ut,tn),Pt>=360?1:Bt<=0&&Vt<=0?0:Math.max(Bt,Vt),mt]),oe=De[2]-De[0],_e=Ae/ke,Me=Math.abs((De[3]-De[1])/oe);_e>Me?(ye=ke,Oe=(Ae-(Ne=ke*Me))/le.h/2,be=[ge[0],ge[1]],Ee=[xe[0]+Oe,xe[1]-Oe]):(Ne=Ae,Oe=(ke-(ye=Ae/Me))/le.w/2,be=[ge[0]+Oe,ge[1]-Oe],Ee=[xe[0],xe[1]]),te.xLength2=ye,te.yLength2=Ne,te.xDomain2=be,te.yDomain2=Ee;var Pe,Ue=te.xOffset2=le.l+le.w*be[0],Be=te.yOffset2=le.t+le.h*(1-Ee[1]),Ve=te.radius=ye/oe,ve=te.innerRadius=te.getHole(Q)*Ve,Te=te.cx=Ue-Ve*De[0],Ce=te.cy=Be+Ve*De[3],We=te.cxx=Te-Ue,Ke=te.cyy=Ce-Be,Je=ue.side;"counterclockwise"===Je?(Pe=Je,Je="top"):"clockwise"===Je&&(Pe=Je,Je="bottom"),te.radialAxis=te.mockAxis($,Q,ue,{_id:"x",side:Je,_trueSide:Pe,domain:[ve/le.w,Ve/le.w]}),te.angularAxis=te.mockAxis($,Q,he,{side:"right",domain:[0,Math.PI],autorange:!1}),te.doAutoRange($,Q),te.updateAngularAxis($,Q),te.updateRadialAxis($,Q),te.updateRadialAxisTitle($,Q),te.xaxis=te.mockCartesianAxis($,Q,{_id:"x",domain:be}),te.yaxis=te.mockCartesianAxis($,Q,{_id:"y",domain:Ee});var ht=te.pathSubplot();te.clipPaths.forTraces.select("path").attr("d",ht).attr("transform",v(We,Ke)),re.frontplot.attr("transform",v(Ue,Be)).call(i.setClipUrl,te._hasClipOnAxisFalse?null:te.clipIds.forTraces,te.gd),re.bg.attr("d",ht).attr("transform",v(Te,Ce)).call(c.fill,Q.bgcolor)},G.mockAxis=function($,Q,te,re){var le=S.extendFlat({},te,re);return l(le,Q,$),le},G.mockCartesianAxis=function($,Q,te){var re=this,le=re.isSmith,ue=te._id,he=S.extendFlat({type:"linear"},te);o(he,$);var ge={x:[0,2],y:[1,3]};return he.setRange=function(){var xe=re.sectorBBox,ke=ge[ue],Ae=re.radialAxis._rl,pe=(Ae[1]-Ae[0])/(1-re.getHole(Q));he.range=[xe[ke[0]]*pe,xe[ke[1]]*pe]},he.isPtWithinRange="x"!==ue||le?function(){return!0}:function(xe){return re.isPtInside(xe)},he.setRange(),he.setScale(),he},G.doAutoRange=function($,Q){var re=this.gd,le=this.radialAxis,ue=this.getRadial(Q);s(re,le);var he=le.range;ue.range=he.slice(),ue._input.range=he.slice(),le._rl=[le.r2l(he[0],null,"gregorian"),le.r2l(he[1],null,"gregorian")]},G.updateRadialAxis=function($,Q){var te=this,re=te.gd,le=te.layers,ue=te.radius,he=te.innerRadius,ge=te.cx,xe=te.cy,ke=te.getRadial(Q),Ae=j(te.getSector(Q)[0],360),pe=te.radialAxis,ye=he<ue,Ne=te.isSmith;Ne||(te.fillViewInitialKey("radialaxis.angle",ke.angle),te.fillViewInitialKey("radialaxis.range",pe.range.slice()),pe.setGeometry()),"auto"===pe.tickangle&&Ae>90&&Ae<=270&&(pe.tickangle=180);var be=Ne?function(Be){var Ve=B(te,P([Be.x,0]));return v(Ve[0]-ge,Ve[1]-xe)}:function(Be){return v(pe.l2p(Be.x)+he,0)},Ee=Ne?function(Be){return N(te,Be.x,-1/0,1/0)}:function(Be){return te.pathArc(pe.r2p(Be.x)+he)},Oe=H(ke);if(te.radialTickLayout!==Oe&&(le["radial-axis"].selectAll(".xtick").remove(),te.radialTickLayout=Oe),ye){pe.setScale();var De=0,oe=Ne?(pe.tickvals||[]).filter(function(Be){return Be>=0}).map(function(Be){return a.tickText(pe,Be,!0,!1)}):a.calcTicks(pe),de=Ne?oe:a.clipEnds(pe,oe),_e=a.getTickSigns(pe)[2];Ne&&(("top"===pe.ticks&&"bottom"===pe.side||"bottom"===pe.ticks&&"top"===pe.side)&&(_e=-_e),"top"===pe.ticks&&"top"===pe.side&&(De=-pe.ticklen),"bottom"===pe.ticks&&"bottom"===pe.side&&(De=pe.ticklen)),a.drawTicks(re,pe,{vals:oe,layer:le["radial-axis"],path:a.makeTickPath(pe,0,_e),transFn:be,crisp:!1}),a.drawGrid(re,pe,{vals:de,layer:le["radial-grid"],path:Ee,transFn:S.noop,crisp:!1}),a.drawLabels(re,pe,{vals:oe,layer:le["radial-axis"],transFn:be,labelFns:a.makeLabelFns(pe,De)})}var Me=te.radialAxisAngle=te.vangles?V(ne(Z(ke.angle),te.vangles)):ke.angle,Pe=v(ge,xe),Ue=Pe+M(-Me);X(le["radial-axis"],ye&&(ke.showticklabels||ke.ticks),{transform:Ue}),X(le["radial-grid"],ye&&ke.showgrid,{transform:Ne?"":Pe}),X(le["radial-line"].select("line"),ye&&ke.showline,{x1:Ne?-ue:he,y1:0,x2:ue,y2:0,transform:Ue}).attr("stroke-width",ke.linewidth).call(c.stroke,ke.linecolor)},G.updateRadialAxisTitle=function($,Q,te){if(!this.isSmith){var re=this,le=re.gd,ue=re.radius,he=re.cx,ge=re.cy,xe=re.getRadial(Q),ke=re.id+"title",Ae=0;if(xe.title){var pe=i.bBox(re.layers["radial-axis"].node()).height,ye=xe.title.font.size,Ne=xe.side;Ae="top"===Ne?ye:"counterclockwise"===Ne?-(pe+.4*ye):pe+.8*ye}var be=void 0!==te?te:re.radialAxisAngle,Ee=Z(be),Oe=Math.cos(Ee),De=Math.sin(Ee),oe=he+ue/2*Oe+Ae*De,de=ge-ue/2*De+Ae*Oe;re.layers["radial-axis-title"]=T.draw(le,ke,{propContainer:xe,propName:re.id+".radialaxis.title",placeholder:W(le,"Click to enter radial axis title"),attributes:{x:oe,y:de,"text-anchor":"middle"},transform:{rotate:-be}})}},G.updateAngularAxis=function($,Q){var te=this,re=te.gd,le=te.layers,ue=te.radius,he=te.innerRadius,ge=te.cx,xe=te.cy,ke=te.getAngular(Q),Ae=te.angularAxis,pe=te.isSmith;pe||(te.fillViewInitialKey("angularaxis.rotation",ke.rotation),Ae.setGeometry(),Ae.setScale());var ye=pe?function(Be){var Ve=B(te,P([0,Be.x]));return Math.atan2(Ve[0]-ge,Ve[1]-xe)-Math.PI/2}:function(Be){return Ae.t2g(Be.x)};"linear"===Ae.type&&"radians"===Ae.thetaunit&&(Ae.tick0=V(Ae.tick0),Ae.dtick=V(Ae.dtick));var Ne=function(Be){return v(ge+ue*Math.cos(Be),xe-ue*Math.sin(Be))},be=pe?function(Be){var Ve=B(te,P([0,Be.x]));return v(Ve[0],Ve[1])}:function(Be){return Ne(ye(Be))},Ee=pe?function(Be){var Ve=B(te,P([0,Be.x])),ve=Math.atan2(Ve[0]-ge,Ve[1]-xe)-Math.PI/2;return v(Ve[0],Ve[1])+M(-V(ve))}:function(Be){var Ve=ye(Be);return Ne(Ve)+M(-V(Ve))},Oe=pe?function(Be){return L(te,Be.x,0,1/0)}:function(Be){var Ve=ye(Be),ve=Math.cos(Ve),Te=Math.sin(Ve);return"M"+[ge+he*ve,xe-he*Te]+"L"+[ge+ue*ve,xe-ue*Te]},De=a.makeLabelFns(Ae,0).labelStandoff,oe={xFn:function(Be){var Ve=ye(Be);return Math.cos(Ve)*De},yFn:function(Be){var Ve=ye(Be),ve=Math.sin(Ve)>0?.2:1;return-Math.sin(Ve)*(De+Be.fontSize*ve)+Math.abs(Math.cos(Ve))*(Be.fontSize*h)},anchorFn:function(Be){var Ve=ye(Be),ve=Math.cos(Ve);return Math.abs(ve)<.1?"middle":ve>0?"start":"end"},heightFn:function(Be,Ve,ve){var Te=ye(Be);return-.5*(1+Math.sin(Te))*ve}},de=H(ke);te.angularTickLayout!==de&&(le["angular-axis"].selectAll("."+Ae._id+"tick").remove(),te.angularTickLayout=de);var _e,Me=pe?[1/0].concat(Ae.tickvals||[]).map(function(Be){return a.tickText(Ae,Be,!0,!1)}):a.calcTicks(Ae);if(pe&&(Me[0].text="\u221e",Me[0].fontSize*=1.75),"linear"===Q.gridshape?(_e=Me.map(ye),S.angleDelta(_e[0],_e[1])<0&&(_e=_e.slice().reverse())):_e=null,te.vangles=_e,"category"===Ae.type&&(Me=Me.filter(function(Be){return S.isAngleInsideSector(ye(Be),te.sectorInRad)})),Ae.visible){var Pe="inside"===Ae.ticks?-1:1;a.drawTicks(re,Ae,{vals:Me,layer:le["angular-axis"],path:"M"+Pe*((Ae.linewidth||1)/2)+",0h"+Pe*Ae.ticklen,transFn:Ee,crisp:!1}),a.drawGrid(re,Ae,{vals:Me,layer:le["angular-grid"],path:Oe,transFn:S.noop,crisp:!1}),a.drawLabels(re,Ae,{vals:Me,layer:le["angular-axis"],repositionOnUpdate:!0,transFn:be,labelFns:oe})}X(le["angular-line"].select("path"),ke.showline,{d:te.pathSubplot(),transform:v(ge,xe)}).attr("stroke-width",ke.linewidth).call(c.stroke,ke.linecolor)},G.updateFx=function($,Q){this.gd._context.staticPlot||(!this.isSmith&&(this.updateAngularDrag($),this.updateRadialDrag($,Q,0),this.updateRadialDrag($,Q,1)),this.updateHoverAndMainDrag($))},G.updateHoverAndMainDrag=function($){var Q,te,re=this,le=re.isSmith,ue=re.gd,ge=$._zoomlayer,xe=O.MINZOOM,ke=O.OFFEDGE,Ae=re.radius,pe=re.innerRadius,ye=re.cx,Ne=re.cy,be=re.cxx,Ee=re.cyy,Oe=re.sectorInRad,De=re.vangles,oe=re.radialAxis,de=A.clampTiny,_e=A.findXYatLength,Me=A.findEnclosingVertexAngles,Pe=O.cornerHalfWidth,Ue=O.cornerLen/2,Be=d.makeDragger(re.layers,"path","maindrag",!1===$.dragmode?"none":"crosshair");C.select(Be).attr("d",re.pathSubplot()).attr("transform",v(ye,Ne)),Be.onmousemove=function(Le){p.hover(ue,Le,re.id),ue._fullLayout._lasthover=Be,ue._fullLayout._hoversubplot=re.id},Be.onmouseout=function(Le){ue._dragging||g.unhover(ue,Le)};var Ve,ve,Te,Ce,We,Ke,Je,ht,ft,mt={element:Be,gd:ue,subplot:re.id,plotinfo:{id:re.id,xaxis:re.xaxis,yaxis:re.yaxis},xaxes:[re.xaxis],yaxes:[re.yaxis]};function At(Le,Ge){return Math.sqrt(Le*Le+Ge*Ge)}function Rt(Le,Ge){return At(Le-be,Ge-Ee)}function It(Le,Ge){return Math.atan2(Ee-Ge,Le-be)}function Pt(Le,Ge){return[Le*Math.cos(Ge),Le*Math.sin(-Ge)]}function Bt(Le,Ge){if(0===Le)return re.pathSector(2*Pe);var st=Ue/Le,vt=Ge-st,bt=Ge+st,Lt=Math.max(0,Math.min(Le,Ae)),jt=Lt-Pe,Nt=Lt+Pe;return"M"+Pt(jt,vt)+"A"+[jt,jt]+" 0,0,0 "+Pt(jt,bt)+"L"+Pt(Nt,bt)+"A"+[Nt,Nt]+" 0,0,1 "+Pt(Nt,vt)+"Z"}function Ut(Le,Ge,st){if(0===Le)return re.pathSector(2*Pe);var vt,bt,Lt=Pt(Le,Ge),jt=Pt(Le,st),Nt=de((Lt[0]+jt[0])/2),Tt=de((Lt[1]+jt[1])/2);if(Nt&&Tt){var Mt=Tt/Nt,kt=-1/Mt,Ht=_e(Pe,Mt,Nt,Tt);vt=_e(Ue,kt,Ht[0][0],Ht[0][1]),bt=_e(Ue,kt,Ht[1][0],Ht[1][1])}else{var qt,Qt;Tt?(qt=Ue,Qt=Pe):(qt=Pe,Qt=Ue),vt=[[Nt-qt,Tt-Qt],[Nt+qt,Tt-Qt]],bt=[[Nt-qt,Tt+Qt],[Nt+qt,Tt+Qt]]}return"M"+vt.join("L")+"L"+bt.reverse().join("L")+"Z"}function Vt(Le,Ge){return Ge=Math.max(Math.min(Ge,Ae),pe),Le<ke?Le=0:Ae-Le<ke?Le=Ae:Ge<ke?Ge=0:Ae-Ge<ke&&(Ge=Ae),Math.abs(Ge-Le)>xe?(Le<Ge?(Te=Le,Ce=Ge):(Te=Ge,Ce=Le),!0):(Te=null,Ce=null,!1)}function tn(Le,Ge){Ge=Ge||"M0,0Z",ht.attr("d",Le=Le||We),ft.attr("d",Ge),d.transitionZoombox(ht,ft,Ke,Je),Ke=!0;var st={};ot(st),ue.emit("plotly_relayouting",st)}function Gt(Le,Ge){var st,vt,bt=Ve+(Le*=Q),Lt=ve+(Ge*=te),jt=Rt(Ve,ve),Nt=Math.min(Rt(bt,Lt),Ae),Tt=It(Ve,ve);Vt(jt,Nt)&&(st=We+re.pathSector(Ce),Te&&(st+=re.pathSector(Te)),vt=Bt(Te,Tt)+Bt(Ce,Tt)),tn(st,vt)}function et(Le,Ge,st,vt){var bt=A.findIntersectionXY(st,vt,st,[Le-be,Ee-Ge]);return At(bt[0],bt[1])}function nt(Le,Ge){var st,vt,bt=Ve+Le,Lt=ve+Ge,jt=It(Ve,ve),Nt=It(bt,Lt),Tt=Me(jt,De),Mt=Me(Nt,De);Vt(et(Ve,ve,Tt[0],Tt[1]),Math.min(et(bt,Lt,Mt[0],Mt[1]),Ae))&&(st=We+re.pathSector(Ce),Te&&(st+=re.pathSector(Te)),vt=[Ut(Te,Tt[0],Tt[1]),Ut(Ce,Tt[0],Tt[1])].join(" ")),tn(st,vt)}function $e(){if(d.removeZoombox(ue),null!==Te&&null!==Ce){var Le={};ot(Le),d.showDoubleClickNotifier(ue),f.call("_guiRelayout",ue,Le)}}function ot(Le){var Ge=oe._rl,st=(Ge[1]-Ge[0])/(1-pe/Ae)/Ae;Le[re.id+".radialaxis.range"]=[Ge[0]+(Te-pe)*st,Ge[0]+(Ce-pe)*st]}function dt(Le,Ge){var st=ue._fullLayout.clickmode;if(d.removeZoombox(ue),2===Le){var vt={};for(var bt in re.viewInitial)vt[re.id+"."+bt]=re.viewInitial[bt];ue.emit("plotly_doubleclick",null),f.call("_guiRelayout",ue,vt)}st.indexOf("select")>-1&&1===Le&&y(Ge,ue,[re.xaxis],[re.yaxis],re.id,mt),st.indexOf("event")>-1&&p.click(ue,Ge,re.id)}mt.prepFn=function(Le,Ge,st){var vt=ue._fullLayout.dragmode,bt=Be.getBoundingClientRect();ue._fullLayout._calcInverseTransform(ue),Q=ue._fullLayout._invScaleX,te=ue._fullLayout._invScaleY;var jt=S.apply3DTransform(ue._fullLayout._invTransform)(Ge-bt.left,st-bt.top);if(Ve=jt[0],ve=jt[1],De){var Nt=A.findPolygonOffset(Ae,Oe[0],Oe[1],De);Ve+=be+Nt[0],ve+=Ee+Nt[1]}switch(vt){case"zoom":mt.clickFn=dt,le||(mt.moveFn=De?nt:Gt,mt.doneFn=$e,Te=null,Ce=null,We=re.pathSubplot(),Ke=!1,Je=E(ue._fullLayout[re.id].bgcolor).getLuminance(),(ht=d.makeZoombox(ge,Je,ye,Ne,We)).attr("fill-rule","evenodd"),ft=d.makeCorners(ge,ye,Ne),w(ue));break;case"select":case"lasso":_(Le,Ge,st,mt,vt)}},g.init(mt)},G.updateRadialDrag=function($,Q,te){var re=this,le=re.gd,ue=re.layers,he=re.radius,ge=re.innerRadius,xe=re.cx,ke=re.cy,Ae=re.radialAxis,pe=O.radialDragBoxSize,ye=pe/2;if(Ae.visible){var Ne,be,Ee,Oe=Z(re.radialAxisAngle),De=Ae._rl,oe=De[0],de=De[1],_e=De[te],Me=.75*(De[1]-De[0])/(1-re.getHole(Q))/he;te?(Ne=xe+(he+ye)*Math.cos(Oe),be=ke-(he+ye)*Math.sin(Oe),Ee="radialdrag"):(Ne=xe+(ge-ye)*Math.cos(Oe),be=ke-(ge-ye)*Math.sin(Oe),Ee="radialdrag-inner");var Pe,Ue,Be,Ve=d.makeRectDragger(ue,Ee,"crosshair",-ye,-ye,pe,pe),ve={element:Ve,gd:le};!1===$.dragmode&&(ve.dragmode=!1),X(C.select(Ve),Ae.visible&&ge<he,{transform:v(Ne,be)}),ve.prepFn=function(){Pe=null,Ue=null,Be=null,ve.moveFn=Te,ve.doneFn=Ce,w(le)},ve.clampFn=function(Je,ht){return Math.sqrt(Je*Je+ht*ht)<O.MINDRAG&&(Je=0,ht=0),[Je,ht]},g.init(ve)}function Te(Je,ht){if(Pe)Pe(Je,ht);else{var ft=[Je,-ht],mt=[Math.cos(Oe),Math.sin(Oe)],At=Math.abs(S.dot(ft,mt)/Math.sqrt(S.dot(ft,ft)));isNaN(At)||(Pe=At<.5?We:Ke)}var It,Rt={};It=Rt,null!==Ue?It[re.id+".radialaxis.angle"]=Ue:null!==Be&&(It[re.id+".radialaxis.range["+te+"]"]=Be),le.emit("plotly_relayouting",Rt)}function Ce(){null!==Ue?f.call("_guiRelayout",le,re.id+".radialaxis.angle",Ue):null!==Be&&f.call("_guiRelayout",le,re.id+".radialaxis.range["+te+"]",Be)}function We(Je,ht){if(0!==te){Ue=Math.atan2(ke-(be+ht),Ne+Je-xe),re.vangles&&(Ue=ne(Ue,re.vangles)),Ue=V(Ue);var At=v(xe,ke)+M(-Ue);ue["radial-axis"].attr("transform",At),ue["radial-line"].select("line").attr("transform",At);var Rt=re.gd._fullLayout;re.updateRadialAxisTitle(Rt,Rt[re.id],Ue)}}function Ke(Je,ht){var ft=S.dot([Je,-ht],[Math.cos(Oe),Math.sin(Oe)]);if(Be=_e-Me*ft,Me>0==(te?Be>oe:Be<de)){var mt=le._fullLayout,At=mt[re.id];Ae.range[te]=Be,Ae._rl[te]=Be,re.updateRadialAxis(mt,At),re.xaxis.setRange(),re.xaxis.setScale(),re.yaxis.setRange(),re.yaxis.setScale();var Rt=!1;for(var It in re.traceHash){var Pt=re.traceHash[It],Bt=S.filterVisible(Pt);Pt[0][0].trace._module.plot(le,re,Bt,At),f.traceIs(It,"gl")&&Bt.length&&(Rt=!0)}Rt&&(b(le),k(le))}else Be=null}},G.updateAngularDrag=function($){var Q=this,te=Q.gd,re=Q.layers,le=Q.radius,ue=Q.angularAxis,he=Q.cx,ge=Q.cy,xe=Q.cxx,ke=Q.cyy,Ae=O.angularDragBoxSize,pe=d.makeDragger(re,"path","angulardrag",!1===$.dragmode?"none":"move"),ye={element:pe,gd:te};function Ne(ve,Te){return Math.atan2(ke+Ae-Te,ve-xe-Ae)}!1===$.dragmode?ye.dragmode=!1:C.select(pe).attr("d",Q.pathAnnulus(le,le+Ae)).attr("transform",v(he,ge)).call(m,"move");var be,Ee,Oe,De,oe,de,_e=re.frontplot.select(".scatterlayer").selectAll(".trace"),Me=_e.selectAll(".point"),Pe=_e.selectAll(".textpoint");function Ue(ve,Te){var Ce=Q.gd._fullLayout,We=Ce[Q.id],Ke=Ne(be+ve*$._invScaleX,Ee+Te*$._invScaleY),Je=V(Ke-de);if(De=Oe+Je,re.frontplot.attr("transform",v(Q.xOffset2,Q.yOffset2)+M([-Je,xe,ke])),Q.vangles){oe=Q.radialAxisAngle+Je;var ht=v(he,ge)+M(-Je),ft=v(he,ge)+M(-oe);re.bg.attr("transform",ht),re["radial-grid"].attr("transform",ht),re["radial-axis"].attr("transform",ft),re["radial-line"].select("line").attr("transform",ft),Q.updateRadialAxisTitle(Ce,We,oe)}else Q.clipPaths.forTraces.select("path").attr("transform",v(xe,ke)+M(Je));Me.each(function(){var Bt=C.select(this),Ut=i.getTranslate(Bt);Bt.attr("transform",v(Ut.x,Ut.y)+M([Je]))}),Pe.each(function(){var Bt=C.select(this),Ut=Bt.select("text"),Vt=i.getTranslate(Bt);Bt.attr("transform",M([Je,Ut.attr("x"),Ut.attr("y")])+v(Vt.x,Vt.y))}),ue.rotation=S.modHalf(De,360),Q.updateAngularAxis(Ce,We),Q._hasClipOnAxisFalse&&!S.isFullCircle(Q.sectorInRad)&&_e.call(i.hideOutsideRangePoints,Q);var mt=!1;for(var At in Q.traceHash)if(f.traceIs(At,"gl")){var Rt=Q.traceHash[At],It=S.filterVisible(Rt);Rt[0][0].trace._module.plot(te,Q,It,We),It.length&&(mt=!0)}mt&&(b(te),k(te));var Pt={};Be(Pt),te.emit("plotly_relayouting",Pt)}function Be(ve){ve[Q.id+".angularaxis.rotation"]=De,Q.vangles&&(ve[Q.id+".radialaxis.angle"]=oe)}function Ve(){Pe.select("text").attr("transform",null);var ve={};Be(ve),f.call("_guiRelayout",te,ve)}ye.prepFn=function(ve,Te,Ce){Oe=$[Q.id].angularaxis.rotation;var Ke=pe.getBoundingClientRect();be=Te-Ke.left,Ee=Ce-Ke.top,te._fullLayout._calcInverseTransform(te);var Je=S.apply3DTransform($._invTransform)(be,Ee);de=Ne(be=Je[0],Ee=Je[1]),ye.moveFn=Ue,ye.doneFn=Ve,w(te)},Q.vangles&&!S.isFullCircle(Q.sectorInRad)&&(ye.prepFn=S.noop,m(C.select(pe),null)),g.init(ye)},G.isPtInside=function($){if(this.isSmith)return!0;var Q=this.sectorInRad,te=this.vangles,re=this.angularAxis.c2g($.theta),le=this.radialAxis,ue=le.c2l($.r);return(te?A.isPtInsidePolygon:S.isPtInsideSector)(ue,re,le._rl,Q,te)},G.pathArc=function($){var Q=this.sectorInRad,te=this.vangles;return(te?A.pathPolygon:S.pathArc)($,Q[0],Q[1],te)},G.pathSector=function($){var Q=this.sectorInRad,te=this.vangles;return(te?A.pathPolygon:S.pathSector)($,Q[0],Q[1],te)},G.pathAnnulus=function($,Q){var te=this.sectorInRad,re=this.vangles;return(re?A.pathPolygonAnnulus:S.pathAnnulus)($,Q,te[0],te[1],re)},G.pathSubplot=function(){var $=this.innerRadius,Q=this.radius;return $?this.pathAnnulus($,Q):this.pathSector(Q)},G.fillViewInitialKey=function($,Q){$ in this.viewInitial||(this.viewInitial[$]=Q)}},12101:function(ie,z,r){"use strict";var C=r(71828),E=r(21994),f=C.deg2rad,S=C.rad2deg;ie.exports=function(M,v,c){switch(E(M,c),M._id){case"x":case"radialaxis":a=v._subplot,(i=M).setGeometry=function(){var o=i._rl[0],l=i._rl[1],s=a.innerRadius,d=(a.radius-s)/(l-o),g=s/d,p=o>l?function(T){return T<=0}:function(T){return T>=0};i.c2g=function(T){var _=i.c2l(T)-o;return(p(_)?_:0)+g},i.g2c=function(T){return i.l2c(T+o-g)},i.g2p=function(T){return T*d},i.c2p=function(T){return i.g2p(i.c2g(T))}};break;case"angularaxis":!function(i,u){var a=i.type;if("linear"===a){var o=i.d2c,l=i.c2d;i.d2c=function(s,d){return g=o(s),"degrees"===d?f(g):g;var g},i.c2d=function(s,d){return l((g=s,"degrees"===d?S(g):g));var g}}i.makeCalcdata=function(s,d){var g,p,T=s[d],_=s._length,y=function(h){return i.d2c(h,s.thetaunit)};if(T){if(C.isTypedArray(T)&&"linear"===a){if(_===T.length)return T;if(T.subarray)return T.subarray(0,_)}for(g=new Array(_),p=0;p<_;p++)g[p]=y(T[p])}else{var w=d+"0",m="d"+d,b=w in s?y(s[w]):0,k=s[m]?y(s[m]):(i.period||2*Math.PI)/_;for(g=new Array(_),p=0;p<_;p++)g[p]=b+p*k}return g},i.setGeometry=function(){var s,d,g,p,T=u.sector,_=T.map(f),y={clockwise:-1,counterclockwise:1}[i.direction],w=f(i.rotation),m=function(O){return y*O+w},b=function(O){return(O-w)/y};switch(a){case"linear":d=s=C.identity,p=f,g=S,i.range=C.isFullCircle(_)?[T[0],T[0]+360]:_.map(b).map(S);break;case"category":var k=i._categories.length,h=i.period?Math.max(i.period,k):k;0===h&&(h=1),d=p=function(O){return 2*O*Math.PI/h},s=g=function(O){return O*h/Math.PI/2},i.range=[0,h]}i.c2g=function(O){return m(d(O))},i.g2c=function(O){return s(b(O))},i.t2g=function(O){return m(p(O))},i.g2t=function(O){return g(b(O))}}}(M,v)}var i,a}},39779:function(ie){"use strict";ie.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},23893:function(ie){"use strict";function z(f){return f<0?-1:f>0?1:0}function r(f){var S=f[0],M=f[1];if(!isFinite(S)||!isFinite(M))return[1,0];var v=(S+1)*(S+1)+M*M;return[(S*S+M*M-1)/v,2*M/v]}function C(f,S){return[S[0]*f.radius+f.cx,-S[1]*f.radius+f.cy]}function E(f,S){return S*f.radius}ie.exports={smith:r,reactanceArc:function(f,S,M,v){var c=C(f,r([M,S])),i=c[0],u=c[1],a=C(f,r([v,S])),o=a[0],l=a[1];if(0===S)return["M"+i+","+u,"L"+o+","+l].join(" ");var s=E(f,1/Math.abs(S));return["M"+i+","+u,"A"+s+","+s+" 0 0,"+(S<0?1:0)+" "+o+","+l].join(" ")},resistanceArc:function(f,S,M,v){var c=E(f,1/(S+1)),i=C(f,r([S,M])),u=i[0],a=i[1],o=C(f,r([S,v])),l=o[0],s=o[1];if(z(M)!==z(v)){var d=C(f,r([S,0]));return["M"+u+","+a,"A"+c+","+c+" 0 0,"+(0<M?0:1)+" "+d[0]+","+d[1],"A"+c+","+c+" 0 0,"+(v<0?0:1)+l+","+s].join(" ")}return["M"+u+","+a,"A"+c+","+c+" 0 0,"+(v<M?0:1)+" "+l+","+s].join(" ")},smithTransform:C}},7504:function(ie,z,r){"use strict";var C=r(27659).AU,E=r(71828).counterRegex,f=r(77997),S=r(39779),M=S.attr,v=S.name,c=E(v),i={};i[M]={valType:"subplotid",dflt:v,editType:"calc"},ie.exports={attr:M,name:v,idRoot:v,idRegex:c,attrRegex:c,attributes:i,layoutAttributes:r(33419),supplyLayoutDefaults:r(9558),plot:function(u){for(var a=u._fullLayout,o=u.calcdata,l=a._subplots[v],s=0;s<l.length;s++){var d=l[s],g=C(o,v,d),p=a[d]._subplot;p||(p=f(u,d,!0),a[d]._subplot=p),p.plot(g,a,u._promises)}},clean:function(u,a,o,l){for(var s=l._subplots[v]||[],d=0;d<s.length;d++){var g=s[d],p=l[g]._subplot;if(!a[g]&&p)for(var T in p.framework.remove(),p.clipPaths)p.clipPaths[T].remove()}},toSVG:r(93612).toSVG}},33419:function(ie,z,r){"use strict";var C=r(22399),E=r(13838),f=r(27670).Y,S=r(71828).extendFlat,M=r(30962).overrideAll,v=M({color:E.color,showline:S({},E.showline,{dflt:!0}),linecolor:E.linecolor,linewidth:E.linewidth,showgrid:S({},E.showgrid,{dflt:!0}),gridcolor:E.gridcolor,gridwidth:E.gridwidth,griddash:E.griddash},"plot","from-root"),c=M({ticklen:E.ticklen,tickwidth:S({},E.tickwidth,{dflt:2}),tickcolor:E.tickcolor,showticklabels:E.showticklabels,showtickprefix:E.showtickprefix,tickprefix:E.tickprefix,showticksuffix:E.showticksuffix,ticksuffix:E.ticksuffix,tickfont:E.tickfont,tickformat:E.tickformat,hoverformat:E.hoverformat,layer:E.layer},"plot","from-root"),i=S({visible:S({},E.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:S({},E.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},v,c),u=S({visible:S({},E.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:E.ticks,editType:"calc"},v,c);ie.exports={domain:f({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:C.background},realaxis:i,imaginaryaxis:u,editType:"calc"}},9558:function(ie,z,r){"use strict";var C,E,f,S=r(71828),M=r(7901),v=r(44467),c=r(49119),i=r(27659).NG,u=r(89426),a=r(96115),o=r(92128),l=r(21994),s=r(33419),d=r(39779),g=d.axisNames,p=(C=function(_){return _.slice().reverse().map(function(y){return-y}).concat([0]).concat(_)},E=String,f={},function(_){var y=E?E(_):_;if(y in f)return f[y];var w=C(_);return f[y]=w,w});function T(_,y,w,m){var b=w("bgcolor");m.bgColor=M.combine(b,m.paper_bgcolor);var k,h=i(m.fullData,d.name,m.id),O=m.layoutOut;function A(G,H){return w(k+"."+G,H)}for(var I=0;I<g.length;I++){S.isPlainObject(_[k=g[I]])||(_[k]={});var P=_[k],L=v.newContainer(y,k);L._id=L._name=k,L._attr=m.id+"."+k,L._traceIndices=h.map(function(G){return G._expandedIndex});var N=A("visible");if(L.type="linear",l(L,O),u(P,L,A,L.type),N){var B,W,j,Z,V="realaxis"===k;V&&A("side"),V?A("tickvals"):A("tickvals",p(y.realaxis.tickvals||s.realaxis.tickvals.dflt));var q=m.font||{};N&&(W=(B=A("color"))===P.color?B:q.color,j=q.size,Z=q.family),a(P,L,A,L.type,{noTicklabelstep:!0,noAng:!V,noExp:!0,font:{color:W,size:j,family:Z}}),S.coerce2(_,y,s,k+".ticklen"),S.coerce2(_,y,s,k+".tickwidth"),S.coerce2(_,y,s,k+".tickcolor",y.color),A("ticks")||(delete y[k].ticklen,delete y[k].tickwidth,delete y[k].tickcolor),o(P,L,A,{dfltColor:B,bgColor:m.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:s[k]}),A("layer")}A("hoverformat"),delete L.type,L._input=P}}ie.exports=function(_,y,w){c(_,y,w,{noUirevision:!0,type:d.name,attributes:s,handleDefaults:T,font:y.font,paper_bgcolor:y.paper_bgcolor,fullData:w,layoutOut:y})}},49119:function(ie,z,r){"use strict";var C=r(71828),E=r(44467),f=r(27670).c;ie.exports=function(S,M,v,c){var i,u,o=c.attributes,l=c.handleDefaults,s=c.partition||"x",d=M._subplots[c.type],g=d.length,p=g&&d[0].replace(/\d+$/,"");function T(m,b){return C.coerce(i,u,o,m,b)}for(var _=0;_<g;_++){var y=d[_];i=S[y]?S[y]:S[y]={},u=E.newContainer(M,y,p),c.noUirevision||T("uirevision",M.uirevision);var w={};w[s]=[_/g,(_+1)/g],f(u,M,T,w),c.id=y,l(i,u,T,c)}}},5386:function(ie,z,r){"use strict";function E(f){var S=f.description?" "+f.description:"",M=f.keys||[];if(M.length>0){for(var v=[],c=0;c<M.length;c++)v[c]="`"+M[c]+"`";S+="Finally, the template string has access to ",S=1===M.length?"variable "+v[0]:"variables "+v.slice(0,-1).join(", ")+" and "+v.slice(-1)+"."}return S}r(31562),z.f=function(f,S){f=f||{},E(S=S||{});var M={valType:"string",dflt:"",editType:f.editType||"none"};return!1!==f.arrayOk&&(M.arrayOk=!0),M},z.s=function(f,S){f=f||{},E(S=S||{});var M={valType:"string",dflt:"",editType:f.editType||"calc"};return!1!==f.arrayOk&&(M.arrayOk=!0),M}},61639:function(ie,z,r){"use strict";var C=r(64380),E=r(27659).AU,f=r(71828).counterRegex,S="ternary";z.name=S;var M=z.attr="subplot";z.idRoot=S,z.idRegex=z.attrRegex=f(S),(z.attributes={})[M]={valType:"subplotid",dflt:"ternary",editType:"calc"},z.layoutAttributes=r(81367),z.supplyLayoutDefaults=r(25369),z.plot=function(v){for(var c=v._fullLayout,i=v.calcdata,u=c._subplots.ternary,a=0;a<u.length;a++){var o=u[a],l=E(i,S,o),s=c[o]._subplot;s||(s=new C({id:o,graphDiv:v,container:c._ternarylayer.node()},c),c[o]._subplot=s),s.plot(l,c,v._promises)}},z.clean=function(v,c,i,u){for(var a=u._subplots.ternary||[],o=0;o<a.length;o++){var l=a[o],s=u[l]._subplot;!c[l]&&s&&(s.plotContainer.remove(),s.clipDef.remove(),s.clipDefRelative.remove(),s.layers["a-title"].remove(),s.layers["b-title"].remove(),s.layers["c-title"].remove())}}},81367:function(ie,z,r){"use strict";var C=r(22399),E=r(27670).Y,f=r(13838),S=r(30962).overrideAll,M=r(1426).extendFlat,v={title:{text:f.title.text,font:f.title.font},color:f.color,tickmode:f.minor.tickmode,nticks:M({},f.nticks,{dflt:6,min:1}),tick0:f.tick0,dtick:f.dtick,tickvals:f.tickvals,ticktext:f.ticktext,ticks:f.ticks,ticklen:f.ticklen,tickwidth:f.tickwidth,tickcolor:f.tickcolor,ticklabelstep:f.ticklabelstep,showticklabels:f.showticklabels,showtickprefix:f.showtickprefix,tickprefix:f.tickprefix,showticksuffix:f.showticksuffix,ticksuffix:f.ticksuffix,showexponent:f.showexponent,exponentformat:f.exponentformat,minexponent:f.minexponent,separatethousands:f.separatethousands,tickfont:f.tickfont,tickangle:f.tickangle,tickformat:f.tickformat,tickformatstops:f.tickformatstops,hoverformat:f.hoverformat,showline:M({},f.showline,{dflt:!0}),linecolor:f.linecolor,linewidth:f.linewidth,showgrid:M({},f.showgrid,{dflt:!0}),gridcolor:f.gridcolor,gridwidth:f.gridwidth,griddash:f.griddash,layer:f.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:f._deprecated.title,titlefont:f._deprecated.titlefont}},c=ie.exports=S({domain:E({name:"ternary"}),bgcolor:{valType:"color",dflt:C.background},sum:{valType:"number",dflt:1,min:0},aaxis:v,baxis:v,caxis:v},"plot","from-root");c.uirevision={valType:"any",editType:"none"},c.aaxis.uirevision=c.baxis.uirevision=c.caxis.uirevision={valType:"any",editType:"none"}},25369:function(ie,z,r){"use strict";var C=r(7901),E=r(44467),f=r(71828),S=r(49119),M=r(96115),v=r(89426),c=r(38701),i=r(26218),u=r(92128),a=r(81367),o=["aaxis","baxis","caxis"];function l(d,g,p,T){var _,y,w,m=p("bgcolor"),b=p("sum");T.bgColor=C.combine(m,T.paper_bgcolor);for(var k=0;k<o.length;k++)y=d[_=o[k]]||{},(w=E.newContainer(g,_))._name=_,s(y,w,T,g);var h=g.aaxis,O=g.baxis,A=g.caxis;h.min+O.min+A.min>=b&&(h.min=0,O.min=0,A.min=0,d.aaxis&&delete d.aaxis.min,d.baxis&&delete d.baxis.min,d.caxis&&delete d.caxis.min)}function s(d,g,p,T){var _=a[g._name];function y(O,A){return f.coerce(d,g,_,O,A)}y("uirevision",T.uirevision),g.type="linear";var w=y("color"),m=w!==_.color.dflt?w:p.font.color,b=g._name.charAt(0).toUpperCase(),k="Component "+b,h=y("title.text",k);g._hovertitle=h===k?h:b,f.coerceFont(y,"title.font",{family:p.font.family,size:f.bigFont(p.font.size),color:m}),y("min"),i(d,g,y,"linear"),v(d,g,y,"linear"),M(d,g,y,"linear"),c(d,g,y,{outerTicks:!0}),y("showticklabels")&&(f.coerceFont(y,"tickfont",{family:p.font.family,size:p.font.size,color:m}),y("tickangle"),y("tickformat")),u(d,g,y,{dfltColor:w,bgColor:p.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:_}),y("hoverformat"),y("layer")}ie.exports=function(d,g,p){S(d,g,p,{type:"ternary",attributes:a,handleDefaults:l,font:g.font,paper_bgcolor:g.paper_bgcolor})}},64380:function(ie,z,r){"use strict";var C=r(39898),E=r(84267),f=r(73972),S=r(71828),M=S.strTranslate,v=S._,c=r(7901),i=r(91424),u=r(21994),a=r(1426).extendFlat,o=r(74875),l=r(89298),s=r(28569),d=r(30211),g=r(64505),p=g.freeMode,T=g.rectMode,_=r(92998),y=r(47322).prepSelect,w=r(47322).selectOnClick,m=r(47322).clearOutline,b=r(47322).clearSelectionsCache,k=r(85555);function h(j,Z){this.id=j.id,this.graphDiv=j.graphDiv,this.init(Z),this.makeFramework(Z),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}ie.exports=h;var O=h.prototype;O.init=function(j){this.container=j._ternarylayer,this.defs=j._defs,this.layoutId=j._uid,this.traceHash={},this.layers={}},O.plot=function(j,Z){var V=this,q=Z[V.id],G=Z._size;V._hasClipOnAxisFalse=!1;for(var H=0;H<j.length;H++)if(!1===j[H][0].trace.cliponaxis){V._hasClipOnAxisFalse=!0;break}V.updateLayers(q),V.adjustLayout(q,G),o.generalUpdatePerTraceModule(V.graphDiv,V,j,q),V.layers.plotbg.select("path").call(c.fill,q.bgcolor)},O.makeFramework=function(j){var Z=this,V=Z.graphDiv,q=j[Z.id],G=Z.clipId="clip"+Z.layoutId+Z.id,H=Z.clipIdRelative="clip-relative"+Z.layoutId+Z.id;Z.clipDef=S.ensureSingleById(j._clips,"clipPath",G,function(ne){ne.append("path").attr("d","M0,0Z")}),Z.clipDefRelative=S.ensureSingleById(j._clips,"clipPath",H,function(ne){ne.append("path").attr("d","M0,0Z")}),Z.plotContainer=S.ensureSingle(Z.container,"g",Z.id),Z.updateLayers(q),i.setClipUrl(Z.layers.backplot,G,V),i.setClipUrl(Z.layers.grids,G,V)},O.updateLayers=function(j){var Z=this.layers,V=["draglayer","plotbg","backplot","grids"];"below traces"===j.aaxis.layer&&V.push("aaxis","aline"),"below traces"===j.baxis.layer&&V.push("baxis","bline"),"below traces"===j.caxis.layer&&V.push("caxis","cline"),V.push("frontplot"),"above traces"===j.aaxis.layer&&V.push("aaxis","aline"),"above traces"===j.baxis.layer&&V.push("baxis","bline"),"above traces"===j.caxis.layer&&V.push("caxis","cline");var q=this.plotContainer.selectAll("g.toplevel").data(V,String),G=["agrid","bgrid","cgrid"];q.enter().append("g").attr("class",function(H){return"toplevel "+H}).each(function(H){var ne=C.select(this);Z[H]=ne,"frontplot"===H?ne.append("g").classed("scatterlayer",!0):"backplot"===H?ne.append("g").classed("maplayer",!0):"plotbg"===H?ne.append("path").attr("d","M0,0Z"):"aline"===H||"bline"===H||"cline"===H?ne.append("path"):"grids"===H&&G.forEach(function(X){Z[X]=ne.append("g").classed("grid "+X,!0)})}),q.order()};var A=Math.sqrt(4/3);O.adjustLayout=function(j,Z){var V,q,G,H,ne,X,$=this,Q=j.domain,te=(Q.x[0]+Q.x[1])/2,re=(Q.y[0]+Q.y[1])/2,le=Q.x[1]-Q.x[0],ue=Q.y[1]-Q.y[0],he=le*Z.w,ge=ue*Z.h,xe=j.sum,ke=j.aaxis.min,Ae=j.baxis.min,pe=j.caxis.min;he>A*ge?G=(H=ge)*A:H=(G=he)/A,ne=le*G/he,X=ue*H/ge,q=Z.t+Z.h*(1-re)-H/2,$.x0=V=Z.l+Z.w*te-G/2,$.y0=q,$.w=G,$.h=H,$.sum=xe,$.xaxis={type:"linear",range:[ke+2*pe-xe,xe-ke-2*Ae],domain:[te-ne/2,te+ne/2],_id:"x"},u($.xaxis,$.graphDiv._fullLayout),$.xaxis.setScale(),$.xaxis.isPtWithinRange=function(Pe){return Pe.a>=$.aaxis.range[0]&&Pe.a<=$.aaxis.range[1]&&Pe.b>=$.baxis.range[1]&&Pe.b<=$.baxis.range[0]&&Pe.c>=$.caxis.range[1]&&Pe.c<=$.caxis.range[0]},$.yaxis={type:"linear",range:[ke,xe-Ae-pe],domain:[re-X/2,re+X/2],_id:"y"},u($.yaxis,$.graphDiv._fullLayout),$.yaxis.setScale(),$.yaxis.isPtWithinRange=function(){return!0};var ye=$.yaxis.domain[0],Ne=$.aaxis=a({},j.aaxis,{range:[ke,xe-Ae-pe],side:"left",tickangle:(+j.aaxis.tickangle||0)-30,domain:[ye,ye+X*A],anchor:"free",position:0,_id:"y",_length:G});u(Ne,$.graphDiv._fullLayout),Ne.setScale();var be=$.baxis=a({},j.baxis,{range:[xe-ke-pe,Ae],side:"bottom",domain:$.xaxis.domain,anchor:"free",position:0,_id:"x",_length:G});u(be,$.graphDiv._fullLayout),be.setScale();var Ee=$.caxis=a({},j.caxis,{range:[xe-ke-Ae,pe],side:"right",tickangle:(+j.caxis.tickangle||0)+30,domain:[ye,ye+X*A],anchor:"free",position:0,_id:"y",_length:G});u(Ee,$.graphDiv._fullLayout),Ee.setScale();var Oe="M"+V+","+(q+H)+"h"+G+"l-"+G/2+",-"+H+"Z";$.clipDef.select("path").attr("d",Oe),$.layers.plotbg.select("path").attr("d",Oe);var De="M0,"+H+"h"+G+"l-"+G/2+",-"+H+"Z";$.clipDefRelative.select("path").attr("d",De);var oe=M(V,q);$.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",oe),$.clipDefRelative.select("path").attr("transform",null);var de=M(V-be._offset,q+H);$.layers.baxis.attr("transform",de),$.layers.bgrid.attr("transform",de);var _e=M(V+G/2,q)+"rotate(30)"+M(0,-Ne._offset);$.layers.aaxis.attr("transform",_e),$.layers.agrid.attr("transform",_e);var Me=M(V+G/2,q)+"rotate(-30)"+M(0,-Ee._offset);$.layers.caxis.attr("transform",Me),$.layers.cgrid.attr("transform",Me),$.drawAxes(!0),$.layers.aline.select("path").attr("d",Ne.showline?"M"+V+","+(q+H)+"l"+G/2+",-"+H:"M0,0").call(c.stroke,Ne.linecolor||"#000").style("stroke-width",(Ne.linewidth||0)+"px"),$.layers.bline.select("path").attr("d",be.showline?"M"+V+","+(q+H)+"h"+G:"M0,0").call(c.stroke,be.linecolor||"#000").style("stroke-width",(be.linewidth||0)+"px"),$.layers.cline.select("path").attr("d",Ee.showline?"M"+(V+G/2)+","+q+"l"+G/2+","+H:"M0,0").call(c.stroke,Ee.linecolor||"#000").style("stroke-width",(Ee.linewidth||0)+"px"),$.graphDiv._context.staticPlot||$.initInteractions(),i.setClipUrl($.layers.frontplot,$._hasClipOnAxisFalse?null:$.clipId,$.graphDiv)},O.drawAxes=function(j){var Z=this,V=Z.graphDiv,q=Z.id.substr(7)+"title",G=Z.layers,H=Z.aaxis,ne=Z.baxis,X=Z.caxis;if(Z.drawAx(H),Z.drawAx(ne),Z.drawAx(X),j){var $=Math.max(H.showticklabels?H.tickfont.size/2:0,(X.showticklabels?.75*X.tickfont.size:0)+("outside"===X.ticks?.87*X.ticklen:0)),Q=(ne.showticklabels?ne.tickfont.size:0)+("outside"===ne.ticks?ne.ticklen:0)+3;G["a-title"]=_.draw(V,"a"+q,{propContainer:H,propName:Z.id+".aaxis.title",placeholder:v(V,"Click to enter Component A title"),attributes:{x:Z.x0+Z.w/2,y:Z.y0-H.title.font.size/3-$,"text-anchor":"middle"}}),G["b-title"]=_.draw(V,"b"+q,{propContainer:ne,propName:Z.id+".baxis.title",placeholder:v(V,"Click to enter Component B title"),attributes:{x:Z.x0-Q,y:Z.y0+Z.h+.83*ne.title.font.size+Q,"text-anchor":"middle"}}),G["c-title"]=_.draw(V,"c"+q,{propContainer:X,propName:Z.id+".caxis.title",placeholder:v(V,"Click to enter Component C title"),attributes:{x:Z.x0+Z.w+Q,y:Z.y0+Z.h+.83*X.title.font.size+Q,"text-anchor":"middle"}})}},O.drawAx=function(j){var Z,V=this,q=V.graphDiv,G=j._name,H=G.charAt(0),ne=j._id,X=V.layers[G],$=H+"tickLayout",Q=(Z=j).ticks+String(Z.ticklen)+String(Z.showticklabels);V[$]!==Q&&(X.selectAll("."+ne+"tick").remove(),V[$]=Q),j.setScale();var te=l.calcTicks(j),re=l.clipEnds(j,te),le=l.makeTransTickFn(j),ue=l.getTickSigns(j)[2],he=S.deg2rad(30),ge=ue*(j.linewidth||1)/2,xe=ue*j.ticklen,ke=V.w,Ae=V.h,pe="b"===H?"M0,"+ge+"l"+Math.sin(he)*xe+","+Math.cos(he)*xe:"M"+ge+",0l"+Math.cos(he)*xe+","+-Math.sin(he)*xe,ye={a:"M0,0l"+Ae+",-"+ke/2,b:"M0,0l-"+ke/2+",-"+Ae,c:"M0,0l-"+Ae+","+ke/2}[H];l.drawTicks(q,j,{vals:"inside"===j.ticks?re:te,layer:X,path:pe,transFn:le,crisp:!1}),l.drawGrid(q,j,{vals:re,layer:V.layers[H+"grid"],path:ye,transFn:le,crisp:!1}),l.drawLabels(q,j,{vals:te,layer:X,transFn:le,labelFns:l.makeLabelFns(j,0,30)})};var I=k.MINZOOM/2+.87,P="m-0.87,.5h"+I+"v3h-"+(I+5.2)+"l"+(I/2+2.6)+",-"+(.87*I+4.5)+"l2.6,1.5l-"+I/2+","+.87*I+"Z",L="m0.87,.5h-"+I+"v3h"+(I+5.2)+"l-"+(I/2+2.6)+",-"+(.87*I+4.5)+"l-2.6,1.5l"+I/2+","+.87*I+"Z",N="m0,1l"+I/2+","+.87*I+"l2.6,-1.5l-"+(I/2+2.6)+",-"+(.87*I+4.5)+"l-"+(I/2+2.6)+","+(.87*I+4.5)+"l2.6,1.5l"+I/2+",-"+.87*I+"Z",B=!0;function W(j){C.select(j).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}O.clearOutline=function(){b(this.dragOptions),m(this.dragOptions.gd)},O.initInteractions=function(){var j,Z,V,q,G,H,ne,X,$,Q,te,re,le=this,ue=le.layers.plotbg.select("path").node(),he=le.graphDiv,ge=he._fullLayout._zoomlayer;function xe(De){var oe={};return oe[le.id+".aaxis.min"]=De.a,oe[le.id+".baxis.min"]=De.b,oe[le.id+".caxis.min"]=De.c,oe}function ke(De,oe){var de=he._fullLayout.clickmode;W(he),2===De&&(he.emit("plotly_doubleclick",null),f.call("_guiRelayout",he,xe({a:0,b:0,c:0}))),de.indexOf("select")>-1&&1===De&&w(oe,he,[le.xaxis],[le.yaxis],le.id,le.dragOptions),de.indexOf("event")>-1&&d.click(he,oe,le.id)}function Ae(De,oe){return 1-oe/le.h}function pe(De,oe){return 1-(De+(le.h-oe)/Math.sqrt(3))/le.w}function ye(De,oe){return(De-(le.h-oe)/Math.sqrt(3))/le.w}function Ne(De,oe){var de=V+De*j,_e=q+oe*Z,Me=Math.max(0,Math.min(1,Ae(0,q),Ae(0,_e))),Pe=Math.max(0,Math.min(1,pe(V,q),pe(de,_e))),Ue=Math.max(0,Math.min(1,ye(V,q),ye(de,_e))),Be=(Me/2+Ue)*le.w,Ve=(1-Me/2-Pe)*le.w,ve=(Be+Ve)/2,Te=Ve-Be,Ce=(1-Me)*le.h,We=Ce-Te/A;Te<k.MINZOOM?(ne=G,te.attr("d",$),re.attr("d","M0,0Z")):(ne={a:G.a+Me*H,b:G.b+Pe*H,c:G.c+Ue*H},te.attr("d",$+"M"+Be+","+Ce+"H"+Ve+"L"+ve+","+We+"L"+Be+","+Ce+"Z"),re.attr("d","M"+V+","+q+"m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2ZM"+Be+","+Ce+P+"M"+Ve+","+Ce+L+"M"+ve+","+We+N)),Q||(te.transition().style("fill",X>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),re.transition().style("opacity",1).duration(200),Q=!0),he.emit("plotly_relayouting",xe(ne))}function be(){W(he),ne!==G&&(f.call("_guiRelayout",he,xe(ne)),B&&he.data&&he._context.showTips&&(S.notifier(v(he,"Double-click to zoom back out"),"long"),B=!1))}function Ee(De,oe){var de=De/le.xaxis._m,_e=oe/le.yaxis._m,Me=[(ne={a:G.a-_e,b:G.b+(de+_e)/2,c:G.c-(de-_e)/2}).a,ne.b,ne.c].sort(S.sorterAsc),Pe=Me.indexOf(ne.a),Ue=Me.indexOf(ne.b),Be=Me.indexOf(ne.c);Me[0]<0&&(Me[1]+Me[0]/2<0?(Me[2]+=Me[0]+Me[1],Me[0]=Me[1]=0):(Me[2]+=Me[0]/2,Me[1]+=Me[0]/2,Me[0]=0),oe=(G.a-(ne={a:Me[Pe],b:Me[Ue],c:Me[Be]}).a)*le.yaxis._m,De=(G.c-ne.c-G.b+ne.b)*le.xaxis._m);var Ve=M(le.x0+De,le.y0+oe);le.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Ve);var ve=M(-De,-oe);le.clipDefRelative.select("path").attr("transform",ve),le.aaxis.range=[ne.a,le.sum-ne.b-ne.c],le.baxis.range=[le.sum-ne.a-ne.c,ne.b],le.caxis.range=[le.sum-ne.a-ne.b,ne.c],le.drawAxes(!1),le._hasClipOnAxisFalse&&le.plotContainer.select(".scatterlayer").selectAll(".trace").call(i.hideOutsideRangePoints,le),he.emit("plotly_relayouting",xe(ne))}function Oe(){f.call("_guiRelayout",he,xe(ne))}this.dragOptions={element:ue,gd:he,plotinfo:{id:le.id,domain:he._fullLayout[le.id].domain,xaxis:le.xaxis,yaxis:le.yaxis},subplot:le.id,prepFn:function(De,oe,de){le.dragOptions.xaxes=[le.xaxis],le.dragOptions.yaxes=[le.yaxis],j=he._fullLayout._invScaleX,Z=he._fullLayout._invScaleY;var _e=le.dragOptions.dragmode=he._fullLayout.dragmode;le.dragOptions.minDrag=p(_e)?1:void 0,"zoom"===_e?(le.dragOptions.moveFn=Ne,le.dragOptions.clickFn=ke,le.dragOptions.doneFn=be,function(Me,Pe,Ue){var Be=ue.getBoundingClientRect();V=Pe-Be.left,q=Ue-Be.top,he._fullLayout._calcInverseTransform(he);var ve=S.apply3DTransform(he._fullLayout._invTransform)(V,q);V=ve[0],q=ve[1],ne=G={a:le.aaxis.range[0],b:le.baxis.range[1],c:le.caxis.range[1]},H=le.aaxis.range[1]-G.a,X=E(le.graphDiv._fullLayout[le.id].bgcolor).getLuminance(),$="M0,"+le.h+"L"+le.w/2+", 0L"+le.w+","+le.h+"Z",Q=!1,te=ge.append("path").attr("class","zoombox").attr("transform",M(le.x0,le.y0)).style({fill:X>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",$),re=ge.append("path").attr("class","zoombox-corners").attr("transform",M(le.x0,le.y0)).style({fill:c.background,stroke:c.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),le.clearOutline(he)}(0,oe,de)):"pan"===_e?(le.dragOptions.moveFn=Ee,le.dragOptions.clickFn=ke,le.dragOptions.doneFn=Oe,ne=G={a:le.aaxis.range[0],b:le.baxis.range[1],c:le.caxis.range[1]},le.clearOutline(he)):(T(_e)||p(_e))&&y(De,oe,de,le.dragOptions,_e)}},ue.onmousemove=function(De){d.hover(he,De,le.id),he._fullLayout._lasthover=ue,he._fullLayout._hoversubplot=le.id},ue.onmouseout=function(De){he._dragging||s.unhover(he,De)},s.init(this.dragOptions)}},73972:function(ie,z,r){"use strict";var C=r(47769),E=r(64213),f=r(75138),S=r(41965),M=r(24401).addStyleRule,v=r(1426),c=r(9012),i=r(10820),u=v.extendFlat,a=v.extendDeepAll;function o(w){var m=w.name,b=w.categories,k=w.meta;if(z.modules[m])C.log("Type "+m+" already registered");else{z.subplotsRegistry[w.basePlotModule.name]||function(B){var W=B.name;if(z.subplotsRegistry[W])C.log("Plot type "+W+" already registered.");else for(var j in g(B),z.subplotsRegistry[W]=B,z.componentsRegistry)_(j,B.name)}(w.basePlotModule);for(var h={},O=0;O<b.length;O++)h[b[O]]=!0,z.allCategories[b[O]]=!0;for(var A in z.modules[m]={_module:w,categories:h},k&&Object.keys(k).length&&(z.modules[m].meta=k),z.allTypes.push(m),z.componentsRegistry)p(A,m);w.layoutAttributes&&u(z.traceLayoutAttributes,w.layoutAttributes);var I=w.basePlotModule,P=I.name;if("mapbox"===P){var L=I.constants.styleRules;for(var N in L)M(".js-plotly-plot .plotly .mapboxgl-"+N,L[N])}"geo"!==P&&"mapbox"!==P||void 0!==window.PlotlyGeoAssets||(window.PlotlyGeoAssets={topojson:{}})}}function l(w){if("string"!=typeof w.name)throw new Error("Component module *name* must be a string.");var m=w.name;for(var b in z.componentsRegistry[m]=w,w.layoutAttributes&&(w.layoutAttributes._isLinkedToArray&&f(z.layoutArrayContainers,m),g(w)),z.modules)p(m,b);for(var k in z.subplotsRegistry)_(m,k);for(var h in z.transformsRegistry)T(m,h);w.schema&&w.schema.layout&&a(i,w.schema.layout)}function s(w){if("string"!=typeof w.name)throw new Error("Transform module *name* must be a string.");var m="Transform module "+w.name,b="function"==typeof w.transform,k="function"==typeof w.calcTransform;if(!b&&!k)throw new Error(m+" is missing a *transform* or *calcTransform* method.");for(var h in b&&k&&C.log([m+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),S(w.attributes)||C.log(m+" registered without an *attributes* object."),"function"!=typeof w.supplyDefaults&&C.log(m+" registered without a *supplyDefaults* method."),z.transformsRegistry[w.name]=w,z.componentsRegistry)T(h,w.name)}function d(w){var m=w.name,b=m.split("-")[0],k=w.dictionary,h=w.format,O=k&&Object.keys(k).length,A=h&&Object.keys(h).length,I=z.localeRegistry,P=I[m];if(P||(I[m]=P={}),b!==m){var L=I[b];L||(I[b]=L={}),O&&L.dictionary===P.dictionary&&(L.dictionary=k),A&&L.format===P.format&&(L.format=h)}O&&(P.dictionary=k),A&&(P.format=h)}function g(w){if(w.layoutAttributes){var m=w.layoutAttributes._arrayAttrRegexps;if(m)for(var b=0;b<m.length;b++)f(z.layoutArrayRegexes,m[b])}}function p(w,m){var b=z.componentsRegistry[w].schema;if(b&&b.traces){var k=b.traces[m];k&&a(z.modules[m]._module.attributes,k)}}function T(w,m){var b=z.componentsRegistry[w].schema;if(b&&b.transforms){var k=b.transforms[m];k&&a(z.transformsRegistry[m].attributes,k)}}function _(w,m){var b=z.componentsRegistry[w].schema;if(b&&b.subplots){var k=z.subplotsRegistry[m],h=k.layoutAttributes,O="subplot"===k.attr?k.name:k.attr;Array.isArray(O)&&(O=O[0]);var A=b.subplots[O];h&&A&&a(h,A)}}function y(w){return"object"==typeof w&&(w=w.type),w}z.modules={},z.allCategories={},z.allTypes=[],z.subplotsRegistry={},z.transformsRegistry={},z.componentsRegistry={},z.layoutArrayContainers=[],z.layoutArrayRegexes=[],z.traceLayoutAttributes={},z.localeRegistry={},z.apiMethodRegistry={},z.collectableSubplotTypes=null,z.register=function(w){if(z.collectableSubplotTypes=null,!w)throw new Error("No argument passed to Plotly.register.");w&&!Array.isArray(w)&&(w=[w]);for(var m=0;m<w.length;m++){var b=w[m];if(!b)throw new Error("Invalid module was attempted to be registered!");switch(b.moduleType){case"trace":o(b);break;case"transform":s(b);break;case"component":l(b);break;case"locale":d(b);break;case"apiMethod":z.apiMethodRegistry[b.name]=b.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},z.getModule=function(w){var m=z.modules[y(w)];return!!m&&m._module},z.traceIs=function(w,m){if("various"===(w=y(w)))return!1;var b=z.modules[w];return b||(w&&C.log("Unrecognized trace type "+w+"."),b=z.modules[c.type.dflt]),!!b.categories[m]},z.getTransformIndices=function(w,m){for(var b=[],k=w.transforms||[],h=0;h<k.length;h++)k[h].type===m&&b.push(h);return b},z.hasTransform=function(w,m){for(var b=w.transforms||[],k=0;k<b.length;k++)if(b[k].type===m)return!0;return!1},z.getComponentMethod=function(w,m){var b=z.componentsRegistry[w];return b&&b[m]||E},z.call=function(){var w=arguments[0],m=[].slice.call(arguments,1);return z.apiMethodRegistry[w].apply(null,m)}},61914:function(ie,z,r){"use strict";var C=r(73972),E=r(71828),f=E.extendFlat,S=E.extendDeep;function M(v){var c;switch(v){case"themes__thumb":c={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":c={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:c={}}return c}ie.exports=function(v,c){var i,o=v.layout,l=S([],v.data),s=S({},o,M(c.tileClass)),d=v._context||{};if(c.width&&(s.width=c.width),c.height&&(s.height=c.height),"thumbnail"===c.tileClass||"themes__thumb"===c.tileClass){s.annotations=[];var g=Object.keys(s);for(i=0;i<g.length;i++)["xaxis","yaxis","zaxis"].indexOf(g[i].slice(0,5))>-1&&(s[g[i]].title={text:""});for(i=0;i<l.length;i++){var p=l[i];p.showscale=!1,p.marker&&(p.marker.showscale=!1),C.traceIs(p,"pie-like")&&(p.textposition="none")}}if(Array.isArray(c.annotations))for(i=0;i<c.annotations.length;i++)s.annotations.push(c.annotations[i]);var T=Object.keys(s).filter(function(b){return b.match(/^scene\d*$/)});if(T.length){var _={};for("thumbnail"===c.tileClass&&(_={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),i=0;i<T.length;i++){var y=s[T[i]];y.xaxis||(y.xaxis={}),y.yaxis||(y.yaxis={}),y.zaxis||(y.zaxis={}),f(y.xaxis,_),f(y.yaxis,_),f(y.zaxis,_),y._scene=null}}var w=document.createElement("div");c.tileClass&&(w.className=c.tileClass);var m={gd:w,td:w,layout:s,data:l,config:{staticPlot:void 0===c.staticPlot||c.staticPlot,plotGlPixelRatio:void 0===c.plotGlPixelRatio?2:c.plotGlPixelRatio,displaylogo:c.displaylogo||!1,showLink:c.showLink||!1,showTips:c.showTips||!1,mapboxAccessToken:d.mapboxAccessToken}};return"transparent"!==c.setBackground&&(m.config.setBackground=c.setBackground||"opaque"),m.gd.defaultLayout=M(c.tileClass),m}},7239:function(ie,z,r){"use strict";var C=r(71828),E=r(403),f=r(22435),S=r(25095);ie.exports=function(M,v){var c;return C.isPlainObject(M)||(c=C.getGraphDiv(M)),(v=v||{}).format=v.format||"png",v.width=v.width||null,v.height=v.height||null,v.imageDataOnly=!0,new Promise(function(i,u){c&&c._snapshotInProgress&&u(new Error("Snapshotting already in progress.")),C.isIE()&&"svg"!==v.format&&u(new Error(S.MSG_IE_BAD_FORMAT)),c&&(c._snapshotInProgress=!0);var a=E(M,v),o=v.filename||M.fn||"newplot";o+="."+v.format.replace("-","."),a.then(function(l){return c&&(c._snapshotInProgress=!1),f(l,o,v.format)}).then(function(l){i(l)}).catch(function(l){c&&(c._snapshotInProgress=!1),u(l)})})}},22435:function(ie,z,r){"use strict";var C=r(71828),E=r(25095);ie.exports=function(f,S,M){var v=document.createElement("a"),c="download"in v;return new Promise(function(i,u){var a,o;return C.isIE()?(a=E.createBlob(f,"svg"),window.navigator.msSaveBlob(a,S),a=null,i(S)):c?(a=E.createBlob(f,M),o=E.createObjectURL(a),v.href=o,v.download=S,document.body.appendChild(v),v.click(),document.body.removeChild(v),E.revokeObjectURL(o),a=null,i(S)):C.isSafari()?(E.octetStream(("svg"===M?",":";base64,")+encodeURIComponent(f)),i(S)):void u(new Error("download error"))})}},25095:function(ie,z,r){"use strict";var C=r(73972);z.getDelay=function(f){return f._has&&(f._has("gl3d")||f._has("gl2d")||f._has("mapbox"))?500:0},z.getRedrawFunc=function(f){return function(){C.getComponentMethod("colorbar","draw")(f)}},z.encodeSVG=function(f){return"data:image/svg+xml,"+encodeURIComponent(f)},z.encodeJSON=function(f){return"data:application/json,"+encodeURIComponent(f)};var E=window.URL||window.webkitURL;z.createObjectURL=function(f){return E.createObjectURL(f)},z.revokeObjectURL=function(f){return E.revokeObjectURL(f)},z.createBlob=function(f,S){if("svg"===S)return new window.Blob([f],{type:"image/svg+xml;charset=utf-8"});if("full-json"===S)return new window.Blob([f],{type:"application/json;charset=utf-8"});var M=function(v){for(var c=v.length,i=new ArrayBuffer(c),u=new Uint8Array(i),a=0;a<c;a++)u[a]=v.charCodeAt(a);return i}(window.atob(f));return new window.Blob([M],{type:"image/"+S})},z.octetStream=function(f){document.location.href="data:application/octet-stream"+f},z.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,z.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},44511:function(ie,z,r){"use strict";var C=r(25095),E={getDelay:C.getDelay,getRedrawFunc:C.getRedrawFunc,clone:r(61914),toSVG:r(5900),svgToImg:r(70942),toImage:r(56395),downloadImage:r(7239)};ie.exports=E},70942:function(ie,z,r){"use strict";var C=r(71828),E=r(15398).EventEmitter,f=r(25095);ie.exports=function(S){var M=S.emitter||new E,v=new Promise(function(c,i){var u=window.Image,a=S.svg,o=S.format||"png";if(C.isIE()&&"svg"!==o){var l=new Error(f.MSG_IE_BAD_FORMAT);return i(l),S.promise?v:M.emit("error",l)}var s,d,g=S.canvas,p=S.scale||1,y=p*(S.width||300),w=p*(S.height||150),m=g.getContext("2d",{willReadFrequently:!0}),b=new u;"svg"===o||C.isSafari()?d=f.encodeSVG(a):(s=f.createBlob(a,"svg"),d=f.createObjectURL(s)),g.width=y,g.height=w,b.onload=function(){var k;switch(s=null,f.revokeObjectURL(d),"svg"!==o&&m.drawImage(b,0,0,y,w),o){case"jpeg":k=g.toDataURL("image/jpeg");break;case"png":k=g.toDataURL("image/png");break;case"webp":k=g.toDataURL("image/webp");break;case"svg":k=d;break;default:var h="Image format is not jpeg, png, svg or webp.";if(i(new Error(h)),!S.promise)return M.emit("error",h)}c(k),S.promise||M.emit("success",k)},b.onerror=function(k){if(s=null,f.revokeObjectURL(d),i(k),!S.promise)return M.emit("error",k)},b.src=d});return S.promise?v:M}},56395:function(ie,z,r){"use strict";var C=r(15398).EventEmitter,E=r(73972),f=r(71828),S=r(25095),M=r(61914),v=r(5900),c=r(70942);ie.exports=function(i,u){var a=new C,o=M(i,{format:"png"}),l=o.gd;l.style.position="absolute",l.style.left="-5000px",document.body.appendChild(l);var s=S.getRedrawFunc(l);return E.call("_doPlot",l,o.data,o.layout,o.config).then(s).then(function(){var d=S.getDelay(l._fullLayout);setTimeout(function(){var g=v(l),p=document.createElement("canvas");p.id=f.randstr(),(a=c({format:u.format,width:l._fullLayout.width,height:l._fullLayout.height,canvas:p,emitter:a,svg:g})).clean=function(){l&&document.body.removeChild(l)}},d)}).catch(function(d){a.emit("error",d)}),a}},5900:function(ie,z,r){"use strict";var C=r(39898),E=r(71828),f=r(91424),S=r(7901),M=r(77922),v=/"/g,c="TOBESTRIPPED",i=new RegExp('("TOBESTRIPPED)|(TOBESTRIPPED")',"g");ie.exports=function(u,a,o){var l,s=u._fullLayout,d=s._paper,g=s._toppaper,p=s.width,T=s.height;d.insert("rect",":first-child").call(f.setRect,0,0,p,T).call(S.fill,s.paper_bgcolor);var _=s._basePlotModules||[];for(l=0;l<_.length;l++){var y=_[l];y.toSVG&&y.toSVG(u)}if(g){var w=g.node().childNodes,m=Array.prototype.slice.call(w);for(l=0;l<m.length;l++){var b=m[l];b.childNodes.length&&d.node().appendChild(b)}}s._draggers&&s._draggers.remove(),d.node().style.background="",d.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var h=C.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){h.style({visibility:null,display:null});var O=this.style.fontFamily;O&&-1!==O.indexOf('"')&&h.style("font-family",O.replace(v,c))}else h.remove()}),d.selectAll(".gradient_filled,.pattern_filled").each(function(){var h=C.select(this),O=this.style.fill;O&&-1!==O.indexOf("url(")&&h.style("fill",O.replace(v,c));var A=this.style.stroke;A&&-1!==A.indexOf("url(")&&h.style("stroke",A.replace(v,c))}),"pdf"!==a&&"eps"!==a||d.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),d.node().setAttributeNS(M.xmlns,"xmlns",M.svg),d.node().setAttributeNS(M.xmlns,"xmlns:xlink",M.xlink),"svg"===a&&o&&(d.attr("width",o*p),d.attr("height",o*T),d.attr("viewBox","0 0 "+p+" "+T));var h,O,A,k=(new window.XMLSerializer).serializeToString(d.node());return k=(k=(h=k,O=C.select("body").append("div").style({display:"none"}).html(""),A=h.replace(/(&[^;]*;)/gi,function(I){return"&lt;"===I?"&#60;":"&rt;"===I?"&#62;":-1!==I.indexOf("<")||-1!==I.indexOf(">")?"":O.html(I).text()}),O.remove(),k=A).replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(i,"'"),E.isIE()&&(k=(k=(k=k.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),k}},75341:function(ie,z,r){"use strict";var C=r(71828);ie.exports=function(E,f){for(var S=0;S<E.length;S++)E[S].i=S;C.mergeArray(f.text,E,"tx"),C.mergeArray(f.hovertext,E,"htx");var M=f.marker;if(M){C.mergeArray(M.opacity,E,"mo",!0),C.mergeArray(M.color,E,"mc");var v=M.line;v&&(C.mergeArray(v.color,E,"mlc"),C.mergeArrayCastPositive(v.width,E,"mlw"))}}},1486:function(ie,z,r){"use strict";var C=r(82196),E=r(12663).axisHoverFormat,f=r(5386).f,S=r(5386).s,M=r(50693),v=r(41940),c=r(97313),i=r(79952).u,u=r(1426).extendFlat,a=v({editType:"calc",arrayOk:!0,colorEditType:"style"}),o=u({},C.marker.line.width,{dflt:0}),l=u({width:o,editType:"calc"},M("marker.line")),s=u({line:l,editType:"calc"},M("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:i});ie.exports={x:C.x,x0:C.x0,dx:C.dx,y:C.y,y0:C.y0,dy:C.dy,xperiod:C.xperiod,yperiod:C.yperiod,xperiod0:C.xperiod0,yperiod0:C.yperiod0,xperiodalignment:C.xperiodalignment,yperiodalignment:C.yperiodalignment,xhoverformat:E("x"),yhoverformat:E("y"),text:C.text,texttemplate:S({editType:"plot"},{keys:c.eventDataKeys}),hovertext:C.hovertext,hovertemplate:f({},{keys:c.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:u({},a,{}),insidetextfont:u({},a,{}),outsidetextfont:u({},a,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:u({},C.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:s,offsetgroup:C.offsetgroup,alignmentgroup:C.alignmentgroup,selected:{marker:{opacity:C.selected.marker.opacity,color:C.selected.marker.color,editType:"style"},textfont:C.selected.textfont,editType:"style"},unselected:{marker:{opacity:C.unselected.marker.opacity,color:C.unselected.marker.color,editType:"style"},textfont:C.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},92290:function(ie,z,r){"use strict";var C=r(89298),E=r(42973),f=r(52075).hasColorscale,S=r(78803),M=r(75341),v=r(66279);ie.exports=function(c,i){var u,a,o,l,s,d,g=C.getFromId(c,i.xaxis||"x"),p=C.getFromId(c,i.yaxis||"y"),T={msUTC:!(!i.base&&0!==i.base)};"h"===i.orientation?(u=g.makeCalcdata(i,"x",T),o=p.makeCalcdata(i,"y"),l=E(i,p,"y",o),s=!!i.yperiodalignment,d="y"):(u=p.makeCalcdata(i,"y",T),o=g.makeCalcdata(i,"x"),l=E(i,g,"x",o),s=!!i.xperiodalignment,d="x"),a=l.vals;for(var _=Math.min(a.length,u.length),y=new Array(_),w=0;w<_;w++)y[w]={p:a[w],s:u[w]},s&&(y[w].orig_p=o[w],y[w][d+"End"]=l.ends[w],y[w][d+"Start"]=l.starts[w]),i.ids&&(y[w].id=String(i.ids[w]));return f(i,"marker")&&S(c,i,{vals:i.marker.color,containerStr:"marker",cLetter:"c"}),f(i,"marker.line")&&S(c,i,{vals:i.marker.line.color,containerStr:"marker.line",cLetter:"c"}),M(y,i),v(y,i),y}},97313:function(ie){"use strict";ie.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},11661:function(ie,z,r){"use strict";var C=r(92770),E=r(71828).isArrayOrTypedArray,f=r(50606).BADNUM,S=r(73972),M=r(89298),v=r(99082).getAxisGroup,c=r(61546);function i(_,y,w,m,b){if(m.length){var k,h,O,A;switch(function(I,P){var L,N;for(L=0;L<P.length;L++){var B,W=P[L],j=W[0].trace,Z="funnel"===j.type?j._base:j.base,V="h"===j.orientation?j.xcalendar:j.ycalendar,q="category"===I.type||"multicategory"===I.type?function(){return null}:I.d2c;if(E(Z)){for(N=0;N<Math.min(Z.length,W.length);N++)B=q(Z[N],0,V),C(B)?(W[N].b=+B,W[N].hasB=1):W[N].b=0;for(;N<W.length;N++)W[N].b=0}else{B=q(Z,0,V);var G=C(B);for(B=G?B:0,N=0;N<W.length;N++)W[N].b=B,G&&(W[N].hasB=1)}}}(w,m),b.mode){case"overlay":u(y,w,m,b);break;case"group":for(k=[],h=[],O=0;O<m.length;O++)void 0===(A=m[O])[0].trace.offset?h.push(A):k.push(A);h.length&&(I=_,L=w,W=new c(h,{posAxis:P=y,sepNegVal:!1,overlapNoMerge:!(B=b).norm}),function(j,Z,V,q){for(var G=j._fullLayout,X=V.minDiff,$=V.traces,Q=$.length,te=V.positions.length!==V.distinctPositions.length,re=X*(1-q.gap),le=v(G,Z._id)+$[0][0].trace.orientation,ue=G._alignmentOpts[le]||{},he=0;he<Q;he++){var ge,xe,ke=$[he],Ae=ke[0].trace,ye=Object.keys((ue[Ae.alignmentgroup]||{}).offsetGroups||{}).length,Ne=(ge=ye?re/ye:te?re/Q:re)*(1-(q.groupgap||0));xe=ye?((2*Ae._offsetIndex+1-ye)*ge-Ne)/2:te?((2*he+1-Q)*ge-Ne)/2:-Ne/2;var be=ke[0].t;be.barwidth=Ne,be.poffset=xe,be.bargroupwidth=re,be.bardelta=X}V.binWidth=$[0][0].t.barwidth/100,o(V),l(Z,V),s(Z,V,te)}(I,P,W,B),function(j,Z){for(var V=j.traces,q=0;q<V.length;q++){var G=V[q];if(void 0===G[0].trace.base)for(var H=new c([G],{posAxis:Z,sepNegVal:!0,overlapNoMerge:!0}),ne=0;ne<G.length;ne++){var X=G[ne];if(X.p!==f){var $=H.put(X.p,X.b+X.s);$&&(X.b=$)}}}}(W,P),B.norm?(g(W),p(L,W,B)):d(L,W)),k.length&&u(y,w,k,b);break;case"stack":case"relative":for(k=[],h=[],O=0;O<m.length;O++)void 0===(A=m[O])[0].trace.base?h.push(A):k.push(A);h.length&&function(I,P,L,N,B){var W=new c(N,{posAxis:P,sepNegVal:"relative"===B.mode,overlapNoMerge:!(B.norm||"stack"===B.mode||"relative"===B.mode)});a(P,W,B),function(G,H,ne){var X,$,Q,te,re,le,ue=T(G),he=H.traces;for(te=0;te<he.length;te++)if("funnel"===($=(X=he[te])[0].trace).type)for(re=0;re<X.length;re++)(le=X[re]).s!==f&&H.put(le.p,-.5*le.s);for(te=0;te<he.length;te++){Q="funnel"===($=(X=he[te])[0].trace).type;var ge=[];for(re=0;re<X.length;re++)if((le=X[re]).s!==f){var xe,ke=H.put(le.p,xe=Q?le.s:le.s+le.b),Ae=ke+xe;le.b=ke,le[ue]=Ae,ne.norm||(ge.push(Ae),le.hasB&&ge.push(ke))}ne.norm||($._extremes[G._id]=M.findExtremes(G,ge,{tozero:!0,padded:!0}))}}(L,W,B);for(var j=0;j<N.length;j++)for(var Z=N[j],V=0;V<Z.length;V++){var q=Z[V];q.s!==f&&q.b+q.s===W.get(q.p,q.s)&&(q._outmost=!0)}B.norm&&p(L,W,B)}(0,y,w,h,b),k.length&&u(y,w,k,b)}!function(I,P){var L,N,B,W=T(P),j={},Z=1/0,V=-1/0;for(L=0;L<I.length;L++)for(B=I[L],N=0;N<B.length;N++){var q=B[N].p;C(q)&&(Z=Math.min(Z,q),V=Math.max(V,q))}var G=1e4/(V-Z),H=j.round=function(le){return String(Math.round(G*(le-Z)))};for(L=0;L<I.length;L++){(B=I[L])[0].t.extents=j;var ne=B[0].t.poffset,X=Array.isArray(ne);for(N=0;N<B.length;N++){var $=B[N],Q=$[W]-$.w/2;if(C(Q)){var te=$[W]+$.w/2,re=H($.p);j[re]=j[re]?[Math.min(Q,j[re][0]),Math.max(te,j[re][1])]:[Q,te]}$.p0=$.p+(X?ne[N]:ne),$.p1=$.p0+$.w,$.s0=$.b,$.s1=$.s0+$.s}}}(m,y)}var I,P,L,B,W}function u(_,y,w,m){for(var b=0;b<w.length;b++){var h=new c([w[b]],{posAxis:_,sepNegVal:!1,overlapNoMerge:!m.norm});a(_,h,m),m.norm?(g(h),p(y,h,m)):d(y,h)}}function a(_,y,w){for(var m=y.minDiff,b=y.traces,k=m*(1-w.gap),h=k*(1-(w.groupgap||0)),O=-h/2,A=0;A<b.length;A++){var I=b[A][0].t;I.barwidth=h,I.poffset=O,I.bargroupwidth=k,I.bardelta=m}y.binWidth=b[0][0].t.barwidth/100,o(y),l(_,y),s(_,y)}function o(_){var y,w,m=_.traces;for(y=0;y<m.length;y++){var b,k=m[y],h=k[0],O=h.trace,A=h.t,I=O._offset||O.offset,P=A.poffset;if(E(I)){for(b=Array.prototype.slice.call(I,0,k.length),w=0;w<b.length;w++)C(b[w])||(b[w]=P);for(w=b.length;w<k.length;w++)b.push(P);A.poffset=b}else void 0!==I&&(A.poffset=I);var L=O._width||O.width,N=A.barwidth;if(E(L)){var B=Array.prototype.slice.call(L,0,k.length);for(w=0;w<B.length;w++)C(B[w])||(B[w]=N);for(w=B.length;w<k.length;w++)B.push(N);if(A.barwidth=B,void 0===I){for(b=[],w=0;w<k.length;w++)b.push(P+(N-B[w])/2);A.poffset=b}}else void 0!==L&&(A.barwidth=L,void 0===I&&(A.poffset=P+(N-L)/2))}}function l(_,y){for(var w=y.traces,m=T(_),b=0;b<w.length;b++)for(var k=w[b],h=k[0].t,O=h.poffset,A=Array.isArray(O),I=h.barwidth,P=Array.isArray(I),L=0;L<k.length;L++){var N=k[L],B=N.w=P?I[L]:I;void 0===N.p&&(N.p=N[m],N["orig_"+m]=N[m]),N[m]=N.p+((A?O[L]:O)+B/2)}}function s(_,y,w){var m=y.traces,b=y.minDiff/2;M.minDtick(_,y.minDiff,y.distinctPositions[0],w);for(var k=0;k<m.length;k++){var h,O,A,I,P=m[k],L=P[0],N=L.trace,B=[];for(I=0;I<P.length;I++)O=(h=P[I]).p-b,B.push(O,A=h.p+b);if(N.width||N.offset){var W=L.t,j=W.poffset,Z=W.barwidth,V=Array.isArray(j),q=Array.isArray(Z);for(I=0;I<P.length;I++)A=(O=(h=P[I]).p+(V?j[I]:j))+(q?Z[I]:Z),B.push(O,A)}N._extremes[_._id]=M.findExtremes(_,B,{padded:!1})}}function d(_,y){for(var w=y.traces,m=T(_),b=0;b<w.length;b++){for(var k=w[b],h=k[0].trace,O="scatter"===h.type,A="v"===h.orientation,I=[],P=!1,L=0;L<k.length;L++){var N=k[L],B=O?0:N.b,W=O?A?N.y:N.x:B+N.s;N[m]=W,I.push(W),N.hasB&&I.push(B),N.hasB&&N.b||(P=!0)}h._extremes[_._id]=M.findExtremes(_,I,{tozero:P,padded:!0})}}function g(_){for(var y=_.traces,w=0;w<y.length;w++)for(var m=y[w],b=0;b<m.length;b++){var k=m[b];k.s!==f&&_.put(k.p,k.b+k.s)}}function p(_,y,w){var m=y.traces,b=T(_),k="fraction"===w.norm?1:100,h=k/1e9,O=_.l2c(_.c2l(0)),A="stack"===w.mode?k:O;function I(ne){return C(_.c2l(ne))&&(ne<O-h||ne>A+h||!C(O))}for(var P=0;P<m.length;P++){for(var L=m[P],N=L[0].trace,B=[],W=!1,j=!1,Z=0;Z<L.length;Z++){var V=L[Z];if(V.s!==f){var q=Math.abs(k/y.get(V.p,V.s));V.b*=q,V.s*=q;var G=V.b,H=G+V.s;V[b]=H,B.push(H),j=j||I(H),V.hasB&&(B.push(G),j=j||I(G)),V.hasB&&V.b||(W=!0)}}N._extremes[_._id]=M.findExtremes(_,B,{tozero:W,padded:j})}}function T(_){return _._id.charAt(0)}ie.exports={crossTraceCalc:function(_,y){for(var w=y.xaxis,m=y.yaxis,b=_._fullLayout,k=_._fullData,h=_.calcdata,O=[],A=[],I=0;I<k.length;I++){var P=k[I];if(!0===P.visible&&S.traceIs(P,"bar")&&P.xaxis===w._id&&P.yaxis===m._id&&("h"===P.orientation?O.push(h[I]):A.push(h[I]),P._computePh))for(var L=_.calcdata[I],N=0;N<L.length;N++)"function"==typeof L[N].ph0&&(L[N].ph0=L[N].ph0()),"function"==typeof L[N].ph1&&(L[N].ph1=L[N].ph1())}var B={xCat:"category"===w.type||"multicategory"===w.type,yCat:"category"===m.type||"multicategory"===m.type,mode:b.barmode,norm:b.barnorm,gap:b.bargap,groupgap:b.bargroupgap};i(_,w,m,A,B),i(_,m,w,O,B)},setGroupPositions:i}},90769:function(ie,z,r){"use strict";var C=r(71828),E=r(7901),f=r(73972),S=r(67513),M=r(73927),v=r(98340),c=r(26125),i=r(1486),u=C.coerceFont;function a(o,l,s,d,g,p){var T=!1!==(p=p||{}).moduleHasSelected,_=!1!==p.moduleHasUnselected,y=!1!==p.moduleHasConstrain,w=!1!==p.moduleHasCliponaxis,m=!1!==p.moduleHasTextangle,b=!1!==p.moduleHasInsideanchor,k=!!p.hasPathbar,h=Array.isArray(g)||"auto"===g,O=h||"inside"===g,A=h||"outside"===g;if(O||A){var I=u(d,"textfont",s.font),P=C.extendFlat({},I),L=!(o.textfont&&o.textfont.color);if(L&&delete P.color,u(d,"insidetextfont",P),k){var N=C.extendFlat({},I);L&&delete N.color,u(d,"pathbar.textfont",N)}A&&u(d,"outsidetextfont",I),T&&d("selected.textfont.color"),_&&d("unselected.textfont.color"),y&&d("constraintext"),w&&d("cliponaxis"),m&&d("textangle"),d("texttemplate")}O&&b&&d("insidetextanchor")}ie.exports={supplyDefaults:function(o,l,s,d){function g(y,w){return C.coerce(o,l,i,y,w)}if(S(o,l,d,g)){M(o,l,d,g),g("xhoverformat"),g("yhoverformat"),g("orientation",l.x&&!l.y?"h":"v"),g("base"),g("offset"),g("width"),g("text"),g("hovertext"),g("hovertemplate");var p=g("textposition");a(o,0,d,g,p,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),v(o,l,g,s,d);var T=(l.marker.line||{}).color,_=f.getComponentMethod("errorbars","supplyDefaults");_(o,l,T||E.defaultLine,{axis:"y"}),_(o,l,T||E.defaultLine,{axis:"x",inherit:"y"}),C.coerceSelectionMarkerOpacity(l,g)}else l.visible=!1},crossTraceDefaults:function(o,l){var d;function g(T){return C.coerce(d._input,d,i,T)}if("group"===l.barmode)for(var p=0;p<o.length;p++)"bar"===(d=o[p]).type&&c(d._input,d,l,g)},handleText:a}},58065:function(ie){"use strict";ie.exports=function(z,r,C){return z.x="xVal"in r?r.xVal:r.x,z.y="yVal"in r?r.yVal:r.y,r.xa&&(z.xaxis=r.xa),r.ya&&(z.yaxis=r.ya),"h"===C.orientation?(z.label=z.y,z.value=z.x):(z.label=z.x,z.value=z.y),z}},69383:function(ie,z,r){"use strict";var C=r(92770),E=r(84267),f=r(71828).isArrayOrTypedArray;z.coerceString=function(S,M,v){if("string"==typeof M){if(M||!S.noBlank)return M}else if(("number"==typeof M||!0===M)&&!S.strict)return String(M);return void 0!==v?v:S.dflt},z.coerceNumber=function(S,M,v){if(C(M)){M=+M;var c=S.min,i=S.max;if(!(void 0!==c&&M<c||void 0!==i&&M>i))return M}return void 0!==v?v:S.dflt},z.coerceColor=function(S,M,v){return E(M).isValid()?M:void 0!==v?v:S.dflt},z.coerceEnumerated=function(S,M,v){return S.coerceNumber&&(M=+M),-1!==S.values.indexOf(M)?M:void 0!==v?v:S.dflt},z.getValue=function(S,M){var v;return Array.isArray(S)?M<S.length&&(v=S[M]):v=S,v},z.getLineWidth=function(S,M){return 0<M.mlw?M.mlw:f(S.marker.line.width)?0:S.marker.line.width}},95423:function(ie,z,r){"use strict";var C=r(30211),E=r(73972),f=r(7901),S=r(71828).fillText,M=r(69383).getLineWidth,v=r(89298).hoverLabelText,c=r(50606).BADNUM;function i(a,o,l,s,d){var g,p,T,_,y,w,m,b=a.cd,k=b[0].trace,h=b[0].t,O="closest"===s,A="waterfall"===k.type,I=a.maxHoverDistance,P=a.maxSpikeDistance;"h"===k.orientation?(g=l,p=o,T="y",_="x",y=X,w=H):(g=o,p=l,T="x",_="y",w=X,y=H);var L=k[T+"period"],N=O||L;function B(ge){return j(ge,-1)}function W(ge){return j(ge,1)}function j(ge,xe){return ge[T]+xe*ge.w/2}function Z(ge){return ge[T+"End"]-ge[T+"Start"]}var V=O?B:L?function(ge){return ge.p-Z(ge)/2}:function(ge){return Math.min(B(ge),ge.p-h.bardelta/2)},q=O?W:L?function(ge){return ge.p+Z(ge)/2}:function(ge){return Math.max(W(ge),ge.p+h.bardelta/2)};function G(ge,xe,ke){return d.finiteRange&&(ke=0),C.inbox(ge-g,xe-g,ke+Math.min(1,Math.abs(xe-ge)/m)-1)}function H(ge){return G(V(ge),q(ge),I)}function ne(ge){var xe=ge[_];if(A){var ke=Math.abs(ge.rawS)||0;p>0?xe+=ke:p<0&&(xe-=ke)}return xe}function X(ge){var xe=p,ke=ge.b,Ae=ne(ge);return C.inbox(ke-xe,Ae-xe,I+(Ae-xe)/(Ae-ke)-1)}var $=a[T+"a"],Q=a[_+"a"];m=Math.abs($.r2c($.range[1])-$.r2c($.range[0]));var ge,xe,ke,Ae,te=C.getDistanceFunction(s,y,w,function(ge){return(y(ge)+w(ge))/2});if(C.getClosest(b,te,a),!1!==a.index&&b[a.index].p!==c){N||(V=function(ge){return Math.min(B(ge),ge.p-h.bargroupwidth/2)},q=function(ge){return Math.max(W(ge),ge.p+h.bargroupwidth/2)});var re=b[a.index],le=k.base?re.b+re.s:re.s;a[_+"0"]=a[_+"1"]=Q.c2p(re[_],!0),a[_+"LabelVal"]=le;var ue=h.extents[h.extents.round(re.p)];return a[T+"0"]=$.c2p(O?V(re):ue[0],!0),a[T+"1"]=$.c2p(O?q(re):ue[1],!0),a[T+"LabelVal"]=void 0!==re.orig_p?re.orig_p:re.p,a.labelLabel=v($,a[T+"LabelVal"],k[T+"hoverformat"]),a.valueLabel=v(Q,a[_+"LabelVal"],k[_+"hoverformat"]),a.baseLabel=v(Q,re.b,k[_+"hoverformat"]),a.spikeDistance=(xe=p,ke=(ge=re).b,Ae=ne(ge),(C.inbox(ke-xe,Ae-xe,P+(Ae-xe)/(Ae-ke)-1)+function(ge){return G(B(ge),W(ge),P)}(re))/2),a[T+"Spike"]=$.c2p(re.p,!0),S(re,k,a),a.hovertemplate=k.hovertemplate,a}}function u(a,o){var l=o.mcc||a.marker.color,s=o.mlcc||a.marker.line.color,d=M(a,o);return f.opacity(l)?l:f.opacity(s)&&d?s:void 0}ie.exports={hoverPoints:function(a,o,l,s,d){var g=i(a,o,l,s,d);if(g){var p=g.cd,T=p[0].trace,_=p[g.index];return g.color=u(T,_),E.getComponentMethod("errorbars","hoverInfo")(_,T,g),[g]}},hoverOnBars:i,getTraceColor:u}},60822:function(ie,z,r){"use strict";ie.exports={attributes:r(1486),layoutAttributes:r(43641),supplyDefaults:r(90769).supplyDefaults,crossTraceDefaults:r(90769).crossTraceDefaults,supplyLayoutDefaults:r(13957),calc:r(92290),crossTraceCalc:r(11661).crossTraceCalc,colorbar:r(4898),arraysToCalcdata:r(75341),plot:r(17295).plot,style:r(16688).style,styleOnSelect:r(16688).styleOnSelect,hoverPoints:r(95423).hoverPoints,eventData:r(58065),selectPoints:r(81974),moduleType:"trace",name:"bar",basePlotModule:r(93612),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},43641:function(ie){"use strict";ie.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},13957:function(ie,z,r){"use strict";var C=r(73972),E=r(89298),f=r(71828),S=r(43641);ie.exports=function(M,v,c){function i(T,_){return f.coerce(M,v,S,T,_)}for(var u=!1,a=!1,o=!1,l={},s=i("barmode"),d=0;d<c.length;d++){var g=c[d];if(C.traceIs(g,"bar")&&g.visible){if(u=!0,"group"===s){var p=g.xaxis+g.yaxis;l[p]&&(o=!0),l[p]=!0}g.visible&&"histogram"===g.type&&"category"!==E.getFromId({_fullLayout:v},g["v"===g.orientation?"xaxis":"yaxis"]).type&&(a=!0)}}u?("overlay"!==s&&i("barnorm"),i("bargap",a&&!o?0:.2),i("bargroupgap")):delete v.barmode}},17295:function(ie,z,r){"use strict";var C=r(39898),E=r(92770),f=r(71828),S=r(63893),M=r(7901),v=r(91424),c=r(73972),i=r(89298).tickText,u=r(72597),a=u.recordMinTextSize,o=u.clearMinTextSize,l=r(16688),s=r(69383),d=r(97313),g=r(1486),p=g.text,T=g.textposition,_=r(23469).appendArrayPointValue,y=d.TEXTPAD;function w(P){return P.id}function b(P,L){return P<L?1:-1}function k(P,L,N,B){var W;return!L.uniformtext.mode&&h(N)?(B&&(W=B()),P.transition().duration(N.duration).ease(N.easing).each("end",function(){W&&W()}).each("interrupt",function(){W&&W()})):P}function h(P){return P&&P.duration>0}function O(P){return"auto"===P?0:P}function A(P,L){var N=Math.PI/180*L,B=Math.abs(Math.sin(N)),W=Math.abs(Math.cos(N));return{x:P.width*W+P.height*B,y:P.width*B+P.height*W}}function I(P,L,N,B,W,j){var Z=!!j.isHorizontal,V=!!j.constrained,q=j.angle||0,G=j.anchor||"end",H="end"===G,ne="start"===G,X=((j.leftToRight||0)+1)/2,$=1-X,Q=W.width,te=W.height,re=Math.abs(L-P),le=Math.abs(B-N),ue=re>2*y&&le>2*y?y:0;re-=2*ue,le-=2*ue;var he=O(q);"auto"!==q||Q<=re&&te<=le||!(Q>re||te>le)||(Q>le||te>re)&&Q<te==re<le||(he+=90);var ge=A(W,he),xe=1;V&&(xe=Math.min(1,re/ge.x,le/ge.y));var ke=W.left*$+W.right*X,Ae=(W.top+W.bottom)/2,pe=(P+y)*$+(L-y)*X,ye=(N+B)/2,Ne=0,be=0;if(ne||H){var Ee=(Z?ge.x:ge.y)/2,Oe=Z?b(P,L):b(N,B);Z?ne?(pe=P+Oe*ue,Ne=-Oe*Ee):(pe=L-Oe*ue,Ne=Oe*Ee):ne?(ye=N+Oe*ue,be=-Oe*Ee):(ye=B-Oe*ue,be=Oe*Ee)}return{textX:ke,textY:Ae,targetX:pe,targetY:ye,anchorX:Ne,anchorY:be,scale:xe,rotate:he}}ie.exports={plot:function(P,L,N,B,W,j){var Z=L.xaxis,V=L.yaxis,q=P._fullLayout,G=P._context.staticPlot;W||(W={mode:q.barmode,norm:q.barmode,gap:q.bargap,groupgap:q.bargroupgap},o("bar",q));var H=f.makeTraceGroups(B,N,"trace bars").each(function(ne){var X=C.select(this),$=ne[0].trace,re="bar"===$.type||"funnel"===$.type,le=0;"waterfall"===$.type&&$.connector.visible&&"between"===$.connector.mode&&(le=$.connector.line.width/2);var ue="h"===$.orientation,he=h(W),ge=f.ensureSingle(X,"g","points"),xe=function m(P){if(P.ids)return w}($),ke=ge.selectAll("g.point").data(f.identity,xe);ke.enter().append("g").classed("point",!0),ke.exit().remove(),ke.each(function(pe,ye){var Ne,be,Te,Ce,We,Ke,Je,ht,ft,mt,Ee=C.select(this),Oe=(Ce=Z,We=V,ht=[],mt=(Ke=ue)?We:Ce,(Je=[])[0]=(ft=Ke?Ce:We).c2p((Te=pe).s0,!0),ht[0]=mt.c2p(Te.p0,!0),Je[1]=ft.c2p(Te.s1,!0),ht[1]=mt.c2p(Te.p1,!0),Ke?[Je,ht]:[ht,Je]),De=Oe[0][0],oe=Oe[0][1],de=Oe[1][0],_e=Oe[1][1],Me=0==(ue?oe-De:_e-de);if(Me&&re&&s.getLineWidth($,pe)&&(Me=!1),Me||(Me=!(E(De)&&E(oe)&&E(de)&&E(_e))),pe.isBlank=Me,Me&&(ue?oe=De:_e=de),le&&!Me&&(ue?(De-=b(De,oe)*le,oe+=b(De,oe)*le):(de-=b(de,_e)*le,_e+=b(de,_e)*le)),"waterfall"===$.type){if(!Me){var Pe=$[pe.dir].marker;Ne=Pe.line.width,be=Pe.color}}else Ne=s.getLineWidth($,pe),be=pe.mc||$.marker.color;function Ue(Te){var Ce=C.round(Ne/2%1,2);return 0===W.gap&&0===W.groupgap?C.round(Math.round(Te)-Ce,2):Te}if(!P._context.staticPlot){var Be=M.opacity(be)<1||Ne>.01?Ue:function(Te,Ce,We){return We&&Te===Ce?Te:Math.abs(Te-Ce)>=2?Ue(Te):Te>Ce?Math.ceil(Te):Math.floor(Te)};De=Be(De,oe,ue),oe=Be(oe,De,ue),de=Be(de,_e,!ue),_e=Be(_e,de,!ue)}var Ve=k(f.ensureSingle(Ee,"path"),q,W,j);if(Ve.style("vector-effect",G?"none":"non-scaling-stroke").attr("d",isNaN((oe-De)*(_e-de))||Me&&P._context.staticPlot?"M0,0Z":"M"+De+","+de+"V"+_e+"H"+oe+"V"+de+"Z").call(v.setClipUrl,L.layerClipId,P),!q.uniformtext.mode&&he){var ve=v.makePointStyleFns($);v.singlePointStyle(pe,Ve,$,ve,P)}(function(Te,Ce,We,Ke,Je,ht,ft,mt,At,Rt,It){var Pt,Bt=Ce.xaxis,Ut=Ce.yaxis,Vt=Te._fullLayout;function tn(ln,Tn,An){return f.ensureSingle(ln,"text").text(Tn).attr({class:"bartext bartext-"+Pt,"text-anchor":"middle","data-notex":1}).call(v.font,An).call(S.convertToTspans,Te)}var Tn,An,pn,Nn,tr,On,Gt=Ke[0].trace,et="h"===Gt.orientation,nt=(An=Je,pn=Bt,Nn=Ut,tr=(On=(Tn=Ke)[0].trace).texttemplate?function(wn,Cn,mn,En,Fn){var jn=Cn[0].trace,er=f.castOption(jn,mn,"texttemplate");if(!er)return"";var Zn,Gn,_r,mr,Vr="histogram"===jn.type,Dr="waterfall"===jn.type,Un="funnel"===jn.type,ur="h"===jn.orientation;function cr(fr){return i(mr,mr.c2l(fr),!0).text}ur?(Zn="y",Gn=Fn,_r="x",mr=En):(Zn="x",Gn=En,_r="y",mr=Fn);var xn=Cn[mn],Wn={};Wn.label=xn.p,Wn.labelLabel=Wn[Zn+"Label"]=i(Gn,Gn.c2l(xn.p),!0).text;var Bn=f.castOption(jn,xn.i,"text");(0===Bn||Bn)&&(Wn.text=Bn),Wn.value=xn.s,Wn.valueLabel=Wn[_r+"Label"]=cr(xn.s);var qn={};_(qn,jn,xn.i),(Vr||void 0===qn.x)&&(qn.x=ur?Wn.value:Wn.label),(Vr||void 0===qn.y)&&(qn.y=ur?Wn.label:Wn.value),(Vr||void 0===qn.xLabel)&&(qn.xLabel=ur?Wn.valueLabel:Wn.labelLabel),(Vr||void 0===qn.yLabel)&&(qn.yLabel=ur?Wn.labelLabel:Wn.valueLabel),Dr&&(Wn.delta=+xn.rawS||xn.s,Wn.deltaLabel=cr(Wn.delta),Wn.final=xn.v,Wn.finalLabel=cr(Wn.final),Wn.initial=Wn.final-Wn.delta,Wn.initialLabel=cr(Wn.initial)),Un&&(Wn.value=xn.s,Wn.valueLabel=cr(Wn.value),Wn.percentInitial=xn.begR,Wn.percentInitialLabel=f.formatPercent(xn.begR),Wn.percentPrevious=xn.difR,Wn.percentPreviousLabel=f.formatPercent(xn.difR),Wn.percentTotal=xn.sumR,Wn.percenTotalLabel=f.formatPercent(xn.sumR));var nr=f.castOption(jn,xn.i,"customdata");return nr&&(Wn.customdata=nr),f.texttemplateString(er,Wn,wn._d3locale,qn,Wn,jn._meta||{})}(Vt,Tn,An,pn,Nn):On.textinfo?function(wn,Cn,mn,En){var Fn=wn[0].trace,jn="h"===Fn.orientation,er="waterfall"===Fn.type,Zn="funnel"===Fn.type;function Gn(nr){return i(jn?mn:En,+nr,!0).text}var _r,Dr=wn[Cn],Un=Fn.textinfo.split("+"),ur=[],cr=function(nr){return-1!==Un.indexOf(nr)};if(cr("label")&&ur.push(i(jn?En:mn,wn[Cn].p,!0).text),cr("text")&&(0===(_r=f.castOption(Fn,Dr.i,"text"))||_r)&&ur.push(_r),er){var on=+Dr.rawS||Dr.s,xn=Dr.v,Wn=xn-on;cr("initial")&&ur.push(Gn(Wn)),cr("delta")&&ur.push(Gn(on)),cr("final")&&ur.push(Gn(xn))}if(Zn){cr("value")&&ur.push(Gn(Dr.s));var Bn=0;cr("percent initial")&&Bn++,cr("percent previous")&&Bn++,cr("percent total")&&Bn++;var qn=Bn>1;cr("percent initial")&&(_r=f.formatPercent(Dr.begR),qn&&(_r+=" of initial"),ur.push(_r)),cr("percent previous")&&(_r=f.formatPercent(Dr.difR),qn&&(_r+=" of previous"),ur.push(_r)),cr("percent total")&&(_r=f.formatPercent(Dr.sumR),qn&&(_r+=" of total"),ur.push(_r))}return ur.join("<br>")}(Tn,An,pn,Nn):s.getValue(On.text,An),s.coerceString(p,tr));Pt=function(ln,Tn){var An=s.getValue(ln.textposition,Tn);return s.coerceEnumerated(T,An)}(Gt,Je);var ot=Ke[Je],dt=!("stack"===Rt.mode||"relative"===Rt.mode)||ot._outmost;if(nt&&"none"!==Pt&&(!ot.isBlank&&ht!==ft&&mt!==At||"auto"!==Pt&&"inside"!==Pt)){var Le=Vt.font,Ge=l.getBarColor(Ke[Je],Gt),st=l.getInsideTextFont(Gt,Je,Le,Ge),vt=l.getOutsideTextFont(Gt,Je,Le),bt=We.datum();et?"log"===Bt.type&&bt.s0<=0&&(ht=Bt.range[0]<Bt.range[1]?0:Bt._length):"log"===Ut.type&&bt.s0<=0&&(mt=Ut.range[0]<Ut.range[1]?Ut._length:0);var Lt,jt,Nt,Tt,Mt,kt=Math.abs(ft-ht)-2*y,Ht=Math.abs(At-mt)-2*y;if("outside"===Pt&&(dt||ot.hasB||(Pt="inside")),"auto"===Pt&&(dt?(Pt="inside",Lt=tn(We,nt,Mt=f.ensureUniformFontSize(Te,st)),Nt=(jt=v.bBox(Lt.node())).width,Tt=jt.height,Nt>0&&Tt>0&&(Nt<=kt&&Tt<=Ht||Nt<=Ht&&Tt<=kt||(et?kt>=Nt*(Ht/Tt):Ht>=Tt*(kt/Nt)))?Pt="inside":(Pt="outside",Lt.remove(),Lt=null)):Pt="inside"),!Lt){var qt=(Lt=tn(We,nt,Mt=f.ensureUniformFontSize(Te,"outside"===Pt?vt:st))).attr("transform");if(Lt.attr("transform",""),Nt=(jt=v.bBox(Lt.node())).width,Tt=jt.height,Lt.attr("transform",qt),Nt<=0||Tt<=0)return void Lt.remove()}var Qt,Jt=Gt.textangle;Qt="outside"===Pt?function(ln,Tn,An,pn,Nn,tr){var On,wn=!!tr.isHorizontal,Cn=!!tr.constrained,mn=tr.angle||0,En=Nn.width,Fn=Nn.height,jn=Math.abs(Tn-ln),er=Math.abs(pn-An);On=wn?er>2*y?y:0:jn>2*y?y:0;var Zn=1;Cn&&(Zn=wn?Math.min(1,er/Fn):Math.min(1,jn/En));var Gn=O(mn),_r=A(Nn,Gn),mr=(wn?_r.x:_r.y)/2,Vr=(Nn.left+Nn.right)/2,Dr=(Nn.top+Nn.bottom)/2,Un=(ln+Tn)/2,ur=(An+pn)/2,cr=0,on=0,xn=wn?b(Tn,ln):b(An,pn);return wn?(Un=Tn-xn*On,cr=xn*mr):(ur=pn+xn*On,on=-xn*mr),{textX:Vr,textY:Dr,targetX:Un,targetY:ur,anchorX:cr,anchorY:on,scale:Zn,rotate:Gn}}(ht,ft,mt,At,jt,{isHorizontal:et,constrained:"both"===Gt.constraintext||"outside"===Gt.constraintext,angle:Jt}):I(ht,ft,mt,At,jt,{isHorizontal:et,constrained:"both"===Gt.constraintext||"inside"===Gt.constraintext,angle:Jt,anchor:Gt.insidetextanchor}),Qt.fontSize=Mt.size,a("histogram"===Gt.type?"bar":Gt.type,Qt,Vt),ot.transform=Qt;var Kt=k(Lt,Vt,Rt,It);f.setTransormAndDisplay(Kt,Qt)}else We.select("text").remove()})(P,L,Ee,ne,ye,De,oe,de,_e,W,j),L.layerClipId&&v.hideOutsideRangePoint(pe,Ee.select("text"),Z,V,$.xcalendar,$.ycalendar)}),v.setClipUrl(X,!1===$.cliponaxis?null:L.layerClipId,P)});c.getComponentMethod("errorbars","plot")(P,H,L,W)},toMoveInsideBar:I}},81974:function(ie){"use strict";function z(r,C,E,f,S){var M=C.c2p(f?r.s0:r.p0,!0),v=C.c2p(f?r.s1:r.p1,!0),c=E.c2p(f?r.p0:r.s0,!0),i=E.c2p(f?r.p1:r.s1,!0);return S?[(M+v)/2,(c+i)/2]:f?[v,(c+i)/2]:[(M+v)/2,i]}ie.exports=function(r,C){var E,f=r.cd,S=r.xaxis,M=r.yaxis,v=f[0].trace,c="funnel"===v.type,i="h"===v.orientation,u=[];if(!1===C)for(E=0;E<f.length;E++)f[E].selected=0;else for(E=0;E<f.length;E++){var a=f[E],o="ct"in a?a.ct:z(a,S,M,i,c);C.contains(o,!1,E,r)?(u.push({pointNumber:E,x:S.c2d(a.x),y:M.c2d(a.y)}),a.selected=1):a.selected=0}return u}},61546:function(ie,z,r){"use strict";ie.exports=E;var C=r(71828).distinctVals;function E(f,S){this.traces=f,this.sepNegVal=S.sepNegVal,this.overlapNoMerge=S.overlapNoMerge;for(var M=1/0,v=S.posAxis._id.charAt(0),c=[],i=0;i<f.length;i++){for(var u=f[i],a=0;a<u.length;a++){var o=u[a],l=o.p;void 0===l&&(l=o[v]),void 0!==l&&c.push(l)}u[0]&&u[0].width1&&(M=Math.min(u[0].width1,M))}this.positions=c;var s=C(c);this.distinctPositions=s.vals,this.minDiff=1===s.vals.length&&M!==1/0?M:Math.min(s.minDiff,M);var d=(S.posAxis||{}).type;"category"!==d&&"multicategory"!==d||(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}E.prototype.put=function(f,S){var M=this.getLabel(f,S),v=this.bins[M]||0;return this.bins[M]=v+S,v},E.prototype.get=function(f,S){var M=this.getLabel(f,S);return this.bins[M]||0},E.prototype.getLabel=function(f,S){return(S<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?f:Math.round(f/this.binWidth))}},16688:function(ie,z,r){"use strict";var C=r(39898),E=r(7901),f=r(91424),S=r(71828),M=r(73972),v=r(72597).resizeText,c=r(1486),i=c.textfont,u=c.insidetextfont,a=c.outsidetextfont,o=r(69383);function l(w,m,b){f.pointStyle(w.selectAll("path"),m,b),s(w,m,b)}function s(w,m,b){w.selectAll("text").each(function(k){var h=C.select(this),O=S.ensureUniformFontSize(b,d(h,k,m,b));f.font(h,O)})}function d(w,m,b,k){var h=k._fullLayout.font,O=b.textfont;if(w.classed("bartext-inside")){var A=y(m,b);O=p(b,m.i,h,A)}else w.classed("bartext-outside")&&(O=T(b,m.i,h));return O}function g(w,m,b){return _(i,w.textfont,m,b)}function p(w,m,b,k){var h=g(w,m,b);return(void 0===w._input.textfont||void 0===w._input.textfont.color||Array.isArray(w.textfont.color)&&void 0===w.textfont.color[m])&&(h={color:E.contrast(k),family:h.family,size:h.size}),_(u,w.insidetextfont,m,h)}function T(w,m,b){var k=g(w,m,b);return _(a,w.outsidetextfont,m,k)}function _(w,m,b,k){var h=o.getValue((m=m||{}).family,b),O=o.getValue(m.size,b),A=o.getValue(m.color,b);return{family:o.coerceString(w.family,h,k.family),size:o.coerceNumber(w.size,O,k.size),color:o.coerceColor(w.color,A,k.color)}}function y(w,m){return"waterfall"===m.type?m[w.dir].marker.color:w.mcc||w.mc||m.marker.color}ie.exports={style:function(w){var m=C.select(w).selectAll("g.barlayer").selectAll("g.trace");v(w,m,"bar");var b=m.size(),k=w._fullLayout;m.style("opacity",function(h){return h[0].trace.opacity}).each(function(h){("stack"===k.barmode&&b>1||0===k.bargap&&0===k.bargroupgap&&!h[0].trace.marker.line.width)&&C.select(this).attr("shape-rendering","crispEdges")}),m.selectAll("g.points").each(function(h){l(C.select(this),h[0].trace,w)}),M.getComponentMethod("errorbars","style")(m)},styleTextPoints:s,styleOnSelect:function(w,m,b){var h,O,A,I,P,L,k=m[0].trace;k.selectedpoints?(O=k,A=w,f.selectedPointStyle((h=b).selectAll("path"),O),I=h.selectAll("text"),P=O,L=A,I.each(function(N){var B,W=C.select(this);if(N.selected){B=S.ensureUniformFontSize(L,d(W,N,P,L));var j=P.selected.textfont&&P.selected.textfont.color;j&&(B.color=j),f.font(W,B)}else f.selectedTextStyle(W,P)})):(l(b,k,w),M.getComponentMethod("errorbars","style")(b))},getInsideTextFont:p,getOutsideTextFont:T,getBarColor:y,resizeText:v}},98340:function(ie,z,r){"use strict";var C=r(7901),E=r(52075).hasColorscale,f=r(1586),S=r(71828).coercePattern;ie.exports=function(M,v,c,i,u){var a=c("marker.color",i),o=E(M,"marker");o&&f(M,v,u,c,{prefix:"marker.",cLetter:"c"}),c("marker.line.color",C.defaultLine),E(M,"marker.line")&&f(M,v,u,c,{prefix:"marker.line.",cLetter:"c"}),c("marker.line.width"),c("marker.opacity"),S(c,"marker.pattern",a,o),c("selected.marker.color"),c("unselected.marker.color")}},72597:function(ie,z,r){"use strict";var C=r(39898),E=r(71828);function f(S){return"_"+S+"Text_minsize"}ie.exports={recordMinTextSize:function(S,M,v){if(v.uniformtext.mode){var c=f(S),i=v.uniformtext.minsize,u=M.scale*M.fontSize;M.hide=u<i,v[c]=v[c]||1/0,M.hide||(v[c]=Math.min(v[c],Math.max(u,i)))}},clearMinTextSize:function(S,M){M[f(S)]=void 0},resizeText:function(S,M,v){var c=S._fullLayout,i=c["_"+v+"Text_minsize"];if(i){var u,a="hide"===c.uniformtext.mode;switch(v){case"funnelarea":case"pie":case"sunburst":u="g.slice";break;case"treemap":case"icicle":u="g.slice, g.pathbar";break;default:u="g.points > g.point"}M.selectAll(u).each(function(o){var l=o.transform;if(l){l.scale=a&&l.hide?0:i/l.fontSize;var s=C.select(this).select("text");E.setTransormAndDisplay(s,l)}})}}}},55023:function(ie,z,r){"use strict";var C=r(5386).f,E=r(1426).extendFlat,f=r(81245),S=r(1486);ie.exports={r:f.r,theta:f.theta,r0:f.r0,dr:f.dr,theta0:f.theta0,dtheta:f.dtheta,thetaunit:f.thetaunit,base:E({},S.base,{}),offset:E({},S.offset,{}),width:E({},S.width,{}),text:E({},S.text,{}),hovertext:E({},S.hovertext,{}),marker:S.marker,hoverinfo:f.hoverinfo,hovertemplate:C(),selected:S.selected,unselected:S.unselected}},74692:function(ie,z,r){"use strict";var C=r(52075).hasColorscale,E=r(78803),f=r(75341),S=r(11661).setGroupPositions,M=r(66279),v=r(73972).traceIs,c=r(71828).extendFlat;ie.exports={calc:function(i,u){for(var a=i._fullLayout,o=u.subplot,s=a[o].angularaxis,d=a[o].radialaxis.makeCalcdata(u,"r"),g=s.makeCalcdata(u,"theta"),p=u._length,T=new Array(p),_=d,y=g,w=0;w<p;w++)T[w]={p:y[w],s:_[w]};function m(b){var k=u[b];void 0!==k&&(u["_"+b]=Array.isArray(k)?s.makeCalcdata(u,b):s.d2c(k,u.thetaunit))}return"linear"===s.type&&(m("width"),m("offset")),C(u,"marker")&&E(i,u,{vals:u.marker.color,containerStr:"marker",cLetter:"c"}),C(u,"marker.line")&&E(i,u,{vals:u.marker.line.color,containerStr:"marker.line",cLetter:"c"}),f(T,u),M(T,u),T},crossTraceCalc:function(i,u,a){for(var o=i.calcdata,l=[],s=0;s<o.length;s++){var d=o[s],g=d[0].trace;!0===g.visible&&v(g,"bar")&&g.subplot===a&&l.push(d)}var p=c({},u.radialaxis,{_id:"x"});S(i,u.angularaxis,p,l,{mode:u.barmode,norm:u.barnorm,gap:u.bargap,groupgap:u.bargroupgap})}}},6135:function(ie,z,r){"use strict";var C=r(71828),E=r(22184).handleRThetaDefaults,f=r(98340),S=r(55023);ie.exports=function(M,v,c,i){function u(a,o){return C.coerce(M,v,S,a,o)}E(M,v,i,u)?(u("thetaunit"),u("base"),u("offset"),u("width"),u("text"),u("hovertext"),u("hovertemplate"),f(M,v,u,c,i),C.coerceSelectionMarkerOpacity(v,u)):v.visible=!1}},27379:function(ie,z,r){"use strict";var C=r(30211),E=r(71828),f=r(95423).getTraceColor,S=E.fillText,M=r(59150).makeHoverPointText,v=r(10869).isPtInsidePolygon;ie.exports=function(c,i,u){var a=c.cd,o=a[0].trace,l=c.subplot,s=l.radialAxis,g=l.vangles,p=g?v:E.isPtInsideSector,T=c.maxHoverDistance,_=l.angularAxis._period||2*Math.PI,y=Math.abs(s.g2p(Math.sqrt(i*i+u*u))),w=Math.atan2(u,i);if(s.range[0]>s.range[1]&&(w+=Math.PI),C.getClosest(a,function(k){return p(y,w,[k.rp0,k.rp1],[k.thetag0,k.thetag1],g)?T+Math.min(1,Math.abs(k.thetag1-k.thetag0)/_)-1+(k.rp1-y)/(k.rp1-k.rp0)-1:1/0},c),!1!==c.index){var m=a[c.index];c.x0=c.x1=m.ct[0],c.y0=c.y1=m.ct[1];var b=E.extendFlat({},m,{r:m.s,theta:m.p});return S(m,o,c),M(b,o,l,c),c.hovertemplate=o.hovertemplate,c.color=f(o,m),c.xLabelVal=c.yLabelVal=void 0,m.s<0&&(c.idealAlign="left"),[c]}}},23381:function(ie,z,r){"use strict";ie.exports={moduleType:"trace",name:"barpolar",basePlotModule:r(23580),categories:["polar","bar","showLegend"],attributes:r(55023),layoutAttributes:r(40151),supplyDefaults:r(6135),supplyLayoutDefaults:r(19860),calc:r(74692).calc,crossTraceCalc:r(74692).crossTraceCalc,plot:r(60173),colorbar:r(4898),formatLabels:r(98608),style:r(16688).style,styleOnSelect:r(16688).styleOnSelect,hoverPoints:r(27379),selectPoints:r(81974),meta:{}}},40151:function(ie){"use strict";ie.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},19860:function(ie,z,r){"use strict";var C=r(71828),E=r(40151);ie.exports=function(f,S,M){var v,c={};function i(o,l){return C.coerce(f[v]||{},S[v],E,o,l)}for(var u=0;u<M.length;u++){var a=M[u];"barpolar"===a.type&&!0===a.visible&&(c[v=a.subplot]||(i("barmode"),i("bargap"),c[v]=1))}}},60173:function(ie,z,r){"use strict";var C=r(39898),E=r(92770),f=r(71828),S=r(91424),M=r(10869);ie.exports=function(v,c,i){var p,T,_,u=v._context.staticPlot,a=c.xaxis,o=c.yaxis,l=c.radialAxis,s=c.angularAxis,d=(T=(p=c).cxx,_=p.cyy,p.vangles?function(y,w,m,b){var k,h;f.angleDelta(m,b)>0?(k=m,h=b):(k=b,h=m);var O=[M.findEnclosingVertexAngles(k,p.vangles)[0],(k+h)/2,M.findEnclosingVertexAngles(h,p.vangles)[1]];return M.pathPolygonAnnulus(y,w,k,h,O,T,_)}:function(y,w,m,b){return f.pathAnnulus(y,w,m,b,T,_)}),g=c.layers.frontplot.select("g.barlayer");f.makeTraceGroups(g,i,"trace bars").each(function(){var p=C.select(this),T=f.ensureSingle(p,"g","points").selectAll("g.point").data(f.identity);T.enter().append("g").style("vector-effect",u?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),T.exit().remove(),T.each(function(_){var y,w=C.select(this),m=_.rp0=l.c2p(_.s0),b=_.rp1=l.c2p(_.s1),k=_.thetag0=s.c2g(_.p0),h=_.thetag1=s.c2g(_.p1);if(E(m)&&E(b)&&E(k)&&E(h)&&m!==b&&k!==h){var O=l.c2g(_.s1),A=(k+h)/2;_.ct=[a.c2p(O*Math.cos(A)),o.c2p(O*Math.sin(A))],y=d(m,b,k,h)}else y="M0,0Z";f.ensureSingle(w,"path").attr("d",y)}),S.setClipUrl(p,c._hasClipOnAxisFalse?c.clipIds.forTraces:null,v)})}},53522:function(ie,z,r){"use strict";var C=r(82196),E=r(1486),f=r(22399),S=r(12663).axisHoverFormat,M=r(5386).f,v=r(1426).extendFlat,c=C.marker,i=c.line;ie.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:C.xperiod,yperiod:C.yperiod,xperiod0:C.xperiod0,yperiod0:C.yperiod0,xperiodalignment:C.xperiodalignment,yperiodalignment:C.yperiodalignment,xhoverformat:S("x"),yhoverformat:S("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:v({},c.symbol,{arrayOk:!1,editType:"plot"}),opacity:v({},c.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:v({},c.angle,{arrayOk:!1,editType:"calc"}),size:v({},c.size,{arrayOk:!1,editType:"calc"}),color:v({},c.color,{arrayOk:!1,editType:"style"}),line:{color:v({},i.color,{arrayOk:!1,dflt:f.defaultLine,editType:"style"}),width:v({},i.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:C.fillcolor,whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},offsetgroup:E.offsetgroup,alignmentgroup:E.alignmentgroup,selected:{marker:C.selected.marker,editType:"style"},unselected:{marker:C.unselected.marker,editType:"style"},text:v({},C.text,{}),hovertext:v({},C.hovertext,{}),hovertemplate:M({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"}}},48518:function(ie,z,r){"use strict";var C=r(92770),E=r(89298),f=r(42973),S=r(71828),M=r(50606).BADNUM,v=S._;ie.exports=function(p,T){var _,y,w,m,b,k,h,O=p._fullLayout,A=E.getFromId(p,T.xaxis||"x"),I=E.getFromId(p,T.yaxis||"y"),P=[],L="violin"===T.type?"_numViolins":"_numBoxes";"h"===T.orientation?(w=A,m="x",b=I,k="y",h=!!T.yperiodalignment):(w=I,m="y",b=A,k="x",h=!!T.xperiodalignment);var N,B,W,j,Z,V,q=function(Ce,We,Ke,Je){var ht,ft=We+"0"in Ce;if(We in Ce||ft&&"d"+We in Ce){var mt=Ke.makeCalcdata(Ce,We);return[f(Ce,Ke,We,mt).vals,mt]}ht=ft?Ce[We+"0"]:"name"in Ce&&("category"===Ke.type||C(Ce.name)&&-1!==["linear","log"].indexOf(Ke.type)||S.isDateTime(Ce.name)&&"date"===Ke.type)?Ce.name:Je;for(var At="multicategory"===Ke.type?Ke.r2c_just_indices(ht):Ke.d2c(ht,0,Ce[We+"calendar"]),Rt=Ce._length,It=new Array(Rt),Pt=0;Pt<Rt;Pt++)It[Pt]=At;return[It]}(T,k,b,O[L]),G=q[0],H=q[1],ne=S.distinctVals(G,b),X=ne.vals,$=ne.minDiff/2,Q="all"===(T.boxpoints||T.points)?S.identity:function(Ce){return Ce.v<N.lf||Ce.v>N.uf};if(T._hasPreCompStats){var te=T[m],re=function(Ce){return w.d2c((T[Ce]||[])[_])},le=1/0,ue=-1/0;for(_=0;_<T._length;_++){var he=G[_];if(C(he)){if((N={}).pos=N[k]=he,h&&H&&(N.orig_p=H[_]),N.q1=re("q1"),N.med=re("median"),N.q3=re("q3"),B=[],te&&S.isArrayOrTypedArray(te[_]))for(y=0;y<te[_].length;y++)(V=w.d2c(te[_][y]))!==M&&(i(Z={v:V,i:[_,y]},T,[_,y]),B.push(Z));if(N.pts=B.sort(u),j=(W=N[m]=B.map(a)).length,N.med!==M&&N.q1!==M&&N.q3!==M&&N.med>=N.q1&&N.q3>=N.med){var ge=re("lowerfence");N.lf=ge!==M&&ge<=N.q1?ge:o(N,W,j);var xe=re("upperfence");N.uf=xe!==M&&xe>=N.q3?xe:l(N,W,j);var ke=re("mean");N.mean=ke!==M?ke:j?S.mean(W,j):(N.q1+N.q3)/2;var Ae=re("sd");N.sd=ke!==M&&Ae>=0?Ae:j?S.stdev(W,j,N.mean):N.q3-N.q1,N.lo=s(N),N.uo=d(N);var pe=re("notchspan");pe=pe!==M&&pe>0?pe:g(N,j),N.ln=N.med-pe,N.un=N.med+pe;var ye=N.lf,Ne=N.uf;T.boxpoints&&W.length&&(ye=Math.min(ye,W[0]),Ne=Math.max(Ne,W[j-1])),T.notched&&(ye=Math.min(ye,N.ln),Ne=Math.max(Ne,N.un)),N.min=ye,N.max=Ne}else{var be;S.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+N.q1,"median = "+N.med,"q3 = "+N.q3].join("\n")),N.med=be=N.med!==M?N.med:N.q1!==M?N.q3!==M?(N.q1+N.q3)/2:N.q1:N.q3!==M?N.q3:0,N.q1=N.q3=be,N.lf=N.uf=be,N.mean=N.sd=be,N.ln=N.un=be,N.min=N.max=be}le=Math.min(le,N.min),ue=Math.max(ue,N.max),N.pts2=B.filter(Q),P.push(N)}}T._extremes[w._id]=E.findExtremes(w,[le,ue],{padded:!0})}else{var Ee=w.makeCalcdata(T,m),Oe=function(Ce,We){for(var Ke=Ce.length,Je=new Array(Ke+1),ht=0;ht<Ke;ht++)Je[ht]=Ce[ht]-We;return Je[Ke]=Ce[Ke-1]+We,Je}(X,$),De=X.length,oe=function(Ce){for(var We=new Array(Ce),Ke=0;Ke<Ce;Ke++)We[Ke]=[];return We}(De);for(_=0;_<T._length;_++)if(C(V=Ee[_])){var de=S.findBin(G[_],Oe);de>=0&&de<De&&(i(Z={v:V,i:_},T,_),oe[de].push(Z))}var _e=1/0,Me=-1/0,Pe=T.quartilemethod,Ue="exclusive"===Pe,Be="inclusive"===Pe;for(_=0;_<De;_++)if(oe[_].length>0){var Ve,ve;(N={}).pos=N[k]=X[_],B=N.pts=oe[_].sort(u),j=(W=N[m]=B.map(a)).length,N.min=W[0],N.max=W[j-1],N.mean=S.mean(W,j),N.sd=S.stdev(W,j,N.mean),N.med=S.interp(W,.5),j%2&&(Ue||Be)?(Ue?(Ve=W.slice(0,j/2),ve=W.slice(j/2+1)):Be&&(Ve=W.slice(0,j/2+1),ve=W.slice(j/2)),N.q1=S.interp(Ve,.5),N.q3=S.interp(ve,.5)):(N.q1=S.interp(W,.25),N.q3=S.interp(W,.75)),N.lf=o(N,W,j),N.uf=l(N,W,j),N.lo=s(N),N.uo=d(N);var Te=g(N,j);N.ln=N.med-Te,N.un=N.med+Te,_e=Math.min(_e,N.ln),Me=Math.max(Me,N.un),N.pts2=B.filter(Q),P.push(N)}T._extremes[w._id]=E.findExtremes(w,T.notched?Ee.concat([_e,Me]):Ee,{padded:!0})}return function(Ce,We){if(S.isArrayOrTypedArray(We.selectedpoints))for(var Ke=0;Ke<Ce.length;Ke++){for(var Je=Ce[Ke].pts||[],ht={},ft=0;ft<Je.length;ft++)ht[Je[ft].i]=ft;S.tagSelected(Je,We,ht)}}(P,T),P.length>0?(P[0].t={num:O[L],dPos:$,posLetter:k,valLetter:m,labels:{med:v(p,"median:"),min:v(p,"min:"),q1:v(p,"q1:"),q3:v(p,"q3:"),max:v(p,"max:"),mean:v(p,"sd"===T.boxmean?"mean \xb1 \u03c3:":"mean:"),lf:v(p,"lower fence:"),uf:v(p,"upper fence:")}},O[L]++,P):[{t:{empty:!0}}]};var c={text:"tx",hovertext:"htx"};function i(p,T,_){for(var y in c)S.isArrayOrTypedArray(T[y])&&(Array.isArray(_)?S.isArrayOrTypedArray(T[y][_[0]])&&(p[c[y]]=T[y][_[0]][_[1]]):p[c[y]]=T[y][_])}function u(p,T){return p.v-T.v}function a(p){return p.v}function o(p,T,_){return 0===_?p.q1:Math.min(p.q1,T[Math.min(S.findBin(2.5*p.q1-1.5*p.q3,T,!0)+1,_-1)])}function l(p,T,_){return 0===_?p.q3:Math.max(p.q3,T[Math.max(S.findBin(2.5*p.q3-1.5*p.q1,T),0)])}function s(p){return 4*p.q1-3*p.q3}function d(p){return 4*p.q3-3*p.q1}function g(p,T){return 0===T?0:1.57*(p.q3-p.q1)/Math.sqrt(T)}},37188:function(ie,z,r){"use strict";var C=r(89298),E=r(71828),f=r(99082).getAxisGroup,S=["v","h"];function M(v,c,i,u){var a,o,l,s=c.calcdata,d=c._fullLayout,g=u._id,p=g.charAt(0),T=[],_=0;for(a=0;a<i.length;a++)for(l=s[i[a]],o=0;o<l.length;o++)T.push(u.c2l(l[o].pos,!0)),_+=(l[o].pts2||[]).length;if(T.length){var y=E.distinctVals(T);"category"!==u.type&&"multicategory"!==u.type||(y.minDiff=1);var w=y.minDiff/2;C.minDtick(u,y.minDiff,y.vals[0],!0);var m=d["violin"===v?"_numViolins":"_numBoxes"],b="group"===d[v+"mode"]&&m>1,k=1-d[v+"gap"],h=1-d[v+"groupgap"];for(a=0;a<i.length;a++){var O,A,I,P,L,N,B=(l=s[i[a]])[0].trace,W=l[0].t,j=B.width,Z=B.side;if(j)O=A=P=j/2,I=0;else if(O=w,b){var V=f(d,u._id)+B.orientation,G=Object.keys(((d._alignmentOpts[V]||{})[B.alignmentgroup]||{}).offsetGroups||{}).length,H=G||m;A=O*k*h/H,I=2*O*(((G?B._offsetIndex:W.num)+.5)/H-.5)*k,P=O*k/H}else A=O*k*h,I=0,P=O;W.dPos=O,W.bPos=I,W.bdPos=A,W.wHover=P;var ne,X,$,Q,te,re,le=I+A,ue=Boolean(j);if("positive"===Z?(L=O*(j?1:.5),ne=le,N=ne=I):"negative"===Z?(L=ne=I,N=O*(j?1:.5),X=le):(L=N=O,ne=X=le),(B.boxpoints||B.points)&&_>0){var he=B.pointpos,ge=B.jitter,xe=B.marker.size/2,ke=0;he+ge>=0&&((ke=le*(he+ge))>L?(ue=!0,te=xe,$=ke):ke>ne&&(te=xe,$=L)),ke<=L&&($=L);var Ae=0;he-ge<=0&&((Ae=-le*(he-ge))>N?(ue=!0,re=xe,Q=Ae):Ae>X&&(re=xe,Q=N)),Ae<=N&&(Q=N)}else $=L,Q=N;var pe=new Array(l.length);for(o=0;o<l.length;o++)pe[o]=l[o].pos;B._extremes[g]=C.findExtremes(u,pe,{padded:ue,vpadminus:Q,vpadplus:$,vpadLinearized:!0,ppadminus:{x:re,y:te}[p],ppadplus:{x:te,y:re}[p]})}}}ie.exports={crossTraceCalc:function(v,c){for(var i=v.calcdata,u=c.xaxis,a=c.yaxis,o=0;o<S.length;o++){for(var l=S[o],s="h"===l?a:u,d=[],g=0;g<i.length;g++){var p=i[g],_=p[0].trace;!0!==_.visible||"box"!==_.type&&"candlestick"!==_.type||p[0].t.empty||(_.orientation||"v")!==l||_.xaxis!==u._id||_.yaxis!==a._id||d.push(g)}M("box",v,d,s)}},setPositionOffset:M}},36411:function(ie,z,r){"use strict";var C=r(71828),E=r(73972),f=r(7901),S=r(73927),M=r(26125),v=r(4322),c=r(53522);function i(a,o,l,s){function d(Z){var V=0;return Z&&Z.length&&(V+=1,C.isArrayOrTypedArray(Z[0])&&Z[0].length&&(V+=1)),V}function g(Z){return C.validate(a[Z],c[Z])}var p,T=l("y"),_=l("x");if("box"===o.type){var y=l("q1"),w=l("median"),m=l("q3");o._hasPreCompStats=y&&y.length&&w&&w.length&&m&&m.length,p=Math.min(C.minRowLength(y),C.minRowLength(w),C.minRowLength(m))}var b,k,h=d(T),O=d(_),A=h&&C.minRowLength(T),I=O&&C.minRowLength(_),P=s.calendar,L={autotypenumbers:s.autotypenumbers};if(o._hasPreCompStats)switch(String(O)+String(h)){case"00":var N=g("x0")||g("dx");b=!g("y0")&&!g("dy")||N?"v":"h",k=p;break;case"10":b="v",k=Math.min(p,I);break;case"20":b="h",k=Math.min(p,_.length);break;case"01":b="h",k=Math.min(p,A);break;case"02":b="v",k=Math.min(p,T.length);break;case"12":b="v",k=Math.min(p,I,T.length);break;case"21":b="h",k=Math.min(p,_.length,A);break;case"11":k=0;break;case"22":var B,W=!1;for(B=0;B<_.length;B++)if("category"===v(_[B],P,L)){W=!0;break}if(W)b="v",k=Math.min(p,I,T.length);else{for(B=0;B<T.length;B++)if("category"===v(T[B],P,L)){W=!0;break}W?(b="h",k=Math.min(p,_.length,A)):(b="v",k=Math.min(p,I,T.length))}}else h>0?(b="v",k=O>0?Math.min(I,A):Math.min(A)):O>0?(b="h",k=Math.min(I)):k=0;if(k){o._length=k;var j=l("orientation",b);o._hasPreCompStats?"v"===j&&0===O?(l("x0",0),l("dx",1)):"h"===j&&0===h&&(l("y0",0),l("dy",1)):"v"===j&&0===O?l("x0"):"h"===j&&0===h&&l("y0"),E.getComponentMethod("calendars","handleTraceDefaults")(a,o,["x","y"],s)}else o.visible=!1}function u(a,o,l,s){var d=s.prefix,g=C.coerce2(a,o,c,"marker.outliercolor"),p=l("marker.line.outliercolor"),T="outliers";o._hasPreCompStats?T="all":(g||p)&&(T="suspectedoutliers");var _=l(d+"points",T);_?(l("jitter","all"===_?.3:0),l("pointpos","all"===_?-1.5:0),l("marker.symbol"),l("marker.opacity"),l("marker.size"),l("marker.angle"),l("marker.color",o.line.color),l("marker.line.color"),l("marker.line.width"),"suspectedoutliers"===_&&(l("marker.line.outliercolor",o.marker.color),l("marker.line.outlierwidth")),l("selected.marker.color"),l("unselected.marker.color"),l("selected.marker.size"),l("unselected.marker.size"),l("text"),l("hovertext")):delete o.marker;var y=l("hoveron");"all"!==y&&-1===y.indexOf("points")||l("hovertemplate"),C.coerceSelectionMarkerOpacity(o,l)}ie.exports={supplyDefaults:function(a,o,l,s){function d(m,b){return C.coerce(a,o,c,m,b)}if(i(a,o,d,s),!1!==o.visible){S(a,o,s,d),d("xhoverformat"),d("yhoverformat");var g=o._hasPreCompStats;g&&(d("lowerfence"),d("upperfence")),d("line.color",(a.marker||{}).color||l),d("line.width"),d("fillcolor",f.addOpacity(o.line.color,.5));var p=!1;if(g){var T=d("mean"),_=d("sd");T&&T.length&&(p=!0,_&&_.length&&(p="sd"))}d("boxmean",p),d("whiskerwidth"),d("width"),d("quartilemethod");var y=!1;if(g){var w=d("notchspan");w&&w.length&&(y=!0)}else C.validate(a.notchwidth,c.notchwidth)&&(y=!0);d("notched",y)&&d("notchwidth"),u(a,o,d,{prefix:"box"})}},crossTraceDefaults:function(a,o){var s;function d(T){return C.coerce(s._input,s,c,T)}for(var g=0;g<a.length;g++){var p=(s=a[g]).type;"box"!==p&&"violin"!==p||"group"===o[p+"mode"]&&M(s._input,s,o,d)}},handleSampleDefaults:i,handlePointsDefaults:u}},74907:function(ie){"use strict";ie.exports=function(z,r){return r.hoverOnBox&&(z.hoverOnBox=r.hoverOnBox),"xVal"in r&&(z.x=r.xVal),"yVal"in r&&(z.y=r.yVal),r.xa&&(z.xaxis=r.xa),r.ya&&(z.yaxis=r.ya),z}},41868:function(ie,z,r){"use strict";var C=r(89298),E=r(71828),f=r(30211),S=r(7901),M=E.fillText;function v(i,u,a,o){var l,s,d,g,p,T,_,y,w,m,b,k,h,O,A=i.cd,I=i.xa,P=i.ya,L=A[0].trace,N=A[0].t,B="violin"===L.type,W=N.bdPos,j=N.wHover,Z=function(be){return d.c2l(be.pos)+N.bPos-d.c2l(T)};B&&"both"!==L.side?("positive"===L.side&&(w=function(be){var Ee=Z(be);return f.inbox(Ee,Ee+j,m)},k=W,h=0),"negative"===L.side&&(w=function(be){var Ee=Z(be);return f.inbox(Ee-j,Ee,m)},k=0,h=W)):(w=function(be){var Ee=Z(be);return f.inbox(Ee-j,Ee+j,m)},k=h=W),O=B?function(be){return f.inbox(be.span[0]-p,be.span[1]-p,m)}:function(be){return f.inbox(be.min-p,be.max-p,m)},"h"===L.orientation?(p=u,T=a,_=O,y=w,l="y",d=P,s="x",g=I):(p=a,T=u,_=w,y=O,l="x",d=I,s="y",g=P);var V=Math.min(1,W/Math.abs(d.r2c(d.range[1])-d.r2c(d.range[0])));function q(be){return(_(be)+y(be))/2}m=i.maxHoverDistance-V,b=i.maxSpikeDistance-V;var G=f.getDistanceFunction(o,_,y,q);if(f.getClosest(A,G,i),!1===i.index)return[];var H=A[i.index],ne=L.line.color,X=(L.marker||{}).color;i.color=S.opacity(ne)&&L.line.width?ne:S.opacity(X)&&L.boxpoints?X:L.fillcolor,i[l+"0"]=d.c2p(H.pos+N.bPos-h,!0),i[l+"1"]=d.c2p(H.pos+N.bPos+k,!0),i[l+"LabelVal"]=void 0!==H.orig_p?H.orig_p:H.pos;var $=l+"Spike";i.spikeDistance=q(H)*b/m,i[$]=d.c2p(H.pos,!0);var Q=L.boxmean||(L.meanline||{}).visible,te=L.boxpoints||L.points,re=te&&Q?["max","uf","q3","med","mean","q1","lf","min"]:te&&!Q?["max","uf","q3","med","q1","lf","min"]:!te&&Q?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"];L.orientation===(g.range[1]<g.range[0]?"v":"h")&&re.reverse();for(var ue=i.spikeDistance,he=i[$],ge=[],xe=0;xe<re.length;xe++){var ke=re[xe];if(ke in H){var Ae=H[ke],pe=g.c2p(Ae,!0),ye=E.extendFlat({},i);ye.attr=ke,ye[s+"0"]=ye[s+"1"]=pe,ye[s+"LabelVal"]=Ae,ye[s+"Label"]=(N.labels?N.labels[ke]+" ":"")+C.hoverLabelText(g,Ae,L[s+"hoverformat"]),ye.hoverOnBox=!0,"mean"===ke&&"sd"in H&&"sd"===L.boxmean&&(ye[s+"err"]=H.sd),ye.hovertemplate=!1,ge.push(ye)}}i.name="",i.spikeDistance=void 0,i[$]=void 0;for(var Ne=0;Ne<ge.length;Ne++)"med"!==ge[Ne].attr?(ge[Ne].name="",ge[Ne].spikeDistance=void 0,ge[Ne][$]=void 0):(ge[Ne].spikeDistance=ue,ge[Ne][$]=he);return ge}function c(i,u,a){for(var o,l,s,d=i.cd,g=i.xa,p=i.ya,T=d[0].trace,_=g.c2p(u),y=p.c2p(a),w=f.quadrature(function(B){var W=Math.max(3,B.mrc||0);return Math.max(Math.abs(g.c2p(B.x)-_)-W,1-3/W)},function(B){var W=Math.max(3,B.mrc||0);return Math.max(Math.abs(p.c2p(B.y)-y)-W,1-3/W)}),m=!1,b=0;b<d.length;b++){l=d[b];for(var k=0;k<(l.pts||[]).length;k++){var h=w(s=l.pts[k]);h<=i.distance&&(i.distance=h,m=[b,k])}}if(!m)return!1;s=(l=d[m[0]]).pts[m[1]];var O=g.c2p(s.x,!0),A=p.c2p(s.y,!0),I=s.mrc||1;o=E.extendFlat({},i,{index:s.i,color:(T.marker||{}).color,name:T.name,x0:O-I,x1:O+I,y0:A-I,y1:A+I,spikeDistance:i.distance,hovertemplate:T.hovertemplate});var P,L=l.orig_p,N=void 0!==L?L:l.pos;return"h"===T.orientation?(P=p,o.xLabelVal=s.x,o.yLabelVal=N):(P=g,o.xLabelVal=N,o.yLabelVal=s.y),o[P._id.charAt(0)+"Spike"]=P.c2p(l.pos,!0),M(s,T,o),o}ie.exports={hoverPoints:function(i,u,a,o){var l,s=i.cd[0].trace.hoveron,d=[];return-1!==s.indexOf("boxes")&&(d=d.concat(v(i,u,a,o))),-1!==s.indexOf("points")&&(l=c(i,u,a)),"closest"===o?l?[l]:d:(l&&d.push(l),d)},hoverOnBoxes:v,hoverOnPoints:c}},83832:function(ie,z,r){"use strict";ie.exports={attributes:r(53522),layoutAttributes:r(40094),supplyDefaults:r(36411).supplyDefaults,crossTraceDefaults:r(36411).crossTraceDefaults,supplyLayoutDefaults:r(4199).supplyLayoutDefaults,calc:r(48518),crossTraceCalc:r(37188).crossTraceCalc,plot:r(86047).plot,style:r(58063).style,styleOnSelect:r(58063).styleOnSelect,hoverPoints:r(41868).hoverPoints,eventData:r(74907),selectPoints:r(24626),moduleType:"trace",name:"box",basePlotModule:r(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},40094:function(ie){"use strict";ie.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},4199:function(ie,z,r){"use strict";var C=r(73972),E=r(71828),f=r(40094);function S(M,v,c,i,u){for(var a=u+"Layout",o=!1,l=0;l<c.length;l++)if(C.traceIs(c[l],a)){o=!0;break}o&&(i(u+"mode"),i(u+"gap"),i(u+"groupgap"))}ie.exports={supplyLayoutDefaults:function(M,v,c){S(0,0,c,function(i,u){return E.coerce(M,v,f,i,u)},"box")},_supply:S}},86047:function(ie,z,r){"use strict";var C=r(39898),E=r(71828),f=r(91424);function S(c,i,u,a,o){var l,s,d="h"===u.orientation,g=i.val,p=i.pos,T=!!p.rangebreaks,_=a.bPos,y=a.wdPos||0,w=a.bPosPxOffset||0,m=u.whiskerwidth||0,b=u.notched||!1,k=b?1-2*u.notchwidth:1;Array.isArray(a.bdPos)?(l=a.bdPos[0],s=a.bdPos[1]):(l=a.bdPos,s=a.bdPos);var h=c.selectAll("path.box").data("violin"!==u.type||u.box.visible?E.identity:[]);h.enter().append("path").style("vector-effect",o?"none":"non-scaling-stroke").attr("class","box"),h.exit().remove(),h.each(function(O){if(O.empty)return"M0,0Z";var A=p.c2l(O.pos+_,!0),I=p.l2p(A-l)+w,P=p.l2p(A+s)+w,L=T?(I+P)/2:p.l2p(A)+w,N=u.whiskerwidth,B=T?I*N+(1-N)*L:p.l2p(A-y)+w,W=T?P*N+(1-N)*L:p.l2p(A+y)+w,j=p.l2p(A-l*k)+w,Z=p.l2p(A+s*k)+w,V=g.c2p(O.q1,!0),q=g.c2p(O.q3,!0),G=E.constrain(g.c2p(O.med,!0),Math.min(V,q)+1,Math.max(V,q)-1),H=void 0===O.lf||!1===u.boxpoints,ne=g.c2p(H?O.min:O.lf,!0),X=g.c2p(H?O.max:O.uf,!0),$=g.c2p(O.ln,!0),Q=g.c2p(O.un,!0);d?C.select(this).attr("d","M"+G+","+j+"V"+Z+"M"+V+","+I+"V"+P+(b?"H"+$+"L"+G+","+Z+"L"+Q+","+P:"")+"H"+q+"V"+I+(b?"H"+Q+"L"+G+","+j+"L"+$+","+I:"")+"ZM"+V+","+L+"H"+ne+"M"+q+","+L+"H"+X+(0===m?"":"M"+ne+","+B+"V"+W+"M"+X+","+B+"V"+W)):C.select(this).attr("d","M"+j+","+G+"H"+Z+"M"+I+","+V+"H"+P+(b?"V"+$+"L"+Z+","+G+"L"+P+","+Q:"")+"V"+q+"H"+I+(b?"V"+Q+"L"+j+","+G+"L"+I+","+$:"")+"ZM"+L+","+V+"V"+ne+"M"+L+","+q+"V"+X+(0===m?"":"M"+B+","+ne+"H"+W+"M"+B+","+X+"H"+W))})}function M(c,i,u,a){var o=i.x,l=i.y,s=a.bdPos,d=a.bPos,g=u.boxpoints||u.points;E.seedPseudoRandom();var p=c.selectAll("g.points").data(g?function(_){return _.forEach(function(y){y.t=a,y.trace=u}),_}:[]);p.enter().append("g").attr("class","points"),p.exit().remove();var T=p.selectAll("path").data(function(_){var y,w,m=_.pts2,b=Math.max((_.max-_.min)/10,_.q3-_.q1),k=1e-9*b,h=.01*b,O=[],A=0;if(u.jitter){if(0===b)for(A=1,O=new Array(m.length),y=0;y<m.length;y++)O[y]=1;else for(y=0;y<m.length;y++){var I=Math.max(0,y-5),P=m[I].v,L=Math.min(m.length-1,y+5),N=m[L].v;"all"!==g&&(m[y].v<_.lf?N=Math.min(N,_.lf):P=Math.max(P,_.uf));var B=Math.sqrt(h*(L-I)/(N-P+k))||0;B=E.constrain(Math.abs(B),0,1),O.push(B),A=Math.max(B,A)}w=2*u.jitter/(A||1)}for(y=0;y<m.length;y++){var W=m[y],j=W.v,Z=u.jitter?w*O[y]*(E.pseudoRandom()-.5):0,V=_.pos+d+s*(u.pointpos+Z);"h"===u.orientation?(W.y=V,W.x=j):(W.x=V,W.y=j),"suspectedoutliers"===g&&j<_.uo&&j>_.lo&&(W.so=!0)}return m});T.enter().append("path").classed("point",!0),T.exit().remove(),T.call(f.translatePoints,o,l)}function v(c,i,u,a){var o,l,s=i.val,d=i.pos,g=!!d.rangebreaks,p=a.bPos,T=a.bPosPxOffset||0,_=u.boxmean||(u.meanline||{}).visible;Array.isArray(a.bdPos)?(o=a.bdPos[0],l=a.bdPos[1]):(o=a.bdPos,l=a.bdPos);var y=c.selectAll("path.mean").data("box"===u.type&&u.boxmean||"violin"===u.type&&u.box.visible&&u.meanline.visible?E.identity:[]);y.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),y.exit().remove(),y.each(function(w){var m=d.c2l(w.pos+p,!0),b=d.l2p(m-o)+T,k=d.l2p(m+l)+T,h=g?(b+k)/2:d.l2p(m)+T,O=s.c2p(w.mean,!0),A=s.c2p(w.mean-w.sd,!0),I=s.c2p(w.mean+w.sd,!0);"h"===u.orientation?C.select(this).attr("d","M"+O+","+b+"V"+k+("sd"===_?"m0,0L"+A+","+h+"L"+O+","+b+"L"+I+","+h+"Z":"")):C.select(this).attr("d","M"+b+","+O+"H"+k+("sd"===_?"m0,0L"+h+","+A+"L"+b+","+O+"L"+h+","+I+"Z":""))})}ie.exports={plot:function(c,i,u,a){var o=c._context.staticPlot,l=i.xaxis,s=i.yaxis;E.makeTraceGroups(a,u,"trace boxes").each(function(d){var g,p,T=C.select(this),_=d[0],y=_.t,w=_.trace;y.wdPos=y.bdPos*w.whiskerwidth,!0!==w.visible||y.empty?T.remove():("h"===w.orientation?(g=s,p=l):(g=l,p=s),S(T,{pos:g,val:p},w,y,o),M(T,{x:l,y:s},w,y),v(T,{pos:g,val:p},w,y))})},plotBoxAndWhiskers:S,plotPoints:M,plotBoxMean:v}},24626:function(ie){"use strict";ie.exports=function(z,r){var C,E,f=z.cd,S=z.xaxis,M=z.yaxis,v=[];if(!1===r)for(C=0;C<f.length;C++)for(E=0;E<(f[C].pts||[]).length;E++)f[C].pts[E].selected=0;else for(C=0;C<f.length;C++)for(E=0;E<(f[C].pts||[]).length;E++){var c=f[C].pts[E],i=S.c2p(c.x),u=M.c2p(c.y);r.contains([i,u],null,c.i,z)?(v.push({pointNumber:c.i,x:S.c2d(c.x),y:M.c2d(c.y)}),c.selected=1):c.selected=0}return v}},58063:function(ie,z,r){"use strict";var C=r(39898),E=r(7901),f=r(91424);ie.exports={style:function(S,M,v){var c=v||C.select(S).selectAll("g.trace.boxes");c.style("opacity",function(i){return i[0].trace.opacity}),c.each(function(i){var u=C.select(this),a=i[0].trace,o=a.line.width;function l(g,p,T,_){g.style("stroke-width",p+"px").call(E.stroke,T).call(E.fill,_)}var s=u.selectAll("path.box");if("candlestick"===a.type)s.each(function(g){if(!g.empty){var p=C.select(this),T=a[g.dir];l(p,T.line.width,T.line.color,T.fillcolor),p.style("opacity",a.selectedpoints&&!g.selected?.3:1)}});else{l(s,o,a.line.color,a.fillcolor),u.selectAll("path.mean").style({"stroke-width":o,"stroke-dasharray":2*o+"px,"+o+"px"}).call(E.stroke,a.line.color);var d=u.selectAll("path.point");f.pointStyle(d,a,S)}})},styleOnSelect:function(S,M,v){var c=M[0].trace,i=v.selectAll("path.point");c.selectedpoints?f.selectedPointStyle(i,c):f.pointStyle(i,c,S)}}},75343:function(ie,z,r){"use strict";var C=r(71828).extendFlat,E=r(12663).axisHoverFormat,f=r(2522),S=r(53522);function M(v){return{line:{color:C({},S.line.color,{dflt:v}),width:S.line.width,editType:"style"},fillcolor:S.fillcolor,editType:"style"}}ie.exports={xperiod:f.xperiod,xperiod0:f.xperiod0,xperiodalignment:f.xperiodalignment,xhoverformat:E("x"),yhoverformat:E("y"),x:f.x,open:f.open,high:f.high,low:f.low,close:f.close,line:{width:C({},S.line.width,{}),editType:"style"},increasing:M(f.increasing.line.color.dflt),decreasing:M(f.decreasing.line.color.dflt),text:f.text,hovertext:f.hovertext,whiskerwidth:C({},S.whiskerwidth,{dflt:0}),hoverlabel:f.hoverlabel}},41197:function(ie,z,r){"use strict";var C=r(71828),E=r(89298),f=r(42973),S=r(3485).calcCommon;function M(v,c,i,u){return{min:i,q1:Math.min(v,u),med:u,q3:Math.max(v,u),max:c}}ie.exports=function(v,c){var i=v._fullLayout,u=E.getFromId(v,c.xaxis),a=E.getFromId(v,c.yaxis),o=u.makeCalcdata(c,"x"),l=f(c,u,"x",o).vals,s=S(v,c,o,l,a,M);return s.length?(C.extendFlat(s[0].t,{num:i._numBoxes,dPos:C.distinctVals(l).minDiff/2,posLetter:"x",valLetter:"y"}),i._numBoxes++,s):[{t:{empty:!0}}]}},1026:function(ie,z,r){"use strict";var C=r(71828),E=r(7901),f=r(14555),S=r(73927),M=r(75343);function v(c,i,u,a){var o=u(a+".line.color");u(a+".line.width",i.line.width),u(a+".fillcolor",E.addOpacity(o,.5))}ie.exports=function(c,i,u,a){function o(l,s){return C.coerce(c,i,M,l,s)}f(c,i,o,a)?(S(c,i,a,o,{x:!0}),o("xhoverformat"),o("yhoverformat"),o("line.width"),v(0,i,o,"increasing"),v(0,i,o,"decreasing"),o("text"),o("hovertext"),o("whiskerwidth"),a._requestRangeslider[i.xaxis]=!0):i.visible=!1}},91815:function(ie,z,r){"use strict";ie.exports={moduleType:"trace",name:"candlestick",basePlotModule:r(93612),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:r(75343),layoutAttributes:r(40094),supplyLayoutDefaults:r(4199).supplyLayoutDefaults,crossTraceCalc:r(37188).crossTraceCalc,supplyDefaults:r(1026),calc:r(41197),plot:r(86047).plot,layerName:"boxlayer",style:r(58063).style,hoverPoints:r(66449).hoverPoints,selectPoints:r(67324)}},13145:function(ie,z,r){"use strict";var C=r(11500),E=r(44467);ie.exports=function(f,S,M,v,c){var i,u,a,o;v("a")||(v("da"),v("a0")),v("b")||(v("db"),v("b0")),i=f,u=S,a=M,o=c,["aaxis","baxis"].forEach(function(l){var s=l.charAt(0),d=i[l]||{},g=E.newContainer(u,l);C(d,g,{noTicklabelstep:!0,tickfont:"x",id:s+"axis",letter:s,font:u.font,name:l,data:i[s],calendar:u.calendar,dfltColor:o,bgColor:a.paper_bgcolor,autotypenumbersDflt:a.autotypenumbers,fullLayout:a}),g._categories=g._categories||[],i[l]||"-"===d.type||(i[l]={type:d.type})})}},402:function(ie,z,r){"use strict";var C=r(71828).isArrayOrTypedArray;function E(f,S){if(!C(f)||S>=10)return null;for(var M=1/0,v=-1/0,c=f.length,i=0;i<c;i++){var u=f[i];if(C(u)){var a=E(u,S+1);a&&(M=Math.min(a[0],M),v=Math.max(a[1],v))}else M=Math.min(u,M),v=Math.max(u,v)}return[M,v]}ie.exports=function(f){return E(f,0)}},99798:function(ie,z,r){"use strict";var C=r(41940),E=r(1928),f=r(22399),S=C({editType:"calc"});S.family.dflt='"Open Sans", verdana, arial, sans-serif',S.size.dflt=12,S.color.dflt=f.defaultLine,ie.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:E,baxis:E,font:S,color:{valType:"color",dflt:f.defaultLine,editType:"plot"},transforms:void 0}},4536:function(ie,z,r){"use strict";var C=r(71828).isArrayOrTypedArray;ie.exports=function(E,f,S,M){var v,c,i,u,a,o,l,s,d,g,p,T,_,y=C(S)?"a":"b",w=("a"===y?E.aaxis:E.baxis).smoothing,m="a"===y?E.a2i:E.b2j,b="a"===y?S:M,k="a"===y?M:S,h="a"===y?f.a.length:f.b.length,O="a"===y?f.b.length:f.a.length,A=Math.floor("a"===y?E.b2j(k):E.a2i(k)),I="a"===y?function(ne){return E.evalxy([],ne,A)}:function(ne){return E.evalxy([],A,ne)};w&&(i=Math.max(0,Math.min(O-2,A)),u=A-i,c="a"===y?function(ne,X){return E.dxydi([],ne,i,X,u)}:function(ne,X){return E.dxydj([],i,ne,u,X)});var P=m(b[0]),L=m(b[1]),N=P<L?1:-1,B=1e-8*(L-P),W=N>0?Math.floor:Math.ceil,j=N>0?Math.ceil:Math.floor,Z=N>0?Math.min:Math.max,V=N>0?Math.max:Math.min,q=W(P+B),G=j(L-B),H=[[l=I(P)]];for(v=q;v*N<G*N;v+=N)a=[],p=V(P,v),_=(T=Z(L,v+N))-p,o=Math.max(0,Math.min(h-2,Math.floor(.5*(p+T)))),s=I(T),w&&(d=c(o,p-o),g=c(o,T-o),a.push([l[0]+d[0]/3*_,l[1]+d[1]/3*_]),a.push([s[0]-g[0]/3*_,s[1]-g[1]/3*_])),a.push(s),H.push(a),l=s;return H}},1928:function(ie,z,r){"use strict";var C=r(41940),E=r(22399),f=r(13838),S=r(12663).descriptionWithDates,M=r(30962).overrideAll,v=r(79952).P,c=r(1426).extendFlat;ie.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:C({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:f.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},tickfont:C({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:S("tick label")},tickformatstops:M(f.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:E.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:c({},v,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:c({},v,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:E.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:C({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},11500:function(ie,z,r){"use strict";var C=r(99798),E=r(7901).addOpacity,f=r(73972),S=r(71828),M=r(26218),v=r(96115),c=r(89426),i=r(15258),u=r(21994),a=r(4322);ie.exports=function(o,l,s){var d=s.letter,g=s.font||{},p=C[d+"axis"];function T(N,B){return S.coerce(o,l,p,N,B)}function _(N,B){return S.coerce2(o,l,p,N,B)}s.name&&(l._name=s.name,l._id=s.name),T("autotypenumbers",s.autotypenumbersDflt);var y=T("type");"-"===y&&(s.data&&function(N,B){if("-"===N.type){var W=N._id.charAt(0);N.type=a(B,N[W+"calendar"],{autotypenumbers:N.autotypenumbers})}}(l,s.data),"-"===l.type?l.type="linear":y=o.type=l.type),T("smoothing"),T("cheatertype"),T("showticklabels"),T("labelprefix",d+" = "),T("labelsuffix"),T("showtickprefix"),T("showticksuffix"),T("separatethousands"),T("tickformat"),T("exponentformat"),T("minexponent"),T("showexponent"),T("categoryorder"),T("tickmode"),T("tickvals"),T("ticktext"),T("tick0"),T("dtick"),"array"===l.tickmode&&(T("arraytick0"),T("arraydtick")),T("labelpadding"),l._hovertitle=d,"date"===y&&f.getComponentMethod("calendars","handleDefaults")(o,l,"calendar",s.calendar),u(l,s.fullLayout),l.c2p=S.identity;var w=T("color",s.dfltColor),m=w===o.color?w:g.color;T("title.text")&&(S.coerceFont(T,"title.font",{family:g.family,size:S.bigFont(g.size),color:m}),T("title.offset")),T("tickangle"),T("autorange",!l.isValidRange(o.range))&&T("rangemode"),T("range"),l.cleanRange(),T("fixedrange"),M(o,l,T,y),c(o,l,T,y,s),v(o,l,T,y,s),i(o,l,T,{data:s.data,dataAttr:d});var b=_("gridcolor",E(w,.3)),k=_("gridwidth"),h=_("griddash"),O=T("showgrid");O||(delete l.gridcolor,delete l.gridwidth,delete l.griddash);var A=_("startlinecolor",w),I=_("startlinewidth",k);T("startline",l.showgrid||!!A||!!I)||(delete l.startlinecolor,delete l.startlinewidth);var P=_("endlinecolor",w),L=_("endlinewidth",k);return T("endline",l.showgrid||!!P||!!L)||(delete l.endlinecolor,delete l.endlinewidth),O?(T("minorgridcount"),T("minorgridwidth",k),T("minorgriddash",h),T("minorgridcolor",E(b,.06)),l.minorgridcount||(delete l.minorgridwidth,delete l.minorgriddash,delete l.minorgridcolor)):(delete l.gridcolor,delete l.gridwidth,delete l.griddash),"none"===l.showticklabels&&(delete l.tickfont,delete l.tickangle,delete l.showexponent,delete l.exponentformat,delete l.minexponent,delete l.tickformat,delete l.showticksuffix,delete l.showtickprefix),l.showticksuffix||delete l.ticksuffix,l.showtickprefix||delete l.tickprefix,T("tickmode"),l}},25281:function(ie,z,r){"use strict";var C=r(89298),E=r(71828).isArray1D,f=r(53824),S=r(402),M=r(20347),v=r(83311),c=r(44807),i=r(4742),u=r(72505),a=r(68296),o=r(11435);ie.exports=function(l,s){var d=C.getFromId(l,s.xaxis),g=C.getFromId(l,s.yaxis),p=s.aaxis,T=s.baxis,_=s.x,y=s.y,w=[];_&&E(_)&&w.push("x"),y&&E(y)&&w.push("y"),w.length&&a(s,p,T,"a","b",w);var m=s._a=s._a||s.a,b=s._b=s._b||s.b;_=s._x||s.x,y=s._y||s.y;var k={};s._cheater&&(_=f("index"===p.cheatertype?m.length:m,"index"===T.cheatertype?b.length:b,s.cheaterslope)),s._x=_=i(_),s._y=y=i(y),u(_,m,b),u(y,m,b),o(s),s.setScale();var A=S(_),I=S(y),P=.5*(A[1]-A[0]),L=.5*(A[1]+A[0]),N=.5*(I[1]-I[0]),B=.5*(I[1]+I[0]),W=1.3;return I=[B-N*W,B+N*W],s._extremes[d._id]=C.findExtremes(d,A=[L-P*W,L+P*W],{padded:!0}),s._extremes[g._id]=C.findExtremes(g,I,{padded:!0}),M(s,"a","b"),M(s,"b","a"),v(s,p),v(s,T),k.clipsegments=c(s._xctrl,s._yctrl,p,T),k.x=_,k.y=y,k.a=m,k.b=b,[k]}},44807:function(ie){"use strict";ie.exports=function(z,r,C,E){var f,S,M,v=[],c=!!C.smoothing,i=!!E.smoothing,u=z[0].length-1,a=z.length-1;for(f=0,S=[],M=[];f<=u;f++)S[f]=z[0][f],M[f]=r[0][f];for(v.push({x:S,y:M,bicubic:c}),f=0,S=[],M=[];f<=a;f++)S[f]=z[f][u],M[f]=r[f][u];for(v.push({x:S,y:M,bicubic:i}),f=u,S=[],M=[];f>=0;f--)S[u-f]=z[a][f],M[u-f]=r[a][f];for(v.push({x:S,y:M,bicubic:c}),f=a,S=[],M=[];f>=0;f--)S[a-f]=z[f][0],M[a-f]=r[f][0];return v.push({x:S,y:M,bicubic:i}),v}},20347:function(ie,z,r){"use strict";var C=r(89298),E=r(1426).extendFlat;ie.exports=function(f,S,M){var v,c,i,u,a,o,l,s,d,g,p,T,_,y,w=f["_"+S],m=f[S+"axis"],b=m._gridlines=[],k=m._minorgridlines=[],h=m._boundarylines=[],O=f["_"+M],A=f[M+"axis"];"array"===m.tickmode&&(m.tickvals=w.slice());var I=f._xctrl,P=f._yctrl,L=I[0].length,N=I.length,B=f._a.length,W=f._b.length;C.prepTicks(m),"array"===m.tickmode&&delete m.tickvals;var j=m.smoothing?3:1;function Z(q){var G,H,ne,X,$,Q,te,re,le,ue,he,ge,xe=[],ke=[],Ae={};if("b"===S)for(H=f.b2j(q),ne=Math.floor(Math.max(0,Math.min(W-2,H))),X=H-ne,Ae.length=W,Ae.crossLength=B,Ae.xy=function(pe){return f.evalxy([],pe,H)},Ae.dxy=function(pe,ye){return f.dxydi([],pe,ne,ye,X)},G=0;G<B;G++)Q=Math.min(B-2,G),te=G-Q,re=f.evalxy([],G,H),A.smoothing&&G>0&&(le=f.dxydi([],G-1,ne,0,X),xe.push($[0]+le[0]/3),ke.push($[1]+le[1]/3),ue=f.dxydi([],G-1,ne,1,X),xe.push(re[0]-ue[0]/3),ke.push(re[1]-ue[1]/3)),xe.push(re[0]),ke.push(re[1]),$=re;else for(G=f.a2i(q),Q=Math.floor(Math.max(0,Math.min(B-2,G))),te=G-Q,Ae.length=B,Ae.crossLength=W,Ae.xy=function(pe){return f.evalxy([],G,pe)},Ae.dxy=function(pe,ye){return f.dxydj([],Q,pe,te,ye)},H=0;H<W;H++)ne=Math.min(W-2,H),X=H-ne,re=f.evalxy([],G,H),A.smoothing&&H>0&&(he=f.dxydj([],Q,H-1,te,0),xe.push($[0]+he[0]/3),ke.push($[1]+he[1]/3),ge=f.dxydj([],Q,H-1,te,1),xe.push(re[0]-ge[0]/3),ke.push(re[1]-ge[1]/3)),xe.push(re[0]),ke.push(re[1]),$=re;return Ae.axisLetter=S,Ae.axis=m,Ae.crossAxis=A,Ae.value=q,Ae.constvar=M,Ae.index=s,Ae.x=xe,Ae.y=ke,Ae.smoothing=A.smoothing,Ae}function V(q){var G,H,ne,X,$,Q=[],te=[],re={};if(re.length=w.length,re.crossLength=O.length,"b"===S)for(ne=Math.max(0,Math.min(W-2,q)),$=Math.min(1,Math.max(0,q-ne)),re.xy=function(le){return f.evalxy([],le,q)},re.dxy=function(le,ue){return f.dxydi([],le,ne,ue,$)},G=0;G<L;G++)Q[G]=I[q*j][G],te[G]=P[q*j][G];else for(H=Math.max(0,Math.min(B-2,q)),X=Math.min(1,Math.max(0,q-H)),re.xy=function(le){return f.evalxy([],q,le)},re.dxy=function(le,ue){return f.dxydj([],H,le,X,ue)},G=0;G<N;G++)Q[G]=I[G][q*j],te[G]=P[G][q*j];return re.axisLetter=S,re.axis=m,re.crossAxis=A,re.value=w[q],re.constvar=M,re.index=q,re.x=Q,re.y=te,re.smoothing=A.smoothing,re}if("array"===m.tickmode){for(u=5e-15,o=(a=[Math.floor((w.length-1-m.arraytick0)/m.arraydtick*(1+u)),Math.ceil(-m.arraytick0/m.arraydtick/(1+u))].sort(function(q,G){return q-G}))[0]-1,l=a[1]+1,s=o;s<l;s++)(c=m.arraytick0+m.arraydtick*s)<0||c>w.length-1||b.push(E(V(c),{color:m.gridcolor,width:m.gridwidth,dash:m.griddash}));for(s=o;s<l;s++)if(i=m.arraytick0+m.arraydtick*s,p=Math.min(i+m.arraydtick,w.length-1),!(i<0||i>w.length-1||p<0||p>w.length-1))for(T=w[i],_=w[p],v=0;v<m.minorgridcount;v++)(y=p-i)<=0||(g=T+(_-T)*(v+1)/(m.minorgridcount+1)*(m.arraydtick/y))<w[0]||g>w[w.length-1]||k.push(E(Z(g),{color:m.minorgridcolor,width:m.minorgridwidth,dash:m.minorgriddash}));m.startline&&h.push(E(V(0),{color:m.startlinecolor,width:m.startlinewidth})),m.endline&&h.push(E(V(w.length-1),{color:m.endlinecolor,width:m.endlinewidth}))}else{for(u=5e-15,o=(a=[Math.floor((w[w.length-1]-m.tick0)/m.dtick*(1+u)),Math.ceil((w[0]-m.tick0)/m.dtick/(1+u))].sort(function(q,G){return q-G}))[0],l=a[1],s=o;s<=l;s++)b.push(E(Z(d=m.tick0+m.dtick*s),{color:m.gridcolor,width:m.gridwidth,dash:m.griddash}));for(s=o-1;s<l+1;s++)for(d=m.tick0+m.dtick*s,v=0;v<m.minorgridcount;v++)(g=d+m.dtick*(v+1)/(m.minorgridcount+1))<w[0]||g>w[w.length-1]||k.push(E(Z(g),{color:m.minorgridcolor,width:m.minorgridwidth,dash:m.minorgriddash}));m.startline&&h.push(E(Z(w[0]),{color:m.startlinecolor,width:m.startlinewidth})),m.endline&&h.push(E(Z(w[w.length-1]),{color:m.endlinecolor,width:m.endlinewidth}))}}},83311:function(ie,z,r){"use strict";var C=r(89298),E=r(1426).extendFlat;ie.exports=function(f,S){var M,v,c,i=S._labels=[],u=S._gridlines;for(M=0;M<u.length;M++)c=u[M],-1!==["start","both"].indexOf(S.showticklabels)&&(v=C.tickText(S,c.value),E(v,{prefix:void 0,suffix:void 0,endAnchor:!0,xy:c.xy(0),dxy:c.dxy(0,0),axis:c.axis,length:c.crossAxis.length,font:c.axis.tickfont,isFirst:0===M,isLast:M===u.length-1}),i.push(v)),-1!==["end","both"].indexOf(S.showticklabels)&&(v=C.tickText(S,c.value),E(v,{endAnchor:!1,xy:c.xy(c.crossLength-1),dxy:c.dxy(c.crossLength-2,1),axis:c.axis,length:c.crossAxis.length,font:c.axis.tickfont,isFirst:0===M,isLast:M===u.length-1}),i.push(v))}},42048:function(ie){"use strict";ie.exports=function(z,r,C,E){var f=z[0]-r[0],S=z[1]-r[1],M=C[0]-r[0],v=C[1]-r[1],c=Math.pow(f*f+S*S,.25),i=Math.pow(M*M+v*v,.25),u=(i*i*f-c*c*M)*E,a=(i*i*S-c*c*v)*E,o=i*(c+i)*3,l=c*(c+i)*3;return[[r[0]+(o&&u/o),r[1]+(o&&a/o)],[r[0]-(l&&u/l),r[1]-(l&&a/l)]]}},53824:function(ie,z,r){"use strict";var C=r(71828).isArrayOrTypedArray;ie.exports=function(E,f,S){var M,v,c,i,u,a,o=[],l=C(E)?E.length:E,s=C(f)?f.length:f,d=C(E)?E:null,g=C(f)?f:null;d&&(c=(d.length-1)/(d[d.length-1]-d[0])/(l-1)),g&&(i=(g.length-1)/(g[g.length-1]-g[0])/(s-1));var p=1/0,T=-1/0;for(v=0;v<s;v++)for(o[v]=[],u=g?(g[v]-g[0])*i:v/(s-1),M=0;M<l;M++)a=(d?(d[M]-d[0])*c:M/(l-1))-u*S,p=Math.min(a,p),T=Math.max(a,T),o[v][M]=a;var _=1/(T-p),y=-p*_;for(v=0;v<s;v++)for(M=0;M<l;M++)o[v][M]=_*o[v][M]+y;return o}},45664:function(ie,z,r){"use strict";var C=r(42048),E=r(71828).ensureArray;function f(S,M,v){return[(2*(-.5*v[0]+1.5*M[0])+S[0])/3,(2*(-.5*v[1]+1.5*M[1])+S[1])/3]}ie.exports=function(S,M,v,c,i,u){var a,o,l,s,d,g,p,T,_,y,w=v[0].length,m=v.length,b=i?3*w-2:w,k=u?3*m-2:m;for(S=E(S,k),M=E(M,k),l=0;l<k;l++)S[l]=E(S[l],b),M[l]=E(M[l],b);for(o=0,s=0;o<m;o++,s+=u?3:1)for(d=S[s],g=M[s],p=v[o],T=c[o],a=0,l=0;a<w;a++,l+=i?3:1)d[l]=p[a],g[l]=T[a];if(i)for(o=0,s=0;o<m;o++,s+=u?3:1){for(a=1,l=3;a<w-1;a++,l+=3)_=C([v[o][a-1],c[o][a-1]],[v[o][a],c[o][a]],[v[o][a+1],c[o][a+1]],i),S[s][l-1]=_[0][0],M[s][l-1]=_[0][1],S[s][l+1]=_[1][0],M[s][l+1]=_[1][1];y=f([S[s][0],M[s][0]],[S[s][2],M[s][2]],[S[s][3],M[s][3]]),S[s][1]=y[0],M[s][1]=y[1],y=f([S[s][b-1],M[s][b-1]],[S[s][b-3],M[s][b-3]],[S[s][b-4],M[s][b-4]]),S[s][b-2]=y[0],M[s][b-2]=y[1]}if(u)for(l=0;l<b;l++){for(s=3;s<k-3;s+=3)_=C([S[s-3][l],M[s-3][l]],[S[s][l],M[s][l]],[S[s+3][l],M[s+3][l]],u),S[s-1][l]=_[0][0],M[s-1][l]=_[0][1],S[s+1][l]=_[1][0],M[s+1][l]=_[1][1];y=f([S[0][l],M[0][l]],[S[2][l],M[2][l]],[S[3][l],M[3][l]]),S[1][l]=y[0],M[1][l]=y[1],y=f([S[k-1][l],M[k-1][l]],[S[k-3][l],M[k-3][l]],[S[k-4][l],M[k-4][l]]),S[k-2][l]=y[0],M[k-2][l]=y[1]}if(i&&u)for(s=1;s<k;s+=(s+1)%3==0?2:1){for(l=3;l<b-3;l+=3)_=C([S[s][l-3],M[s][l-3]],[S[s][l],M[s][l]],[S[s][l+3],M[s][l+3]],i),S[s][l-1]=.5*(S[s][l-1]+_[0][0]),M[s][l-1]=.5*(M[s][l-1]+_[0][1]),S[s][l+1]=.5*(S[s][l+1]+_[1][0]),M[s][l+1]=.5*(M[s][l+1]+_[1][1]);y=f([S[s][0],M[s][0]],[S[s][2],M[s][2]],[S[s][3],M[s][3]]),S[s][1]=.5*(S[s][1]+y[0]),M[s][1]=.5*(M[s][1]+y[1]),y=f([S[s][b-1],M[s][b-1]],[S[s][b-3],M[s][b-3]],[S[s][b-4],M[s][b-4]]),S[s][b-2]=.5*(S[s][b-2]+y[0]),M[s][b-2]=.5*(M[s][b-2]+y[1])}return[S,M]}},35509:function(ie){"use strict";ie.exports={RELATIVE_CULL_TOLERANCE:1e-6}},54495:function(ie){"use strict";ie.exports=function(z,r,C){return r&&C?function(E,f,S,M,v){var c,o,l;E||(E=[]),f*=3,S*=3;var s=M*M,d=1-M,g=d*d,p=d*M*2,T=-3*g,_=3*(g-p),y=3*(p-s),w=3*s,m=v*v,b=m*v,k=1-v,h=k*k,O=h*k;for(l=0;l<z.length;l++)c=T*(o=z[l])[S][f]+_*o[S][f+1]+y*o[S][f+2]+w*o[S][f+3],E[l]=O*c+3*(h*v*(T*o[S+1][f]+_*o[S+1][f+1]+y*o[S+1][f+2]+w*o[S+1][f+3])+k*m*(T*o[S+2][f]+_*o[S+2][f+1]+y*o[S+2][f+2]+w*o[S+2][f+3]))+b*(T*o[S+3][f]+_*o[S+3][f+1]+y*o[S+3][f+2]+w*o[S+3][f+3]);return E}:r?function(E,f,S,M,v){var c,u,a;E||(E=[]),f*=3;var o=M*M,l=1-M,s=l*l,d=l*M*2,g=-3*s,p=3*(s-d),T=3*(d-o),_=3*o,y=1-v;for(u=0;u<z.length;u++)c=g*(a=z[u])[S][f]+p*a[S][f+1]+T*a[S][f+2]+_*a[S][f+3],E[u]=y*c+v*(g*a[S+1][f]+p*a[S+1][f+1]+T*a[S+1][f+2]+_*a[S+1][f+3]);return E}:C?function(E,f,S,M,v){var c,o,l;E||(E=[]),S*=3;var s=v*v,d=s*v,g=1-v,p=g*g,T=p*g;for(o=0;o<z.length;o++)c=(l=z[o])[S][f+1]-l[S][f],E[o]=T*c+3*(p*v*(l[S+1][f+1]-l[S+1][f])+g*s*(l[S+2][f+1]-l[S+2][f]))+d*(l[S+3][f+1]-l[S+3][f]);return E}:function(E,f,S,M,v){var c,u,a;E||(E=[]);var o=1-v;for(u=0;u<z.length;u++)c=(a=z[u])[S][f+1]-a[S][f],E[u]=o*c+v*(a[S+1][f+1]-a[S+1][f]);return E}}},73057:function(ie){"use strict";ie.exports=function(z,r,C){return r&&C?function(E,f,S,M,v){var c,o,l;E||(E=[]),f*=3,S*=3;var s=M*M,d=s*M,g=1-M,p=g*g,T=p*g,_=v*v,y=1-v,w=y*y,m=y*v*2,b=-3*w,k=3*(w-m),h=3*(m-_),O=3*_;for(l=0;l<z.length;l++)c=b*(o=z[l])[S][f]+k*o[S+1][f]+h*o[S+2][f]+O*o[S+3][f],E[l]=T*c+3*(p*M*(b*o[S][f+1]+k*o[S+1][f+1]+h*o[S+2][f+1]+O*o[S+3][f+1])+g*s*(b*o[S][f+2]+k*o[S+1][f+2]+h*o[S+2][f+2]+O*o[S+3][f+2]))+d*(b*o[S][f+3]+k*o[S+1][f+3]+h*o[S+2][f+3]+O*o[S+3][f+3]);return E}:r?function(E,f,S,M,v){var c,o,l;E||(E=[]),f*=3;var s=v*v,d=s*v,g=1-v,p=g*g,T=p*g;for(o=0;o<z.length;o++)c=(l=z[o])[S+1][f]-l[S][f],E[o]=T*c+3*(p*v*(l[S+1][f+1]-l[S][f+1])+g*s*(l[S+1][f+2]-l[S][f+2]))+d*(l[S+1][f+3]-l[S][f+3]);return E}:C?function(E,f,S,M,v){var c,u,a;E||(E=[]),S*=3;var o=1-M,l=v*v,s=1-v,d=s*s,g=s*v*2,p=-3*d,T=3*(d-g),_=3*(g-l),y=3*l;for(u=0;u<z.length;u++)c=p*(a=z[u])[S][f]+T*a[S+1][f]+_*a[S+2][f]+y*a[S+3][f],E[u]=o*c+M*(p*a[S][f+1]+T*a[S+1][f+1]+_*a[S+2][f+1]+y*a[S+3][f+1]);return E}:function(E,f,S,M,v){var c,u,a;E||(E=[]);var o=1-M;for(u=0;u<z.length;u++)c=(a=z[u])[S+1][f]-a[S][f],E[u]=o*c+M*(a[S+1][f+1]-a[S][f+1]);return E}}},20349:function(ie){"use strict";ie.exports=function(z,r,C,E,f){var S=r-2,M=C-2;return E&&f?function(v,c,i){var u,s,d;v||(v=[]);var g=Math.max(0,Math.min(Math.floor(c),S)),p=Math.max(0,Math.min(Math.floor(i),M)),T=Math.max(0,Math.min(1,c-g)),_=Math.max(0,Math.min(1,i-p));g*=3,p*=3;var y=T*T,w=y*T,m=1-T,b=m*m,k=b*m,h=_*_,O=h*_,A=1-_,I=A*A,P=I*A;for(d=0;d<z.length;d++)u=k*(s=z[d])[p][g]+3*(b*T*s[p][g+1]+m*y*s[p][g+2])+w*s[p][g+3],v[d]=P*u+3*(I*_*(k*s[p+1][g]+3*(b*T*s[p+1][g+1]+m*y*s[p+1][g+2])+w*s[p+1][g+3])+A*h*(k*s[p+2][g]+3*(b*T*s[p+2][g+1]+m*y*s[p+2][g+2])+w*s[p+2][g+3]))+O*(k*s[p+3][g]+3*(b*T*s[p+3][g+1]+m*y*s[p+3][g+2])+w*s[p+3][g+3]);return v}:E?function(v,c,i){v||(v=[]);var u,s,d,g=Math.max(0,Math.min(Math.floor(c),S)),p=Math.max(0,Math.min(Math.floor(i),M)),T=Math.max(0,Math.min(1,c-g)),_=Math.max(0,Math.min(1,i-p));g*=3;var y=T*T,w=y*T,m=1-T,b=m*m,k=b*m,h=1-_;for(s=0;s<z.length;s++)u=h*(d=z[s])[p][g]+_*d[p+1][g],v[s]=k*u+3*(b*T*(h*d[p][g+1]+_*d[p+1][g+1])+m*y*(h*d[p][g+2]+_*d[p+1][g+1]))+w*(h*d[p][g+3]+_*d[p+1][g+1]);return v}:f?function(v,c,i){v||(v=[]);var u,s,d,g=Math.max(0,Math.min(Math.floor(c),S)),p=Math.max(0,Math.min(Math.floor(i),M)),T=Math.max(0,Math.min(1,c-g)),_=Math.max(0,Math.min(1,i-p));p*=3;var y=_*_,w=y*_,m=1-_,b=m*m,k=b*m,h=1-T;for(s=0;s<z.length;s++)u=h*(d=z[s])[p][g]+T*d[p][g+1],v[s]=k*u+3*(b*_*(h*d[p+1][g]+T*d[p+1][g+1])+m*y*(h*d[p+2][g]+T*d[p+2][g+1]))+w*(h*d[p+3][g]+T*d[p+3][g+1]);return v}:function(v,c,i){v||(v=[]);var u,o,l,s=Math.max(0,Math.min(Math.floor(c),S)),d=Math.max(0,Math.min(Math.floor(i),M)),g=Math.max(0,Math.min(1,c-s)),p=Math.max(0,Math.min(1,i-d)),T=1-p,_=1-g;for(o=0;o<z.length;o++)u=_*(l=z[o])[d][s]+g*l[d][s+1],v[o]=T*u+p*(_*l[d+1][s]+g*l[d+1][s+1]);return v}}},92087:function(ie,z,r){"use strict";var C=r(71828),E=r(19237),f=r(13145),S=r(99798),M=r(22399);ie.exports=function(v,c,i,u){function a(l,s){return C.coerce(v,c,S,l,s)}c._clipPathId="clip"+c.uid+"carpet";var o=a("color",M.defaultLine);C.coerceFont(a,"font"),a("carpet"),f(v,c,u,a,o),c.a&&c.b?(c.a.length<3&&(c.aaxis.smoothing=0),c.b.length<3&&(c.baxis.smoothing=0),E(v,c,a)||(c.visible=!1),c._cheater&&a("cheaterslope")):c.visible=!1}},21462:function(ie,z,r){"use strict";ie.exports={attributes:r(99798),supplyDefaults:r(92087),plot:r(89740),calc:r(25281),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:r(93612),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},22882:function(ie){"use strict";ie.exports=function(z,r){for(var C,E=z._fullData.length,f=0;f<E;f++){var S=z._fullData[f];if(S.index!==r.index&&"carpet"===S.type&&(C||(C=S),S.carpet===r.carpet))return S}return C}},67961:function(ie){"use strict";ie.exports=function(z,r,C){if(0===z.length)return"";var E,f=[],S=C?3:1;for(E=0;E<z.length;E+=S)f.push(z[E]+","+r[E]),C&&E<z.length-S&&(f.push("C"),f.push([z[E+1]+","+r[E+1],z[E+2]+","+r[E+2]+" "].join(" ")));return f.join(C?"":"L")}},27669:function(ie,z,r){"use strict";var C=r(71828).isArrayOrTypedArray;ie.exports=function(E,f,S){var M;for(C(E)?E.length>f.length&&(E=E.slice(0,f.length)):E=[],M=0;M<f.length;M++)E[M]=S(f[M]);return E}},11651:function(ie){"use strict";ie.exports=function(z,r,C,E,f,S){var M=f[0]*z.dpdx(r),v=f[1]*z.dpdy(C),c=1,i=1;if(S){var u=Math.sqrt(f[0]*f[0]+f[1]*f[1]),a=Math.sqrt(S[0]*S[0]+S[1]*S[1]);i=Math.max(0,(f[0]*S[0]+f[1]*S[1])/u/a)}var l=180*Math.atan2(v,M)/Math.PI;return l<-90?(l+=180,c=-c):l>90&&(l-=180,c=-c),{angle:l,flip:c,p:z.c2p(E,r,C),offsetMultplier:i}}},89740:function(ie,z,r){"use strict";var C=r(39898),E=r(91424),f=r(27669),S=r(67961),M=r(11651),v=r(63893),c=r(71828),i=c.strRotate,u=c.strTranslate,a=r(18783);function o(p,T,_,y,w,m,b){var k="const-"+w+"-lines",h=_.selectAll("."+k).data(m);h.enter().append("path").classed(k,!0).style("vector-effect",b?"none":"non-scaling-stroke"),h.each(function(O){var A=O,P=A.y,L=f([],A.x,p.c2p),N=f([],P,T.c2p),B="M"+S(L,N,A.smoothing);C.select(this).attr("d",B).style("stroke-width",A.width).style("stroke",A.color).style("stroke-dasharray",E.dashStyle(A.dash,A.width)).style("fill","none")}),h.exit().remove()}function l(p,T,_,y,w,m,b,k){var h=m.selectAll("text."+k).data(b);h.enter().append("text").classed(k,!0);var O=0,A={};return h.each(function(I,P){var L;if("auto"===I.axis.tickangle)L=M(y,T,_,I.xy,I.dxy);else{var N=(I.axis.tickangle+180)*Math.PI/180;L=M(y,T,_,I.xy,[Math.cos(N),Math.sin(N)])}P||(A={angle:L.angle,flip:L.flip});var B=(I.endAnchor?-1:1)*L.flip,W=C.select(this).attr({"text-anchor":B>0?"start":"end","data-notex":1}).call(E.font,I.font).text(I.text).call(v.convertToTspans,p),j=E.bBox(this);W.attr("transform",u(L.p[0],L.p[1])+i(L.angle)+u(I.axis.labelpadding*B,.3*j.height)),O=Math.max(O,j.width+I.axis.labelpadding)}),h.exit().remove(),A.maxExtent=O,A}ie.exports=function(p,T,_,y){var w=p._context.staticPlot,m=T.xaxis,b=T.yaxis,k=p._fullLayout._clips;c.makeTraceGroups(y,_,"trace").each(function(h){var O=C.select(this),A=h[0],I=A.trace,P=I.aaxis,L=I.baxis,N=c.ensureSingle(O,"g","minorlayer"),B=c.ensureSingle(O,"g","majorlayer"),W=c.ensureSingle(O,"g","boundarylayer"),j=c.ensureSingle(O,"g","labellayer");O.style("opacity",I.opacity),o(m,b,B,0,"a",P._gridlines,!0),o(m,b,B,0,"b",L._gridlines,!0),o(m,b,N,0,"a",P._minorgridlines,!0),o(m,b,N,0,"b",L._minorgridlines,!0),o(m,b,W,0,"a-boundary",P._boundarylines,w),o(m,b,W,0,"b-boundary",L._boundarylines,w);var q,G,H,X,$,Q,te,re,le,ue,he,ge,xe,ke,Ae,Z=l(p,m,b,I,0,j,P._labels,"a-label"),V=l(p,m,b,I,0,j,L._labels,"b-label");q=p,G=j,H=I,X=m,$=b,Q=Z,te=V,ge=c.aggNums(Math.min,null,H.a),xe=c.aggNums(Math.max,null,H.a),ke=c.aggNums(Math.min,null,H.b),Ae=c.aggNums(Math.max,null,H.b),ue=H.ab2xy(re=.5*(ge+xe),le=ke,!0),he=H.dxyda_rough(re,le),void 0===Q.angle&&c.extendFlat(Q,M(H,X,$,ue,H.dxydb_rough(re,le))),g(q,G,H,0,ue,he,H.aaxis,X,$,Q,"a-title"),ue=H.ab2xy(re=ge,le=.5*(ke+Ae),!0),he=H.dxydb_rough(re,le),void 0===te.angle&&c.extendFlat(te,M(H,X,$,ue,H.dxyda_rough(re,le))),g(q,G,H,0,ue,he,H.baxis,X,$,te,"b-title"),function(q,G,H,ne,X){var $,Q,te,re,le=H.select("#"+q._clipPathId);le.size()||(le=H.append("clipPath").classed("carpetclip",!0));var ue=c.ensureSingle(le,"path","carpetboundary"),he=G.clipsegments,ge=[];for(re=0;re<he.length;re++)Q=f([],($=he[re]).x,ne.c2p),te=f([],$.y,X.c2p),ge.push(S(Q,te,$.bicubic));var xe="M"+ge.join("L")+"Z";le.attr("id",q._clipPathId),ue.attr("d",xe)}(I,A,k,m,b)})};var s=a.LINE_SPACING,d=(1-a.MID_SHIFT)/s+1;function g(p,T,_,y,w,m,b,k,h,O,A){var I=[];b.title.text&&I.push(b.title.text);var P=T.selectAll("text."+A).data(I),L=O.maxExtent;P.enter().append("text").classed(A,!0),P.each(function(){var N=M(_,k,h,w,m);-1===["start","both"].indexOf(b.showticklabels)&&(L=0);var B=b.title.font.size;L+=B+b.title.offset;var W=(O.angle+(O.flip<0?180:0)-N.angle+450)%360,j=W>90&&W<270,Z=C.select(this);Z.text(b.title.text).call(v.convertToTspans,p),j&&(L=(-v.lineCount(Z)+d)*s*B-L),Z.attr("transform",u(N.p[0],N.p[1])+i(N.angle)+u(0,L)).attr("text-anchor","middle").call(E.font,b.title.font)}),P.exit().remove()}},11435:function(ie,z,r){"use strict";var C=r(35509),E=r(65888).findBin,f=r(45664),S=r(20349),M=r(54495),v=r(73057);ie.exports=function(c){var i=c._a,u=c._b,a=i.length,o=u.length,l=c.aaxis,s=c.baxis,d=i[0],g=i[a-1],p=u[0],T=u[o-1],_=i[i.length-1]-i[0],y=u[u.length-1]-u[0],w=_*C.RELATIVE_CULL_TOLERANCE,m=y*C.RELATIVE_CULL_TOLERANCE;d-=w,g+=w,p-=m,T+=m,c.isVisible=function(b,k){return b>d&&b<g&&k>p&&k<T},c.isOccluded=function(b,k){return b<d||b>g||k<p||k>T},c.setScale=function(){var h=f(c._xctrl,c._yctrl,c._x,c._y,l.smoothing,s.smoothing);c._xctrl=h[0],c._yctrl=h[1],c.evalxy=S([c._xctrl,c._yctrl],a,o,l.smoothing,s.smoothing),c.dxydi=M([c._xctrl,c._yctrl],l.smoothing,s.smoothing),c.dxydj=v([c._xctrl,c._yctrl],l.smoothing,s.smoothing)},c.i2a=function(b){var k=Math.max(0,Math.floor(b[0]),a-2),h=b[0]-k;return(1-h)*i[k]+h*i[k+1]},c.j2b=function(b){var k=Math.max(0,Math.floor(b[1]),a-2),h=b[1]-k;return(1-h)*u[k]+h*u[k+1]},c.ij2ab=function(b){return[c.i2a(b[0]),c.j2b(b[1])]},c.a2i=function(b){var k=Math.max(0,Math.min(E(b,i),a-2)),h=i[k];return Math.max(0,Math.min(a-1,k+(b-h)/(i[k+1]-h)))},c.b2j=function(b){var k=Math.max(0,Math.min(E(b,u),o-2)),h=u[k];return Math.max(0,Math.min(o-1,k+(b-h)/(u[k+1]-h)))},c.ab2ij=function(b){return[c.a2i(b[0]),c.b2j(b[1])]},c.i2c=function(b,k){return c.evalxy([],b,k)},c.ab2xy=function(b,k,h){if(!h&&(b<i[0]||b>i[a-1]|k<u[0]||k>u[o-1]))return[!1,!1];var O=c.a2i(b),A=c.b2j(k),I=c.evalxy([],O,A);if(h){var P,L,N,B,W=0,j=0,Z=[];b<i[0]?(P=0,L=0,W=(b-i[0])/(i[1]-i[0])):b>i[a-1]?(P=a-2,L=1,W=(b-i[a-1])/(i[a-1]-i[a-2])):L=O-(P=Math.max(0,Math.min(a-2,Math.floor(O)))),k<u[0]?(N=0,B=0,j=(k-u[0])/(u[1]-u[0])):k>u[o-1]?(N=o-2,B=1,j=(k-u[o-1])/(u[o-1]-u[o-2])):B=A-(N=Math.max(0,Math.min(o-2,Math.floor(A)))),W&&(c.dxydi(Z,P,N,L,B),I[0]+=Z[0]*W,I[1]+=Z[1]*W),j&&(c.dxydj(Z,P,N,L,B),I[0]+=Z[0]*j,I[1]+=Z[1]*j)}return I},c.c2p=function(b,k,h){return[k.c2p(b[0]),h.c2p(b[1])]},c.p2x=function(b,k,h){return[k.p2c(b[0]),h.p2c(b[1])]},c.dadi=function(b){var k=Math.max(0,Math.min(i.length-2,b));return i[k+1]-i[k]},c.dbdj=function(b){var k=Math.max(0,Math.min(u.length-2,b));return u[k+1]-u[k]},c.dxyda=function(b,k,h,O){var A=c.dxydi(null,b,k,h,O),I=c.dadi(b,h);return[A[0]/I,A[1]/I]},c.dxydb=function(b,k,h,O){var A=c.dxydj(null,b,k,h,O),I=c.dbdj(k,O);return[A[0]/I,A[1]/I]},c.dxyda_rough=function(b,k,h){var O=_*(h||.1),A=c.ab2xy(b+O,k,!0),I=c.ab2xy(b-O,k,!0);return[.5*(A[0]-I[0])/O,.5*(A[1]-I[1])/O]},c.dxydb_rough=function(b,k,h){var O=y*(h||.1),A=c.ab2xy(b,k+O,!0),I=c.ab2xy(b,k-O,!0);return[.5*(A[0]-I[0])/O,.5*(A[1]-I[1])/O]},c.dpdx=function(b){return b._m},c.dpdy=function(b){return b._m}}},72505:function(ie,z,r){"use strict";var C=r(71828);ie.exports=function(E,f,S){var M,v,c,i=[],u=[],a=E[0].length,o=E.length;var s,d,g,p,T,_,y,w,m,b,q,G,H,ne,X,h=0;for(M=0;M<a;M++)for(v=0;v<o;v++)void 0===E[v][M]&&(i.push(M),u.push(v),E[v][M]=(G=v,H=void 0,ne=void 0,X=void 0,ne=0,X=0,(q=M)>0&&void 0!==(H=E[G][q-1])&&(X++,ne+=H),q<a-1&&void 0!==(H=E[G][q+1])&&(X++,ne+=H),G>0&&void 0!==(H=E[G-1][q])&&(X++,ne+=H),G<o-1&&void 0!==(H=E[G+1][q])&&(X++,ne+=H),ne/Math.max(1,X))),h=Math.max(h,Math.abs(E[v][M]));if(!i.length)return E;var O=0,A=0,I=i.length;do{for(O=0,c=0;c<I;c++){v=u[c];var L,N,B,W,j,Z=0,V=0;0===(M=i[c])?(N=f[W=Math.min(a-1,2)],V+=(L=E[v][1])+(L-E[v][W])*(f[0]-(B=f[1]))/(B-N),Z++):M===a-1&&(N=f[W=Math.max(0,a-3)],V+=(L=E[v][a-2])+(L-E[v][W])*(f[a-1]-(B=f[a-2]))/(B-N),Z++),(0===M||M===a-1)&&v>0&&v<o-1&&(V+=((d=S[v]-S[v-1])*E[v+1][M]+(s=S[v+1]-S[v])*E[v-1][M])/(d+s),Z++),0===v?(N=S[j=Math.min(o-1,2)],V+=(L=E[1][M])+(L-E[j][M])*(S[0]-(B=S[1]))/(B-N),Z++):v===o-1&&(N=S[j=Math.max(0,o-3)],V+=(L=E[o-2][M])+(L-E[j][M])*(S[o-1]-(B=S[o-2]))/(B-N),Z++),(0===v||v===o-1)&&M>0&&M<a-1&&(V+=((d=f[M]-f[M-1])*E[v][M+1]+(s=f[M+1]-f[M])*E[v][M-1])/(d+s),Z++),Z?V/=Z:(w=(T=S[v+1]-S[v])*(_=S[v]-S[v-1])*(T+_),V=((y=(g=f[M+1]-f[M])*(p=f[M]-f[M-1])*(g+p))*(_*E[v+1][M]+T*E[v-1][M])+w*(p*E[v][M+1]+g*E[v][M-1]))/(w*(p+g)+y*(_+T))),O+=(b=(m=V-E[v][M])/h)*b,E[v][M]+=m*(1+(Z?0:.85))}O=Math.sqrt(O)}while(A++<100&&O>1e-5);return C.log("Smoother converged to",O,"after",A,"iterations"),E}},19237:function(ie,z,r){"use strict";var C=r(71828).isArray1D;ie.exports=function(E,f,S){var M=S("x"),v=M&&M.length,c=S("y"),i=c&&c.length;if(!v&&!i)return!1;if(f._cheater=!M,v&&!C(M)||i&&!C(c))f._length=null;else{var u=v?M.length:1/0;i&&(u=Math.min(u,c.length)),f.a&&f.a.length&&(u=Math.min(u,f.a.length)),f.b&&f.b.length&&(u=Math.min(u,f.b.length)),f._length=u}return!0}},69568:function(ie,z,r){"use strict";var C=r(5386).f,E=r(19316),f=r(50693),S=r(9012),M=r(22399).defaultLine,v=r(1426).extendFlat,c=E.marker.line;ie.exports=v({locations:{valType:"data_array",editType:"calc"},locationmode:E.locationmode,z:{valType:"data_array",editType:"calc"},geojson:v({},E.geojson,{}),featureidkey:E.featureidkey,text:v({},E.text,{}),hovertext:v({},E.hovertext,{}),marker:{line:{color:v({},c.color,{dflt:M}),width:v({},c.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:E.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:E.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:v({},S.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:C(),showlegend:v({},S.showlegend,{dflt:!1})},f("",{cLetter:"z",editTypeOverride:"calc"}))},38675:function(ie,z,r){"use strict";var C=r(92770),E=r(50606).BADNUM,f=r(78803),S=r(75225),M=r(66279);function v(c){return c&&"string"==typeof c}ie.exports=function(c,i){var u,a=i._length,o=new Array(a);u=i.geojson?function(p){return v(p)||C(p)}:v;for(var l=0;l<a;l++){var s=o[l]={},d=i.locations[l],g=i.z[l];u(d)&&C(g)?(s.loc=d,s.z=g):(s.loc=null,s.z=E),s.index=l}return S(o,i),f(c,i,{vals:i.z,containerStr:"",cLetter:"z"}),M(o,i),o}},61869:function(ie,z,r){"use strict";var C=r(71828),E=r(1586),f=r(69568);ie.exports=function(S,M,v,c){function i(s,d){return C.coerce(S,M,f,s,d)}var u=i("locations"),a=i("z");if(u&&u.length&&C.isArrayOrTypedArray(a)&&a.length){M._length=Math.min(u.length,a.length);var o,l=i("geojson");("string"==typeof l&&""!==l||C.isPlainObject(l))&&(o="geojson-id"),"geojson-id"===i("locationmode",o)&&i("featureidkey"),i("text"),i("hovertext"),i("hovertemplate"),i("marker.line.width")&&i("marker.line.color"),i("marker.opacity"),E(S,M,c,i,{prefix:"",cLetter:"z"}),C.coerceSelectionMarkerOpacity(M,i)}else M.visible=!1}},92069:function(ie){"use strict";ie.exports=function(z,r,C,E,f){z.location=r.location,z.z=r.z;var S=E[f];return S.fIn&&S.fIn.properties&&(z.properties=S.fIn.properties),z.ct=S.ct,z}},42300:function(ie,z,r){"use strict";var C=r(89298),E=r(69568),f=r(71828).fillText;ie.exports=function(S,M,v){var c,i,u,a,o=S.cd,l=o[0].trace,s=S.subplot,d=[M,v],g=[M+360,v];for(i=0;i<o.length;i++)if(a=!1,(c=o[i])._polygons){for(u=0;u<c._polygons.length;u++)c._polygons[u].contains(d)&&(a=!a),c._polygons[u].contains(g)&&(a=!a);if(a)break}if(a&&c)return S.x0=S.x1=S.xa.c2p(c.ct),S.y0=S.y1=S.ya.c2p(c.ct),S.index=c.index,S.location=c.loc,S.z=c.z,S.zLabel=C.tickText(s.mockAxis,s.mockAxis.c2l(c.z),"hover").text,S.hovertemplate=c.hovertemplate,function(p,T,_){if(!T.hovertemplate){var y=_.hi||T.hoverinfo,w=String(_.loc),m="all"===y?E.hoverinfo.flags:y.split("+"),b=-1!==m.indexOf("name"),k=-1!==m.indexOf("location"),h=-1!==m.indexOf("z"),O=-1!==m.indexOf("text"),A=[];!b&&k?p.nameOverride=w:(b&&(p.nameOverride=T.name),k&&A.push(w)),h&&A.push(p.zLabel),O&&f(_,T,A),p.extraText=A.join("<br>")}}(S,l,c),[S]}},51319:function(ie,z,r){"use strict";ie.exports={attributes:r(69568),supplyDefaults:r(61869),colorbar:r(61243),calc:r(38675),calcGeoJSON:r(99841).calcGeoJSON,plot:r(99841).plot,style:r(99636).style,styleOnSelect:r(99636).styleOnSelect,hoverPoints:r(42300),eventData:r(92069),selectPoints:r(81253),moduleType:"trace",name:"choropleth",basePlotModule:r(44622),categories:["geo","noOpacity","showLegend"],meta:{}}},99841:function(ie,z,r){"use strict";var C=r(39898),E=r(71828),f=r(41327),S=r(90973).getTopojsonFeatures,M=r(71739).findExtremes,v=r(99636).style;ie.exports={calcGeoJSON:function(c,i){for(var u=c[0].trace,a=i[u.geo],o=a._subplot,l=u.locationmode,s=u._length,d="geojson-id"===l?f.extractTraceFeature(c):S(u,o.topojson),g=[],p=[],T=0;T<s;T++){var _=c[T],y="geojson-id"===l?_.fOut:f.locationToFeature(l,_.loc,d);if(y){_.geojson=y,_.ct=y.properties.ct,_._polygons=f.feature2polygons(y);var w=f.computeBbox(y);g.push(w[0],w[2]),p.push(w[1],w[3])}else _.geojson=null}if("geojson"===a.fitbounds&&"geojson-id"===l){var m=f.computeBbox(f.getTraceGeojson(u));g=[m[0],m[2]],p=[m[1],m[3]]}var b={padded:!0};u._extremes.lon=M(a.lonaxis._ax,g,b),u._extremes.lat=M(a.lataxis._ax,p,b)},plot:function(c,i,u){var a=i.layers.backplot.select(".choroplethlayer");E.makeTraceGroups(a,u,"trace choropleth").each(function(o){var l=C.select(this).selectAll("path.choroplethlocation").data(E.identity);l.enter().append("path").classed("choroplethlocation",!0),l.exit().remove(),v(c,o)})}}},81253:function(ie){"use strict";ie.exports=function(z,r){var C,E,f,S,M,v=z.cd,c=z.xaxis,i=z.yaxis,u=[];if(!1===r)for(C=0;C<v.length;C++)v[C].selected=0;else for(C=0;C<v.length;C++)(f=(E=v[C]).ct)&&(S=c.c2p(f),M=i.c2p(f),r.contains([S,M],null,C,z)?(u.push({pointNumber:C,lon:f[0],lat:f[1]}),E.selected=1):E.selected=0);return u}},99636:function(ie,z,r){"use strict";var C=r(39898),E=r(7901),f=r(91424),S=r(21081);function M(v,c){var i=c[0].trace,u=c[0].node3.selectAll(".choroplethlocation"),a=i.marker||{},o=a.line||{},l=S.makeColorScaleFuncFromTrace(i);u.each(function(s){C.select(this).attr("fill",l(s.z)).call(E.stroke,s.mlc||o.color).call(f.dashLine,"",s.mlw||o.width||0).style("opacity",a.opacity)}),f.selectedPointStyle(u,i)}ie.exports={style:function(v,c){c&&M(0,c)},styleOnSelect:function(v,c){var u=c[0].trace;u.selectedpoints?f.selectedPointStyle(c[0].node3.selectAll(".choroplethlocation"),u):M(0,c)}}},64496:function(ie,z,r){"use strict";var C=r(69568),E=r(50693),f=r(5386).f,S=r(9012),M=r(1426).extendFlat;ie.exports=M({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:M({},C.featureidkey,{}),below:{valType:"string",editType:"plot"},text:C.text,hovertext:C.hovertext,marker:{line:{color:M({},C.marker.line.color,{editType:"plot"}),width:M({},C.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:M({},C.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:M({},C.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:M({},C.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:C.hoverinfo,hovertemplate:f({},{keys:["properties"]}),showlegend:M({},S.showlegend,{dflt:!1})},E("",{cLetter:"z",editTypeOverride:"calc"}))},82004:function(ie,z,r){"use strict";var C=r(92770),E=r(71828),f=r(21081),S=r(91424),M=r(18214).makeBlank,v=r(41327);function c(i){var u,a=i[0].trace,o=a._opts;if(a.selectedpoints){for(var l=S.makeSelectedPointStyleFns(a),s=0;s<i.length;s++){var d=i[s];d.fOut&&(d.fOut.properties.mo2=l.selectedOpacityFn(d))}u={type:"identity",property:"mo2"}}else u=E.isArrayOrTypedArray(a.marker.opacity)?{type:"identity",property:"mo"}:a.marker.opacity;return E.extendFlat(o.fill.paint,{"fill-opacity":u}),E.extendFlat(o.line.paint,{"line-opacity":u}),o}ie.exports={convert:function(i){var u=i[0].trace,a=!0===u.visible&&0!==u._length,o={layout:{visibility:"none"},paint:{}},l={layout:{visibility:"none"},paint:{}},s=u._opts={fill:o,line:l,geojson:M()};if(!a)return s;var d=v.extractTraceFeature(i);if(!d)return s;var g,p,T,_=f.makeColorScaleFuncFromTrace(u),y=u.marker,w=y.line||{};E.isArrayOrTypedArray(y.opacity)&&(g=function(A){var I=A.mo;return C(I)?+E.constrain(I,0,1):0}),E.isArrayOrTypedArray(w.color)&&(p=function(A){return A.mlc}),E.isArrayOrTypedArray(w.width)&&(T=function(A){return A.mlw});for(var m=0;m<i.length;m++){var b=i[m],k=b.fOut;if(k){var h=k.properties;h.fc=_(b.z),g&&(h.mo=g(b)),p&&(h.mlc=p(b)),T&&(h.mlw=T(b)),b.ct=h.ct,b._polygons=v.feature2polygons(k)}}var O=g?{type:"identity",property:"mo"}:y.opacity;return E.extendFlat(o.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":O}),E.extendFlat(l.paint,{"line-color":p?{type:"identity",property:"mlc"}:w.color,"line-width":T?{type:"identity",property:"mlw"}:w.width,"line-opacity":O}),o.layout.visibility="visible",l.layout.visibility="visible",s.geojson={type:"FeatureCollection",features:d},c(i),s},convertOnSelect:c}},22654:function(ie,z,r){"use strict";var C=r(71828),E=r(1586),f=r(64496);ie.exports=function(S,M,v,c){function i(l,s){return C.coerce(S,M,f,l,s)}var u=i("locations"),a=i("z"),o=i("geojson");C.isArrayOrTypedArray(u)&&u.length&&C.isArrayOrTypedArray(a)&&a.length&&("string"==typeof o&&""!==o||C.isPlainObject(o))?(i("featureidkey"),M._length=Math.min(u.length,a.length),i("below"),i("text"),i("hovertext"),i("hovertemplate"),i("marker.line.width")&&i("marker.line.color"),i("marker.opacity"),E(S,M,c,i,{prefix:"",cLetter:"z"}),C.coerceSelectionMarkerOpacity(M,i)):M.visible=!1}},57516:function(ie,z,r){"use strict";ie.exports={attributes:r(64496),supplyDefaults:r(22654),colorbar:r(61243),calc:r(38675),plot:r(7852),hoverPoints:r(42300),eventData:r(92069),selectPoints:r(81253),styleOnSelect:function(C,E){E&&E[0].trace._glTrace.updateOnSelect(E)},getBelow:function(C,E){for(var f=E.getMapLayers(),S=f.length-2;S>=0;S--){var M=f[S].id;if("string"==typeof M&&0===M.indexOf("water"))for(var v=S+1;v<f.length;v++)if("string"==typeof(M=f[v].id)&&-1===M.indexOf("plotly-"))return M}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:r(50101),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},7852:function(ie,z,r){"use strict";var C=r(82004).convert,E=r(82004).convertOnSelect,f=r(77734).traceLayerPrefix;function S(v,c){this.type="choroplethmapbox",this.subplot=v,this.uid=c,this.sourceId="source-"+c,this.layerList=[["fill",f+c+"-fill"],["line",f+c+"-line"]],this.below=null}var M=S.prototype;M.update=function(v){this._update(C(v)),v[0].trace._glTrace=this},M.updateOnSelect=function(v){this._update(E(v))},M._update=function(v){var c=this.subplot,i=this.layerList,u=c.belowLookup["trace-"+this.uid];c.map.getSource(this.sourceId).setData(v.geojson),u!==this.below&&(this._removeLayers(),this._addLayers(v,u),this.below=u);for(var a=0;a<i.length;a++){var o=i[a],s=o[1],d=v[o[0]];c.setOptions(s,"setLayoutProperty",d.layout),"visible"===d.layout.visibility&&c.setOptions(s,"setPaintProperty",d.paint)}},M._addLayers=function(v,c){for(var i=this.subplot,u=this.layerList,a=this.sourceId,o=0;o<u.length;o++){var l=u[o],s=l[0],d=v[s];i.addLayer({type:s,id:l[1],source:a,layout:d.layout,paint:d.paint},c)}},M._removeLayers=function(){for(var v=this.subplot.map,c=this.layerList,i=c.length-1;i>=0;i--)v.removeLayer(c[i][1])},M.dispose=function(){var v=this.subplot.map;this._removeLayers(),v.removeSource(this.sourceId)},ie.exports=function(v,c){var i=c[0].trace,u=new S(v,i.uid),a=u.sourceId,o=C(c),l=u.below=v.belowLookup["trace-"+i.uid];return v.map.addSource(a,{type:"geojson",data:o.geojson}),u._addLayers(o,l),c[0].trace._glTrace=u,u}},12674:function(ie,z,r){"use strict";var C=r(50693),E=r(12663).axisHoverFormat,f=r(5386).f,S=r(2418),M=r(9012),v=r(1426).extendFlat,c={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:f({editType:"calc"},{keys:["norm"]}),uhoverformat:E("u",1),vhoverformat:E("v",1),whoverformat:E("w",1),xhoverformat:E("x"),yhoverformat:E("y"),zhoverformat:E("z"),showlegend:v({},M.showlegend,{dflt:!1})};v(c,C("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(i){c[i]=S[i]}),c.hoverinfo=v({},M.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),c.transforms=void 0,ie.exports=c},31371:function(ie,z,r){"use strict";var C=r(78803);ie.exports=function(E,f){for(var S=f.u,M=f.v,v=f.w,c=Math.min(f.x.length,f.y.length,f.z.length,S.length,M.length,v.length),i=-1/0,u=1/0,a=0;a<c;a++){var o=S[a],l=M[a],s=v[a],d=Math.sqrt(o*o+l*l+s*s);i=Math.max(i,d),u=Math.min(u,d)}f._len=c,f._normMax=i,C(E,f,{vals:[u,i],containerStr:"",cLetter:"c"})}},5453:function(ie,z,r){"use strict";var C=r(9330).gl_cone3d,E=r(9330).gl_cone3d.createConeMesh,f=r(71828).simpleMap,S=r(81697).parseColorScale,M=r(21081).extractOpts,v=r(90060);function c(s,d){this.scene=s,this.uid=d,this.mesh=null,this.data=null}var i=c.prototype;i.handlePick=function(s){if(s.object===this.mesh){var d=s.index=s.data.index,_=this.data.u[d],y=this.data.v[d],w=this.data.w[d];s.traceCoordinate=[this.data.x[d],this.data.y[d],this.data.z[d],_,y,w,Math.sqrt(_*_+y*y+w*w)];var m=this.data.hovertext||this.data.text;return Array.isArray(m)&&void 0!==m[d]?s.textLabel=m[d]:m&&(s.textLabel=m),!0}};var u={xaxis:0,yaxis:1,zaxis:2},a={tip:1,tail:0,cm:.25,center:.5},o={tip:1,tail:1,cm:.75,center:.5};function l(s,d){var g=s.fullSceneLayout,p=s.dataScale,T={};function _(b,k){var h=g[k],O=p[u[k]];return f(b,function(A){return h.d2l(A)*O})}T.vectors=v(_(d.u,"xaxis"),_(d.v,"yaxis"),_(d.w,"zaxis"),d._len),T.positions=v(_(d.x,"xaxis"),_(d.y,"yaxis"),_(d.z,"zaxis"),d._len);var y=M(d);T.colormap=S(d),T.vertexIntensityBounds=[y.min/d._normMax,y.max/d._normMax],T.coneOffset=a[d.anchor],T.coneSize="scaled"===d.sizemode?d.sizeref||.5:d.sizeref&&d._normMax?d.sizeref/d._normMax:.5;var w=C(T),m=d.lightposition;return w.lightPosition=[m.x,m.y,m.z],w.ambient=d.lighting.ambient,w.diffuse=d.lighting.diffuse,w.specular=d.lighting.specular,w.roughness=d.lighting.roughness,w.fresnel=d.lighting.fresnel,w.opacity=d.opacity,d._pad=o[d.anchor]*w.vectorScale*w.coneScale*d._normMax,w}i.update=function(s){this.data=s;var d=l(this.scene,s);this.mesh.update(d)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},ie.exports=function(s,d){var g=s.glplot.gl,p=l(s,d),T=E(g,p),_=new c(s,d.uid);return _.mesh=T,_.data=d,T._trace=_,s.glplot.add(T),_}},91750:function(ie,z,r){"use strict";var C=r(71828),E=r(1586),f=r(12674);ie.exports=function(S,M,v,c){function i(g,p){return C.coerce(S,M,f,g,p)}var u=i("u"),a=i("v"),o=i("w"),l=i("x"),s=i("y"),d=i("z");u&&u.length&&a&&a.length&&o&&o.length&&l&&l.length&&s&&s.length&&d&&d.length?(i("sizeref"),i("sizemode"),i("anchor"),i("lighting.ambient"),i("lighting.diffuse"),i("lighting.specular"),i("lighting.roughness"),i("lighting.fresnel"),i("lightposition.x"),i("lightposition.y"),i("lightposition.z"),E(S,M,c,i,{prefix:"",cLetter:"c"}),i("text"),i("hovertext"),i("hovertemplate"),i("uhoverformat"),i("vhoverformat"),i("whoverformat"),i("xhoverformat"),i("yhoverformat"),i("zhoverformat"),M._length=null):M.visible=!1}},98128:function(ie,z,r){"use strict";ie.exports={moduleType:"trace",name:"cone",basePlotModule:r(58547),categories:["gl3d","showLegend"],attributes:r(12674),supplyDefaults:r(91750),colorbar:{min:"cmin",max:"cmax"},calc:r(31371),plot:r(5453),eventData:function(C,E){return C.norm=E.traceCoordinate[6],C},meta:{}}},70600:function(ie,z,r){"use strict";var C=r(21606),E=r(82196),f=r(12663),S=f.axisHoverFormat,M=f.descriptionOnlyNumbers,v=r(50693),c=r(79952).P,i=r(41940),u=r(1426).extendFlat,a=r(74808),o=a.COMPARISON_OPS2,l=a.INTERVAL_OPS,s=E.line;ie.exports=u({z:C.z,x:C.x,x0:C.x0,dx:C.dx,y:C.y,y0:C.y0,dy:C.dy,xperiod:C.xperiod,yperiod:C.yperiod,xperiod0:E.xperiod0,yperiod0:E.yperiod0,xperiodalignment:C.xperiodalignment,yperiodalignment:C.yperiodalignment,text:C.text,hovertext:C.hovertext,transpose:C.transpose,xtype:C.xtype,ytype:C.ytype,xhoverformat:S("x"),yhoverformat:S("y"),zhoverformat:S("z",1),hovertemplate:C.hovertemplate,texttemplate:u({},C.texttemplate,{}),textfont:u({},C.textfont,{}),hoverongaps:C.hoverongaps,connectgaps:u({},C.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:i({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:M("contour label")},operation:{valType:"enumerated",values:[].concat(o).concat(l),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:u({},s.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:c,smoothing:u({},s.smoothing,{}),editType:"plot"}},v("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},27529:function(ie,z,r){"use strict";var C=r(21081),E=r(90757),f=r(18670),S=r(53572);ie.exports=function(M,v){var c=E(M,v),i=c[0].z;f(v,i);var u,a=v.contours,o=C.extractOpts(v);if("heatmap"===a.coloring&&o.auto&&!1===v.autocontour){var l=a.start,s=S(a),d=a.size||1,g=Math.floor((s-l)/d)+1;isFinite(d)||(d=1,g=1);var p=l-d/2;u=[p,p+g*d]}else u=i;return C.calc(M,v,{vals:u,cLetter:"z"}),c}},20083:function(ie){"use strict";ie.exports=function(z,r){var C,E=z[0],f=E.z;switch(r.type){case"levels":var S=Math.min(f[0][0],f[0][1]);for(C=0;C<z.length;C++){var M=z[C];M.prefixBoundary=!M.edgepaths.length&&(S>M.level||M.starts.length&&S===M.level)}break;case"constraint":if(E.prefixBoundary=!1,E.edgepaths.length)return;var v=E.x.length,c=E.y.length,i=-1/0,u=1/0;for(C=0;C<c;C++)u=Math.min(u,f[C][0]),u=Math.min(u,f[C][v-1]),i=Math.max(i,f[C][0]),i=Math.max(i,f[C][v-1]);for(C=1;C<v-1;C++)u=Math.min(u,f[0][C]),u=Math.min(u,f[c-1][C]),i=Math.max(i,f[0][C]),i=Math.max(i,f[c-1][C]);var a,o,l=r.value;switch(r._operation){case">":l>i&&(E.prefixBoundary=!0);break;case"<":(l<u||E.starts.length&&l===u)&&(E.prefixBoundary=!0);break;case"[]":a=Math.min(l[0],l[1]),((o=Math.max(l[0],l[1]))<u||a>i||E.starts.length&&o===u)&&(E.prefixBoundary=!0);break;case"][":a=Math.min(l[0],l[1]),o=Math.max(l[0],l[1]),a<u&&o>i&&(E.prefixBoundary=!0)}}}},90654:function(ie,z,r){"use strict";var C=r(21081),E=r(86068),f=r(53572);ie.exports={min:"zmin",max:"zmax",calc:function(S,M,v){var c=M.contours,i=M.line,u=c.size||1,a=c.coloring,o=E(M,{isColorbar:!0});if("heatmap"===a){var l=C.extractOpts(M);v._fillgradient=l.reversescale?C.flipScale(l.colorscale):l.colorscale,v._zrange=[l.min,l.max]}else"fill"===a&&(v._fillcolor=o);v._line={color:"lines"===a?o:i.color,width:!1!==c.showlines?i.width:0,dash:i.dash},v._levels={start:c.start,end:f(c),size:u}}}},36914:function(ie){"use strict";ie.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},83179:function(ie,z,r){"use strict";var C=r(92770),E=r(14523),f=r(7901),S=f.addOpacity,M=f.opacity,v=r(74808),c=v.CONSTRAINT_REDUCTION,i=v.COMPARISON_OPS2;ie.exports=function(u,a,o,l,s,d){var g,p,T,w,m,b,_=a.contours,y=o("contours.operation");_._operation=c[y],w=o,-1===i.indexOf((m=_).operation)?(w("contours.value",[0,1]),Array.isArray(m.value)?m.value.length>2?m.value=m.value.slice(2):0===m.length?m.value=[0,1]:m.length<2?(b=parseFloat(m.value[0]),m.value=[b,b+1]):m.value=[parseFloat(m.value[0]),parseFloat(m.value[1])]:C(m.value)&&(b=parseFloat(m.value),m.value=[b,b+1])):(w("contours.value",0),C(m.value)||(m.value=Array.isArray(m.value)?parseFloat(m.value[0]):0)),"="===y?g=_.showlines=!0:(g=o("contours.showlines"),T=o("fillcolor",S((u.line||{}).color||s,.5))),g&&(p=o("line.color",T&&M(T)?S(a.fillcolor,1):s),o("line.width",2),o("line.dash")),o("line.smoothing"),E(o,l,p,d)}},64237:function(ie,z,r){"use strict";var C=r(74808),E=r(92770);function f(v,c){var i,u=Array.isArray(c);function a(o){return E(o)?+o:null}return-1!==C.COMPARISON_OPS2.indexOf(v)?i=a(u?c[0]:c):-1!==C.INTERVAL_OPS.indexOf(v)?i=u?[a(c[0]),a(c[1])]:[a(c),a(c)]:-1!==C.SET_OPS.indexOf(v)&&(i=u?c.map(a):[a(c)]),i}function S(v){return function(c){c=f(v,c);var i=Math.min(c[0],c[1]),u=Math.max(c[0],c[1]);return{start:i,end:u,size:u-i}}}function M(v){return function(c){return{start:c=f(v,c),end:1/0,size:1/0}}}ie.exports={"[]":S("[]"),"][":S("]["),">":M(">"),"<":M("<"),"=":M("=")}},67217:function(ie){"use strict";ie.exports=function(z,r,C,E){var f=E("contours.start"),S=E("contours.end"),M=!1===f||!1===S,v=C("contours.size");!(M?r.autocontour=!0:C("autocontour",!1))&&v||C("ncontours")}},84857:function(ie,z,r){"use strict";var C=r(71828);function E(f){return C.extendFlat({},f,{edgepaths:C.extendDeep([],f.edgepaths),paths:C.extendDeep([],f.paths),starts:C.extendDeep([],f.starts)})}ie.exports=function(f,S){var M,v,c,i=function(o){return o.reverse()},u=function(o){return o};switch(S){case"=":case"<":return f;case">":for(1!==f.length&&C.warn("Contour data invalid for the specified inequality operation."),v=f[0],M=0;M<v.edgepaths.length;M++)v.edgepaths[M]=i(v.edgepaths[M]);for(M=0;M<v.paths.length;M++)v.paths[M]=i(v.paths[M]);for(M=0;M<v.starts.length;M++)v.starts[M]=i(v.starts[M]);return f;case"][":var a=i;i=u,u=a;case"[]":for(2!==f.length&&C.warn("Contour data invalid for the specified inequality range operation."),v=E(f[0]),c=E(f[1]),M=0;M<v.edgepaths.length;M++)v.edgepaths[M]=i(v.edgepaths[M]);for(M=0;M<v.paths.length;M++)v.paths[M]=i(v.paths[M]);for(M=0;M<v.starts.length;M++)v.starts[M]=i(v.starts[M]);for(;c.edgepaths.length;)v.edgepaths.push(u(c.edgepaths.shift()));for(;c.paths.length;)v.paths.push(u(c.paths.shift()));for(;c.starts.length;)v.starts.push(u(c.starts.shift()));return[v]}}},13031:function(ie,z,r){"use strict";var C=r(71828),E=r(67684),f=r(73927),S=r(83179),M=r(67217),v=r(8724),c=r(58623),i=r(70600);ie.exports=function(u,a,o,l){function s(g,p){return C.coerce(u,a,i,g,p)}if(E(u,a,s,l)){f(u,a,l,s),s("xhoverformat"),s("yhoverformat"),s("text"),s("hovertext"),s("hoverongaps"),s("hovertemplate");var d="constraint"===s("contours.type");s("connectgaps",C.isArray1D(a.z)),d?S(u,a,s,l,o):(M(u,a,s,function(g){return C.coerce2(u,a,i,g)}),v(u,a,s,l)),a.contours&&"heatmap"===a.contours.coloring&&c(s,l)}else a.visible=!1}},87558:function(ie,z,r){"use strict";var C=r(71828),E=r(64237),f=r(53572);ie.exports=function(S,M,v){for(var c="constraint"===S.type?E[S._operation](S.value):S,i=c.size,u=[],a=f(c),o=v.trace._carpetTrace,l=o?{xaxis:o.aaxis,yaxis:o.baxis,x:v.a,y:v.b}:{xaxis:M.xaxis,yaxis:M.yaxis,x:v.x,y:v.y},s=c.start;s<a;s+=i)if(u.push(C.extendFlat({level:s,crossings:{},starts:[],edgepaths:[],paths:[],z:v.z,smoothing:v.trace.line.smoothing},l)),u.length>1e3){C.warn("Too many contours, clipping at 1000",S);break}return u}},53572:function(ie){"use strict";ie.exports=function(z){return z.end+z.size/1e6}},81696:function(ie,z,r){"use strict";var C=r(71828),E=r(36914);function f(v,c,i,u){return Math.abs(v[0]-c[0])<i&&Math.abs(v[1]-c[1])<u}function S(v,c,i,u,a){var o,le,he,ge,xe,l=c.join(","),s=v.crossings[l],d=(he=c,ge=0,xe=0,(le=s)>20&&i?208===le||1114===le?ge=0===he[0]?1:-1:xe=0===he[1]?1:-1:-1!==E.BOTTOMSTART.indexOf(le)?xe=1:-1!==E.LEFTSTART.indexOf(le)?ge=1:-1!==E.TOPSTART.indexOf(le)?xe=-1:ge=-1,[ge,xe]),g=[M(v,c,[-d[0],-d[1]])],p=v.z.length,T=v.z[0].length,_=c.slice(),y=d.slice();for(o=0;o<1e4;o++){if(s>20?v.crossings[l]=E.SADDLEREMAINDER[s=E.CHOOSESADDLE[s][(d[0]||d[1])<0?0:1]]:delete v.crossings[l],!(d=E.NEWDELTA[s])){C.log("Found bad marching index:",s,c,v.level);break}if(g.push(M(v,c,d)),c[0]+=d[0],c[1]+=d[1],l=c.join(","),f(g[g.length-1],g[g.length-2],u,a)&&g.pop(),c[0]===_[0]&&c[1]===_[1]&&d[0]===y[0]&&d[1]===y[1]||i&&(d[0]&&(c[0]<0||c[0]>T-2)||d[1]&&(c[1]<0||c[1]>p-2)))break;s=v.crossings[l]}1e4===o&&C.log("Infinite loop in contour?");var m,b,k,h,O,A,I,P,L,N,B,W,j,Z,V,q=f(g[0],g[g.length-1],u,a),G=0,H=.2*v.smoothing,ne=[],X=0;for(o=1;o<g.length;o++)Z=(W=g[o])[2]-(j=g[o-1])[2],V=W[3]-j[3],G+=I=Math.sqrt(Z*Z+V*V),ne.push(I);var $=G/ne.length*H;function Q(le){return g[le%g.length]}for(o=g.length-2;o>=X;o--)if((m=ne[o])<$){for(k=0,b=o-1;b>=X&&m+ne[b]<$;b--)m+=ne[b];if(q&&o===g.length-2)for(k=0;k<b&&m+ne[k]<$;k++)m+=ne[k];O=o-b+k+1,A=Math.floor((o+b+k+2)/2),h=q||o!==g.length-2?q||-1!==b?O%2?Q(A):[(Q(A)[0]+Q(A+1)[0])/2,(Q(A)[1]+Q(A+1)[1])/2]:g[0]:g[g.length-1],g.splice(b+1,o-b+1,h),o=b+1,k&&(X=k),q&&(o===g.length-2?g[k]=g[g.length-1]:0===o&&(g[g.length-1]=g[0]))}for(g.splice(0,X),o=0;o<g.length;o++)g[o].length=2;if(!(g.length<2))if(q)g.pop(),v.paths.push(g);else{i||C.log("Unclosed interior contour?",v.level,_.join(","),g.join("L"));var te=!1;for(P=0;P<v.edgepaths.length;P++)if(N=v.edgepaths[P],!te&&f(N[0],g[g.length-1],u,a)){g.pop(),te=!0;var re=!1;for(L=0;L<v.edgepaths.length;L++)if(f((B=v.edgepaths[L])[B.length-1],g[0],u,a)){re=!0,g.shift(),v.edgepaths.splice(P,1),L===P?v.paths.push(g.concat(B)):(L>P&&L--,v.edgepaths[L]=B.concat(g,N));break}re||(v.edgepaths[P]=g.concat(N))}for(P=0;P<v.edgepaths.length&&!te;P++)f((N=v.edgepaths[P])[N.length-1],g[0],u,a)&&(g.shift(),v.edgepaths[P]=N.concat(g),te=!0);te||v.edgepaths.push(g)}}function M(v,c,i){var u=c[0]+Math.max(i[0],0),a=c[1]+Math.max(i[1],0),o=v.z[a][u],l=v.xaxis,s=v.yaxis;if(i[1]){var d=(v.level-o)/(v.z[a][u+1]-o),g=(1!==d?(1-d)*l.c2l(v.x[u]):0)+(0!==d?d*l.c2l(v.x[u+1]):0);return[l.c2p(l.l2c(g),!0),s.c2p(v.y[a],!0),u+d,a]}var p=(v.level-o)/(v.z[a+1][u]-o),T=(1!==p?(1-p)*s.c2l(v.y[a]):0)+(0!==p?p*s.c2l(v.y[a+1]):0);return[l.c2p(v.x[u],!0),s.c2p(s.l2c(T),!0),u,a+p]}ie.exports=function(v,c,i){var u,a,o,l;for(c=c||.01,i=i||.01,a=0;a<v.length;a++){for(o=v[a],l=0;l<o.starts.length;l++)S(o,o.starts[l],"edge",c,i);for(u=0;Object.keys(o.crossings).length&&u<1e4;)u++,S(o,Object.keys(o.crossings)[0].split(",").map(Number),void 0,c,i);1e4===u&&C.log("Infinite loop in contour?")}}},52421:function(ie,z,r){"use strict";var C=r(7901),E=r(46248);ie.exports=function(f,S,M,v,c){c||(c={}),c.isContour=!0;var i=E(f,S,M,v,c);return i&&i.forEach(function(u){var a=u.trace;"constraint"===a.contours.type&&(a.fillcolor&&C.opacity(a.fillcolor)?u.color=C.addOpacity(a.fillcolor,1):a.contours.showlines&&C.opacity(a.line.color)&&(u.color=C.addOpacity(a.line.color,1)))}),i}},99442:function(ie,z,r){"use strict";ie.exports={attributes:r(70600),supplyDefaults:r(13031),calc:r(27529),plot:r(29854).plot,style:r(84426),colorbar:r(90654),hoverPoints:r(52421),moduleType:"trace",name:"contour",basePlotModule:r(93612),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},14523:function(ie,z,r){"use strict";var C=r(71828);ie.exports=function(E,f,S,M){if(M||(M={}),E("contours.showlabels")){var v=f.font;C.coerceFont(E,"contours.labelfont",{family:v.family,size:v.size,color:S}),E("contours.labelformat")}!1!==M.hasHover&&E("zhoverformat")}},86068:function(ie,z,r){"use strict";var C=r(39898),E=r(21081),f=r(53572);ie.exports=function(S){var M=S.contours,v=M.start,c=f(M),i=M.size||1,u=Math.floor((c-v)/i)+1,a="lines"===M.coloring?0:1,o=E.extractOpts(S);isFinite(i)||(i=1,u=1);var l,s,d=o.reversescale?E.flipScale(o.colorscale):o.colorscale,g=d.length,p=new Array(g),T=new Array(g);if("heatmap"===M.coloring){var _=o.min,y=o.max;for(s=0;s<g;s++)p[s]=(l=d[s])[0]*(y-_)+_,T[s]=l[1];var w=C.extent([_,y,M.start,M.start+i*(u-1)]),m=w[_<y?0:1],b=w[_<y?1:0];m!==_&&(p.splice(0,0,m),T.splice(0,0,T[0])),b!==y&&(p.push(b),T.push(T[T.length-1]))}else for(s=0;s<g;s++)p[s]=((l=d[s])[0]*(u+a-1)-a/2)*i+v,T[s]=l[1];return E.makeColorScaleFunc({domain:p,range:T},{noNumericCheck:!0})}},87678:function(ie,z,r){"use strict";var C=r(36914);function E(f,S){var M=(S[0][0]>f?0:1)+(S[0][1]>f?0:2)+(S[1][1]>f?0:4)+(S[1][0]>f?0:8);return 5===M||10===M?f>(S[0][0]+S[0][1]+S[1][0]+S[1][1])/4?5===M?713:1114:5===M?104:208:15===M?0:M}ie.exports=function(f){var S,M,v,c,i,u,a,o,l,s=f[0].z,d=s.length,g=s[0].length,p=2===d||2===g;for(M=0;M<d-1;M++)for(c=[],0===M&&(c=c.concat(C.BOTTOMSTART)),M===d-2&&(c=c.concat(C.TOPSTART)),S=0;S<g-1;S++)for(v=c.slice(),0===S&&(v=v.concat(C.LEFTSTART)),S===g-2&&(v=v.concat(C.RIGHTSTART)),i=S+","+M,u=[[s[M][S],s[M][S+1]],[s[M+1][S],s[M+1][S+1]]],l=0;l<f.length;l++)(a=E((o=f[l]).level,u))&&(o.crossings[i]=a,-1!==v.indexOf(a)&&(o.starts.push([S,M]),p&&-1!==v.indexOf(a,v.indexOf(a)+1)&&o.starts.push([S,M])))}},29854:function(ie,z,r){"use strict";var C=r(39898),E=r(71828),f=r(91424),S=r(21081),M=r(63893),v=r(89298),c=r(21994),i=r(50347),u=r(87678),a=r(81696),o=r(87558),l=r(84857),s=r(20083),d=r(36914),g=d.LABELOPTIMIZER;function p(y,w){var m,b,k,h,O,A,P="",L=0,N=y.edgepaths.map(function(q,G){return G}),B=!0;function W(q){return Math.abs(q[1]-w[2][1])<.01}function Z(q){return Math.abs(q[0]-w[2][0])<.01}for(;N.length;){for(A=f.smoothopen(y.edgepaths[L],y.smoothing),P+=B?A:A.replace(/^M/,"L"),N.splice(N.indexOf(L),1),m=y.edgepaths[L][y.edgepaths[L].length-1],h=-1,k=0;k<4;k++){if(!m){E.log("Missing end?",L,y);break}for(Math.abs(m[1]-w[0][1])<.01&&!Z(m)?b=w[1]:Math.abs(m[0]-w[0][0])<.01?b=w[0]:W(m)?b=w[3]:Z(m)&&(b=w[2]),O=0;O<y.edgepaths.length;O++){var V=y.edgepaths[O][0];Math.abs(m[0]-b[0])<.01?Math.abs(m[0]-V[0])<.01&&(V[1]-m[1])*(b[1]-V[1])>=0&&(b=V,h=O):Math.abs(m[1]-b[1])<.01?Math.abs(m[1]-V[1])<.01&&(V[0]-m[0])*(b[0]-V[0])>=0&&(b=V,h=O):E.log("endpt to newendpt is not vert. or horz.",m,b,V)}if(m=b,h>=0)break;P+="L"+b}if(h===y.edgepaths.length){E.log("unclosed perimeter path");break}(B=-1===N.indexOf(L=h))&&(L=N[0],P+="Z")}for(L=0;L<y.paths.length;L++)P+=f.smoothclosed(y.paths[L],y.smoothing);return P}function T(y,w,m,b){var k=w.width/2,h=w.height/2,O=y.x,A=y.y,I=y.theta,P=Math.cos(I)*k,L=Math.sin(I)*k,N=(O>b.center?b.right-O:O-b.left)/(P+Math.abs(Math.sin(I)*h)),B=(A>b.middle?b.bottom-A:A-b.top)/(Math.abs(L)+Math.cos(I)*h);if(N<1||B<1)return 1/0;var W=g.EDGECOST*(1/(N-1)+1/(B-1));W+=g.ANGLECOST*I*I;for(var j=O-P,Z=A-L,V=O+P,q=A+L,G=0;G<m.length;G++){var H=m[G],ne=Math.cos(H.theta)*H.width/2,X=Math.sin(H.theta)*H.width/2,$=2*E.segmentDistance(j,Z,V,q,H.x-ne,H.y-X,H.x+ne,H.y+X)/(w.height+H.height),Q=H.level===w.level,te=Q?g.SAMELEVELDISTANCE:1;if($<=te)return 1/0;W+=g.NEIGHBORCOST*(Q?g.SAMELEVELFACTOR:1)/($-te)}return W}function _(y){var w,m,b=y.trace._emptypoints,k=[],h=y.z.length,O=y.z[0].length,A=[];for(w=0;w<O;w++)A.push(1);for(w=0;w<h;w++)k.push(A.slice());for(w=0;w<b.length;w++)k[(m=b[w])[0]][m[1]]=0;return y.zmask=k,k}z.plot=function(y,w,m,b){var k=w.xaxis,h=w.yaxis;E.makeTraceGroups(b,m,"contour").each(function(O){var A=C.select(this),I=O[0],L=I.x,N=I.y,B=I.trace.contours,W=o(B,w,I),j=E.ensureSingle(A,"g","heatmapcoloring"),Z=[];"heatmap"===B.coloring&&(Z=[O]),i(y,w,Z,j),u(W),a(W);var Q,te,re,V=k.c2p(L[0],!0),q=k.c2p(L[L.length-1],!0),G=h.c2p(N[0],!0),H=h.c2p(N[N.length-1],!0),ne=[[V,H],[q,H],[q,G],[V,G]],X=W;"constraint"===B.type&&(X=l(W,B._operation)),Q=ne,te=B,(re=E.ensureSingle(A,"g","contourbg").selectAll("path").data("fill"===te.coloring?[0]:[])).enter().append("path"),re.exit().remove(),re.attr("d","M"+Q.join("L")+"Z").style("stroke","none"),function($,Q,te,re){var le="fill"===re.coloring||"constraint"===re.type&&"="!==re._operation,ue="M"+te.join("L")+"Z";le&&s(Q,re);var he=E.ensureSingle($,"g","contourfill").selectAll("path").data(le?Q:[]);he.enter().append("path"),he.exit().remove(),he.each(function(ge){var xe=(ge.prefixBoundary?ue:"")+p(ge,te);xe?C.select(this).attr("d",xe).style("stroke","none"):C.select(this).remove()})}(A,X,ne,B),function($,Q,te,re,le){var ue=te._context.staticPlot,he=E.ensureSingle($,"g","contourlines"),ge=!1!==le.showlines,xe=le.showlabels,ke=ge&&xe,Ae=z.createLines(he,ge||xe,Q,ue),pe=z.createLineClip(he,ke,te,re.trace.uid),ye=$.selectAll("g.contourlabels").data(xe?[0]:[]);if(ye.exit().remove(),ye.enter().append("g").classed("contourlabels",!0),xe){var Ne=[],be=[];E.clearLocationCache();var Ee=z.labelFormatter(te,re),Oe=f.tester.append("text").attr("data-notex",1).call(f.font,le.labelfont),De=Q[0].xaxis,oe=Q[0].yaxis,de=De._length,_e=oe._length,Me=De.range,Pe=oe.range,Ue=E.aggNums(Math.min,null,re.x),Be=E.aggNums(Math.max,null,re.x),Ve=E.aggNums(Math.min,null,re.y),ve=E.aggNums(Math.max,null,re.y),Te=Math.max(De.c2p(Ue,!0),0),Ce=Math.min(De.c2p(Be,!0),de),We=Math.max(oe.c2p(ve,!0),0),Ke=Math.min(oe.c2p(Ve,!0),_e),Je={};Me[0]<Me[1]?(Je.left=Te,Je.right=Ce):(Je.left=Ce,Je.right=Te),Pe[0]<Pe[1]?(Je.top=We,Je.bottom=Ke):(Je.top=Ke,Je.bottom=We),Je.middle=(Je.top+Je.bottom)/2,Je.center=(Je.left+Je.right)/2,Ne.push([[Je.left,Je.top],[Je.right,Je.top],[Je.right,Je.bottom],[Je.left,Je.bottom]]);var ht=Math.sqrt(de*de+_e*_e),ft=d.LABELDISTANCE*ht/Math.max(1,Q.length/d.LABELINCREASE);Ae.each(function(mt){var At=z.calcTextOpts(mt.level,Ee,Oe,te);C.select(this).selectAll("path").each(function(){var Rt=E.getVisibleSegment(this,Je,At.height/2);if(Rt&&!(Rt.len<(At.width+At.height)*d.LABELMIN))for(var It=Math.min(Math.ceil(Rt.len/ft),d.LABELMAX),Pt=0;Pt<It;Pt++){var Bt=z.findBestTextLocation(this,Rt,At,be,Je);if(!Bt)break;z.addLabelData(Bt,At,be,Ne)}})}),Oe.remove(),z.drawLabels(ye,be,te,pe,ke?Ne:null)}xe&&!ge&&Ae.remove()}(A,W,y,I,B),function($,Q,te,re,le){var ue=re.trace,ge="clip"+ue.uid,xe=te._fullLayout._clips.selectAll("#"+ge).data(ue.connectgaps?[]:[0]);if(xe.enter().append("clipPath").classed("contourclip",!0).attr("id",ge),xe.exit().remove(),!1===ue.connectgaps){var ke={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:Q.xaxis,yaxis:Q.yaxis,x:re.x,y:re.y,z:_(re),smoothing:0};u([ke]),a([ke]),s([ke],{type:"levels"}),E.ensureSingle(xe,"path","").attr("d",(ke.prefixBoundary?"M"+le.join("L")+"Z":"")+p(ke,le))}else ge=null;f.setClipUrl($,ge,te)}(A,w,y,I,ne)})},z.createLines=function(y,w,m,b){var k=m[0].smoothing,h=y.selectAll("g.contourlevel").data(w?m:[]);if(h.exit().remove(),h.enter().append("g").classed("contourlevel",!0),w){var O=h.selectAll("path.openline").data(function(I){return I.pedgepaths||I.edgepaths});O.exit().remove(),O.enter().append("path").classed("openline",!0),O.attr("d",function(I){return f.smoothopen(I,k)}).style("stroke-miterlimit",1).style("vector-effect",b?"none":"non-scaling-stroke");var A=h.selectAll("path.closedline").data(function(I){return I.ppaths||I.paths});A.exit().remove(),A.enter().append("path").classed("closedline",!0),A.attr("d",function(I){return f.smoothclosed(I,k)}).style("stroke-miterlimit",1).style("vector-effect",b?"none":"non-scaling-stroke")}return h},z.createLineClip=function(y,w,m,b){var k=w?"clipline"+b:null,h=m._fullLayout._clips.selectAll("#"+k).data(w?[0]:[]);return h.exit().remove(),h.enter().append("clipPath").classed("contourlineclip",!0).attr("id",k),f.setClipUrl(y,k,m),h},z.labelFormatter=function(y,w){var m=y._fullLayout,b=w.trace,k=b.contours,h={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(k.labelformat)h.tickformat=k.labelformat,c(h,m);else{var O=S.extractOpts(b);if(O&&O.colorbar&&O.colorbar._axis)h=O.colorbar._axis;else{if("constraint"===k.type){var A=k.value;h.range=Array.isArray(A)?[A[0],A[A.length-1]]:[A,A]}else h.range=[k.start,k.end],h.nticks=(k.end-k.start)/k.size;h.range[0]===h.range[1]&&(h.range[1]+=h.range[0]||1),h.nticks||(h.nticks=1e3),c(h,m),v.prepTicks(h),h._tmin=null,h._tmax=null}}return function(I){return v.tickText(h,I).text}},z.calcTextOpts=function(y,w,m,b){var k=w(y);m.text(k).call(M.convertToTspans,b);var h=m.node(),O=f.bBox(h,!0);return{text:k,width:O.width,height:O.height,fontSize:+h.style["font-size"].replace("px",""),level:y,dy:(O.top+O.bottom)/2}},z.findBestTextLocation=function(y,w,m,b,k){var h,O,A,I,P,L=m.width;w.isClosed?(h=w.min+(O=w.len/g.INITIALSEARCHPOINTS)/2,A=w.max):(h=w.min+(O=(w.len-L)/(g.INITIALSEARCHPOINTS+1))+L/2,A=w.max-(O+L)/2);for(var N=1/0,B=0;B<g.ITERATIONS;B++){for(var W=h;W<A;W+=O){var j=E.getTextLocation(y,w.total,W,L),Z=T(j,m,b,k);Z<N&&(N=Z,P=j,I=W)}if(N>2*g.MAXCOST)break;B&&(O/=2),A=(h=I-O/2)+1.5*O}if(N<=g.MAXCOST)return P},z.addLabelData=function(y,w,m,b){var k=w.fontSize,h=w.width+k/3,O=Math.max(0,w.height-k/3),A=y.x,I=y.y,P=y.theta,L=Math.sin(P),N=Math.cos(P),B=function(j,Z){return[A+j*N-Z*L,I+j*L+Z*N]},W=[B(-h/2,-O/2),B(-h/2,O/2),B(h/2,O/2),B(h/2,-O/2)];m.push({text:w.text,x:A,y:I,dy:w.dy,theta:P,level:w.level,width:h,height:O}),b.push(W)},z.drawLabels=function(y,w,m,b,k){var h=y.selectAll("text").data(w,function(I){return I.text+","+I.x+","+I.y+","+I.theta});if(h.exit().remove(),h.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(I){var P=I.x+Math.sin(I.theta)*I.dy,L=I.y-Math.cos(I.theta)*I.dy;C.select(this).text(I.text).attr({x:P,y:L,transform:"rotate("+180*I.theta/Math.PI+" "+P+" "+L+")"}).call(M.convertToTspans,m)}),k){for(var O="",A=0;A<k.length;A++)O+="M"+k[A].join("L")+"Z";E.ensureSingle(b,"path","").attr("d",O)}}},18670:function(ie,z,r){"use strict";var C=r(89298),E=r(71828);function f(S,M,v){var c={type:"linear",range:[S,M]};return C.autoTicks(c,(M-S)/(v||15)),c}ie.exports=function(S,M){var v=S.contours;if(S.autocontour){var c=S.zmin,i=S.zmax;(S.zauto||void 0===c)&&(c=E.aggNums(Math.min,null,M)),(S.zauto||void 0===i)&&(i=E.aggNums(Math.max,null,M));var u=f(c,i,S.ncontours);v.size=u.dtick,v.start=C.tickFirst(u),u.range.reverse(),v.end=C.tickFirst(u),v.start===c&&(v.start+=v.size),v.end===i&&(v.end-=v.size),v.start>v.end&&(v.start=v.end=(v.start+v.end)/2),S._input.contours||(S._input.contours={}),E.extendFlat(S._input.contours,{start:v.start,end:v.end,size:v.size}),S._input.autocontour=!0}else if("constraint"!==v.type){var a,o=v.start,l=v.end,s=S._input.contours;o>l&&(v.start=s.start=l,l=v.end=s.end=o,o=v.start),v.size>0||(a=o===l?1:f(o,l,S.ncontours).dtick,s.size=v.size=a)}}},84426:function(ie,z,r){"use strict";var C=r(39898),E=r(91424),f=r(70035),S=r(86068);ie.exports=function(M){var v=C.select(M).selectAll("g.contour");v.style("opacity",function(c){return c[0].trace.opacity}),v.each(function(c){var i=C.select(this),u=c[0].trace,a=u.contours,o=u.line,l=a.size||1,s=a.start,d="constraint"===a.type,g=!d&&"lines"===a.coloring,p=!d&&"fill"===a.coloring,T=g||p?S(u):null;i.selectAll("g.contourlevel").each(function(w){C.select(this).selectAll("path").call(E.lineGroupStyle,o.width,g?T(w.level):o.color,o.dash)});var _=a.labelfont;if(i.selectAll("g.contourlabels text").each(function(w){E.font(C.select(this),{family:_.family,size:_.size,color:_.color||(g?T(w.level):o.color)})}),d)i.selectAll("g.contourfill path").style("fill",u.fillcolor);else if(p){var y;i.selectAll("g.contourfill path").style("fill",function(w){return void 0===y&&(y=w.level),T(w.level+.5*l)}),void 0===y&&(y=s),i.selectAll("g.contourbg path").style("fill",T(y-.5*l))}}),f(M)}},8724:function(ie,z,r){"use strict";var C=r(1586),E=r(14523);ie.exports=function(f,S,M,v,c){var i,u=M("contours.coloring"),a="";"fill"===u&&(i=M("contours.showlines")),!1!==i&&("lines"!==u&&(a=M("line.color","#000")),M("line.width",.5),M("line.dash")),"none"!==u&&(!0!==f.showlegend&&(S.showlegend=!1),S._dfltShowLegend=!1,C(f,S,v,M,{prefix:"",cLetter:"z"})),M("line.smoothing"),E(M,v,a,c)}},88085:function(ie,z,r){"use strict";var C=r(21606),E=r(70600),f=r(50693),S=r(1426).extendFlat,M=E.contours;ie.exports=S({carpet:{valType:"string",editType:"calc"},z:C.z,a:C.x,a0:C.x0,da:C.dx,b:C.y,b0:C.y0,db:C.dy,text:C.text,hovertext:C.hovertext,transpose:C.transpose,atype:C.xtype,btype:C.ytype,fillcolor:E.fillcolor,autocontour:E.autocontour,ncontours:E.ncontours,contours:{type:M.type,start:M.start,end:M.end,size:M.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:M.showlines,showlabels:M.showlabels,labelfont:M.labelfont,labelformat:M.labelformat,operation:M.operation,value:M.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:E.line.color,width:E.line.width,dash:E.line.dash,smoothing:E.line.smoothing,editType:"plot"},transforms:void 0},f("",{cLetter:"z",autoColorDflt:!1}))},59885:function(ie,z,r){"use strict";var C=r(78803),E=r(71828),f=r(68296),S=r(4742),M=r(824),v=r(43907),c=r(70769),i=r(75005),u=r(22882),a=r(18670);ie.exports=function(o,l){var s=l._carpetTrace=u(o,l);if(s&&s.visible&&"legendonly"!==s.visible){if(!l.a||!l.b){var d=o.data[s.index],g=o.data[l.index];g.a||(g.a=d.a),g.b||(g.b=d.b),i(g,l,l._defaultColor,o._fullLayout)}var p=function(T,_){var y,w,m,b,k,h,O,A=_._carpetTrace,I=A.aaxis,P=A.baxis;I._minDtick=0,P._minDtick=0,E.isArray1D(_.z)&&f(_,I,P,"a","b",["z"]),y=_._a=_._a||_.a,b=_._b=_._b||_.b,y=y?I.makeCalcdata(_,"_a"):[],b=b?P.makeCalcdata(_,"_b"):[],w=_.a0||0,m=_.da||1,k=_.b0||0,h=_.db||1,O=_._z=S(_._z||_.z,_.transpose),_._emptypoints=v(O),M(O,_._emptypoints);var L=E.maxRowLength(O),j={a:c(_,"scaled"===_.xtype?"":y,w,m,L,I),b:c(_,"scaled"===_.ytype?"":b,k,h,O.length,P),z:O};return"levels"===_.contours.type&&"none"!==_.contours.coloring&&C(T,_,{vals:O,containerStr:"",cLetter:"z"}),[j]}(o,l);return a(l,l._z),p}}},75005:function(ie,z,r){"use strict";var C=r(71828),E=r(67684),f=r(88085),S=r(83179),M=r(67217),v=r(8724);ie.exports=function(c,i,u,a){function o(l,s){return C.coerce(c,i,f,l,s)}if(o("carpet"),c.a&&c.b){if(!E(c,i,o,a,"a","b"))return void(i.visible=!1);o("text"),"constraint"===o("contours.type")?S(c,i,o,a,u,{hasHover:!1}):(M(c,i,o,function(l){return C.coerce2(c,i,f,l)}),v(c,i,o,a,{hasHover:!1}))}else i._defaultColor=u,i._length=null}},93740:function(ie,z,r){"use strict";ie.exports={attributes:r(88085),supplyDefaults:r(75005),colorbar:r(90654),calc:r(59885),plot:r(51048),style:r(84426),moduleType:"trace",name:"contourcarpet",basePlotModule:r(93612),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},51048:function(ie,z,r){"use strict";var C=r(39898),E=r(27669),f=r(67961),S=r(91424),M=r(71828),v=r(87678),c=r(81696),i=r(29854),u=r(36914),a=r(84857),o=r(87558),l=r(20083),s=r(22882),d=r(4536);function g(_,y,w){var m=_.getPointAtLength(y),b=_.getPointAtLength(w),k=b.x-m.x,h=b.y-m.y,O=Math.sqrt(k*k+h*h);return[k/O,h/O]}function p(_){var y=Math.sqrt(_[0]*_[0]+_[1]*_[1]);return[_[0]/y,_[1]/y]}function T(_,y){var w=Math.abs(_[0]*y[0]+_[1]*y[1]);return Math.sqrt(1-w*w)/w}ie.exports=function(_,y,w,m){var b=y.xaxis,k=y.yaxis;M.makeTraceGroups(m,w,"contour").each(function(h){var O=C.select(this),A=h[0],I=A.trace,P=I._carpetTrace=s(_,I),L=_.calcdata[P.index][0];if(P.visible&&"legendonly"!==P.visible){var N=A.a,B=A.b,W=I.contours,j=o(W,y,A),Z="constraint"===W.type,V=W._operation,q=Z?"="===V?"lines":"fill":W.coloring,G=[[N[0],B[B.length-1]],[N[N.length-1],B[B.length-1]],[N[N.length-1],B[0]],[N[0],B[0]]];v(j),c(j,1e-8*(N[N.length-1]-N[0]),1e-8*(B[B.length-1]-B[0]));var X,$,Q,te,re=j;"constraint"===W.type&&(re=a(j,V)),function(ge,xe){var ke,Ae,pe,ye,Ne,be,Ee,Oe,De;for(ke=0;ke<ge.length;ke++){for(Ne=(ye=ge[ke]).pedgepaths=[],be=ye.ppaths=[],Ae=0;Ae<ye.edgepaths.length;Ae++){for(De=ye.edgepaths[Ae],Ee=[],pe=0;pe<De.length;pe++)Ee[pe]=xe(De[pe]);Ne.push(Ee)}for(Ae=0;Ae<ye.paths.length;Ae++){for(De=ye.paths[Ae],Oe=[],pe=0;pe<De.length;pe++)Oe[pe]=xe(De[pe]);be.push(Oe)}}}(j,he);var le=[];for(te=L.clipsegments.length-1;te>=0;te--)$=E([],(X=L.clipsegments[te]).x,b.c2p),Q=E([],X.y,k.c2p),$.reverse(),Q.reverse(),le.push(f($,Q,X.bicubic));var ue="M"+le.join("L")+"Z";(function(ge,xe,ke,Ae,pe,ye){var Ne,be,Ee,Oe,De=M.ensureSingle(ge,"g","contourbg").selectAll("path").data("fill"!==ye||pe?[]:[0]);De.enter().append("path"),De.exit().remove();var oe=[];for(Oe=0;Oe<xe.length;Oe++)be=E([],(Ne=xe[Oe]).x,ke.c2p),Ee=E([],Ne.y,Ae.c2p),oe.push(f(be,Ee,Ne.bicubic));De.attr("d","M"+oe.join("L")+"Z").style("stroke","none")})(O,L.clipsegments,b,k,Z,q),function(ge,xe,ke,Ae,pe,ye,Ne,be,Ee,Oe,De){var oe="fill"===Oe;oe&&l(pe,ge.contours);var de=M.ensureSingle(xe,"g","contourfill").selectAll("path").data(oe?pe:[]);de.enter().append("path"),de.exit().remove(),de.each(function(_e){var Me=(_e.prefixBoundary?De:"")+function(Pe,Ue,Be,Ve,ve,Te,Ce,We){var Ke,Je,ht,ft,mt,At,Rt,It="",Pt=Ue.edgepaths.map(function(Le,Ge){return Ge}),Bt=!0,Ut=1e-4*Math.abs(Be[0][0]-Be[2][0]),Vt=1e-4*Math.abs(Be[0][1]-Be[2][1]);function tn(Le){return Math.abs(Le[1]-Be[0][1])<Vt}function Gt(Le){return Math.abs(Le[1]-Be[2][1])<Vt}function et(Le){return Math.abs(Le[0]-Be[0][0])<Ut}function nt(Le){return Math.abs(Le[0]-Be[2][0])<Ut}function $e(Le,Ge){var st,vt,bt,Lt,jt="";for(tn(Le)&&!nt(Le)||Gt(Le)&&!et(Le)?(Lt=ve.aaxis,bt=d(ve,Te,[Le[0],Ge[0]],.5*(Le[1]+Ge[1]))):(Lt=ve.baxis,bt=d(ve,Te,.5*(Le[0]+Ge[0]),[Le[1],Ge[1]])),st=1;st<bt.length;st++)for(jt+=Lt.smoothing?"C":"L",vt=0;vt<bt[st].length;vt++){var Nt=bt[st][vt];jt+=[Ce.c2p(Nt[0]),We.c2p(Nt[1])]+" "}return jt}for(Ke=0,Je=null;Pt.length;){for(Je&&(It+=$e(Je,Ue.edgepaths[Ke][0])),Rt=S.smoothopen(Ue.edgepaths[Ke].map(Ve),Ue.smoothing),It+=Bt?Rt:Rt.replace(/^M/,"L"),Pt.splice(Pt.indexOf(Ke),1),Je=Ue.edgepaths[Ke][Ue.edgepaths[Ke].length-1],mt=-1,ft=0;ft<4;ft++){if(!Je){M.log("Missing end?",Ke,Ue);break}for(tn(Je)&&!nt(Je)?ht=Be[1]:et(Je)?ht=Be[0]:Gt(Je)?ht=Be[3]:nt(Je)&&(ht=Be[2]),At=0;At<Ue.edgepaths.length;At++){var dt=Ue.edgepaths[At][0];Math.abs(Je[0]-ht[0])<Ut?Math.abs(Je[0]-dt[0])<Ut&&(dt[1]-Je[1])*(ht[1]-dt[1])>=0&&(ht=dt,mt=At):Math.abs(Je[1]-ht[1])<Vt?Math.abs(Je[1]-dt[1])<Vt&&(dt[0]-Je[0])*(ht[0]-dt[0])>=0&&(ht=dt,mt=At):M.log("endpt to newendpt is not vert. or horz.",Je,ht,dt)}if(mt>=0)break;It+=$e(Je,ht),Je=ht}if(mt===Ue.edgepaths.length){M.log("unclosed perimeter path");break}(Bt=-1===Pt.indexOf(Ke=mt))&&(Ke=Pt[0],It+=$e(Je,ht)+"Z",Je=null)}for(Ke=0;Ke<Ue.paths.length;Ke++)It+=S.smoothclosed(Ue.paths[Ke].map(Ve),Ue.smoothing);return It}(0,_e,ye,Ne,be,Ee,ke,Ae);Me?C.select(this).attr("d",Me).style("stroke","none"):C.select(this).remove()})}(I,O,b,k,re,G,he,P,L,q,ue),function(ge,xe,ke,Ae,pe,ye,Ne){var be=ke._context.staticPlot,Ee=M.ensureSingle(ge,"g","contourlines"),Oe=!1!==pe.showlines,De=pe.showlabels,oe=Oe&&De,de=i.createLines(Ee,Oe||De,xe,be),_e=i.createLineClip(Ee,oe,ke,Ae.trace.uid),Me=ge.selectAll("g.contourlabels").data(De?[0]:[]);if(Me.exit().remove(),Me.enter().append("g").classed("contourlabels",!0),De){var Be=ye.xaxis._length,Ve=ye.yaxis._length,ve=[[[0,0],[Be,0],[Be,Ve],[0,Ve]]],Te=[];M.clearLocationCache();var Ce=i.labelFormatter(ke,Ae),We=S.tester.append("text").attr("data-notex",1).call(S.font,pe.labelfont),Ke={left:0,right:Be,center:Be/2,top:0,bottom:Ve,middle:Ve/2},Je=Math.sqrt(Be*Be+Ve*Ve),ht=u.LABELDISTANCE*Je/Math.max(1,xe.length/u.LABELINCREASE);de.each(function(ft){var mt=i.calcTextOpts(ft.level,Ce,We,ke);C.select(this).selectAll("path").each(function(At){var It=M.getVisibleSegment(this,Ke,mt.height/2);if(It&&(function(Vt,tn,Gt,et,nt,$e){for(var ot,dt=0;dt<Gt.pedgepaths.length;dt++)tn===Gt.pedgepaths[dt]&&(ot=Gt.edgepaths[dt]);if(ot){var Le=nt.a[0],Ge=nt.a[nt.a.length-1],st=nt.b[0],vt=nt.b[nt.b.length-1],bt=g(Vt,0,1),Lt=g(Vt,et.total,et.total-1),jt=Tt(ot[0],bt),Nt=et.total-Tt(ot[ot.length-1],Lt);et.min<jt&&(et.min=jt),et.max>Nt&&(et.max=Nt),et.len=et.max-et.min}function Tt(Mt,kt){var Ht,qt=0;return(Math.abs(Mt[0]-Le)<.1||Math.abs(Mt[0]-Ge)<.1)&&(Ht=p(nt.dxydb_rough(Mt[0],Mt[1],.1)),qt=Math.max(qt,$e*T(kt,Ht)/2)),(Math.abs(Mt[1]-st)<.1||Math.abs(Mt[1]-vt)<.1)&&(Ht=p(nt.dxyda_rough(Mt[0],Mt[1],.1)),qt=Math.max(qt,$e*T(kt,Ht)/2)),qt}}(this,At,ft,It,Ne,mt.height),!(It.len<(mt.width+mt.height)*u.LABELMIN)))for(var Pt=Math.min(Math.ceil(It.len/ht),u.LABELMAX),Bt=0;Bt<Pt;Bt++){var Ut=i.findBestTextLocation(this,It,mt,Te,Ke);if(!Ut)break;i.addLabelData(Ut,mt,Te,ve)}})}),We.remove(),i.drawLabels(Me,Te,ke,_e,oe?ve:null)}De&&!Oe&&de.remove()}(O,j,_,A,W,y,P),S.setClipUrl(O,P._clipPathId,_)}function he(ge){var xe=P.ab2xy(ge[0],ge[1],!0);return[b.c2p(xe[0]),k.c2p(xe[1])]}})}},64096:function(ie,z,r){"use strict";var C=r(50693),E=r(5386).f,f=r(9012),S=r(99181),M=r(1426).extendFlat;ie.exports=M({lon:S.lon,lat:S.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:S.text,hovertext:S.hovertext,hoverinfo:M({},f.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:E(),showlegend:M({},f.showlegend,{dflt:!1})},C("",{cLetter:"z",editTypeOverride:"calc"}))},85070:function(ie,z,r){"use strict";var C=r(92770),E=r(71828).isArrayOrTypedArray,f=r(50606).BADNUM,S=r(78803),M=r(71828)._;ie.exports=function(v,c){for(var i=c._length,u=new Array(i),a=c.z,o=E(a)&&a.length,l=0;l<i;l++){var s=u[l]={},d=c.lon[l],g=c.lat[l];if(s.lonlat=C(d)&&C(g)?[+d,+g]:[f,f],o){var p=a[l];s.z=C(p)?p:f}}return S(v,c,{vals:o?a:[0,1],containerStr:"",cLetter:"z"}),i&&(u[0].t={labels:{lat:M(v,"lat:")+" ",lon:M(v,"lon:")+" "}}),u}},52414:function(ie,z,r){"use strict";var C=r(92770),E=r(71828),f=r(7901),S=r(21081),M=r(50606).BADNUM,v=r(18214).makeBlank;ie.exports=function(c){var i=c[0].trace,u=!0===i.visible&&0!==i._length,a=i._opts={heatmap:{layout:{visibility:"none"},paint:{}},geojson:v()};if(!u)return a;var o,l=[],s=i.z,d=i.radius,g=E.isArrayOrTypedArray(s)&&s.length,p=E.isArrayOrTypedArray(d);for(o=0;o<c.length;o++){var T=c[o],_=T.lonlat;if(_[0]!==M){var y={};if(g){var w=T.z;y.z=w!==M?w:0}p&&(y.r=C(d[o])&&d[o]>0?+d[o]:0),l.push({type:"Feature",geometry:{type:"Point",coordinates:_},properties:y})}}var m=S.extractOpts(i),b=m.reversescale?S.flipScale(m.colorscale):m.colorscale,k=b[0][1],h=["interpolate",["linear"],["heatmap-density"],0,f.opacity(k)<1?k:f.addOpacity(k,0)];for(o=1;o<b.length;o++)h.push(b[o][0],b[o][1]);return E.extendFlat(a.heatmap.paint,{"heatmap-weight":g?["interpolate",["linear"],["get","z"],m.min,0,m.max,1]:1/(m.max-m.min),"heatmap-color":h,"heatmap-radius":p?{type:"identity",property:"r"}:i.radius,"heatmap-opacity":i.opacity}),a.geojson={type:"FeatureCollection",features:l},a.heatmap.layout.visibility="visible",a}},79429:function(ie,z,r){"use strict";var C=r(71828),E=r(1586),f=r(64096);ie.exports=function(S,M,v,c){function i(l,s){return C.coerce(S,M,f,l,s)}var u=i("lon")||[],a=i("lat")||[],o=Math.min(u.length,a.length);o?(M._length=o,i("z"),i("radius"),i("below"),i("text"),i("hovertext"),i("hovertemplate"),E(S,M,c,i,{prefix:"",cLetter:"z"})):M.visible=!1}},62474:function(ie){"use strict";ie.exports=function(z,r){return z.lon=r.lon,z.lat=r.lat,z.z=r.z,z}},84684:function(ie,z,r){"use strict";var C=r(89298),E=r(28178).hoverPoints,f=r(28178).getExtraText;ie.exports=function(S,M,v){var c=E(S,M,v);if(c){var i=c[0],u=i.cd,a=u[0].trace,o=u[i.index];if(delete i.color,"z"in o){var l=i.subplot.mockAxis;i.z=o.z,i.zLabel=C.tickText(l,l.c2l(o.z),"hover").text}return i.extraText=f(a,o,u[0].t.labels),[i]}}},93814:function(ie,z,r){"use strict";ie.exports={attributes:r(64096),supplyDefaults:r(79429),colorbar:r(61243),formatLabels:r(15636),calc:r(85070),plot:r(7336),hoverPoints:r(84684),eventData:r(62474),getBelow:function(C,E){for(var f=E.getMapLayers(),S=0;S<f.length;S++){var M=f[S],v=M.id;if("symbol"===M.type&&"string"==typeof v&&-1===v.indexOf("plotly-"))return v}},moduleType:"trace",name:"densitymapbox",basePlotModule:r(50101),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},7336:function(ie,z,r){"use strict";var C=r(52414),E=r(77734).traceLayerPrefix;function f(M,v){this.type="densitymapbox",this.subplot=M,this.uid=v,this.sourceId="source-"+v,this.layerList=[["heatmap",E+v+"-heatmap"]],this.below=null}var S=f.prototype;S.update=function(M){var v=this.subplot,c=this.layerList,i=C(M),u=v.belowLookup["trace-"+this.uid];v.map.getSource(this.sourceId).setData(i.geojson),u!==this.below&&(this._removeLayers(),this._addLayers(i,u),this.below=u);for(var a=0;a<c.length;a++){var o=c[a],s=o[1],d=i[o[0]];v.setOptions(s,"setLayoutProperty",d.layout),"visible"===d.layout.visibility&&v.setOptions(s,"setPaintProperty",d.paint)}},S._addLayers=function(M,v){for(var c=this.subplot,i=this.layerList,u=this.sourceId,a=0;a<i.length;a++){var o=i[a],l=o[0],s=M[l];c.addLayer({type:l,id:o[1],source:u,layout:s.layout,paint:s.paint},v)}},S._removeLayers=function(){for(var M=this.subplot.map,v=this.layerList,c=v.length-1;c>=0;c--)M.removeLayer(v[c][1])},S.dispose=function(){var M=this.subplot.map;this._removeLayers(),M.removeSource(this.sourceId)},ie.exports=function(M,v){var c=v[0].trace,i=new f(M,c.uid),u=i.sourceId,a=C(v),o=i.below=M.belowLookup["trace-"+c.uid];return M.map.addSource(u,{type:"geojson",data:a.geojson}),i._addLayers(a,o),i}},49789:function(ie,z,r){"use strict";var C=r(71828);ie.exports=function(E,f){for(var S=0;S<E.length;S++)E[S].i=S;C.mergeArray(f.text,E,"tx"),C.mergeArray(f.hovertext,E,"htx");var M=f.marker;if(M){C.mergeArray(M.opacity,E,"mo"),C.mergeArray(M.color,E,"mc");var v=M.line;v&&(C.mergeArray(v.color,E,"mlc"),C.mergeArrayCastPositive(v.width,E,"mlw"))}}},1285:function(ie,z,r){"use strict";var C,E=r(1486),f=r(82196).line,S=r(9012),M=r(12663).axisHoverFormat,v=r(5386).f,c=r(5386).s,i=r(18517),u=r(1426).extendFlat,a=r(7901);ie.exports={x:E.x,x0:E.x0,dx:E.dx,y:E.y,y0:E.y0,dy:E.dy,xperiod:E.xperiod,yperiod:E.yperiod,xperiod0:E.xperiod0,yperiod0:E.yperiod0,xperiodalignment:E.xperiodalignment,yperiodalignment:E.yperiodalignment,xhoverformat:M("x"),yhoverformat:M("y"),hovertext:E.hovertext,hovertemplate:v({},{keys:i.eventDataKeys}),hoverinfo:u({},S.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:c({editType:"plot"},{keys:i.eventDataKeys.concat(["label","value"])}),text:E.text,textposition:E.textposition,insidetextanchor:u({},E.insidetextanchor,{dflt:"middle"}),textangle:u({},E.textangle,{dflt:0}),textfont:E.textfont,insidetextfont:E.insidetextfont,outsidetextfont:E.outsidetextfont,constraintext:E.constraintext,cliponaxis:E.cliponaxis,orientation:u({},E.orientation,{}),offset:u({},E.offset,{arrayOk:!1}),width:u({},E.width,{arrayOk:!1}),marker:(C=u({},E.marker),delete C.pattern,C),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:u({},f.color,{dflt:a.defaultLine}),width:u({},f.width,{dflt:0,editType:"plot"}),dash:f.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:E.offsetgroup,alignmentgroup:E.alignmentgroup}},9532:function(ie,z,r){"use strict";var C=r(89298),E=r(42973),f=r(49789),S=r(66279),M=r(50606).BADNUM;function v(c){return c===M?0:c}ie.exports=function(c,i){var u,a,o,l,s,d,g,p,T=C.getFromId(c,i.xaxis||"x"),_=C.getFromId(c,i.yaxis||"y");"h"===i.orientation?(u=T.makeCalcdata(i,"x"),o=_.makeCalcdata(i,"y"),l=E(i,_,"y",o),s=!!i.yperiodalignment,d="y"):(u=_.makeCalcdata(i,"y"),o=T.makeCalcdata(i,"x"),l=E(i,T,"x",o),s=!!i.xperiodalignment,d="x"),a=l.vals;var y,w=Math.min(a.length,u.length),m=new Array(w);for(i._base=[],g=0;g<w;g++){u[g]<0&&(u[g]=M);var b=!1;u[g]!==M&&g+1<w&&u[g+1]!==M&&(b=!0),p=m[g]={p:a[g],s:u[g],cNext:b},i._base[g]=-.5*p.s,s&&(m[g].orig_p=o[g],m[g][d+"End"]=l.ends[g],m[g][d+"Start"]=l.starts[g]),i.ids&&(p.id=String(i.ids[g])),0===g&&(m[0].vTotal=0),m[0].vTotal+=v(p.s),p.begR=v(p.s)/v(m[0].s)}for(g=0;g<w;g++)(p=m[g]).s!==M&&(p.sumR=p.s/m[0].vTotal,p.difR=void 0!==y?p.s/y:1,y=p.s);return f(m,i),S(m,i),m}},18517:function(ie){"use strict";ie.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},8984:function(ie,z,r){"use strict";var C=r(11661).setGroupPositions;ie.exports=function(E,f){var S,M,v=E._fullLayout,c=E._fullData,i=E.calcdata,u=f.xaxis,a=f.yaxis,o=[],l=[],s=[];for(M=0;M<c.length;M++){var d=c[M];!0===d.visible&&d.xaxis===u._id&&d.yaxis===a._id&&"funnel"===d.type&&(S=i[M],"h"===d.orientation?s.push(S):l.push(S),o.push(S))}var p={mode:v.funnelmode,norm:v.funnelnorm,gap:v.funnelgap,groupgap:v.funnelgroupgap};for(C(E,u,a,l,p),C(E,a,u,s,p),M=0;M<o.length;M++){S=o[M];for(var T=0;T<S.length;T++)T+1<S.length&&(S[T].nextP0=S[T+1].p0,S[T].nextS0=S[T+1].s0,S[T].nextP1=S[T+1].p1,S[T].nextS1=S[T+1].s1)}}},26199:function(ie,z,r){"use strict";var C=r(71828),E=r(26125),f=r(90769).handleText,S=r(67513),M=r(73927),v=r(1285),c=r(7901);ie.exports={supplyDefaults:function(i,u,a,o){function l(p,T){return C.coerce(i,u,v,p,T)}if(S(i,u,o,l)){M(i,u,o,l),l("xhoverformat"),l("yhoverformat"),l("orientation",u.y&&!u.x?"v":"h"),l("offset"),l("width");var s=l("text");l("hovertext"),l("hovertemplate");var d=l("textposition");f(i,u,o,l,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),"none"===u.textposition||u.texttemplate||l("textinfo",Array.isArray(s)?"text+value":"value");var g=l("marker.color",a);l("marker.line.color",c.defaultLine),l("marker.line.width"),l("connector.visible")&&(l("connector.fillcolor",(T=C.isArrayOrTypedArray(p=g)?"#000":p,c.addOpacity(T,.5*c.opacity(T)))),l("connector.line.width")&&(l("connector.line.color"),l("connector.line.dash")))}else u.visible=!1;var p,T},crossTraceDefaults:function(i,u){var a,o;function l(d){return C.coerce(o._input,o,v,d)}if("group"===u.funnelmode)for(var s=0;s<i.length;s++)a=(o=i[s])._input,E(a,o,u,l)}}},34598:function(ie){"use strict";ie.exports=function(z,r){return z.x="xVal"in r?r.xVal:r.x,z.y="yVal"in r?r.yVal:r.y,"percentInitial"in r&&(z.percentInitial=r.percentInitial),"percentPrevious"in r&&(z.percentPrevious=r.percentPrevious),"percentTotal"in r&&(z.percentTotal=r.percentTotal),r.xa&&(z.xaxis=r.xa),r.ya&&(z.yaxis=r.ya),z}},63341:function(ie,z,r){"use strict";var C=r(7901).opacity,E=r(95423).hoverOnBars,f=r(71828).formatPercent;ie.exports=function(S,M,v,c,i){var w,m,b,k,h,u=E(S,M,v,c,i);if(u){var a=u.cd,o=a[0].trace,s=a[u.index];u[("h"===o.orientation?"x":"y")+"LabelVal"]=s.s,u.percentInitial=s.begR,u.percentInitialLabel=f(s.begR,1),u.percentPrevious=s.difR,u.percentPreviousLabel=f(s.difR,1),u.percentTotal=s.sumR,u.percentTotalLabel=f(s.sumR,1);var d=s.hi||o.hoverinfo,g=[];if(d&&"none"!==d&&"skip"!==d){var p="all"===d,T=d.split("+"),_=function(y){return p||-1!==T.indexOf(y)};_("percent initial")&&g.push(u.percentInitialLabel+" of initial"),_("percent previous")&&g.push(u.percentPreviousLabel+" of previous"),_("percent total")&&g.push(u.percentTotalLabel+" of total")}return u.extraText=g.join("<br>"),u.color=(m=o.marker,k=(w=s).mlc||m.line.color,h=w.mlw||m.line.width,C(b=w.mc||m.color)?b:C(k)&&h?k:void 0),[u]}}},51759:function(ie,z,r){"use strict";ie.exports={attributes:r(1285),layoutAttributes:r(10440),supplyDefaults:r(26199).supplyDefaults,crossTraceDefaults:r(26199).crossTraceDefaults,supplyLayoutDefaults:r(93138),calc:r(9532),crossTraceCalc:r(8984),plot:r(80461),style:r(68266).style,hoverPoints:r(63341),eventData:r(34598),selectPoints:r(81974),moduleType:"trace",name:"funnel",basePlotModule:r(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},10440:function(ie){"use strict";ie.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},93138:function(ie,z,r){"use strict";var C=r(71828),E=r(10440);ie.exports=function(f,S,M){var v=!1;function c(a,o){return C.coerce(f,S,E,a,o)}for(var i=0;i<M.length;i++){var u=M[i];if(u.visible&&"funnel"===u.type){v=!0;break}}v&&(c("funnelmode"),c("funnelgap",.2),c("funnelgroupgap"))}},80461:function(ie,z,r){"use strict";var C=r(39898),E=r(71828),f=r(91424),S=r(50606).BADNUM,M=r(17295),v=r(72597).clearMinTextSize;function c(i,u,a,o){var l=[],s=[],d=o?u:a,g=o?a:u;return l[0]=d.c2p(i.s0,!0),s[0]=g.c2p(i.p0,!0),l[1]=d.c2p(i.s1,!0),s[1]=g.c2p(i.p1,!0),l[2]=d.c2p(i.nextS0,!0),s[2]=g.c2p(i.nextP0,!0),l[3]=d.c2p(i.nextS1,!0),s[3]=g.c2p(i.nextP1,!0),o?[l,s]:[s,l]}ie.exports=function(i,u,a,o){var s,d,T,_,l=i._fullLayout;v("funnel",l),s=i,T=(d=u).xaxis,_=d.yaxis,E.makeTraceGroups(o,a,"trace bars").each(function(y){var w=C.select(this),m=y[0].trace,b=E.ensureSingle(w,"g","regions");if(m.connector&&m.connector.visible){var k="h"===m.orientation,h=b.selectAll("g.region").data(E.identity);h.enter().append("g").classed("region",!0),h.exit().remove();var O=h.size();h.each(function(A,I){if(I===O-1||A.cNext){var P=c(A,T,_,k),L=P[0],N=P[1],B="";L[0]!==S&&N[0]!==S&&L[1]!==S&&N[1]!==S&&L[2]!==S&&N[2]!==S&&L[3]!==S&&N[3]!==S&&(B+=k?"M"+L[0]+","+N[1]+"L"+L[2]+","+N[2]+"H"+L[3]+"L"+L[1]+","+N[1]+"Z":"M"+L[1]+","+N[1]+"L"+L[2]+","+N[3]+"V"+N[2]+"L"+L[1]+","+N[0]+"Z"),""===B&&(B="M0,0Z"),E.ensureSingle(C.select(this),"path").attr("d",B).call(f.setClipUrl,d.layerClipId,s)}})}else b.remove()}),function(s,d,g,p){var T=d.xaxis,_=d.yaxis;E.makeTraceGroups(p,g,"trace bars").each(function(y){var w=C.select(this),m=y[0].trace,b=E.ensureSingle(w,"g","lines");if(m.connector&&m.connector.visible&&m.connector.line.width){var k="h"===m.orientation,h=b.selectAll("g.line").data(E.identity);h.enter().append("g").classed("line",!0),h.exit().remove();var O=h.size();h.each(function(A,I){if(I===O-1||A.cNext){var P=c(A,T,_,k),L=P[0],N=P[1],B="";void 0!==L[3]&&void 0!==N[3]&&(k?(B+="M"+L[0]+","+N[1]+"L"+L[2]+","+N[2],B+="M"+L[1]+","+N[1]+"L"+L[3]+","+N[2]):(B+="M"+L[1]+","+N[1]+"L"+L[2]+","+N[3],B+="M"+L[1]+","+N[0]+"L"+L[2]+","+N[2])),""===B&&(B="M0,0Z"),E.ensureSingle(C.select(this),"path").attr("d",B).call(f.setClipUrl,d.layerClipId,s)}})}else b.remove()})}(i,u,a,o),M.plot(i,u,a,o,{mode:l.funnelmode,norm:l.funnelmode,gap:l.funnelgap,groupgap:l.funnelgroupgap})}},68266:function(ie,z,r){"use strict";var C=r(39898),E=r(91424),f=r(7901),S=r(37822).DESELECTDIM,M=r(16688),v=r(72597).resizeText,c=M.styleTextPoints;ie.exports={style:function(i,u,a){var o=a||C.select(i).selectAll("g.funnellayer").selectAll("g.trace");v(i,o,"funnel"),o.style("opacity",function(l){return l[0].trace.opacity}),o.each(function(l){var s=C.select(this),d=l[0].trace;s.selectAll(".point > path").each(function(g){if(!g.isBlank){var p=d.marker;C.select(this).call(f.fill,g.mc||p.color).call(f.stroke,g.mlc||p.line.color).call(E.dashLine,p.line.dash,g.mlw||p.line.width).style("opacity",d.selectedpoints&&!g.selected?S:1)}}),c(s,d,i),s.selectAll(".regions").each(function(){C.select(this).selectAll("path").style("stroke-width",0).call(f.fill,d.connector.fillcolor)}),s.selectAll(".lines").each(function(){var g=d.connector.line;E.lineGroupStyle(C.select(this).selectAll("path"),g.width,g.color,g.dash)})})}}},86807:function(ie,z,r){"use strict";var C=r(34e3),E=r(9012),f=r(27670).Y,S=r(5386).f,M=r(5386).s,v=r(1426).extendFlat;ie.exports={labels:C.labels,label0:C.label0,dlabel:C.dlabel,values:C.values,marker:{colors:C.marker.colors,line:{color:v({},C.marker.line.color,{dflt:null}),width:v({},C.marker.line.width,{dflt:1}),editType:"calc"},editType:"calc"},text:C.text,hovertext:C.hovertext,scalegroup:v({},C.scalegroup,{}),textinfo:v({},C.textinfo,{flags:["label","text","value","percent"]}),texttemplate:M({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:v({},E.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:S({},{keys:["label","color","value","text","percent"]}),textposition:v({},C.textposition,{values:["inside","none"],dflt:"inside"}),textfont:C.textfont,insidetextfont:C.insidetextfont,title:{text:C.title.text,font:C.title.font,position:v({},C.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:f({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},6452:function(ie,z,r){"use strict";var C=r(74875);z.name="funnelarea",z.plot=function(E,f,S,M){C.plotBasePlot(z.name,E,f,S,M)},z.clean=function(E,f,S,M){C.cleanBasePlot(z.name,E,f,S,M)}},89574:function(ie,z,r){"use strict";var C=r(32354);ie.exports={calc:function(E,f){return C.calc(E,f)},crossTraceCalc:function(E){C.crossTraceCalc(E,{type:"funnelarea"})}}},86282:function(ie,z,r){"use strict";var C=r(71828),E=r(86807),f=r(27670).c,S=r(90769).handleText,M=r(37434).handleLabelsAndValues;ie.exports=function(v,c,i,u){function a(y,w){return C.coerce(v,c,E,y,w)}var o=a("labels"),l=a("values"),s=M(o,l),d=s.len;if(c._hasLabels=s.hasLabels,c._hasValues=s.hasValues,!c._hasLabels&&c._hasValues&&(a("label0"),a("dlabel")),d){c._length=d,a("marker.line.width")&&a("marker.line.color",u.paper_bgcolor),a("marker.colors"),a("scalegroup");var g,p=a("text"),T=a("texttemplate");if(T||(g=a("textinfo",Array.isArray(p)?"text+percent":"percent")),a("hovertext"),a("hovertemplate"),T||g&&"none"!==g){var _=a("textposition");S(v,c,u,a,_,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}f(c,u,a),a("title.text")&&(a("title.position"),C.coerceFont(a,"title.font",u.font)),a("aspectratio"),a("baseratio")}else c.visible=!1}},10421:function(ie,z,r){"use strict";ie.exports={moduleType:"trace",name:"funnelarea",basePlotModule:r(6452),categories:["pie-like","funnelarea","showLegend"],attributes:r(86807),layoutAttributes:r(80097),supplyDefaults:r(86282),supplyLayoutDefaults:r(57402),calc:r(89574).calc,crossTraceCalc:r(89574).crossTraceCalc,plot:r(79187),style:r(71858),styleOne:r(63463),meta:{}}},80097:function(ie,z,r){"use strict";var C=r(92774).hiddenlabels;ie.exports={hiddenlabels:C,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57402:function(ie,z,r){"use strict";var C=r(71828),E=r(80097);ie.exports=function(f,S){function M(v,c){return C.coerce(f,S,E,v,c)}M("hiddenlabels"),M("funnelareacolorway",S.colorway),M("extendfunnelareacolors")}},79187:function(ie,z,r){"use strict";var C=r(39898),E=r(91424),f=r(71828),S=f.strScale,M=f.strTranslate,v=r(63893),c=r(17295).toMoveInsideBar,i=r(72597),u=i.recordMinTextSize,a=i.clearMinTextSize,o=r(53581),l=r(14575),s=l.attachFxHandlers,d=l.determineInsideTextFont,g=l.layoutAreas,p=l.prerenderTitles,T=l.positionTitleOutside,_=l.formatSliceLabel;function y(w,m){return"l"+(m[0]-w[0])+","+(m[1]-w[1])}ie.exports=function(w,m){var b=w._context.staticPlot,k=w._fullLayout;a("funnelarea",k),p(m,w),g(m,k._size),f.makeTraceGroups(k._funnelarealayer,m,"trace").each(function(h){var O=C.select(this),A=h[0],I=A.trace;(function(P){if(P.length){var L=P[0],N=L.trace,B=N.aspectratio,W=N.baseratio;W>.999&&(W=.999);var j,Z,V,q=Math.pow(W,2),G=L.vTotal,H=G,ne=G*q/(1-q)/G,X=[];for(X.push(Ee()),Z=P.length-1;Z>-1;Z--)(V=P[Z]).hidden||(ne+=V.v/H,X.push(Ee()));var Q=1/0,te=-1/0;for(Z=0;Z<X.length;Z++)j=X[Z],Q=Math.min(Q,j[1]),te=Math.max(te,j[1]);for(Z=0;Z<X.length;Z++)X[Z][1]-=(te+Q)/2;var le=L.r,ue=(te-Q)/2,he=le/X[X.length-1][0],ge=le/ue*B;for(L.r=ge*ue,Z=0;Z<X.length;Z++)X[Z][0]*=he,X[Z][1]*=ge;var xe,ke,Ae=[-(j=X[0])[0],j[1]],pe=[j[0],j[1]],ye=0;for(Z=P.length-1;Z>-1;Z--)if(!(V=P[Z]).hidden){var Ne=X[ye+=1][0],be=X[ye][1];V.TL=[-Ne,be],V.TR=[Ne,be],V.BL=Ae,V.BR=pe,V.pxmid=[.5*((xe=V.TR)[0]+(ke=V.BR)[0]),.5*(xe[1]+ke[1])],Ae=V.TL,pe=V.TR}}function Ee(){var Oe,De={x:Oe=Math.sqrt(ne),y:-Oe};return[De.x,De.y]}})(h),O.each(function(){var P=C.select(this).selectAll("g.slice").data(h);P.enter().append("g").classed("slice",!0),P.exit().remove(),P.each(function(N,B){if(N.hidden)C.select(this).selectAll("path,g").remove();else{N.pointNumber=N.i,N.curveNumber=I.index;var W=A.cx,j=A.cy,Z=C.select(this),V=Z.selectAll("path.surface").data([N]);V.enter().append("path").classed("surface",!0).style({"pointer-events":b?"none":"all"}),Z.call(s,w,h);var q="M"+(W+N.TR[0])+","+(j+N.TR[1])+y(N.TR,N.BR)+y(N.BR,N.BL)+y(N.BL,N.TL)+"Z";V.attr("d",q),_(w,N,A);var G=o.castOption(I.textposition,N.pts),H=Z.selectAll("g.slicetext").data(N.text&&"none"!==G?[0]:[]);H.enter().append("g").classed("slicetext",!0),H.exit().remove(),H.each(function(){var ne=f.ensureSingle(C.select(this),"text","",function(he){he.attr("data-notex",1)}),X=f.ensureUniformFontSize(w,d(I,N,k.font));ne.text(N.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(E.font,X).call(v.convertToTspans,w);var $,Q,te,re=E.bBox(ne.node()),le=Math.min(N.BL[1],N.BR[1])+j,ue=Math.max(N.TL[1],N.TR[1])+j;Q=Math.max(N.TL[0],N.BL[0])+W,te=Math.min(N.TR[0],N.BR[0])+W,($=c(Q,te,le,ue,re,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"})).fontSize=X.size,u(I.type,$,k),h[B].transform=$,f.setTransormAndDisplay(ne,$)})}});var L=C.select(this).selectAll("g.titletext").data(I.title.text?[0]:[]);L.enter().append("g").classed("titletext",!0),L.exit().remove(),L.each(function(){var N=f.ensureSingle(C.select(this),"text","",function(j){j.attr("data-notex",1)}),B=I.title.text;I._meta&&(B=f.templateString(B,I._meta)),N.text(B).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(E.font,I.title.font).call(v.convertToTspans,w);var W=T(A,k._size);N.attr("transform",M(W.x,W.y)+S(Math.min(1,W.scale))+M(W.tx,W.ty))})})})}},71858:function(ie,z,r){"use strict";var C=r(39898),E=r(63463),f=r(72597).resizeText;ie.exports=function(S){var M=S._fullLayout._funnelarealayer.selectAll(".trace");f(S,M,"funnelarea"),M.each(function(v){var c=v[0].trace,i=C.select(this);i.style({opacity:c.opacity}),i.selectAll("path.surface").each(function(u){C.select(this).call(E,u,c)})})}},21606:function(ie,z,r){"use strict";var C=r(82196),E=r(9012),f=r(41940),S=r(12663).axisHoverFormat,M=r(5386).f,v=r(5386).s,c=r(50693),i=r(1426).extendFlat;ie.exports=i({z:{valType:"data_array",editType:"calc"},x:i({},C.x,{impliedEdits:{xtype:"array"}}),x0:i({},C.x0,{impliedEdits:{xtype:"scaled"}}),dx:i({},C.dx,{impliedEdits:{xtype:"scaled"}}),y:i({},C.y,{impliedEdits:{ytype:"array"}}),y0:i({},C.y0,{impliedEdits:{ytype:"scaled"}}),dy:i({},C.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:i({},C.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:i({},C.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:i({},C.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:i({},C.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:i({},C.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:i({},C.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:S("x"),yhoverformat:S("y"),zhoverformat:S("z",1),hovertemplate:M(),texttemplate:v({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:f({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:i({},E.showlegend,{dflt:!1})},{transforms:void 0},c("",{cLetter:"z",autoColorDflt:!1}))},90757:function(ie,z,r){"use strict";var C=r(73972),E=r(71828),f=r(89298),S=r(42973),M=r(17562),v=r(78803),c=r(68296),i=r(4742),u=r(824),a=r(43907),o=r(70769),l=r(50606).BADNUM;function s(d){for(var g=[],p=d.length,T=0;T<p;T++){var _=d[T];_!==l&&g.push(_)}return g}ie.exports=function(d,g){var p,T,_,y,w,m,b,k,h,O,A,I=f.getFromId(d,g.xaxis||"x"),P=f.getFromId(d,g.yaxis||"y"),L=C.traceIs(g,"contour"),N=C.traceIs(g,"histogram"),B=C.traceIs(g,"gl2d"),W=L?"best":g.zsmooth;if(I._minDtick=0,P._minDtick=0,N)y=(A=M(d,g)).orig_x,p=A.x,T=A.x0,_=A.dx,k=A.orig_y,w=A.y,m=A.y0,b=A.dy,h=A.z;else{var j=g.z;E.isArray1D(j)?(c(g,I,P,"x","y",["z"]),p=g._x,w=g._y,j=g._z):(y=g.x?I.makeCalcdata(g,"x"):[],k=g.y?P.makeCalcdata(g,"y"):[],p=S(g,I,"x",y).vals,w=S(g,P,"y",k).vals,g._x=p,g._y=w),T=g.x0,_=g.dx,m=g.y0,b=g.dy,h=i(j,g,I,P)}function Z(ue){W=g._input.zsmooth=g.zsmooth=!1,E.warn('cannot use zsmooth: "fast": '+ue)}if((I.rangebreaks||P.rangebreaks)&&(h=function(ue,he,ge){for(var xe=[],ke=-1,Ae=0;Ae<ge.length;Ae++)if(he[Ae]!==l){xe[++ke]=[];for(var pe=0;pe<ge[Ae].length;pe++)ue[pe]!==l&&xe[ke].push(ge[Ae][pe])}return xe}(p,w,h),N||(p=s(p),w=s(w),g._x=p,g._y=w)),N||!L&&!g.connectgaps||(g._emptypoints=a(h),u(h,g._emptypoints)),"fast"===W)if("log"===I.type||"log"===P.type)Z("log axis found");else if(!N){if(p.length){var V=(p[p.length-1]-p[0])/(p.length-1),q=Math.abs(V/100);for(O=0;O<p.length-1;O++)if(Math.abs(p[O+1]-p[O]-V)>q){Z("x scale is not linear");break}}if(w.length&&"fast"===W){var G=(w[w.length-1]-w[0])/(w.length-1),H=Math.abs(G/100);for(O=0;O<w.length-1;O++)if(Math.abs(w[O+1]-w[O]-G)>H){Z("y scale is not linear");break}}}var ne=E.maxRowLength(h),X="scaled"===g.xtype?"":p,$=o(g,X,T,_,ne,I),Q="scaled"===g.ytype?"":w,te=o(g,Q,m,b,h.length,P);B||(g._extremes[I._id]=f.findExtremes(I,$),g._extremes[P._id]=f.findExtremes(P,te));var re={x:$,y:te,z:h,text:g._text||g.text,hovertext:g._hovertext||g.hovertext};if(g.xperiodalignment&&y&&(re.orig_x=y),g.yperiodalignment&&k&&(re.orig_y=k),X&&X.length===$.length-1&&(re.xCenter=X),Q&&Q.length===te.length-1&&(re.yCenter=Q),N&&(re.xRanges=A.xRanges,re.yRanges=A.yRanges,re.pts=A.pts),L||v(d,g,{vals:h,cLetter:"z"}),L&&g.contours&&"heatmap"===g.contours.coloring){var le={type:"contour"===g.type?"heatmap":"histogram2d",xcalendar:g.xcalendar,ycalendar:g.ycalendar};re.xfill=o(le,X,T,_,ne,I),re.yfill=o(le,Q,m,b,h.length,P)}return[re]}},4742:function(ie,z,r){"use strict";var C=r(92770),E=r(71828),f=r(50606).BADNUM;ie.exports=function(S,M,v,c){var i,u,a,o,l,s;function d(w){if(C(w))return+w}if(M&&M.transpose){for(i=0,l=0;l<S.length;l++)i=Math.max(i,S[l].length);if(0===i)return!1;a=function(w){return w.length},o=function(w,m,b){return(w[b]||[])[m]}}else i=S.length,a=function(w,m){return w[m].length},o=function(w,m,b){return(w[m]||[])[b]};function p(w){if(M&&"carpet"!==M.type&&"contourcarpet"!==M.type&&w&&"category"===w.type&&M["_"+w._id.charAt(0)].length){var m=w._id.charAt(0),b={},k=M["_"+m+"CategoryMap"]||M[m];for(l=0;l<k.length;l++)b[k[l]]=l;return function(h){var O=b[w._categories[h]];return O+1?O:f}}return E.identity}var T=p(v),_=p(c);c&&"category"===c.type&&(i=c._categories.length);var w,m,b,y=new Array(i);for(l=0;l<i;l++)for(u=v&&"category"===v.type?v._categories.length:a(S,l),y[l]=new Array(u),s=0;s<u;s++)y[l][s]=d((w=S,m=_(l),b=T(s),m===f||b===f?f:o(w,m,b)));return y}},61243:function(ie){"use strict";ie.exports={min:"zmin",max:"zmax"}},68296:function(ie,z,r){"use strict";var C=r(71828),E=r(50606).BADNUM,f=r(42973);ie.exports=function(S,M,v,c,i,u){var a=S._length,o=M.makeCalcdata(S,c),l=v.makeCalcdata(S,i);o=f(S,M,c,o).vals,l=f(S,v,i,l).vals;var s,d,g,p,T=S.text,_=void 0!==T&&C.isArray1D(T),y=S.hovertext,w=void 0!==y&&C.isArray1D(y),m=C.distinctVals(o),b=m.vals,k=C.distinctVals(l),h=k.vals,O=[],A=h.length,I=b.length;for(s=0;s<u.length;s++)O[s]=C.init2dArray(A,I);_&&(g=C.init2dArray(A,I)),w&&(p=C.init2dArray(A,I));var P=C.init2dArray(A,I);for(s=0;s<a;s++)if(o[s]!==E&&l[s]!==E){var L=C.findBin(o[s]+m.minDiff/2,b),N=C.findBin(l[s]+k.minDiff/2,h);for(d=0;d<u.length;d++)O[d][N][L]=S[u[d]][s],P[N][L]=s;_&&(g[N][L]=T[s]),w&&(p[N][L]=y[s])}for(S["_"+c]=b,S["_"+i]=h,d=0;d<u.length;d++)S["_"+u[d]]=O[d];_&&(S._text=g),w&&(S._hovertext=p),M&&"category"===M.type&&(S["_"+c+"CategoryMap"]=b.map(function(W){return M._categories[W]})),v&&"category"===v.type&&(S["_"+i+"CategoryMap"]=h.map(function(W){return v._categories[W]})),S._after2before=P}},76382:function(ie,z,r){"use strict";var C=r(71828),E=r(67684),f=r(58623),S=r(73927),M=r(49901),v=r(1586),c=r(21606);ie.exports=function(i,u,a,o){function l(s,d){return C.coerce(i,u,c,s,d)}E(i,u,l,o)?(S(i,u,o,l),l("xhoverformat"),l("yhoverformat"),l("text"),l("hovertext"),l("hovertemplate"),f(l,o),M(i,u,l,o),l("hoverongaps"),l("connectgaps",C.isArray1D(u.z)&&!1!==u.zsmooth),v(i,u,o,l,{prefix:"",cLetter:"z"})):u.visible=!1}},43907:function(ie,z,r){"use strict";var C=r(71828).maxRowLength;ie.exports=function(E){var f,S,M,v,c,i,u,a,o=[],l={},s=[],d=E[0],g=[],p=[0,0,0],T=C(E);for(S=0;S<E.length;S++)for(f=g,g=d,d=E[S+1]||[],M=0;M<T;M++)void 0===g[M]&&((i=(void 0!==g[M-1]?1:0)+(void 0!==g[M+1]?1:0)+(void 0!==f[M]?1:0)+(void 0!==d[M]?1:0))?(0===S&&i++,0===M&&i++,S===E.length-1&&i++,M===g.length-1&&i++,i<4&&(l[[S,M]]=[S,M,i]),o.push([S,M,i])):s.push([S,M]));for(;s.length;){for(u={},a=!1,c=s.length-1;c>=0;c--)(i=((l[[(S=(v=s[c])[0])-1,M=v[1]]]||p)[2]+(l[[S+1,M]]||p)[2]+(l[[S,M-1]]||p)[2]+(l[[S,M+1]]||p)[2])/20)&&(u[v]=[S,M,i],s.splice(c,1),a=!0);if(!a)throw"findEmpties iterated with no new neighbors";for(v in u)l[v]=u[v],o.push(u[v])}return o.sort(function(_,y){return y[2]-_[2]})}},46248:function(ie,z,r){"use strict";var C=r(30211),E=r(71828),f=r(89298),S=r(21081).extractOpts;ie.exports=function(M,v,c,i,u){u||(u={});var a,o,l,s,d=u.isContour,g=M.cd[0],p=g.trace,T=M.xa,_=M.ya,y=g.x,w=g.y,m=g.z,b=g.xCenter,k=g.yCenter,h=g.zmask,O=p.zhoverformat,A=y,I=w;if(!1!==M.index){try{l=Math.round(M.index[1]),s=Math.round(M.index[0])}catch{return void E.error("Error hovering on heatmap, pointNumber must be [row,col], found:",M.index)}if(l<0||l>=m[0].length||s<0||s>m.length)return}else{if(C.inbox(v-y[0],v-y[y.length-1],0)>0||C.inbox(c-w[0],c-w[w.length-1],0)>0)return;if(d){var P;for(A=[2*y[0]-y[1]],P=1;P<y.length;P++)A.push((y[P]+y[P-1])/2);for(A.push([2*y[y.length-1]-y[y.length-2]]),I=[2*w[0]-w[1]],P=1;P<w.length;P++)I.push((w[P]+w[P-1])/2);I.push([2*w[w.length-1]-w[w.length-2]])}l=Math.max(0,Math.min(A.length-2,E.findBin(v,A))),s=Math.max(0,Math.min(I.length-2,E.findBin(c,I)))}var L,N,B=T.c2p(y[l]),W=T.c2p(y[l+1]),j=_.c2p(w[s]),Z=_.c2p(w[s+1]);d?(W=B,a=(L=g.orig_x||y)[l],Z=j,o=(N=g.orig_y||w)[s]):(L=g.orig_x||b||y,N=g.orig_y||k||w,a=b?L[l]:(L[l]+L[l+1])/2,o=k?N[s]:(N[s]+N[s+1])/2,T&&"category"===T.type&&(a=y[l]),_&&"category"===_.type&&(o=w[s]),p.zsmooth&&(B=W=T.c2p(a),j=Z=_.c2p(o)));var V=m[s][l];if(h&&!h[s][l]&&(V=void 0),void 0!==V||p.hoverongaps){var q;Array.isArray(g.hovertext)&&Array.isArray(g.hovertext[s])?q=g.hovertext[s][l]:Array.isArray(g.text)&&Array.isArray(g.text[s])&&(q=g.text[s][l]);var G=S(p),ne=f.tickText({type:"linear",range:[G.min,G.max],hoverformat:O,_separators:T._separators,_numFormat:T._numFormat},V,"hover").text;return[E.extendFlat(M,{index:p._after2before?p._after2before[s][l]:[s,l],distance:M.maxHoverDistance,spikeDistance:M.maxSpikeDistance,x0:B,x1:W,y0:j,y1:Z,xLabelVal:a,yLabelVal:o,zLabelVal:V,zLabel:ne,text:q})]}}},92165:function(ie,z,r){"use strict";ie.exports={attributes:r(21606),supplyDefaults:r(76382),calc:r(90757),plot:r(50347),colorbar:r(61243),style:r(70035),hoverPoints:r(46248),moduleType:"trace",name:"heatmap",basePlotModule:r(93612),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},824:function(ie,z,r){"use strict";var C=r(71828),E=[[-1,0],[1,0],[0,-1],[0,1]];function f(M){return.5-.25*Math.min(1,.5*M)}function S(M,v,c){var i,u,a,o,l,s,d,g,p,T,_,y,w,m=0;for(o=0;o<v.length;o++){for(_=M[u=(i=v[o])[0]][a=i[1]],T=0,p=0,l=0;l<4;l++)(d=M[u+(s=E[l])[0]])&&void 0!==(g=d[a+s[1]])&&(0===T?y=w=g:(y=Math.min(y,g),w=Math.max(w,g)),p++,T+=g);if(0===p)throw"iterateInterp2d order is wrong: no defined neighbors";M[u][a]=T/p,void 0===_?p<4&&(m=1):(M[u][a]=(1+c)*M[u][a]-c*_,w>y&&(m=Math.max(m,Math.abs(M[u][a]-_)/(w-y))))}return m}ie.exports=function(M,v){var c,i=1;for(S(M,v),c=0;c<v.length&&!(v[c][2]<4);c++);for(v=v.slice(c),c=0;c<100&&i>.01;c++)i=S(M,v,f(i));return i>.01&&C.log("interp2d didn't converge quickly",i),M}},58623:function(ie,z,r){"use strict";var C=r(71828);ie.exports=function(E,f){E("texttemplate");var S=C.extendFlat({},f.font,{color:"auto",size:"auto"});C.coerceFont(E,"textfont",S)}},70769:function(ie,z,r){"use strict";var C=r(73972),E=r(71828).isArrayOrTypedArray;ie.exports=function(f,S,M,v,c,i){var u,a,o,l=[],s=C.traceIs(f,"contour"),d=C.traceIs(f,"histogram"),g=C.traceIs(f,"gl2d");if(E(S)&&S.length>1&&!d&&"category"!==i.type){var p=S.length;if(!(p<=c))return S.slice(0,s?c:c+1);if(s||g)l=S.slice(0,c);else if(1===c)l=[S[0]-.5,S[0]+.5];else{for(l=[1.5*S[0]-.5*S[1]],o=1;o<p;o++)l.push(.5*(S[o-1]+S[o]));l.push(1.5*S[p-1]-.5*S[p-2])}if(p<c){var T=l[l.length-1],_=T-l[l.length-2];for(o=p;o<c;o++)l.push(T+=_)}}else{var y=f[i._id.charAt(0)+"calendar"];for(u=d?i.r2c(M,0,y):E(S)&&1===S.length?S[0]:void 0===M?0:("log"===i.type?i.d2c:i.r2c)(M,0,y),a=v||1,o=s||g?0:-.5;o<c;o++)l.push(u+a*o)}return l}},50347:function(ie,z,r){"use strict";var C=r(39898),E=r(84267),f=r(73972),S=r(91424),M=r(89298),v=r(71828),c=r(63893),i=r(8225),u=r(7901),a=r(21081).extractOpts,o=r(21081).makeColorScaleFuncFromTrace,l=r(77922),s=r(18783).LINE_SPACING,d="heatmap-label";function g(w){return w.selectAll("g."+d)}function p(w){g(w).remove()}function T(w,m){var b=m.length-2,k=v.constrain(v.findBin(w,m),0,b),h=m[k],A=v.constrain(k+(w-h)/(m[k+1]-h)-.5,0,b),I=Math.round(A),P=Math.abs(A-I);return A&&A!==b&&P?{bin0:I,frac:P,bin1:Math.round(I+P/(A-I))}:{bin0:I,bin1:I,frac:0}}function _(w,m){var b=m.length-1,k=v.constrain(v.findBin(w,m),0,b),h=m[k],O=(w-h)/(m[k+1]-h)||0;return O<=0?{bin0:k,bin1:k,frac:0}:O<.5?{bin0:k,bin1:k+1,frac:O}:{bin0:k+1,bin1:k,frac:1-O}}function y(w,m,b){w[m]=b[0],w[m+1]=b[1],w[m+2]=b[2],w[m+3]=Math.round(255*b[3])}ie.exports=function(w,m,b,k){var h=m.xaxis,O=m.yaxis;v.makeTraceGroups(k,b,"hm").each(function(A){var I,P,L,N,B,W,j,Z,V=C.select(this),q=A[0],G=q.trace,H=G.xgap||0,ne=G.ygap||0,X=q.z,$=q.x,Q=q.y,te=q.xCenter,re=q.yCenter,le=f.traceIs(G,"contour"),ue=le?"best":G.zsmooth,he=X.length,ge=v.maxRowLength(X),xe=!1,ke=!1;for(W=0;void 0===I&&W<$.length-1;)I=h.c2p($[W]),W++;for(W=$.length-1;void 0===P&&W>0;)P=h.c2p($[W]),W--;for(P<I&&(L=P,P=I,I=L,xe=!0),W=0;void 0===N&&W<Q.length-1;)N=O.c2p(Q[W]),W++;for(W=Q.length-1;void 0===B&&W>0;)B=O.c2p(Q[W]),W--;if(B<N&&(L=N,N=B,B=L,ke=!0),le&&(te=$,re=Q,$=q.xfill,Q=q.yfill),"fast"!==ue){var Ae="best"===ue?0:.5;I=Math.max(-Ae*h._length,I),P=Math.min((1+Ae)*h._length,P),N=Math.max(-Ae*O._length,N),B=Math.min((1+Ae)*O._length,B)}var pe,ye,Ne=Math.round(P-I),be=Math.round(B-N);if(Ne<=0||be<=0)return V.selectAll("image").data([]).exit().remove(),void p(V);"fast"===ue?(pe=ge,ye=he):(pe=Ne,ye=be);var Ee=document.createElement("canvas");Ee.width=pe,Ee.height=ye;var Oe,De,oe=Ee.getContext("2d"),de=o(G,{noNumericCheck:!0,returnArray:!0});"fast"===ue?(Oe=xe?function(Un){return ge-1-Un}:v.identity,De=ke?function(Un){return he-1-Un}:v.identity):(Oe=function(Un){return v.constrain(Math.round(h.c2p($[Un])-I),0,Ne)},De=function(Un){return v.constrain(Math.round(O.c2p(Q[Un])-N),0,be)});var _e,Me,Pe,Ue,Be=De(0),Ve=[Be,Be],ve=xe?0:1,Te=ke?0:1,Ce=0,We=0,Ke=0,Je=0;function ht(Un,ur){if(void 0!==Un){var cr=de(Un);return cr[0]=Math.round(cr[0]),cr[1]=Math.round(cr[1]),cr[2]=Math.round(cr[2]),Ce+=ur,We+=cr[0]*ur,Ke+=cr[1]*ur,Je+=cr[2]*ur,cr}return[0,0,0,0]}function ft(Un,ur,cr,on){var xn=Un[cr.bin0];if(void 0===xn)return ht(void 0,1);var Bn=Un[cr.bin1],qn=ur[cr.bin0],nr=ur[cr.bin1];return ht(xn+cr.frac*(Bn-xn||0)+on.frac*((qn-xn||0)+cr.frac*(void 0===Bn?void 0===nr?0:void 0===qn?2*(nr-xn):2*(2*nr-qn-xn)/3:void 0===nr?void 0===qn?0:2*(2*xn-Bn-qn)/3:void 0===qn?2*(2*nr-Bn-xn)/3:nr+xn-Bn-qn)))}if(ue){var mt,At=0;try{mt=new Uint8Array(Ne*be*4)}catch{mt=new Array(Ne*be*4)}if("best"===ue){var Rt,It,Pt,Bt=te||$,Ut=re||Q,Vt=new Array(Bt.length),tn=new Array(Ut.length),Gt=new Array(Ne),et=te?_:T,nt=re?_:T;for(W=0;W<Bt.length;W++)Vt[W]=Math.round(h.c2p(Bt[W])-I);for(W=0;W<Ut.length;W++)tn[W]=Math.round(O.c2p(Ut[W])-N);for(W=0;W<Ne;W++)Gt[W]=et(W,Vt);for(j=0;j<be;j++)for(It=X[(Rt=nt(j,tn)).bin0],Pt=X[Rt.bin1],W=0;W<Ne;W++,At+=4)y(mt,At,Ue=ft(It,Pt,Gt[W],Rt))}else for(j=0;j<he;j++)for(Pe=X[j],Ve=De(j),W=0;W<Ne;W++)Ue=ht(Pe[W],1),y(mt,At=4*(Ve*Ne+Oe(W)),Ue);var $e=oe.createImageData(Ne,be);try{$e.data.set(mt)}catch{var ot=$e.data,dt=ot.length;for(j=0;j<dt;j++)ot[j]=mt[j]}oe.putImageData($e,0,0)}else{var Le=Math.floor(H/2),Ge=Math.floor(ne/2);for(j=0;j<he;j++)if(Pe=X[j],Ve.reverse(),Ve[Te]=De(j+1),Ve[0]!==Ve[1]&&void 0!==Ve[0]&&void 0!==Ve[1])for(_e=[Me=Oe(0),Me],W=0;W<ge;W++)_e.reverse(),_e[ve]=Oe(W+1),_e[0]!==_e[1]&&void 0!==_e[0]&&void 0!==_e[1]&&(Ue=ht(Pe[W],(_e[1]-_e[0])*(Ve[1]-Ve[0])),oe.fillStyle="rgba("+Ue.join(",")+")",oe.fillRect(_e[0]+Le,Ve[0]+Ge,_e[1]-_e[0]-H,Ve[1]-Ve[0]-ne))}We=Math.round(We/Ce),Ke=Math.round(Ke/Ce),Je=Math.round(Je/Ce);var st=E("rgb("+We+","+Ke+","+Je+")");w._hmpixcount=(w._hmpixcount||0)+Ce,w._hmlumcount=(w._hmlumcount||0)+Ce*st.getLuminance();var vt=V.selectAll("image").data(A);vt.enter().append("svg:image").attr({xmlns:l.svg,preserveAspectRatio:"none"}),vt.attr({height:be,width:Ne,x:I,y:N,"xlink:href":Ee.toDataURL("image/png")}),p(V);var bt=G.texttemplate;if(bt){var Lt=a(G),jt={type:"linear",range:[Lt.min,Lt.max],_separators:h._separators,_numFormat:h._numFormat},Nt="histogram2dcontour"===G.type,Tt="contour"===G.type,Mt=Tt?he-1:he,kt=Tt?1:0,Ht=Tt?ge-1:ge,qt=[];for(W=Tt?1:0;W<Mt;W++){var Qt;if(Tt)Qt=q.y[W];else if(Nt){if(0===W||W===he-1)continue;Qt=q.y[W]}else if(q.yCenter)Qt=q.yCenter[W];else{if(W+1===he&&void 0===q.y[W+1])continue;Qt=(q.y[W]+q.y[W+1])/2}var Jt=Math.round(O.c2p(Qt));if(!(0>Jt||Jt>O._length))for(j=kt;j<Ht;j++){var Kt;if(Tt)Kt=q.x[j];else if(Nt){if(0===j||j===ge-1)continue;Kt=q.x[j]}else if(q.xCenter)Kt=q.xCenter[j];else{if(j+1===ge&&void 0===q.x[j+1])continue;Kt=(q.x[j]+q.x[j+1])/2}var ln=Math.round(h.c2p(Kt));if(!(0>ln||ln>h._length)){var Tn=i({x:Kt,y:Qt},G,w._fullLayout);Tn.x=Kt,Tn.y=Qt;var An=q.z[W][j];void 0===An?(Tn.z="",Tn.zLabel=""):(Tn.z=An,Tn.zLabel=M.tickText(jt,An,"hover").text);var pn=q.text&&q.text[W]&&q.text[W][j];void 0!==pn&&!1!==pn||(pn=""),Tn.text=pn;var Nn=v.texttemplateString(bt,Tn,w._fullLayout._d3locale,Tn,G._meta||{});if(Nn){var tr=Nn.split("<br>"),On=tr.length,wn=0;for(Z=0;Z<On;Z++)wn=Math.max(wn,tr[Z].length);qt.push({l:On,c:wn,t:Nn,x:ln,y:Jt,z:An})}}}}var Cn=G.textfont,mn=Cn.family,En=Cn.size,Fn=w._fullLayout.font.size;if(!En||"auto"===En){var jn=1/0,er=1/0,Zn=0,Gn=0;for(Z=0;Z<qt.length;Z++){var _r=qt[Z];if(Zn=Math.max(Zn,_r.l),Gn=Math.max(Gn,_r.c),Z<qt.length-1){var mr=qt[Z+1],Vr=Math.abs(mr.x-_r.x),Dr=Math.abs(mr.y-_r.y);Vr&&(jn=Math.min(jn,Vr)),Dr&&(er=Math.min(er,Dr))}}isFinite(jn)&&isFinite(er)?(jn-=H,er-=ne,jn/=Gn,er/=Zn,jn/=s/2,er/=s,En=Math.min(Math.floor(jn),Math.floor(er),Fn)):En=Fn}if(En<=0||!isFinite(En))return;g(V).data(qt).enter().append("g").classed(d,1).append("text").attr("text-anchor","middle").each(function(Un){var on,ur=C.select(this),cr=Cn.color;cr&&"auto"!==cr||(cr=u.contrast("rgba("+de(Un.z).join()+")")),ur.attr("data-notex",1).call(c.positionText,(on=Un,on.x),function(on){return on.y-En*(on.l*s/2-1)}(Un)).call(S.font,mn,En,cr).text(Un.t).call(c.convertToTspans,w)})}})}},70035:function(ie,z,r){"use strict";var C=r(39898);ie.exports=function(E){C.select(E).selectAll(".hm image").style("opacity",function(f){return f.trace.opacity})}},49901:function(ie){"use strict";ie.exports=function(z,r,C){!1===C("zsmooth")&&(C("xgap"),C("ygap")),C("zhoverformat")}},67684:function(ie,z,r){"use strict";var C=r(92770),E=r(71828),f=r(73972);function S(M,v){var c=v(M);return"scaled"===(c?v(M+"type","array"):"scaled")&&(v(M+"0"),v("d"+M)),c}ie.exports=function(M,v,c,i,u,a){var o,l,s=c("z");if(u=u||"x",a=a||"y",void 0===s||!s.length)return 0;if(E.isArray1D(M.z)){o=c(u),l=c(a);var d=E.minRowLength(o),g=E.minRowLength(l);if(0===d||0===g)return 0;v._length=Math.min(d,g,s.length)}else{if(o=S(u,c),l=S(a,c),!function(p){for(var T,_=!0,y=!1,w=!1,m=0;m<p.length;m++){if(!E.isArrayOrTypedArray(T=p[m])){_=!1;break}T.length>0&&(y=!0);for(var b=0;b<T.length;b++)if(C(T[b])){w=!0;break}}return _&&y&&w}(s))return 0;c("transpose"),v._length=null}return"heatmapgl"===M.type||f.getComponentMethod("calendars","handleTraceDefaults")(M,v,[u,a],i),!0}},16063:function(ie,z,r){"use strict";for(var C=r(21606),E=r(50693),f=r(1426).extendFlat,S=r(30962).overrideAll,M=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],v={},c=0;c<M.length;c++){var i=M[c];v[i]=C[i]}v.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},f(v,E("",{cLetter:"z",autoColorDflt:!1})),ie.exports=S(v,"calc","nested")},59560:function(ie,z,r){"use strict";var C=r(9330).gl_heatmap2d,E=r(89298),f=r(78614);function S(v,c){this.scene=v,this.uid=c,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=C(v.glplot,this.options),this.heatmap._trace=this}var M=S.prototype;M.handlePick=function(v){var c=this.options,i=c.shape,u=v.pointId,a=u%i[0],o=Math.floor(u/i[0]);return{trace:this,dataCoord:v.dataCoord,traceCoord:[c.x[a],c.y[o],c.z[u]],textLabel:this.textLabels[u],name:this.name,pointIndex:[o,a],hoverinfo:this.hoverinfo}},M.update=function(v,c){var i=c[0];this.index=v.index,this.name=v.name,this.hoverinfo=v.hoverinfo;var u=i.z;this.options.z=[].concat.apply([],u),this.options.shape=[u[0].length,u.length],this.options.x=i.x,this.options.y=i.y,this.options.zsmooth=v.zsmooth;var l=function(T){for(var _=T.colorscale,y=T.zmin,w=T.zmax,m=_.length,b=new Array(m),k=new Array(4*m),h=0;h<m;h++){var O=_[h],A=f(O[1]);b[h]=y+O[0]*(w-y);for(var I=0;I<4;I++)k[4*h+I]=A[I]}return{colorLevels:b,colorValues:k}}(v);this.options.colorLevels=l.colorLevels,this.options.colorValues=l.colorValues,this.textLabels=[].concat.apply([],v.text),this.heatmap.update(this.options);var s,d,g=this.scene.xaxis,p=this.scene.yaxis;!1===v.zsmooth&&(s={ppad:i.x[1]-i.x[0]},d={ppad:i.y[1]-i.y[0]}),v._extremes[g._id]=E.findExtremes(g,i.x,s),v._extremes[p._id]=E.findExtremes(p,i.y,d)},M.dispose=function(){this.heatmap.dispose()},ie.exports=function(v,c,i){var u=new S(v,c.uid);return u.update(c,i),u}},19600:function(ie,z,r){"use strict";var C=r(71828),E=r(67684),f=r(1586),S=r(16063);ie.exports=function(M,v,c,i){function u(a,o){return C.coerce(M,v,S,a,o)}E(M,v,u,i)?(u("text"),u("zsmooth"),f(M,v,i,u,{prefix:"",cLetter:"z"})):v.visible=!1}},3325:function(ie,z,r){"use strict";["*heatmapgl* trace is deprecated!","Please consider switching to the *heatmap* or *image* trace types.","Alternatively you could contribute/sponsor rewriting this trace type","based on cartesian features and using regl framework."].join(" "),ie.exports={attributes:r(16063),supplyDefaults:r(19600),colorbar:r(61243),calc:r(90757),plot:r(59560),moduleType:"trace",name:"heatmapgl",basePlotModule:r(4796),categories:["gl","gl2d","2dMap"],meta:{}}},7745:function(ie,z,r){"use strict";var C=r(1486),E=r(12663).axisHoverFormat,f=r(5386).f,S=r(5386).s,M=r(41940),v=r(17656),c=r(72406),i=r(1426).extendFlat;ie.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:E("x"),yhoverformat:E("y"),text:i({},C.text,{}),hovertext:i({},C.hovertext,{}),orientation:C.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:v("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:v("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:f({},{keys:c.eventDataKeys}),texttemplate:S({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:i({},C.textposition,{arrayOk:!1}),textfont:M({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:M({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:M({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:C.insidetextanchor,textangle:C.textangle,cliponaxis:C.cliponaxis,constraintext:C.constraintext,marker:C.marker,offsetgroup:C.offsetgroup,alignmentgroup:C.alignmentgroup,selected:C.selected,unselected:C.unselected,_deprecated:{bardir:C._deprecated.bardir}}},42174:function(ie){"use strict";ie.exports=function(z,r){for(var C=z.length,E=0,f=0;f<C;f++)r[f]?(z[f]/=r[f],E+=z[f]):z[f]=null;return E}},17656:function(ie){"use strict";ie.exports=function(z,r){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},59575:function(ie,z,r){"use strict";var C=r(92770);ie.exports={count:function(E,f,S){return S[E]++,1},sum:function(E,f,S,M){var v=M[f];return C(v)?(v=Number(v),S[E]+=v,v):0},avg:function(E,f,S,M,v){var c=M[f];return C(c)&&(c=Number(c),S[E]+=c,v[E]++),0},min:function(E,f,S,M){var v=M[f];if(C(v)){if(v=Number(v),!C(S[E]))return S[E]=v,v;if(S[E]>v){var c=v-S[E];return S[E]=v,c}}return 0},max:function(E,f,S,M){var v=M[f];if(C(v)){if(v=Number(v),!C(S[E]))return S[E]=v,v;if(S[E]<v){var c=v-S[E];return S[E]=v,c}}return 0}}},40965:function(ie,z,r){"use strict";var C=r(50606),E=C.ONEAVGYEAR,f=C.ONEAVGMONTH,S=C.ONEDAY,M=C.ONEHOUR,v=C.ONEMIN,c=C.ONESEC,i=r(89298).tickIncrement;function u(s,d,g,p){if(s*d<=0)return 1/0;for(var T=Math.abs(d-s),_="date"===g.type,y=a(T,_),w=0;w<10;w++){var m=a(80*y,_);if(y===m||!o(m,s,d,_,g,p))break;y=m}return y}function a(s,d){return d&&s>c?s>S?s>1.1*E?E:s>1.1*f?f:S:s>M?M:s>v?v:c:Math.pow(10,Math.floor(Math.log(s)/Math.LN10))}function o(s,d,g,p,T,_){if(p&&s>S){var y=l(d,T,_),w=l(g,T,_),m=s===E?0:1;return y[m]!==w[m]}return Math.floor(g/s)-Math.floor(d/s)>.1}function l(s,d,g){var p=d.c2d(s,E,g).split("-");return""===p[0]&&(p.unshift(),p[0]="-"+p[0]),p}ie.exports=function(s,d,g,p,T){var _,y,w=-1.1*d,m=-.1*d,b=s-m,k=g[0],h=g[1],O=Math.min(u(k+m,k+b,p,T),u(h+m,h+b,p,T)),A=Math.min(u(k+w,k+m,p,T),u(h+w,h+m,p,T));if(O>A&&A<Math.abs(h-k)/4e3?(_=O,y=!1):(_=Math.min(O,A),y=!0),"date"===p.type&&_>S){var I=_===E?1:6,P=_===E?"M12":"M1";return function(L,N){var B=p.c2d(L,E,T),W=B.indexOf("-",I);W>0&&(B=B.substr(0,W));var j=p.d2c(B,0,T);if(j<L){var Z=i(j,P,!1,T);(j+Z)/2<L+s&&(j=Z)}return N&&y?i(j,P,!0,T):j}}return function(L,N){var B=_*Math.round(L/_);return B+_/10<L&&B+.9*_<L+s&&(B+=_),N&&y&&(B-=_),B}}},72138:function(ie,z,r){"use strict";var C=r(92770),E=r(71828),f=r(73972),S=r(89298),M=r(75341),v=r(59575),c=r(36362),i=r(42174),u=r(40965);function a(o,l,s,d,g){var p,T,_,y,w,m,b,k=d+"bins",h=o._fullLayout,A=h._histogramBinOpts[l["_"+d+"bingroup"]],I="overlay"===h.barmode,P=function(pe){return s.r2c(pe,0,y)},L=function(pe){return s.c2r(pe,0,y)},N="date"===s.type?function(pe){return pe||0===pe?E.cleanDate(pe,null,y):null}:function(pe){return C(pe)?Number(pe):null};function B(pe,ye,Ne){ye[pe+"Found"]?(ye[pe]=N(ye[pe]),null===ye[pe]&&(ye[pe]=Ne[pe])):(m[pe]=ye[pe]=Ne[pe],E.nestedProperty(T[0],k+"."+pe).set(Ne[pe]))}if(l["_"+d+"autoBinFinished"])delete l["_"+d+"autoBinFinished"];else{T=A.traces;var W=[],j=!0,Z=!1,V=!1;for(p=0;p<T.length;p++)if((_=T[p]).visible){var q=A.dirs[p];w=_["_"+q+"pos0"]=s.makeCalcdata(_,q),W=E.concat(W,w),delete _["_"+d+"autoBinFinished"],!0===l.visible&&(j?j=!1:(delete _._autoBin,_["_"+d+"autoBinFinished"]=1),f.traceIs(_,"2dMap")&&(Z=!0),"histogram2dcontour"===_.type&&(V=!0))}var G=S.autoBin(W,s,A.nbins,Z,y=T[0][d+"calendar"],A.sizeFound&&A.size),H=T[0]._autoBin={};if(m=H[A.dirs[0]]={},V&&(A.size||(G.start=L(S.tickIncrement(P(G.start),G.size,!0,y))),void 0===A.end&&(G.end=L(S.tickIncrement(P(G.end),G.size,!1,y)))),I&&!f.traceIs(l,"2dMap")&&0===G._dataSpan&&"category"!==s.type&&"multicategory"!==s.type){if(g)return[G,w,!0];G=function(pe,ye,Ne,be,Ee){var Oe,De,oe,de=pe._fullLayout,_e=function(ht,ft){for(var mt=ft.xaxis,At=ft.yaxis,Rt=ft.orientation,It=[],Pt=ht._fullData,Bt=0;Bt<Pt.length;Bt++){var Ut=Pt[Bt];"histogram"===Ut.type&&!0===Ut.visible&&Ut.orientation===Rt&&Ut.xaxis===mt&&Ut.yaxis===At&&It.push(Ut)}return It}(pe,ye),Me=!1,Pe=1/0,Ue=[ye];for(Oe=0;Oe<_e.length;Oe++)if((De=_e[Oe])===ye)Me=!0;else if(Me){var Be=a(pe,De,Ne,be,!0),Ve=Be[0],ve=Be[2];De["_"+be+"autoBinFinished"]=1,De["_"+be+"pos0"]=Be[1],ve?Ue.push(De):Pe=Math.min(Pe,Ve.size)}else oe=de._histogramBinOpts[De["_"+be+"bingroup"]],Pe=Math.min(Pe,oe.size||De[Ee].size);var Te=new Array(Ue.length);for(Oe=0;Oe<Ue.length;Oe++)for(var Ce=Ue[Oe]["_"+be+"pos0"],We=0;We<Ce.length;We++)if(void 0!==Ce[We]){Te[Oe]=Ce[We];break}for(isFinite(Pe)||(Pe=E.distinctVals(Te).minDiff),Oe=0;Oe<Ue.length;Oe++){var Ke=(De=Ue[Oe])[be+"calendar"],Je={start:Ne.c2r(Te[Oe]-Pe/2,0,Ke),end:Ne.c2r(Te[Oe]+Pe/2,0,Ke),size:Pe};De._input[Ee]=De[Ee]=Je,(oe=de._histogramBinOpts[De["_"+be+"bingroup"]])&&E.extendFlat(oe,Je)}return ye[Ee]}(o,l,s,d,k)}(b=_.cumulative||{}).enabled&&"include"!==b.currentbin&&("decreasing"===b.direction?G.start=L(S.tickIncrement(P(G.start),G.size,!0,y)):G.end=L(S.tickIncrement(P(G.end),G.size,!1,y))),A.size=G.size,A.sizeFound||(m.size=G.size,E.nestedProperty(T[0],k+".size").set(G.size)),B("start",A,G),B("end",A,G)}w=l["_"+d+"pos0"],delete l["_"+d+"pos0"];var ne=l._input[k]||{},X=E.extendFlat({},A),$=A.start,Q=s.r2l(ne.start),te=void 0!==Q;if((A.startFound||te)&&Q!==s.r2l($)){var re=te?Q:E.aggNums(Math.min,null,w),le={type:"category"===s.type||"multicategory"===s.type?"linear":s.type,r2l:s.r2l,dtick:A.size,tick0:$,calendar:y,range:[re,S.tickIncrement(re,A.size,!1,y)].map(s.l2r)},ue=S.tickFirst(le);ue>s.r2l(re)&&(ue=S.tickIncrement(ue,A.size,!0,y)),X.start=s.l2r(ue),te||E.nestedProperty(l,k+".start").set(X.start)}var he=A.end,ge=s.r2l(ne.end),xe=void 0!==ge;if((A.endFound||xe)&&ge!==s.r2l(he)){var ke=xe?ge:E.aggNums(Math.max,null,w);X.end=s.l2r(ke),xe||E.nestedProperty(l,k+".start").set(X.end)}var Ae="autobin"+d;return!1===l._input[Ae]&&(l._input[k]=E.extendFlat({},l[k]||{}),delete l._input[Ae],delete l[Ae]),[X,w]}ie.exports={calc:function(o,l){var s,d,g,p,T=[],_=[],y="h"===l.orientation,w=S.getFromId(o,y?l.yaxis:l.xaxis),m=y?"y":"x",b={x:"y",y:"x"}[m],k=l[m+"calendar"],h=l.cumulative,O=a(o,l,w,m),A=O[0],I=O[1],P="string"==typeof A.size,L=[],N=P?L:A,B=[],W=[],j=[],Z=0,V=l.histnorm,q=l.histfunc,G=-1!==V.indexOf("density");h.enabled&&G&&(V=V.replace(/ ?density$/,""),G=!1);var H,ne="max"===q||"min"===q?null:0,X=v.count,$=c[V],Q=!1,te=function(De){return w.r2c(De,0,k)};for(E.isArrayOrTypedArray(l[b])&&"count"!==q&&(H=l[b],Q="avg"===q,X=v[q]),s=te(A.start),g=te(A.end)+(s-S.tickIncrement(s,A.size,!1,k))/1e6;s<g&&T.length<1e6&&(d=S.tickIncrement(s,A.size,!1,k),T.push((s+d)/2),_.push(ne),j.push([]),L.push(s),G&&B.push(1/(d-s)),Q&&W.push(0),!(d<=s));)s=d;L.push(s),P||"date"!==w.type||(N={start:te(N.start),end:te(N.end),size:N.size}),o._fullLayout._roundFnOpts||(o._fullLayout._roundFnOpts={});var re=l["_"+m+"bingroup"],le={leftGap:1/0,rightGap:1/0};re&&(o._fullLayout._roundFnOpts[re]||(o._fullLayout._roundFnOpts[re]=le),le=o._fullLayout._roundFnOpts[re]);var ue,he=_.length,ge=!0,xe=le.leftGap,ke=le.rightGap,Ae={};for(s=0;s<I.length;s++){var pe=I[s];(p=E.findBin(pe,N))>=0&&p<he&&(Z+=X(p,s,_,H,W),ge&&j[p].length&&pe!==I[j[p][0]]&&(ge=!1),j[p].push(s),Ae[s]=p,xe=Math.min(xe,pe-L[p]),ke=Math.min(ke,L[p+1]-pe))}le.leftGap=xe,le.rightGap=ke,ge||(ue=function(De,oe){return function(){var de=o._fullLayout._roundFnOpts[re];return u(de.leftGap,de.rightGap,L,w,k)(De,oe)}}),Q&&(Z=i(_,W)),$&&$(_,Z,B),h.enabled&&function(De,oe,de){var _e,Me,Pe;function Ue(Ve){Pe=De[Ve],De[Ve]/=2}function Be(Ve){De[Ve]=Pe+(Me=De[Ve])/2,Pe+=Me}if("half"===de)if("increasing"===oe)for(Ue(0),_e=1;_e<De.length;_e++)Be(_e);else for(Ue(De.length-1),_e=De.length-2;_e>=0;_e--)Be(_e);else if("increasing"===oe){for(_e=1;_e<De.length;_e++)De[_e]+=De[_e-1];"exclude"===de&&(De.unshift(0),De.pop())}else{for(_e=De.length-2;_e>=0;_e--)De[_e]+=De[_e+1];"exclude"===de&&(De.push(0),De.shift())}}(_,h.direction,h.currentbin);var ye=Math.min(T.length,_.length),Ne=[],be=0,Ee=ye-1;for(s=0;s<ye;s++)if(_[s]){be=s;break}for(s=ye-1;s>=be;s--)if(_[s]){Ee=s;break}for(s=be;s<=Ee;s++)if(C(T[s])&&C(_[s])){var Oe={p:T[s],s:_[s],b:0};h.enabled||(Oe.pts=j[s],ge?Oe.ph0=Oe.ph1=j[s].length?I[j[s][0]]:T[s]:(l._computePh=!0,Oe.ph0=ue(L[s]),Oe.ph1=ue(L[s+1],!0))),Ne.push(Oe)}return 1===Ne.length&&(Ne[0].width1=S.tickIncrement(Ne[0].p,A.size,!1,k)-Ne[0].p),M(Ne,l),E.isArrayOrTypedArray(l.selectedpoints)&&E.tagSelected(Ne,l,Ae),Ne},calcAllAutoBins:a}},72406:function(ie){"use strict";ie.exports={eventDataKeys:["binNumber"]}},82222:function(ie,z,r){"use strict";var C=r(71828),E=r(41675),f=r(73972).traceIs,S=r(26125),M=C.nestedProperty,v=r(99082).getAxisGroup,c=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],i=["x","y"];ie.exports=function(u,a){var o,l,s,d,g,p,T,_=a._histogramBinOpts={},y=[],w={},m=[];function b(G,H){return C.coerce(o._input,o,o._module.attributes,G,H)}function k(G){return"v"===G.orientation?"x":"y"}function h(G,H,ne){var X=G.uid+"__"+ne;H||(H=X);var $=E.getFromTrace({_fullLayout:a},G,ne).type,Q=G[ne+"calendar"]||"",te=_[H],re=!0;te&&($===te.axType&&Q===te.calendar?(re=!1,te.traces.push(G),te.dirs.push(ne)):(H=X,$!==te.axType&&C.warn(["Attempted to group the bins of trace",G.index,"set on a","type:"+$,"axis","with bins on","type:"+te.axType,"axis."].join(" ")),Q!==te.calendar&&C.warn(["Attempted to group the bins of trace",G.index,"set with a",Q,"calendar","with bins",te.calendar?"on a "+te.calendar+" calendar":"w/o a set calendar"].join(" ")))),re&&(_[H]={traces:[G],dirs:[ne],axType:$,calendar:G[ne+"calendar"]||""}),G["_"+ne+"bingroup"]=H}for(g=0;g<u.length;g++)f(o=u[g],"histogram")&&(y.push(o),delete o._xautoBinFinished,delete o._yautoBinFinished,f(o,"2dMap")||S(o._input,o,a,b));var O=a._alignmentOpts||{};for(g=0;g<y.length;g++){if(s="",!f(o=y[g],"2dMap")){if(d=k(o),"group"===a.barmode&&o.alignmentgroup){var I=v(a,o[d+"axis"])+o.orientation;(O[I]||{})[o.alignmentgroup]&&(s=I)}s||"overlay"===a.barmode||(s=v(a,o.xaxis)+v(a,o.yaxis)+k(o))}s?(w[s]||(w[s]=[]),w[s].push(o)):m.push(o)}for(s in w)if(1!==(l=w[s]).length){var P=!1;for(l.length&&(o=l[0],P=b("bingroup")),s=P||s,g=0;g<l.length;g++){var L=(o=l[g])._input.bingroup;L&&L!==s&&C.warn(["Trace",o.index,"must match","within bingroup",s+".","Ignoring its bingroup:",L,"setting."].join(" ")),o.bingroup=s,h(o,s,k(o))}}else m.push(l[0]);for(g=0;g<m.length;g++){o=m[g];var N=b("bingroup");if(f(o,"2dMap"))for(T=0;T<2;T++){var B=b((d=i[T])+"bingroup",N?N+"__"+d:null);h(o,B,d)}else h(o,N,k(o))}for(s in _){var W=_[s];for(l=W.traces,p=0;p<c.length;p++){var j,Z,V=c[p],q=V.name;if("nbins"!==q||!W.sizeFound){for(g=0;g<l.length;g++){if(void 0!==M((o=l[g])._input,j=V.aStr[d=W.dirs[g]]).get()){W[q]=b(j),W[q+"Found"]=!0;break}(Z=(o._autoBin||{})[d]||{})[q]&&M(o,j).set(Z[q])}if("start"===q||"end"===q)for(;g<l.length;g++)(o=l[g])["_"+d+"bingroup"]&&b(j,(Z=(o._autoBin||{})[d]||{})[q]);"nbins"!==q||W.sizeFound||W.nbinsFound||(o=l[0],W[q]=b(j))}}}}},11385:function(ie,z,r){"use strict";var C=r(73972),E=r(71828),f=r(7901),S=r(90769).handleText,M=r(98340),v=r(7745);ie.exports=function(c,i,u,a){function o(m,b){return E.coerce(c,i,v,m,b)}var l=o("x"),s=o("y");o("cumulative.enabled")&&(o("cumulative.direction"),o("cumulative.currentbin")),o("text");var d=o("textposition");S(c,i,a,o,d,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),o("hovertext"),o("hovertemplate"),o("xhoverformat"),o("yhoverformat");var g=o("orientation",s&&!l?"h":"v"),p="v"===g?"x":"y",T="v"===g?"y":"x",_=l&&s?Math.min(E.minRowLength(l)&&E.minRowLength(s)):E.minRowLength(i[p]||[]);if(_){i._length=_,C.getComponentMethod("calendars","handleTraceDefaults")(c,i,["x","y"],a),i[T]&&o("histfunc"),o("histnorm"),o("autobin"+p),M(c,i,o,u,a),E.coerceSelectionMarkerOpacity(i,o);var y=(i.marker.line||{}).color,w=C.getComponentMethod("errorbars","supplyDefaults");w(c,i,y||f.defaultLine,{axis:"y"}),w(c,i,y||f.defaultLine,{axis:"x",inherit:"y"})}else i.visible=!1}},84402:function(ie){"use strict";ie.exports=function(z,r,C,E,f){if(z.x="xVal"in r?r.xVal:r.x,z.y="yVal"in r?r.yVal:r.y,"zLabelVal"in r&&(z.z=r.zLabelVal),r.xa&&(z.xaxis=r.xa),r.ya&&(z.yaxis=r.ya),!(C.cumulative||{}).enabled){var S,M=Array.isArray(f)?E[0].pts[f[0]][f[1]]:E[f].pts;if(z.pointNumbers=M,z.binNumber=z.pointNumber,delete z.pointNumber,delete z.pointIndex,C._indexToPoints){S=[];for(var v=0;v<M.length;v++)S=S.concat(C._indexToPoints[M[v]])}else S=M;z.pointIndices=S}return z}},76440:function(ie,z,r){"use strict";var C=r(95423).hoverPoints,E=r(89298).hoverLabelText;ie.exports=function(f,S,M,v,c){var i=C(f,S,M,v,c);if(i){var u=(f=i[0]).cd[f.index],a=f.cd[0].trace;if(!a.cumulative.enabled){var o="h"===a.orientation?"y":"x";f[o+"Label"]=E(f[o+"a"],[u.ph0,u.ph1],a[o+"hoverformat"])}return i}}},36071:function(ie,z,r){"use strict";ie.exports={attributes:r(7745),layoutAttributes:r(43641),supplyDefaults:r(11385),crossTraceDefaults:r(82222),supplyLayoutDefaults:r(13957),calc:r(72138).calc,crossTraceCalc:r(11661).crossTraceCalc,plot:r(17295).plot,layerName:"barlayer",style:r(16688).style,styleOnSelect:r(16688).styleOnSelect,colorbar:r(4898),hoverPoints:r(76440),selectPoints:r(81974),eventData:r(84402),moduleType:"trace",name:"histogram",basePlotModule:r(93612),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},36362:function(ie){"use strict";ie.exports={percent:function(z,r){for(var C=z.length,E=100/r,f=0;f<C;f++)z[f]*=E},probability:function(z,r){for(var C=z.length,E=0;E<C;E++)z[E]/=r},density:function(z,r,C,E){var f=z.length;E=E||1;for(var S=0;S<f;S++)z[S]*=C[S]*E},"probability density":function(z,r,C,E){var f=z.length;E&&(r/=E);for(var S=0;S<f;S++)z[S]*=C[S]/r}}},35361:function(ie,z,r){"use strict";var C=r(7745),E=r(17656),f=r(21606),S=r(9012),M=r(12663).axisHoverFormat,v=r(5386).f,c=r(5386).s,i=r(50693),u=r(1426).extendFlat;ie.exports=u({x:C.x,y:C.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:C.histnorm,histfunc:C.histfunc,nbinsx:C.nbinsx,xbins:E("x"),nbinsy:C.nbinsy,ybins:E("y"),autobinx:C.autobinx,autobiny:C.autobiny,bingroup:u({},C.bingroup,{}),xbingroup:u({},C.bingroup,{}),ybingroup:u({},C.bingroup,{}),xgap:f.xgap,ygap:f.ygap,zsmooth:f.zsmooth,xhoverformat:M("x"),yhoverformat:M("y"),zhoverformat:M("z",1),hovertemplate:v({},{keys:"z"}),texttemplate:c({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:f.textfont,showlegend:u({},S.showlegend,{dflt:!1})},i("",{cLetter:"z",autoColorDflt:!1}))},17562:function(ie,z,r){"use strict";var C=r(71828),E=r(89298),f=r(59575),S=r(36362),M=r(42174),v=r(40965),c=r(72138).calcAllAutoBins;function i(o,l,s,d){var g,p=new Array(o);if(d)for(g=0;g<o;g++)p[g]=1/(l[g+1]-l[g]);else{var T=1/s;for(g=0;g<o;g++)p[g]=T}return p}function u(o,l){return{start:o(l.start),end:o(l.end),size:l.size}}function a(o,l,s,d,g,p){var T,_=o.length-1,y=new Array(_),w=v(s,d,o,g,p);for(T=0;T<_;T++){var m=(l||[])[T];y[T]=void 0===m?[w(o[T]),w(o[T+1],!0)]:[m,m]}return y}ie.exports=function(o,l){var s,d,g,p,T=E.getFromId(o,l.xaxis),_=E.getFromId(o,l.yaxis),y=l.xcalendar,w=l.ycalendar,m=function(At){return T.r2c(At,0,y)},b=function(At){return _.r2c(At,0,w)},k=c(o,l,T,"x"),h=k[0],O=k[1],A=c(o,l,_,"y"),I=A[0],P=A[1],L=l._length;O.length>L&&O.splice(L,O.length-L),P.length>L&&P.splice(L,P.length-L);var N=[],B=[],W=[],j="string"==typeof h.size,Z="string"==typeof I.size,V=[],q=[],G=j?V:h,H=Z?q:I,ne=0,X=[],$=[],Q=l.histnorm,te=l.histfunc,re=-1!==Q.indexOf("density"),le="max"===te||"min"===te?null:0,ue=f.count,he=S[Q],ge=!1,xe=[],ke=[],Ae="z"in l?l.z:"marker"in l&&Array.isArray(l.marker.color)?l.marker.color:"";Ae&&"count"!==te&&(ge="avg"===te,ue=f[te]);var pe=h.size,ye=m(h.start),Ne=m(h.end)+(ye-E.tickIncrement(ye,pe,!1,y))/1e6;for(s=ye;s<Ne;s=E.tickIncrement(s,pe,!1,y))B.push(le),V.push(s),ge&&W.push(0);V.push(s);var Ee=B.length,Oe=(s-ye)/Ee,De=T.c2r(ye+Oe/2,0,y),oe=I.size,de=b(I.start),_e=b(I.end)+(de-E.tickIncrement(de,oe,!1,w))/1e6;for(s=de;s<_e;s=E.tickIncrement(s,oe,!1,w)){N.push(B.slice()),q.push(s);var Me=new Array(Ee);for(d=0;d<Ee;d++)Me[d]=[];$.push(Me),ge&&X.push(W.slice())}q.push(s);var Pe=N.length,Ue=(s-de)/Pe,Be=_.c2r(de+Ue/2,0,w);re&&(xe=i(B.length,G,Oe,j),ke=i(N.length,H,Ue,Z)),j||"date"!==T.type||(G=u(m,G)),Z||"date"!==_.type||(H=u(b,H));var Ve=!0,ve=!0,Te=new Array(Ee),Ce=new Array(Pe),We=1/0,Ke=1/0,Je=1/0,ht=1/0;for(s=0;s<L;s++){var ft=O[s],mt=P[s];g=C.findBin(ft,G),p=C.findBin(mt,H),g>=0&&g<Ee&&p>=0&&p<Pe&&(ne+=ue(g,s,N[p],Ae,X[p]),$[p][g].push(s),Ve&&(void 0===Te[g]?Te[g]=ft:Te[g]!==ft&&(Ve=!1)),ve&&(void 0===Ce[p]?Ce[p]=mt:Ce[p]!==mt&&(ve=!1)),We=Math.min(We,ft-V[g]),Ke=Math.min(Ke,V[g+1]-ft),Je=Math.min(Je,mt-q[p]),ht=Math.min(ht,q[p+1]-mt))}if(ge)for(p=0;p<Pe;p++)ne+=M(N[p],X[p]);if(he)for(p=0;p<Pe;p++)he(N[p],ne,xe,ke[p]);return{x:O,xRanges:a(V,Ve&&Te,We,Ke,T,y),x0:De,dx:Oe,y:P,yRanges:a(q,ve&&Ce,Je,ht,_,w),y0:Be,dy:Ue,z:N,pts:$}}},93888:function(ie,z,r){"use strict";var C=r(71828),E=r(75238),f=r(49901),S=r(1586),M=r(58623),v=r(35361);ie.exports=function(c,i,u,a){function o(l,s){return C.coerce(c,i,v,l,s)}E(c,i,o,a),!1!==i.visible&&(f(c,i,o,a),S(c,i,a,o,{prefix:"",cLetter:"z"}),o("hovertemplate"),M(o,a),o("xhoverformat"),o("yhoverformat"))}},76128:function(ie,z,r){"use strict";var C=r(46248),E=r(89298).hoverLabelText;ie.exports=function(f,S,M,v,c){var i=C(f,S,M,v,c);if(i){var u=(f=i[0]).index,l=f.cd[0],s=l.trace,d=l.xRanges[u[1]],g=l.yRanges[u[0]];return f.xLabel=E(f.xa,[d[0],d[1]],s.xhoverformat),f.yLabel=E(f.ya,[g[0],g[1]],s.yhoverformat),i}}},43905:function(ie,z,r){"use strict";ie.exports={attributes:r(35361),supplyDefaults:r(93888),crossTraceDefaults:r(82222),calc:r(90757),plot:r(50347),layerName:"heatmaplayer",colorbar:r(61243),style:r(70035),hoverPoints:r(76128),eventData:r(84402),moduleType:"trace",name:"histogram2d",basePlotModule:r(93612),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},75238:function(ie,z,r){"use strict";var C=r(73972),E=r(71828);ie.exports=function(f,S,M,v){var c=M("x"),i=M("y"),u=E.minRowLength(c),a=E.minRowLength(i);u&&a?(S._length=Math.min(u,a),C.getComponentMethod("calendars","handleTraceDefaults")(f,S,["x","y"],v),(M("z")||M("marker.color"))&&M("histfunc"),M("histnorm"),M("autobinx"),M("autobiny")):S.visible=!1}},99066:function(ie,z,r){"use strict";var C=r(35361),E=r(70600),f=r(50693),S=r(12663).axisHoverFormat,M=r(1426).extendFlat;ie.exports=M({x:C.x,y:C.y,z:C.z,marker:C.marker,histnorm:C.histnorm,histfunc:C.histfunc,nbinsx:C.nbinsx,xbins:C.xbins,nbinsy:C.nbinsy,ybins:C.ybins,autobinx:C.autobinx,autobiny:C.autobiny,bingroup:C.bingroup,xbingroup:C.xbingroup,ybingroup:C.ybingroup,autocontour:E.autocontour,ncontours:E.ncontours,contours:E.contours,line:{color:E.line.color,width:M({},E.line.width,{dflt:.5}),dash:E.line.dash,smoothing:E.line.smoothing,editType:"plot"},xhoverformat:S("x"),yhoverformat:S("y"),zhoverformat:S("z",1),hovertemplate:C.hovertemplate,texttemplate:E.texttemplate,textfont:E.textfont},f("",{cLetter:"z",editTypeOverride:"calc"}))},62654:function(ie,z,r){"use strict";var C=r(71828),E=r(75238),f=r(67217),S=r(8724),M=r(58623),v=r(99066);ie.exports=function(c,i,u,a){function o(l,s){return C.coerce(c,i,v,l,s)}E(c,i,o,a),!1!==i.visible&&(f(c,i,o,function(l){return C.coerce2(c,i,v,l)}),S(c,i,o,a),o("xhoverformat"),o("yhoverformat"),o("hovertemplate"),i.contours&&"heatmap"===i.contours.coloring&&M(o,a))}},35902:function(ie,z,r){"use strict";ie.exports={attributes:r(99066),supplyDefaults:r(62654),crossTraceDefaults:r(82222),calc:r(27529),plot:r(29854).plot,layerName:"contourlayer",style:r(84426),colorbar:r(90654),hoverPoints:r(52421),moduleType:"trace",name:"histogram2dcontour",basePlotModule:r(93612),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},46291:function(ie,z,r){"use strict";var C=r(5386).f,E=r(5386).s,f=r(50693),S=r(27670).Y,M=r(34e3),v=r(57564),c=r(45802),i=r(43473),u=r(1426).extendFlat;ie.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:c.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:u({colors:v.marker.colors,line:v.marker.line,editType:"calc"},f("marker",{colorAttr:"colors",anim:!1})),leaf:v.leaf,pathbar:c.pathbar,text:M.text,textinfo:v.textinfo,texttemplate:E({editType:"plot"},{keys:i.eventDataKeys.concat(["label","value"])}),hovertext:M.hovertext,hoverinfo:v.hoverinfo,hovertemplate:C({},{keys:i.eventDataKeys}),textfont:M.textfont,insidetextfont:M.insidetextfont,outsidetextfont:c.outsidetextfont,textposition:c.textposition,sort:M.sort,root:v.root,domain:S({name:"icicle",trace:!0,editType:"calc"})}},96346:function(ie,z,r){"use strict";var C=r(74875);z.name="icicle",z.plot=function(E,f,S,M){C.plotBasePlot(z.name,E,f,S,M)},z.clean=function(E,f,S,M){C.cleanBasePlot(z.name,E,f,S,M)}},46584:function(ie,z,r){"use strict";var C=r(52147);z.y=function(E,f){return C.calc(E,f)},z.T=function(E){return C._runCrossTraceCalc("icicle",E)}},56524:function(ie,z,r){"use strict";var C=r(71828),E=r(46291),f=r(7901),S=r(27670).c,M=r(90769).handleText,v=r(97313).TEXTPAD,c=r(21081),i=c.hasColorscale,u=c.handleDefaults;ie.exports=function(a,o,l,s){function d(m,b){return C.coerce(a,o,E,m,b)}var g=d("labels"),p=d("parents");if(g&&g.length&&p&&p.length){var T=d("values");d(T&&T.length?"branchvalues":"count"),d("level"),d("maxdepth"),d("tiling.orientation"),d("tiling.flip"),d("tiling.pad");var _=d("text");d("texttemplate"),o.texttemplate||d("textinfo",Array.isArray(_)?"text+label":"label"),d("hovertext"),d("hovertemplate");var y=d("pathbar.visible");M(a,o,s,d,"auto",{hasPathbar:y,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),d("textposition"),d("marker.line.width")&&d("marker.line.color",s.paper_bgcolor),d("marker.colors");var w=o._hasColorscale=i(a,"marker","colors")||(a.marker||{}).coloraxis;w&&u(a,o,s,d,{prefix:"marker.",cLetter:"c"}),d("leaf.opacity",w?1:.7),o._hovered={marker:{line:{width:2,color:f.contrast(s.paper_bgcolor)}}},y&&(d("pathbar.thickness",o.pathbar.textfont.size+2*v),d("pathbar.side"),d("pathbar.edgeshape")),d("sort"),d("root.color"),S(o,s,d),o._length=null}else o.visible=!1}},90666:function(ie,z,r){"use strict";var C=r(39898),E=r(71828),f=r(91424),S=r(63893),M=r(21538),v=r(82454).styleOne,c=r(43473),i=r(2791),u=r(83523),a=r(24714).formatSliceLabel,o=!1;ie.exports=function(l,s,d,g,p){var T=p.width,_=p.height,y=p.viewX,w=p.viewY,m=p.pathSlice,b=p.toMoveInsideSlice,k=p.strTransform,h=p.hasTransition,O=p.handleSlicesExit,A=p.makeUpdateSliceInterpolator,I=p.makeUpdateTextInterpolator,P=p.prevEntry,L=l._context.staticPlot,N=l._fullLayout,B=s[0].trace,W=-1!==B.textposition.indexOf("left"),j=-1!==B.textposition.indexOf("right"),Z=-1!==B.textposition.indexOf("bottom"),V=M(d,[T,_],{flipX:B.tiling.flip.indexOf("x")>-1,flipY:B.tiling.flip.indexOf("y")>-1,orientation:B.tiling.orientation,pad:{inner:B.tiling.pad},maxDepth:B._maxDepth}).descendants(),q=1/0,G=-1/0;V.forEach(function(Q){var te=Q.depth;te>=B._maxDepth?(Q.x0=Q.x1=(Q.x0+Q.x1)/2,Q.y0=Q.y1=(Q.y0+Q.y1)/2):(q=Math.min(q,te),G=Math.max(G,te))}),g=g.data(V,i.getPtId),B._maxVisibleLayers=isFinite(G)?G-q+1:0,g.enter().append("g").classed("slice",!0),O(g,o,{},[T,_],m),g.order();var H=null;if(h&&P){var ne=i.getPtId(P);g.each(function(Q){null===H&&i.getPtId(Q)===ne&&(H={x0:Q.x0,x1:Q.x1,y0:Q.y0,y1:Q.y1})})}var X=function(){return H||{x0:0,x1:T,y0:0,y1:_}},$=g;return h&&($=$.transition().each("end",function(){var Q=C.select(this);i.setSliceCursor(Q,l,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),$.each(function(Q){Q._x0=y(Q.x0),Q._x1=y(Q.x1),Q._y0=w(Q.y0),Q._y1=w(Q.y1),Q._hoverX=y(Q.x1-B.tiling.pad),Q._hoverY=w(Z?Q.y1-B.tiling.pad/2:Q.y0+B.tiling.pad/2);var te=C.select(this),re=E.ensureSingle(te,"path","surface",function(ge){ge.style("pointer-events",L?"none":"all")});h?re.transition().attrTween("d",function(ge){var xe=A(ge,o,X(),[T,_],{orientation:B.tiling.orientation,flipX:B.tiling.flip.indexOf("x")>-1,flipY:B.tiling.flip.indexOf("y")>-1});return function(ke){return m(xe(ke))}}):re.attr("d",m),te.call(u,d,l,s,{styleOne:v,eventDataKeys:c.eventDataKeys,transitionTime:c.CLICK_TRANSITION_TIME,transitionEasing:c.CLICK_TRANSITION_EASING}).call(i.setSliceCursor,l,{isTransitioning:l._transitioning}),re.call(v,Q,B,{hovered:!1}),Q._text=Q.x0===Q.x1||Q.y0===Q.y1?"":a(Q,d,B,s,N)||"";var le=E.ensureSingle(te,"g","slicetext"),ue=E.ensureSingle(le,"text","",function(ge){ge.attr("data-notex",1)}),he=E.ensureUniformFontSize(l,i.determineTextFont(B,Q,N.font));ue.text(Q._text||" ").classed("slicetext",!0).attr("text-anchor",j?"end":W?"start":"middle").call(f.font,he).call(S.convertToTspans,l),Q.textBB=f.bBox(ue.node()),Q.transform=b(Q,{fontSize:he.size}),Q.transform.fontSize=he.size,h?ue.transition().attrTween("transform",function(ge){var xe=I(ge,o,X(),[T,_]);return function(ke){return k(xe(ke))}}):ue.attr("transform",k(Q))}),H}},69816:function(ie,z,r){"use strict";ie.exports={moduleType:"trace",name:"icicle",basePlotModule:r(96346),categories:[],animatable:!0,attributes:r(46291),layoutAttributes:r(92894),supplyDefaults:r(56524),supplyLayoutDefaults:r(21070),calc:r(46584).y,crossTraceCalc:r(46584).T,plot:r(85596),style:r(82454).style,colorbar:r(4898),meta:{}}},92894:function(ie){"use strict";ie.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},21070:function(ie,z,r){"use strict";var C=r(71828),E=r(92894);ie.exports=function(f,S){function M(v,c){return C.coerce(f,S,E,v,c)}M("iciclecolorway",S.colorway),M("extendiciclecolors")}},21538:function(ie,z,r){"use strict";var C=r(674),E=r(14102);ie.exports=function(f,S,M){var v=M.flipX,c=M.flipY,i="h"===M.orientation,u=M.maxDepth,a=S[0],o=S[1];u&&(a=(f.height+1)*S[0]/Math.min(f.height+1,u),o=(f.height+1)*S[1]/Math.min(f.height+1,u));var l=C.partition().padding(M.pad.inner).size(i?[S[1],a]:[S[0],o])(f);return(i||v||c)&&E(l,S,{swapXY:i,flipX:v,flipY:c}),l}},85596:function(ie,z,r){"use strict";var C=r(80694),E=r(90666);ie.exports=function(f,S,M,v){return C(f,S,M,v,{type:"icicle",drawDescendants:E})}},82454:function(ie,z,r){"use strict";var C=r(39898),E=r(7901),f=r(71828),S=r(72597).resizeText;function M(v,c,i){var u=c.data.data,a=!c.children,o=u.i,l=f.castOption(i,o,"marker.line.color")||E.defaultLine,s=f.castOption(i,o,"marker.line.width")||0;v.style("stroke-width",s).call(E.fill,u.color).call(E.stroke,l).style("opacity",a?i.leaf.opacity:null)}ie.exports={style:function(v){var c=v._fullLayout._iciclelayer.selectAll(".trace");S(v,c,"icicle"),c.each(function(i){var u=C.select(this),a=i[0].trace;u.style("opacity",a.opacity),u.selectAll("path.surface").each(function(o){C.select(this).call(M,o,a)})})},styleOne:M}},17230:function(ie,z,r){"use strict";for(var C=r(9012),E=r(5386).f,f=r(1426).extendFlat,S=r(51877).colormodel,M=["rgb","rgba","rgba256","hsl","hsla"],v=[],c=[],i=0;i<M.length;i++){var u=S[M[i]];v.push("For the `"+M[i]+"` colormodel, it is ["+(u.zminDflt||u.min).join(", ")+"]."),c.push("For the `"+M[i]+"` colormodel, it is ["+(u.zmaxDflt||u.max).join(", ")+"].")}ie.exports=f({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:M,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:f({},C.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:E({},{keys:["z","color","colormodel"]}),transforms:void 0})},71113:function(ie,z,r){"use strict";var C=r(71828),E=r(51877),f=r(92770),S=r(89298),M=r(71828).maxRowLength,v=r(67395).A;function c(u,a,o,l){return function(s){return C.constrain((s-u)*a,o,l)}}function i(u,a){return function(o){return C.constrain(o,u,a)}}ie.exports=function(u,a){var o,l;if(a._hasZ)o=a.z.length,l=M(a.z);else if(a._hasSource){var s=v(a.source);o=s.height,l=s.width}var d,g=S.getFromId(u,a.xaxis||"x"),p=S.getFromId(u,a.yaxis||"y"),T=g.d2c(a.x0)-a.dx/2,_=p.d2c(a.y0)-a.dy/2,y=[T,T+l*a.dx],w=[_,_+o*a.dy];if(g&&"log"===g.type)for(d=0;d<l;d++)y.push(T+d*a.dx);if(p&&"log"===p.type)for(d=0;d<o;d++)w.push(_+d*a.dy);return a._extremes[g._id]=S.findExtremes(g,y),a._extremes[p._id]=S.findExtremes(p,w),a._scaler=function(m){var b=E.colormodel[m.colormodel],k=(b.colormodel||m.colormodel).length;m._sArray=[];for(var h=0;h<k;h++)m._sArray.push(b.min[h]!==m.zmin[h]||b.max[h]!==m.zmax[h]?c(m.zmin[h],(b.max[h]-b.min[h])/(m.zmax[h]-m.zmin[h]),b.min[h],b.max[h]):i(b.min[h],b.max[h]));return function(O){for(var A=O.slice(0,k),I=0;I<k;I++){var P=A[I];if(!f(P))return!1;A[I]=m._sArray[I](P)}return A}}(a),[{x0:T,y0:_,z:a.z,w:l,h:o}]}},51877:function(ie){"use strict";ie.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(z){return z.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(z){return z.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(z){return z.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(z){var r=z.slice(0,3);return r[1]=r[1]+"%",r[2]=r[2]+"%",r},suffix:["\xb0","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(z){var r=z.slice(0,4);return r[1]=r[1]+"%",r[2]=r[2]+"%",r},suffix:["\xb0","%","%",""]}},pixelatedStyle:["image-rendering: optimizeSpeed","image-rendering: -moz-crisp-edges","image-rendering: -o-crisp-edges","image-rendering: -webkit-optimize-contrast","image-rendering: optimize-contrast","image-rendering: crisp-edges","image-rendering: pixelated",""].join("; ")}},13245:function(ie,z,r){"use strict";var C=r(71828),E=r(17230),f=r(51877),S=r(25095).IMAGE_URL_PREFIX;ie.exports=function(M,v){function c(a,o){return C.coerce(M,v,E,a,o)}c("source"),v.source&&!v.source.match(S)&&delete v.source,v._hasSource=!!v.source;var i,u=c("z");v._hasZ=!(void 0===u||!u.length||!u[0]||!u[0].length),v._hasZ||v._hasSource?(c("x0"),c("y0"),c("dx"),c("dy"),v._hasZ?(c("colormodel","rgb"),c("zmin",(i=f.colormodel[v.colormodel]).zminDflt||i.min),c("zmax",i.zmaxDflt||i.max)):v._hasSource&&(v.colormodel="rgba256",v.zmin=(i=f.colormodel[v.colormodel]).zminDflt,v.zmax=i.zmaxDflt),c("zsmooth"),c("text"),c("hovertext"),c("hovertemplate"),v._length=null):v.visible=!1}},30835:function(ie){"use strict";ie.exports=function(z,r){return"xVal"in r&&(z.x=r.xVal),"yVal"in r&&(z.y=r.yVal),r.xa&&(z.xaxis=r.xa),r.ya&&(z.yaxis=r.ya),z.color=r.color,z.colormodel=r.trace.colormodel,z.z||(z.z=r.color),z}},67395:function(ie,z,r){"use strict";var C=r(33575),E=r(25095).IMAGE_URL_PREFIX,f=r(12856).Buffer;z.A=function(S){var M=S.replace(E,""),v=new f(M,"base64");return C(v)}},28749:function(ie,z,r){"use strict";var C=r(30211),E=r(71828),f=r(51877);ie.exports=function(S,M,v){var c=S.cd[0],i=c.trace,u=S.xa,a=S.ya;if(!(C.inbox(M-c.x0,M-(c.x0+c.w*i.dx),0)>0||C.inbox(v-c.y0,v-(c.y0+c.h*i.dy),0)>0)){var o,l=Math.floor((M-c.x0)/i.dx),s=Math.floor(Math.abs(v-c.y0)/i.dy);if(i._hasZ?o=c.z[s][l]:i._hasSource&&(o=i._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(l,s,1,1).data),o){var d,g=c.hi||i.hoverinfo;if(g){var p=g.split("+");-1!==p.indexOf("all")&&(p=["color"]),-1!==p.indexOf("color")&&(d=!0)}var T,_=f.colormodel[i.colormodel],y=_.colormodel||i.colormodel,w=y.length,m=i._scaler(o),b=_.suffix,k=[];(i.hovertemplate||d)&&(k.push("["+[m[0]+b[0],m[1]+b[1],m[2]+b[2]].join(", ")),4===w&&k.push(", "+m[3]+b[3]),k.push("]"),k=k.join(""),S.extraText=y.toUpperCase()+": "+k),Array.isArray(i.hovertext)&&Array.isArray(i.hovertext[s])?T=i.hovertext[s][l]:Array.isArray(i.text)&&Array.isArray(i.text[s])&&(T=i.text[s][l]);var h=a.c2p(c.y0+(s+.5)*i.dy),O=c.x0+(l+.5)*i.dx,A=c.y0+(s+.5)*i.dy,I="["+o.slice(0,i.colormodel.length).join(", ")+"]";return[E.extendFlat(S,{index:[s,l],x0:u.c2p(c.x0+l*i.dx),x1:u.c2p(c.x0+(l+1)*i.dx),y0:h,y1:h,color:m,xVal:O,xLabelVal:O,yVal:A,yLabelVal:A,zLabelVal:I,text:T,hovertemplateLabels:{zLabel:I,colorLabel:k,"color[0]Label":m[0]+b[0],"color[1]Label":m[1]+b[1],"color[2]Label":m[2]+b[2],"color[3]Label":m[3]+b[3]}})]}}}},94507:function(ie,z,r){"use strict";ie.exports={attributes:r(17230),supplyDefaults:r(13245),calc:r(71113),plot:r(60775),style:r(12826),hoverPoints:r(28749),eventData:r(30835),moduleType:"trace",name:"image",basePlotModule:r(93612),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},60775:function(ie,z,r){"use strict";var C=r(39898),E=r(71828),f=E.strTranslate,S=r(77922),M=r(51877),v=E.isIOS()||E.isSafari()||E.isIE();ie.exports=function(c,i,u,a){var o=i.xaxis,l=i.yaxis,s=!(v||c._context._exportedPlot);E.makeTraceGroups(a,u,"im").each(function(d){var g=C.select(this),p=d[0],T=p.trace,_=("fast"===T.zsmooth||!1===T.zsmooth&&s)&&!T._hasZ&&T._hasSource&&"linear"===o.type&&"linear"===l.type;T._realImage=_;var y,w,m,b,k,h,O=p.z,A=p.x0,I=p.y0,P=p.w,L=p.h,N=T.dx,B=T.dy;for(h=0;void 0===y&&h<P;)y=o.c2p(A+h*N),h++;for(h=P;void 0===w&&h>0;)w=o.c2p(A+h*N),h--;for(h=0;void 0===b&&h<L;)b=l.c2p(I+h*B),h++;for(h=L;void 0===k&&h>0;)k=l.c2p(I+h*B),h--;w<y&&(m=w,w=y,y=m),k<b&&(m=b,b=k,k=m),_||(y=Math.max(-.5*o._length,y),w=Math.min(1.5*o._length,w),b=Math.max(-.5*l._length,b),k=Math.min(1.5*l._length,k));var W=Math.round(w-y),j=Math.round(k-b);if(W<=0||j<=0)g.selectAll("image").data([]).exit().remove();else{var Z=g.selectAll("image").data([d]);Z.enter().append("svg:image").attr({xmlns:S.svg,preserveAspectRatio:"none"}),Z.exit().remove();var V=!1===T.zsmooth?M.pixelatedStyle:"";if(_){var q=E.simpleMap(o.range,o.r2l),G=E.simpleMap(l.range,l.r2l),H=q[1]<q[0],ne=G[1]>G[0];if(H||ne){var X=y+W/2,$=b+j/2;V+="transform:"+f(X+"px",$+"px")+"scale("+(H?-1:1)+","+(ne?-1:1)+")"+f(-X+"px",-$+"px")+";"}}Z.attr("style",V);var Q=new Promise(function(re){if(T._hasZ)re();else if(T._hasSource)if(T._canvas&&T._canvas.el.width===P&&T._canvas.el.height===L&&T._canvas.source===T.source)re();else{var le=document.createElement("canvas");le.width=P,le.height=L;var ue=le.getContext("2d",{willReadFrequently:!0});T._image=T._image||new Image;var he=T._image;he.onload=function(){ue.drawImage(he,0,0),T._canvas={el:le,source:T.source},re()},he.setAttribute("src",T.source)}}).then(function(){var re;if(T._hasZ)re=te(function(he,ge){return O[ge][he]}).toDataURL("image/png");else if(T._hasSource)if(_)re=T.source;else{var ue=T._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,P,L).data;re=te(function(he,ge){var xe=4*(ge*P+he);return[ue[xe],ue[xe+1],ue[xe+2],ue[xe+3]]}).toDataURL("image/png")}Z.attr({"xlink:href":re,height:j,width:W,x:y,y:b})});c._promises.push(Q)}function te(re){var le=document.createElement("canvas");le.width=W,le.height=j;var ue,he=le.getContext("2d",{willReadFrequently:!0}),ge=function(De){return E.constrain(Math.round(o.c2p(A+De*N)-y),0,W)},xe=function(De){return E.constrain(Math.round(l.c2p(I+De*B)-b),0,j)},ke=M.colormodel[T.colormodel],Ae=ke.colormodel||T.colormodel,pe=ke.fmt;for(h=0;h<p.w;h++){var ye=ge(h),Ne=ge(h+1);if(Ne!==ye&&!isNaN(Ne)&&!isNaN(ye))for(var be=0;be<p.h;be++){var Ee=xe(be),Oe=xe(be+1);Oe===Ee||isNaN(Oe)||isNaN(Ee)||!re(h,be)||(ue=T._scaler(re(h,be)),he.fillStyle=ue?Ae+"("+pe(ue).join(",")+")":"rgba(0,0,0,0)",he.fillRect(ye,Ee,Ne-ye,Oe-Ee))}}return le}})}},12826:function(ie,z,r){"use strict";var C=r(39898);ie.exports=function(E){C.select(E).selectAll(".im image").style("opacity",function(f){return f[0].trace.opacity})}},54846:function(ie,z,r){"use strict";var C=r(1426).extendFlat,E=r(1426).extendDeep,f=r(30962).overrideAll,S=r(41940),M=r(22399),v=r(27670).Y,c=r(13838),i=r(44467).templatedArray,u=r(22372),a=r(12663).descriptionOnlyNumbers,o=S({editType:"plot",colorEditType:"plot"}),l={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:M.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},s={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},d=i("step",E({},l,{range:s}));ie.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:v({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:C({},o,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:a("value")},font:C({},o,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:a("value")},increasing:{symbol:{valType:"string",dflt:u.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:u.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:u.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:u.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:C({},o,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:E({},l,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:M.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:f({range:s,visible:C({},c.visible,{dflt:!0}),tickmode:c.minor.tickmode,nticks:c.nticks,tick0:c.tick0,dtick:c.dtick,tickvals:c.tickvals,ticktext:c.ticktext,ticks:C({},c.ticks,{dflt:"outside"}),ticklen:c.ticklen,tickwidth:c.tickwidth,tickcolor:c.tickcolor,ticklabelstep:c.ticklabelstep,showticklabels:c.showticklabels,tickfont:S({}),tickangle:c.tickangle,tickformat:c.tickformat,tickformatstops:c.tickformatstops,tickprefix:c.tickprefix,showtickprefix:c.showtickprefix,ticksuffix:c.ticksuffix,showticksuffix:c.showticksuffix,separatethousands:c.separatethousands,exponentformat:c.exponentformat,minexponent:c.minexponent,showexponent:c.showexponent,editType:"plot"},"plot"),steps:d,threshold:{line:{color:C({},l.line.color,{}),width:C({},l.line.width,{dflt:1}),editType:"plot"},thickness:C({},l.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},15970:function(ie,z,r){"use strict";var C=r(74875);z.name="indicator",z.plot=function(E,f,S,M){C.plotBasePlot(z.name,E,f,S,M)},z.clean=function(E,f,S,M){C.cleanBasePlot(z.name,E,f,S,M)}},24667:function(ie){"use strict";ie.exports={calc:function(z,r){var C=[],E=r.value;"number"!=typeof r._lastValue&&(r._lastValue=r.value);var f=r._lastValue,S=f;return r._hasDelta&&"number"==typeof r.delta.reference&&(S=r.delta.reference),C[0]={y:E,lastY:f,delta:E-S,relativeDelta:(E-S)/S},C}}},84577:function(ie){"use strict";ie.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},94425:function(ie,z,r){"use strict";var C=r(71828),E=r(54846),f=r(27670).c,S=r(44467),M=r(85501),v=r(84577),c=r(26218),i=r(38701),u=r(96115),a=r(89426);function o(l,s){function d(g,p){return C.coerce(l,s,E.gauge.steps,g,p)}d("color"),d("line.color"),d("line.width"),d("range"),d("thickness")}ie.exports={supplyDefaults:function(l,s,d,g){function p(P,L){return C.coerce(l,s,E,P,L)}f(s,g,p),p("mode"),s._hasNumber=-1!==s.mode.indexOf("number"),s._hasDelta=-1!==s.mode.indexOf("delta"),s._hasGauge=-1!==s.mode.indexOf("gauge");var T=p("value");s._range=[0,"number"==typeof T?1.5*T:1];var _,y,w,m,b,k,h=new Array(2);function O(P,L){return C.coerce(w,m,E.gauge,P,L)}function A(P,L){return C.coerce(b,k,E.gauge.axis,P,L)}if(s._hasNumber&&(p("number.valueformat"),p("number.font.color",g.font.color),p("number.font.family",g.font.family),p("number.font.size"),void 0===s.number.font.size&&(s.number.font.size=v.defaultNumberFontSize,h[0]=!0),p("number.prefix"),p("number.suffix"),_=s.number.font.size),s._hasDelta&&(p("delta.font.color",g.font.color),p("delta.font.family",g.font.family),p("delta.font.size"),void 0===s.delta.font.size&&(s.delta.font.size=(s._hasNumber?.5:1)*(_||v.defaultNumberFontSize),h[1]=!0),p("delta.reference",s.value),p("delta.relative"),p("delta.valueformat",s.delta.relative?"2%":""),p("delta.increasing.symbol"),p("delta.increasing.color"),p("delta.decreasing.symbol"),p("delta.decreasing.color"),p("delta.position"),p("delta.prefix"),p("delta.suffix"),y=s.delta.font.size),s._scaleNumbers=(!s._hasNumber||h[0])&&(!s._hasDelta||h[1])||!1,p("title.font.color",g.font.color),p("title.font.family",g.font.family),p("title.font.size",.25*(_||y||v.defaultNumberFontSize)),p("title.text"),s._hasGauge){(w=l.gauge)||(w={}),m=S.newContainer(s,"gauge"),O("shape"),(s._isBullet="bullet"===s.gauge.shape)||p("title.align","center"),(s._isAngular="angular"===s.gauge.shape)||p("align","center"),O("bgcolor",g.paper_bgcolor),O("borderwidth"),O("bordercolor"),O("bar.color"),O("bar.line.color"),O("bar.line.width"),O("bar.thickness",v.valueThickness*("bullet"===s.gauge.shape?.5:1)),M(w,m,{name:"steps",handleItemDefaults:o}),O("threshold.value"),O("threshold.thickness"),O("threshold.line.width"),O("threshold.line.color"),b={},w&&(b=w.axis||{}),k=S.newContainer(m,"axis"),A("visible"),s._range=A("range",s._range);var I={outerTicks:!0};c(b,k,A,"linear"),a(b,k,A,"linear",I),u(b,k,A,"linear",I),i(b,k,A,I)}else p("title.align","center"),p("align","center"),s._isAngular=s._isBullet=!1;s._length=null}}},15154:function(ie,z,r){"use strict";ie.exports={moduleType:"trace",name:"indicator",basePlotModule:r(15970),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:r(54846),supplyDefaults:r(94425).supplyDefaults,calc:r(24667).calc,plot:r(75634),meta:{}}},75634:function(ie,z,r){"use strict";var C=r(39898),E=r(81684).sX,f=r(81684).k4,S=r(71828),M=S.strScale,v=S.strTranslate,c=S.rad2deg,i=r(18783).MID_SHIFT,u=r(91424),a=r(84577),o=r(63893),l=r(89298),s=r(71453),d=r(52830),g=r(13838),p=r(7901),T={left:"start",center:"middle",right:"end"},_={left:0,center:.5,right:1},y=/[yzafpn\xb5mkMGTPEZY]/;function w(A){return A&&A.duration>0}function m(A){A.each(function(I){p.stroke(C.select(this),I.line.color)}).each(function(I){p.fill(C.select(this),I.color)}).style("stroke-width",function(I){return I.line.width})}function b(A,I,P){var L=A._fullLayout,N=S.extendFlat({type:"linear",ticks:"outside",range:P,showline:!0},I),B={type:"linear",_id:"x"+I._id},W={letter:"x",font:L.font,noHover:!0,noTickson:!0};function j(Z,V){return S.coerce(N,B,g,Z,V)}return s(N,B,j,W,L),d(N,B,j,W),B}function k(A,I,P){return[Math.min(I/A.width,P/A.height),A,I+"x"+P]}function h(A,I,P,L){var N=document.createElementNS("http://www.w3.org/2000/svg","text"),B=C.select(N);return B.text(A).attr("x",0).attr("y",0).attr("text-anchor",P).attr("data-unformatted",A).call(o.convertToTspans,L).call(u.font,I),u.bBox(B.node())}function O(A,I,P,L,N,B){var W="_cache"+I;A[W]&&A[W].key===N||(A[W]={key:N,value:P});var j=S.aggNums(B,null,[A[W].value,L],2);return A[W].value=j,j}ie.exports=function(A,I,P,L){var N,B=A._fullLayout;w(P)&&L&&(N=L()),S.makeTraceGroups(B._indicatorlayer,I,"trace").each(function(W){var j,Z,V,q,G,H=W[0].trace,ne=C.select(this),X=H._hasGauge,$=H._isAngular,Q=H._isBullet,te=H.domain,re={w:B._size.w*(te.x[1]-te.x[0]),h:B._size.h*(te.y[1]-te.y[0]),l:B._size.l+B._size.w*te.x[0],r:B._size.r+B._size.w*(1-te.x[1]),t:B._size.t+B._size.h*(1-te.y[1]),b:B._size.b+B._size.h*te.y[0]},le=re.l+re.w/2,ue=re.t+re.h/2,he=Math.min(re.w/2,re.h),ge=a.innerRadius*he,xe=H.align||"center";if(Z=ue,X){if($&&(j=le,Z=ue+he/2,V=function(Oe){return De=Oe,[(oe=.9*ge)/Math.sqrt(De.width/2*(De.width/2)+De.height*De.height),De,oe];var De,oe}),Q){var ke=a.bulletPadding,Ae=1-a.bulletNumberDomainSize+ke;j=re.l+(Ae+(1-Ae)*_[xe])*re.w,V=function(Oe){return k(Oe,(a.bulletNumberDomainSize-ke)*re.w,re.h)}}}else j=re.l+_[xe]*re.w,V=function(Oe){return k(Oe,re.w,re.h)};(function(Oe,De,oe,de){var _e,Me,Pe,Ue=oe[0].trace,Be=de.numbersX,Ve=de.numbersY,ve=Ue.align||"center",Te=T[ve],Ce=de.transitionOpts,We=de.onComplete,Ke=S.ensureSingle(De,"g","numbers"),Je=[];Ue._hasNumber&&Je.push("number"),Ue._hasDelta&&(Je.push("delta"),"left"===Ue.delta.position&&Je.reverse());var ht=Ke.selectAll("text").data(Je);function ft(Vt,tn,Gt,et){if(!Vt.match("s")||Gt>=0==et>=0||tn(Gt).slice(-1).match(y)||tn(et).slice(-1).match(y))return tn;var nt=Vt.slice().replace("s","f").replace(/\d+/,function(ot){return parseInt(ot)-1}),$e=b(Oe,{tickformat:nt});return function(ot){return Math.abs(ot)<1?l.tickText($e,ot).text:tn(ot)}}ht.enter().append("text"),ht.attr("text-anchor",function(){return Te}).attr("class",function(Vt){return Vt}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),ht.exit().remove();var mt,At=Ue.mode+Ue.align;if(Ue._hasDelta&&(mt=function(){var Vt=b(Oe,{tickformat:Ue.delta.valueformat},Ue._range);Vt.setScale(),l.prepTicks(Vt);var tn=function(Ge){return l.tickText(Vt,Ge).text},Gt=Ue.delta.suffix,et=Ue.delta.prefix,nt=function(Ge){return Ue.delta.relative?Ge.relativeDelta:Ge.delta},$e=function(Ge,st){return 0===Ge||"number"!=typeof Ge||isNaN(Ge)?"-":(Ge>0?Ue.delta.increasing.symbol:Ue.delta.decreasing.symbol)+et+st(Ge)+Gt},ot=function(Ge){return Ge.delta>=0?Ue.delta.increasing.color:Ue.delta.decreasing.color};void 0===Ue._deltaLastValue&&(Ue._deltaLastValue=nt(oe[0]));var dt=Ke.select("text.delta");function Le(){dt.text($e(nt(oe[0]),tn)).call(p.fill,ot(oe[0])).call(o.convertToTspans,Oe)}return dt.call(u.font,Ue.delta.font).call(p.fill,ot({delta:Ue._deltaLastValue})),w(Ce)?dt.transition().duration(Ce.duration).ease(Ce.easing).tween("text",function(){var Ge=C.select(this),st=nt(oe[0]),vt=Ue._deltaLastValue,bt=ft(Ue.delta.valueformat,tn,vt,st),Lt=f(vt,st);return Ue._deltaLastValue=st,function(jt){Ge.text($e(Lt(jt),bt)),Ge.call(p.fill,ot({delta:Lt(jt)}))}}).each("end",function(){Le(),We&&We()}).each("interrupt",function(){Le(),We&&We()}):Le(),Me=h($e(nt(oe[0]),tn),Ue.delta.font,Te,Oe),dt}(),At+=Ue.delta.position+Ue.delta.font.size+Ue.delta.font.family+Ue.delta.valueformat,At+=Ue.delta.increasing.symbol+Ue.delta.decreasing.symbol,Pe=Me),Ue._hasNumber&&(function(){var Vt=b(Oe,{tickformat:Ue.number.valueformat},Ue._range);Vt.setScale(),l.prepTicks(Vt);var tn=function(ot){return l.tickText(Vt,ot).text},Gt=Ue.number.suffix,et=Ue.number.prefix,nt=Ke.select("text.number");function $e(){var ot="number"==typeof oe[0].y?et+tn(oe[0].y)+Gt:"-";nt.text(ot).call(u.font,Ue.number.font).call(o.convertToTspans,Oe)}w(Ce)?nt.transition().duration(Ce.duration).ease(Ce.easing).each("end",function(){$e(),We&&We()}).each("interrupt",function(){$e(),We&&We()}).attrTween("text",function(){var ot=C.select(this),dt=f(oe[0].lastY,oe[0].y);Ue._lastValue=oe[0].y;var Le=ft(Ue.number.valueformat,tn,oe[0].lastY,oe[0].y);return function(Ge){ot.text(et+Le(dt(Ge))+Gt)}}):$e(),_e=h(et+tn(oe[0].y)+Gt,Ue.number.font,Te,Oe)}(),At+=Ue.number.font.size+Ue.number.font.family+Ue.number.valueformat+Ue.number.suffix+Ue.number.prefix,Pe=_e),Ue._hasDelta&&Ue._hasNumber){var Rt,It,Pt=[(_e.left+_e.right)/2,(_e.top+_e.bottom)/2],Bt=[(Me.left+Me.right)/2,(Me.top+Me.bottom)/2],Ut=.75*Ue.delta.font.size;"left"===Ue.delta.position&&(Rt=O(Ue,"deltaPos",0,-1*(_e.width*_[Ue.align]+Me.width*(1-_[Ue.align])+Ut),At,Math.min),It=Pt[1]-Bt[1],Pe={width:_e.width+Me.width+Ut,height:Math.max(_e.height,Me.height),left:Me.left+Rt,right:_e.right,top:Math.min(_e.top,Me.top+It),bottom:Math.max(_e.bottom,Me.bottom+It)}),"right"===Ue.delta.position&&(Rt=O(Ue,"deltaPos",0,_e.width*(1-_[Ue.align])+Me.width*_[Ue.align]+Ut,At,Math.max),It=Pt[1]-Bt[1],Pe={width:_e.width+Me.width+Ut,height:Math.max(_e.height,Me.height),left:_e.left,right:Me.right+Rt,top:Math.min(_e.top,Me.top+It),bottom:Math.max(_e.bottom,Me.bottom+It)}),"bottom"===Ue.delta.position&&(Rt=null,It=Me.height,Pe={width:Math.max(_e.width,Me.width),height:_e.height+Me.height,left:Math.min(_e.left,Me.left),right:Math.max(_e.right,Me.right),top:_e.bottom-_e.height,bottom:_e.bottom+Me.height}),"top"===Ue.delta.position&&(Rt=null,It=_e.top,Pe={width:Math.max(_e.width,Me.width),height:_e.height+Me.height,left:Math.min(_e.left,Me.left),right:Math.max(_e.right,Me.right),top:_e.bottom-_e.height-Me.height,bottom:_e.bottom}),mt.attr({dx:Rt,dy:It})}(Ue._hasNumber||Ue._hasDelta)&&Ke.attr("transform",function(){var tn,Vt=de.numbersScaler(Pe),Gt=O(Ue,"numbersScale",1,Vt[0],At+=Vt[2],Math.min);Ue._scaleNumbers||(Gt=1),Ue._numbersTop=Gt*Pe.top+(tn=Ue._isAngular?Ve-Gt*Pe.bottom:Ve-Gt*(Pe.top+Pe.bottom)/2);var et=Pe[ve];"center"===ve&&(et=(Pe.left+Pe.right)/2);var nt=Be-Gt*et;return nt=O(Ue,"numbersTranslate",0,nt,At,Math.max),v(nt,tn)+M(Gt)})})(A,ne,W,{numbersX:j,numbersY:Z,numbersScaler:V,transitionOpts:P,onComplete:N}),X&&(q={range:H.gauge.axis.range,color:H.gauge.bgcolor,line:{color:H.gauge.bordercolor,width:0},thickness:1},G={range:H.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:H.gauge.bordercolor,width:H.gauge.borderwidth},thickness:1});var pe=ne.selectAll("g.angular").data($?W:[]);pe.exit().remove();var ye=ne.selectAll("g.angularaxis").data($?W:[]);ye.exit().remove(),$&&function(Oe,De,oe,de){var _e,Me,Pe,Ue,Be=oe[0].trace,Ve=de.size,ve=de.radius,Te=de.innerRadius,Ce=de.gaugeBg,We=de.gaugeOutline,Ke=[Ve.l+Ve.w/2,Ve.t+Ve.h/2+ve/2],Je=de.gauge,ht=de.layer,ft=de.transitionOpts,mt=de.onComplete,At=Math.PI/2;function Rt(jt){var Nt=Be.gauge.axis.range[0],Tt=(jt-Nt)/(Be.gauge.axis.range[1]-Nt)*Math.PI-At;return Tt<-At?-At:Tt>At?At:Tt}function It(jt){return C.svg.arc().innerRadius((Te+ve)/2-jt/2*(ve-Te)).outerRadius((Te+ve)/2+jt/2*(ve-Te)).startAngle(-At)}function Pt(jt){jt.attr("d",function(Nt){return It(Nt.thickness).startAngle(Rt(Nt.range[0])).endAngle(Rt(Nt.range[1]))()})}Je.enter().append("g").classed("angular",!0),Je.attr("transform",v(Ke[0],Ke[1])),ht.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),ht.selectAll("g.xangularaxistick,path,text").remove(),(_e=b(Oe,Be.gauge.axis)).type="linear",_e.range=Be.gauge.axis.range,_e._id="xangularaxis",_e.ticklabeloverflow="allow",_e.setScale();var Bt=function(jt){return(_e.range[0]-jt.x)/(_e.range[1]-_e.range[0])*Math.PI+Math.PI},Ut={},Vt=l.makeLabelFns(_e,0).labelStandoff;Ut.xFn=function(jt){var Nt=Bt(jt);return Math.cos(Nt)*Vt},Ut.yFn=function(jt){var Nt=Bt(jt),Tt=Math.sin(Nt)>0?.2:1;return-Math.sin(Nt)*(Vt+jt.fontSize*Tt)+Math.abs(Math.cos(Nt))*(jt.fontSize*i)},Ut.anchorFn=function(jt){var Nt=Bt(jt),Tt=Math.cos(Nt);return Math.abs(Tt)<.1?"middle":Tt>0?"start":"end"},Ut.heightFn=function(jt,Nt,Tt){var Mt=Bt(jt);return-.5*(1+Math.sin(Mt))*Tt};var tn=function(jt){return v(Ke[0]+ve*Math.cos(jt),Ke[1]-ve*Math.sin(jt))};Pe=function(jt){return tn(Bt(jt))},Me=l.calcTicks(_e),Ue=l.getTickSigns(_e)[2],_e.visible&&(l.drawTicks(Oe,_e,{vals:Me,layer:ht,path:"M"+(Ue="inside"===_e.ticks?-1:1)*((_e.linewidth||1)/2)+",0h"+Ue*_e.ticklen,transFn:function(jt){var Nt=Bt(jt);return tn(Nt)+"rotate("+-c(Nt)+")"}}),l.drawLabels(Oe,_e,{vals:Me,layer:ht,transFn:Pe,labelFns:Ut}));var et=[Ce].concat(Be.gauge.steps),nt=Je.selectAll("g.bg-arc").data(et);nt.enter().append("g").classed("bg-arc",!0).append("path"),nt.select("path").call(Pt).call(m),nt.exit().remove();var $e=It(Be.gauge.bar.thickness),ot=Je.selectAll("g.value-arc").data([Be.gauge.bar]);ot.enter().append("g").classed("value-arc",!0).append("path");var dt,Le,Ge,st=ot.select("path");w(ft)?(st.transition().duration(ft.duration).ease(ft.easing).each("end",function(){mt&&mt()}).each("interrupt",function(){mt&&mt()}).attrTween("d",(dt=$e,Le=Rt(oe[0].lastY),Ge=Rt(oe[0].y),function(){var jt=E(Le,Ge);return function(Nt){return dt.endAngle(jt(Nt))()}})),Be._lastValue=oe[0].y):st.attr("d","number"==typeof oe[0].y?$e.endAngle(Rt(oe[0].y)):"M0,0Z"),st.call(m),ot.exit().remove(),et=[];var vt=Be.gauge.threshold.value;(vt||0===vt)&&et.push({range:[vt,vt],color:Be.gauge.threshold.color,line:{color:Be.gauge.threshold.line.color,width:Be.gauge.threshold.line.width},thickness:Be.gauge.threshold.thickness});var bt=Je.selectAll("g.threshold-arc").data(et);bt.enter().append("g").classed("threshold-arc",!0).append("path"),bt.select("path").call(Pt).call(m),bt.exit().remove();var Lt=Je.selectAll("g.gauge-outline").data([We]);Lt.enter().append("g").classed("gauge-outline",!0).append("path"),Lt.select("path").call(Pt).call(m),Lt.exit().remove()}(A,0,W,{radius:he,innerRadius:ge,gauge:pe,layer:ye,size:re,gaugeBg:q,gaugeOutline:G,transitionOpts:P,onComplete:N});var Ne=ne.selectAll("g.bullet").data(Q?W:[]);Ne.exit().remove();var be=ne.selectAll("g.bulletaxis").data(Q?W:[]);be.exit().remove(),Q&&function(Oe,De,oe,de){var _e,Me,Pe,Ue,Be,Ve=oe[0].trace,ve=de.gauge,Te=de.layer,Ce=de.gaugeBg,We=de.gaugeOutline,Ke=de.size,Je=Ve.domain,ht=de.transitionOpts,ft=de.onComplete;ve.enter().append("g").classed("bullet",!0),ve.attr("transform",v(Ke.l,Ke.t)),Te.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),Te.selectAll("g.xbulletaxistick,path,text").remove();var mt=Ke.h,At=Ve.gauge.bar.thickness*mt,Rt=Je.x[0],It=Je.x[0]+(Je.x[1]-Je.x[0])*(Ve._hasNumber||Ve._hasDelta?1-a.bulletNumberDomainSize:1);function Pt(nt){nt.attr("width",function($e){return Math.max(0,_e.c2p($e.range[1])-_e.c2p($e.range[0]))}).attr("x",function($e){return _e.c2p($e.range[0])}).attr("y",function($e){return.5*(1-$e.thickness)*mt}).attr("height",function($e){return $e.thickness*mt})}(_e=b(Oe,Ve.gauge.axis))._id="xbulletaxis",_e.domain=[Rt,It],_e.setScale(),Me=l.calcTicks(_e),Pe=l.makeTransTickFn(_e),Ue=l.getTickSigns(_e)[2],Be=Ke.t+Ke.h,_e.visible&&(l.drawTicks(Oe,_e,{vals:"inside"===_e.ticks?l.clipEnds(_e,Me):Me,layer:Te,path:l.makeTickPath(_e,Be,Ue),transFn:Pe}),l.drawLabels(Oe,_e,{vals:Me,layer:Te,transFn:Pe,labelFns:l.makeLabelFns(_e,Be)}));var Bt=[Ce].concat(Ve.gauge.steps),Ut=ve.selectAll("g.bg-bullet").data(Bt);Ut.enter().append("g").classed("bg-bullet",!0).append("rect"),Ut.select("rect").call(Pt).call(m),Ut.exit().remove();var Vt=ve.selectAll("g.value-bullet").data([Ve.gauge.bar]);Vt.enter().append("g").classed("value-bullet",!0).append("rect"),Vt.select("rect").attr("height",At).attr("y",(mt-At)/2).call(m),w(ht)?Vt.select("rect").transition().duration(ht.duration).ease(ht.easing).each("end",function(){ft&&ft()}).each("interrupt",function(){ft&&ft()}).attr("width",Math.max(0,_e.c2p(Math.min(Ve.gauge.axis.range[1],oe[0].y)))):Vt.select("rect").attr("width","number"==typeof oe[0].y?Math.max(0,_e.c2p(Math.min(Ve.gauge.axis.range[1],oe[0].y))):0),Vt.exit().remove();var tn=oe.filter(function(){return Ve.gauge.threshold.value||0===Ve.gauge.threshold.value}),Gt=ve.selectAll("g.threshold-bullet").data(tn);Gt.enter().append("g").classed("threshold-bullet",!0).append("line"),Gt.select("line").attr("x1",_e.c2p(Ve.gauge.threshold.value)).attr("x2",_e.c2p(Ve.gauge.threshold.value)).attr("y1",(1-Ve.gauge.threshold.thickness)/2*mt).attr("y2",(1-(1-Ve.gauge.threshold.thickness)/2)*mt).call(p.stroke,Ve.gauge.threshold.line.color).style("stroke-width",Ve.gauge.threshold.line.width),Gt.exit().remove();var et=ve.selectAll("g.gauge-outline").data([We]);et.enter().append("g").classed("gauge-outline",!0).append("rect"),et.select("rect").call(Pt).call(m),et.exit().remove()}(A,0,W,{gauge:Ne,layer:be,size:re,gaugeBg:q,gaugeOutline:G,transitionOpts:P,onComplete:N});var Ee=ne.selectAll("text.title").data(W);Ee.exit().remove(),Ee.enter().append("text").classed("title",!0),Ee.attr("text-anchor",function(){return Q?T.right:T[H.title.align]}).text(H.title.text).call(u.font,H.title.font).call(o.convertToTspans,A),Ee.attr("transform",function(){var Oe,De=re.l+re.w*_[H.title.align],oe=a.titlePadding,de=u.bBox(Ee.node());return X?($&&(Oe=H.gauge.axis.visible?u.bBox(ye.node()).top-oe-de.bottom:re.t+re.h/2-he/2-de.bottom-oe),Q&&(Oe=Z-(de.top+de.bottom)/2,De=re.l-a.bulletPadding*re.w)):Oe=H._numbersTop-oe-de.bottom,v(De,Oe)})})}},16249:function(ie,z,r){"use strict";var C=r(50693),E=r(12663).axisHoverFormat,f=r(5386).f,S=r(2418),M=r(9012),v=r(1426).extendFlat,c=r(30962).overrideAll,i=ie.exports=c(v({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}},caps:{x:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:f(),xhoverformat:E("x"),yhoverformat:E("y"),zhoverformat:E("z"),valuehoverformat:E("value",1),showlegend:v({},M.showlegend,{dflt:!1})},C("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:S.opacity,lightposition:S.lightposition,lighting:S.lighting,flatshading:S.flatshading,contour:S.contour,hoverinfo:v({},M.hoverinfo)}),"calc","nested");i.flatshading.dflt=!0,i.lighting.facenormalsepsilon.dflt=0,i.x.editType=i.y.editType=i.z.editType=i.value.editType="calc+clearAxisTypes",i.transforms=void 0},56959:function(ie,z,r){"use strict";var C=r(78803),E=r(88489).processGrid,f=r(88489).filter;ie.exports=function(S,M){M._len=Math.min(M.x.length,M.y.length,M.z.length,M.value.length),M._x=f(M.x,M._len),M._y=f(M.y,M._len),M._z=f(M.z,M._len),M._value=f(M.value,M._len);var v=E(M);M._gridFill=v.fill,M._Xs=v.Xs,M._Ys=v.Ys,M._Zs=v.Zs,M._len=v.len;for(var c=1/0,i=-1/0,u=0;u<M._len;u++){var a=M._value[u];c=Math.min(c,a),i=Math.max(i,a)}M._minValues=c,M._maxValues=i,M._vMin=null==M.isomin?c:M.isomin,M._vMax=void 0===M.isomax||null===M.isomin?i:M.isomax,C(S,M,{vals:[M._vMin,M._vMax],containerStr:"",cLetter:"c"})}},22674:function(ie,z,r){"use strict";var C=r(9330).gl_mesh3d,E=r(81697).parseColorScale,f=r(78614),S=r(21081).extractOpts,M=r(90060),v=function(o,l){for(var s=l.length-1;s>0;s--){var d=Math.min(l[s],l[s-1]),g=Math.max(l[s],l[s-1]);if(g>d&&d<o&&o<=g)return{id:s,distRatio:(g-o)/(g-d)}}return{id:0,distRatio:0}};function c(o,l,s){this.scene=o,this.uid=s,this.mesh=l,this.name="",this.data=null,this.showContour=!1}var i=c.prototype;i.handlePick=function(o){if(o.object===this.mesh){var l=o.data.index,d=this.data._meshY[l],g=this.data._meshZ[l],p=this.data._Ys.length,T=this.data._Zs.length,_=v(this.data._meshX[l],this.data._Xs).id,y=v(d,this.data._Ys).id,w=v(g,this.data._Zs).id,m=o.index=w+T*y+T*p*_;o.traceCoordinate=[this.data._meshX[m],this.data._meshY[m],this.data._meshZ[m],this.data._value[m]];var b=this.data.hovertext||this.data.text;return Array.isArray(b)&&void 0!==b[m]?o.textLabel=b[m]:b&&(o.textLabel=b),!0}},i.update=function(o){var l=this.scene,s=l.fullSceneLayout;function d(T,_,y,w){return _.map(function(m){return T.d2l(m,0,w)*y})}this.data=a(o);var g={positions:M(d(s.xaxis,o._meshX,l.dataScale[0],o.xcalendar),d(s.yaxis,o._meshY,l.dataScale[1],o.ycalendar),d(s.zaxis,o._meshZ,l.dataScale[2],o.zcalendar)),cells:M(o._meshI,o._meshJ,o._meshK),lightPosition:[o.lightposition.x,o.lightposition.y,o.lightposition.z],ambient:o.lighting.ambient,diffuse:o.lighting.diffuse,specular:o.lighting.specular,roughness:o.lighting.roughness,fresnel:o.lighting.fresnel,vertexNormalsEpsilon:o.lighting.vertexnormalsepsilon,faceNormalsEpsilon:o.lighting.facenormalsepsilon,opacity:o.opacity,contourEnable:o.contour.show,contourColor:f(o.contour.color).slice(0,3),contourWidth:o.contour.width,useFacetNormals:o.flatshading},p=S(o);g.vertexIntensity=o._meshIntensity,g.vertexIntensityBounds=[p.min,p.max],g.colormap=E(o),this.mesh.update(g)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var u=["xyz","xzy","yxz","yzx","zxy","zyx"];function a(o){o._meshI=[],o._meshJ=[],o._meshK=[];var l,s,d,g,p,T,_,y=o.surface.show,w=o.spaceframe.show,m=o.surface.fill,b=o.spaceframe.fill,k=!1,h=!1,O=0,A=o._Xs,I=o._Ys,P=o._Zs,L=A.length,N=I.length,B=P.length,W=u.indexOf(o._gridFill.replace(/-/g,"").replace(/\+/g,"")),j=function(Ve,ve,Te){switch(W){case 5:return Te+B*ve+B*N*Ve;case 4:return Te+B*Ve+B*L*ve;case 3:return ve+N*Te+N*B*Ve;case 2:return ve+N*Ve+N*L*Te;case 1:return Ve+L*Te+L*B*ve;default:return Ve+L*ve+L*N*Te}},Z=o._minValues,V=o._maxValues,q=o._vMin,G=o._vMax;function H(Ve,ve,Te){for(var Ce=T.length,We=s;We<Ce;We++)if(Ve===d[We]&&ve===g[We]&&Te===p[We])return We;return-1}function ne(){s=l}function X(){d=[],g=[],p=[],T=[],l=0,ne()}function $(Ve,ve,Te,Ce){return d.push(Ve),g.push(ve),p.push(Te),T.push(Ce),++l-1}function Q(Ve,ve,Te){for(var Ce=[],We=0;We<Ve.length;We++)Ce[We]=Ve[We]*(1-Te)+Te*ve[We];return Ce}function te(Ve){_=Ve}function re(Ve,ve){return"all"===Ve||null===Ve||Ve.indexOf(ve)>-1}function le(Ve,ve){return null===Ve?ve:Ve}function ue(Ve,ve,Te){ne();var We,Ke,tn,Gt,et,nt,$e,ot,dt,Le,Ge,st,vt,bt,Lt,Je=[ve],ht=[Te];if(_>=1)Je=[ve],ht=[Te];else if(_>0){var ft=(Gt=Te,Le=Q(ot=function(jt,Nt,Tt){for(var Mt=[],kt=0;kt<jt.length;kt++)Mt[kt]=(jt[kt]+Nt[kt]+Tt[kt])/3;return Mt}(et=(tn=ve)[0],nt=tn[1],$e=tn[2]),et,dt=Math.sqrt(1-_)),{xyzv:[[et,nt,Ge=Q(ot,nt,dt)],[Ge,Le,et],[nt,$e,st=Q(ot,$e,dt)],[st,Ge,nt],[$e,et,Le],[Le,st,$e]],abc:[[vt=Gt[0],bt=Gt[1],-1],[-1,-1,vt],[bt,Lt=Gt[2],-1],[-1,-1,bt],[Lt,vt,-1],[-1,-1,Lt]]});Je=ft.xyzv,ht=ft.abc}for(var mt=0;mt<Je.length;mt++){ve=Je[mt],Te=ht[mt];for(var At=[],Rt=0;Rt<3;Rt++){var It=ve[Rt][0],Pt=ve[Rt][1],Bt=ve[Rt][2],Ut=ve[Rt][3],Vt=Te[Rt]>-1?Te[Rt]:H(It,Pt,Bt);At[Rt]=Vt>-1?Vt:$(It,Pt,Bt,le(Ve,Ut))}We=At[1],Ke=At[2],o._meshI.push(At[0]),o._meshJ.push(We),o._meshK.push(Ke),++O}}function he(Ve,ve,Te,Ce){var We=Ve[3];We<Te&&(We=Te),We>Ce&&(We=Ce);for(var Ke=(Ve[3]-We)/(Ve[3]-ve[3]+1e-9),Je=[],ht=0;ht<4;ht++)Je[ht]=(1-Ke)*Ve[ht]+Ke*ve[ht];return Je}function ge(Ve,ve,Te){return Ve>=ve&&Ve<=Te}function xe(Ve){var ve=.001*(G-q);return Ve>=q-ve&&Ve<=G+ve}function ke(Ve){for(var ve=[],Te=0;Te<4;Te++){var Ce=Ve[Te];ve.push([o._x[Ce],o._y[Ce],o._z[Ce],o._value[Ce]])}return ve}function Ae(Ve,ve,Te,Ce,We,Ke){Ke||(Ke=1),Te=[-1,-1,-1];var Je=!1,ht=[ge(ve[0][3],Ce,We),ge(ve[1][3],Ce,We),ge(ve[2][3],Ce,We)];if(!ht[0]&&!ht[1]&&!ht[2])return!1;var ft=function(At,Rt,It){return xe(Rt[0][3])&&xe(Rt[1][3])&&xe(Rt[2][3])?(ue(At,Rt,It),!0):Ke<3&&Ae(At,Rt,It,q,G,++Ke)};if(ht[0]&&ht[1]&&ht[2])return ft(Ve,ve,Te)||Je;var mt=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(At){if(ht[At[0]]&&ht[At[1]]&&!ht[At[2]]){var Rt=ve[At[0]],It=ve[At[1]],Pt=ve[At[2]],Bt=he(Pt,Rt,Ce,We),Ut=he(Pt,It,Ce,We);Je=ft(Ve,[Ut,Bt,Rt],[-1,-1,Te[At[0]]])||Je,Je=ft(Ve,[Rt,It,Ut],[Te[At[0]],Te[At[1]],-1])||Je,mt=!0}}),mt||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(At){if(ht[At[0]]&&!ht[At[1]]&&!ht[At[2]]){var Rt=ve[At[0]],Pt=ve[At[2]],Bt=he(ve[At[1]],Rt,Ce,We),Ut=he(Pt,Rt,Ce,We);Je=ft(Ve,[Ut,Bt,Rt],[-1,-1,Te[At[0]]])||Je,mt=!0}}),Je}function pe(Ve,ve,Te,Ce){var ft,mt,At,Rt,We=!1,Ke=ke(ve),Je=[ge(Ke[0][3],Te,Ce),ge(Ke[1][3],Te,Ce),ge(Ke[2][3],Te,Ce),ge(Ke[3][3],Te,Ce)];if(!(Je[0]||Je[1]||Je[2]||Je[3]))return We;if(Je[0]&&Je[1]&&Je[2]&&Je[3])return h&&(ft=Ve,mt=Ke,At=ve,(Rt=function(It,Pt,Bt){ue(ft,[mt[It],mt[Pt],mt[Bt]],[At[It],At[Pt],At[Bt]])})(0,1,2),Rt(3,0,1),Rt(2,3,0),We=void Rt(1,2,3)||We),We;var ht=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(ft){if(Je[ft[0]]&&Je[ft[1]]&&Je[ft[2]]&&!Je[ft[3]]){var mt=Ke[ft[0]],At=Ke[ft[1]],Rt=Ke[ft[2]],It=Ke[ft[3]];if(h)We=ue(Ve,[mt,At,Rt],[ve[ft[0]],ve[ft[1]],ve[ft[2]]])||We;else{var Pt=he(It,mt,Te,Ce),Bt=he(It,At,Te,Ce),Ut=he(It,Rt,Te,Ce);We=ue(null,[Pt,Bt,Ut],[-1,-1,-1])||We}ht=!0}}),ht||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(ft){if(Je[ft[0]]&&Je[ft[1]]&&!Je[ft[2]]&&!Je[ft[3]]){var mt=Ke[ft[0]],At=Ke[ft[1]],Rt=Ke[ft[2]],It=Ke[ft[3]],Pt=he(Rt,mt,Te,Ce),Bt=he(Rt,At,Te,Ce),Ut=he(It,At,Te,Ce),Vt=he(It,mt,Te,Ce);h?(We=ue(Ve,[mt,Vt,Pt],[ve[ft[0]],-1,-1])||We,We=ue(Ve,[At,Bt,Ut],[ve[ft[1]],-1,-1])||We):(Gt=[Pt,Bt,Ut,Vt],et=[-1,-1,-1,-1],(nt=function($e,ot,dt){ue(null,[Gt[$e],Gt[ot],Gt[dt]],[et[$e],et[ot],et[dt]])})(0,1,2),We=void nt(2,3,0)||We),ht=!0}var Gt,et,nt}),ht||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(ft){if(Je[ft[0]]&&!Je[ft[1]]&&!Je[ft[2]]&&!Je[ft[3]]){var mt=Ke[ft[0]],Rt=Ke[ft[2]],It=Ke[ft[3]],Pt=he(Ke[ft[1]],mt,Te,Ce),Bt=he(Rt,mt,Te,Ce),Ut=he(It,mt,Te,Ce);h?(We=ue(Ve,[mt,Pt,Bt],[ve[ft[0]],-1,-1])||We,We=ue(Ve,[mt,Bt,Ut],[ve[ft[0]],-1,-1])||We,We=ue(Ve,[mt,Ut,Pt],[ve[ft[0]],-1,-1])||We):We=ue(null,[Pt,Bt,Ut],[-1,-1,-1])||We,ht=!0}})),We}function ye(Ve,ve,Te,Ce,We,Ke,Je,ht,ft,mt,At){var Rt=!1;return k&&(re(Ve,"A")&&(Rt=pe(null,[ve,Te,Ce,Ke],mt,At)||Rt),re(Ve,"B")&&(Rt=pe(null,[Te,Ce,We,ft],mt,At)||Rt),re(Ve,"C")&&(Rt=pe(null,[Te,Ke,Je,ft],mt,At)||Rt),re(Ve,"D")&&(Rt=pe(null,[Ce,Ke,ht,ft],mt,At)||Rt),re(Ve,"E")&&(Rt=pe(null,[Te,Ce,Ke,ft],mt,At)||Rt)),h&&(Rt=pe(Ve,[Te,Ce,Ke,ft],mt,At)||Rt),Rt}function Ne(Ve,ve,Te,Ce,We,Ke,Je,ht){return[!0===ht[0]||Ae(Ve,ke([ve,Te,Ce]),[ve,Te,Ce],Ke,Je),!0===ht[1]||Ae(Ve,ke([Ce,We,ve]),[Ce,We,ve],Ke,Je)]}function be(Ve,ve,Te,Ce,We,Ke,Je,ht,ft){return ht?Ne(Ve,ve,Te,We,Ce,Ke,Je,ft):Ne(Ve,Te,We,Ce,ve,Ke,Je,ft)}function Ee(Ve,ve,Te,Ce,We,Ke,Je){var ht,ft,mt,At,Rt=!1,It=function(){Rt=Ae(Ve,[ht,ft,mt],[-1,-1,-1],We,Ke)||Rt,Rt=Ae(Ve,[mt,At,ht],[-1,-1,-1],We,Ke)||Rt},Pt=Je[0],Bt=Je[1],Ut=Je[2];return Pt&&(ht=Q(ke([j(ve,Te-0,Ce-0)])[0],ke([j(ve-1,Te-0,Ce-0)])[0],Pt),ft=Q(ke([j(ve,Te-0,Ce-1)])[0],ke([j(ve-1,Te-0,Ce-1)])[0],Pt),mt=Q(ke([j(ve,Te-1,Ce-1)])[0],ke([j(ve-1,Te-1,Ce-1)])[0],Pt),At=Q(ke([j(ve,Te-1,Ce-0)])[0],ke([j(ve-1,Te-1,Ce-0)])[0],Pt),It()),Bt&&(ht=Q(ke([j(ve-0,Te,Ce-0)])[0],ke([j(ve-0,Te-1,Ce-0)])[0],Bt),ft=Q(ke([j(ve-0,Te,Ce-1)])[0],ke([j(ve-0,Te-1,Ce-1)])[0],Bt),mt=Q(ke([j(ve-1,Te,Ce-1)])[0],ke([j(ve-1,Te-1,Ce-1)])[0],Bt),At=Q(ke([j(ve-1,Te,Ce-0)])[0],ke([j(ve-1,Te-1,Ce-0)])[0],Bt),It()),Ut&&(ht=Q(ke([j(ve-0,Te-0,Ce)])[0],ke([j(ve-0,Te-0,Ce-1)])[0],Ut),ft=Q(ke([j(ve-0,Te-1,Ce)])[0],ke([j(ve-0,Te-1,Ce-1)])[0],Ut),mt=Q(ke([j(ve-1,Te-1,Ce)])[0],ke([j(ve-1,Te-1,Ce-1)])[0],Ut),At=Q(ke([j(ve-1,Te-0,Ce)])[0],ke([j(ve-1,Te-0,Ce-1)])[0],Ut),It()),Rt}function Oe(Ve,ve,Te,Ce,We,Ke,Je,ht,ft,mt,At,Rt){var It=Ve;return Rt?(k&&"even"===Ve&&(It=null),ye(It,ve,Te,Ce,We,Ke,Je,ht,ft,mt,At)):(k&&"odd"===Ve&&(It=null),ye(It,ft,ht,Je,Ke,We,Ce,Te,ve,mt,At))}function De(Ve,ve,Te,Ce,We){for(var Ke=[],Je=0,ht=0;ht<ve.length;ht++)for(var ft=ve[ht],mt=1;mt<B;mt++)for(var At=1;At<N;At++)Ke.push(be(Ve,j(ft,At-1,mt-1),j(ft,At-1,mt),j(ft,At,mt-1),j(ft,At,mt),Te,Ce,(ft+At+mt)%2,We&&We[Je]?We[Je]:[])),Je++;return Ke}function oe(Ve,ve,Te,Ce,We){for(var Ke=[],Je=0,ht=0;ht<ve.length;ht++)for(var ft=ve[ht],mt=1;mt<L;mt++)for(var At=1;At<B;At++)Ke.push(be(Ve,j(mt-1,ft,At-1),j(mt,ft,At-1),j(mt-1,ft,At),j(mt,ft,At),Te,Ce,(mt+ft+At)%2,We&&We[Je]?We[Je]:[])),Je++;return Ke}function de(Ve,ve,Te,Ce,We){for(var Ke=[],Je=0,ht=0;ht<ve.length;ht++)for(var ft=ve[ht],mt=1;mt<N;mt++)for(var At=1;At<L;At++)Ke.push(be(Ve,j(At-1,mt-1,ft),j(At-1,mt,ft),j(At,mt-1,ft),j(At,mt,ft),Te,Ce,(At+mt+ft)%2,We&&We[Je]?We[Je]:[])),Je++;return Ke}function _e(Ve,ve,Te){for(var Ce=1;Ce<B;Ce++)for(var We=1;We<N;We++)for(var Ke=1;Ke<L;Ke++)Oe(Ve,j(Ke-1,We-1,Ce-1),j(Ke-1,We-1,Ce),j(Ke-1,We,Ce-1),j(Ke-1,We,Ce),j(Ke,We-1,Ce-1),j(Ke,We-1,Ce),j(Ke,We,Ce-1),j(Ke,We,Ce),ve,Te,(Ke+We+Ce)%2)}function Me(Ve,ve,Te,Ce,We,Ke){for(var Je=[],ft=0;ft<ve.length;ft++)for(var mt=ve[ft],At=1;At<B;At++)for(var Rt=1;Rt<N;Rt++)Je.push(Ee(Ve,mt,Rt,At,Te,Ce,We[ft]));return Je}function Pe(Ve,ve,Te,Ce,We,Ke){for(var Je=[],ft=0;ft<ve.length;ft++)for(var mt=ve[ft],At=1;At<L;At++)for(var Rt=1;Rt<B;Rt++)Je.push(Ee(Ve,At,mt,Rt,Te,Ce,We[ft]));return Je}function Ue(Ve,ve,Te,Ce,We,Ke){for(var Je=[],ft=0;ft<ve.length;ft++)for(var mt=ve[ft],At=1;At<N;At++)for(var Rt=1;Rt<L;Rt++)Je.push(Ee(Ve,Rt,At,mt,Te,Ce,We[ft]));return Je}function Be(Ve,ve){for(var Te=[],Ce=Ve;Ce<ve;Ce++)Te.push(Ce);return Te}return function(){X(),function(){for(var ft=0;ft<L;ft++)for(var mt=0;mt<N;mt++)for(var At=0;At<B;At++){var Rt=j(ft,mt,At);$(o._x[Rt],o._y[Rt],o._z[Rt],o._value[Rt])}}();var Ve=null;if(w&&b&&(te(b),h=!0,_e(Ve,q,G),h=!1),y&&m){te(m);for(var ve=o.surface.pattern,Te=o.surface.count,Ce=0;Ce<Te;Ce++){var We=1===Te?.5:Ce/(Te-1),Ke=(1-We)*q+We*G,Je=Math.abs(Ke-Z)>Math.abs(Ke-V)?[Z,Ke]:[Ke,V];k=!0,_e(ve,Je[0],Je[1]),k=!1}}var ht=[[Math.min(q,V),Math.max(q,V)],[Math.min(Z,G),Math.max(Z,G)]];["x","y","z"].forEach(function(ft){for(var mt=[],At=0;At<ht.length;At++){var Rt=0,It=ht[At][0],Pt=ht[At][1],Bt=o.slices[ft];if(Bt.show&&Bt.fill){te(Bt.fill);var Ut=[],Vt=[],tn=[];if(Bt.locations.length)for(var Gt=0;Gt<Bt.locations.length;Gt++){var et=v(Bt.locations[Gt],"x"===ft?A:"y"===ft?I:P);0===et.distRatio?Ut.push(et.id):et.id>0&&(Vt.push(et.id),tn.push("x"===ft?[et.distRatio,0,0]:"y"===ft?[0,et.distRatio,0]:[0,0,et.distRatio]))}else Ut=Be(1,"x"===ft?L-1:"y"===ft?N-1:B-1);Vt.length>0&&(mt[Rt]="x"===ft?Me(Ve,Vt,It,Pt,tn):"y"===ft?Pe(Ve,Vt,It,Pt,tn):Ue(Ve,Vt,It,Pt,tn),Rt++),Ut.length>0&&(mt[Rt]="x"===ft?De(Ve,Ut,It,Pt,mt[Rt]):"y"===ft?oe(Ve,Ut,It,Pt,mt[Rt]):de(Ve,Ut,It,Pt,mt[Rt]),Rt++)}var nt=o.caps[ft];nt.show&&nt.fill&&(te(nt.fill),mt[Rt]="x"===ft?De(Ve,[0,L-1],It,Pt,mt[Rt]):"y"===ft?oe(Ve,[0,N-1],It,Pt,mt[Rt]):de(Ve,[0,B-1],It,Pt,mt[Rt]),Rt++)}}),0===O&&X(),o._meshX=d,o._meshY=g,o._meshZ=p,o._meshIntensity=T,o._Xs=A,o._Ys=I,o._Zs=P}(),o}ie.exports={findNearestOnAxis:v,generateIsoMeshes:a,createIsosurfaceTrace:function(o,l){var d=C({gl:o.glplot.gl}),g=new c(o,d,l.uid);return d._trace=g,g.update(l),o.glplot.add(d),g}}},82738:function(ie,z,r){"use strict";var C=r(71828),E=r(73972),f=r(16249),S=r(1586);function M(v,c,i,u,a){var o=a("isomin"),l=a("isomax");null!=l&&null!=o&&o>l&&(c.isomin=null,c.isomax=null);var s=a("x"),d=a("y"),g=a("z"),p=a("value");s&&s.length&&d&&d.length&&g&&g.length&&p&&p.length?(E.getComponentMethod("calendars","handleTraceDefaults")(v,c,["x","y","z"],u),a("valuehoverformat"),["x","y","z"].forEach(function(T){a(T+"hoverformat");var _="caps."+T;a(_+".show")&&a(_+".fill");var y="slices."+T;a(y+".show")&&(a(y+".fill"),a(y+".locations"))}),a("spaceframe.show")&&a("spaceframe.fill"),a("surface.show")&&(a("surface.count"),a("surface.fill"),a("surface.pattern")),a("contour.show")&&(a("contour.color"),a("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(T){a(T)}),S(v,c,u,a,{prefix:"",cLetter:"c"}),c._length=null):c.visible=!1}ie.exports={supplyDefaults:function(v,c,i,u){M(v,c,0,u,function(a,o){return C.coerce(v,c,f,a,o)})},supplyIsoDefaults:M}},64943:function(ie,z,r){"use strict";ie.exports={attributes:r(16249),supplyDefaults:r(82738).supplyDefaults,calc:r(56959),colorbar:{min:"cmin",max:"cmax"},plot:r(22674).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:r(58547),categories:["gl3d","showLegend"],meta:{}}},2418:function(ie,z,r){"use strict";var C=r(50693),E=r(12663).axisHoverFormat,f=r(5386).f,S=r(54532),M=r(9012),v=r(1426).extendFlat;ie.exports=v({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:f({editType:"calc"}),xhoverformat:E("x"),yhoverformat:E("y"),zhoverformat:E("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},C("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:S.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:v({},S.contours.x.show,{}),color:S.contours.x.color,width:S.contours.x.width,editType:"calc"},lightposition:{x:v({},S.lightposition.x,{dflt:1e5}),y:v({},S.lightposition.y,{dflt:1e5}),z:v({},S.lightposition.z,{dflt:0}),editType:"calc"},lighting:v({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},S.lighting),hoverinfo:v({},M.hoverinfo,{editType:"calc"}),showlegend:v({},M.showlegend,{dflt:!1})})},82932:function(ie,z,r){"use strict";var C=r(78803);ie.exports=function(E,f){f.intensity&&C(E,f,{vals:f.intensity,containerStr:"",cLetter:"c"})}},91134:function(ie,z,r){"use strict";var C=r(9330).gl_mesh3d,E=r(9330).delaunay_triangulate,f=r(9330).alpha_shape,S=r(9330).convex_hull,M=r(81697).parseColorScale,v=r(78614),c=r(21081).extractOpts,i=r(90060);function u(g,p,T){this.scene=g,this.uid=T,this.mesh=p,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var a=u.prototype;function o(g){for(var p=[],T=g.length,_=0;_<T;_++)p[_]=v(g[_]);return p}function l(g,p,T,_){for(var y=[],w=p.length,m=0;m<w;m++)y[m]=g.d2l(p[m],0,_)*T;return y}function s(g){for(var p=[],T=g.length,_=0;_<T;_++)p[_]=Math.round(g[_]);return p}function d(g,p){for(var T=g.length,_=0;_<T;_++)if(g[_]<=-.5||g[_]>=p-.5)return!1;return!0}a.handlePick=function(g){if(g.object===this.mesh){var p=g.index=g.data.index;g.traceCoordinate=g.data._cellCenter?g.data.dataCoordinate:[this.data.x[p],this.data.y[p],this.data.z[p]];var T=this.data.hovertext||this.data.text;return Array.isArray(T)&&void 0!==T[p]?g.textLabel=T[p]:T&&(g.textLabel=T),!0}},a.update=function(g){var p=this.scene,T=p.fullSceneLayout;this.data=g;var _,y=g.x.length,w=i(l(T.xaxis,g.x,p.dataScale[0],g.xcalendar),l(T.yaxis,g.y,p.dataScale[1],g.ycalendar),l(T.zaxis,g.z,p.dataScale[2],g.zcalendar));if(g.i&&g.j&&g.k){if(g.i.length!==g.j.length||g.j.length!==g.k.length||!d(g.i,y)||!d(g.j,y)||!d(g.k,y))return;_=i(s(g.i),s(g.j),s(g.k))}else _=0===g.alphahull?S(w):g.alphahull>0?f(g.alphahull,w):function(h,O){for(var A=["x","y","z"].indexOf(h),I=[],P=O.length,L=0;L<P;L++)I[L]=[O[L][(A+1)%3],O[L][(A+2)%3]];return E(I)}(g.delaunayaxis,w);var m={positions:w,cells:_,lightPosition:[g.lightposition.x,g.lightposition.y,g.lightposition.z],ambient:g.lighting.ambient,diffuse:g.lighting.diffuse,specular:g.lighting.specular,roughness:g.lighting.roughness,fresnel:g.lighting.fresnel,vertexNormalsEpsilon:g.lighting.vertexnormalsepsilon,faceNormalsEpsilon:g.lighting.facenormalsepsilon,opacity:g.opacity,contourEnable:g.contour.show,contourColor:v(g.contour.color).slice(0,3),contourWidth:g.contour.width,useFacetNormals:g.flatshading};if(g.intensity){var b=c(g);this.color="#fff";var k=g.intensitymode;m[k+"Intensity"]=g.intensity,m[k+"IntensityBounds"]=[b.min,b.max],m.colormap=M(g)}else g.vertexcolor?(this.color=g.vertexcolor[0],m.vertexColors=o(g.vertexcolor)):g.facecolor?(this.color=g.facecolor[0],m.cellColors=o(g.facecolor)):(this.color=g.color,m.meshColor=v(g.color));this.mesh.update(m)},a.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},ie.exports=function(g,p){var _=C({gl:g.glplot.gl}),y=new u(g,_,p.uid);return _._trace=y,y.update(p),g.glplot.add(_),y}},58669:function(ie,z,r){"use strict";var C=r(73972),E=r(71828),f=r(1586),S=r(2418);ie.exports=function(M,v,c,i){function u(o,l){return E.coerce(M,v,S,o,l)}function a(o){var l=o.map(function(s){var d=u(s);return d&&E.isArrayOrTypedArray(d)?d:null});return l.every(function(s){return s&&s.length===l[0].length})&&l}a(["x","y","z"])?(a(["i","j","k"]),(!v.i||v.j&&v.k)&&(!v.j||v.k&&v.i)&&(!v.k||v.i&&v.j)?(C.getComponentMethod("calendars","handleTraceDefaults")(M,v,["x","y","z"],i),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(o){u(o)}),u("contour.show")&&(u("contour.color"),u("contour.width")),"intensity"in M?(u("intensity"),u("intensitymode"),f(M,v,i,u,{prefix:"",cLetter:"c"})):(v.showscale=!1,"facecolor"in M?u("facecolor"):"vertexcolor"in M?u("vertexcolor"):u("color",c)),u("text"),u("hovertext"),u("hovertemplate"),u("xhoverformat"),u("yhoverformat"),u("zhoverformat"),v._length=null):v.visible=!1):v.visible=!1}},21164:function(ie,z,r){"use strict";ie.exports={attributes:r(2418),supplyDefaults:r(58669),calc:r(82932),colorbar:{min:"cmin",max:"cmax"},plot:r(91134),moduleType:"trace",name:"mesh3d",basePlotModule:r(58547),categories:["gl3d","showLegend"],meta:{}}},2522:function(ie,z,r){"use strict";var C=r(71828).extendFlat,E=r(82196),f=r(12663).axisHoverFormat,S=r(79952).P,M=r(77914),v=r(22372),c=v.INCREASING.COLOR,i=v.DECREASING.COLOR,u=E.line;function a(o){return{line:{color:C({},u.color,{dflt:o}),width:u.width,dash:S,editType:"style"},editType:"style"}}ie.exports={xperiod:E.xperiod,xperiod0:E.xperiod0,xperiodalignment:E.xperiodalignment,xhoverformat:f("x"),yhoverformat:f("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:C({},u.width,{}),dash:C({},S,{}),editType:"style"},increasing:a(c),decreasing:a(i),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:C({},M.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}})}},3485:function(ie,z,r){"use strict";var C=r(71828),E=C._,f=r(89298),S=r(42973),M=r(50606).BADNUM;function v(i,u,a,o){return{o:i,h:u,l:a,c:o}}function c(i,u,a,o,l,s){for(var d=l.makeCalcdata(u,"open"),g=l.makeCalcdata(u,"high"),p=l.makeCalcdata(u,"low"),T=l.makeCalcdata(u,"close"),_=Array.isArray(u.text),y=Array.isArray(u.hovertext),w=!0,m=null,b=!!u.xperiodalignment,k=[],h=0;h<o.length;h++){var O=o[h],A=d[h],I=g[h],P=p[h],L=T[h];if(O!==M&&A!==M&&I!==M&&P!==M&&L!==M){L===A?null!==m&&L!==m&&(w=L>m):w=L>A,m=L;var N=s(A,I,P,L);N.pos=O,N.yc=(A+L)/2,N.i=h,N.dir=w?"increasing":"decreasing",N.x=N.pos,N.y=[P,I],b&&(N.orig_p=a[h]),_&&(N.tx=u.text[h]),y&&(N.htx=u.hovertext[h]),k.push(N)}else k.push({pos:O,empty:!0})}return u._extremes[l._id]=f.findExtremes(l,C.concat(p,g),{padded:!0}),k.length&&(k[0].t={labels:{open:E(i,"open:")+" ",high:E(i,"high:")+" ",low:E(i,"low:")+" ",close:E(i,"close:")+" "}}),k}ie.exports={calc:function(i,u){var a=f.getFromId(i,u.xaxis),o=f.getFromId(i,u.yaxis),l=function(T,_,y){var w=y._minDiff;if(!w){var m,b=T._fullData,k=[];for(w=1/0,m=0;m<b.length;m++){var h=b[m];if("ohlc"===h.type&&!0===h.visible&&h.xaxis===_._id){k.push(h);var O=_.makeCalcdata(h,"x");h._origX=O;var A=S(y,_,"x",O).vals;h._xcalc=A;var I=C.distinctVals(A).minDiff;I&&isFinite(I)&&(w=Math.min(w,I))}}for(w===1/0&&(w=1),m=0;m<k.length;m++)k[m]._minDiff=w}return w*y.tickwidth}(i,a,u),s=u._minDiff;u._minDiff=null;var d=u._origX;u._origX=null;var g=u._xcalc;u._xcalc=null;var p=c(i,u,d,g,o,v);return u._extremes[a._id]=f.findExtremes(a,g,{vpad:s/2}),p.length?(C.extendFlat(p[0].t,{wHover:s/2,tickLen:l}),p):[{t:{empty:!0}}]},calcCommon:c}},16169:function(ie,z,r){"use strict";var C=r(71828),E=r(14555),f=r(73927),S=r(2522);function M(v,c,i,u){i(u+".line.color"),i(u+".line.width",c.line.width),i(u+".line.dash",c.line.dash)}ie.exports=function(v,c,i,u){function a(o,l){return C.coerce(v,c,S,o,l)}E(v,c,a,u)?(f(v,c,u,a,{x:!0}),a("xhoverformat"),a("yhoverformat"),a("line.width"),a("line.dash"),M(0,c,a,"increasing"),M(0,c,a,"decreasing"),a("text"),a("hovertext"),a("tickwidth"),u._requestRangeslider[c.xaxis]=!0):c.visible=!1}},66449:function(ie,z,r){"use strict";var C=r(89298),E=r(71828),f=r(30211),S=r(7901),M=r(71828).fillText,v=r(22372),c={increasing:v.INCREASING.SYMBOL,decreasing:v.DECREASING.SYMBOL};function i(o,l,s,d){var g,p,T=o.cd,_=o.xa,y=T[0].trace,w=T[0].t,m=y.type,b="ohlc"===m?"l":"min",k="ohlc"===m?"h":"max",h=w.bPos||0,O=w.bdPos||w.tickLen,A=w.wHover,I=Math.min(1,O/Math.abs(_.r2c(_.range[1])-_.r2c(_.range[0])));function P(V){var q=V.pos+h-l;return f.inbox(q-A,q+A,g)}function L(V){var q=V[b],G=V[k];return q===G||f.inbox(q-s,G-s,g)}function N(V){return(P(V)+L(V))/2}g=o.maxHoverDistance-I,p=o.maxSpikeDistance-I;var B=f.getDistanceFunction(d,P,L,N);if(f.getClosest(T,B,o),!1===o.index)return null;var W=T[o.index];if(W.empty)return null;var j=y[W.dir],Z=j.line.color;return o.color=S.opacity(Z)&&j.line.width?Z:j.fillcolor,o.x0=_.c2p(W.pos+h-O,!0),o.x1=_.c2p(W.pos+h+O,!0),o.xLabelVal=void 0!==W.orig_p?W.orig_p:W.pos,o.spikeDistance=N(W)*p/g,o.xSpike=_.c2p(W.pos,!0),o}function u(o,l,s,d){var g=o.cd,p=o.ya,T=g[0].trace,_=g[0].t,y=[],w=i(o,l,s,d);if(!w)return[];var m=g[w.index].hi||T.hoverinfo,b=m.split("+");if("all"!==m&&-1===b.indexOf("y"))return[];for(var k=["high","open","close","low"],h={},O=0;O<k.length;O++){var A,I=k[O],P=T[I][w.index],L=p.c2p(P,!0);P in h?(A=h[P]).yLabel+="<br>"+_.labels[I]+C.hoverLabelText(p,P,T.yhoverformat):((A=E.extendFlat({},w)).y0=A.y1=L,A.yLabelVal=P,A.yLabel=_.labels[I]+C.hoverLabelText(p,P,T.yhoverformat),A.name="",y.push(A),h[P]=A)}return y}function a(o,l,s,d){var g=o.cd,p=o.ya,T=g[0].trace,_=g[0].t,y=i(o,l,s,d);if(!y)return[];var w=g[y.index],m=y.index=w.i,b=w.dir;function k(N){return _.labels[N]+C.hoverLabelText(p,T[N][m],T.yhoverformat)}var h=w.hi||T.hoverinfo,O=h.split("+"),A="all"===h,I=A||-1!==O.indexOf("y"),P=A||-1!==O.indexOf("text"),L=I?[k("open"),k("high"),k("low"),k("close")+"  "+c[b]]:[];return P&&M(w,T,L),y.extraText=L.join("<br>"),y.y0=y.y1=p.c2p(w.yc,!0),[y]}ie.exports={hoverPoints:function(o,l,s,d){return o.cd[0].trace.hoverlabel.split?u(o,l,s,d):a(o,l,s,d)},hoverSplit:u,hoverOnPoints:a}},54186:function(ie,z,r){"use strict";ie.exports={moduleType:"trace",name:"ohlc",basePlotModule:r(93612),categories:["cartesian","svg","showLegend"],meta:{},attributes:r(2522),supplyDefaults:r(16169),calc:r(3485).calc,plot:r(72314),style:r(53101),hoverPoints:r(66449).hoverPoints,selectPoints:r(67324)}},14555:function(ie,z,r){"use strict";var C=r(73972),E=r(71828);ie.exports=function(f,S,M,v){var c=M("x"),i=M("open"),u=M("high"),a=M("low"),o=M("close");if(M("hoverlabel.split"),C.getComponentMethod("calendars","handleTraceDefaults")(f,S,["x"],v),i&&u&&a&&o){var l=Math.min(i.length,u.length,a.length,o.length);return c&&(l=Math.min(l,E.minRowLength(c))),S._length=l,l}}},72314:function(ie,z,r){"use strict";var C=r(39898),E=r(71828);ie.exports=function(f,S,M,v){var c=S.yaxis,i=S.xaxis,u=!!i.rangebreaks;E.makeTraceGroups(v,M,"trace ohlc").each(function(a){var o=C.select(this),l=a[0],s=l.t;if(!0!==l.trace.visible||s.empty)o.remove();else{var d=s.tickLen,g=o.selectAll("path").data(E.identity);g.enter().append("path"),g.exit().remove(),g.attr("d",function(p){if(p.empty)return"M0,0Z";var T=i.c2p(p.pos-d,!0),_=i.c2p(p.pos+d,!0),y=u?(T+_)/2:i.c2p(p.pos,!0);return"M"+T+","+c.c2p(p.o,!0)+"H"+y+"M"+y+","+c.c2p(p.h,!0)+"V"+c.c2p(p.l,!0)+"M"+_+","+c.c2p(p.c,!0)+"H"+y})}})}},67324:function(ie){"use strict";ie.exports=function(z,r){var C,E=z.cd,f=z.xaxis,S=z.yaxis,M=[],v=E[0].t.bPos||0;if(!1===r)for(C=0;C<E.length;C++)E[C].selected=0;else for(C=0;C<E.length;C++){var c=E[C];r.contains([f.c2p(c.pos+v),S.c2p(c.yc)],null,c.i,z)?(M.push({pointNumber:c.i,x:f.c2d(c.pos),y:S.c2d(c.yc)}),c.selected=1):c.selected=0}return M}},53101:function(ie,z,r){"use strict";var C=r(39898),E=r(91424),f=r(7901);ie.exports=function(S,M,v){var c=v||C.select(S).selectAll("g.ohlclayer").selectAll("g.trace");c.style("opacity",function(i){return i[0].trace.opacity}),c.each(function(i){var u=i[0].trace;C.select(this).selectAll("path").each(function(a){if(!a.empty){var o=u[a.dir].line;C.select(this).style("fill","none").call(f.stroke,o.color).call(E.dashLine,o.dash,o.width).style("opacity",u.selectedpoints&&!a.selected?.3:1)}})})}},99506:function(ie,z,r){"use strict";var C=r(1426).extendFlat,E=r(9012),f=r(41940),S=r(50693),M=r(5386).f,v=r(27670).Y,c=C({editType:"calc"},S("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:M({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});ie.exports={domain:v({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:C({},E.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:M({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:f({editType:"calc"}),tickfont:f({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:c,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},27677:function(ie,z,r){"use strict";var C=r(27659).a0,E=r(45784),f="parcats";z.name=f,z.plot=function(S,M,v,c){var i=C(S.calcdata,f);i.length&&E(S,i[0],v,c)},z.clean=function(S,M,v,c){var i=c._has&&c._has("parcats"),u=M._has&&M._has("parcats");i&&!u&&c._paperdiv.selectAll(".parcats").remove()}},28699:function(ie,z,r){"use strict";var C=r(28984).wrap,E=r(52075).hasColorscale,f=r(78803),S=r(75744),M=r(91424),v=r(71828),c=r(92770);function i(o,l,s){o.valueInds.push(l),o.count+=s}function u(o,l,s){return{categoryInds:o,color:l,rawColor:s,valueInds:[],count:0}}function a(o,l,s){o.valueInds.push(l),o.count+=s}ie.exports=function(o,l){var s=v.filterVisible(l.dimensions);if(0===s.length)return[];var d,g,p,T=s.map(function(H){var ne;if("trace"===H.categoryorder)ne=null;else if("array"===H.categoryorder)ne=H.categoryarray;else{ne=S(H.values);for(var X=!0,$=0;$<ne.length;$++)if(!c(ne[$])){X=!1;break}ne.sort(X?v.sorterAsc:void 0),"category descending"===H.categoryorder&&(ne=ne.reverse())}return function(Q,te){te=null==te?[]:te.map(function(Ae){return Ae});var re={},le={},ue=[];te.forEach(function(Ae,pe){re[Ae]=0,le[Ae]=pe});for(var he=0;he<Q.length;he++){var ge,xe=Q[he];void 0===re[xe]?(re[xe]=1,ge=te.push(xe)-1,le[xe]=ge):(re[xe]++,ge=le[xe]),ue.push(ge)}var ke=te.map(function(Ae){return re[Ae]});return{uniqueValues:te,uniqueCounts:ke,inds:ue}}(H.values,ne)});d=v.isArrayOrTypedArray(l.counts)?l.counts:[l.counts],function(H){var ne;if(function($){for(var Q=new Array($.length),te=0;te<$.length;te++){if($[te]<0||$[te]>=$.length||void 0!==Q[$[te]])return!1;Q[$[te]]=!0}return!0}(H.map(function($){return $.displayindex})))for(ne=0;ne<H.length;ne++)H[ne]._displayindex=H[ne].displayindex;else for(ne=0;ne<H.length;ne++)H[ne]._displayindex=ne}(s),s.forEach(function(H,ne){!function(X,$){X._categoryarray=$.uniqueValues,X._ticktext=null==X.ticktext?[]:X.ticktext.slice();for(var Q=X._ticktext.length;Q<$.uniqueValues.length;Q++)X._ticktext.push($.uniqueValues[Q])}(H,T[ne])});var _,y=l.line;y?(E(l,"line")&&f(o,l,{vals:l.line.color,containerStr:"line",cLetter:"c"}),_=M.tryColorscale(y)):_=v.identity;var w,m,b,k,h,O=s[0].values.length,A={},I=T.map(function(H){return H.inds});for(p=0,w=0;w<O;w++){var P=[];for(m=0;m<I.length;m++)P.push(I[m][w]);p+=g=d[w%d.length];var L=(b=w,k=void 0,h=void 0,v.isArrayOrTypedArray(y.color)?h=k=y.color[b%y.color.length]:k=y.color,{color:_(k),rawColor:h}),N=P+"-"+L.rawColor;void 0===A[N]&&(A[N]=u(P,L.color,L.rawColor)),a(A[N],w,g)}var B,H,ne,X,$,W=s.map(function(H,ne){return{dimensionInd:ne,containerInd:H._index,displayInd:H._displayindex,dimensionLabel:H.label,count:p,categories:[],dragX:null}});for(w=0;w<O;w++)for(g=d[w%d.length],m=0;m<W.length;m++){var j=W[m].containerInd,Z=T[m].inds[w],V=W[m].categories;void 0===V[Z]&&(V[Z]={dimensionInd:m,categoryInd:B=Z,categoryValue:l.dimensions[j]._categoryarray[Z],displayInd:B,categoryLabel:l.dimensions[j]._ticktext[Z],valueInds:[],count:0,dragY:null}),i(V[Z],w,g)}return C((ne=A,X=p,$=(H=W).map(function(Q){return Q.categories.length}).reduce(function(Q,te){return Math.max(Q,te)}),{dimensions:H,paths:ne,trace:void 0,maxCats:$,count:X}))}},14647:function(ie,z,r){"use strict";var C=r(71828),E=r(52075).hasColorscale,f=r(1586),S=r(27670).c,M=r(85501),v=r(99506),c=r(94397);function i(u,a){function o(_,y){return C.coerce(u,a,v.dimensions,_,y)}var l=o("values"),s=o("visible");if(l&&l.length||(s=a.visible=!1),s){o("label"),o("displayindex",a._index);var d,g=u.categoryarray,p=Array.isArray(g)&&g.length>0;p&&(d="array");var T=o("categoryorder",d);"array"===T?(o("categoryarray"),o("ticktext")):(delete u.categoryarray,delete u.ticktext),p||"array"!==T||(a.categoryorder="trace")}}ie.exports=function(u,a,o,l){function s(_,y){return C.coerce(u,a,v,_,y)}var d=M(u,a,{name:"dimensions",handleItemDefaults:i}),g=function(_,y,w,m,b){b("line.shape"),b("line.hovertemplate");var k=b("line.color",m.colorway[0]);if(E(_,"line")&&C.isArrayOrTypedArray(k)){if(k.length)return b("line.colorscale"),f(_,y,m,b,{prefix:"line.",cLetter:"c"}),k.length;y.line.color=w}return 1/0}(u,a,o,l,s);S(a,l,s),Array.isArray(d)&&d.length||(a.visible=!1),c(a,d,"values",g),s("hoveron"),s("hovertemplate"),s("arrangement"),s("bundlecolors"),s("sortpaths"),s("counts");var p={family:l.font.family,size:Math.round(l.font.size),color:l.font.color};C.coerceFont(s,"labelfont",p);var T={family:l.font.family,size:Math.round(l.font.size/1.2),color:l.font.color};C.coerceFont(s,"tickfont",T)}},94873:function(ie,z,r){"use strict";ie.exports={attributes:r(99506),supplyDefaults:r(14647),calc:r(28699),plot:r(45784),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:r(27677),categories:["noOpacity"],meta:{}}},45460:function(ie,z,r){"use strict";var C=r(39898),E=r(81684).k4,f=r(72391),S=r(30211),M=r(71828),v=M.strTranslate,c=r(91424),i=r(84267),u=r(63893);function a(X,$,Q,te){var re=$._context.staticPlot,le=X.map(V.bind(0,$,Q)),ue=te.selectAll("g.parcatslayer").data([null]);ue.enter().append("g").attr("class","parcatslayer").style("pointer-events",re?"none":"all");var he=ue.selectAll("g.trace.parcats").data(le,o),ge=he.enter().append("g").attr("class","trace parcats");he.attr("transform",function(Oe){return v(Oe.x,Oe.y)}),ge.append("g").attr("class","paths");var xe=he.select("g.paths").selectAll("path.path").data(function(Oe){return Oe.paths},o);xe.attr("fill",function(Oe){return Oe.model.color});var ke=xe.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(Oe){return Oe.model.color}).attr("fill-opacity",0);y(ke),xe.attr("d",function(Oe){return Oe.svgD}),ke.empty()||xe.sort(s),xe.exit().remove(),xe.on("mouseover",d).on("mouseout",g).on("click",_),ge.append("g").attr("class","dimensions");var Ae=he.select("g.dimensions").selectAll("g.dimension").data(function(Oe){return Oe.dimensions},o);Ae.enter().append("g").attr("class","dimension"),Ae.attr("transform",function(Oe){return v(Oe.x,0)}),Ae.exit().remove();var pe=Ae.selectAll("g.category").data(function(Oe){return Oe.categories},o),ye=pe.enter().append("g").attr("class","category");pe.attr("transform",function(Oe){return v(0,Oe.y)}),ye.append("rect").attr("class","catrect").attr("pointer-events","none"),pe.select("rect.catrect").attr("fill","none").attr("width",function(Oe){return Oe.width}).attr("height",function(Oe){return Oe.height}),m(ye);var Ne=pe.selectAll("rect.bandrect").data(function(Oe){return Oe.bands},o);Ne.each(function(){M.raiseToTop(this)}),Ne.attr("fill",function(Oe){return Oe.color});var be=Ne.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(Oe){return Oe.color}).attr("fill-opacity",0);Ne.attr("fill",function(Oe){return Oe.color}).attr("width",function(Oe){return Oe.width}).attr("height",function(Oe){return Oe.height}).attr("y",function(Oe){return Oe.y}).attr("cursor",function(Oe){return"fixed"===Oe.parcatsViewModel.arrangement?"default":"perpendicular"===Oe.parcatsViewModel.arrangement?"ns-resize":"move"}),b(be),Ne.exit().remove(),ye.append("text").attr("class","catlabel").attr("pointer-events","none");var Ee=$._fullLayout.paper_bgcolor;pe.select("text.catlabel").attr("text-anchor",function(Oe){return l(Oe)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",u.makeTextShadow(Ee)).style("fill","rgb(0, 0, 0)").attr("x",function(Oe){return l(Oe)?Oe.width+5:-5}).attr("y",function(Oe){return Oe.height/2}).text(function(Oe){return Oe.model.categoryLabel}).each(function(Oe){c.font(C.select(this),Oe.parcatsViewModel.categorylabelfont),u.convertToTspans(C.select(this),$)}),ye.append("text").attr("class","dimlabel"),pe.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(Oe){return"fixed"===Oe.parcatsViewModel.arrangement?"default":"ew-resize"}).attr("x",function(Oe){return Oe.width/2}).attr("y",-5).text(function(Oe,De){return 0===De?Oe.parcatsViewModel.model.dimensions[Oe.model.dimensionInd].dimensionLabel:null}).each(function(Oe){c.font(C.select(this),Oe.parcatsViewModel.labelfont)}),pe.selectAll("rect.bandrect").on("mouseover",I).on("mouseout",P),pe.exit().remove(),Ae.call(C.behavior.drag().origin(function(Oe){return{x:Oe.x,y:0}}).on("dragstart",L).on("drag",N).on("dragend",B)),he.each(function(Oe){Oe.traceSelection=C.select(this),Oe.pathSelection=C.select(this).selectAll("g.paths").selectAll("path.path"),Oe.dimensionSelection=C.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),he.exit().remove()}function o(X){return X.key}function l(X){return X.model.dimensionInd===X.parcatsViewModel.dimensions[X.parcatsViewModel.dimensions.length-1].model.dimensionInd}function s(X,$){return X.model.rawColor>$.model.rawColor?1:X.model.rawColor<$.model.rawColor?-1:0}function d(X){if(!X.parcatsViewModel.dragDimension&&-1===X.parcatsViewModel.hoverinfoItems.indexOf("skip")){M.raiseToTop(this),w(C.select(this));var $=p(X),Q=T(X);if(X.parcatsViewModel.graphDiv.emit("plotly_hover",{points:$,event:C.event,constraints:Q}),-1===X.parcatsViewModel.hoverinfoItems.indexOf("none")){var te,re,le,ue=C.mouse(this)[0],he=X.parcatsViewModel.graphDiv,ge=X.parcatsViewModel.trace,xe=he._fullLayout,ke=xe._paperdiv.node().getBoundingClientRect(),Ae=X.parcatsViewModel.graphDiv.getBoundingClientRect();for(le=0;le<X.leftXs.length-1;le++)if(X.leftXs[le]+X.dimWidths[le]-2<=ue&&ue<=X.leftXs[le+1]+2){var pe=X.parcatsViewModel.dimensions[le];te=(pe.x+pe.width+X.parcatsViewModel.dimensions[le+1].x)/2,re=(X.topYs[le]+X.topYs[le+1]+X.height)/2;break}var Ne=X.parcatsViewModel.x+te,be=X.parcatsViewModel.y+re,Ee=i.mostReadable(X.model.color,["black","white"]),Oe=X.model.count,De=Oe/X.parcatsViewModel.model.count,oe={countLabel:Oe,probabilityLabel:De.toFixed(3)},de=[];-1!==X.parcatsViewModel.hoverinfoItems.indexOf("count")&&de.push(["Count:",oe.countLabel].join(" ")),-1!==X.parcatsViewModel.hoverinfoItems.indexOf("probability")&&de.push(["P:",oe.probabilityLabel].join(" "));var _e=de.join("<br>"),Me=C.mouse(he)[0];S.loneHover({trace:ge,x:Ne-ke.left+Ae.left,y:be-ke.top+Ae.top,text:_e,color:X.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:Ee,idealAlign:Me<Ne?"right":"left",hovertemplate:(ge.line||{}).hovertemplate,hovertemplateLabels:oe,eventData:[{data:ge._input,fullData:ge,count:Oe,probability:De}]},{container:xe._hoverlayer.node(),outerContainer:xe._paper.node(),gd:he})}}}function g(X){if(!X.parcatsViewModel.dragDimension&&(y(C.select(this)),S.loneUnhover(X.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),X.parcatsViewModel.pathSelection.sort(s),-1===X.parcatsViewModel.hoverinfoItems.indexOf("skip"))){var $=p(X),Q=T(X);X.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:$,event:C.event,constraints:Q})}}function p(X){for(var $=[],Q=W(X.parcatsViewModel),te=0;te<X.model.valueInds.length;te++)$.push({curveNumber:Q,pointNumber:X.model.valueInds[te]});return $}function T(X){for(var $={},Q=X.parcatsViewModel.model.dimensions,te=0;te<Q.length;te++){var re=Q[te];$[re.containerInd]=re.categories[X.model.categoryInds[te]].categoryValue}return void 0!==X.model.rawColor&&($.color=X.model.rawColor),$}function _(X){if(-1===X.parcatsViewModel.hoverinfoItems.indexOf("skip")){var $=p(X),Q=T(X);X.parcatsViewModel.graphDiv.emit("plotly_click",{points:$,event:C.event,constraints:Q})}}function y(X){X.attr("fill",function($){return $.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function w(X){X.attr("fill-opacity",.8).attr("stroke",function($){return i.mostReadable($.model.color,["black","white"])}).attr("stroke-width",.3)}function m(X){X.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function b(X){X.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function k(X){var Q=X.categoryViewModel.model.dimensionInd,te=X.categoryViewModel.model.categoryInd;return X.parcatsViewModel.pathSelection.filter(function(re){return re.model.categoryInds[Q]===te&&re.model.color===X.color})}function h(X,$,Q){var te=C.select(X).datum(),re=te.categoryViewModel.model,le=te.parcatsViewModel.graphDiv,ue=C.select(X.parentNode).selectAll("rect.bandrect"),he=[];ue.each(function(xe){k(xe).each(function(ke){Array.prototype.push.apply(he,p(ke))})});var ge={};ge[re.dimensionInd]=re.categoryValue,le.emit($,{points:he,event:Q,constraints:ge})}function O(X,$,Q){var te=C.select(X).datum(),re=te.categoryViewModel.model,le=te.parcatsViewModel.graphDiv,ue=k(te),he=[];ue.each(function(xe){Array.prototype.push.apply(he,p(xe))});var ge={};ge[re.dimensionInd]=re.categoryValue,void 0!==te.rawColor&&(ge.color=te.rawColor),le.emit($,{points:he,event:Q,constraints:ge})}function A(X,$,Q){X._fullLayout._calcInverseTransform(X);var te,re,le=X._fullLayout._invScaleX,ue=X._fullLayout._invScaleY,he=C.select(Q.parentNode).select("rect.catrect"),ge=he.node().getBoundingClientRect(),xe=he.datum(),ke=xe.parcatsViewModel,pe=ke.trace,ye=ge.top+ge.height/2;ke.dimensions.length>1&&ke.model.dimensions[xe.model.dimensionInd].displayInd===ke.dimensions.length-1?(te=ge.left,re="left"):(te=ge.left+ge.width,re="right");var Ne=xe.model.count,be=xe.model.categoryLabel,Ee=Ne/xe.parcatsViewModel.model.count,Oe={countLabel:Ne,categoryLabel:be,probabilityLabel:Ee.toFixed(3)},De=[];-1!==xe.parcatsViewModel.hoverinfoItems.indexOf("count")&&De.push(["Count:",Oe.countLabel].join(" ")),-1!==xe.parcatsViewModel.hoverinfoItems.indexOf("probability")&&De.push(["P("+Oe.categoryLabel+"):",Oe.probabilityLabel].join(" "));var oe=De.join("<br>");return{trace:pe,x:le*(te-$.left),y:ue*(ye-$.top),text:oe,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:re,hovertemplate:pe.hovertemplate,hovertemplateLabels:Oe,eventData:[{data:pe._input,fullData:pe,count:Ne,category:be,probability:Ee}]}}function I(X){if(!X.parcatsViewModel.dragDimension&&-1===X.parcatsViewModel.hoverinfoItems.indexOf("skip")){if(C.mouse(this)[1]<-1)return;var $,Q=X.parcatsViewModel.graphDiv,te=Q._fullLayout,re=te._paperdiv.node().getBoundingClientRect(),le=X.parcatsViewModel.hoveron,ue=this;"color"===le?(w(xe=k(ge=C.select(he=ue).datum())),xe.each(function(){M.raiseToTop(this)}),C.select(he.parentNode).selectAll("rect.bandrect").filter(function(ke){return ke.color===ge.color}).each(function(){M.raiseToTop(this),C.select(this).attr("stroke","black").attr("stroke-width",1.5)}),O(ue,"plotly_hover",C.event)):(function(he){C.select(he.parentNode).selectAll("rect.bandrect").each(function(ge){var xe=k(ge);w(xe),xe.each(function(){M.raiseToTop(this)})}),C.select(he.parentNode).select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}(ue),h(ue,"plotly_hover",C.event)),-1===X.parcatsViewModel.hoverinfoItems.indexOf("none")&&("category"===le?$=A(Q,re,ue):"color"===le?$=function(he,ge,xe){he._fullLayout._calcInverseTransform(he);var ke,Ae,pe=he._fullLayout._invScaleX,ye=he._fullLayout._invScaleY,Ne=xe.getBoundingClientRect(),be=C.select(xe).datum(),Ee=be.categoryViewModel,Oe=Ee.parcatsViewModel,oe=Oe.trace,de=Ne.y+Ne.height/2;Oe.dimensions.length>1&&Oe.model.dimensions[Ee.model.dimensionInd].displayInd===Oe.dimensions.length-1?(ke=Ne.left,Ae="left"):(ke=Ne.left+Ne.width,Ae="right");var _e=Ee.model.categoryLabel,Me=be.parcatsViewModel.model.count,Pe=0;be.categoryViewModel.bands.forEach(function(ht){ht.color===be.color&&(Pe+=ht.count)});var Ue=Ee.model.count,Be=0;Oe.pathSelection.each(function(ht){ht.model.color===be.color&&(Be+=ht.model.count)});var Ve=Pe/Me,ve=Pe/Be,Te=Pe/Ue,Ce={countLabel:Me,categoryLabel:_e,probabilityLabel:Ve.toFixed(3)},We=[];-1!==Ee.parcatsViewModel.hoverinfoItems.indexOf("count")&&We.push(["Count:",Ce.countLabel].join(" ")),-1!==Ee.parcatsViewModel.hoverinfoItems.indexOf("probability")&&(We.push("P(color \u2229 "+_e+"): "+Ce.probabilityLabel),We.push("P("+_e+" | color): "+ve.toFixed(3)),We.push("P(color | "+_e+"): "+Te.toFixed(3)));var Ke=We.join("<br>"),Je=i.mostReadable(be.color,["black","white"]);return{trace:oe,x:pe*(ke-ge.left),y:ye*(de-ge.top),text:Ke,color:be.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:Je,fontSize:10,idealAlign:Ae,hovertemplate:oe.hovertemplate,hovertemplateLabels:Ce,eventData:[{data:oe._input,fullData:oe,category:_e,count:Me,probability:Ve,categorycount:Ue,colorcount:Be,bandcolorcount:Pe}]}}(Q,re,ue):"dimension"===le&&($=function(he,ge,xe){var ke=[];return C.select(xe.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){ke.push(A(he,ge,this))}),ke}(Q,re,ue)),$&&S.loneHover($,{container:te._hoverlayer.node(),outerContainer:te._paper.node(),gd:Q}))}var he,ge,xe}function P(X){var $=X.parcatsViewModel;$.dragDimension||(y($.pathSelection),m($.dimensionSelection.selectAll("g.category")),b($.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),S.loneUnhover($.graphDiv._fullLayout._hoverlayer.node()),$.pathSelection.sort(s),-1!==$.hoverinfoItems.indexOf("skip"))||("color"===X.parcatsViewModel.hoveron?O(this,"plotly_unhover",C.event):h(this,"plotly_unhover",C.event))}function L(X){"fixed"!==X.parcatsViewModel.arrangement&&(X.dragDimensionDisplayInd=X.model.displayInd,X.initialDragDimensionDisplayInds=X.parcatsViewModel.model.dimensions.map(function($){return $.displayInd}),X.dragHasMoved=!1,X.dragCategoryDisplayInd=null,C.select(this).selectAll("g.category").select("rect.catrect").each(function($){var Q=C.mouse(this)[0],te=C.mouse(this)[1];-2<=Q&&Q<=$.width+2&&-2<=te&&te<=$.height+2&&(X.dragCategoryDisplayInd=$.model.displayInd,X.initialDragCategoryDisplayInds=X.model.categories.map(function(re){return re.displayInd}),$.model.dragY=$.y,M.raiseToTop(this.parentNode),C.select(this.parentNode).selectAll("rect.bandrect").each(function(re){re.y<te&&te<=re.y+re.height&&(X.potentialClickBand=this)}))}),X.parcatsViewModel.dragDimension=X,S.loneUnhover(X.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function N(X){if("fixed"!==X.parcatsViewModel.arrangement&&(X.dragHasMoved=!0,null!==X.dragDimensionDisplayInd)){var $=X.dragDimensionDisplayInd,Q=$-1,te=$+1,re=X.parcatsViewModel.dimensions[$];if(null!==X.dragCategoryDisplayInd){var le=re.categories[X.dragCategoryDisplayInd];le.model.dragY+=C.event.dy;var ue=le.model.dragY,he=le.model.displayInd,ge=re.categories,xe=ge[he-1],ke=ge[he+1];void 0!==xe&&ue<xe.y+xe.height/2&&(le.model.displayInd=xe.model.displayInd,xe.model.displayInd=he),void 0!==ke&&ue+le.height>ke.y+ke.height/2&&(le.model.displayInd=ke.model.displayInd,ke.model.displayInd=he),X.dragCategoryDisplayInd=le.model.displayInd}if(null===X.dragCategoryDisplayInd||"freeform"===X.parcatsViewModel.arrangement){re.model.dragX=C.event.x;var Ae=X.parcatsViewModel.dimensions[Q],pe=X.parcatsViewModel.dimensions[te];void 0!==Ae&&re.model.dragX<Ae.x+Ae.width&&(re.model.displayInd=Ae.model.displayInd,Ae.model.displayInd=$),void 0!==pe&&re.model.dragX+re.width>pe.x&&(re.model.displayInd=pe.model.displayInd,pe.model.displayInd=X.dragDimensionDisplayInd),X.dragDimensionDisplayInd=re.model.displayInd}H(X.parcatsViewModel),G(X.parcatsViewModel),Z(X.parcatsViewModel),j(X.parcatsViewModel)}}function B(X){if("fixed"!==X.parcatsViewModel.arrangement&&null!==X.dragDimensionDisplayInd){C.select(this).selectAll("text").attr("font-weight","normal");var $={},Q=W(X.parcatsViewModel),te=X.parcatsViewModel.model.dimensions.map(function(ke){return ke.displayInd}),re=X.initialDragDimensionDisplayInds.some(function(ke,Ae){return ke!==te[Ae]});re&&te.forEach(function(ke,Ae){$["dimensions["+X.parcatsViewModel.model.dimensions[Ae].containerInd+"].displayindex"]=ke});var le=!1;if(null!==X.dragCategoryDisplayInd){var ue=X.model.categories.map(function(ke){return ke.displayInd});if(le=X.initialDragCategoryDisplayInds.some(function(ke,Ae){return ke!==ue[Ae]})){var he=X.model.categories.slice().sort(function(ke,Ae){return ke.displayInd-Ae.displayInd}),ge=he.map(function(ke){return ke.categoryValue}),xe=he.map(function(ke){return ke.categoryLabel});$["dimensions["+X.model.containerInd+"].categoryarray"]=[ge],$["dimensions["+X.model.containerInd+"].ticktext"]=[xe],$["dimensions["+X.model.containerInd+"].categoryorder"]="array"}}-1===X.parcatsViewModel.hoverinfoItems.indexOf("skip")&&!X.dragHasMoved&&X.potentialClickBand&&("color"===X.parcatsViewModel.hoveron?O(X.potentialClickBand,"plotly_click",C.event.sourceEvent):h(X.potentialClickBand,"plotly_click",C.event.sourceEvent)),X.model.dragX=null,null!==X.dragCategoryDisplayInd&&(X.parcatsViewModel.dimensions[X.dragDimensionDisplayInd].categories[X.dragCategoryDisplayInd].model.dragY=null,X.dragCategoryDisplayInd=null),X.dragDimensionDisplayInd=null,X.parcatsViewModel.dragDimension=null,X.dragHasMoved=null,X.potentialClickBand=null,H(X.parcatsViewModel),G(X.parcatsViewModel),C.transition().duration(300).ease("cubic-in-out").each(function(){Z(X.parcatsViewModel,!0),j(X.parcatsViewModel,!0)}).each("end",function(){(re||le)&&f.restyle(X.parcatsViewModel.graphDiv,$,[Q])})}}function W(X){for(var $,Q=X.graphDiv._fullData,te=0;te<Q.length;te++)if(X.key===Q[te].uid){$=te;break}return $}function j(X,$){var Q;void 0===$&&($=!1),X.pathSelection.data(function(te){return te.paths},o),(Q=X.pathSelection,$?Q.transition():Q).attr("d",function(te){return te.svgD})}function Z(X,$){function Q(ue){return $?ue.transition():ue}void 0===$&&($=!1),X.dimensionSelection.data(function(ue){return ue.dimensions},o);var te=X.dimensionSelection.selectAll("g.category").data(function(ue){return ue.categories},o);Q(X.dimensionSelection).attr("transform",function(ue){return v(ue.x,0)}),Q(te).attr("transform",function(ue){return v(0,ue.y)}),te.select(".dimlabel").text(function(ue,he){return 0===he?ue.parcatsViewModel.model.dimensions[ue.model.dimensionInd].dimensionLabel:null}),te.select(".catlabel").attr("text-anchor",function(ue){return l(ue)?"start":"end"}).attr("x",function(ue){return l(ue)?ue.width+5:-5}).each(function(ue){var he,ge;l(ue)?(he=ue.width+5,ge="start"):(he=-5,ge="end"),C.select(this).selectAll("tspan").attr("x",he).attr("text-anchor",ge)});var re=te.selectAll("rect.bandrect").data(function(ue){return ue.bands},o),le=re.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(ue){return ue.color}).attr("fill-opacity",0);re.attr("fill",function(ue){return ue.color}).attr("width",function(ue){return ue.width}).attr("height",function(ue){return ue.height}).attr("y",function(ue){return ue.y}),b(le),re.each(function(){M.raiseToTop(this)}),re.exit().remove()}function V(X,$,Q){var te,re=Q[0],le=$.margin||{l:80,r:80,t:100,b:80},ue=re.trace,he=ue.domain,ge=$.width,xe=$.height,ke=Math.floor(ge*(he.x[1]-he.x[0])),Ae=Math.floor(xe*(he.y[1]-he.y[0])),pe=he.x[0]*ge+le.l,ye=$.height-he.y[1]*$.height+le.t,Ne=ue.line.shape;te="all"===ue.hoverinfo?["count","probability"]:(ue.hoverinfo||"").split("+");var be={trace:ue,key:ue.uid,model:re,x:pe,y:ye,width:ke,height:Ae,hoveron:ue.hoveron,hoverinfoItems:te,arrangement:ue.arrangement,bundlecolors:ue.bundlecolors,sortpaths:ue.sortpaths,labelfont:ue.labelfont,categorylabelfont:ue.tickfont,pathShape:Ne,dragDimension:null,margin:le,paths:[],dimensions:[],graphDiv:X,traceSelection:null,pathSelection:null,dimensionSelection:null};return re.dimensions&&(H(be),G(be)),be}function q(X,$,Q,te,re){var le,ue,he=[],ge=[];for(ue=0;ue<Q.length-1;ue++)le=E(Q[ue]+X[ue],X[ue+1]),he.push(le(re)),ge.push(le(1-re));var xe="M "+X[0]+","+$[0];for(xe+="l"+Q[0]+",0 ",ue=1;ue<Q.length;ue++)xe+="C"+he[ue-1]+","+$[ue-1]+" "+ge[ue-1]+","+$[ue]+" "+X[ue]+","+$[ue],xe+="l"+Q[ue]+",0 ";for(xe+="l0,"+te+" ",xe+="l -"+Q[Q.length-1]+",0 ",ue=Q.length-2;ue>=0;ue--)xe+="C"+ge[ue]+","+($[ue+1]+te)+" "+he[ue]+","+($[ue]+te)+" "+(X[ue]+Q[ue])+","+($[ue]+te),xe+="l-"+Q[ue]+",0 ";return xe+"Z"}function G(X){var $=X.dimensions,Q=X.model,te=$.map(function(Ce){return Ce.categories.map(function(We){return We.y})}),re=X.model.dimensions.map(function(Ce){return Ce.categories.map(function(We){return We.displayInd})}),le=X.model.dimensions.map(function(Ce){return Ce.displayInd}),ue=X.dimensions.map(function(Ce){return Ce.model.dimensionInd}),he=$.map(function(Ce){return Ce.x}),ge=$.map(function(Ce){return Ce.width}),xe=[];for(var ke in Q.paths)Q.paths.hasOwnProperty(ke)&&xe.push(Q.paths[ke]);function Ae(Ce){var We=Ce.categoryInds.map(function(Ke,Je){return re[Je][Ke]});return ue.map(function(Ke){return We[Ke]})}xe.sort(function(Ce,We){var Ke=Ae(Ce),Je=Ae(We);return"backward"===X.sortpaths&&(Ke.reverse(),Je.reverse()),Ke.push(Ce.valueInds[0]),Je.push(We.valueInds[0]),X.bundlecolors&&(Ke.unshift(Ce.rawColor),Je.unshift(We.rawColor)),Ke<Je?-1:Ke>Je?1:0});for(var pe=new Array(xe.length),ye=$[0].model.count,Ne=$[0].categories.map(function(Ce){return Ce.height}).reduce(function(Ce,We){return Ce+We}),be=0;be<xe.length;be++){var Ee,Oe=xe[be];Ee=ye>0?Ne*(Oe.count/ye):0;for(var De,oe=new Array(te.length),de=0;de<Oe.categoryInds.length;de++){var Me=re[de][Oe.categoryInds[de]],Pe=le[de];oe[Pe]=te[Pe][Me],te[Pe][Me]+=Ee;var Ue=X.dimensions[Pe].categories[Me],Be=Ue.bands.length,Ve=Ue.bands[Be-1];if(void 0===Ve||Oe.rawColor!==Ve.rawColor){var ve=void 0===Ve?0:Ve.y+Ve.height;Ue.bands.push({key:ve,color:Oe.color,rawColor:Oe.rawColor,height:Ee,width:Ue.width,count:Oe.count,y:ve,categoryViewModel:Ue,parcatsViewModel:X})}else{var Te=Ue.bands[Be-1];Te.height+=Ee,Te.count+=Oe.count}}De=q(he,oe,ge,Ee,"hspline"===X.pathShape?.5:0),pe[be]={key:Oe.valueInds[0],model:Oe,height:Ee,leftXs:he,topYs:oe,dimWidths:ge,svgD:De,parcatsViewModel:X}}X.paths=pe}function H(X){var $=X.model.dimensions.map(function(ue){return{displayInd:ue.displayInd,dimensionInd:ue.dimensionInd}});$.sort(function(ue,he){return ue.displayInd-he.displayInd});var Q=[];for(var te in $)Q.push(ne(X,X.model.dimensions[$[te].dimensionInd]));X.dimensions=Q}function ne(X,$){var Q,te=X.model.dimensions.length;Q=40+(te>1?(X.width-80-16)/(te-1):0)*$.displayInd;var le,ue,he,xe,ke=[],Ae=X.model.maxCats,pe=$.categories.length,ye=$.count,Ne=X.height-8*(Ae-1),be=8*(Ae-pe)/2,Ee=$.categories.map(function(Oe){return{displayInd:Oe.displayInd,categoryInd:Oe.categoryInd}});for(Ee.sort(function(Oe,De){return Oe.displayInd-De.displayInd}),xe=0;xe<pe;xe++)he={key:(ue=$.categories[Ee[xe].categoryInd]).valueInds[0],model:ue,width:16,height:le=ye>0?ue.count/ye*Ne:0,y:null!==ue.dragY?ue.dragY:be,bands:[],parcatsViewModel:X},be=be+le+8,ke.push(he);return{key:$.dimensionInd,x:null!==$.dragX?$.dragX:Q,y:0,width:16,model:$,categories:ke,parcatsViewModel:X,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}ie.exports=function(X,$,Q,te){a(Q,X,te,$)}},45784:function(ie,z,r){"use strict";var C=r(45460);ie.exports=function(E,f,S,M){var v=E._fullLayout,i=v._size;C(E,v._paper,f,{width:i.w,height:i.h,margin:{t:i.t,r:i.r,b:i.b,l:i.l}},S,M)}},73362:function(ie,z,r){"use strict";var C=r(50693),E=r(13838),f=r(41940),S=r(27670).Y,M=r(1426).extendFlat,v=r(44467).templatedArray;ie.exports={domain:S({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:f({editType:"plot"}),tickfont:f({editType:"plot"}),rangefont:f({editType:"plot"}),dimensions:v("dimension",{label:{valType:"string",editType:"plot"},tickvals:M({},E.tickvals,{editType:"plot"}),ticktext:M({},E.ticktext,{editType:"plot"}),tickformat:M({},E.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:M({editType:"calc"},C("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},57920:function(ie,z,r){"use strict";var C=r(25706),E=r(39898),f=r(28984).keyFun,S=r(28984).repeat,M=r(71828).sorterAsc,v=r(71828).strTranslate,c=C.bar.snapRatio;function i(A,I){return A*(1-c)+I*c}var u=C.bar.snapClose;function a(A,I){return A*(1-u)+I*u}function o(A,I,P,L){if(function(ne,X){for(var $=0;$<X.length;$++)if(ne>=X[$][0]&&ne<=X[$][1])return!0;return!1}(P,L))return P;var N=A?-1:1,B=0,W=I.length-1;if(N<0){var j=B;B=W,W=j}for(var Z=I[B],V=Z,q=B;N*q<N*W;q+=N){var G=q+N,H=I[G];if(N*P<N*a(Z,H))return i(Z,V);if(N*P<N*H||G===W)return i(H,Z);V=Z,Z=H}}function l(A){A.attr("x",-C.bar.captureWidth/2).attr("width",C.bar.captureWidth)}function s(A){A.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function d(A){if(!A.brush.filterSpecified)return"0,"+A.height;for(var I,P,L,N=g(A.brush.filter.getConsolidated(),A.height),B=[0],W=N.length?N[0][0]:null,j=0;j<N.length;j++)P=(I=N[j])[1]-I[0],B.push(W),B.push(P),(L=j+1)<N.length&&(W=N[L][0]-I[1]);return B.push(A.height),B}function g(A,I){return A.map(function(P){return P.map(function(L){return Math.max(0,L*I)}).sort(M)})}function p(){E.select(document.body).style("cursor",null)}function T(A){A.attr("stroke-dasharray",d)}function _(A,I){var P=E.select(A).selectAll(".highlight, .highlight-shadow");T(I?P.transition().duration(C.bar.snapDuration).each("end",I):P)}function y(A,I){var P,L=A.brush,N=NaN,B={};if(L.filterSpecified){var W=A.height,j=L.filter.getConsolidated(),Z=g(j,W),V=NaN,q=NaN,G=NaN;for(P=0;P<=Z.length;P++){var H=Z[P];if(H&&H[0]<=I&&I<=H[1]){V=P;break}if(q=P?P-1:NaN,H&&H[0]>I){G=P;break}}if(N=V,isNaN(N)&&(N=isNaN(q)||isNaN(G)?isNaN(q)?G:q:I-Z[q][1]<Z[G][0]-I?q:G),!isNaN(N)){var ne=Z[N],X=function(re,le){var ue=C.bar.handleHeight;if(!(le>re[1]+ue||le<re[0]-ue))return le>=.9*re[1]+.1*re[0]?"n":le<=.9*re[0]+.1*re[1]?"s":"ns"}(ne,I);X&&(B.interval=j[N],B.intervalPix=ne,B.region=X)}}if(A.ordinal&&!B.region){var $=A.unitTickvals,Q=A.unitToPaddedPx.invert(I);for(P=0;P<$.length;P++){var te=[.25*$[Math.max(P-1,0)]+.75*$[P],.25*$[Math.min(P+1,$.length-1)]+.75*$[P]];if(Q>=te[0]&&Q<=te[1]){B.clickableOrdinalRange=te;break}}}return B}function w(A,I){E.event.sourceEvent.stopPropagation();var P=I.height-E.mouse(A)[1]-2*C.verticalPadding,L=I.brush.svgBrush;L.wasDragged=!0,L._dragging=!0,L.newExtent=L.grabbingBar?[P-L.grabPoint,P+L.barLength-L.grabPoint].map(I.unitToPaddedPx.invert):[L.startExtent,I.unitToPaddedPx.invert(P)].sort(M),I.brush.filterSpecified=!0,L.extent=L.stayingIntervals.concat([L.newExtent]),L.brushCallback(I),_(A.parentNode)}function m(A,I){var P=y(I,I.height-E.mouse(A)[1]-2*C.verticalPadding),L="crosshair";P.clickableOrdinalRange?L="pointer":P.region&&(L=P.region+"-resize"),E.select(document.body).style("cursor",L)}function b(A){A.on("mousemove",function(I){E.event.preventDefault(),I.parent.inBrushDrag||m(this,I)}).on("mouseleave",function(I){I.parent.inBrushDrag||p()}).call(E.behavior.drag().on("dragstart",function(I){!function(P,L){E.event.sourceEvent.stopPropagation();var N=L.height-E.mouse(P)[1]-2*C.verticalPadding,B=L.unitToPaddedPx.invert(N),W=L.brush,j=y(L,N),Z=j.interval,V=W.svgBrush;if(V.wasDragged=!1,V.grabbingBar="ns"===j.region,V.grabbingBar){var q=Z.map(L.unitToPaddedPx);V.grabPoint=N-q[0]-C.verticalPadding,V.barLength=q[1]-q[0]}V.clickableOrdinalRange=j.clickableOrdinalRange,V.stayingIntervals=L.multiselect&&W.filterSpecified?W.filter.getConsolidated():[],Z&&(V.stayingIntervals=V.stayingIntervals.filter(function(G){return G[0]!==Z[0]&&G[1]!==Z[1]})),V.startExtent=j.region?Z["s"===j.region?1:0]:B,L.parent.inBrushDrag=!0,V.brushStartCallback()}(this,I)}).on("drag",function(I){w(this,I)}).on("dragend",function(I){!function(P,L){var N=L.brush,B=N.filter,W=N.svgBrush;W._dragging||(m(P,L),w(P,L),L.brush.svgBrush.wasDragged=!1),W._dragging=!1,E.event.sourceEvent.stopPropagation();var j=W.grabbingBar;if(W.grabbingBar=!1,W.grabLocation=void 0,L.parent.inBrushDrag=!1,p(),!W.wasDragged)return W.wasDragged=void 0,W.clickableOrdinalRange?N.filterSpecified&&L.multiselect?W.extent.push(W.clickableOrdinalRange):(W.extent=[W.clickableOrdinalRange],N.filterSpecified=!0):j?(W.extent=W.stayingIntervals,0===W.extent.length&&h(N)):h(N),W.brushCallback(L),_(P.parentNode),void W.brushEndCallback(N.filterSpecified?B.getConsolidated():[]);var Z=function(){B.set(B.getConsolidated())};if(L.ordinal){var V=L.unitTickvals;V[V.length-1]<V[0]&&V.reverse(),W.newExtent=[o(0,V,W.newExtent[0],W.stayingIntervals),o(1,V,W.newExtent[1],W.stayingIntervals)];var q=W.newExtent[1]>W.newExtent[0];W.extent=W.stayingIntervals.concat(q?[W.newExtent]:[]),W.extent.length||h(N),W.brushCallback(L),q?_(P.parentNode,Z):(Z(),_(P.parentNode))}else Z();W.brushEndCallback(N.filterSpecified?B.getConsolidated():[])}(this,I)}))}function k(A,I){return A[0]-I[0]}function h(A){A.filterSpecified=!1,A.svgBrush.extent=[[-1/0,1/0]]}function O(A){for(var I,P=A.slice(),L=[],N=P.shift();N;){for(I=N.slice();(N=P.shift())&&N[0]<=I[1];)I[1]=Math.max(I[1],N[1]);L.push(I)}return 1===L.length&&L[0][0]>L[0][1]&&(L=[]),L}ie.exports={makeBrush:function(A,I,P,L,N,B){var W,Z,V,q,j=(q=[],{set:function(G){1===(q=G.map(function(H){return H.slice().sort(M)}).sort(k)).length&&q[0][0]===-1/0&&q[0][1]===1/0&&(q=[[0,-1]]),Z=O(q),V=q.reduce(function(H,ne){return[Math.min(H[0],ne[0]),Math.max(H[1],ne[1])]},[1/0,-1/0])},get:function(){return q.slice()},getConsolidated:function(){return Z},getBounds:function(){return V}});return j.set(P),{filter:j,filterSpecified:I,svgBrush:{extent:[],brushStartCallback:L,brushCallback:(W=N,function(Z){var V=Z.brush,G=V.svgBrush.extent.map(function(ne){return ne.slice()}).slice();V.filter.set(G),W()}),brushEndCallback:B}}},ensureAxisBrush:function(A,I,P){var L=A.selectAll("."+C.cn.axisBrush).data(S,f);L.enter().append("g").classed(C.cn.axisBrush,!0),function(N,B,W){var j=W._context.staticPlot,Z=N.selectAll(".background").data(S);Z.enter().append("rect").classed("background",!0).call(l).call(s).style("pointer-events",j?"none":"auto").attr("transform",v(0,C.verticalPadding)),Z.call(b).attr("height",function(G){return G.height-C.verticalPadding});var V=N.selectAll(".highlight-shadow").data(S);V.enter().append("line").classed("highlight-shadow",!0).attr("x",-C.bar.width/2).attr("stroke-width",C.bar.width+C.bar.strokeWidth).attr("stroke",B).attr("opacity",C.bar.strokeOpacity).attr("stroke-linecap","butt"),V.attr("y1",function(G){return G.height}).call(T);var q=N.selectAll(".highlight").data(S);q.enter().append("line").classed("highlight",!0).attr("x",-C.bar.width/2).attr("stroke-width",C.bar.width-C.bar.strokeWidth).attr("stroke",C.bar.fillColor).attr("opacity",C.bar.fillOpacity).attr("stroke-linecap","butt"),q.attr("y1",function(G){return G.height}).call(T)}(L,I,P)},cleanRanges:function(A,I){if(Array.isArray(A[0])?(A=A.map(function(L){return L.sort(M)}),A=I.multiselect?O(A.sort(k)):[A[0]]):A=[A.sort(M)],I.tickvals){var P=I.tickvals.slice().sort(M);if(!(A=A.map(function(L){var N=[o(0,P,L[0],[]),o(1,P,L[1],[])];if(N[1]>N[0])return N}).filter(function(L){return L})).length)return}return A.length>1?A:A[0]}}},71791:function(ie,z,r){"use strict";ie.exports={attributes:r(73362),supplyDefaults:r(3633),calc:r(24639),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:r(49351),categories:["gl","regl","noOpacity","noHover"],meta:{}}},49351:function(ie,z,r){"use strict";var C=r(39898),E=r(27659).a0,f=r(21341),S=r(77922);z.name="parcoords",z.plot=function(M){var v=E(M.calcdata,"parcoords")[0];v.length&&f(M,v)},z.clean=function(M,v,c,i){var u=i._has&&i._has("parcoords"),a=v._has&&v._has("parcoords");u&&!a&&(i._paperdiv.selectAll(".parcoords").remove(),i._glimages.selectAll("*").remove())},z.toSVG=function(M){var v=M._fullLayout._glimages,c=C.select(M).selectAll(".svg-container");c.filter(function(i,u){return u===c.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var i=this,u=i.toDataURL("image/png");v.append("svg:image").attr({xmlns:S.svg,"xlink:href":u,preserveAspectRatio:"none",x:0,y:0,width:i.style.width,height:i.style.height})}),window.setTimeout(function(){C.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},24639:function(ie,z,r){"use strict";var C=r(71828).isArrayOrTypedArray,E=r(21081),f=r(28984).wrap;ie.exports=function(S,M){var v,c;return E.hasColorscale(M,"line")&&C(M.line.color)?(v=M.line.color,c=E.extractOpts(M.line).colorscale,E.calc(S,M,{vals:v,containerStr:"line",cLetter:"c"})):(v=function(i){for(var u=new Array(i),a=0;a<i;a++)u[a]=.5;return u}(M._length),c=[[0,M.line.color],[1,M.line.color]]),f({lineColor:v,cscale:c})}},25706:function(ie){"use strict";ie.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},3633:function(ie,z,r){"use strict";var C=r(71828),E=r(52075).hasColorscale,f=r(1586),S=r(27670).c,M=r(85501),v=r(89298),c=r(73362),i=r(57920),u=r(25706).maxDimensionCount,a=r(94397);function o(l,s,d,g){function p(m,b){return C.coerce(l,s,c.dimensions,m,b)}var T=p("values"),_=p("visible");if(T&&T.length||(_=s.visible=!1),_){p("label"),p("tickvals"),p("ticktext"),p("tickformat");var y=p("range");s._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:y},v.setConvert(s._ax,g.layout),p("multiselect");var w=p("constraintrange");w&&(s.constraintrange=i.cleanRanges(w,s))}}ie.exports=function(l,s,d,g){function p(m,b){return C.coerce(l,s,c,m,b)}var T=l.dimensions;Array.isArray(T)&&T.length>u&&(C.log("parcoords traces support up to "+u+" dimensions at the moment"),T.splice(u));var _=M(l,s,{name:"dimensions",layout:g,handleItemDefaults:o}),y=function(m,b,k,h,O){var A=O("line.color",k);if(E(m,"line")&&C.isArrayOrTypedArray(A)){if(A.length)return O("line.colorscale"),f(m,b,h,O,{prefix:"line.",cLetter:"c"}),A.length;b.line.color=k}return 1/0}(l,s,d,g,p);S(s,g,p),Array.isArray(_)&&_.length||(s.visible=!1),a(s,_,"values",y);var w={family:g.font.family,size:Math.round(g.font.size/1.2),color:g.font.color};C.coerceFont(p,"labelfont",w),C.coerceFont(p,"tickfont",w),C.coerceFont(p,"rangefont",w),p("labelangle"),p("labelside"),p("unselected.line.color"),p("unselected.line.opacity")}},1602:function(ie,z,r){"use strict";var C=r(71828).isTypedArray;z.convertTypedArray=function(E){return C(E)?Array.prototype.slice.call(E):E},z.isOrdinal=function(E){return!!E.tickvals},z.isVisible=function(E){return E.visible||!("visible"in E)}},67618:function(ie,z,r){"use strict";var C=r(71791);C.plot=r(21341),ie.exports=C},83398:function(ie,z,r){"use strict";var C=r(56068),E=C(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nattribute vec4 p01_04, p05_08, p09_12, p13_16,\n               p17_20, p21_24, p25_28, p29_32,\n               p33_36, p37_40, p41_44, p45_48,\n               p49_52, p53_56, p57_60, colors;\n\nuniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,\n             loA, hiA, loB, hiB, loC, hiC, loD, hiD;\n\nuniform vec2 resolution, viewBoxPos, viewBoxSize;\nuniform float maskHeight;\nuniform float drwLayer; // 0: context, 1: focus, 2: pick\nuniform vec4 contextColor;\nuniform sampler2D maskTexture, palette;\n\nbool isPick    = (drwLayer > 1.5);\nbool isContext = (drwLayer < 0.5);\n\nconst vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);\nconst vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);\n\nfloat val(mat4 p, mat4 v) {\n    return dot(matrixCompMult(p, v) * UNITS, UNITS);\n}\n\nfloat axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {\n    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);\n    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);\n    return y1 * (1.0 - ratio) + y2 * ratio;\n}\n\nint iMod(int a, int b) {\n    return a - b * (a / b);\n}\n\nbool fOutside(float p, float lo, float hi) {\n    return (lo < hi) && (lo > p || p > hi);\n}\n\nbool vOutside(vec4 p, vec4 lo, vec4 hi) {\n    return (\n        fOutside(p[0], lo[0], hi[0]) ||\n        fOutside(p[1], lo[1], hi[1]) ||\n        fOutside(p[2], lo[2], hi[2]) ||\n        fOutside(p[3], lo[3], hi[3])\n    );\n}\n\nbool mOutside(mat4 p, mat4 lo, mat4 hi) {\n    return (\n        vOutside(p[0], lo[0], hi[0]) ||\n        vOutside(p[1], lo[1], hi[1]) ||\n        vOutside(p[2], lo[2], hi[2]) ||\n        vOutside(p[3], lo[3], hi[3])\n    );\n}\n\nbool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {\n    return mOutside(A, loA, hiA) ||\n           mOutside(B, loB, hiB) ||\n           mOutside(C, loC, hiC) ||\n           mOutside(D, loD, hiD);\n}\n\nbool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {\n    mat4 pnts[4];\n    pnts[0] = A;\n    pnts[1] = B;\n    pnts[2] = C;\n    pnts[3] = D;\n\n    for(int i = 0; i < 4; ++i) {\n        for(int j = 0; j < 4; ++j) {\n            for(int k = 0; k < 4; ++k) {\n                if(0 == iMod(\n                    int(255.0 * texture2D(maskTexture,\n                        vec2(\n                            (float(i * 2 + j / 2) + 0.5) / 8.0,\n                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight\n                        ))[3]\n                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),\n                    2\n                )) return true;\n            }\n        }\n    }\n    return false;\n}\n\nvec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {\n    float x = 0.5 * sign(v) + 0.5;\n    float y = axisY(x, A, B, C, D);\n    float z = 1.0 - abs(v);\n\n    z += isContext ? 0.0 : 2.0 * float(\n        outsideBoundingBox(A, B, C, D) ||\n        outsideRasterMask(A, B, C, D)\n    );\n\n    return vec4(\n        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,\n        z,\n        1.0\n    );\n}\n\nvoid main() {\n    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);\n    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);\n    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);\n    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);\n\n    float v = colors[3];\n\n    gl_Position = position(isContext, v, A, B, C, D);\n\n    fragColor =\n        isContext ? vec4(contextColor) :\n        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));\n}\n"]),f=C(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n    gl_FragColor = fragColor;\n}\n"]),S=r(25706).maxDimensionCount,M=r(71828),v=new Uint8Array(4),c=new Uint8Array(4),i={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function u(_,y,w,m,b){var k=_._gl;k.enable(k.SCISSOR_TEST),k.scissor(y,w,m,b),_.clear({color:[0,0,0,0],depth:1})}function a(_,y,w,m,b,k){var h=k.key;w.drawCompleted||(_.read({x:0,y:0,width:1,height:1,data:v}),w.drawCompleted=!0),function O(A){var I=Math.min(m,b-A*m);0===A&&(window.cancelAnimationFrame(w.currentRafs[h]),delete w.currentRafs[h],u(_,k.scissorX,k.scissorY,k.scissorWidth,k.viewBoxSize[1])),w.clearOnly||(k.count=2*I,k.offset=2*A*m,y(k),A*m+I<b&&(w.currentRafs[h]=window.requestAnimationFrame(function(){O(A+1)})),w.drawCompleted=!1)}(0)}function o(_,y){for(var w=new Array(256),m=0;m<256;m++)w[m]=_(m/255).concat(y);return w}function l(_,y){return(_>>>8*y)%256/255}function s(_,y,w){for(var m=new Array(8*y),b=0,k=0;k<y;k++)for(var h=0;h<2;h++)for(var O=0;O<4;O++){var A=4*_+O,I=w[64*k+A];63===A&&0===h&&(I*=-1),m[b++]=I}return m}function d(_){var y="0"+_;return y.substr(y.length-2)}function g(_){return _<S?"p"+d(_+1)+"_"+d(_+4):"colors"}function p(_,y,w,m,b,k,h,O,A,I,P,L,N,B){for(var W=[[],[]],j=0;j<64;j++)W[0][j]=j===b?1:0,W[1][j]=j===k?1:0;var Z=_.lines.canvasOverdrag*B,V=_.domain,q=_.canvasWidth*B,G=_.canvasHeight*B,H=_.pad.l*B,ne=_.pad.b*B,X=_.layoutHeight*B,$=_.layoutWidth*B,Q=_.deselectedLines.color,te=_.deselectedLines.opacity;return M.extendFlat({key:P,resolution:[q,G],viewBoxPos:[(h*=B)+Z,O*=B],viewBoxSize:[A*=B,I*=B],i0:b,i1:k,dim0A:W[0].slice(0,16),dim0B:W[0].slice(16,32),dim0C:W[0].slice(32,48),dim0D:W[0].slice(48,64),dim1A:W[1].slice(0,16),dim1B:W[1].slice(16,32),dim1C:W[1].slice(32,48),dim1D:W[1].slice(48,64),drwLayer:L,contextColor:[Q[0]/255,Q[1]/255,Q[2]/255,"auto"!==te?Q[3]*te:Math.max(.00392156862745098,Math.pow(1/_.lines.color.length,.3333333333333333))],scissorX:(m===y?0:h+Z)+(H-Z)+$*V.x[0],scissorWidth:(m===w?q-h+Z:A+.5)+(m===y?h+Z:0),scissorY:O+ne+X*V.y[0],scissorHeight:I,viewportX:H-Z+$*V.x[0],viewportY:ne+X*V.y[0],viewportWidth:q,viewportHeight:G},N)}function T(_){var y=2047,w=Math.max(0,Math.floor(_[0]*y),0),m=Math.min(y,Math.ceil(_[1]*y),y);return[Math.min(w,m),Math.max(w,m)]}ie.exports=function(_,y){var w,b,k,h,O=y.context,A=y.pick,I=y.regl,P=I._gl,L=P.getParameter(P.ALIASED_LINE_WIDTH_RANGE),N=Math.max(L[0],Math.min(L[1],y.viewModel.plotGlPixelRatio)),B={currentRafs:{},drawCompleted:!0,clearOnly:!1},W=function(G){for(var H={},ne=0;ne<=S;ne+=4)H[g(ne)]=G.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return H}(I),j=I.texture(i),Z=[];q(y);var V=I({profile:!1,blend:{enable:O,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!O,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:I.prop("scissorX"),y:I.prop("scissorY"),width:I.prop("scissorWidth"),height:I.prop("scissorHeight")}},viewport:{x:I.prop("viewportX"),y:I.prop("viewportY"),width:I.prop("viewportWidth"),height:I.prop("viewportHeight")},dither:!1,vert:E,frag:f,primitive:"lines",lineWidth:N,attributes:W,uniforms:{resolution:I.prop("resolution"),viewBoxPos:I.prop("viewBoxPos"),viewBoxSize:I.prop("viewBoxSize"),dim0A:I.prop("dim0A"),dim1A:I.prop("dim1A"),dim0B:I.prop("dim0B"),dim1B:I.prop("dim1B"),dim0C:I.prop("dim0C"),dim1C:I.prop("dim1C"),dim0D:I.prop("dim0D"),dim1D:I.prop("dim1D"),loA:I.prop("loA"),hiA:I.prop("hiA"),loB:I.prop("loB"),hiB:I.prop("hiB"),loC:I.prop("loC"),hiC:I.prop("hiC"),loD:I.prop("loD"),hiD:I.prop("hiD"),palette:j,contextColor:I.prop("contextColor"),maskTexture:I.prop("maskTexture"),drwLayer:I.prop("drwLayer"),maskHeight:I.prop("maskHeight")},offset:I.prop("offset"),count:I.prop("count")});function q(G){w=G.model,b=G.viewModel.dimensions.slice(),k=b[0]?b[0].values.length:0;var H=w.lines,ne=A?H.color.map(function($,Q){return Q/H.color.length}):H.color,X=function($,Q,te){for(var le=new Array($*(S+4)),ue=0,he=0;he<$;he++){for(var ge=0;ge<S;ge++)le[ue++]=ge<Q.length?Q[ge].paddedUnitValues[he]:.5;le[ue++]=l(he,2),le[ue++]=l(he,1),le[ue++]=l(he,0),le[ue++]=Math.max(1e-6,Math.min(.999999,te[he]))}return le}(k,b,ne);(function($,Q,te){for(var re=0;re<=S;re+=4)$[g(re)](s(re/4,Q,te))})(W,k,X),O||A||(j=I.texture(M.extendFlat({data:o(w.unitToColor,255)},i)))}return{render:function(G,H,ne){var X,$,Q,te=G.length,re=1/0,le=-1/0;for(X=0;X<te;X++)G[X].dim0.canvasX<re&&(re=G[X].dim0.canvasX,$=X),G[X].dim1.canvasX>le&&(le=G[X].dim1.canvasX,Q=X);0===te&&u(I,0,0,w.canvasWidth,w.canvasHeight);var ue=function(Ee){var Oe,De,oe,de=[[],[]];for(oe=0;oe<64;oe++){var _e=!Ee&&oe<b.length?b[oe].brush.filter.getBounds():[-1/0,1/0];de[0][oe]=_e[0],de[1][oe]=_e[1]}var Me=new Array(16384);for(Oe=0;Oe<16384;Oe++)Me[Oe]=255;if(!Ee)for(Oe=0;Oe<b.length;Oe++){var Pe=Oe%8,Ue=(Oe-Pe)/8,Be=Math.pow(2,Pe),Ve=b[Oe].brush.filter.get();if(!(Ve.length<2)){var ve=T(Ve[0])[1];for(De=1;De<Ve.length;De++){var Te=T(Ve[De]);for(oe=ve+1;oe<Te[0];oe++)Me[8*oe+Ue]&=~Be;ve=Math.max(ve,Te[1])}}}var Ce={shape:[8,2048],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:Me};return h?h(Ce):h=I.texture(Ce),{maskTexture:h,maskHeight:2048,loA:de[0].slice(0,16),loB:de[0].slice(16,32),loC:de[0].slice(32,48),loD:de[0].slice(48,64),hiA:de[1].slice(0,16),hiB:de[1].slice(16,32),hiC:de[1].slice(32,48),hiD:de[1].slice(48,64)}}(O);for(X=0;X<te;X++){var he=G[X],ge=he.dim0.crossfilterDimensionIndex,xe=he.dim1.crossfilterDimensionIndex,ke=he.canvasX,Ae=he.canvasY,pe=ke+he.panelSizeX,ye=he.plotGlPixelRatio;if(H||!Z[ge]||Z[ge][0]!==ke||Z[ge][1]!==pe){Z[ge]=[ke,pe];var Ne=p(w,$,Q,X,ge,xe,ke,Ae,he.panelSizeX,he.panelSizeY,he.dim0.crossfilterDimensionIndex,O?0:A?2:1,ue,ye);B.clearOnly=ne,a(I,V,B,H?w.lines.blockLineCount:k,k,Ne)}}},readPixel:function(G,H){return I.read({x:G,y:H,width:1,height:1,data:c}),c},readPixels:function(G,H,ne,X){var $=new Uint8Array(4*ne*X);return I.read({x:G,y:H,width:ne,height:X,data:$}),$},destroy:function(){for(var G in _.style["pointer-events"]="none",j.destroy(),h&&h.destroy(),W)W[G].destroy()},update:q}}},94397:function(ie){"use strict";ie.exports=function(z,r,C,E){var f,S;for(E||(E=1/0),f=0;f<r.length;f++)(S=r[f]).visible&&(E=Math.min(E,S[C].length));for(E===1/0&&(E=0),z._length=E,f=0;f<r.length;f++)(S=r[f]).visible&&(S._length=E);return E}},17171:function(ie,z,r){"use strict";var C=r(39898),E=r(71828),f=E.numberFormat,S=r(36652),M=r(89298),v=E.strRotate,c=E.strTranslate,i=r(63893),u=r(91424),a=r(21081),o=r(28984),l=o.keyFun,s=o.repeat,d=o.unwrap,g=r(1602),p=r(25706),T=r(57920),_=r(83398);function y(Z,V,q){return E.aggNums(Z,null,V,q)}function w(Z,V){return b(y(Math.min,Z,V),y(Math.max,Z,V))}function m(Z){var V=Z.range;return V?b(V[0],V[1]):w(Z.values,Z._length)}function b(Z,V){return!isNaN(Z)&&isFinite(Z)||(Z=0),!isNaN(V)&&isFinite(V)||(V=0),Z===V&&(0===Z?(Z-=1,V+=1):(Z*=.9,V*=1.1)),[Z,V]}function k(Z,V,q,G,H){var ne,X,$=m(q);return G?C.scale.ordinal().domain(G.map((ne=f(q.tickformat),X=H,X?function(Q,te){return X[te]??ne(Q)}:ne))).range(G.map(function(Q){return Z-V+(Q-$[0])/($[1]-$[0])*(2*V-Z)})):C.scale.linear().domain($).range([Z-V,V])}function h(Z){if(Z.tickvals){var V=m(Z);return C.scale.ordinal().domain(Z.tickvals).range(Z.tickvals.map(function(q){return(q-V[0])/(V[1]-V[0])}))}}function O(Z){var V=Z.map(function(H){return H[0]}),q=Z.map(function(H){var ne=S(H[1]);return C.rgb("rgb("+ne[0]+","+ne[1]+","+ne[2]+")")}),G="rgb".split("").map(function(H){return C.scale.linear().clamp(!0).domain(V).range(q.map((ne=H,function(X){return X[ne]})));var ne});return function(H){return G.map(function(ne){return ne(H)})}}function A(Z){return Z.dimensions.some(function(V){return V.brush.filterSpecified})}function I(Z,V,q){var G=d(V),H=G.trace,ne=g.convertTypedArray(G.lineColor),X=H.line,$={color:S(H.unselected.line.color),opacity:H.unselected.line.opacity},Q=a.extractOpts(X),te=Q.reversescale?a.flipScale(G.cscale):G.cscale,re=H.domain,le=H.dimensions,ue=Z.width,he=H.labelangle,ge=H.labelside,xe=H.labelfont,ke=H.tickfont,Ae=H.rangefont,pe=E.extendDeepNoArrays({},X,{color:ne.map(C.scale.linear().domain(m({values:ne,range:[Q.min,Q.max],_length:H._length}))),blockLineCount:p.blockLineCount,canvasOverdrag:p.overdrag*p.canvasPixelRatio}),ye=Math.floor(ue*(re.x[1]-re.x[0])),Ne=Math.floor(Z.height*(re.y[1]-re.y[0])),be=Z.margin||{l:80,r:80,t:100,b:80},Ee=ye,Oe=Ne;return{key:q,colCount:le.filter(g.isVisible).length,dimensions:le,tickDistance:p.tickDistance,unitToColor:O(te),lines:pe,deselectedLines:$,labelAngle:he,labelSide:ge,labelFont:xe,tickFont:ke,rangeFont:Ae,layoutWidth:ue,layoutHeight:Z.height,domain:re,translateX:re.x[0]*ue,translateY:Z.height-re.y[1]*Z.height,pad:be,canvasWidth:Ee*p.canvasPixelRatio+2*pe.canvasOverdrag,canvasHeight:Oe*p.canvasPixelRatio,width:Ee,height:Oe,canvasPixelRatio:p.canvasPixelRatio}}function P(Z,V,q){var ue,he,G=q.width,H=q.height,ne=q.dimensions,X=q.canvasPixelRatio,$=function(ue){return G*ue/Math.max(1,q.colCount-1)},Q=p.verticalPadding/H,te=(ue=H,he=p.verticalPadding,C.scale.linear().range([he,ue-he])),re={key:q.key,xScale:$,model:q,inBrushDrag:!1},le={};return re.dimensions=ne.filter(g.isVisible).map(function(ue,he){var Me,Pe,ge=(Me=ue,Pe=Q,C.scale.linear().domain(m(Me)).range([Pe,1-Pe])),xe=le[ue.label];le[ue.label]=(xe||0)+1;var ke=ue.label+(xe?"__"+xe:""),Ae=ue.constraintrange,pe=Ae&&Ae.length;pe&&!Array.isArray(Ae[0])&&(Ae=[Ae]);var ye=pe?Ae.map(function(Me){return Me.map(ge)}):[[-1/0,1/0]],Ne=ue.values;Ne.length>ue._length&&(Ne=Ne.slice(0,ue._length));var be,Ee=ue.tickvals;function Oe(Me,Pe){return{val:Me,text:be[Pe]}}function De(Me,Pe){return Me.val-Pe.val}if(Array.isArray(Ee)&&Ee.length){be=ue.ticktext,Array.isArray(be)&&be.length?be.length>Ee.length?be=be.slice(0,Ee.length):Ee.length>be.length&&(Ee=Ee.slice(0,be.length)):be=Ee.map(f(ue.tickformat));for(var oe=1;oe<Ee.length;oe++)if(Ee[oe]<Ee[oe-1]){for(var de=Ee.map(Oe).sort(De),_e=0;_e<Ee.length;_e++)Ee[_e]=de[_e].val,be[_e]=de[_e].text;break}}else Ee=void 0;return Ne=g.convertTypedArray(Ne),{key:ke,label:ue.label,tickFormat:ue.tickformat,tickvals:Ee,ticktext:be,ordinal:g.isOrdinal(ue),multiselect:ue.multiselect,xIndex:he,crossfilterDimensionIndex:he,visibleIndex:ue._index,height:H,values:Ne,paddedUnitValues:Ne.map(ge),unitTickvals:Ee&&Ee.map(ge),xScale:$,x:$(he),canvasX:$(he)*X,unitToPaddedPx:te,domainScale:k(H,p.verticalPadding,ue,Ee,be),ordinalScale:h(ue),parent:re,model:q,brush:T.makeBrush(Z,pe,ye,function(){Z.linePickActive(!1)},function(){var Me=re;Me.focusLayer&&Me.focusLayer.render(Me.panels,!0);var Pe=A(Me);!Z.contextShown()&&Pe?(Me.contextLayer&&Me.contextLayer.render(Me.panels,!0),Z.contextShown(!0)):Z.contextShown()&&!Pe&&(Me.contextLayer&&Me.contextLayer.render(Me.panels,!0,!0),Z.contextShown(!1))},function(Me){if(re.focusLayer.render(re.panels,!0),re.pickLayer&&re.pickLayer.render(re.panels,!0),Z.linePickActive(!0),V&&V.filterChanged){var Pe=ge.invert,Ue=Me.map(function(Be){return Be.map(Pe).sort(E.sorterAsc)}).sort(function(Be,Ve){return Be[0]-Ve[0]});V.filterChanged(re.key,ue._index,Ue)}})}}),re}function L(Z){Z.classed(p.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function N(Z,V){var G=Z*Math.PI/180;return{dir:"top"===V?1:-1,dx:Math.sin(G),dy:Math.cos(G),degrees:Z}}function B(Z,V,q){for(var G=V.panels||(V.panels=[]),H=Z.data(),ne=0;ne<H.length-1;ne++){var X=G[ne]||(G[ne]={}),$=H[ne],Q=H[ne+1];X.dim0=$,X.dim1=Q,X.canvasX=$.canvasX,X.panelSizeX=Q.canvasX-$.canvasX,X.panelSizeY=V.model.canvasHeight,X.y=0,X.canvasY=0,X.plotGlPixelRatio=q}}function W(Z,V){return M.tickText(Z._ax,V,!1).text}function j(Z,V){if(Z.ordinal)return"";var q=Z.domainScale.domain();return W(Z.model.dimensions[Z.visibleIndex],q[V?q.length-1:0])}ie.exports=function(Z,V,q,G){var H=Z._context.staticPlot,ne=Z._fullLayout,X=ne._toppaper,$=ne._glcontainer,Q=Z._context.plotGlPixelRatio,te=Z._fullLayout.paper_bgcolor;!function(Me){for(var Pe=0;Pe<Me.length;Pe++)for(var Ue=0;Ue<Me[Pe].length;Ue++)for(var Be=Me[Pe][Ue].trace,Ve=Be.dimensions,ve=0;ve<Ve.length;ve++){var Te=Ve[ve].values,Ce=Ve[ve]._ax;Ce&&(Ce.range=Ce.range?b(Ce.range[0],Ce.range[1]):w(Te,Be._length),Ce.dtick||(Ce.dtick=.01*(Math.abs(Ce.range[1]-Ce.range[0])||1)),Ce.tickformat=Ve[ve].tickformat,M.calcTicks(Ce),Ce.cleanRange())}}(V);var re,le,ue=(re=!0,le=!1,{linePickActive:function(Me){return arguments.length?re=!!Me:re},contextShown:function(Me){return arguments.length?le=!!Me:le}}),he=V.filter(function(Me){return d(Me).trace.visible}).map(I.bind(0,q)).map(P.bind(0,ue,G));$.each(function(Me,Pe){return E.extendFlat(Me,he[Pe])});var ge=$.selectAll(".gl-canvas").each(function(Me){Me.viewModel=he[0],Me.viewModel.plotGlPixelRatio=Q,Me.viewModel.paperColor=te,Me.model=Me.viewModel?Me.viewModel.model:null}),xe=null;ge.filter(function(Me){return Me.pick}).style("pointer-events",H?"none":"auto").on("mousemove",function(Me){if(ue.linePickActive()&&Me.lineLayer&&G&&G.hover){var Pe=C.event,Ue=this.width,Be=this.height,Ve=C.mouse(this),ve=Ve[0],Te=Ve[1];if(ve<0||Te<0||ve>=Ue||Te>=Be)return;var Ce=Me.lineLayer.readPixel(ve,Be-1-Te),We=0!==Ce[3],Ke=We?Ce[2]+256*(Ce[1]+256*Ce[0]):null,Je={x:ve,y:Te,clientX:Pe.clientX,clientY:Pe.clientY,dataIndex:Me.model.key,curveNumber:Ke};Ke!==xe&&(We?G.hover(Je):G.unhover&&G.unhover(Je),xe=Ke)}}),ge.style("opacity",function(Me){return Me.pick?0:1}),X.style("background","rgba(255, 255, 255, 0)");var ke=X.selectAll("."+p.cn.parcoords).data(he,l);ke.exit().remove(),ke.enter().append("g").classed(p.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),ke.attr("transform",function(Me){return c(Me.model.translateX,Me.model.translateY)});var Ae=ke.selectAll("."+p.cn.parcoordsControlView).data(s,l);Ae.enter().append("g").classed(p.cn.parcoordsControlView,!0),Ae.attr("transform",function(Me){return c(Me.model.pad.l,Me.model.pad.t)});var pe=Ae.selectAll("."+p.cn.yAxis).data(function(Me){return Me.dimensions},l);pe.enter().append("g").classed(p.cn.yAxis,!0),Ae.each(function(Me){B(pe,Me,Q)}),ge.each(function(Me){Me.viewModel&&(!Me.lineLayer||G?Me.lineLayer=_(this,Me):Me.lineLayer.update(Me),(Me.key||0===Me.key)&&(Me.viewModel[Me.key]=Me.lineLayer),Me.lineLayer.render(Me.viewModel.panels,!Me.context||G))}),pe.attr("transform",function(Me){return c(Me.xScale(Me.xIndex),0)}),pe.call(C.behavior.drag().origin(function(Me){return Me}).on("drag",function(Me){var Pe=Me.parent;ue.linePickActive(!1),Me.x=Math.max(-p.overdrag,Math.min(Me.model.width+p.overdrag,C.event.x)),Me.canvasX=Me.x*Me.model.canvasPixelRatio,pe.sort(function(Ue,Be){return Ue.x-Be.x}).each(function(Ue,Be){Ue.xIndex=Be,Ue.x=Me===Ue?Ue.x:Ue.xScale(Ue.xIndex),Ue.canvasX=Ue.x*Ue.model.canvasPixelRatio}),B(pe,Pe,Q),pe.filter(function(Ue){return 0!==Math.abs(Me.xIndex-Ue.xIndex)}).attr("transform",function(Ue){return c(Ue.xScale(Ue.xIndex),0)}),C.select(this).attr("transform",c(Me.x,0)),pe.each(function(Ue,Be,Ve){Ve===Me.parent.key&&(Pe.dimensions[Be]=Ue)}),Pe.contextLayer&&Pe.contextLayer.render(Pe.panels,!1,!A(Pe)),Pe.focusLayer.render&&Pe.focusLayer.render(Pe.panels)}).on("dragend",function(Me){var Pe=Me.parent;Me.x=Me.xScale(Me.xIndex),Me.canvasX=Me.x*Me.model.canvasPixelRatio,B(pe,Pe,Q),C.select(this).attr("transform",function(Ue){return c(Ue.x,0)}),Pe.contextLayer&&Pe.contextLayer.render(Pe.panels,!1,!A(Pe)),Pe.focusLayer&&Pe.focusLayer.render(Pe.panels),Pe.pickLayer&&Pe.pickLayer.render(Pe.panels,!0),ue.linePickActive(!0),G&&G.axesMoved&&G.axesMoved(Pe.key,Pe.dimensions.map(function(Ue){return Ue.crossfilterDimensionIndex}))})),pe.exit().remove();var ye=pe.selectAll("."+p.cn.axisOverlays).data(s,l);ye.enter().append("g").classed(p.cn.axisOverlays,!0),ye.selectAll("."+p.cn.axis).remove();var Ne=ye.selectAll("."+p.cn.axis).data(s,l);Ne.enter().append("g").classed(p.cn.axis,!0),Ne.each(function(Me){var Pe=Me.model.height/Me.model.tickDistance,Ue=Me.domainScale,Be=Ue.domain();C.select(this).call(C.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(Pe,Me.tickFormat).tickValues(Me.ordinal?Be:null).tickFormat(function(Ve){return g.isOrdinal(Me)?Ve:W(Me.model.dimensions[Me.visibleIndex],Ve)}).scale(Ue)),u.font(Ne.selectAll("text"),Me.model.tickFont)}),Ne.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),Ne.selectAll("text").style("text-shadow",i.makeTextShadow(te)).style("cursor","default");var be=ye.selectAll("."+p.cn.axisHeading).data(s,l);be.enter().append("g").classed(p.cn.axisHeading,!0);var Ee=be.selectAll("."+p.cn.axisTitle).data(s,l);Ee.enter().append("text").classed(p.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",H?"none":"auto"),Ee.text(function(Me){return Me.label}).each(function(Me){var Pe=C.select(this);u.font(Pe,Me.model.labelFont),i.convertToTspans(Pe,Z)}).attr("transform",function(Me){var Pe=N(Me.model.labelAngle,Me.model.labelSide),Ue=p.axisTitleOffset;return(Pe.dir>0?"":c(0,2*Ue+Me.model.height))+v(Pe.degrees)+c(-Ue*Pe.dx,-Ue*Pe.dy)}).attr("text-anchor",function(Me){var Pe=N(Me.model.labelAngle,Me.model.labelSide);return 2*Math.abs(Pe.dx)>Math.abs(Pe.dy)?Pe.dir*Pe.dx<0?"start":"end":"middle"});var Oe=ye.selectAll("."+p.cn.axisExtent).data(s,l);Oe.enter().append("g").classed(p.cn.axisExtent,!0);var De=Oe.selectAll("."+p.cn.axisExtentTop).data(s,l);De.enter().append("g").classed(p.cn.axisExtentTop,!0),De.attr("transform",c(0,-p.axisExtentOffset));var oe=De.selectAll("."+p.cn.axisExtentTopText).data(s,l);oe.enter().append("text").classed(p.cn.axisExtentTopText,!0).call(L),oe.text(function(Me){return j(Me,!0)}).each(function(Me){u.font(C.select(this),Me.model.rangeFont)});var de=Oe.selectAll("."+p.cn.axisExtentBottom).data(s,l);de.enter().append("g").classed(p.cn.axisExtentBottom,!0),de.attr("transform",function(Me){return c(0,Me.model.height+p.axisExtentOffset)});var _e=de.selectAll("."+p.cn.axisExtentBottomText).data(s,l);_e.enter().append("text").classed(p.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(L),_e.text(function(Me){return j(Me,!1)}).each(function(Me){u.font(C.select(this),Me.model.rangeFont)}),T.ensureAxisBrush(ye,te,Z)}},21341:function(ie,z,r){"use strict";var C=r(17171),E=r(79749),f=r(1602).isVisible,S={};function M(v,c,i){var u=c.indexOf(i),a=v.indexOf(u);return-1===a&&(a+=c.length),a}(ie.exports=function(v,c){var i=v._fullLayout;if(E(v,[],S)){var u={},a={},o={},l={},s=i._size;c.forEach(function(d,g){var p=d[0].trace;o[g]=p.index;var T=l[g]=p._fullInput.index;u[g]=v.data[T].dimensions,a[g]=v.data[T].dimensions.slice()}),C(v,c,{width:s.w,height:s.h,margin:{t:s.t,r:s.r,b:s.b,l:s.l}},{filterChanged:function(d,g,p){var T=a[d][g],_=p.map(function(h){return h.slice()}),y="dimensions["+g+"].constraintrange",w=i._tracePreGUI[v._fullData[o[d]]._fullInput.uid];void 0===w[y]&&(w[y]=T.constraintrange||null);var b=v._fullData[o[d]].dimensions[g];_.length?(1===_.length&&(_=_[0]),T.constraintrange=_,b.constraintrange=_.slice(),_=[_]):(delete T.constraintrange,delete b.constraintrange,_=null);var k={};k[y]=_,v.emit("plotly_restyle",[k,[l[d]]])},hover:function(d){v.emit("plotly_hover",d)},unhover:function(d){v.emit("plotly_unhover",d)},axesMoved:function(d,g){var T,_,p=(T=g,_=a[d].filter(f),function(y,w){return M(T,_,y)-M(T,_,w)});u[d].sort(p),a[d].filter(function(T){return!f(T)}).sort(function(T){return a[d].indexOf(T)}).forEach(function(T){u[d].splice(u[d].indexOf(T),1),u[d].splice(a[d].indexOf(T),0,T)}),v.emit("plotly_restyle",[{dimensions:[u[d]]},[l[d]]])}})}}).reglPrecompiled=S},34e3:function(ie,z,r){"use strict";var C=r(9012),E=r(27670).Y,f=r(41940),S=r(22399),M=r(5386).f,v=r(5386).s,c=r(1426).extendFlat,i=f({editType:"plot",arrayOk:!0,colorEditType:"plot"});ie.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:S.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:c({},C.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:M({},{keys:["label","color","value","percent","text"]}),texttemplate:v({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:c({},i,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:c({},i,{}),outsidetextfont:c({},i,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:c({},i,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:E({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:c({},i,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},13584:function(ie,z,r){"use strict";var C=r(74875);z.name="pie",z.plot=function(E,f,S,M){C.plotBasePlot(z.name,E,f,S,M)},z.clean=function(E,f,S,M){C.cleanBasePlot(z.name,E,f,S,M)}},32354:function(ie,z,r){"use strict";var C=r(92770),E=r(84267),f=r(7901),S={};function M(c){return function(i,u){return!!i&&!!(i=E(i)).isValid()&&(i=f.addOpacity(i,i.getAlpha()),c[u]||(c[u]=i),i)}}function v(c,i){var u,a=JSON.stringify(c),o=i[a];if(!o){for(o=c.slice(),u=0;u<c.length;u++)o.push(E(c[u]).lighten(20).toHexString());for(u=0;u<c.length;u++)o.push(E(c[u]).darken(20).toHexString());i[a]=o}return o}ie.exports={calc:function(c,i){var u,a,o=[],l=c._fullLayout,s=l.hiddenlabels||[],d=i.labels,g=i.marker.colors||[],p=i.values,T=i._length,_=i._hasValues&&T;if(i.dlabel)for(d=new Array(T),u=0;u<T;u++)d[u]=String(i.label0+u*i.dlabel);var y={},w=M(l["_"+i.type+"colormap"]),m=0,b=!1;for(u=0;u<T;u++){var k,h,O;if(_){if(!C(k=p[u]))continue;k=+k}else k=1;void 0!==(h=d[u])&&""!==h||(h=u);var A=y[h=String(h)];void 0===A?(y[h]=o.length,(O=-1!==s.indexOf(h))||(m+=k),o.push({v:k,label:h,color:w(g[u],h),i:u,pts:[u],hidden:O})):(b=!0,(a=o[A]).v+=k,a.pts.push(u),a.hidden||(m+=k),!1===a.color&&g[u]&&(a.color=w(g[u],h)))}return o=o.filter(function(I){return I.v>=0}),("funnelarea"===i.type?b:i.sort)&&o.sort(function(I,P){return P.v-I.v}),o[0]&&(o[0].vTotal=m),o},crossTraceCalc:function(c,i){var u=(i||{}).type;u||(u="pie");var a=c._fullLayout,o=c.calcdata,l=a[u+"colorway"],s=a["_"+u+"colormap"];a["extend"+u+"colors"]&&(l=v(l,S));for(var d=0,g=0;g<o.length;g++){var p=o[g];if(p[0].trace.type===u)for(var T=0;T<p.length;T++){var _=p[T];!1===_.color&&(s[_.label]?_.color=s[_.label]:(s[_.label]=_.color=l[d%l.length],d++))}}},makePullColorFn:M,generateExtendedColors:v}},37434:function(ie,z,r){"use strict";var C=r(92770),E=r(71828),f=r(34e3),S=r(27670).c,M=r(90769).handleText;function v(c,i){var u=Array.isArray(c),a=E.isArrayOrTypedArray(i),o=Math.min(u?c.length:1/0,a?i.length:1/0);if(isFinite(o)||(o=0),o&&a){for(var l,s=0;s<o;s++){var d=i[s];if(C(d)&&d>0){l=!0;break}}l||(o=0)}return{hasLabels:u,hasValues:a,len:o}}ie.exports={handleLabelsAndValues:v,supplyDefaults:function(c,i,u,a){function o(w,m){return E.coerce(c,i,f,w,m)}var l=v(o("labels"),o("values")),s=l.len;if(i._hasLabels=l.hasLabels,i._hasValues=l.hasValues,!i._hasLabels&&i._hasValues&&(o("label0"),o("dlabel")),s){i._length=s,o("marker.line.width")&&o("marker.line.color"),o("marker.colors"),o("scalegroup");var d,g=o("text"),p=o("texttemplate");if(p||(d=o("textinfo",Array.isArray(g)?"text+percent":"percent")),o("hovertext"),o("hovertemplate"),p||d&&"none"!==d){var T=o("textposition");M(c,i,a,o,T,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(T)||"auto"===T||"outside"===T)&&o("automargin"),("inside"===T||"auto"===T||Array.isArray(T))&&o("insidetextorientation")}S(i,a,o);var _=o("hole");if(o("title.text")){var y=o("title.position",_?"middle center":"top center");_||"middle center"!==y||(i.title.position="top center"),E.coerceFont(o,"title.font",a.font)}o("sort"),o("direction"),o("rotation"),o("pull")}else i.visible=!1}}},20007:function(ie,z,r){"use strict";var C=r(23469).appendArrayMultiPointValues;ie.exports=function(E,f){var S={curveNumber:f.index,pointNumbers:E.pts,data:f._input,fullData:f,label:E.label,color:E.color,value:E.v,percent:E.percent,text:E.text,bbox:E.bbox,v:E.v};return 1===E.pts.length&&(S.pointNumber=S.i=E.pts[0]),C(S,f,E.pts),"funnelarea"===f.type&&(delete S.v,delete S.i),S}},53581:function(ie,z,r){"use strict";var C=r(71828);function E(f){return-1!==f.indexOf("e")?f.replace(/[.]?0+e/,"e"):-1!==f.indexOf(".")?f.replace(/[.]?0+$/,""):f}z.formatPiePercent=function(f,S){var M=E((100*f).toPrecision(3));return C.numSeparate(M,S)+"%"},z.formatPieValue=function(f,S){var M=E(f.toPrecision(10));return C.numSeparate(M,S)},z.getFirstFilled=function(f,S){if(Array.isArray(f))for(var M=0;M<S.length;M++){var v=f[S[M]];if(v||0===v||""===v)return v}},z.castOption=function(f,S){return Array.isArray(f)?z.getFirstFilled(f,S):f||void 0},z.getRotationAngle=function(f){return("auto"===f?0:f)*Math.PI/180}},58810:function(ie,z,r){"use strict";ie.exports={attributes:r(34e3),supplyDefaults:r(37434).supplyDefaults,supplyLayoutDefaults:r(92097),layoutAttributes:r(92774),calc:r(32354).calc,crossTraceCalc:r(32354).crossTraceCalc,plot:r(14575).plot,style:r(68357),styleOne:r(63463),moduleType:"trace",name:"pie",basePlotModule:r(13584),categories:["pie-like","pie","showLegend"],meta:{}}},92774:function(ie){"use strict";ie.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},92097:function(ie,z,r){"use strict";var C=r(71828),E=r(92774);ie.exports=function(f,S){function M(v,c){return C.coerce(f,S,E,v,c)}M("hiddenlabels"),M("piecolorway",S.colorway),M("extendpiecolors")}},14575:function(ie,z,r){"use strict";var C=r(39898),E=r(74875),f=r(30211),S=r(7901),M=r(91424),v=r(71828),c=v.strScale,i=v.strTranslate,u=r(63893),a=r(72597),o=a.recordMinTextSize,l=a.clearMinTextSize,s=r(97313).TEXTPAD,d=r(53581),g=r(20007),p=r(71828).isValidTextValue;function T(V,q,G){var H=G[0],ne=H.cx,X=H.cy,$=H.trace,Q="funnelarea"===$.type;"_hasHoverLabel"in $||($._hasHoverLabel=!1),"_hasHoverEvent"in $||($._hasHoverEvent=!1),V.on("mouseover",function(te){var re=q._fullLayout,le=q._fullData[$.index];if(!q._dragging&&!1!==re.hovermode){var ue=le.hoverinfo;if(Array.isArray(ue)&&(ue=f.castHoverinfo({hoverinfo:[d.castOption(ue,te.pts)],_module:$._module},re,0)),"all"===ue&&(ue="label+text+value+percent+name"),le.hovertemplate||"none"!==ue&&"skip"!==ue&&ue){var he=te.rInscribed||0,ge=ne+te.pxmid[0]*(1-he),xe=X+te.pxmid[1]*(1-he),ke=re.separators,Ae=[];if(ue&&-1!==ue.indexOf("label")&&Ae.push(te.label),te.text=d.castOption(le.hovertext||le.text,te.pts),ue&&-1!==ue.indexOf("text")){var pe=te.text;v.isValidTextValue(pe)&&Ae.push(pe)}te.value=te.v,te.valueLabel=d.formatPieValue(te.v,ke),ue&&-1!==ue.indexOf("value")&&Ae.push(te.valueLabel),te.percent=te.v/H.vTotal,te.percentLabel=d.formatPiePercent(te.percent,ke),ue&&-1!==ue.indexOf("percent")&&Ae.push(te.percentLabel);var ye=le.hoverlabel,Ne=ye.font,be=[];f.loneHover({trace:$,x0:ge-he*H.r,x1:ge+he*H.r,y:xe,_x0:Q?ne+te.TL[0]:ge-he*H.r,_x1:Q?ne+te.TR[0]:ge+he*H.r,_y0:Q?X+te.TL[1]:xe-he*H.r,_y1:Q?X+te.BL[1]:xe+he*H.r,text:Ae.join("<br>"),name:le.hovertemplate||-1!==ue.indexOf("name")?le.name:void 0,idealAlign:te.pxmid[0]<0?"left":"right",color:d.castOption(ye.bgcolor,te.pts)||te.color,borderColor:d.castOption(ye.bordercolor,te.pts),fontFamily:d.castOption(Ne.family,te.pts),fontSize:d.castOption(Ne.size,te.pts),fontColor:d.castOption(Ne.color,te.pts),nameLength:d.castOption(ye.namelength,te.pts),textAlign:d.castOption(ye.align,te.pts),hovertemplate:d.castOption(le.hovertemplate,te.pts),hovertemplateLabels:te,eventData:[g(te,le)]},{container:re._hoverlayer.node(),outerContainer:re._paper.node(),gd:q,inOut_bbox:be}),te.bbox=be[0],$._hasHoverLabel=!0}$._hasHoverEvent=!0,q.emit("plotly_hover",{points:[g(te,le)],event:C.event})}}),V.on("mouseout",function(te){var re=q._fullLayout,le=q._fullData[$.index],ue=C.select(this).datum();$._hasHoverEvent&&(te.originalEvent=C.event,q.emit("plotly_unhover",{points:[g(ue,le)],event:C.event}),$._hasHoverEvent=!1),$._hasHoverLabel&&(f.loneUnhover(re._hoverlayer.node()),$._hasHoverLabel=!1)}),V.on("click",function(te){q._dragging||!1===q._fullLayout.hovermode||(q._hoverdata=[g(te,q._fullData[$.index])],f.click(q,C.event))})}function _(V,q,G){var H=d.castOption(V.insidetextfont.color,q.pts);!H&&V._input.textfont&&(H=d.castOption(V._input.textfont.color,q.pts));var ne=d.castOption(V.insidetextfont.family,q.pts)||d.castOption(V.textfont.family,q.pts)||G.family,X=d.castOption(V.insidetextfont.size,q.pts)||d.castOption(V.textfont.size,q.pts)||G.size;return{color:H||S.contrast(q.color),family:ne,size:X}}function y(V,q){for(var G,H,ne=0;ne<V.length;ne++)if((H=(G=V[ne][0]).trace).title.text){var X=H.title.text;H._meta&&(X=v.templateString(X,H._meta));var $=M.tester.append("text").attr("data-notex",1).text(X).call(M.font,H.title.font).call(u.convertToTspans,q),Q=M.bBox($.node(),!0);G.titleBox={width:Q.width,height:Q.height},$.remove()}}function w(V,q,G){var H=G.r||q.rpx1,ne=q.rInscribed;if(q.startangle===q.stopangle)return{rCenter:1-ne,scale:0,rotate:0,textPosAngle:0};var X,$=q.ring,Q=1===$&&Math.abs(q.startangle-q.stopangle)===2*Math.PI,te=q.halfangle,re=q.midangle,le=G.trace.insidetextorientation,ue="horizontal"===le,he="tangential"===le,ge="radial"===le,xe="auto"===le,ke=[];if(!xe){var Ae,pe=function(De,oe){if(Ve=(Pe=q).stopangle,(Be=Pe.startangle)>(Ue=De)&&Ue>Ve||Be<Ue&&Ue<Ve){var de=Math.abs(De-q.startangle),_e=Math.abs(De-q.stopangle),Me=de<_e?de:_e;(X="tan"===oe?b(V,H,$,Me,0):m(V,H,$,Me,Math.PI/2)).textPosAngle=De,ke.push(X)}var Pe,Ue,Be,Ve};if(ue||he){for(Ae=4;Ae>=-4;Ae-=2)pe(Math.PI*Ae,"tan");for(Ae=4;Ae>=-4;Ae-=2)pe(Math.PI*(Ae+1),"tan")}if(ue||ge){for(Ae=4;Ae>=-4;Ae-=2)pe(Math.PI*(Ae+1.5),"rad");for(Ae=4;Ae>=-4;Ae-=2)pe(Math.PI*(Ae+.5),"rad")}}if(Q||xe||ue){var ye=Math.sqrt(V.width*V.width+V.height*V.height);if((X={scale:ne*H*2/ye,rCenter:1-ne,rotate:0}).textPosAngle=(q.startangle+q.stopangle)/2,X.scale>=1)return X;ke.push(X)}(xe||ge)&&((X=m(V,H,$,te,re)).textPosAngle=(q.startangle+q.stopangle)/2,ke.push(X)),(xe||he)&&((X=b(V,H,$,te,re)).textPosAngle=(q.startangle+q.stopangle)/2,ke.push(X));for(var Ne=0,be=0,Ee=0;Ee<ke.length;Ee++){var Oe=ke[Ee].scale;if(be<Oe&&(be=Oe,Ne=Ee),!xe&&be>=1)break}return ke[Ne]}function m(V,q,G,H,ne){q=Math.max(0,q-2*s);var X=V.width/V.height,$=O(X,H,q,G);return{scale:2*$/V.height,rCenter:k(X,$/q),rotate:h(ne)}}function b(V,q,G,H,ne){q=Math.max(0,q-2*s);var X=V.height/V.width,$=O(X,H,q,G);return{scale:2*$/V.width,rCenter:k(X,$/q),rotate:h(ne+Math.PI/2)}}function k(V,q){return Math.cos(q)-V*q}function h(V){return(180/Math.PI*V+720)%180-90}function O(V,q,G,H){var ne=V+1/(2*Math.tan(q));return G*Math.min(1/(Math.sqrt(ne*ne+.5)+ne),H/(Math.sqrt(V*V+H/2)+V))}function A(V,q){return V.v!==q.vTotal||q.trace.hole?Math.min(1/(1+1/Math.sin(V.halfangle)),V.ring/2):1}function I(V,q){var G=q.pxmid[0],H=q.pxmid[1],ne=V.width/2,X=V.height/2;return G<0&&(ne*=-1),H<0&&(X*=-1),{scale:1,rCenter:1,rotate:0,x:ne+Math.abs(X)*(ne>0?1:-1)/2,y:X/(1+G*G/(H*H)),outside:!0}}function P(V,q){var G,H,ne,X=V.trace,$={x:V.cx,y:V.cy},Q={tx:0,ty:0};Q.ty+=X.title.font.size,ne=N(X),-1!==X.title.position.indexOf("top")?($.y-=(1+ne)*V.r,Q.ty-=V.titleBox.height):-1!==X.title.position.indexOf("bottom")&&($.y+=(1+ne)*V.r);var te,re=V.r/(void 0===(te=V.trace.aspectratio)?1:te),le=q.w*(X.domain.x[1]-X.domain.x[0])/2;return-1!==X.title.position.indexOf("left")?(le+=re,$.x-=(1+ne)*re,Q.tx+=V.titleBox.width/2):-1!==X.title.position.indexOf("center")?le*=2:-1!==X.title.position.indexOf("right")&&(le+=re,$.x+=(1+ne)*re,Q.tx-=V.titleBox.width/2),G=le/V.titleBox.width,H=L(V,q)/V.titleBox.height,{x:$.x,y:$.y,scale:Math.min(G,H),tx:Q.tx,ty:Q.ty}}function L(V,q){var G=V.trace;return Math.min(V.titleBox.height,q.h*(G.domain.y[1]-G.domain.y[0])/2)}function N(V){var q,G=V.pull;if(!G)return 0;if(Array.isArray(G))for(G=0,q=0;q<V.pull.length;q++)V.pull[q]>G&&(G=V.pull[q]);return G}function B(V,q){for(var G=[],H=0;H<V.length;H++){var ne=V[H][0],X=ne.trace,$=X.domain,Q=q.w*($.x[1]-$.x[0]),te=q.h*($.y[1]-$.y[0]);X.title.text&&"middle center"!==X.title.position&&(te-=L(ne,q));var le=te/2;"funnelarea"!==X.type||X.scalegroup||(le/=X.aspectratio),ne.r=Math.min(Q/2,le)/(1+N(X)),ne.cx=q.l+q.w*(X.domain.x[1]+X.domain.x[0])/2,ne.cy=q.t+q.h*(1-X.domain.y[0])-te/2,X.title.text&&-1!==X.title.position.indexOf("bottom")&&(ne.cy-=L(ne,q)),X.scalegroup&&-1===G.indexOf(X.scalegroup)&&G.push(X.scalegroup)}!function(ue,he){for(var ge,xe,ke,Ae=0;Ae<he.length;Ae++){var pe=1/0,ye=he[Ae];for(xe=0;xe<ue.length;xe++)if((ke=(ge=ue[xe][0]).trace).scalegroup===ye){var Ne;if("pie"===ke.type)Ne=ge.r*ge.r;else if("funnelarea"===ke.type){var be,Ee;ke.aspectratio>1?Ee=(be=ge.r)/ke.aspectratio:be=(Ee=ge.r)*ke.aspectratio,Ne=(be*=(1+ke.baseratio)/2)*Ee}pe=Math.min(pe,Ne/ge.vTotal)}for(xe=0;xe<ue.length;xe++)if((ke=(ge=ue[xe][0]).trace).scalegroup===ye){var Oe=pe*ge.vTotal;"funnelarea"===ke.type&&(Oe/=(1+ke.baseratio)/2,Oe/=ke.aspectratio),ge.r=Math.sqrt(Oe)}}}(V,G)}function W(V,q){return[V*Math.sin(q),-V*Math.cos(q)]}function j(V,q,G){var Ne,H=V._fullLayout,ne=G.trace,X=ne.texttemplate,$=ne.textinfo;if(!X&&$&&"none"!==$){var Q,te=$.split("+"),re=function(Ne){return-1!==te.indexOf(Ne)},le=re("label"),ue=re("text"),he=re("value"),ge=re("percent"),xe=H.separators;if(Q=le?[q.label]:[],ue){var ke=d.getFirstFilled(ne.text,q.pts);p(ke)&&Q.push(ke)}he&&Q.push(d.formatPieValue(q.v,xe)),ge&&Q.push(d.formatPiePercent(q.v/G.vTotal,xe)),q.text=Q.join("<br>")}if(X){var Ae=v.castOption(ne,q.i,"texttemplate");if(Ae){var pe={label:(Ne=q).label,value:Ne.v,valueLabel:d.formatPieValue(Ne.v,H.separators),percent:Ne.v/G.vTotal,percentLabel:d.formatPiePercent(Ne.v/G.vTotal,H.separators),color:Ne.color,text:Ne.text,customdata:v.castOption(ne,Ne.i,"customdata")},ye=d.getFirstFilled(ne.text,q.pts);(p(ye)||""===ye)&&(pe.text=ye),q.text=v.texttemplateString(Ae,pe,V._fullLayout._d3locale,pe,ne._meta||{})}else q.text=""}}function Z(V,q){var G=V.rotate*Math.PI/180,H=Math.cos(G),ne=Math.sin(G),X=(q.left+q.right)/2,$=(q.top+q.bottom)/2;V.textX=X*H-$*ne,V.textY=X*ne+$*H,V.noCenter=!0}ie.exports={plot:function(V,q){var G=V._context.staticPlot,H=V._fullLayout,ne=H._size;l("pie",H),y(q,V),B(q,ne);var X=v.makeTraceGroups(H._pielayer,q,"trace").each(function($){var Q=C.select(this),te=$[0],re=te.trace;(function(le){var ue,he,ge,xe=le[0],ke=xe.r,Ae=xe.trace,pe=d.getRotationAngle(Ae.rotation),ye=2*Math.PI/xe.vTotal,Ne="px0",be="px1";if("counterclockwise"===Ae.direction){for(ue=0;ue<le.length&&le[ue].hidden;ue++);if(ue===le.length)return;pe+=ye*le[ue].v,ye*=-1,Ne="px1",be="px0"}for(ge=W(ke,pe),ue=0;ue<le.length;ue++)(he=le[ue]).hidden||(he[Ne]=ge,he.startangle=pe,he.pxmid=W(ke,pe+=ye*he.v/2),he.midangle=pe,ge=W(ke,pe+=ye*he.v/2),he.stopangle=pe,he[be]=ge,he.largeArc=he.v>xe.vTotal/2?1:0,he.halfangle=Math.PI*Math.min(he.v/xe.vTotal,.5),he.ring=1-Ae.hole,he.rInscribed=A(he,xe))})($),Q.attr("stroke-linejoin","round"),Q.each(function(){var le=C.select(this).selectAll("g.slice").data($);le.enter().append("g").classed("slice",!0),le.exit().remove();var ue=[[[],[]],[[],[]]],he=!1;le.each(function(be,Ee){if(be.hidden)C.select(this).selectAll("path,g").remove();else{be.pointNumber=be.i,be.curveNumber=re.index,ue[be.pxmid[1]<0?0:1][be.pxmid[0]<0?0:1].push(be);var Oe=te.cx,De=te.cy,oe=C.select(this),de=oe.selectAll("path.surface").data([be]);if(de.enter().append("path").classed("surface",!0).style({"pointer-events":G?"none":"all"}),oe.call(T,V,$),re.pull){var _e=+d.castOption(re.pull,be.pts)||0;_e>0&&(Oe+=_e*be.pxmid[0],De+=_e*be.pxmid[1])}be.cxFinal=Oe,be.cyFinal=De;var Me=re.hole;if(be.v===te.vTotal){var Pe="M"+(Oe+be.px0[0])+","+(De+be.px0[1])+Te(be.px0,be.pxmid,!0,1)+Te(be.pxmid,be.px0,!0,1)+"Z";de.attr("d",Me?"M"+(Oe+Me*be.px0[0])+","+(De+Me*be.px0[1])+Te(be.px0,be.pxmid,!1,Me)+Te(be.pxmid,be.px0,!1,Me)+"Z"+Pe:Pe)}else{var Ue=Te(be.px0,be.px1,!0,1);if(Me){var Be=1-Me;de.attr("d","M"+(Oe+Me*be.px1[0])+","+(De+Me*be.px1[1])+Te(be.px1,be.px0,!1,Me)+"l"+Be*be.px0[0]+","+Be*be.px0[1]+Ue+"Z")}else de.attr("d","M"+Oe+","+De+"l"+be.px0[0]+","+be.px0[1]+Ue+"Z")}j(V,be,te);var Ve=d.castOption(re.textposition,be.pts),ve=oe.selectAll("g.slicetext").data(be.text&&"none"!==Ve?[0]:[]);ve.enter().append("g").classed("slicetext",!0),ve.exit().remove(),ve.each(function(){var Rt,It,Pt,Ce=v.ensureSingle(C.select(this),"text","",function(Rt){Rt.attr("data-notex",1)}),We=v.ensureUniformFontSize(V,"outside"===Ve?(Pt=H.font,{color:d.castOption((Rt=re).outsidetextfont.color,(It=be).pts)||d.castOption(Rt.textfont.color,It.pts)||Pt.color,family:d.castOption(Rt.outsidetextfont.family,It.pts)||d.castOption(Rt.textfont.family,It.pts)||Pt.family,size:d.castOption(Rt.outsidetextfont.size,It.pts)||d.castOption(Rt.textfont.size,It.pts)||Pt.size}):_(re,be,H.font));Ce.text(be.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(M.font,We).call(u.convertToTspans,V);var Ke,Je=M.bBox(Ce.node());if("outside"===Ve)Ke=I(Je,be);else if(Ke=w(Je,be,te),"auto"===Ve&&Ke.scale<1){var ht=v.ensureUniformFontSize(V,re.outsidetextfont);Ce.call(M.font,ht),Ke=I(Je=M.bBox(Ce.node()),be)}var ft=Ke.textPosAngle,mt=void 0===ft?be.pxmid:W(te.r,ft);if(Ke.targetX=Oe+mt[0]*Ke.rCenter+(Ke.x||0),Ke.targetY=De+mt[1]*Ke.rCenter+(Ke.y||0),Z(Ke,Je),Ke.outside){var At=Ke.targetY;be.yLabelMin=At-Je.height/2,be.yLabelMid=At,be.yLabelMax=At+Je.height/2,be.labelExtraX=0,be.labelExtraY=0,he=!0}Ke.fontSize=We.size,o(re.type,Ke,H),$[Ee].transform=Ke,v.setTransormAndDisplay(Ce,Ke)})}function Te(Ce,We,Ke,Je){return"a"+Je*te.r+","+Je*te.r+" 0 "+be.largeArc+(Ke?" 1 ":" 0 ")+Je*(We[0]-Ce[0])+","+Je*(We[1]-Ce[1])}});var Ee,ge=C.select(this).selectAll("g.titletext").data(re.title.text?[0]:[]);if(ge.enter().append("g").classed("titletext",!0),ge.exit().remove(),ge.each(function(){var be,De,oe,Ee=v.ensureSingle(C.select(this),"text","",function(De){De.attr("data-notex",1)}),Oe=re.title.text;re._meta&&(Oe=v.templateString(Oe,re._meta)),Ee.text(Oe).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(M.font,re.title.font).call(u.convertToTspans,V),be="middle center"===re.title.position?(De=te,oe=Math.sqrt(De.titleBox.width*De.titleBox.width+De.titleBox.height*De.titleBox.height),{x:De.cx,y:De.cy,scale:De.trace.hole*De.r*2/oe,tx:0,ty:-De.titleBox.height/2+De.trace.title.font.size}):P(te,ne),Ee.attr("transform",i(be.x,be.y)+c(Math.min(1,be.scale))+i(be.tx,be.ty))}),he&&function(be,Ee){var Oe,De,oe,de,_e,Me,Pe,Ue,Be,Ve,ve,Te,Ce;function We(ft,mt){return ft.pxmid[1]-mt.pxmid[1]}function Ke(ft,mt){return mt.pxmid[1]-ft.pxmid[1]}function Je(ft,mt){mt||(mt={});var At,Rt,It,Pt,Bt=mt.labelExtraY+(De?mt.yLabelMax:mt.yLabelMin),Ut=De?ft.yLabelMin:ft.yLabelMax,Vt=De?ft.yLabelMax:ft.yLabelMin,tn=ft.cyFinal+_e(ft.px0[1],ft.px1[1]),Gt=Bt-Ut;if(Gt*Pe>0&&(ft.labelExtraY=Gt),Array.isArray(Ee.pull))for(Rt=0;Rt<Ve.length;Rt++)(It=Ve[Rt])===ft||(d.castOption(Ee.pull,ft.pts)||0)>=(d.castOption(Ee.pull,It.pts)||0)||((ft.pxmid[1]-It.pxmid[1])*Pe>0?(Gt=It.cyFinal+_e(It.px0[1],It.px1[1])-Ut-ft.labelExtraY)*Pe>0&&(ft.labelExtraY+=Gt):(Vt+ft.labelExtraY-tn)*Pe>0&&(At=3*Me*Math.abs(Rt-Ve.indexOf(ft)),(Pt=It.cxFinal+de(It.px0[0],It.px1[0])+At-(ft.cxFinal+ft.pxmid[0])-ft.labelExtraX)*Me>0&&(ft.labelExtraX+=Pt)))}for(De=0;De<2;De++)for(oe=De?We:Ke,_e=De?Math.max:Math.min,Pe=De?1:-1,Oe=0;Oe<2;Oe++){for(de=Oe?Math.max:Math.min,Me=Oe?1:-1,(Ue=be[De][Oe]).sort(oe),Ve=(Be=be[1-De][Oe]).concat(Ue),Te=[],ve=0;ve<Ue.length;ve++)void 0!==Ue[ve].yLabelMid&&Te.push(Ue[ve]);for(Ce=!1,ve=0;De&&ve<Be.length;ve++)if(void 0!==Be[ve].yLabelMid){Ce=Be[ve];break}for(ve=0;ve<Te.length;ve++){var ht=ve&&Te[ve-1];Ce&&!ve&&(ht=Ce),Je(Te[ve],ht)}}}(ue,re),Ee=re,le.each(function(Oe){var De=C.select(this);if(Oe.labelExtraX||Oe.labelExtraY){var oe=De.select("g.slicetext text");Oe.transform.targetX+=Oe.labelExtraX,Oe.transform.targetY+=Oe.labelExtraY,v.setTransormAndDisplay(oe,Oe.transform);var de=Oe.cxFinal+Oe.pxmid[0],_e="M"+de+","+(Oe.cyFinal+Oe.pxmid[1]),Me=(Oe.yLabelMax-Oe.yLabelMin)*(Oe.pxmid[0]<0?-1:1)/4;if(Oe.labelExtraX){var Pe=Oe.labelExtraX*Oe.pxmid[1]/Oe.pxmid[0],Ue=Oe.yLabelMid+Oe.labelExtraY-(Oe.cyFinal+Oe.pxmid[1]);Math.abs(Pe)>Math.abs(Ue)?_e+="l"+Ue*Oe.pxmid[0]/Oe.pxmid[1]+","+Ue+"H"+(de+Oe.labelExtraX+Me):_e+="l"+Oe.labelExtraX+","+Pe+"v"+(Ue-Pe)+"h"+Me}else _e+="V"+(Oe.yLabelMid+Oe.labelExtraY)+"h"+Me;v.ensureSingle(De,"path","textline").call(S.stroke,Ee.outsidetextfont.color).attr({"stroke-width":Math.min(2,Ee.outsidetextfont.size/8),d:_e,fill:"none"})}else De.select("path.textline").remove()}),he&&re.automargin){var xe=M.bBox(Q.node()),ke=re.domain,ye=(ne.w*(ke.x[1]-ke.x[0])*.5-te.r)/ne.w,Ne=(ne.h*(ke.y[1]-ke.y[0])*.5-te.r)/ne.h;E.autoMargin(V,"pie."+re.uid+".automargin",{xl:ke.x[0]-ye,xr:ke.x[1]+ye,yb:ke.y[0]-Ne,yt:ke.y[1]+Ne,l:Math.max(te.cx-te.r-xe.left,0),r:Math.max(xe.right-(te.cx+te.r),0),b:Math.max(xe.bottom-(te.cy+te.r),0),t:Math.max(te.cy-te.r-xe.top,0),pad:5})}})});setTimeout(function(){X.selectAll("tspan").each(function(){var $=C.select(this);$.attr("dy")&&$.attr("dy",$.attr("dy"))})},0)},formatSliceLabel:j,transformInsideText:w,determineInsideTextFont:_,positionTitleOutside:P,prerenderTitles:y,layoutAreas:B,attachFxHandlers:T,computeTransform:Z}},68357:function(ie,z,r){"use strict";var C=r(39898),E=r(63463),f=r(72597).resizeText;ie.exports=function(S){var M=S._fullLayout._pielayer.selectAll(".trace");f(S,M,"pie"),M.each(function(v){var c=v[0].trace,i=C.select(this);i.style({opacity:c.opacity}),i.selectAll("path.surface").each(function(u){C.select(this).call(E,u,c)})})}},63463:function(ie,z,r){"use strict";var C=r(7901),E=r(53581).castOption;ie.exports=function(f,S,M){var v=M.marker.line,c=E(v.color,S.pts)||C.defaultLine,i=E(v.width,S.pts)||0;f.style("stroke-width",i).call(C.fill,S.color).call(C.stroke,c)}},10959:function(ie,z,r){"use strict";var C=r(82196);ie.exports={x:C.x,y:C.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:C.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},42743:function(ie,z,r){"use strict";var C=r(9330).gl_pointcloud2d,E=r(78614),f=r(71739).findExtremes,S=r(34603);function M(c,i){this.scene=c,this.uid=i,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=C(c.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var v=M.prototype;v.handlePick=function(c){var i=this.idToIndex[c.pointId];return{trace:this,dataCoord:c.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[2*i],this.pickXYData[2*i+1]]:[this.pickXData[i],this.pickYData[i]],textLabel:Array.isArray(this.textLabels)?this.textLabels[i]:this.textLabels,color:this.color,name:this.name,pointIndex:i,hoverinfo:this.hoverinfo}},v.update=function(c){this.index=c.index,this.textLabels=c.text,this.name=c.name,this.hoverinfo=c.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(c),this.color=S(c,{})},v.updateFast=function(c){var i,u,a,o,l,s,d=this.xData=this.pickXData=c.x,g=this.yData=this.pickYData=c.y,p=this.pickXYData=c.xy,_=c.indices,y=this.bounds;if(p){if(a=p,i=p.length>>>1,c.xbounds&&c.ybounds)y[0]=c.xbounds[0],y[2]=c.xbounds[1],y[1]=c.ybounds[0],y[3]=c.ybounds[1];else for(s=0;s<i;s++)l=a[2*s+1],(o=a[2*s])<y[0]&&(y[0]=o),o>y[2]&&(y[2]=o),l<y[1]&&(y[1]=l),l>y[3]&&(y[3]=l);if(_)u=_;else for(u=new Int32Array(i),s=0;s<i;s++)u[s]=s}else for(i=d.length,a=new Float32Array(2*i),u=new Int32Array(i),s=0;s<i;s++)o=d[s],l=g[s],u[s]=s,a[2*s]=o,a[2*s+1]=l,o<y[0]&&(y[0]=o),o>y[2]&&(y[2]=o),l<y[1]&&(y[1]=l),l>y[3]&&(y[3]=l);this.idToIndex=u,this.pointcloudOptions.idToIndex=u,this.pointcloudOptions.positions=a;var w=E(c.marker.color),m=E(c.marker.border.color),b=c.opacity*c.marker.opacity;w[3]*=b,this.pointcloudOptions.color=w;var k=c.marker.blend;null===k&&(k=d.length<100||g.length<100),this.pointcloudOptions.blend=k,m[3]*=b,this.pointcloudOptions.borderColor=m;var h=c.marker.sizemin,O=Math.max(c.marker.sizemax,c.marker.sizemin);this.pointcloudOptions.sizeMin=h,this.pointcloudOptions.sizeMax=O,this.pointcloudOptions.areaRatio=c.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var A=this.scene.xaxis,I=this.scene.yaxis,P=O/2||.5;c._extremes[A._id]=f(A,[y[0],y[2]],{ppad:P}),c._extremes[I._id]=f(I,[y[1],y[3]],{ppad:P})},v.dispose=function(){this.pointcloud.dispose()},ie.exports=function(c,i){var u=new M(c,i.uid);return u.update(i),u}},33876:function(ie,z,r){"use strict";var C=r(71828),E=r(10959);ie.exports=function(f,S,M){function v(c,i){return C.coerce(f,S,E,c,i)}v("x"),v("y"),v("xbounds"),v("ybounds"),f.xy&&f.xy instanceof Float32Array&&(S.xy=f.xy),f.indices&&f.indices instanceof Int32Array&&(S.indices=f.indices),v("text"),v("marker.color",M),v("marker.opacity"),v("marker.blend"),v("marker.sizemin"),v("marker.sizemax"),v("marker.border.color",M),v("marker.border.arearatio"),S._length=null}},20593:function(ie,z,r){"use strict";["*pointcloud* trace is deprecated!","Please consider switching to the *scattergl* trace type."].join(" "),ie.exports={attributes:r(10959),supplyDefaults:r(33876),calc:r(36563),plot:r(42743),moduleType:"trace",name:"pointcloud",basePlotModule:r(4796),categories:["gl","gl2d","showLegend"],meta:{}}},39953:function(ie,z,r){"use strict";var C=r(41940),E=r(9012),f=r(22399),S=r(77914),M=r(27670).Y,v=r(5386).f,c=r(50693),i=r(44467).templatedArray,u=r(12663).descriptionOnlyNumbers,a=r(1426).extendFlat,o=r(30962).overrideAll;(ie.exports=o({hoverinfo:a({},E.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:S.hoverlabel,domain:M({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:u("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:C({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:f.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:S.hoverlabel,hovertemplate:v({},{keys:["value","label"]})},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:f.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:S.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),colorscales:i("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:a(c().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested")).transforms=void 0},75536:function(ie,z,r){"use strict";var C=r(30962).overrideAll,E=r(27659).a0,f=r(60436),S=r(528),M=r(6964),v=r(28569),c=r(47322).prepSelect,i=r(71828),u=r(73972),a="sankey";function o(l,s){var d=l._fullData[s],g=l._fullLayout,p=g.dragmode,_=d._bgRect;if(_&&"pan"!==p&&"zoom"!==p){M(_,"pan"===g.dragmode?"move":"crosshair");var y={_id:"x",c2p:i.identity,_offset:d._sankey.translateX,_length:d._sankey.width},w={_id:"y",c2p:i.identity,_offset:d._sankey.translateY,_length:d._sankey.height},m={gd:l,element:_.node(),plotinfo:{id:s,xaxis:y,yaxis:w,fillRangeItems:i.noop},subplot:s,xaxes:[y],yaxes:[w],doneFnCompleted:function(b){var k,h=l._fullData[s],O=h.node.groups.slice(),A=[];function I(B){for(var W=h._sankey.graph.nodes,j=0;j<W.length;j++)if(W[j].pointNumber===B)return W[j]}for(var P=0;P<b.length;P++){var L=I(b[P].pointNumber);if(L)if(L.group){for(var N=0;N<L.childrenNodes.length;N++)A.push(L.childrenNodes[N].pointNumber);O[L.pointNumber-h.node._count]=!1}else A.push(L.pointNumber)}k=O.filter(Boolean).concat([A]),u.call("_guiRestyle",l,{"node.groups":[k]},s)},prepFn:function(b,k,h){c(b,k,h,m,p)}};v.init(m)}}z.name=a,z.baseLayoutAttrOverrides=C({hoverlabel:S.hoverlabel},"plot","nested"),z.plot=function(l){var s=E(l.calcdata,a)[0];f(l,s),z.updateFx(l)},z.clean=function(l,s,d,g){var p=g._has&&g._has(a),T=s._has&&s._has(a);p&&!T&&(g._paperdiv.selectAll(".sankey").remove(),g._paperdiv.selectAll(".bgsankey").remove())},z.updateFx=function(l){for(var s=0;s<l._fullData.length;s++)o(l,s)}},92930:function(ie,z,r){"use strict";var C=r(68664),E=r(71828),f=r(28984).wrap,S=E.isArrayOrTypedArray,M=E.isIndex,v=r(21081);ie.exports=function(c,i){var u=function(a){var o,l=a.node,s=a.link,d=[],g=S(s.color),p=S(s.customdata),T={},_={},y=s.colorscales.length;for(o=0;o<y;o++){var w=s.colorscales[o],m=v.extractScale(w,{cLetter:"c"}),b=v.makeColorScaleFunc(m);_[w.label]=b}var k=0;for(o=0;o<s.value.length;o++)s.source[o]>k&&(k=s.source[o]),s.target[o]>k&&(k=s.target[o]);var h,O=k+1;a.node._count=O;var A=a.node.groups,I={};for(o=0;o<A.length;o++){var P=A[o];for(h=0;h<P.length;h++){var L=P[h],N=O+o;I.hasOwnProperty(L)?E.warn("Node "+L+" is already part of a group."):I[L]=N}}var B={source:[],target:[]};for(o=0;o<s.value.length;o++){var W=s.value[o],j=s.source[o],Z=s.target[o];if(W>0&&M(j,O)&&M(Z,O)&&(!I.hasOwnProperty(j)||!I.hasOwnProperty(Z)||I[j]!==I[Z])){I.hasOwnProperty(Z)&&(Z=I[Z]),I.hasOwnProperty(j)&&(j=I[j]),T[j=+j]=T[Z=+Z]=!0;var V="";s.label&&s.label[o]&&(V=s.label[o]);var q=null;V&&_.hasOwnProperty(V)&&(q=_[V]),d.push({pointNumber:o,label:V,color:g?s.color[o]:s.color,customdata:p?s.customdata[o]:s.customdata,concentrationscale:q,source:j,target:Z,value:+W}),B.source.push(j),B.target.push(Z)}}var G=O+A.length,H=S(l.color),ne=S(l.customdata),X=[];for(o=0;o<G;o++)T[o]&&X.push({group:o>O-1,childrenNodes:[],pointNumber:o,label:l.label[o],color:H?l.color[o]:l.color,customdata:ne?l.customdata[o]:l.customdata});var Q=!1;return function(te,re,le){for(var ue=E.init2dArray(te,0),he=0;he<Math.min(re.length,le.length);he++)if(E.isIndex(re[he],te)&&E.isIndex(le[he],te)){if(re[he]===le[he])return!0;ue[re[he]].push(le[he])}return C(ue).components.some(function(ge){return ge.length>1})}(G,B.source,B.target)&&(Q=!0),{circular:Q,links:d,nodes:X,groups:A,groupLookup:I}}(i);return f({circular:u.circular,_nodes:u.nodes,_links:u.links,_groups:u.groups,_groupLookup:u.groupLookup})}},85247:function(ie){"use strict";ie.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},26857:function(ie,z,r){"use strict";var C=r(71828),E=r(39953),f=r(7901),S=r(84267),M=r(27670).c,v=r(38048),c=r(44467),i=r(85501);function u(a,o){function l(s,d){return C.coerce(a,o,E.link.colorscales,s,d)}l("label"),l("cmin"),l("cmax"),l("colorscale")}ie.exports=function(a,o,l,s){function d(O,A){return C.coerce(a,o,E,O,A)}var g=C.extendDeep(s.hoverlabel,a.hoverlabel),p=a.node,T=c.newContainer(o,"node");function _(O,A){return C.coerce(p,T,E.node,O,A)}_("label"),_("groups"),_("x"),_("y"),_("pad"),_("thickness"),_("line.color"),_("line.width"),_("hoverinfo",a.hoverinfo),v(p,T,_,g),_("hovertemplate");var y=s.colorway;_("color",T.label.map(function(O,A){return f.addOpacity(y[A%y.length],.8)})),_("customdata");var w=a.link||{},m=c.newContainer(o,"link");function b(O,A){return C.coerce(w,m,E.link,O,A)}b("label"),b("arrowlen"),b("source"),b("target"),b("value"),b("line.color"),b("line.width"),b("hoverinfo",a.hoverinfo),v(w,m,b,g),b("hovertemplate");var k,h=S(s.paper_bgcolor).getLuminance()<.333?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)";b("color",C.repeat(h,m.value.length)),b("customdata"),i(w,m,{name:"colorscales",handleItemDefaults:u}),M(o,s,d),d("orientation"),d("valueformat"),d("valuesuffix"),T.x.length&&T.y.length&&(k="freeform"),d("arrangement",k),C.coerceFont(d,"textfont",C.extendFlat({},s.font)),o._length=null}},29396:function(ie,z,r){"use strict";ie.exports={attributes:r(39953),supplyDefaults:r(26857),calc:r(92930),plot:r(60436),moduleType:"trace",name:"sankey",basePlotModule:r(75536),selectPoints:r(84564),categories:["noOpacity"],meta:{}}},60436:function(ie,z,r){"use strict";var C=r(39898),E=r(71828),f=E.numberFormat,S=r(3393),M=r(30211),v=r(7901),c=r(85247).cn,i=E._;function u(w){return""!==w}function a(w,m){return w.filter(function(b){return b.key===m.traceId})}function o(w,m){C.select(w).select("path").style("fill-opacity",m),C.select(w).select("rect").style("fill-opacity",m)}function l(w){C.select(w).select("text.name").style("fill","black")}function s(w){return function(m){return-1!==w.node.sourceLinks.indexOf(m.link)||-1!==w.node.targetLinks.indexOf(m.link)}}function d(w){return function(m){return-1!==m.node.sourceLinks.indexOf(w.link)||-1!==m.node.targetLinks.indexOf(w.link)}}function g(w,m,b){m&&b&&a(b,m).selectAll("."+c.sankeyLink).filter(s(m)).call(T.bind(0,m,b,!1))}function p(w,m,b){m&&b&&a(b,m).selectAll("."+c.sankeyLink).filter(s(m)).call(_.bind(0,m,b,!1))}function T(w,m,b,k){var h=k.datum().link.label;k.style("fill-opacity",function(O){if(!O.link.concentrationscale)return.4}),h&&a(m,w).selectAll("."+c.sankeyLink).filter(function(O){return O.link.label===h}).style("fill-opacity",function(O){if(!O.link.concentrationscale)return.4}),b&&a(m,w).selectAll("."+c.sankeyNode).filter(d(w)).call(g)}function _(w,m,b,k){var h=k.datum().link.label;k.style("fill-opacity",function(O){return O.tinyColorAlpha}),h&&a(m,w).selectAll("."+c.sankeyLink).filter(function(O){return O.link.label===h}).style("fill-opacity",function(O){return O.tinyColorAlpha}),b&&a(m,w).selectAll(c.sankeyNode).filter(d(w)).call(p)}function y(w,m){var k=E.nestedProperty(w.hoverlabel||{},m).get();return!Array.isArray(k)&&k}ie.exports=function(w,m){for(var b=w._fullLayout,k=b._paper,h=b._size,O=0;O<w._fullData.length;O++)if(w._fullData[O].visible&&w._fullData[O].type===c.sankey&&!w._fullData[O]._viewInitial){var A=w._fullData[O].node;w._fullData[O]._viewInitial={node:{groups:A.groups.slice(),x:A.x.slice(),y:A.y.slice()}}}var I=i(w,"source:")+" ",P=i(w,"target:")+" ",L=i(w,"concentration:")+" ",N=i(w,"incoming flow count:")+" ",B=i(w,"outgoing flow count:")+" ";S(w,k,m,{width:h.w,height:h.h,margin:{t:h.t,r:h.r,b:h.b,l:h.l}},{linkEvents:{hover:function(W,j,Z){!1!==w._fullLayout.hovermode&&(C.select(W).call(T.bind(0,j,Z,!0)),"skip"!==j.link.trace.link.hoverinfo&&(j.link.fullData=j.link.trace,w.emit("plotly_hover",{event:C.event,points:[j.link]})))},follow:function(W,j){if(!1!==w._fullLayout.hovermode){var Z=j.link.trace.link;if("none"!==Z.hoverinfo&&"skip"!==Z.hoverinfo){for(var V=[],q=0,G=0;G<j.flow.links.length;G++){var H=j.flow.links[G];if("closest"!==w._fullLayout.hovermode||j.link.pointNumber===H.pointNumber){j.link.pointNumber===H.pointNumber&&(q=G),H.fullData=H.trace,Z=j.link.trace.link;var ne=$(H),X={valueLabel:f(j.valueFormat)(H.value)+j.valueSuffix};V.push({x:ne[0],y:ne[1],name:X.valueLabel,text:[H.label||"",I+H.source.label,P+H.target.label,H.concentrationscale?L+f("%0.2f")(H.flow.labelConcentration):""].filter(u).join("<br>"),color:y(Z,"bgcolor")||v.addOpacity(H.color,1),borderColor:y(Z,"bordercolor"),fontFamily:y(Z,"font.family"),fontSize:y(Z,"font.size"),fontColor:y(Z,"font.color"),nameLength:y(Z,"namelength"),textAlign:y(Z,"align"),idealAlign:C.event.x<ne[0]?"right":"left",hovertemplate:Z.hovertemplate,hovertemplateLabels:X,eventData:[H]})}}M.loneHover(V,{container:b._hoverlayer.node(),outerContainer:b._paper.node(),gd:w,anchorIndex:q}).each(function(){j.link.concentrationscale||o(this,.65),l(this)})}}function $(Q){var te,re;Q.circular?(te=(Q.circularPathData.leftInnerExtent+Q.circularPathData.rightInnerExtent)/2,re=Q.circularPathData.verticalFullExtent):(te=(Q.source.x1+Q.target.x0)/2,re=(Q.y0+Q.y1)/2);var le=[te,re];return"v"===Q.trace.orientation&&le.reverse(),le[0]+=j.parent.translateX,le[1]+=j.parent.translateY,le}},unhover:function(W,j,Z){!1!==w._fullLayout.hovermode&&(C.select(W).call(_.bind(0,j,Z,!0)),"skip"!==j.link.trace.link.hoverinfo&&(j.link.fullData=j.link.trace,w.emit("plotly_unhover",{event:C.event,points:[j.link]})),M.loneUnhover(b._hoverlayer.node()))},select:function(W,j){var Z=j.link;Z.originalEvent=C.event,w._hoverdata=[Z],M.click(w,{target:!0})}},nodeEvents:{hover:function(W,j,Z){!1!==w._fullLayout.hovermode&&(C.select(W).call(g,j,Z),"skip"!==j.node.trace.node.hoverinfo&&(j.node.fullData=j.node.trace,w.emit("plotly_hover",{event:C.event,points:[j.node]})))},follow:function(W,j){if(!1!==w._fullLayout.hovermode){var Z=j.node.trace.node;if("none"!==Z.hoverinfo&&"skip"!==Z.hoverinfo){var V=C.select(W).select("."+c.nodeRect),q=w._fullLayout._paperdiv.node().getBoundingClientRect(),G=V.node().getBoundingClientRect(),H=G.left-2-q.left,ne=G.right+2-q.left,X=G.top+G.height/4-q.top,$={valueLabel:f(j.valueFormat)(j.node.value)+j.valueSuffix};j.node.fullData=j.node.trace,w._fullLayout._calcInverseTransform(w);var Q=w._fullLayout._invScaleX,re=M.loneHover({x0:Q*H,x1:Q*ne,y:w._fullLayout._invScaleY*X,name:f(j.valueFormat)(j.node.value)+j.valueSuffix,text:[j.node.label,N+j.node.targetLinks.length,B+j.node.sourceLinks.length].filter(u).join("<br>"),color:y(Z,"bgcolor")||j.tinyColorHue,borderColor:y(Z,"bordercolor"),fontFamily:y(Z,"font.family"),fontSize:y(Z,"font.size"),fontColor:y(Z,"font.color"),nameLength:y(Z,"namelength"),textAlign:y(Z,"align"),idealAlign:"left",hovertemplate:Z.hovertemplate,hovertemplateLabels:$,eventData:[j.node]},{container:b._hoverlayer.node(),outerContainer:b._paper.node(),gd:w});o(re,.85),l(re)}}},unhover:function(W,j,Z){!1!==w._fullLayout.hovermode&&(C.select(W).call(p,j,Z),"skip"!==j.node.trace.node.hoverinfo&&(j.node.fullData=j.node.trace,w.emit("plotly_unhover",{event:C.event,points:[j.node]})),M.loneUnhover(b._hoverlayer.node()))},select:function(W,j,Z){var V=j.node;V.originalEvent=C.event,w._hoverdata=[V],C.select(W).call(p,j,Z),M.click(w,{target:!0})}}})}},3393:function(ie,z,r){"use strict";var C=r(49887),E=r(81684).k4,f=r(39898),S=r(30838),M=r(86781),v=r(85247),c=r(84267),i=r(7901),u=r(91424),a=r(71828),o=a.strTranslate,l=a.strRotate,s=r(28984),d=s.keyFun,g=s.repeat,p=s.unwrap,T=r(63893),_=r(73972),y=r(18783),w=y.CAP_SHIFT,m=y.LINE_SPACING;function b(G,H,ne){var X,$=p(H),Q=$.trace,te=Q.domain,re="h"===Q.orientation,le=Q.node.pad,ue=Q.node.thickness,he=G.width*(te.x[1]-te.x[0]),ge=G.height*(te.y[1]-te.y[0]),xe=$._nodes,ke=$._links,Ae=$.circular;(X=Ae?M.sankeyCircular().circularLinkGap(0):S.sankey()).iterations(v.sankeyIterations).size(re?[he,ge]:[ge,he]).nodeWidth(ue).nodePadding(le).nodeId(function(Me){return Me.pointNumber}).nodes(xe).links(ke);var pe,ye,Ne,be=X();for(var Ee in X.nodePadding()<le&&a.warn("node.pad was reduced to ",X.nodePadding()," to fit within the figure."),$._groupLookup){var Oe,De=parseInt($._groupLookup[Ee]);for(pe=0;pe<be.nodes.length;pe++)if(be.nodes[pe].pointNumber===De){Oe=be.nodes[pe];break}if(Oe){var oe={pointNumber:parseInt(Ee),x0:Oe.x0,x1:Oe.x1,y0:Oe.y0,y1:Oe.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};be.nodes.unshift(oe),Oe.childrenNodes.unshift(oe)}}if(function(){for(pe=0;pe<be.nodes.length;pe++){var Me,Pe,Ue=be.nodes[pe],Be={};for(ye=0;ye<Ue.targetLinks.length;ye++)Me=(Pe=Ue.targetLinks[ye]).source.pointNumber+":"+Pe.target.pointNumber,Be.hasOwnProperty(Me)||(Be[Me]=[]),Be[Me].push(Pe);var Ve=Object.keys(Be);for(ye=0;ye<Ve.length;ye++){var ve=Be[Me=Ve[ye]],Te=0,Ce={};for(Ne=0;Ne<ve.length;Ne++)Ce[(Pe=ve[Ne]).label]||(Ce[Pe.label]=0),Ce[Pe.label]+=Pe.value,Te+=Pe.value;for(Ne=0;Ne<ve.length;Ne++)(Pe=ve[Ne]).flow={value:Te,labelConcentration:Ce[Pe.label]/Te,concentration:Pe.value/Te,links:ve},Pe.concentrationscale&&(Pe.color=c(Pe.concentrationscale(Pe.flow.labelConcentration)))}var We=0;for(ye=0;ye<Ue.sourceLinks.length;ye++)We+=Ue.sourceLinks[ye].value;for(ye=0;ye<Ue.sourceLinks.length;ye++)(Pe=Ue.sourceLinks[ye]).concentrationOut=Pe.value/We;var Ke=0;for(ye=0;ye<Ue.targetLinks.length;ye++)Ke+=Ue.targetLinks[ye].value;for(ye=0;ye<Ue.targetLinks.length;ye++)(Pe=Ue.targetLinks[ye]).concenrationIn=Pe.value/Ke}}(),Q.node.x.length&&Q.node.y.length){for(pe=0;pe<Math.min(Q.node.x.length,Q.node.y.length,be.nodes.length);pe++)if(Q.node.x[pe]&&Q.node.y[pe]){var de=[Q.node.x[pe]*he,Q.node.y[pe]*ge];be.nodes[pe].x0=de[0]-ue/2,be.nodes[pe].x1=de[0]+ue/2;var _e=be.nodes[pe].y1-be.nodes[pe].y0;be.nodes[pe].y0=de[1]-_e/2,be.nodes[pe].y1=de[1]+_e/2}"snap"===Q.arrangement&&function(Me){var Pe,Ue,Be=Me.map(function(We,Ke){return{x0:We.x0,index:Ke}}).sort(function(We,Ke){return We.x0-Ke.x0}),Ve=[],ve=-1,Te=-1/0;for(pe=0;pe<Be.length;pe++){var Ce=Me[Be[pe].index];Ce.x0>Te+ue&&(ve+=1,Pe=Ce.x0),Te=Ce.x0,Ve[ve]||(Ve[ve]=[]),Ve[ve].push(Ce),Ce.x0+=Ue=Pe-Ce.x0,Ce.x1+=Ue}return Ve}(xe=be.nodes).forEach(function(Me){var Pe,Ue,Be,Ve=0,ve=Me.length;for(Me.sort(function(Te,Ce){return Te.y0-Ce.y0}),Be=0;Be<ve;++Be)(Pe=Me[Be]).y0>=Ve||(Ue=Ve-Pe.y0)>1e-6&&(Pe.y0+=Ue,Pe.y1+=Ue),Ve=Pe.y1+le}),X.update(be)}return{circular:Ae,key:ne,trace:Q,guid:a.randstr(),horizontal:re,width:he,height:ge,nodePad:Q.node.pad,nodeLineColor:Q.node.line.color,nodeLineWidth:Q.node.line.width,linkLineColor:Q.link.line.color,linkLineWidth:Q.link.line.width,linkArrowLength:Q.link.arrowlen,valueFormat:Q.valueformat,valueSuffix:Q.valuesuffix,textFont:Q.textfont,translateX:te.x[0]*G.width+G.margin.l,translateY:G.height-te.y[1]*G.height+G.margin.t,dragParallel:re?ge:he,dragPerpendicular:re?he:ge,arrangement:Q.arrangement,sankey:X,graph:be,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function k(G,H,ne){var X=c(H.color),$=H.source.label+"|"+H.target.label+"__"+ne;return H.trace=G.trace,H.curveNumber=G.trace.index,{circular:G.circular,key:$,traceId:G.key,pointNumber:H.pointNumber,link:H,tinyColorHue:i.tinyRGB(X),tinyColorAlpha:X.getAlpha(),linkPath:h,linkLineColor:G.linkLineColor,linkLineWidth:G.linkLineWidth,linkArrowLength:G.linkArrowLength,valueFormat:G.valueFormat,valueSuffix:G.valueSuffix,sankey:G.sankey,parent:G,interactionState:G.interactionState,flow:H.flow}}function h(){return function(G){var ye,Ne,be,Ee,H=G.linkArrowLength;if(G.link.circular)return Ne=H,be=(ye=G.link).width/2,Ee=ye.circularPathData,"top"===ye.circularLinkType?"M "+(Ee.targetX-Ne)+" "+(Ee.targetY+be)+" L"+(Ee.rightInnerExtent-Ne)+" "+(Ee.targetY+be)+"A"+(Ee.rightLargeArcRadius+be)+" "+(Ee.rightSmallArcRadius+be)+" 0 0 1 "+(Ee.rightFullExtent-be-Ne)+" "+(Ee.targetY-Ee.rightSmallArcRadius)+"L"+(Ee.rightFullExtent-be-Ne)+" "+Ee.verticalRightInnerExtent+"A"+(Ee.rightLargeArcRadius+be)+" "+(Ee.rightLargeArcRadius+be)+" 0 0 1 "+(Ee.rightInnerExtent-Ne)+" "+(Ee.verticalFullExtent-be)+"L"+Ee.leftInnerExtent+" "+(Ee.verticalFullExtent-be)+"A"+(Ee.leftLargeArcRadius+be)+" "+(Ee.leftLargeArcRadius+be)+" 0 0 1 "+(Ee.leftFullExtent+be)+" "+Ee.verticalLeftInnerExtent+"L"+(Ee.leftFullExtent+be)+" "+(Ee.sourceY-Ee.leftSmallArcRadius)+"A"+(Ee.leftLargeArcRadius+be)+" "+(Ee.leftSmallArcRadius+be)+" 0 0 1 "+Ee.leftInnerExtent+" "+(Ee.sourceY+be)+"L"+Ee.sourceX+" "+(Ee.sourceY+be)+"L"+Ee.sourceX+" "+(Ee.sourceY-be)+"L"+Ee.leftInnerExtent+" "+(Ee.sourceY-be)+"A"+(Ee.leftLargeArcRadius-be)+" "+(Ee.leftSmallArcRadius-be)+" 0 0 0 "+(Ee.leftFullExtent-be)+" "+(Ee.sourceY-Ee.leftSmallArcRadius)+"L"+(Ee.leftFullExtent-be)+" "+Ee.verticalLeftInnerExtent+"A"+(Ee.leftLargeArcRadius-be)+" "+(Ee.leftLargeArcRadius-be)+" 0 0 0 "+Ee.leftInnerExtent+" "+(Ee.verticalFullExtent+be)+"L"+(Ee.rightInnerExtent-Ne)+" "+(Ee.verticalFullExtent+be)+"A"+(Ee.rightLargeArcRadius-be)+" "+(Ee.rightLargeArcRadius-be)+" 0 0 0 "+(Ee.rightFullExtent+be-Ne)+" "+Ee.verticalRightInnerExtent+"L"+(Ee.rightFullExtent+be-Ne)+" "+(Ee.targetY-Ee.rightSmallArcRadius)+"A"+(Ee.rightLargeArcRadius-be)+" "+(Ee.rightSmallArcRadius-be)+" 0 0 0 "+(Ee.rightInnerExtent-Ne)+" "+(Ee.targetY-be)+"L"+(Ee.targetX-Ne)+" "+(Ee.targetY-be)+(Ne>0?"L"+Ee.targetX+" "+Ee.targetY:"")+"Z":"M "+(Ee.targetX-Ne)+" "+(Ee.targetY-be)+" L"+(Ee.rightInnerExtent-Ne)+" "+(Ee.targetY-be)+"A"+(Ee.rightLargeArcRadius+be)+" "+(Ee.rightSmallArcRadius+be)+" 0 0 0 "+(Ee.rightFullExtent-be-Ne)+" "+(Ee.targetY+Ee.rightSmallArcRadius)+"L"+(Ee.rightFullExtent-be-Ne)+" "+Ee.verticalRightInnerExtent+"A"+(Ee.rightLargeArcRadius+be)+" "+(Ee.rightLargeArcRadius+be)+" 0 0 0 "+(Ee.rightInnerExtent-Ne)+" "+(Ee.verticalFullExtent+be)+"L"+Ee.leftInnerExtent+" "+(Ee.verticalFullExtent+be)+"A"+(Ee.leftLargeArcRadius+be)+" "+(Ee.leftLargeArcRadius+be)+" 0 0 0 "+(Ee.leftFullExtent+be)+" "+Ee.verticalLeftInnerExtent+"L"+(Ee.leftFullExtent+be)+" "+(Ee.sourceY+Ee.leftSmallArcRadius)+"A"+(Ee.leftLargeArcRadius+be)+" "+(Ee.leftSmallArcRadius+be)+" 0 0 0 "+Ee.leftInnerExtent+" "+(Ee.sourceY-be)+"L"+Ee.sourceX+" "+(Ee.sourceY-be)+"L"+Ee.sourceX+" "+(Ee.sourceY+be)+"L"+Ee.leftInnerExtent+" "+(Ee.sourceY+be)+"A"+(Ee.leftLargeArcRadius-be)+" "+(Ee.leftSmallArcRadius-be)+" 0 0 1 "+(Ee.leftFullExtent-be)+" "+(Ee.sourceY+Ee.leftSmallArcRadius)+"L"+(Ee.leftFullExtent-be)+" "+Ee.verticalLeftInnerExtent+"A"+(Ee.leftLargeArcRadius-be)+" "+(Ee.leftLargeArcRadius-be)+" 0 0 1 "+Ee.leftInnerExtent+" "+(Ee.verticalFullExtent-be)+"L"+(Ee.rightInnerExtent-Ne)+" "+(Ee.verticalFullExtent-be)+"A"+(Ee.rightLargeArcRadius-be)+" "+(Ee.rightLargeArcRadius-be)+" 0 0 1 "+(Ee.rightFullExtent+be-Ne)+" "+Ee.verticalRightInnerExtent+"L"+(Ee.rightFullExtent+be-Ne)+" "+(Ee.targetY+Ee.rightSmallArcRadius)+"A"+(Ee.rightLargeArcRadius-be)+" "+(Ee.rightSmallArcRadius-be)+" 0 0 1 "+(Ee.rightInnerExtent-Ne)+" "+(Ee.targetY+be)+"L"+(Ee.targetX-Ne)+" "+(Ee.targetY+be)+(Ne>0?"L"+Ee.targetX+" "+Ee.targetY:"")+"Z";var ne=Math.abs((G.link.target.x0-G.link.source.x1)/2);H>ne&&(H=ne);var X=G.link.source.x1,$=G.link.target.x0-H,Q=E(X,$),te=Q(.5),re=Q(.5),le=G.link.y0-G.link.width/2,ue=G.link.y0+G.link.width/2,he=G.link.y1-G.link.width/2,ge=G.link.y1+G.link.width/2,pe=H>0?"L"+($+H)+","+(he+G.link.width/2):"";return"M"+X+","+le+"C"+te+","+le+" "+re+","+he+" "+$+","+he+(pe+="L"+$+","+ge)+"C"+re+","+ge+" "+te+","+ue+" "+X+","+ue+"Z"}}function O(G,H){var ne=c(H.color),X=v.nodePadAcross,$=G.nodePad/2;H.dx=H.x1-H.x0,H.dy=H.y1-H.y0;var Q=H.dx,te=Math.max(.5,H.dy),re="node_"+H.pointNumber;return H.group&&(re=a.randstr()),H.trace=G.trace,H.curveNumber=G.trace.index,{index:H.pointNumber,key:re,partOfGroup:H.partOfGroup||!1,group:H.group,traceId:G.key,trace:G.trace,node:H,nodePad:G.nodePad,nodeLineColor:G.nodeLineColor,nodeLineWidth:G.nodeLineWidth,textFont:G.textFont,size:G.horizontal?G.height:G.width,visibleWidth:Math.ceil(Q),visibleHeight:te,zoneX:-X,zoneY:-$,zoneWidth:Q+2*X,zoneHeight:te+2*$,labelY:G.horizontal?H.dy/2+1:H.dx/2+1,left:1===H.originalLayer,sizeAcross:G.width,forceLayouts:G.forceLayouts,horizontal:G.horizontal,darkBackground:ne.getBrightness()<=128,tinyColorHue:i.tinyRGB(ne),tinyColorAlpha:ne.getAlpha(),valueFormat:G.valueFormat,valueSuffix:G.valueSuffix,sankey:G.sankey,graph:G.graph,arrangement:G.arrangement,uniqueNodeLabelPathId:[G.guid,G.key,re].join("_"),interactionState:G.interactionState,figure:G}}function A(G){G.attr("transform",function(H){return o(H.node.x0.toFixed(3),H.node.y0.toFixed(3))})}function I(G){G.call(A)}function P(G,H){G.call(I),H.attr("d",h())}function L(G){G.attr("width",function(H){return H.node.x1-H.node.x0}).attr("height",function(H){return H.visibleHeight})}function N(G){return G.link.width>1||G.linkLineWidth>0}function B(G){return o(G.translateX,G.translateY)+(G.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function W(G,H,ne){G.on(".basic",null).on("mouseover.basic",function(X){X.interactionState.dragInProgress||X.partOfGroup||(ne.hover(this,X,H),X.interactionState.hovered=[this,X])}).on("mousemove.basic",function(X){X.interactionState.dragInProgress||X.partOfGroup||(ne.follow(this,X),X.interactionState.hovered=[this,X])}).on("mouseout.basic",function(X){X.interactionState.dragInProgress||X.partOfGroup||(ne.unhover(this,X,H),X.interactionState.hovered=!1)}).on("click.basic",function(X){X.interactionState.hovered&&(ne.unhover(this,X,H),X.interactionState.hovered=!1),X.interactionState.dragInProgress||X.partOfGroup||ne.select(this,X,H)})}function j(G,H,ne,X){var $=f.behavior.drag().origin(function(Q){return{x:Q.node.x0+Q.visibleWidth/2,y:Q.node.y0+Q.visibleHeight/2}}).on("dragstart",function(Q){if("fixed"!==Q.arrangement&&(a.ensureSingle(X._fullLayout._infolayer,"g","dragcover",function(re){X._fullLayout._dragCover=re}),a.raiseToTop(this),Q.interactionState.dragInProgress=Q.node,V(Q.node),Q.interactionState.hovered&&(ne.nodeEvents.unhover.apply(0,Q.interactionState.hovered),Q.interactionState.hovered=!1),"snap"===Q.arrangement)){var te=Q.traceId+"|"+Q.key;Q.forceLayouts[te]?Q.forceLayouts[te].alpha(1):function(re,le,ue,he){!function(xe){for(var ke=0;ke<xe.length;ke++)xe[ke].y=(xe[ke].y0+xe[ke].y1)/2,xe[ke].x=(xe[ke].x0+xe[ke].x1)/2}(ue.graph.nodes);var ke,Ae,pe,ge=ue.graph.nodes.filter(function(xe){return xe.originalX===ue.node.originalX}).filter(function(xe){return!xe.partOfGroup});ue.forceLayouts[le]=C.forceSimulation(ge).alphaDecay(0).force("collide",C.forceCollide().radius(function(xe){return xe.dy/2+ue.nodePad/2}).strength(1).iterations(v.forceIterations)).force("constrain",(ke=le,Ae=ge,pe=ue,function(){for(var ye=0,Ne=0;Ne<Ae.length;Ne++){var be=Ae[Ne];be===pe.interactionState.dragInProgress?(be.x=be.lastDraggedX,be.y=be.lastDraggedY):(be.vx=(be.originalX-be.x)/v.forceTicksPerFrame,be.y=Math.min(pe.size-be.dy/2,Math.max(be.dy/2,be.y))),ye=Math.max(ye,Math.abs(be.vx),Math.abs(be.vy))}!pe.interactionState.dragInProgress&&ye<.1&&pe.forceLayouts[ke].alpha()>0&&pe.forceLayouts[ke].alpha(0)})).stop()}(0,te,Q),re=G,le=H,ue=Q,he=te,ge=X,window.requestAnimationFrame(function xe(){var ke;for(ke=0;ke<v.forceTicksPerFrame;ke++)ue.forceLayouts[he].tick();if(function(pe){for(var ye=0;ye<pe.length;ye++)pe[ye].y0=pe[ye].y-pe[ye].dy/2,pe[ye].y1=pe[ye].y0+pe[ye].dy,pe[ye].x0=pe[ye].x-pe[ye].dx/2,pe[ye].x1=pe[ye].x0+pe[ye].dx}(ue.graph.nodes),ue.sankey.update(ue.graph),P(re.filter(q(ue)),le),ue.forceLayouts[he].alpha()>0)window.requestAnimationFrame(xe);else{var Ae=ue.node.originalX;ue.node.x0=Ae-ue.visibleWidth/2,ue.node.x1=Ae+ue.visibleWidth/2,Z(ue,ge)}})}var re,le,ue,he,ge}).on("drag",function(Q){if("fixed"!==Q.arrangement){var te=f.event.x,re=f.event.y;"snap"===Q.arrangement?(Q.node.x0=te-Q.visibleWidth/2,Q.node.x1=te+Q.visibleWidth/2,Q.node.y0=re-Q.visibleHeight/2,Q.node.y1=re+Q.visibleHeight/2):("freeform"===Q.arrangement&&(Q.node.x0=te-Q.visibleWidth/2,Q.node.x1=te+Q.visibleWidth/2),re=Math.max(0,Math.min(Q.size-Q.visibleHeight/2,re)),Q.node.y0=re-Q.visibleHeight/2,Q.node.y1=re+Q.visibleHeight/2),V(Q.node),"snap"!==Q.arrangement&&(Q.sankey.update(Q.graph),P(G.filter(q(Q)),H))}}).on("dragend",function(Q){if("fixed"!==Q.arrangement){Q.interactionState.dragInProgress=!1;for(var te=0;te<Q.node.childrenNodes.length;te++)Q.node.childrenNodes[te].x=Q.node.x,Q.node.childrenNodes[te].y=Q.node.y;"snap"!==Q.arrangement&&Z(Q,X)}});G.on(".drag",null).call($)}function Z(G,H){for(var ne=[],X=[],$=0;$<G.graph.nodes.length;$++){var te=(G.graph.nodes[$].y0+G.graph.nodes[$].y1)/2;ne.push((G.graph.nodes[$].x0+G.graph.nodes[$].x1)/2/G.figure.width),X.push(te/G.figure.height)}_.call("_guiRestyle",H,{"node.x":[ne],"node.y":[X]},G.trace.index).then(function(){H._fullLayout._dragCover&&H._fullLayout._dragCover.remove()})}function V(G){G.lastDraggedX=G.x0+G.dx/2,G.lastDraggedY=G.y0+G.dy/2}function q(G){return function(H){return H.node.originalX===G.node.originalX}}ie.exports=function(G,H,ne,X,$){var Q=G._context.staticPlot,te=!1;a.ensureSingle(G._fullLayout._infolayer,"g","first-render",function(){te=!0});var re=G._fullLayout._dragCover,le=ne.filter(function(ye){return p(ye).trace.visible}).map(b.bind(null,X)),ue=H.selectAll("."+v.cn.sankey).data(le,d);ue.exit().remove(),ue.enter().append("g").classed(v.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",Q?"none":"auto").attr("transform",B),ue.each(function(ye,Ne){G._fullData[Ne]._sankey=ye;var be="bgsankey-"+ye.trace.uid+"-"+Ne;a.ensureSingle(G._fullLayout._draggers,"rect",be),G._fullData[Ne]._bgRect=f.select("."+be),G._fullData[Ne]._bgRect.style("pointer-events",Q?"none":"all").attr("width",ye.width).attr("height",ye.height).attr("x",ye.translateX).attr("y",ye.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),ue.transition().ease(v.ease).duration(v.duration).attr("transform",B);var he=ue.selectAll("."+v.cn.sankeyLinks).data(g,d);he.enter().append("g").classed(v.cn.sankeyLinks,!0).style("fill","none");var ge=he.selectAll("."+v.cn.sankeyLink).data(function(ye){return ye.graph.links.filter(function(Ne){return Ne.value}).map(k.bind(null,ye))},d);ge.enter().append("path").classed(v.cn.sankeyLink,!0).call(W,ue,$.linkEvents),ge.style("stroke",function(ye){return N(ye)?i.tinyRGB(c(ye.linkLineColor)):ye.tinyColorHue}).style("stroke-opacity",function(ye){return N(ye)?i.opacity(ye.linkLineColor):ye.tinyColorAlpha}).style("fill",function(ye){return ye.tinyColorHue}).style("fill-opacity",function(ye){return ye.tinyColorAlpha}).style("stroke-width",function(ye){return N(ye)?ye.linkLineWidth:1}).attr("d",h()),ge.style("opacity",function(){return G._context.staticPlot||te||re?1:0}).transition().ease(v.ease).duration(v.duration).style("opacity",1),ge.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var xe=ue.selectAll("."+v.cn.sankeyNodeSet).data(g,d);xe.enter().append("g").classed(v.cn.sankeyNodeSet,!0),xe.style("cursor",function(ye){switch(ye.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var ke=xe.selectAll("."+v.cn.sankeyNode).data(function(ye){var Ne=ye.graph.nodes;return function(be){var Ee,Oe=[];for(Ee=0;Ee<be.length;Ee++)be[Ee].originalX=(be[Ee].x0+be[Ee].x1)/2,be[Ee].originalY=(be[Ee].y0+be[Ee].y1)/2,-1===Oe.indexOf(be[Ee].originalX)&&Oe.push(be[Ee].originalX);for(Oe.sort(function(De,oe){return De-oe}),Ee=0;Ee<be.length;Ee++)be[Ee].originalLayerIndex=Oe.indexOf(be[Ee].originalX),be[Ee].originalLayer=be[Ee].originalLayerIndex/(Oe.length-1)}(Ne),Ne.map(O.bind(null,ye))},d);ke.enter().append("g").classed(v.cn.sankeyNode,!0).call(A).style("opacity",function(ye){return!G._context.staticPlot&&!te||ye.partOfGroup?0:1}),ke.call(W,ue,$.nodeEvents).call(j,ge,$,G),ke.transition().ease(v.ease).duration(v.duration).call(A).style("opacity",function(ye){return ye.partOfGroup?0:1}),ke.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Ae=ke.selectAll("."+v.cn.nodeRect).data(g);Ae.enter().append("rect").classed(v.cn.nodeRect,!0).call(L),Ae.style("stroke-width",function(ye){return ye.nodeLineWidth}).style("stroke",function(ye){return i.tinyRGB(c(ye.nodeLineColor))}).style("stroke-opacity",function(ye){return i.opacity(ye.nodeLineColor)}).style("fill",function(ye){return ye.tinyColorHue}).style("fill-opacity",function(ye){return ye.tinyColorAlpha}),Ae.transition().ease(v.ease).duration(v.duration).call(L);var pe=ke.selectAll("."+v.cn.nodeLabel).data(g);pe.enter().append("text").classed(v.cn.nodeLabel,!0).style("cursor","default"),pe.attr("data-notex",1).text(function(ye){return ye.node.label}).each(function(ye){var Ne=f.select(this);u.font(Ne,ye.textFont),T.convertToTspans(Ne,G)}).style("text-shadow",T.makeTextShadow(G._fullLayout.paper_bgcolor)).attr("text-anchor",function(ye){return ye.horizontal&&ye.left?"end":"start"}).attr("transform",function(ye){var Ne=f.select(this),be=T.lineCount(Ne),Oe=ye.nodeLineWidth/2+3,De=((ye.horizontal?ye.visibleHeight:ye.visibleWidth)-ye.textFont.size*((be-1)*m-w))/2;ye.horizontal&&(ye.left?Oe=-Oe:Oe+=ye.visibleWidth);var oe=ye.horizontal?"":"scale(-1,1)"+l(90);return o(ye.horizontal?Oe:De,ye.horizontal?De:Oe)+oe}),pe.transition().ease(v.ease).duration(v.duration)}},84564:function(ie){"use strict";ie.exports=function(z,r){for(var C=[],E=z.cd[0].trace,f=E._sankey.graph.nodes,S=0;S<f.length;S++){var M=f[S];if(!M.partOfGroup){var v=[(M.x0+M.x1)/2,(M.y0+M.y1)/2];"v"===E.orientation&&v.reverse(),r&&r.contains(v,!1,S,z)&&C.push({pointNumber:M.pointNumber})}}return C}},75225:function(ie,z,r){"use strict";var C=r(71828);ie.exports=function(E,f){for(var S=0;S<E.length;S++)E[S].i=S;C.mergeArray(f.text,E,"tx"),C.mergeArray(f.texttemplate,E,"txt"),C.mergeArray(f.hovertext,E,"htx"),C.mergeArray(f.customdata,E,"data"),C.mergeArray(f.textposition,E,"tp"),f.textfont&&(C.mergeArrayCastPositive(f.textfont.size,E,"ts"),C.mergeArray(f.textfont.color,E,"tc"),C.mergeArray(f.textfont.family,E,"tf"));var M=f.marker;if(M){C.mergeArrayCastPositive(M.size,E,"ms"),C.mergeArrayCastPositive(M.opacity,E,"mo"),C.mergeArray(M.symbol,E,"mx"),C.mergeArray(M.angle,E,"ma"),C.mergeArray(M.standoff,E,"mf"),C.mergeArray(M.color,E,"mc");var v=M.line;M.line&&(C.mergeArray(v.color,E,"mlc"),C.mergeArrayCastPositive(v.width,E,"mlw"));var c=M.gradient;c&&"none"!==c.type&&(C.mergeArray(c.type,E,"mgt"),C.mergeArray(c.color,E,"mgc"))}}},82196:function(ie,z,r){"use strict";var C=r(12663).axisHoverFormat,E=r(5386).s,f=r(5386).f,S=r(50693),M=r(41940),v=r(79952).P,c=r(79952).u,i=r(91424),u=r(47581),a=r(1426).extendFlat;ie.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},xhoverformat:C("x"),yhoverformat:C("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:E({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:f({},{keys:u.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:a({},v,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:c,marker:a({symbol:{valType:"enumerated",values:i.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:a({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},S("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},S("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:M({editType:"calc",colorEditType:"style",arrayOk:!0})}},47761:function(ie,z,r){"use strict";var C=r(92770),E=r(71828),f=r(89298),S=r(42973),M=r(50606).BADNUM,v=r(34098),c=r(36922),i=r(75225),u=r(66279);function a(g,p,T,_,y,w,m){var b=p._length,k=g._fullLayout,h=T._id,O=_._id,A=k._firstScatter[s(p)]===p.uid,I=(d(p,k,T,_)||{}).orientation,P=p.fill;T._minDtick=0,_._minDtick=0;var L={padded:!0},N={padded:!0};m&&(L.ppad=N.ppad=m);var B=b<2||y[0]!==y[b-1]||w[0]!==w[b-1];B&&("tozerox"===P||"tonextx"===P&&(A||"h"===I))?L.tozero=!0:(p.error_y||{}).visible||"tonexty"!==P&&"tozeroy"!==P&&(v.hasMarkers(p)||v.hasText(p))||(L.padded=!1,L.ppad=0),B&&("tozeroy"===P||"tonexty"===P&&(A||"v"===I))?N.tozero=!0:"tonextx"!==P&&"tozerox"!==P||(N.padded=!1),h&&(p._extremes[h]=f.findExtremes(T,y,L)),O&&(p._extremes[O]=f.findExtremes(_,w,N))}function o(g,p){if(v.hasMarkers(g)){var T,_=g.marker,y=1.6*(g.marker.sizeref||1);if(T="area"===g.marker.sizemode?function(h){return Math.max(Math.sqrt((h||0)/y),3)}:function(h){return Math.max((h||0)/y,3)},E.isArrayOrTypedArray(_.size)){var w={type:"linear"};f.setConvert(w);for(var m=w.makeCalcdata(g.marker,"size"),b=new Array(p),k=0;k<p;k++)b[k]=T(m[k]);return b}return T(_.size)}}function l(g,p){var T=s(p),_=g._firstScatter;_[T]||(_[T]=p.uid)}function s(g){var p=g.stackgroup;return g.xaxis+g.yaxis+g.type+(p?"-"+p:"")}function d(g,p,T,_){var y=g.stackgroup;if(y){var w=p._scatterStackOpts[T._id+_._id][y],m="v"===w.orientation?_:T;return"linear"===m.type||"log"===m.type?w:void 0}}ie.exports={calc:function(g,p){var T,_,y,w,m,b,k=g._fullLayout,h=p._xA=f.getFromId(g,p.xaxis||"x","x"),O=p._yA=f.getFromId(g,p.yaxis||"y","y"),A=h.makeCalcdata(p,"x"),I=O.makeCalcdata(p,"y"),P=S(p,h,"x",A),L=S(p,O,"y",I),N=P.vals,B=L.vals,W=p._length,j=new Array(W),Z=p.ids,V=d(p,k,h,O),q=!1;l(k,p);var G,H="x",ne="y";V?(E.pushUnique(V.traceIndices,p._expandedIndex),(T="v"===V.orientation)?(ne="s",G="x"):(H="s",G="y"),m="interpolate"===V.stackgaps):a(g,p,h,O,N,B,o(p,W));var X=!!p.xperiodalignment,$=!!p.yperiodalignment;for(_=0;_<W;_++){var Q=j[_]={},te=C(N[_]),re=C(B[_]);te&&re?(Q[H]=N[_],Q[ne]=B[_],X&&(Q.orig_x=A[_],Q.xEnd=P.ends[_],Q.xStart=P.starts[_]),$&&(Q.orig_y=I[_],Q.yEnd=L.ends[_],Q.yStart=L.starts[_])):V&&(T?te:re)?(Q[G]=T?N[_]:B[_],Q.gap=!0,m?(Q.s=M,q=!0):Q.s=0):Q[H]=Q[ne]=M,Z&&(Q.id=String(Z[_]))}if(i(j,p),c(g,p),u(j,p),V){for(_=0;_<j.length;)j[_][G]===M?j.splice(_,1):_++;if(E.sort(j,function(ge,xe){return ge[G]-xe[G]||ge.i-xe.i}),q){for(_=0;_<j.length-1&&j[_].gap;)_++;for((b=j[_].s)||(b=j[_].s=0),y=0;y<_;y++)j[y].s=b;for(w=j.length-1;w>_&&j[w].gap;)w--;for(b=j[w].s,y=j.length-1;y>w;y--)j[y].s=b;for(;_<w;)if(j[++_].gap){for(y=_+1;j[y].gap;)y++;for(var le=j[_-1][G],ue=j[_-1].s,he=(j[y].s-ue)/(j[y][G]-le);_<y;)j[_].s=ue+(j[_][G]-le)*he,_++}}}return j},calcMarkerSize:o,calcAxisExpansion:a,setFirstScatter:l,getStackOpts:d}},66279:function(ie,z,r){"use strict";var C=r(71828);ie.exports=function(E,f){C.isArrayOrTypedArray(f.selectedpoints)&&C.tagSelected(E,f)}},36922:function(ie,z,r){"use strict";var C=r(52075).hasColorscale,E=r(78803),f=r(34098);ie.exports=function(S,M){f.hasLines(M)&&C(M,"line")&&E(S,M,{vals:M.line.color,containerStr:"line",cLetter:"c"}),f.hasMarkers(M)&&(C(M,"marker")&&E(S,M,{vals:M.marker.color,containerStr:"marker",cLetter:"c"}),C(M,"marker.line")&&E(S,M,{vals:M.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},47581:function(ie){"use strict";ie.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},72626:function(ie,z,r){"use strict";var C=r(47761),E=r(11661).setGroupPositions;function f(S,M,v,c,i,u,a){i[c]=!0;var s,d,p,T,_,o={i:null,gap:!0,s:0};if(o[a]=v,S.splice(M,0,o),M&&v===S[M-1][a]){var l=S[M-1];o.s=l.s,o.i=l.i,o.gap=l.gap}else u&&(o.s=(p=a,T=(s=S)[(d=M)-1],(_=s[d+1])?T?T.s+(_.s-T.s)*(v-T[p])/(_[p]-T[p]):_.s:T.s));M||(S[0].t=S[1].t,S[0].trace=S[1].trace,delete S[1].t,delete S[1].trace)}ie.exports=function(S,M){"group"===S._fullLayout.scattermode&&function(G,H){for(var ne=H.xaxis,X=H.yaxis,$=G._fullLayout,Q=G._fullData,te=G.calcdata,re=[],le=[],ue=0;ue<Q.length;ue++){var he=Q[ue];!0===he.visible&&"scatter"===he.type&&he.xaxis===ne._id&&he.yaxis===X._id&&("h"===he.orientation?re.push(te[ue]):"v"===he.orientation&&le.push(te[ue]))}var ge={mode:$.scattermode,gap:$.scattergap};E(G,ne,X,le,ge),E(G,X,ne,re,ge)}(S,M);var v=M.xaxis,c=M.yaxis,u=S._fullLayout._scatterStackOpts[v._id+c._id];if(u){var a,o,l,s,d,g,p,T,_,y,w,m,b,k,h,O=S.calcdata;for(var A in u){var I=(y=u[A]).traceIndices;if(I.length){for(w="interpolate"===y.stackgaps,m=y.groupnorm,"v"===y.orientation?(b="x",k="y"):(b="y",k="x"),h=new Array(I.length),a=0;a<h.length;a++)h[a]=!1;g=O[I[0]];var P=new Array(g.length);for(a=0;a<g.length;a++)P[a]=g[a][b];for(a=1;a<I.length;a++){for(d=O[I[a]],o=l=0;o<d.length;o++){for(p=d[o][b];p>P[l]&&l<P.length;l++)f(d,o,P[l],a,h,w,b),o++;if(p!==P[l]){for(s=0;s<a;s++)f(O[I[s]],l,p,s,h,w,b);P.splice(l,0,p)}l++}for(;l<P.length;l++)f(d,o,P[l],a,h,w,b),o++}var L=P.length;for(o=0;o<g.length;o++){for(T=g[o][k]=g[o].s,a=1;a<I.length;a++)(d=O[I[a]])[0].trace._rawLength=d[0].trace._length,d[0].trace._length=L,d[o][k]=T+=d[o].s;if(m)for(_=("fraction"===m?T:T/100)||1,a=0;a<I.length;a++){var N=O[I[a]][o];N[k]/=_,N.sNorm=N.s/_}}for(a=0;a<I.length;a++){var B=(d=O[I[a]])[0].trace,W=C.calcMarkerSize(B,B._rawLength),j=Array.isArray(W);if(W&&h[a]||j){var Z=W;for(W=new Array(L),o=0;o<L;o++)W[o]=d[o].gap?0:j?Z[d[o].i]:Z}var V=new Array(L),q=new Array(L);for(o=0;o<L;o++)V[o]=d[o].x,q[o]=d[o].y;C.calcAxisExpansion(S,B,v,c,V,q,W),d[0].t.orientation=y.orientation}}}}}},34936:function(ie,z,r){"use strict";var C=r(71828),E=r(26125),f=r(82196);ie.exports=function(S,M){var c,i;function u(d){return C.coerce(c._input,c,f,d)}if("group"===M.scattermode)for(i=0;i<S.length;i++)"scatter"===(c=S[i]).type&&E(c._input,c,M,u);for(i=0;i<S.length;i++){var a=S[i];if("scatter"===a.type){var o=a.fill;if("none"!==o&&"toself"!==o&&(a.opacity=void 0,"tonexty"===o||"tonextx"===o))for(var l=i-1;l>=0;l--){var s=S[l];if("scatter"===s.type&&s.xaxis===a.xaxis&&s.yaxis===a.yaxis){s.opacity=void 0;break}}}}}},17438:function(ie,z,r){"use strict";var C=r(71828),E=r(73972),f=r(82196),S=r(47581),M=r(34098),v=r(67513),c=r(73927),i=r(565),u=r(49508),a=r(11058),o=r(94039),l=r(82410),s=r(28908),d=r(71828).coercePattern;ie.exports=function(g,p,T,_){function y(I,P){return C.coerce(g,p,f,I,P)}var w=v(g,p,_,y);if(w||(p.visible=!1),p.visible){c(g,p,_,y),y("xhoverformat"),y("yhoverformat");var m=i(g,p,_,y);"group"===_.scattermode&&void 0===p.orientation&&y("orientation","v");var b=!m&&w<S.PTS_LINESONLY?"lines+markers":"lines";y("text"),y("hovertext"),y("mode",b),M.hasLines(p)&&(a(g,p,T,_,y,{backoff:!0}),o(g,p,y),y("connectgaps"),y("line.simplify")),M.hasMarkers(p)&&u(g,p,T,_,y,{gradient:!0}),M.hasText(p)&&(y("texttemplate"),l(g,p,_,y));var k=[];(M.hasMarkers(p)||M.hasText(p))&&(y("cliponaxis"),y("marker.maxdisplayed"),k.push("points")),y("fill",m?m.fillDflt:"none"),"none"!==p.fill&&(s(g,p,T,y),M.hasLines(p)||o(g,p,y),d(y,"fillpattern",p.fillcolor,!1));var h=(p.line||{}).color,O=(p.marker||{}).color;"tonext"!==p.fill&&"toself"!==p.fill||k.push("fills"),y("hoveron",k.join("+")||"points"),"fills"!==p.hoveron&&y("hovertemplate");var A=E.getComponentMethod("errorbars","supplyDefaults");A(g,p,h||O||T,{axis:"y"}),A(g,p,h||O||T,{axis:"x",inherit:"y"}),C.coerceSelectionMarkerOpacity(p,y)}}},28908:function(ie,z,r){"use strict";var C=r(7901),E=r(71828).isArrayOrTypedArray;ie.exports=function(f,S,M,v){var c=!1;if(S.marker){var i=S.marker.color,u=(S.marker.line||{}).color;i&&!E(i)?c=i:u&&!E(u)&&(c=u)}v("fillcolor",C.addOpacity((S.line||{}).color||c||M,.5))}},8225:function(ie,z,r){"use strict";var C=r(89298);ie.exports=function(E,f,S){var M={},v={_fullLayout:S},c=C.getFromTrace(v,f,"x"),i=C.getFromTrace(v,f,"y"),u=E.orig_x;void 0===u&&(u=E.x);var a=E.orig_y;return void 0===a&&(a=E.y),M.xLabel=C.tickText(c,c.c2l(u),!0).text,M.yLabel=C.tickText(i,i.c2l(a),!0).text,M}},34603:function(ie,z,r){"use strict";var C=r(7901),E=r(34098);ie.exports=function(f,S){var M,v;if("lines"===f.mode)return(M=f.line.color)&&C.opacity(M)?M:f.fillcolor;if("none"===f.mode)return f.fill?f.fillcolor:"";var c=S.mcc||(f.marker||{}).color,i=S.mlcc||((f.marker||{}).line||{}).color;return(v=c&&C.opacity(c)?c:i&&C.opacity(i)&&(S.mlw||((f.marker||{}).line||{}).width)?i:"")?C.opacity(v)<.3?C.addOpacity(v,.3):v:(M=(f.line||{}).color)&&C.opacity(M)&&E.hasLines(f)&&f.line.width?M:f.fillcolor}},26125:function(ie,z,r){"use strict";var C=r(99082).getAxisGroup;ie.exports=function(E,f,S,M){var v=f.orientation,i=C(S,f[{v:"x",h:"y"}[v]+"axis"])+v,u=S._alignmentOpts||{},a=M("alignmentgroup"),o=u[i];o||(o=u[i]={});var l=o[a];l?l.traces.push(f):l=o[a]={traces:[f],alignmentIndex:Object.keys(o).length,offsetGroups:{}};var s=M("offsetgroup"),d=l.offsetGroups,g=d[s];s&&(g||(g=d[s]={offsetIndex:Object.keys(d).length}),f._offsetIndex=g.offsetIndex)}},33720:function(ie,z,r){"use strict";var C=r(71828),E=r(30211),f=r(73972),S=r(34603),M=r(7901),v=C.fillText;ie.exports=function(c,i,u,a){var o=c.cd,l=o[0].trace,s=c.xa,d=c.ya,g=s.c2p(i),p=d.c2p(u),T=[g,p],_=l.hoveron||"",y=-1!==l.mode.indexOf("markers")?3:.5,w=!!l.xperiodalignment,m=!!l.yperiodalignment;if(-1!==_.indexOf("points")){var b=function(ke){var Ae=Math.max(y,ke.mrc||0),pe=s.c2p(ke.x)-g,ye=d.c2p(ke.y)-p;return Math.max(Math.sqrt(pe*pe+ye*ye)-Ae,1-y/Ae)},k=E.getDistanceFunction(a,function(ke){if(w){var Ae=s.c2p(ke.xStart),pe=s.c2p(ke.xEnd);return g>=Math.min(Ae,pe)&&g<=Math.max(Ae,pe)?0:1/0}var ye=Math.max(3,ke.mrc||0),Ne=1-1/ye,be=Math.abs(s.c2p(ke.x)-g);return be<ye?Ne*be/ye:be-ye+Ne},function(ke){if(m){var Ae=d.c2p(ke.yStart),pe=d.c2p(ke.yEnd);return p>=Math.min(Ae,pe)&&p<=Math.max(Ae,pe)?0:1/0}var ye=Math.max(3,ke.mrc||0),Ne=1-1/ye,be=Math.abs(d.c2p(ke.y)-p);return be<ye?Ne*be/ye:be-ye+Ne},b);if(E.getClosest(o,k,c),!1!==c.index){var h=o[c.index],O=s.c2p(h.x,!0),A=d.c2p(h.y,!0),I=h.mrc||1;c.index=h.i;var P=o[0].t.orientation,L=P&&(h.sNorm||h.s),N="h"===P?L:void 0!==h.orig_x?h.orig_x:h.x,B="v"===P?L:void 0!==h.orig_y?h.orig_y:h.y;return C.extendFlat(c,{color:S(l,h),x0:O-I,x1:O+I,xLabelVal:N,y0:A-I,y1:A+I,yLabelVal:B,spikeDistance:b(h),hovertemplate:l.hovertemplate}),v(h,l,c),f.getComponentMethod("errorbars","hoverInfo")(h,l,c),[c]}}if(-1!==_.indexOf("fills")&&l._polygons){var W,j,Z,V,q,G,ne,X,$=l._polygons,Q=[],te=!1,re=1/0,le=-1/0,ue=1/0,he=-1/0;for(W=0;W<$.length;W++)(Z=$[W]).contains(T)&&(te=!te,Q.push(Z),ue=Math.min(ue,Z.ymin),he=Math.max(he,Z.ymax));if(te){var ge=((ue=Math.max(ue,0))+(he=Math.min(he,d._length)))/2;for(W=0;W<Q.length;W++)for(V=Q[W].pts,j=1;j<V.length;j++)(ne=V[j-1][1])>ge!=(X=V[j][1])>=ge&&(G=V[j-1][0],X-ne&&(q=G+(V[j][0]-G)*(ge-ne)/(X-ne),re=Math.min(re,q),le=Math.max(le,q)));re=Math.max(re,0),le=Math.min(le,s._length);var xe=M.defaultLine;return M.opacity(l.fillcolor)?xe=l.fillcolor:M.opacity((l.line||{}).color)&&(xe=l.line.color),C.extendFlat(c,{distance:c.maxHoverDistance,x0:re,x1:le,y0:ge,y1:ge,color:xe,hovertemplate:!1}),delete c.index,c.text=l.text&&!Array.isArray(l.text)?String(l.text):l.name,[c]}}}},67368:function(ie,z,r){"use strict";var C=r(34098);ie.exports={hasLines:C.hasLines,hasMarkers:C.hasMarkers,hasText:C.hasText,isBubble:C.isBubble,attributes:r(82196),layoutAttributes:r(21479),supplyDefaults:r(17438),crossTraceDefaults:r(34936),supplyLayoutDefaults:r(79334),calc:r(47761).calc,crossTraceCalc:r(72626),arraysToCalcdata:r(75225),plot:r(32663),colorbar:r(4898),formatLabels:r(8225),style:r(16296).style,styleOnSelect:r(16296).styleOnSelect,hoverPoints:r(33720),selectPoints:r(98002),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:r(93612),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},21479:function(ie){"use strict";ie.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},79334:function(ie,z,r){"use strict";var C=r(71828),E=r(21479);ie.exports=function(f,S){"group"===S.scattermode&&C.coerce(f,S,E,"scattergap","group"===S.barmode?S.bargap:.2)}},11058:function(ie,z,r){"use strict";var C=r(71828).isArrayOrTypedArray,E=r(52075).hasColorscale,f=r(1586);ie.exports=function(S,M,v,c,i,u){u||(u={});var a=(S.marker||{}).color;i("line.color",v),E(S,"line")?f(S,M,c,i,{prefix:"line.",cLetter:"c"}):i("line.color",!C(a)&&a||v),i("line.width"),u.noDash||i("line.dash"),u.backoff&&i("line.backoff")}},34621:function(ie,z,r){"use strict";var C=r(91424),E=r(50606),f=E.BADNUM,S=E.LOG_CLIP,M=S+.5,v=S-.5,c=r(71828),i=c.segmentsIntersect,u=c.constrain,a=r(47581);ie.exports=function(o,l){var s,d,g,p,T,_,y,w,m,b,k,h,O,A,I,P,L,N,B=l.trace||{},W=l.xaxis,j=l.yaxis,Z="log"===W.type,V="log"===j.type,q=W._length,G=j._length,H=l.backoff,ne=B.marker,X=l.connectGaps,$=l.baseTolerance,Q=l.shape,te="linear"===Q,re=B.fill&&"none"!==B.fill,le=[],ue=a.minTolerance,he=o.length,ge=new Array(he),xe=0;function ke(Gt){var et=o[Gt];if(!et)return!1;var nt=l.linearized?W.l2p(et.x):W.c2p(et.x),$e=l.linearized?j.l2p(et.y):j.c2p(et.y);if(nt===f){if(Z&&(nt=W.c2p(et.x,!0)),nt===f)return!1;V&&$e===f&&(nt*=Math.abs(W._m*G*(W._m>0?M:v)/(j._m*q*(j._m>0?M:v)))),nt*=1e3}if($e===f){if(V&&($e=j.c2p(et.y,!0)),$e===f)return!1;$e*=1e3}return[nt,$e]}function Ae(Gt,et,nt,$e){var ot=nt-Gt,dt=$e-et,Le=.5-Gt,Ge=.5-et,st=ot*ot+dt*dt,vt=ot*Le+dt*Ge;if(vt>0&&vt<st){var bt=Le*dt-Ge*ot;if(bt*bt<st)return!0}}function pe(Gt,et){var nt=Gt[0]/q,$e=Gt[1]/G,ot=Math.max(0,-nt,nt-1,-$e,$e-1);return ot&&void 0!==L&&Ae(nt,$e,L,N)&&(ot=0),ot&&et&&Ae(nt,$e,et[0]/q,et[1]/G)&&(ot=0),(1+a.toleranceGrowth*ot)*$}function ye(Gt,et){var nt=Gt[0]-et[0],$e=Gt[1]-et[1];return Math.sqrt(nt*nt+$e*$e)}var Ne,be,Ee,Oe,De,oe,de,_e=a.maxScreensAway,Me=-q*_e,Pe=q*(1+_e),Ue=-G*_e,Be=G*(1+_e),Ve=[[Me,Ue,Pe,Ue],[Pe,Ue,Pe,Be],[Pe,Be,Me,Be],[Me,Be,Me,Ue]];function ve(Gt){if(Gt[0]<Me||Gt[0]>Pe||Gt[1]<Ue||Gt[1]>Be)return[u(Gt[0],Me,Pe),u(Gt[1],Ue,Be)]}function Te(Gt,et){return Gt[0]===et[0]&&(Gt[0]===Me||Gt[0]===Pe)||Gt[1]===et[1]&&(Gt[1]===Ue||Gt[1]===Be)||void 0}function Ce(Gt,et,nt){return function($e,ot){var dt=ve($e),Le=ve(ot),Ge=[];if(dt&&Le&&Te(dt,Le))return Ge;dt&&Ge.push(dt),Le&&Ge.push(Le);var st=2*c.constrain(($e[Gt]+ot[Gt])/2,et,nt)-((dt||$e)[Gt]+(Le||ot)[Gt]);return st&&((dt&&Le?st>0==dt[Gt]>Le[Gt]?dt:Le:dt||Le)[Gt]+=st),Ge}}function We(Gt){var et=Gt[0],nt=Gt[1],$e=et===ge[xe-1][0],ot=nt===ge[xe-1][1];if(!$e||!ot)if(xe>1){var dt=et===ge[xe-2][0],Le=nt===ge[xe-2][1];$e&&(et===Me||et===Pe)&&dt?Le?xe--:ge[xe-1]=Gt:ot&&(nt===Ue||nt===Be)&&Le?dt?xe--:ge[xe-1]=Gt:ge[xe++]=Gt}else ge[xe++]=Gt}function Ke(Gt){ge[xe-1][0]!==Gt[0]&&ge[xe-1][1]!==Gt[1]&&We([Ee,Oe]),We(Gt),De=null,Ee=Oe=0}"linear"===Q||"spline"===Q?de=function(Gt,et){for(var nt=[],$e=0,ot=0;ot<4;ot++){var dt=Ve[ot],Le=i(Gt[0],Gt[1],et[0],et[1],dt[0],dt[1],dt[2],dt[3]);Le&&(!$e||Math.abs(Le.x-nt[0][0])>1||Math.abs(Le.y-nt[0][1])>1)&&(Le=[Le.x,Le.y],$e&&ye(Le,Gt)<ye(nt[0],Gt)?nt.unshift(Le):nt.push(Le),$e++)}return nt}:"hv"===Q||"vh"===Q?de=function(Gt,et){var nt=[],$e=ve(Gt),ot=ve(et);return $e&&ot&&Te($e,ot)||($e&&nt.push($e),ot&&nt.push(ot)),nt}:"hvh"===Q?de=Ce(0,Me,Pe):"vhv"===Q&&(de=Ce(1,Ue,Be));var Je=c.isArrayOrTypedArray(ne);function ht(Gt){if(Gt&&H&&(Gt.i=s,Gt.d=o,Gt.trace=B,Gt.marker=Je?ne[Gt.i]:ne,Gt.backoff=H),L=Gt[0]/q,N=Gt[1]/G,be=Gt[1]<Ue?Ue:Gt[1]>Be?Be:0,(Ne=Gt[0]<Me?Me:Gt[0]>Pe?Pe:0)||be){if(xe)if(De){var et=de(De,Gt);et.length>1&&(Ke(et[0]),ge[xe++]=et[1])}else oe=de(ge[xe-1],Gt)[0],ge[xe++]=oe;else ge[xe++]=[Ne||Gt[0],be||Gt[1]];var nt=ge[xe-1];Ne&&be&&(nt[0]!==Ne||nt[1]!==be)?(De&&(Ee!==Ne&&Oe!==be?We(Ee&&Oe?(dt=(ot=Gt)[0]-($e=De)[0],Le=(ot[1]-$e[1])/dt,($e[1]*ot[0]-ot[1]*$e[0])/dt>0?[Le>0?Me:Pe,Be]:[Le>0?Pe:Me,Ue]):[Ee||Ne,Oe||be]):Ee&&Oe&&We([Ee,Oe])),We([Ne,be])):Ee-Ne&&Oe-be&&We([Ne||Ee,be||Oe]),De=Gt,Ee=Ne,Oe=be}else De&&Ke(de(De,Gt)[0]),ge[xe++]=Gt;var $e,ot,dt,Le}for(s=0;s<he;s++)if(d=ke(s)){for(xe=0,De=null,ht(d),s++;s<he;s++){if(!(p=ke(s))){if(X)continue;break}if(te&&l.simplify){var ft=ke(s+1);if(b=ye(p,d),re&&(0===xe||xe===he-1)||!(b<pe(p,ft)*ue)){for(w=[(p[0]-d[0])/b,(p[1]-d[1])/b],T=d,k=b,h=A=I=0,y=!1,g=p,s++;s<o.length;s++){if(_=ft,ft=ke(s+1),!_){if(X)continue;break}if(P=(m=[_[0]-d[0],_[1]-d[1]])[0]*w[1]-m[1]*w[0],A=Math.min(A,P),(I=Math.max(I,P))-A>pe(_,ft))break;g=_,(O=m[0]*w[0]+m[1]*w[1])>k?(k=O,p=_,y=!1):O<h&&(h=O,T=_,y=!0)}if(y?(ht(p),g!==T&&ht(T)):(T!==d&&ht(T),g!==p&&ht(p)),ht(g),s>=o.length||!_)break;ht(_),d=_}}else ht(p)}De&&We([Ee||De[0],Oe||De[1]]),le.push(ge.slice(0,xe))}var mt=Q.slice(Q.length-1);if(H&&"h"!==mt&&"v"!==mt){for(var At=!1,Rt=-1,It=[],Pt=0;Pt<le.length;Pt++)for(var Bt=0;Bt<le[Pt].length-1;Bt++){var Ut=le[Pt][Bt],Vt=le[Pt][Bt+1],tn=C.applyBackoff(Vt,Ut);tn[0]===Vt[0]&&tn[1]===Vt[1]||(At=!0),It[Rt+1]||(It[++Rt]=[Ut,[tn[0],tn[1]]])}return At?It:le}return le}},94039:function(ie){"use strict";ie.exports=function(z,r,C){"spline"===C("line.shape")&&C("line.smoothing")}},68687:function(ie){"use strict";var z={tonextx:1,tonexty:1,tonext:1};ie.exports=function(r,C,E){var f,S,M,v,c,i={},u=!1,a=-1,o=0,l=-1;for(S=0;S<E.length;S++)(M=(f=E[S][0].trace).stackgroup||"")?M in i?c=i[M]:(c=i[M]=o,o++):f.fill in z&&l>=0?c=l:(c=l=o,o++),c<a&&(u=!0),f._groupIndex=a=c;var s=E.slice();u&&s.sort(function(g,p){var T=g[0].trace,_=p[0].trace;return T._groupIndex-_._groupIndex||T.index-_.index});var d={};for(S=0;S<s.length;S++)M=(f=s[S][0].trace).stackgroup||"",!0===f.visible?(f._nexttrace=null,f.fill in z&&(f._prevtrace=(v=d[M])||null,v&&(v._nexttrace=f)),f._ownfill=f.fill&&("tozero"===f.fill.substr(0,6)||"toself"===f.fill||"to"===f.fill.substr(0,2)&&!f._prevtrace),d[M]=f):f._prevtrace=f._nexttrace=f._ownfill=null;return s}},39984:function(ie,z,r){"use strict";var C=r(92770);ie.exports=function(E,f){f||(f=2);var S=E.marker,M=S.sizeref||1,v=S.sizemin||0,c="area"===S.sizemode?function(i){return Math.sqrt(i/M)}:function(i){return i/M};return function(i){var u=c(i/f);return C(u)&&u>0?Math.max(u,v):0}}},4898:function(ie){"use strict";ie.exports={container:"marker",min:"cmin",max:"cmax"}},49508:function(ie,z,r){"use strict";var C=r(7901),E=r(52075).hasColorscale,f=r(1586),S=r(34098);ie.exports=function(M,v,c,i,u,a){var o=S.isBubble(M),l=(M.line||{}).color;a=a||{},l&&(c=l),u("marker.symbol"),u("marker.opacity",o?.7:1),u("marker.size"),a.noAngle||(u("marker.angle"),a.noAngleRef||u("marker.angleref"),a.noStandOff||u("marker.standoff")),u("marker.color",c),E(M,"marker")&&f(M,v,i,u,{prefix:"marker.",cLetter:"c"}),a.noSelect||(u("selected.marker.color"),u("unselected.marker.color"),u("selected.marker.size"),u("unselected.marker.size")),a.noLine||(u("marker.line.color",l&&!Array.isArray(l)&&v.marker.color!==l?l:o?C.background:C.defaultLine),E(M,"marker.line")&&f(M,v,i,u,{prefix:"marker.line.",cLetter:"c"}),u("marker.line.width",o?1:0)),o&&(u("marker.sizeref"),u("marker.sizemin"),u("marker.sizemode")),a.gradient&&"none"!==u("marker.gradient.type")&&u("marker.gradient.color")}},73927:function(ie,z,r){"use strict";var C=r(71828).dateTick0,E=r(50606).ONEWEEK;function f(S,M){return C(M,S%E==0?1:0)}ie.exports=function(S,M,v,c,i){if(i||(i={x:!0,y:!0}),i.x){var u=c("xperiod");u&&(c("xperiod0",f(u,M.xcalendar)),c("xperiodalignment"))}if(i.y){var a=c("yperiod");a&&(c("yperiod0",f(a,M.ycalendar)),c("yperiodalignment"))}}},32663:function(ie,z,r){"use strict";var C=r(39898),E=r(73972),f=r(71828),S=f.ensureSingle,M=f.identity,v=r(91424),c=r(34098),i=r(34621),u=r(68687),a=r(61082).tester;function o(l,s,d,g,p,T,_){var y,w=l._context.staticPlot;!function(de,_e,Me,Pe,Ue){var Be=Me.xaxis,Ve=Me.yaxis,ve=C.extent(f.simpleMap(Be.range,Be.r2c)),Te=C.extent(f.simpleMap(Ve.range,Ve.r2c)),Ce=Pe[0].trace;if(c.hasMarkers(Ce)){var We=Ce.marker.maxdisplayed;if(0!==We){var Ke=Pe.filter(function(mt){return mt.x>=ve[0]&&mt.x<=ve[1]&&mt.y>=Te[0]&&mt.y<=Te[1]}),Je=Math.ceil(Ke.length/We),ht=0;Ue.forEach(function(mt,At){var Rt=mt[0].trace;c.hasMarkers(Rt)&&Rt.marker.maxdisplayed>0&&At<_e&&ht++});var ft=Math.round(ht*Je/3+Math.floor(ht/3)*Je/7.1);Pe.forEach(function(mt){delete mt.vis}),Ke.forEach(function(mt,At){0===Math.round((At+ft)%Je)&&(mt.vis=!0)})}}}(0,s,d,g,p);var m=!!_&&_.duration>0;function b(de){return m?de.transition():de}var k=d.xaxis,h=d.yaxis,O=g[0].trace,A=O.line,I=C.select(T),P=S(I,"g","errorbars"),L=S(I,"g","lines"),N=S(I,"g","points"),B=S(I,"g","text");if(E.getComponentMethod("errorbars","plot")(l,P,d,_),!0===O.visible){var W,j;b(I).style("opacity",O.opacity);var Z=O.fill.charAt(O.fill.length-1);"x"!==Z&&"y"!==Z&&(Z=""),g[0][d.isRangePlot?"nodeRangePlot3":"node3"]=I;var V,q,G="",H=[],ne=O._prevtrace;ne&&(G=ne._prevRevpath||"",j=ne._nextFill,H=ne._polygons);var X,$,Q,te,re,le,ue,he="",ge="",xe=[],ke=f.noop;if(W=O._ownFill,c.hasLines(O)||"none"!==O.fill){for(j&&j.datum(g),-1!==["hv","vh","hvh","vhv"].indexOf(A.shape)?(X=v.steps(A.shape),$=v.steps(A.shape.split("").reverse().join(""))):X=$="spline"===A.shape?function(de){var _e=de[de.length-1];return de.length>1&&de[0][0]===_e[0]&&de[0][1]===_e[1]?v.smoothclosed(de.slice(1),A.smoothing):v.smoothopen(de,A.smoothing)}:function(de){return"M"+de.join("L")},Q=function(de){return $(de.reverse())},xe=i(g,{xaxis:k,yaxis:h,trace:O,connectGaps:O.connectgaps,baseTolerance:Math.max(A.width||1,3)/4,shape:A.shape,backoff:A.backoff,simplify:A.simplify,fill:O.fill}),ue=O._polygons=new Array(xe.length),y=0;y<xe.length;y++)O._polygons[y]=a(xe[y]);xe.length&&(te=xe[0][0],le=(re=xe[xe.length-1])[re.length-1]),ke=function(de){return function(_e){if(V=X(_e),q=Q(_e),he?Z?(he+="L"+V.substr(1),ge=q+"L"+ge.substr(1)):(he+="Z"+V,ge=q+"Z"+ge):(he=V,ge=q),c.hasLines(O)){var Me=C.select(this);if(Me.datum(g),de)b(Me.style("opacity",0).attr("d",V).call(v.lineGroupStyle)).style("opacity",1);else{var Pe=b(Me);Pe.attr("d",V),v.singleLineStyle(g,Pe)}}}}}var Ae=L.selectAll(".js-line").data(xe);b(Ae.exit()).style("opacity",0).remove(),Ae.each(ke(!1)),Ae.enter().append("path").classed("js-line",!0).style("vector-effect",w?"none":"non-scaling-stroke").call(v.lineGroupStyle).each(ke(!0)),v.setClipUrl(Ae,d.layerClipId,l),xe.length?(W?(W.datum(g),te&&le&&(Z?("y"===Z?te[1]=le[1]=h.c2p(0,!0):"x"===Z&&(te[0]=le[0]=k.c2p(0,!0)),b(W).attr("d","M"+le+"L"+te+"L"+he.substr(1)).call(v.singleFillStyle,l)):b(W).attr("d",he+"Z").call(v.singleFillStyle,l))):j&&("tonext"===O.fill.substr(0,6)&&he&&G?("tonext"===O.fill?b(j).attr("d",he+"Z"+G+"Z").call(v.singleFillStyle,l):b(j).attr("d",he+"L"+G.substr(1)+"Z").call(v.singleFillStyle,l),O._polygons=O._polygons.concat(H)):(ye(j),O._polygons=null)),O._prevRevpath=ge,O._prevPolygons=ue):(W?ye(W):j&&ye(j),O._polygons=O._prevRevpath=O._prevPolygons=null),N.datum(g),B.datum(g),function(de,_e,Me){var Pe,Ue=Me[0].trace,Be=c.hasMarkers(Ue),Ve=c.hasText(Ue),ve=function De(de){if(de.ids)return Oe}(Ue),Te=oe,Ce=oe;if(Be||Ve){var We=M,Ke=Ue.stackgroup,Je=Ke&&"infer zero"===l._fullLayout._scatterStackOpts[k._id+h._id][Ke].stackgaps;Ue.marker.maxdisplayed||Ue._needsCull?We=Je?be:Ne:Ke&&!Je&&(We=Ee),Be&&(Te=We),Ve&&(Ce=We)}var ht,ft=(Pe=de.selectAll("path.point").data(Te,ve)).enter().append("path").classed("point",!0);m&&ft.call(v.pointStyle,Ue,l).call(v.translatePoints,k,h).style("opacity",0).transition().style("opacity",1),Pe.order(),Be&&(ht=v.makePointStyleFns(Ue)),Pe.each(function(mt){var At=C.select(this),Rt=b(At);v.translatePoint(mt,Rt,k,h)?(v.singlePointStyle(mt,Rt,Ue,ht,l),d.layerClipId&&v.hideOutsideRangePoint(mt,Rt,k,h,Ue.xcalendar,Ue.ycalendar),Ue.customdata&&At.classed("plotly-customdata",null!=mt.data)):Rt.remove()}),m?Pe.exit().transition().style("opacity",0).remove():Pe.exit().remove(),(Pe=_e.selectAll("g").data(Ce,ve)).enter().append("g").classed("textpoint",!0).append("text"),Pe.order(),Pe.each(function(mt){var At=C.select(this),Rt=b(At.select("text"));v.translatePoint(mt,Rt,k,h)?d.layerClipId&&v.hideOutsideRangePoint(mt,At,k,h,Ue.xcalendar,Ue.ycalendar):At.remove()}),Pe.selectAll("text").call(v.textPointStyle,Ue,l).each(function(mt){var At=k.c2p(mt.x),Rt=h.c2p(mt.y);C.select(this).selectAll("tspan.line").each(function(){b(C.select(this)).attr({x:At,y:Rt})})}),Pe.exit().remove()}(N,B,g);var pe=!1===O.cliponaxis?null:d.layerClipId;v.setClipUrl(N,pe,l),v.setClipUrl(B,pe,l)}function ye(de){b(de).attr("d","M0,0Z")}function Ne(de){return de.filter(function(_e){return!_e.gap&&_e.vis})}function be(de){return de.filter(function(_e){return _e.vis})}function Ee(de){return de.filter(function(_e){return!_e.gap})}function Oe(de){return de.id}function oe(){return!1}}ie.exports=function(l,s,d,g,p,T){var _,y,k,O,w=!p,m=!!p&&p.duration>0,b=u(l,s,d);(_=g.selectAll("g.trace").data(b,function(k){return k[0].trace.uid})).enter().append("g").attr("class",function(k){return"trace scatter trace"+k[0].trace.uid}).style("stroke-miterlimit",2),_.order(),k=l,O=s,_.each(function(A){var I=S(C.select(this),"g","fills");v.setClipUrl(I,O.layerClipId,k);var P=A[0].trace,L=[];P._ownfill&&L.push("_ownFill"),P._nexttrace&&L.push("_nextFill");var N=I.selectAll("g").data(L,M);N.enter().append("g"),N.exit().each(function(B){P[B]=null}).remove(),N.order().each(function(B){P[B]=S(C.select(this),"path","js-fill")})}),m?(T&&(y=T()),C.transition().duration(p.duration).ease(p.easing).each("end",function(){y&&y()}).each("interrupt",function(){y&&y()}).each(function(){g.selectAll("g.trace").each(function(k,h){o(l,h,s,k,b,this,p)})})):_.each(function(k,h){o(l,h,s,k,b,this,p)}),w&&_.exit().remove(),g.selectAll("path:not([d])").remove()}},98002:function(ie,z,r){"use strict";var C=r(34098);ie.exports=function(E,f){var S,M,v,c,i=E.cd,u=E.xaxis,a=E.yaxis,o=[],l=i[0].trace;if(!C.hasMarkers(l)&&!C.hasText(l))return[];if(!1===f)for(S=0;S<i.length;S++)i[S].selected=0;else for(S=0;S<i.length;S++)v=u.c2p((M=i[S]).x),c=a.c2p(M.y),null!==M.i&&f.contains([v,c],!1,S,E)?(o.push({pointNumber:M.i,x:u.c2d(M.x),y:a.c2d(M.y)}),M.selected=1):M.selected=0;return o}},565:function(ie){"use strict";var z=["orientation","groupnorm","stackgaps"];ie.exports=function(r,C,E,f){var S=E._scatterStackOpts,M=f("stackgroup");if(M){var v=C.xaxis+C.yaxis,c=S[v];c||(c=S[v]={});var i=c[M],u=!1;i?i.traces.push(C):(i=c[M]={traceIndices:[],traces:[C]},u=!0);for(var a={orientation:C.x&&!C.y?"h":"v"},o=0;o<z.length;o++){var l=z[o],s=l+"Found";if(!i[s]){var d=void 0!==r[l],g="orientation"===l;if((d||u)&&(i[l]=f(l,a[l]),g&&(i.fillDflt="h"===i[l]?"tonextx":"tonexty"),d&&(i[s]=!0,!u&&(delete i.traces[0][l],g))))for(var p=0;p<i.traces.length-1;p++){var T=i.traces[p];T._input.fill!==T.fill&&(T.fill=i.fillDflt)}}}return i}}},16296:function(ie,z,r){"use strict";var C=r(39898),E=r(91424),f=r(73972);function S(v,c,i){E.pointStyle(v.selectAll("path.point"),c,i)}function M(v,c,i){E.textPointStyle(v.selectAll("text"),c,i)}ie.exports={style:function(v){var c=C.select(v).selectAll("g.trace.scatter");c.style("opacity",function(i){return i[0].trace.opacity}),c.selectAll("g.points").each(function(i){S(C.select(this),i.trace||i[0].trace,v)}),c.selectAll("g.text").each(function(i){M(C.select(this),i.trace||i[0].trace,v)}),c.selectAll("g.trace path.js-line").call(E.lineGroupStyle),c.selectAll("g.trace path.js-fill").call(E.fillGroupStyle,v),f.getComponentMethod("errorbars","style")(c)},stylePoints:S,styleText:M,styleOnSelect:function(v,c,i){var u=c[0].trace;u.selectedpoints?(E.selectedPointStyle(i.selectAll("path.point"),u),E.selectedTextStyle(i.selectAll("text"),u)):(S(i,u,v),M(i,u,v))}}},34098:function(ie,z,r){"use strict";var C=r(71828);ie.exports={hasLines:function(E){return E.visible&&E.mode&&-1!==E.mode.indexOf("lines")},hasMarkers:function(E){return E.visible&&(E.mode&&-1!==E.mode.indexOf("markers")||"splom"===E.type)},hasText:function(E){return E.visible&&E.mode&&-1!==E.mode.indexOf("text")},isBubble:function(E){return C.isPlainObject(E.marker)&&C.isArrayOrTypedArray(E.marker.size)}}},82410:function(ie,z,r){"use strict";var C=r(71828);ie.exports=function(E,f,S,M,v){v=v||{},M("textposition"),C.coerceFont(M,"textfont",S.font),v.noSelect||(M("selected.textfont.color"),M("unselected.textfont.color"))}},67513:function(ie,z,r){"use strict";var C=r(71828),E=r(73972);ie.exports=function(f,S,M,v){var c,i=v("x"),u=v("y");if(E.getComponentMethod("calendars","handleTraceDefaults")(f,S,["x","y"],M),i){var a=C.minRowLength(i);u?c=Math.min(a,C.minRowLength(u)):(c=a,v("y0"),v("dy"))}else{if(!u)return 0;c=C.minRowLength(u),v("x0"),v("dx")}return S._length=c,c}},44542:function(ie,z,r){"use strict";var C=r(82196),E=r(50693),f=r(12663).axisHoverFormat,S=r(5386).f,M=r(5386).s,v=r(9012),c=r(29659),i=r(87381),u=r(1426).extendFlat,a=r(30962).overrideAll,o=r(78607),s=C.marker,d=s.line,g=u({width:C.line.width,dash:{valType:"enumerated",values:o(c),dflt:"solid"}},E("line")),p=ie.exports=a({x:C.x,y:C.y,z:{valType:"data_array"},text:u({},C.text,{}),texttemplate:M({},{}),hovertext:u({},C.hovertext,{}),hovertemplate:S(),xhoverformat:f("x"),yhoverformat:f("y"),zhoverformat:f("z"),mode:u({},C.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},y:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},z:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}}},connectgaps:C.connectgaps,line:g,marker:u({symbol:{valType:"enumerated",values:o(i),dflt:"circle",arrayOk:!0},size:u({},s.size,{dflt:8}),sizeref:s.sizeref,sizemin:s.sizemin,sizemode:s.sizemode,opacity:u({},s.opacity,{arrayOk:!1}),colorbar:s.colorbar,line:u({width:u({},d.width,{arrayOk:!1})},E("marker.line"))},E("marker")),textposition:u({},C.textposition,{dflt:"top center"}),textfont:{color:C.textfont.color,size:C.textfont.size,family:u({},C.textfont.family,{arrayOk:!1})},opacity:v.opacity,hoverinfo:u({},v.hoverinfo)},"calc","nested");p.x.editType=p.y.editType=p.z.editType="calc+clearAxisTypes"},36563:function(ie,z,r){"use strict";var C=r(75225),E=r(36922);ie.exports=function(f,S){var M=[{x:!1,y:!1,trace:S,t:{}}];return C(M,S),E(f,S),M}},67336:function(ie,z,r){"use strict";var C=r(73972);function E(f,S,M,v){if(!S||!S.visible)return null;for(var c=C.getComponentMethod("errorbars","makeComputeError")(S),i=new Array(f.length),u=0;u<f.length;u++){var a=c(+f[u],u);if("log"===v.type){var o=v.c2l(f[u]),l=f[u]-a[0],s=f[u]+a[1];if(i[u]=[(v.c2l(l,!0)-o)*M,(v.c2l(s,!0)-o)*M],l>0){var d=v.c2l(l);v._lowerLogErrorBound||(v._lowerLogErrorBound=d),v._lowerErrorBound=Math.min(v._lowerLogErrorBound,d)}}else i[u]=[-a[0]*M,a[1]*M]}return i}ie.exports=function(f,S,M){var v=[E(f.x,f.error_x,S[0],M.xaxis),E(f.y,f.error_y,S[1],M.yaxis),E(f.z,f.error_z,S[2],M.zaxis)],c=function(s){for(var d=0;d<s.length;d++)if(s[d])return s[d].length;return 0}(v);if(0===c)return null;for(var i=new Array(c),u=0;u<c;u++){for(var a=[[0,0,0],[0,0,0]],o=0;o<3;o++)if(v[o])for(var l=0;l<2;l++)a[l][o]=v[o][u][l];i[u]=a}return i}},58925:function(ie,z,r){"use strict";var C=r(9330).gl_line3d,E=r(9330).gl_scatter3d,f=r(9330).gl_error3d,S=r(9330).gl_mesh3d,M=r(9330).delaunay_triangulate,v=r(71828),c=r(78614),i=r(81697).formatColor,u=r(39984),a=r(29659),o=r(87381),l=r(89298),s=r(23469).appendArrayPointValue,d=r(67336);function g(h,O){this.scene=h,this.uid=O,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var p=g.prototype;function T(h){return null==h?0:h.indexOf("left")>-1?-1:h.indexOf("right")>-1?1:0}function _(h){return null==h?0:h.indexOf("top")>-1?-1:h.indexOf("bottom")>-1?1:0}function y(h,O){return O(4*h)}function w(h){return o[h]}function m(h,O,A,I,P){var L=null;if(v.isArrayOrTypedArray(h)){L=[];for(var N=0;N<O;N++)L[N]=void 0===h[N]?I:A(h[N],P)}else L=A(h,v.identity);return L}function b(h){if(v.isArrayOrTypedArray(h)){var O=h[0];return v.isArrayOrTypedArray(O)&&(h=O),"rgb("+h.slice(0,3).map(function(A){return Math.round(255*A)})+")"}return null}function k(h){return v.isArrayOrTypedArray(h)?4===h.length&&"number"==typeof h[0]?b(h):h.map(b):null}p.handlePick=function(h){if(h.object&&(h.object===this.linePlot||h.object===this.delaunayMesh||h.object===this.textMarkers||h.object===this.scatterPlot)){var O=h.index=h.data.index;return h.object.highlight&&h.object.highlight(null),this.scatterPlot&&(h.object=this.scatterPlot,this.scatterPlot.highlight(h.data)),h.textLabel="",this.textLabels&&(Array.isArray(this.textLabels)?(this.textLabels[O]||0===this.textLabels[O])&&(h.textLabel=this.textLabels[O]):h.textLabel=this.textLabels),h.traceCoordinate=[this.data.x[O],this.data.y[O],this.data.z[O]],!0}},p.update=function(h){var O,A,I,P,L=this.scene.glplot.gl,N=a.solid;this.data=h;var B=function(Z,V){var q,G,H,ne,X,$,Q=[],te=Z.fullSceneLayout,re=Z.dataScale,le=te.xaxis,ue=te.yaxis,he=te.zaxis,ge=V.marker,xe=V.line,ke=V.x||[],Ae=V.y||[],pe=V.z||[],ye=ke.length,Ne=V.xcalendar,be=V.ycalendar,Ee=V.zcalendar;for(X=0;X<ye;X++)q=le.d2l(ke[X],0,Ne)*re[0],G=ue.d2l(Ae[X],0,be)*re[1],H=he.d2l(pe[X],0,Ee)*re[2],Q[X]=[q,G,H];if(Array.isArray(V.text))$=V.text;else if(void 0!==V.text)for($=new Array(ye),X=0;X<ye;X++)$[X]=V.text;function Oe(Ke,Je){var ht=te[Ke];return l.tickText(ht,ht.d2l(Je),!0).text}var De=V.texttemplate;if(De){var oe=Z.fullLayout._d3locale,de=Array.isArray(De),_e=de?Math.min(De.length,ye):ye,Me=de?function(Ke){return De[Ke]}:function(){return De};for($=new Array(_e),X=0;X<_e;X++){var Pe={x:ke[X],y:Ae[X],z:pe[X]},Ue={xLabel:Oe("xaxis",ke[X]),yLabel:Oe("yaxis",Ae[X]),zLabel:Oe("zaxis",pe[X])},Be={};s(Be,V,X);var Ve=V._meta||{};$[X]=v.texttemplateString(Me(X),Ue,oe,Be,Pe,Ve)}}if(ne={position:Q,mode:V.mode,text:$},"line"in V&&(ne.lineColor=i(xe,1,ye),ne.lineWidth=xe.width,ne.lineDashes=xe.dash),"marker"in V){var ve=u(V);ne.scatterColor=i(ge,1,ye),ne.scatterSize=m(ge.size,ye,y,20,ve),ne.scatterMarker=m(ge.symbol,ye,w,"\u25cf"),ne.scatterLineWidth=ge.line.width,ne.scatterLineColor=i(ge.line,1,ye),ne.scatterAngle=0}"textposition"in V&&(ne.textOffset=function(Ke){var Je=[0,0];if(Array.isArray(Ke))for(var ht=0;ht<Ke.length;ht++)Je[ht]=[0,0],Ke[ht]&&(Je[ht][0]=T(Ke[ht]),Je[ht][1]=_(Ke[ht]));else Je[0]=T(Ke),Je[1]=_(Ke);return Je}(V.textposition),ne.textColor=i(V.textfont,1,ye),ne.textSize=m(V.textfont.size,ye,v.identity,12),ne.textFont=V.textfont.family,ne.textAngle=0);var Te=["x","y","z"];for(ne.project=[!1,!1,!1],ne.projectScale=[1,1,1],ne.projectOpacity=[1,1,1],X=0;X<3;++X){var Ce=V.projection[Te[X]];(ne.project[X]=Ce.show)&&(ne.projectOpacity[X]=Ce.opacity,ne.projectScale[X]=Ce.scale)}ne.errorBounds=d(V,re,te);var We=function(Ke){for(var Je=[0,0,0],ht=[[0,0,0],[0,0,0],[0,0,0]],ft=[1,1,1],mt=0;mt<3;mt++){var At=Ke[mt];At&&!1!==At.copy_zstyle&&!1!==Ke[2].visible&&(At=Ke[2]),At&&At.visible&&(Je[mt]=At.width/2,ht[mt]=c(At.color),ft[mt]=At.thickness)}return{capSize:Je,color:ht,lineWidth:ft}}([V.error_x,V.error_y,V.error_z]);return ne.errorColor=We.color,ne.errorLineWidth=We.lineWidth,ne.errorCapSize=We.capSize,ne.delaunayAxis=V.surfaceaxis,ne.delaunayColor=c(V.surfacecolor),ne}(this.scene,h);"mode"in B&&(this.mode=B.mode),"lineDashes"in B&&B.lineDashes in a&&(N=a[B.lineDashes]),this.color=k(B.scatterColor)||k(B.lineColor),this.dataPoints=B.position,O={gl:this.scene.glplot.gl,position:B.position,color:B.lineColor,lineWidth:B.lineWidth||1,dashes:N[0],dashScale:N[1],opacity:h.opacity,connectGaps:h.connectgaps},-1!==this.mode.indexOf("lines")?this.linePlot?this.linePlot.update(O):(this.linePlot=C(O),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var W=h.opacity;if(h.marker&&h.marker.opacity&&(W*=h.marker.opacity),A={gl:this.scene.glplot.gl,position:B.position,color:B.scatterColor,size:B.scatterSize,glyph:B.scatterMarker,opacity:W,orthographic:!0,lineWidth:B.scatterLineWidth,lineColor:B.scatterLineColor,project:B.project,projectScale:B.projectScale,projectOpacity:B.projectOpacity},-1!==this.mode.indexOf("markers")?this.scatterPlot?this.scatterPlot.update(A):(this.scatterPlot=E(A),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),P={gl:this.scene.glplot.gl,position:B.position,glyph:B.text,color:B.textColor,size:B.textSize,angle:B.textAngle,alignment:B.textOffset,font:B.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:h.opacity},this.textLabels=h.hovertext||h.text,-1!==this.mode.indexOf("text")?this.textMarkers?this.textMarkers.update(P):(this.textMarkers=E(P),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),I={gl:this.scene.glplot.gl,position:B.position,color:B.errorColor,error:B.errorBounds,lineWidth:B.errorLineWidth,capSize:B.errorCapSize,opacity:h.opacity},this.errorBars?B.errorBounds?this.errorBars.update(I):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):B.errorBounds&&(this.errorBars=f(I),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),B.delaunayAxis>=0){var j=function(Z,V,q){var G,H=(q+1)%3,ne=(q+2)%3,X=[],$=[];for(G=0;G<Z.length;++G){var Q=Z[G];!isNaN(Q[H])&&isFinite(Q[H])&&!isNaN(Q[ne])&&isFinite(Q[ne])&&(X.push([Q[H],Q[ne]]),$.push(G))}var te=M(X);for(G=0;G<te.length;++G)for(var re=te[G],le=0;le<re.length;++le)re[le]=$[re[le]];return{positions:Z,cells:te,meshColor:V}}(B.position,B.delaunayColor,B.delaunayAxis);j.opacity=h.opacity,this.delaunayMesh?this.delaunayMesh.update(j):(j.gl=L,this.delaunayMesh=S(j),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},p.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())},ie.exports=function(h,O){var A=new g(h,O.uid);return A.update(O),A}},21428:function(ie,z,r){"use strict";var C=r(73972),E=r(71828),f=r(34098),S=r(49508),M=r(11058),v=r(82410),c=r(44542);ie.exports=function(i,u,a,o){function l(w,m){return E.coerce(i,u,c,w,m)}var w,m,b,k,h,O,A,I;if(w=i,m=u,k=o,h=0,O=(b=l)("x"),A=b("y"),I=b("z"),C.getComponentMethod("calendars","handleTraceDefaults")(w,m,["x","y","z"],k),O&&A&&I&&(h=Math.min(O.length,A.length,I.length),m._length=m._xlength=m._ylength=m._zlength=h),h){l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),l("zhoverformat"),l("mode"),f.hasLines(u)&&(l("connectgaps"),M(i,u,a,o,l)),f.hasMarkers(u)&&S(i,u,a,o,l,{noSelect:!0,noAngle:!0}),f.hasText(u)&&(l("texttemplate"),v(i,u,o,l,{noSelect:!0}));var d=(u.line||{}).color,g=(u.marker||{}).color;l("surfaceaxis")>=0&&l("surfacecolor",d||g);for(var p=["x","y","z"],T=0;T<3;++T){var _="projection."+p[T];l(_+".show")&&(l(_+".opacity"),l(_+".scale"))}var y=C.getComponentMethod("errorbars","supplyDefaults");y(i,u,d||g||a,{axis:"z"}),y(i,u,d||g||a,{axis:"y",inherit:"z"}),y(i,u,d||g||a,{axis:"x",inherit:"z"})}else u.visible=!1}},13551:function(ie,z,r){"use strict";ie.exports={plot:r(58925),attributes:r(44542),markerSymbols:r(87381),supplyDefaults:r(21428),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:r(36563),moduleType:"trace",name:"scatter3d",basePlotModule:r(58547),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},97001:function(ie,z,r){"use strict";var C=r(82196),E=r(9012),f=r(5386).f,S=r(5386).s,M=r(50693),v=r(1426).extendFlat,c=C.marker,i=C.line,u=c.line;ie.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:v({},C.mode,{dflt:"markers"}),text:v({},C.text,{}),texttemplate:S({editType:"plot"},{keys:["a","b","text"]}),hovertext:v({},C.hovertext,{}),line:{color:i.color,width:i.width,dash:i.dash,backoff:i.backoff,shape:v({},i.shape,{values:["linear","spline"]}),smoothing:i.smoothing,editType:"calc"},connectgaps:C.connectgaps,fill:v({},C.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:C.fillcolor,marker:v({symbol:c.symbol,opacity:c.opacity,maxdisplayed:c.maxdisplayed,angle:c.angle,angleref:c.angleref,standoff:c.standoff,size:c.size,sizeref:c.sizeref,sizemin:c.sizemin,sizemode:c.sizemode,line:v({width:u.width,editType:"calc"},M("marker.line")),gradient:c.gradient,editType:"calc"},M("marker")),textfont:C.textfont,textposition:C.textposition,selected:C.selected,unselected:C.unselected,hoverinfo:v({},E.hoverinfo,{flags:["a","b","text","name"]}),hoveron:C.hoveron,hovertemplate:f()}},34618:function(ie,z,r){"use strict";var C=r(92770),E=r(36922),f=r(75225),S=r(66279),M=r(47761).calcMarkerSize,v=r(22882);ie.exports=function(c,i){var u=i._carpetTrace=v(c,i);if(u&&u.visible&&"legendonly"!==u.visible){var a;i.xaxis=u.xaxis,i.yaxis=u.yaxis;var o,l,s=i._length,d=new Array(s),g=!1;for(a=0;a<s;a++)if(l=i.b[a],C(o=i.a[a])&&C(l)){var p=u.ab2xy(+o,+l,!0),T=u.isVisible(+o,+l);T||(g=!0),d[a]={x:p[0],y:p[1],a:o,b:l,vis:T}}else d[a]={x:!1,y:!1};return i._needsCull=g,d[0].carpet=u,d[0].trace=i,M(i,s),E(c,i),f(d,i),S(d,i),d}}},98965:function(ie,z,r){"use strict";var C=r(71828),E=r(47581),f=r(34098),S=r(49508),M=r(11058),v=r(94039),c=r(82410),i=r(28908),u=r(97001);ie.exports=function(a,o,l,s){function d(y,w){return C.coerce(a,o,u,y,w)}d("carpet"),o.xaxis="x",o.yaxis="y";var g=d("a"),p=d("b"),T=Math.min(g.length,p.length);if(T){o._length=T,d("text"),d("texttemplate"),d("hovertext"),d("mode",T<E.PTS_LINESONLY?"lines+markers":"lines"),f.hasLines(o)&&(M(a,o,l,s,d,{backoff:!0}),v(a,o,d),d("connectgaps")),f.hasMarkers(o)&&S(a,o,l,s,d,{gradient:!0}),f.hasText(o)&&c(a,o,s,d);var _=[];(f.hasMarkers(o)||f.hasText(o))&&(d("marker.maxdisplayed"),_.push("points")),d("fill"),"none"!==o.fill&&(i(a,o,l,d),f.hasLines(o)||v(a,o,d)),"tonext"!==o.fill&&"toself"!==o.fill||_.push("fills"),"fills"!==d("hoveron",_.join("+")||"points")&&d("hovertemplate"),C.coerceSelectionMarkerOpacity(o,d)}else o.visible=!1}},16165:function(ie){"use strict";ie.exports=function(z,r,C,E,f){var S=E[f];return z.a=S.a,z.b=S.b,z.y=S.y,z}},48953:function(ie){"use strict";ie.exports=function(z,r){var C={},E=r._carpet,f=E.ab2ij([z.a,z.b]),S=Math.floor(f[0]),M=f[0]-S,v=Math.floor(f[1]),i=E.evalxy([],S,v,M,f[1]-v);return C.yLabel=i[1].toFixed(3),C}},22931:function(ie,z,r){"use strict";var C=r(33720),E=r(71828).fillText;ie.exports=function(f,S,M,v){var c=C(f,S,M,v);if(c&&!1!==c[0].index){var i=c[0];if(void 0===i.index){var a=f.xa._length,o=a*(1-i.y0/f.ya._length)/2,l=a-o;return i.x0=Math.max(Math.min(i.x0,l),o),i.x1=Math.max(Math.min(i.x1,l),o),c}var s=i.cd[i.index];i.a=s.a,i.b=s.b,i.xLabelVal=void 0,i.yLabelVal=void 0;var d=i.trace,g=d._carpet,p=d._module.formatLabels(s,d);i.yLabel=p.yLabel,delete i.text;var T=[];if(!d.hovertemplate){var _=(s.hi||d.hoverinfo).split("+");-1!==_.indexOf("all")&&(_=["a","b","text"]),-1!==_.indexOf("a")&&y(g.aaxis,s.a),-1!==_.indexOf("b")&&y(g.baxis,s.b),T.push("y: "+i.yLabel),-1!==_.indexOf("text")&&E(s,d,T),i.extraText=T.join("<br>")}return c}function y(w,m){var b;b=w.labelprefix&&w.labelprefix.length>0?w.labelprefix.replace(/ = $/,""):w._hovertitle,T.push(b+": "+m.toFixed(3)+w.labelsuffix)}}},46858:function(ie,z,r){"use strict";ie.exports={attributes:r(97001),supplyDefaults:r(98965),colorbar:r(4898),formatLabels:r(48953),calc:r(34618),plot:r(1913),style:r(16296).style,styleOnSelect:r(16296).styleOnSelect,hoverPoints:r(22931),selectPoints:r(98002),eventData:r(16165),moduleType:"trace",name:"scattercarpet",basePlotModule:r(93612),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},1913:function(ie,z,r){"use strict";var C=r(32663),E=r(89298),f=r(91424);ie.exports=function(S,M,v,c){var i,u,a,o=v[0][0].carpet,l=E.getFromId(S,o.xaxis||"x"),s=E.getFromId(S,o.yaxis||"y"),d={xaxis:l,yaxis:s,plot:M.plot};for(i=0;i<v.length;i++)(u=v[i][0].trace)._xA=l,u._yA=s;for(C(S,d,v,c),i=0;i<v.length;i++)a=c.selectAll("g.trace"+(u=v[i][0].trace).uid+" .js-line"),f.setClipUrl(a,v[i][0].carpet._clipPathId,S)}},19316:function(ie,z,r){"use strict";var C=r(5386).f,E=r(5386).s,f=r(82196),S=r(9012),M=r(50693),v=r(79952).P,c=r(1426).extendFlat,i=r(30962).overrideAll,u=f.marker,a=f.line,o=u.line;ie.exports=i({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:c({},f.mode,{dflt:"markers"}),text:c({},f.text,{}),texttemplate:E({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:c({},f.hovertext,{}),textfont:f.textfont,textposition:f.textposition,line:{color:a.color,width:a.width,dash:v},connectgaps:f.connectgaps,marker:c({symbol:u.symbol,opacity:u.opacity,angle:u.angle,angleref:c({},u.angleref,{values:["previous","up","north"]}),standoff:u.standoff,size:u.size,sizeref:u.sizeref,sizemin:u.sizemin,sizemode:u.sizemode,colorbar:u.colorbar,line:c({width:o.width},M("marker.line")),gradient:u.gradient},M("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:f.fillcolor,selected:f.selected,unselected:f.unselected,hoverinfo:c({},S.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:C()},"calc","nested")},84622:function(ie,z,r){"use strict";var C=r(92770),E=r(50606).BADNUM,f=r(36922),S=r(75225),M=r(66279),v=r(71828)._;function c(i){return i&&"string"==typeof i}ie.exports=function(i,u){var a,o=Array.isArray(u.locations),l=o?u.locations.length:u._length,s=new Array(l);a=u.geojson?function(y){return c(y)||C(y)}:c;for(var d=0;d<l;d++){var g=s[d]={};if(o){var p=u.locations[d];g.loc=a(p)?p:null}else{var T=u.lon[d],_=u.lat[d];g.lonlat=C(T)&&C(_)?[+T,+_]:[E,E]}}return S(s,u),f(i,u),M(s,u),l&&(s[0].t={labels:{lat:v(i,"lat:")+" ",lon:v(i,"lon:")+" "}}),s}},10659:function(ie,z,r){"use strict";var C=r(71828),E=r(34098),f=r(49508),S=r(11058),M=r(82410),v=r(28908),c=r(19316);ie.exports=function(i,u,a,o){function l(y,w){return C.coerce(i,u,c,y,w)}var s,d=l("locations");if(d&&d.length){var g,p=l("geojson");("string"==typeof p&&""!==p||C.isPlainObject(p))&&(g="geojson-id"),"geojson-id"===l("locationmode",g)&&l("featureidkey"),s=d.length}else{var T=l("lon")||[],_=l("lat")||[];s=Math.min(T.length,_.length)}s?(u._length=s,l("text"),l("hovertext"),l("hovertemplate"),l("mode"),E.hasLines(u)&&(S(i,u,a,o,l),l("connectgaps")),E.hasMarkers(u)&&f(i,u,a,o,l,{gradient:!0}),E.hasText(u)&&(l("texttemplate"),M(i,u,o,l)),l("fill"),"none"!==u.fill&&v(i,u,a,l),C.coerceSelectionMarkerOpacity(u,l)):u.visible=!1}},84084:function(ie){"use strict";ie.exports=function(z,r,C,E,f){z.lon=r.lon,z.lat=r.lat,z.location=r.loc?r.loc:null;var S=E[f];return S.fIn&&S.fIn.properties&&(z.properties=S.fIn.properties),z}},82719:function(ie,z,r){"use strict";var C=r(89298);ie.exports=function(E,f,S){var M={},v=S[f.geo]._subplot.mockAxis,c=E.lonlat;return M.lonLabel=C.tickText(v,v.c2l(c[0]),!0).text,M.latLabel=C.tickText(v,v.c2l(c[1]),!0).text,M}},14977:function(ie,z,r){"use strict";var C=r(30211),E=r(50606).BADNUM,f=r(34603),S=r(71828).fillText,M=r(19316);ie.exports=function(v,c,i){var u=v.cd,a=u[0].trace,o=v.xa,l=v.ya,s=v.subplot,d=s.projection.isLonLatOverEdges,g=s.project;if(C.getClosest(u,function(b){var k=b.lonlat;if(k[0]===E||d(k))return 1/0;var h=g(k),O=g([c,i]),A=Math.abs(h[0]-O[0]),I=Math.abs(h[1]-O[1]),P=Math.max(3,b.mrc||0);return Math.max(Math.sqrt(A*A+I*I)-P,1-3/P)},v),!1!==v.index){var p=u[v.index],T=p.lonlat,_=[o.c2p(T),l.c2p(T)],y=p.mrc||1;v.x0=_[0]-y,v.x1=_[0]+y,v.y0=_[1]-y,v.y1=_[1]+y,v.loc=p.loc,v.lon=T[0],v.lat=T[1];var w={};w[a.geo]={_subplot:s};var m=a._module.formatLabels(p,a,w);return v.lonLabel=m.lonLabel,v.latLabel=m.latLabel,v.color=f(a,p),v.extraText=function(b,k,h,O){if(!b.hovertemplate){var A=k.hi||b.hoverinfo,I="all"===A?M.hoverinfo.flags:A.split("+"),P=-1!==I.indexOf("location")&&Array.isArray(b.locations),L=-1!==I.indexOf("lon"),N=-1!==I.indexOf("lat"),B=-1!==I.indexOf("text"),W=[];return P?W.push(k.loc):L&&N?W.push("("+j(h.latLabel)+", "+j(h.lonLabel)+")"):L?W.push(O.lon+j(h.lonLabel)):N&&W.push(O.lat+j(h.latLabel)),B&&S(k,b,W),W.join("<br>")}function j(Z){return Z+"\xb0"}}(a,p,v,u[0].t.labels),v.hovertemplate=a.hovertemplate,[v]}}},17988:function(ie,z,r){"use strict";ie.exports={attributes:r(19316),supplyDefaults:r(10659),colorbar:r(4898),formatLabels:r(82719),calc:r(84622),calcGeoJSON:r(89171).calcGeoJSON,plot:r(89171).plot,style:r(33095),styleOnSelect:r(16296).styleOnSelect,hoverPoints:r(14977),eventData:r(84084),selectPoints:r(20548),moduleType:"trace",name:"scattergeo",basePlotModule:r(44622),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},89171:function(ie,z,r){"use strict";var C=r(39898),E=r(71828),f=r(90973).getTopojsonFeatures,S=r(18214),M=r(41327),v=r(71739).findExtremes,c=r(50606).BADNUM,i=r(47761).calcMarkerSize,u=r(34098),a=r(33095);ie.exports={calcGeoJSON:function(o,l){var s,d,g=o[0].trace,p=l[g.geo],T=p._subplot,_=g._length;if(Array.isArray(g.locations)){var y=g.locationmode,w="geojson-id"===y?M.extractTraceFeature(o):f(g,T.topojson);for(s=0;s<_;s++){d=o[s];var m="geojson-id"===y?d.fOut:M.locationToFeature(y,d.loc,w);d.lonlat=m?m.properties.ct:[c,c]}}var b,k,h={padded:!0};if("geojson"===p.fitbounds&&"geojson-id"===g.locationmode){var O=M.computeBbox(M.getTraceGeojson(g));b=[O[0],O[2]],k=[O[1],O[3]]}else{for(b=new Array(_),k=new Array(_),s=0;s<_;s++)b[s]=(d=o[s]).lonlat[0],k[s]=d.lonlat[1];h.ppad=i(g,_)}g._extremes.lon=v(p.lonaxis._ax,b,h),g._extremes.lat=v(p.lataxis._ax,k,h)},plot:function(o,l,s){var d=l.layers.frontplot.select(".scatterlayer"),g=E.makeTraceGroups(d,s,"trace scattergeo");function p(T,_){T.lonlat[0]===c&&C.select(_).remove()}g.selectAll("*").remove(),g.each(function(T){var _=C.select(this),y=T[0].trace;if(u.hasLines(y)||"none"!==y.fill){var w=S.calcTraceToLineCoords(T),m="none"!==y.fill?S.makePolygon(w):S.makeLine(w);_.selectAll("path.js-line").data([{geojson:m,trace:y}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}u.hasMarkers(y)&&_.selectAll("path.point").data(E.identity).enter().append("path").classed("point",!0).each(function(b){p(b,this)}),u.hasText(y)&&_.selectAll("g").data(E.identity).enter().append("g").append("text").each(function(b){p(b,this)}),a(o,T)})}}},20548:function(ie,z,r){"use strict";var C=r(34098),E=r(50606).BADNUM;ie.exports=function(f,S){var M,v,c,i,u,a=f.cd,o=f.xaxis,l=f.yaxis,s=[],d=a[0].trace;if(!C.hasMarkers(d)&&!C.hasText(d))return[];if(!1===S)for(u=0;u<a.length;u++)a[u].selected=0;else for(u=0;u<a.length;u++)(v=(M=a[u]).lonlat)[0]!==E&&(c=o.c2p(v),i=l.c2p(v),S.contains([c,i],null,u,f)?(s.push({pointNumber:u,lon:v[0],lat:v[1]}),M.selected=1):M.selected=0);return s}},33095:function(ie,z,r){"use strict";var C=r(39898),E=r(91424),f=r(7901),S=r(16296),M=S.stylePoints,v=S.styleText;ie.exports=function(c,i){var u,a,o,l;i&&(u=c,o=(a=i)[0].trace,(l=a[0].node3).style("opacity",a[0].trace.opacity),M(l,o,u),v(l,o,u),l.selectAll("path.js-line").style("fill","none").each(function(s){var d=C.select(this),g=s.trace,p=g.line||{};d.call(f.stroke,p.color).call(E.dashLine,p.dash||"",p.width||0),"none"!==g.fill&&d.call(f.fill,g.fillcolor)}))}},42341:function(ie,z,r){"use strict";var C=r(9012),E=r(82196),f=r(12663).axisHoverFormat,S=r(50693),M=r(78607),v=r(1426).extendFlat,c=r(30962).overrideAll,i=r(78232).DASHES,u=E.line,a=E.marker,o=a.line,l=ie.exports=c({x:E.x,x0:E.x0,dx:E.dx,y:E.y,y0:E.y0,dy:E.dy,xperiod:E.xperiod,yperiod:E.yperiod,xperiod0:E.xperiod0,yperiod0:E.yperiod0,xperiodalignment:E.xperiodalignment,yperiodalignment:E.yperiodalignment,xhoverformat:f("x"),yhoverformat:f("y"),text:E.text,hovertext:E.hovertext,textposition:E.textposition,textfont:E.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:u.color,width:u.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:M(i),dflt:"solid"}},marker:v({},S("marker"),{symbol:a.symbol,angle:a.angle,size:a.size,sizeref:a.sizeref,sizemin:a.sizemin,sizemode:a.sizemode,opacity:a.opacity,colorbar:a.colorbar,line:v({},S("marker.line"),{width:o.width})}),connectgaps:E.connectgaps,fill:v({},E.fill,{dflt:"none"}),fillcolor:E.fillcolor,selected:{marker:E.selected.marker,textfont:E.selected.textfont},unselected:{marker:E.unselected.marker,textfont:E.unselected.textfont},opacity:C.opacity},"calc","nested");l.x.editType=l.y.editType=l.x0.editType=l.y0.editType="calc+clearAxisTypes",l.hovertemplate=E.hovertemplate,l.texttemplate=E.texttemplate},72156:function(ie,z,r){"use strict";var C=r(20794);ie.exports={moduleType:"trace",name:"scattergl",basePlotModule:r(93612),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:r(42341),supplyDefaults:r(47148),crossTraceDefaults:r(34936),colorbar:r(4898),formatLabels:r(68101),calc:r(45032),hoverPoints:C.hoverPoints,selectPoints:r(58147),meta:{}}},45032:function(ie,z,r){"use strict";var C=r(88294),E=r(71828),f=r(41675),S=r(71739).findExtremes,M=r(42973),v=r(47761),c=v.calcMarkerSize,i=v.calcAxisExpansion,u=v.setFirstScatter,a=r(36922),o=r(19635),l=r(38967),s=r(50606).BADNUM,d=r(78232).TOO_MANY_POINTS;function g(p,T,_){var y=p._extremes[T._id],w=S(T,_._bnds,{padded:!0});y.min=y.min.concat(w.min),y.max=y.max.concat(w.max)}ie.exports=function(p,T){var _,y=p._fullLayout,w=T._xA=f.getFromId(p,T.xaxis,"x"),m=T._yA=f.getFromId(p,T.yaxis,"y"),b=y._plots[T.xaxis+T.yaxis],k=T._length,h=k>=d,O=2*k,A={},I=w.makeCalcdata(T,"x"),P=m.makeCalcdata(T,"y"),L=M(T,w,"x",I),N=M(T,m,"y",P),B=L.vals,W=N.vals;T._x=B,T._y=W,T.xperiodalignment&&(T._origX=I,T._xStarts=L.starts,T._xEnds=L.ends),T.yperiodalignment&&(T._origY=P,T._yStarts=N.starts,T._yEnds=N.ends);var j=new Array(O),Z=new Array(k);for(_=0;_<k;_++)j[2*_]=B[_]===s?NaN:B[_],j[2*_+1]=W[_]===s?NaN:W[_],Z[_]=_;if("log"===w.type)for(_=0;_<O;_+=2)j[_]=w.c2l(j[_]);if("log"===m.type)for(_=1;_<O;_+=2)j[_]=m.c2l(j[_]);h&&"log"!==w.type&&"log"!==m.type?A.tree=C(j):A.ids=Z,a(p,T);var V,q=function(H,ne,X,$,Q,te){var re=o.style(H,X);if(re.marker&&(re.marker.positions=$),re.line&&$.length>1&&E.extendFlat(re.line,o.linePositions(H,X,$)),re.errorX||re.errorY){var le=o.errorBarPositions(H,X,$,Q,te);re.errorX&&E.extendFlat(re.errorX,le.x),re.errorY&&E.extendFlat(re.errorY,le.y)}return re.text&&(E.extendFlat(re.text,{positions:$},o.textPosition(H,X,re.text,re.marker)),E.extendFlat(re.textSel,{positions:$},o.textPosition(H,X,re.text,re.markerSel)),E.extendFlat(re.textUnsel,{positions:$},o.textPosition(H,X,re.text,re.markerUnsel))),re}(p,0,T,j,B,W),G=l(p,b);return u(y,T),h?q.marker&&(V=q.marker.sizeAvg||Math.max(q.marker.size,3)):V=c(T,k),i(p,T,w,m,B,W,V),q.errorX&&g(T,w,q.errorX),q.errorY&&g(T,m,q.errorY),q.fill&&!G.fill2d&&(G.fill2d=!0),q.marker&&!G.scatter2d&&(G.scatter2d=!0),q.line&&!G.line2d&&(G.line2d=!0),!q.errorX&&!q.errorY||G.error2d||(G.error2d=!0),q.text&&!G.glText&&(G.glText=!0),q.marker&&(q.marker.snap=k),G.lineOptions.push(q.line),G.errorXOptions.push(q.errorX),G.errorYOptions.push(q.errorY),G.fillOptions.push(q.fill),G.markerOptions.push(q.marker),G.markerSelectedOptions.push(q.markerSel),G.markerUnselectedOptions.push(q.markerUnsel),G.textOptions.push(q.text),G.textSelectedOptions.push(q.textSel),G.textUnselectedOptions.push(q.textUnsel),G.selectBatch.push([]),G.unselectBatch.push([]),A._scene=G,A.index=G.count,A.x=B,A.y=W,A.positions=j,G.count++,[{x:!1,y:!1,t:A,trace:T}]}},78232:function(ie){"use strict";ie.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:20,SYMBOL_STROKE:1,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},19635:function(ie,z,r){"use strict";var C=r(92770),E=r(82019),f=r(25075),S=r(73972),M=r(71828),v=r(91424),c=r(41675),i=r(81697).formatColor,u=r(34098),a=r(39984),o=r(68645),l=r(78232),s=r(37822).DESELECTDIM,d={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},g=r(23469).appendArrayPointValue;function p(I,P){var L,N=I._fullLayout,B=P._length,W=P.textfont,j=P.textposition,Z=Array.isArray(j)?j:[j],V=W.color,q=W.size,G=W.family,H={},ne=I._context.plotGlPixelRatio,X=P.texttemplate;if(X){H.text=[];var $=N._d3locale,Q=Array.isArray(X),te=Q?Math.min(X.length,B):B,re=Q?function(Ae){return X[Ae]}:function(){return X};for(L=0;L<te;L++){var le={i:L},ue=P._module.formatLabels(le,P,N),he={};g(he,P,L);var ge=P._meta||{};H.text.push(M.texttemplateString(re(L),ue,$,he,le,ge))}}else H.text=Array.isArray(P.text)&&P.text.length<B?P.text.slice():P.text;if(Array.isArray(H.text))for(L=H.text.length;L<B;L++)H.text[L]="";for(H.opacity=P.opacity,H.font={},H.align=[],H.baseline=[],L=0;L<Z.length;L++){var xe=Z[L].split(/\s+/);switch(xe[1]){case"left":H.align.push("right");break;case"right":H.align.push("left");break;default:H.align.push(xe[1])}switch(xe[0]){case"top":H.baseline.push("bottom");break;case"bottom":H.baseline.push("top");break;default:H.baseline.push(xe[0])}}if(Array.isArray(V))for(H.color=new Array(B),L=0;L<B;L++)H.color[L]=V[L];else H.color=V;if(M.isArrayOrTypedArray(q)||Array.isArray(G))for(H.font=new Array(B),L=0;L<B;L++){var ke=H.font[L]={};ke.size=(M.isTypedArray(q)?q[L]:Array.isArray(q)?C(q[L])?q[L]:0:q)*ne,ke.family=Array.isArray(G)?G[L]:G}else H.font={size:q*ne,family:G};return H}function T(I,P){var L,N,B=P._length,W=P.marker,j={},Z=M.isArrayOrTypedArray(W.symbol),V=M.isArrayOrTypedArray(W.angle),q=M.isArrayOrTypedArray(W.color),G=M.isArrayOrTypedArray(W.line.color),H=M.isArrayOrTypedArray(W.opacity),ne=M.isArrayOrTypedArray(W.size),X=M.isArrayOrTypedArray(W.line.width);if(Z||(N=o.isOpenSymbol(W.symbol)),Z||q||G||H||V){j.symbols=new Array(B),j.angles=new Array(B),j.colors=new Array(B),j.borderColors=new Array(B);var $=W.symbol,Q=W.angle,te=i(W,W.opacity,B),re=i(W.line,W.opacity,B);if(!Array.isArray(re[0])){var le=re;for(re=Array(B),L=0;L<B;L++)re[L]=le}if(!Array.isArray(te[0])){var ue=te;for(te=Array(B),L=0;L<B;L++)te[L]=ue}if(!Array.isArray($)){var he=$;for($=Array(B),L=0;L<B;L++)$[L]=he}if(!Array.isArray(Q)){var ge=Q;for(Q=Array(B),L=0;L<B;L++)Q[L]=ge}for(j.symbols=$,j.angles=Q,j.colors=te,j.borderColors=re,L=0;L<B;L++)Z&&(N=o.isOpenSymbol(W.symbol[L])),N&&(re[L]=te[L].slice(),te[L]=te[L].slice(),te[L][3]=0);for(j.opacity=P.opacity,j.markers=new Array(B),L=0;L<B;L++)j.markers[L]=A({mx:j.symbols[L],ma:j.angles[L]},P)}else N?(j.color=f(W.color,"uint8"),j.color[3]=0,j.borderColor=f(W.color,"uint8")):(j.color=f(W.color,"uint8"),j.borderColor=f(W.line.color,"uint8")),j.opacity=P.opacity*W.opacity,j.marker=A({mx:W.symbol,ma:W.angle},P);var xe,ke=a(P,1);if(ne||X){var Ae,pe=j.sizes=new Array(B),ye=j.borderSizes=new Array(B),Ne=0;if(ne){for(L=0;L<B;L++)pe[L]=ke(W.size[L]),Ne+=pe[L];Ae=Ne/B}else for(xe=ke(W.size),L=0;L<B;L++)pe[L]=xe;if(X)for(L=0;L<B;L++)ye[L]=W.line.width[L];else for(xe=W.line.width,L=0;L<B;L++)ye[L]=xe;j.sizeAvg=Ae}else j.size=ke(W&&W.size||10),j.borderSizes=ke(W.line.width);return j}function _(I,P,L){var B={};return L&&(L.marker&&L.marker.symbol?B=T(0,M.extendFlat({},P.marker,L.marker)):L.marker&&(L.marker.size&&(B.size=L.marker.size),L.marker.color&&(B.colors=L.marker.color),void 0!==L.marker.opacity&&(B.opacity=L.marker.opacity))),B}function y(I,P,L){var N={};if(!L)return N;if(L.textfont){var B={opacity:1,text:P.text,texttemplate:P.texttemplate,textposition:P.textposition,textfont:M.extendFlat({},P.textfont)};L.textfont&&M.extendFlat(B.textfont,L.textfont),N=p(I,B)}return N}function w(I,P,L){var N={capSize:2*P.width*L,lineWidth:P.thickness*L,color:P.color};return P.copy_ystyle&&(N=I.error_y),N}var m=l.SYMBOL_SDF_SIZE,b=l.SYMBOL_SIZE,k=l.SYMBOL_STROKE,h={},O=v.symbolFuncs[0](.05*b);function A(I,P){var L,N,B=I.mx;if("circle"===B)return null;var W=v.symbolNumber(B),j=v.symbolFuncs[W%100],Z=!!v.symbolNoDot[W%100],V=!!v.symbolNoFill[W%100],q=o.isDotSymbol(B);if(I.ma&&(B+="_"+I.ma),h[B])return h[B];var G=v.getMarkerAngle(I,P);return L=q&&!Z?j(1.1*b,G)+O:j(b,G),N=E(L,{w:m,h:m,viewBox:[-b,-b,b,b],stroke:V?k:-k}),h[B]=N,N||null}ie.exports={style:function(I,P){var L,N={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},B=I._context.plotGlPixelRatio;if(!0!==P.visible)return N;if(u.hasText(P)&&(N.text=p(I,P),N.textSel=y(I,P,P.selected),N.textUnsel=y(I,P,P.unselected)),u.hasMarkers(P)&&(N.marker=T(0,P),N.markerSel=_(0,P,P.selected),N.markerUnsel=_(0,P,P.unselected),!P.unselected&&M.isArrayOrTypedArray(P.marker.opacity))){var W=P.marker.opacity;for(N.markerUnsel.opacity=new Array(W.length),L=0;L<W.length;L++)N.markerUnsel.opacity[L]=s*W[L]}if(u.hasLines(P)){N.line={overlay:!0,thickness:P.line.width*B,color:P.line.color,opacity:P.opacity};var j=(l.DASHES[P.line.dash]||[1]).slice();for(L=0;L<j.length;++L)j[L]*=P.line.width*B;N.line.dashes=j}return P.error_x&&P.error_x.visible&&(N.errorX=w(P,P.error_x,B)),P.error_y&&P.error_y.visible&&(N.errorY=w(P,P.error_y,B)),P.fill&&"none"!==P.fill&&(N.fill={closed:!0,fill:P.fillcolor,thickness:0}),N},markerStyle:T,markerSelection:_,linePositions:function(I,P,L){var N,B,W=L.length,j=W/2;if(u.hasLines(P)&&j)if("hv"===P.line.shape){for(N=[],B=0;B<j-1;B++)isNaN(L[2*B])||isNaN(L[2*B+1])?N.push(NaN,NaN,NaN,NaN):(N.push(L[2*B],L[2*B+1]),isNaN(L[2*B+2])||isNaN(L[2*B+3])?N.push(NaN,NaN):N.push(L[2*B+2],L[2*B+1]));N.push(L[W-2],L[W-1])}else if("hvh"===P.line.shape){for(N=[],B=0;B<j-1;B++)if(isNaN(L[2*B])||isNaN(L[2*B+1])||isNaN(L[2*B+2])||isNaN(L[2*B+3]))isNaN(L[2*B])||isNaN(L[2*B+1])?N.push(NaN,NaN):N.push(L[2*B],L[2*B+1]),N.push(NaN,NaN);else{var Z=(L[2*B]+L[2*B+2])/2;N.push(L[2*B],L[2*B+1],Z,L[2*B+1],Z,L[2*B+3])}N.push(L[W-2],L[W-1])}else if("vhv"===P.line.shape){for(N=[],B=0;B<j-1;B++)if(isNaN(L[2*B])||isNaN(L[2*B+1])||isNaN(L[2*B+2])||isNaN(L[2*B+3]))isNaN(L[2*B])||isNaN(L[2*B+1])?N.push(NaN,NaN):N.push(L[2*B],L[2*B+1]),N.push(NaN,NaN);else{var V=(L[2*B+1]+L[2*B+3])/2;N.push(L[2*B],L[2*B+1],L[2*B],V,L[2*B+2],V)}N.push(L[W-2],L[W-1])}else if("vh"===P.line.shape){for(N=[],B=0;B<j-1;B++)isNaN(L[2*B])||isNaN(L[2*B+1])?N.push(NaN,NaN,NaN,NaN):(N.push(L[2*B],L[2*B+1]),isNaN(L[2*B+2])||isNaN(L[2*B+3])?N.push(NaN,NaN):N.push(L[2*B],L[2*B+3]));N.push(L[W-2],L[W-1])}else N=L;var q=!1;for(B=0;B<N.length;B++)if(isNaN(N[B])){q=!0;break}var G=q||N.length>l.TOO_MANY_POINTS||u.hasMarkers(P)?"rect":"round";if(q&&P.connectgaps){var H=N[0],ne=N[1];for(B=0;B<N.length;B+=2)isNaN(N[B])||isNaN(N[B+1])?(N[B]=H,N[B+1]=ne):(H=N[B],ne=N[B+1])}return{join:G,positions:N}},errorBarPositions:function(I,P,L,N,B){var W=S.getComponentMethod("errorbars","makeComputeError"),j=c.getFromId(I,P.xaxis,"x"),Z=c.getFromId(I,P.yaxis,"y"),V=L.length/2,q={};function G(H,ne){var X=ne._id.charAt(0),$=P["error_"+X];if($&&$.visible&&("linear"===ne.type||"log"===ne.type)){for(var Q=W($),te={x:0,y:1}[X],re={x:[0,1,2,3],y:[2,3,0,1]}[X],le=new Float64Array(4*V),ue=1/0,he=-1/0,ge=0,xe=0;ge<V;ge++,xe+=4){var ke=H[ge];if(C(ke)){var Ae=L[2*ge+te],pe=Q(ke,ge),ye=pe[0],Ne=pe[1];if(C(ye)&&C(Ne)){var Ee=ke+Ne;le[xe+re[0]]=Ae-ne.c2l(ke-ye),le[xe+re[1]]=ne.c2l(Ee)-Ae,le[xe+re[2]]=0,le[xe+re[3]]=0,ue=Math.min(ue,ke-ye),he=Math.max(he,ke+Ne)}}}q[X]={positions:L,errors:le,_bnds:[ue,he]}}}return G(N,j),G(B,Z),q},textPosition:function(I,P,L,N){var B,W=P._length,j={};if(u.hasMarkers(P)){var Z=L.font,V=L.align,q=L.baseline;for(j.offset=new Array(W),B=0;B<W;B++){var G=N.sizes?N.sizes[B]:N.size,H=Array.isArray(Z)?Z[B].size:Z.size,ne=Array.isArray(V)?V.length>1?V[B]:V[0]:V,X=Array.isArray(q)?q.length>1?q[B]:q[0]:q,Q=d[X],te=G?G/.8+1:0;j.offset[B]=[d[ne]*te/H,(-Q*te-.5*Q)/H]}}return j}}},47148:function(ie,z,r){"use strict";var C=r(71828),E=r(73972),f=r(68645),S=r(42341),M=r(47581),v=r(34098),c=r(67513),i=r(73927),u=r(49508),a=r(11058),o=r(28908),l=r(82410);ie.exports=function(s,d,g,p){function T(O,A){return C.coerce(s,d,S,O,A)}var _=!!s.marker&&f.isOpenSymbol(s.marker.symbol),y=v.isBubble(s),w=c(s,d,p,T);if(w){i(s,d,p,T),T("xhoverformat"),T("yhoverformat");var m=w<M.PTS_LINESONLY?"lines+markers":"lines";T("text"),T("hovertext"),T("hovertemplate"),T("mode",m),v.hasLines(d)&&(T("connectgaps"),a(s,d,g,p,T),T("line.shape")),v.hasMarkers(d)&&(u(s,d,g,p,T,{noAngleRef:!0,noStandOff:!0}),T("marker.line.width",_||y?1:0)),v.hasText(d)&&(T("texttemplate"),l(s,d,p,T));var b=(d.line||{}).color,k=(d.marker||{}).color;T("fill"),"none"!==d.fill&&o(s,d,g,T);var h=E.getComponentMethod("errorbars","supplyDefaults");h(s,d,b||k||g,{axis:"y"}),h(s,d,b||k||g,{axis:"x",inherit:"y"}),C.coerceSelectionMarkerOpacity(d,T)}else d.visible=!1}},5345:function(ie,z,r){"use strict";var C=r(71828),E=r(7901),f=r(37822).DESELECTDIM;ie.exports={styleTextSelection:function(S){var M,v,c=S[0],i=c.trace,u=c.t,a=u._scene,o=u.index,l=a.selectBatch[o],s=a.unselectBatch[o],d=a.textOptions[o],g=a.textSelectedOptions[o]||{},p=a.textUnselectedOptions[o]||{},T=C.extendFlat({},d);if(l.length||s.length){var _=g.color,y=p.color,w=d.color,m=Array.isArray(w);for(T.color=new Array(i._length),M=0;M<l.length;M++)T.color[v=l[M]]=_||(m?w[v]:w);for(M=0;M<s.length;M++){v=s[M];var b=m?w[v]:w;T.color[v]=y||(_?b:E.addOpacity(b,f))}}a.glText[o].update(T)}}},68101:function(ie,z,r){"use strict";var C=r(8225);ie.exports=function(E,f,S){var M=E.i;return"x"in E||(E.x=f._x[M]),"y"in E||(E.y=f._y[M]),C(E,f,S)}},68645:function(ie,z,r){"use strict";var C=r(78232);z.isOpenSymbol=function(E){return"string"==typeof E?C.OPEN_RE.test(E):E%200>100},z.isDotSymbol=function(E){return"string"==typeof E?C.DOT_RE.test(E):E>200}},20794:function(ie,z,r){"use strict";var C=r(73972),E=r(71828),f=r(34603);function S(M,v,c,i){var u=M.xa,a=M.ya,o=M.distance,l=M.dxy,s=M.index,d={pointNumber:s,x:v[s],y:c[s]};d.tx=Array.isArray(i.text)?i.text[s]:i.text,d.htx=Array.isArray(i.hovertext)?i.hovertext[s]:i.hovertext,d.data=Array.isArray(i.customdata)?i.customdata[s]:i.customdata,d.tp=Array.isArray(i.textposition)?i.textposition[s]:i.textposition;var g=i.textfont;g&&(d.ts=E.isArrayOrTypedArray(g.size)?g.size[s]:g.size,d.tc=Array.isArray(g.color)?g.color[s]:g.color,d.tf=Array.isArray(g.family)?g.family[s]:g.family);var p=i.marker;p&&(d.ms=E.isArrayOrTypedArray(p.size)?p.size[s]:p.size,d.mo=E.isArrayOrTypedArray(p.opacity)?p.opacity[s]:p.opacity,d.mx=E.isArrayOrTypedArray(p.symbol)?p.symbol[s]:p.symbol,d.ma=E.isArrayOrTypedArray(p.angle)?p.angle[s]:p.angle,d.mc=E.isArrayOrTypedArray(p.color)?p.color[s]:p.color);var T=p&&p.line;T&&(d.mlc=Array.isArray(T.color)?T.color[s]:T.color,d.mlw=E.isArrayOrTypedArray(T.width)?T.width[s]:T.width);var _=p&&p.gradient;_&&"none"!==_.type&&(d.mgt=Array.isArray(_.type)?_.type[s]:_.type,d.mgc=Array.isArray(_.color)?_.color[s]:_.color);var y=u.c2p(d.x,!0),w=a.c2p(d.y,!0),m=d.mrc||1,b=i.hoverlabel;b&&(d.hbg=Array.isArray(b.bgcolor)?b.bgcolor[s]:b.bgcolor,d.hbc=Array.isArray(b.bordercolor)?b.bordercolor[s]:b.bordercolor,d.hts=E.isArrayOrTypedArray(b.font.size)?b.font.size[s]:b.font.size,d.htc=Array.isArray(b.font.color)?b.font.color[s]:b.font.color,d.htf=Array.isArray(b.font.family)?b.font.family[s]:b.font.family,d.hnl=E.isArrayOrTypedArray(b.namelength)?b.namelength[s]:b.namelength);var k=i.hoverinfo;k&&(d.hi=Array.isArray(k)?k[s]:k);var h=i.hovertemplate;h&&(d.ht=Array.isArray(h)?h[s]:h);var O={};O[M.index]=d;var A=i._origX,I=i._origY,P=E.extendFlat({},M,{color:f(i,d),x0:y-m,x1:y+m,xLabelVal:A?A[s]:d.x,y0:w-m,y1:w+m,yLabelVal:I?I[s]:d.y,cd:O,distance:o,spikeDistance:l,hovertemplate:d.ht});return d.htx?P.text=d.htx:d.tx?P.text=d.tx:i.text&&(P.text=i.text),E.fillText(d,i,P),C.getComponentMethod("errorbars","hoverInfo")(d,i,P),P}ie.exports={hoverPoints:function(M,v,c,i){var u,a,o,l,s,d,g,p,T,_,y=M.cd,w=y[0].t,m=y[0].trace,b=M.xa,k=M.ya,h=w.x,O=w.y,A=b.c2p(v),I=k.c2p(c),P=M.distance;if(w.tree){var L=b.p2c(A-P),N=b.p2c(A+P),B=k.p2c(I-P),W=k.p2c(I+P);u="x"===i?w.tree.range(Math.min(L,N),Math.min(k._rl[0],k._rl[1]),Math.max(L,N),Math.max(k._rl[0],k._rl[1])):w.tree.range(Math.min(L,N),Math.min(B,W),Math.max(L,N),Math.max(B,W))}else u=w.ids;var j=P;if("x"===i){var Z=!!m.xperiodalignment,V=!!m.yperiodalignment;for(d=0;d<u.length;d++){if(l=h[a=u[d]],g=Math.abs(b.c2p(l)-A),Z){var q=b.c2p(m._xStarts[a]),G=b.c2p(m._xEnds[a]);g=A>=Math.min(q,G)&&A<=Math.max(q,G)?0:1/0}if(g<j){if(j=g,p=k.c2p(s=O[a])-I,V){var H=k.c2p(m._yStarts[a]),ne=k.c2p(m._yEnds[a]);p=I>=Math.min(H,ne)&&I<=Math.max(H,ne)?0:1/0}_=Math.sqrt(g*g+p*p),o=u[d]}}}else for(d=u.length-1;d>-1;d--)l=h[a=u[d]],s=O[a],g=b.c2p(l)-A,p=k.c2p(s)-I,(T=Math.sqrt(g*g+p*p))<j&&(j=_=T,o=a);return M.index=o,M.distance=j,M.dxy=_,void 0===o?[M]:[S(M,h,O,m)]},calcHover:S}},68868:function(ie,z,r){"use strict";var C=r(72156);C.plot=r(26787),ie.exports=C},26787:function(ie,z,r){"use strict";var C=r(11870),E=r(46075),f=r(3593),S=r(42505),M=r(71828),v=r(64505).selectMode,c=r(79749),i=r(34098),u=r(68687),a=r(5345).styleTextSelection,o={};function l(s,d,g,p){var T=s._size,h=T.w*p,O=T.h*p;return[T.l*p+d.domain[0]*h,T.b*p+g.domain[0]*O,s.width*p-T.r*p-(1-d.domain[1])*h,s.height*p-T.t*p-(1-g.domain[1])*O]}(ie.exports=function(s,d,g){if(g.length){var p,T,_=s._fullLayout,y=d._scene,w=d.xaxis,m=d.yaxis;if(y)if(c(s,["ANGLE_instanced_arrays","OES_element_index_uint"],o)){var b=y.count,k=_._glcanvas.data()[0].regl;if(u(s,d,g),y.dirty){if(!0===y.error2d&&(y.error2d=f(k)),!0===y.line2d&&(y.line2d=E(k)),!0===y.scatter2d&&(y.scatter2d=C(k)),!0===y.fill2d&&(y.fill2d=E(k)),!0===y.glText)for(y.glText=new Array(b),p=0;p<b;p++)y.glText[p]=new S(k);if(y.glText){if(b>y.glText.length){var h=b-y.glText.length;for(p=0;p<h;p++)y.glText.push(new S(k))}else b<y.glText.length&&y.glText.splice(b,y.glText.length-b).forEach(function(le){le.destroy()});for(p=0;p<b;p++)y.glText[p].update(y.textOptions[p])}if(y.line2d&&(y.line2d.update(y.lineOptions),y.lineOptions=y.lineOptions.map(function(le){if(le&&le.positions){for(var ue=le.positions,he=0;he<ue.length&&(isNaN(ue[he])||isNaN(ue[he+1]));)he+=2;for(var ge=ue.length-2;ge>he&&(isNaN(ue[ge])||isNaN(ue[ge+1]));)ge-=2;le.positions=ue.slice(he,ge+2)}return le}),y.line2d.update(y.lineOptions)),y.error2d){var A=(y.errorXOptions||[]).concat(y.errorYOptions||[]);y.error2d.update(A)}y.scatter2d&&y.scatter2d.update(y.markerOptions),y.fillOrder=M.repeat(null,b),y.fill2d&&(y.fillOptions=y.fillOptions.map(function(le,ue){var he=g[ue];if(le&&he&&he[0]&&he[0].trace){var ge,xe,ke=he[0],Ae=ke.trace,pe=ke.t,ye=y.lineOptions[ue],Ne=[];Ae._ownfill&&Ne.push(ue),Ae._nexttrace&&Ne.push(ue+1),Ne.length&&(y.fillOrder[ue]=Ne);var be,Ee,Oe=[],De=ye&&ye.positions||pe.positions;if("tozeroy"===Ae.fill){for(be=0;be<De.length&&isNaN(De[be+1]);)be+=2;for(Ee=De.length-2;Ee>be&&isNaN(De[Ee+1]);)Ee-=2;0!==De[be+1]&&(Oe=[De[be],0]),Oe=Oe.concat(De.slice(be,Ee+2)),0!==De[Ee+1]&&(Oe=Oe.concat([De[Ee],0]))}else if("tozerox"===Ae.fill){for(be=0;be<De.length&&isNaN(De[be]);)be+=2;for(Ee=De.length-2;Ee>be&&isNaN(De[Ee]);)Ee-=2;0!==De[be]&&(Oe=[0,De[be+1]]),Oe=Oe.concat(De.slice(be,Ee+2)),0!==De[Ee]&&(Oe=Oe.concat([0,De[Ee+1]]))}else if("toself"===Ae.fill||"tonext"===Ae.fill){for(Oe=[],ge=0,le.splitNull=!0,xe=0;xe<De.length;xe+=2)(isNaN(De[xe])||isNaN(De[xe+1]))&&((Oe=Oe.concat(De.slice(ge,xe))).push(De[ge],De[ge+1]),Oe.push(null,null),ge=xe+2);Oe=Oe.concat(De.slice(ge)),ge&&Oe.push(De[ge],De[ge+1])}else{var oe=Ae._nexttrace;if(oe){var de=y.lineOptions[ue+1];if(de){var _e=de.positions;if("tonexty"===Ae.fill){for(Oe=De.slice(),ue=Math.floor(_e.length/2);ue--;){var Me=_e[2*ue],Pe=_e[2*ue+1];isNaN(Me)||isNaN(Pe)||Oe.push(Me,Pe)}le.fill=oe.fillcolor}}}}if(Ae._prevtrace&&"tonext"===Ae._prevtrace.fill){var Ue=y.lineOptions[ue-1].positions,Be=Oe.length/2,Ve=[ge=Be];for(xe=0;xe<Ue.length;xe+=2)(isNaN(Ue[xe])||isNaN(Ue[xe+1]))&&(Ve.push(xe/2+Be+1),ge=xe+2);Oe=Oe.concat(Ue),le.hole=Ve}return le.fillmode=Ae.fill,le.opacity=Ae.opacity,le.positions=Oe,le}}),y.fill2d.update(y.fillOptions))}var P=v(_.dragmode),L=_.clickmode.indexOf("select")>-1;for(p=0;p<b;p++){var N=g[p][0],B=N.trace,W=N.t,j=W.index,Z=B._length,V=W.x,q=W.y;if(B.selectedpoints||P||L){if(P||(P=!0),B.selectedpoints){var G=y.selectBatch[j]=M.selIndices2selPoints(B),H={};for(T=0;T<G.length;T++)H[G[T]]=1;var ne=[];for(T=0;T<Z;T++)H[T]||ne.push(T);y.unselectBatch[j]=ne}var X=W.xpx=new Array(Z),$=W.ypx=new Array(Z);for(T=0;T<Z;T++)X[T]=w.c2p(V[T]),$[T]=m.c2p(q[T])}else W.xpx=W.ypx=null}if(P){if(y.select2d||(y.select2d=C(_._glcanvas.data()[1].regl)),y.scatter2d){var Q=new Array(b);for(p=0;p<b;p++)Q[p]=y.selectBatch[p].length||y.unselectBatch[p].length?y.markerUnselectedOptions[p]:{};y.scatter2d.update(Q)}y.select2d&&(y.select2d.update(y.markerOptions),y.select2d.update(y.markerSelectedOptions)),y.glText&&g.forEach(function(le){i.hasText(((le||[])[0]||{}).trace||{})&&a(le)})}else y.scatter2d&&y.scatter2d.update(y.markerOptions);var te={viewport:l(_,w,m,s._context.plotGlPixelRatio),range:[(w._rl||w.range)[0],(m._rl||m.range)[0],(w._rl||w.range)[1],(m._rl||m.range)[1]]},re=M.repeat(te,y.count);y.fill2d&&y.fill2d.update(re),y.line2d&&y.line2d.update(re),y.error2d&&y.error2d.update(re.concat(re)),y.scatter2d&&y.scatter2d.update(re),y.select2d&&y.select2d.update(re),y.glText&&y.glText.forEach(function(le){le.update(te)})}else y.init()}}).reglPrecompiled=o},38967:function(ie,z,r){"use strict";var C=r(71828);ie.exports=function(E,f){var S=f._scene,M={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},v={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return f._scene||((S=f._scene={}).init=function(){C.extendFlat(S,v,M)},S.init(),S.update=function(c){var i=C.repeat(c,S.count);if(S.fill2d&&S.fill2d.update(i),S.scatter2d&&S.scatter2d.update(i),S.line2d&&S.line2d.update(i),S.error2d&&S.error2d.update(i.concat(i)),S.select2d&&S.select2d.update(i),S.glText)for(var u=0;u<S.count;u++)S.glText[u].update(c)},S.draw=function(){for(var c=S.count,i=S.fill2d,u=S.error2d,a=S.line2d,o=S.scatter2d,l=S.glText,s=S.select2d,d=S.selectBatch,g=S.unselectBatch,p=0;p<c;p++){if(i&&S.fillOrder[p]&&i.draw(S.fillOrder[p]),a&&S.lineOptions[p]&&a.draw(p),u&&(S.errorXOptions[p]&&u.draw(p),S.errorYOptions[p]&&u.draw(p+c)),o&&S.markerOptions[p])if(g[p].length){var T=C.repeat([],S.count);T[p]=g[p],o.draw(T)}else d[p].length||o.draw(p);l[p]&&S.textOptions[p]&&l[p].render()}s&&s.draw(d),S.dirty=!1},S.destroy=function(){S.fill2d&&S.fill2d.destroy&&S.fill2d.destroy(),S.scatter2d&&S.scatter2d.destroy&&S.scatter2d.destroy(),S.error2d&&S.error2d.destroy&&S.error2d.destroy(),S.line2d&&S.line2d.destroy&&S.line2d.destroy(),S.select2d&&S.select2d.destroy&&S.select2d.destroy(),S.glText&&S.glText.forEach(function(c){c.destroy&&c.destroy()}),S.lineOptions=null,S.fillOptions=null,S.markerOptions=null,S.markerSelectedOptions=null,S.markerUnselectedOptions=null,S.errorXOptions=null,S.errorYOptions=null,S.textOptions=null,S.textSelectedOptions=null,S.textUnselectedOptions=null,S.selectBatch=null,S.unselectBatch=null,f._scene=null}),S.dirty||C.extendFlat(S,M),S}},58147:function(ie,z,r){"use strict";var C=r(34098),E=r(5345).styleTextSelection;ie.exports=function(f,S){var M=f.cd,v=f.xaxis,c=f.yaxis,i=[],u=M[0].trace,a=M[0].t,o=u._length,l=a.x,s=a.y,d=a._scene,g=a.index;if(!d)return i;var p=C.hasText(u),T=C.hasMarkers(u);if(!0!==u.visible||!T&&!p)return i;var y=[],w=[];if(!1!==S&&!S.degenerate)for(var m=0;m<o;m++)S.contains([a.xpx[m],a.ypx[m]],!1,m,f)?(y.push(m),i.push({pointNumber:m,x:v.c2d(l[m]),y:c.c2d(s[m])})):w.push(m);if(T){var b=d.scatter2d;if(y.length||w.length){if(!d.selectBatch[g].length&&!d.unselectBatch[g].length){var k=new Array(d.count);k[g]=d.markerUnselectedOptions[g],b.update.apply(b,k)}}else{var h=new Array(d.count);h[g]=d.markerOptions[g],b.update.apply(b,h)}}return d.selectBatch[g]=y,d.unselectBatch[g]=w,p&&E(M),i}},99181:function(ie,z,r){"use strict";var C=r(5386).f,E=r(5386).s,f=r(19316),S=r(82196),M=r(23585),v=r(9012),c=r(50693),i=r(1426).extendFlat,u=r(30962).overrideAll,a=r(23585),o=f.line,l=f.marker;ie.exports=u({lon:f.lon,lat:f.lat,cluster:{enabled:{valType:"boolean"},maxzoom:i({},a.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:i({},l.opacity,{dflt:1})},mode:i({},S.mode,{dflt:"markers"}),text:i({},S.text,{}),texttemplate:E({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:i({},S.hovertext,{}),line:{color:o.color,width:o.width},connectgaps:S.connectgaps,marker:i({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:l.opacity,size:l.size,sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode},c("marker")),fill:f.fill,fillcolor:S.fillcolor,textfont:M.layers.symbol.textfont,textposition:M.layers.symbol.textposition,below:{valType:"string"},selected:{marker:S.selected.marker},unselected:{marker:S.unselected.marker},hoverinfo:i({},v.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:C()},"calc","nested")},15790:function(ie,z,r){"use strict";var C=r(92770),E=r(71828),f=r(50606).BADNUM,S=r(18214),M=r(21081),v=r(91424),c=r(39984),i=r(34098),u=r(13056),a=r(23469).appendArrayPointValue,o=r(63893).NEWLINES,l=r(63893).BR_TAG_ALL;function s(_){return{type:_,geojson:S.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function d(_,y){return E.isArrayOrTypedArray(_)?y?function(w){return C(_[w])?+_[w]:0}:function(w){return _[w]}:_?function(){return _}:g}function g(){return""}function p(_){return _[0]===f}function T(_,y){var w;if(E.isArrayOrTypedArray(_)&&E.isArrayOrTypedArray(y)){w=["step",["get","point_count"],_[0]];for(var m=1;m<_.length;m++)w.push(y[m-1],_[m])}else w=_;return w}ie.exports=function(_,y){var w,m=y[0].trace,b=!0===m.visible&&0!==m._length,k="none"!==m.fill,h=i.hasLines(m),O=i.hasMarkers(m),A=i.hasText(m),I=O&&"circle"===m.marker.symbol,P=O&&"circle"!==m.marker.symbol,L=m.cluster&&m.cluster.enabled,N=s("fill"),B=s("line"),W=s("circle"),j=s("symbol"),Z={fill:N,line:B,circle:W,symbol:j};if(!b)return Z;if((k||h)&&(w=S.calcTraceToLineCoords(y)),k&&(N.geojson=S.makePolygon(w),N.layout.visibility="visible",E.extendFlat(N.paint,{"fill-color":m.fillcolor})),h&&(B.geojson=S.makeLine(w),B.layout.visibility="visible",E.extendFlat(B.paint,{"line-width":m.line.width,"line-color":m.line.color,"line-opacity":m.opacity})),I){var V=function(H){var ne,X,$,Q,te=H[0].trace,re=te.marker,le=te.selectedpoints,ue=E.isArrayOrTypedArray(re.color),he=E.isArrayOrTypedArray(re.size),ge=E.isArrayOrTypedArray(re.opacity);function xe(Oe){return te.opacity*Oe}ue&&(X=M.hasColorscale(te,"marker")?M.makeColorScaleFuncFromTrace(re):E.identity),he&&($=c(te)),ge&&(Q=function(Oe){return xe(C(Oe)?+E.constrain(Oe,0,1):0)});var ke,Ae,pe=[];for(ne=0;ne<H.length;ne++){var ye=H[ne],Ne=ye.lonlat;if(!p(Ne)){var be={};X&&(be.mcc=ye.mcc=X(ye.mc)),$&&(be.mrc=ye.mrc=$(ye.ms)),Q&&(be.mo=Q(ye.mo)),le&&(be.selected=ye.selected||0),pe.push({type:"Feature",id:ne+1,geometry:{type:"Point",coordinates:Ne},properties:be})}}if(le)for(ke=v.makeSelectedPointStyleFns(te),ne=0;ne<pe.length;ne++){var Ee=pe[ne].properties;ke.selectedOpacityFn&&(Ee.mo=xe(ke.selectedOpacityFn(Ee))),ke.selectedColorFn&&(Ee.mcc=ke.selectedColorFn(Ee)),ke.selectedSizeFn&&(Ee.mrc=ke.selectedSizeFn(Ee))}return{geojson:{type:"FeatureCollection",features:pe},mcc:ue||ke&&ke.selectedColorFn?{type:"identity",property:"mcc"}:re.color,mrc:he||ke&&ke.selectedSizeFn?{type:"identity",property:"mrc"}:(Ae=re.size,Ae/2),mo:ge||ke&&ke.selectedOpacityFn?{type:"identity",property:"mo"}:xe(re.opacity)}}(y);W.geojson=V.geojson,W.layout.visibility="visible",L&&(W.filter=["!",["has","point_count"]],Z.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":T(m.cluster.color,m.cluster.step),"circle-radius":T(m.cluster.size,m.cluster.step),"circle-opacity":T(m.cluster.opacity,m.cluster.step)}},Z.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":12}}),E.extendFlat(W.paint,{"circle-color":V.mcc,"circle-radius":V.mrc,"circle-opacity":V.mo})}if(I&&L&&(W.filter=["!",["has","point_count"]]),(P||A)&&(j.geojson=function(H,ne){for(var X=ne._fullLayout,$=H[0].trace,Q=$.marker||{},te=Q.symbol,re=Q.angle,le="circle"!==te?d(te):g,ue="auto"!==re?d(re,!0):g,he=i.hasText($)?d($.text):g,ge=[],xe=0;xe<H.length;xe++){var ke=H[xe];if(!p(ke.lonlat)){var Ae,pe=$.texttemplate;if(pe){var ye=Array.isArray(pe)?pe[xe]||"":pe,Ne=$._module.formatLabels(ke,$,X),be={};a(be,$,ke.i),Ae=E.texttemplateString(ye,Ne,X._d3locale,be,ke,$._meta||{})}else Ae=he(xe);Ae&&(Ae=Ae.replace(o,"").replace(l,"\n")),ge.push({type:"Feature",geometry:{type:"Point",coordinates:ke.lonlat},properties:{symbol:le(xe),angle:ue(xe),text:Ae}})}}return{type:"FeatureCollection",features:ge}}(y,_),E.extendFlat(j.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),P&&(E.extendFlat(j.layout,{"icon-size":m.marker.size/10}),"angle"in m.marker&&"auto"!==m.marker.angle&&E.extendFlat(j.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),j.layout["icon-allow-overlap"]=m.marker.allowoverlap,E.extendFlat(j.paint,{"icon-opacity":m.opacity*m.marker.opacity,"icon-color":m.marker.color})),A)){var G=u(m.textposition,(m.marker||{}).size);E.extendFlat(j.layout,{"text-size":m.textfont.size,"text-anchor":G.anchor,"text-offset":G.offset}),E.extendFlat(j.paint,{"text-color":m.textfont.color,"text-opacity":m.opacity})}return Z}},76645:function(ie,z,r){"use strict";var C=r(71828),E=r(34098),f=r(49508),S=r(11058),M=r(82410),v=r(28908),c=r(99181);ie.exports=function(i,u,a,o){function l(m,b){return C.coerce(i,u,c,m,b)}function s(m,b){return C.coerce2(i,u,c,m,b)}var b,k,h,O,A;if(b=u,h=(k=l)("lon")||[],O=k("lat")||[],A=Math.min(h.length,O.length),b._length=A,A){if(l("text"),l("texttemplate"),l("hovertext"),l("hovertemplate"),l("mode"),l("below"),E.hasLines(u)&&(S(i,u,a,o,l,{noDash:!0}),l("connectgaps")),E.hasMarkers(u)){f(i,u,a,o,l,{noLine:!0,noAngle:!0}),l("marker.allowoverlap"),l("marker.angle");var g=u.marker;"circle"!==g.symbol&&(C.isArrayOrTypedArray(g.size)&&(g.size=g.size[0]),C.isArrayOrTypedArray(g.color)&&(g.color=g.color[0]))}var p=s("cluster.maxzoom"),T=s("cluster.step"),_=s("cluster.color",u.marker&&u.marker.color||a),y=s("cluster.size"),w=s("cluster.opacity");l("cluster.enabled",!1!==p||!1!==T||!1!==_||!1!==y||!1!==w),E.hasText(u)&&M(i,u,o,l,{noSelect:!0}),l("fill"),"none"!==u.fill&&v(i,u,a,l),C.coerceSelectionMarkerOpacity(u,l)}else u.visible=!1}},53353:function(ie){"use strict";ie.exports=function(z,r){return z.lon=r.lon,z.lat=r.lat,z}},15636:function(ie,z,r){"use strict";var C=r(89298);ie.exports=function(E,f,S){var M={},v=S[f.subplot]._subplot.mockAxis,c=E.lonlat;return M.lonLabel=C.tickText(v,v.c2l(c[0]),!0).text,M.latLabel=C.tickText(v,v.c2l(c[1]),!0).text,M}},28178:function(ie,z,r){"use strict";var C=r(30211),E=r(71828),f=r(34603),S=E.fillText,M=r(50606).BADNUM,v=r(77734).traceLayerPrefix;function c(i,u,a){if(!i.hovertemplate){var o=(u.hi||i.hoverinfo).split("+"),l=-1!==o.indexOf("all"),s=-1!==o.indexOf("lon"),d=-1!==o.indexOf("lat"),g=u.lonlat,p=[];return l||s&&d?p.push("("+T(g[1])+", "+T(g[0])+")"):s?p.push(a.lon+T(g[0])):d&&p.push(a.lat+T(g[1])),(l||-1!==o.indexOf("text"))&&S(u,i,p),p.join("<br>")}function T(_){return _+"\xb0"}}ie.exports={hoverPoints:function(i,u,a){var o=i.cd,l=o[0].trace,s=i.xa,d=i.ya,g=i.subplot,p=[],_=l.cluster&&l.cluster.enabled;if(_){var y=g.map.queryRenderedFeatures(null,{layers:[v+l.uid+"-circle"]});p=y.map(function(N){return N.id})}var w=360*(u>=0?Math.floor((u+180)/360):Math.ceil((u-180)/360)),m=u-w;if(C.getClosest(o,function(N){var B=N.lonlat;if(B[0]===M||_&&-1===p.indexOf(N.i+1))return 1/0;var W=E.modHalf(B[0],360),j=B[1],Z=g.project([W,j]),V=Z.x-s.c2p([m,j]),q=Z.y-d.c2p([W,a]),G=Math.max(3,N.mrc||0);return Math.max(Math.sqrt(V*V+q*q)-G,1-3/G)},i),!1!==i.index){var b=o[i.index],k=b.lonlat,h=[E.modHalf(k[0],360)+w,k[1]],O=s.c2p(h),A=d.c2p(h),I=b.mrc||1;i.x0=O-I,i.x1=O+I,i.y0=A-I,i.y1=A+I;var P={};P[l.subplot]={_subplot:g};var L=l._module.formatLabels(b,l,P);return i.lonLabel=L.lonLabel,i.latLabel=L.latLabel,i.color=f(l,b),i.extraText=c(l,b,o[0].t.labels),i.hovertemplate=l.hovertemplate,[i]}},getExtraText:c}},20467:function(ie,z,r){"use strict";ie.exports={attributes:r(99181),supplyDefaults:r(76645),colorbar:r(4898),formatLabels:r(15636),calc:r(84622),plot:r(86951),hoverPoints:r(28178).hoverPoints,eventData:r(53353),selectPoints:r(86387),styleOnSelect:function(C,E){E&&E[0].trace._glTrace.update(E)},moduleType:"trace",name:"scattermapbox",basePlotModule:r(50101),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},86951:function(ie,z,r){"use strict";var C=r(71828),E=r(15790),f=r(77734).traceLayerPrefix,S={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function M(c,i,u,a){this.type="scattermapbox",this.subplot=c,this.uid=i,this.clusterEnabled=u,this.isHidden=a,this.sourceIds={fill:"source-"+i+"-fill",line:"source-"+i+"-line",circle:"source-"+i+"-circle",symbol:"source-"+i+"-symbol",cluster:"source-"+i+"-circle",clusterCount:"source-"+i+"-circle"},this.layerIds={fill:f+i+"-fill",line:f+i+"-line",circle:f+i+"-circle",symbol:f+i+"-symbol",cluster:f+i+"-cluster",clusterCount:f+i+"-cluster-count"},this.below=null}var v=M.prototype;v.addSource=function(c,i,u){var a={type:"geojson",data:i.geojson};u&&u.enabled&&C.extendFlat(a,{cluster:!0,clusterMaxZoom:u.maxzoom}),this.subplot.map.addSource(this.sourceIds[c],a)},v.setSourceData=function(c,i){this.subplot.map.getSource(this.sourceIds[c]).setData(i.geojson)},v.addLayer=function(c,i,u){var a={type:i.type,id:this.layerIds[c],source:this.sourceIds[c],layout:i.layout,paint:i.paint};i.filter&&(a.filter=i.filter),this.subplot.addLayer(a,u)},v.update=function(c){var i=c[0].trace,u=this.subplot,a=u.map,o=E(u.gd,c),l=u.belowLookup["trace-"+this.uid],s=!(!i.cluster||!i.cluster.enabled),d=!!this.clusterEnabled,g=this;function p(m){d?function(b){for(var k=S.cluster,h=k.length-1;h>=0;h--)a.removeLayer(g.layerIds[k[h]]);b||a.removeSource(g.sourceIds.circle)}(m):function(b){for(var k=S.nonCluster,h=k.length-1;h>=0;h--){var O=k[h];a.removeLayer(g.layerIds[O]),b||a.removeSource(g.sourceIds[O])}}(m)}function T(m){s?function(b){b||g.addSource("circle",o.circle,i.cluster);for(var k=S.cluster,h=0;h<k.length;h++){var O=k[h];g.addLayer(O,o[O],l)}}(m):function(b){for(var k=S.nonCluster,h=0;h<k.length;h++){var O=k[h],A=o[O];b||g.addSource(O,A),g.addLayer(O,A,l)}}(m)}var y=this.isHidden,w=!0!==i.visible;w?y||p():y?w||T():d!==s?(p(),T()):(this.below!==l&&(p(!0),T(!0)),function _(){for(var m=s?S.cluster:S.nonCluster,b=0;b<m.length;b++){var k=m[b],h=o[k];h&&(u.setOptions(g.layerIds[k],"setLayoutProperty",h.layout),"visible"===h.layout.visibility&&("cluster"!==k&&g.setSourceData(k,h),u.setOptions(g.layerIds[k],"setPaintProperty",h.paint)))}}()),this.clusterEnabled=s,this.isHidden=w,this.below=l,c[0].trace._glTrace=this},v.dispose=function(){for(var c=this.subplot.map,i=this.clusterEnabled?S.cluster:S.nonCluster,u=i.length-1;u>=0;u--){var a=i[u];c.removeLayer(this.layerIds[a]),c.removeSource(this.sourceIds[a])}},ie.exports=function(c,i){var u,a,o,l=i[0].trace,s=l.cluster&&l.cluster.enabled,g=new M(c,l.uid,s,!0!==l.visible),p=E(c.gd,i),T=g.below=c.belowLookup["trace-"+l.uid];if(s)for(g.addSource("circle",p.circle,l.cluster),u=0;u<S.cluster.length;u++)o=p[a=S.cluster[u]],g.addLayer(a,o,T);else for(u=0;u<S.nonCluster.length;u++)o=p[a=S.nonCluster[u]],g.addSource(a,o,l.cluster),g.addLayer(a,o,T);return i[0].trace._glTrace=g,g}},86387:function(ie,z,r){"use strict";var C=r(71828),E=r(34098),f=r(50606).BADNUM;ie.exports=function(S,M){var v,c=S.cd,i=S.xaxis,u=S.yaxis,a=[];if(!E.hasMarkers(c[0].trace))return[];if(!1===M)for(v=0;v<c.length;v++)c[v].selected=0;else for(v=0;v<c.length;v++){var l=c[v],s=l.lonlat;if(s[0]!==f){var d=[C.modHalf(s[0],360),s[1]],g=[i.c2p(d),u.c2p(d)];M.contains(g,null,v,S)?(a.push({pointNumber:v,lon:s[0],lat:s[1]}),l.selected=1):l.selected=0}}return a}},81245:function(ie,z,r){"use strict";var C=r(5386).f,E=r(5386).s,f=r(1426).extendFlat,S=r(82196),M=r(9012),v=S.line;ie.exports={mode:S.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:S.text,texttemplate:E({editType:"plot"},{keys:["r","theta","text"]}),hovertext:S.hovertext,line:{color:v.color,width:v.width,dash:v.dash,backoff:v.backoff,shape:f({},v.shape,{values:["linear","spline"]}),smoothing:v.smoothing,editType:"calc"},connectgaps:S.connectgaps,marker:S.marker,cliponaxis:f({},S.cliponaxis,{dflt:!1}),textposition:S.textposition,textfont:S.textfont,fill:f({},S.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:S.fillcolor,hoverinfo:f({},M.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:S.hoveron,hovertemplate:C(),selected:S.selected,unselected:S.unselected}},26442:function(ie,z,r){"use strict";var C=r(92770),E=r(50606).BADNUM,f=r(89298),S=r(36922),M=r(75225),v=r(66279),c=r(47761).calcMarkerSize;ie.exports=function(i,u){for(var a=i._fullLayout,o=u.subplot,l=a[o].radialaxis,s=a[o].angularaxis,d=l.makeCalcdata(u,"r"),g=s.makeCalcdata(u,"theta"),p=u._length,T=new Array(p),_=0;_<p;_++){var y=d[_],w=g[_],m=T[_]={};C(y)&&C(w)?(m.r=y,m.theta=w):m.r=E}var b=c(u,p);return u._extremes.x=f.findExtremes(l,d,{ppad:b}),S(i,u),M(T,u),v(T,u),T}},22184:function(ie,z,r){"use strict";var C=r(71828),E=r(34098),f=r(49508),S=r(11058),M=r(94039),v=r(82410),c=r(28908),i=r(47581).PTS_LINESONLY,u=r(81245);function a(o,l,s,d){var g,p=d("r"),T=d("theta");if(p)T?g=Math.min(p.length,T.length):(g=p.length,d("theta0"),d("dtheta"));else{if(!T)return 0;g=l.theta.length,d("r0"),d("dr")}return l._length=g,g}ie.exports={handleRThetaDefaults:a,supplyDefaults:function(o,l,s,d){function g(_,y){return C.coerce(o,l,u,_,y)}var p=a(0,l,0,g);if(p){g("thetaunit"),g("mode",p<i?"lines+markers":"lines"),g("text"),g("hovertext"),"fills"!==l.hoveron&&g("hovertemplate"),E.hasLines(l)&&(S(o,l,s,d,g,{backoff:!0}),M(o,l,g),g("connectgaps")),E.hasMarkers(l)&&f(o,l,s,d,g,{gradient:!0}),E.hasText(l)&&(g("texttemplate"),v(o,l,d,g));var T=[];(E.hasMarkers(l)||E.hasText(l))&&(g("cliponaxis"),g("marker.maxdisplayed"),T.push("points")),g("fill"),"none"!==l.fill&&(c(o,l,s,g),E.hasLines(l)||M(o,l,g)),"tonext"!==l.fill&&"toself"!==l.fill||T.push("fills"),g("hoveron",T.join("+")||"points"),C.coerceSelectionMarkerOpacity(l,g)}else l.visible=!1}}},98608:function(ie,z,r){"use strict";var C=r(71828),E=r(89298);ie.exports=function(f,S,M){var v,c,i={},u=M[S.subplot]._subplot;u?(v=u.radialAxis,c=u.angularAxis):(v=(u=M[S.subplot]).radialaxis,c=u.angularaxis);var a=v.c2l(f.r);i.rLabel=E.tickText(v,a,!0).text;var o="degrees"===c.thetaunit?C.rad2deg(f.theta):f.theta;return i.thetaLabel=E.tickText(c,o,!0).text,i}},59150:function(ie,z,r){"use strict";var C=r(33720);function E(f,S,M,v){var c=M.radialAxis,i=M.angularAxis;c._hovertitle="r",i._hovertitle="\u03b8";var u={};u[S.subplot]={_subplot:M};var a=S._module.formatLabels(f,S,u);v.rLabel=a.rLabel,v.thetaLabel=a.thetaLabel;var l=[];function s(g,p){l.push(g._hovertitle+": "+p)}if(!S.hovertemplate){var d=(f.hi||S.hoverinfo).split("+");-1!==d.indexOf("all")&&(d=["r","theta","text"]),-1!==d.indexOf("r")&&s(c,v.rLabel),-1!==d.indexOf("theta")&&s(i,v.thetaLabel),-1!==d.indexOf("text")&&v.text&&(l.push(v.text),delete v.text),v.extraText=l.join("<br>")}}ie.exports={hoverPoints:function(f,S,M,v){var c=C(f,S,M,v);if(c&&!1!==c[0].index){var i=c[0];if(void 0===i.index)return c;var u=f.subplot,a=i.cd[i.index],o=i.trace;if(u.isPtInside(a))return i.xLabelVal=void 0,i.yLabelVal=void 0,E(a,o,u,i),i.hovertemplate=o.hovertemplate,c}},makeHoverPointText:E}},91271:function(ie,z,r){"use strict";ie.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:r(23580),categories:["polar","symbols","showLegend","scatter-like"],attributes:r(81245),supplyDefaults:r(22184).supplyDefaults,colorbar:r(4898),formatLabels:r(98608),calc:r(26442),plot:r(45162),style:r(16296).style,styleOnSelect:r(16296).styleOnSelect,hoverPoints:r(59150).hoverPoints,selectPoints:r(98002),meta:{}}},45162:function(ie,z,r){"use strict";var C=r(32663),E=r(50606).BADNUM;ie.exports=function(f,S,M){for(var v=S.layers.frontplot.select("g.scatterlayer"),c=S.xaxis,i=S.yaxis,u={xaxis:c,yaxis:i,plot:S.framework,layerClipId:S._hasClipOnAxisFalse?S.clipIds.forTraces:null},a=S.radialAxis,o=S.angularAxis,l=0;l<M.length;l++)for(var s=M[l],d=0;d<s.length;d++){0===d&&(s[0].trace._xA=c,s[0].trace._yA=i);var g=s[d],p=g.r;if(p===E)g.x=g.y=E;else{var T=a.c2g(p),_=o.c2g(g.theta);g.x=T*Math.cos(_),g.y=T*Math.sin(_)}}C(f,u,M,v)}},53286:function(ie,z,r){"use strict";var C=r(81245),E=r(42341),f=r(5386).s;ie.exports={mode:C.mode,r:C.r,theta:C.theta,r0:C.r0,dr:C.dr,theta0:C.theta0,dtheta:C.dtheta,thetaunit:C.thetaunit,text:C.text,texttemplate:f({editType:"plot"},{keys:["r","theta","text"]}),hovertext:C.hovertext,hovertemplate:C.hovertemplate,line:E.line,connectgaps:E.connectgaps,marker:E.marker,fill:E.fill,fillcolor:E.fillcolor,textposition:E.textposition,textfont:E.textfont,hoverinfo:C.hoverinfo,selected:C.selected,unselected:C.unselected}},65746:function(ie,z,r){"use strict";ie.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:r(23580),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:r(53286),supplyDefaults:r(75485),colorbar:r(4898),formatLabels:r(46255),calc:r(37499),hoverPoints:r(29347).hoverPoints,selectPoints:r(58147),meta:{}}},37499:function(ie,z,r){"use strict";var C=r(36922),E=r(47761).calcMarkerSize,f=r(19635),S=r(89298),M=r(78232).TOO_MANY_POINTS;ie.exports=function(v,c){var i=v._fullLayout,u=c.subplot,a=i[u].radialaxis,o=i[u].angularaxis,l=c._r=a.makeCalcdata(c,"r"),s=c._theta=o.makeCalcdata(c,"theta"),d=c._length,g={};d<l.length&&(l=l.slice(0,d)),d<s.length&&(s=s.slice(0,d)),g.r=l,g.theta=s,C(v,c);var p,T=g.opts=f.style(v,c);return d<M?p=E(c,d):T.marker&&(p=2*(T.marker.sizeAvg||Math.max(T.marker.size,3))),c._extremes.x=S.findExtremes(a,l,{ppad:p}),[{x:!1,y:!1,t:g,trace:c}]}},75485:function(ie,z,r){"use strict";var C=r(71828),E=r(34098),f=r(22184).handleRThetaDefaults,S=r(49508),M=r(11058),v=r(82410),c=r(28908),i=r(47581).PTS_LINESONLY,u=r(53286);ie.exports=function(a,o,l,s){function d(p,T){return C.coerce(a,o,u,p,T)}var g=f(a,o,s,d);g?(d("thetaunit"),d("mode",g<i?"lines+markers":"lines"),d("text"),d("hovertext"),"fills"!==o.hoveron&&d("hovertemplate"),E.hasLines(o)&&(M(a,o,l,s,d),d("connectgaps")),E.hasMarkers(o)&&S(a,o,l,s,d,{noAngleRef:!0,noStandOff:!0}),E.hasText(o)&&(d("texttemplate"),v(a,o,s,d)),d("fill"),"none"!==o.fill&&c(a,o,l,d),C.coerceSelectionMarkerOpacity(o,d)):o.visible=!1}},46255:function(ie,z,r){"use strict";var C=r(98608);ie.exports=function(E,f,S){var M=E.i;return"r"in E||(E.r=f._r[M]),"theta"in E||(E.theta=f._theta[M]),C(E,f,S)}},29347:function(ie,z,r){"use strict";var C=r(20794),E=r(59150).makeHoverPointText;ie.exports={hoverPoints:function(f,S,M,v){var c=f.cd[0].t,i=c.r,u=c.theta,a=C.hoverPoints(f,S,M,v);if(a&&!1!==a[0].index){var o=a[0];if(void 0===o.index)return a;var l=f.subplot,s=o.cd[o.index],d=o.trace;if(s.r=i[o.index],s.theta=u[o.index],l.isPtInside(s))return o.xLabelVal=void 0,o.yLabelVal=void 0,E(s,d,l,o),a}}}},21461:function(ie,z,r){"use strict";var C=r(65746);C.plot=r(49741),ie.exports=C},49741:function(ie,z,r){"use strict";var C=r(88294),E=r(92770),f=r(26787),S=r(38967),M=r(19635),v=r(71828),c=r(78232).TOO_MANY_POINTS;ie.exports=function(i,u,a){if(a.length){var o=u.radialAxis,l=u.angularAxis,s=S(i,u);return a.forEach(function(d){if(d&&d[0]&&d[0].trace){var g,p=d[0],T=p.trace,_=p.t,y=T._length,w=_.r,m=_.theta,b=_.opts,k=w.slice(),h=m.slice();for(g=0;g<w.length;g++)u.isPtInside({r:w[g],theta:m[g]})||(k[g]=NaN,h[g]=NaN);var O=new Array(2*y),A=Array(y),I=Array(y);for(g=0;g<y;g++){var P,L,N=k[g];if(E(N)){var B=o.c2g(N),W=l.c2g(h[g],T.thetaunit);P=B*Math.cos(W),L=B*Math.sin(W)}else P=L=NaN;A[g]=O[2*g]=P,I[g]=O[2*g+1]=L}_.tree=C(O),b.marker&&y>=c&&(b.marker.cluster=_.tree),b.marker&&(b.markerSel.positions=b.markerUnsel.positions=b.marker.positions=O),b.line&&O.length>1&&v.extendFlat(b.line,M.linePositions(i,T,O)),b.text&&(v.extendFlat(b.text,{positions:O},M.textPosition(i,T,b.text,b.marker)),v.extendFlat(b.textSel,{positions:O},M.textPosition(i,T,b.text,b.markerSel)),v.extendFlat(b.textUnsel,{positions:O},M.textPosition(i,T,b.text,b.markerUnsel))),b.fill&&!s.fill2d&&(s.fill2d=!0),b.marker&&!s.scatter2d&&(s.scatter2d=!0),b.line&&!s.line2d&&(s.line2d=!0),b.text&&!s.glText&&(s.glText=!0),s.lineOptions.push(b.line),s.fillOptions.push(b.fill),s.markerOptions.push(b.marker),s.markerSelectedOptions.push(b.markerSel),s.markerUnselectedOptions.push(b.markerUnsel),s.textOptions.push(b.text),s.textSelectedOptions.push(b.textSel),s.textUnselectedOptions.push(b.textUnsel),s.selectBatch.push([]),s.unselectBatch.push([]),_.x=A,_.y=I,_.rawx=A,_.rawy=I,_.r=w,_.theta=m,_.positions=O,_._scene=s,_.index=s.count,s.count++}}),f(i,u,a)}},ie.exports.reglPrecompiled={}},48300:function(ie,z,r){"use strict";var C=r(5386).f,E=r(5386).s,f=r(1426).extendFlat,S=r(82196),M=r(9012),v=S.line;ie.exports={mode:S.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:S.text,texttemplate:E({editType:"plot"},{keys:["real","imag","text"]}),hovertext:S.hovertext,line:{color:v.color,width:v.width,dash:v.dash,backoff:v.backoff,shape:f({},v.shape,{values:["linear","spline"]}),smoothing:v.smoothing,editType:"calc"},connectgaps:S.connectgaps,marker:S.marker,cliponaxis:f({},S.cliponaxis,{dflt:!1}),textposition:S.textposition,textfont:S.textfont,fill:f({},S.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:S.fillcolor,hoverinfo:f({},M.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:S.hoveron,hovertemplate:C(),selected:S.selected,unselected:S.unselected}},30621:function(ie,z,r){"use strict";var C=r(92770),E=r(50606).BADNUM,f=r(36922),S=r(75225),M=r(66279),v=r(47761).calcMarkerSize;ie.exports=function(c,i){for(var u=c._fullLayout,a=i.subplot,l=u[a].imaginaryaxis,s=u[a].realaxis.makeCalcdata(i,"real"),d=l.makeCalcdata(i,"imag"),g=i._length,p=new Array(g),T=0;T<g;T++){var _=s[T],y=d[T],w=p[T]={};C(_)&&C(y)?(w.real=_,w.imag=y):w.real=E}return v(i,g),f(c,i),S(p,i),M(p,i),p}},65269:function(ie,z,r){"use strict";var C=r(71828),E=r(34098),f=r(49508),S=r(11058),M=r(94039),v=r(82410),c=r(28908),i=r(47581).PTS_LINESONLY,u=r(48300);ie.exports=function(a,o,l,s){function d(T,_){return C.coerce(a,o,u,T,_)}var _,w,m,b,k,g=(_=o,b=(w=d)("real"),k=w("imag"),b&&k&&(m=Math.min(b.length,k.length)),_._length=m,m);if(g){d("mode",g<i?"lines+markers":"lines"),d("text"),d("hovertext"),"fills"!==o.hoveron&&d("hovertemplate"),E.hasLines(o)&&(S(a,o,l,s,d,{backoff:!0}),M(a,o,d),d("connectgaps")),E.hasMarkers(o)&&f(a,o,l,s,d,{gradient:!0}),E.hasText(o)&&(d("texttemplate"),v(a,o,s,d));var p=[];(E.hasMarkers(o)||E.hasText(o))&&(d("cliponaxis"),d("marker.maxdisplayed"),p.push("points")),d("fill"),"none"!==o.fill&&(c(a,o,l,d),E.hasLines(o)||M(a,o,d)),"tonext"!==o.fill&&"toself"!==o.fill||p.push("fills"),d("hoveron",p.join("+")||"points"),C.coerceSelectionMarkerOpacity(o,d)}else o.visible=!1}},62047:function(ie,z,r){"use strict";var C=r(89298);ie.exports=function(E,f,S){var M={},v=S[f.subplot]._subplot;return M.realLabel=C.tickText(v.radialAxis,E.real,!0).text,M.imagLabel=C.tickText(v.angularAxis,E.imag,!0).text,M}},11350:function(ie,z,r){"use strict";var C=r(33720);function E(f,S,M,v){var c=M.radialAxis,i=M.angularAxis;c._hovertitle="real",i._hovertitle="imag";var u={};u[S.subplot]={_subplot:M};var a=S._module.formatLabels(f,S,u);v.realLabel=a.realLabel,v.imagLabel=a.imagLabel;var l=[];function s(g,p){l.push(g._hovertitle+": "+p)}if(!S.hovertemplate){var d=(f.hi||S.hoverinfo).split("+");-1!==d.indexOf("all")&&(d=["real","imag","text"]),-1!==d.indexOf("real")&&s(c,v.realLabel),-1!==d.indexOf("imag")&&s(i,v.imagLabel),-1!==d.indexOf("text")&&v.text&&(l.push(v.text),delete v.text),v.extraText=l.join("<br>")}}ie.exports={hoverPoints:function(f,S,M,v){var c=C(f,S,M,v);if(c&&!1!==c[0].index){var i=c[0];if(void 0===i.index)return c;var u=f.subplot,a=i.cd[i.index],o=i.trace;if(u.isPtInside(a))return i.xLabelVal=void 0,i.yLabelVal=void 0,E(a,o,u,i),i.hovertemplate=o.hovertemplate,c}},makeHoverPointText:E}},85956:function(ie,z,r){"use strict";ie.exports={moduleType:"trace",name:"scattersmith",basePlotModule:r(7504),categories:["smith","symbols","showLegend","scatter-like"],attributes:r(48300),supplyDefaults:r(65269),colorbar:r(4898),formatLabels:r(62047),calc:r(30621),plot:r(12480),style:r(16296).style,styleOnSelect:r(16296).styleOnSelect,hoverPoints:r(11350).hoverPoints,selectPoints:r(98002),meta:{}}},12480:function(ie,z,r){"use strict";var C=r(32663),E=r(50606).BADNUM,f=r(23893).smith;ie.exports=function(S,M,v){for(var c=M.layers.frontplot.select("g.scatterlayer"),i=M.xaxis,u=M.yaxis,a={xaxis:i,yaxis:u,plot:M.framework,layerClipId:M._hasClipOnAxisFalse?M.clipIds.forTraces:null},o=0;o<v.length;o++)for(var l=v[o],s=0;s<l.length;s++){0===s&&(l[0].trace._xA=i,l[0].trace._yA=u);var d=l[s],g=d.real;if(g===E)d.x=d.y=E;else{var p=f([g,d.imag]);d.x=p[0],d.y=p[1]}}C(S,a,v,c)}},50413:function(ie,z,r){"use strict";var C=r(5386).f,E=r(5386).s,f=r(82196),S=r(9012),M=r(50693),v=r(79952).P,c=r(1426).extendFlat,i=f.marker,u=f.line,a=i.line;ie.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:c({},f.mode,{dflt:"markers"}),text:c({},f.text,{}),texttemplate:E({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:c({},f.hovertext,{}),line:{color:u.color,width:u.width,dash:v,backoff:u.backoff,shape:c({},u.shape,{values:["linear","spline"]}),smoothing:u.smoothing,editType:"calc"},connectgaps:f.connectgaps,cliponaxis:f.cliponaxis,fill:c({},f.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:f.fillcolor,marker:c({symbol:i.symbol,opacity:i.opacity,angle:i.angle,angleref:i.angleref,standoff:i.standoff,maxdisplayed:i.maxdisplayed,size:i.size,sizeref:i.sizeref,sizemin:i.sizemin,sizemode:i.sizemode,line:c({width:a.width,editType:"calc"},M("marker.line")),gradient:i.gradient,editType:"calc"},M("marker")),textfont:f.textfont,textposition:f.textposition,selected:f.selected,unselected:f.unselected,hoverinfo:c({},S.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:f.hoveron,hovertemplate:C()}},54337:function(ie,z,r){"use strict";var C=r(92770),E=r(36922),f=r(75225),S=r(66279),M=r(47761).calcMarkerSize,v=["a","b","c"],c={a:["b","c"],b:["a","c"],c:["a","b"]};ie.exports=function(i,u){var a,o,l,s,d,g,p=i._fullLayout[u.subplot].sum,T=u.sum||p,_={a:u.a,b:u.b,c:u.c};for(a=0;a<v.length;a++)if(!_[l=v[a]]){for(d=_[c[l][0]],g=_[c[l][1]],s=new Array(d.length),o=0;o<d.length;o++)s[o]=T-d[o]-g[o];_[l]=s}var y,w,m,b,O=u._length,A=new Array(O);for(a=0;a<O;a++)w=_.b[a],m=_.c[a],C(y=_.a[a])&&C(w)&&C(m)?(1!=(b=p/((y=+y)+(w=+w)+(m=+m)))&&(y*=b,w*=b,m*=b),A[a]={x:m-w,y,a:y,b:w,c:m}):A[a]={x:!1,y:!1};return M(u,O),E(i,u),f(A,u),S(A,u),A}},46008:function(ie,z,r){"use strict";var C=r(71828),E=r(47581),f=r(34098),S=r(49508),M=r(11058),v=r(94039),c=r(82410),i=r(28908),u=r(50413);ie.exports=function(a,o,l,s){function d(w,m){return C.coerce(a,o,u,w,m)}var g,p=d("a"),T=d("b"),_=d("c");if(p?(g=p.length,T?(g=Math.min(g,T.length),_&&(g=Math.min(g,_.length))):g=_?Math.min(g,_.length):0):T&&_&&(g=Math.min(T.length,_.length)),g){o._length=g,d("sum"),d("text"),d("hovertext"),"fills"!==o.hoveron&&d("hovertemplate"),d("mode",g<E.PTS_LINESONLY?"lines+markers":"lines"),f.hasLines(o)&&(M(a,o,l,s,d,{backoff:!0}),v(a,o,d),d("connectgaps")),f.hasMarkers(o)&&S(a,o,l,s,d,{gradient:!0}),f.hasText(o)&&(d("texttemplate"),c(a,o,s,d));var y=[];(f.hasMarkers(o)||f.hasText(o))&&(d("cliponaxis"),d("marker.maxdisplayed"),y.push("points")),d("fill"),"none"!==o.fill&&(i(a,o,l,d),f.hasLines(o)||v(a,o,d)),"tonext"!==o.fill&&"toself"!==o.fill||y.push("fills"),d("hoveron",y.join("+")||"points"),C.coerceSelectionMarkerOpacity(o,d)}else o.visible=!1}},4524:function(ie){"use strict";ie.exports=function(z,r,C,E,f){if(r.xa&&(z.xaxis=r.xa),r.ya&&(z.yaxis=r.ya),E[f]){var S=E[f];z.a=S.a,z.b=S.b,z.c=S.c}else z.a=r.a,z.b=r.b,z.c=r.c;return z}},93645:function(ie,z,r){"use strict";var C=r(89298);ie.exports=function(E,f,S){var M={},v=S[f.subplot]._subplot;return M.aLabel=C.tickText(v.aaxis,E.a,!0).text,M.bLabel=C.tickText(v.baxis,E.b,!0).text,M.cLabel=C.tickText(v.caxis,E.c,!0).text,M}},47250:function(ie,z,r){"use strict";var C=r(33720);ie.exports=function(E,f,S,M){var v=C(E,f,S,M);if(v&&!1!==v[0].index){var c=v[0];if(void 0===c.index){var u=E.xa._length,a=u*(1-c.y0/E.ya._length)/2,o=u-a;return c.x0=Math.max(Math.min(c.x0,o),a),c.x1=Math.max(Math.min(c.x1,o),a),v}var l=c.cd[c.index],s=c.trace,d=c.subplot;c.a=l.a,c.b=l.b,c.c=l.c,c.xLabelVal=void 0,c.yLabelVal=void 0;var g={};g[s.subplot]={_subplot:d};var p=s._module.formatLabels(l,s,g);c.aLabel=p.aLabel,c.bLabel=p.bLabel,c.cLabel=p.cLabel;var _=[];if(!s.hovertemplate){var y=(l.hi||s.hoverinfo).split("+");-1!==y.indexOf("all")&&(y=["a","b","c"]),-1!==y.indexOf("a")&&w(d.aaxis,c.aLabel),-1!==y.indexOf("b")&&w(d.baxis,c.bLabel),-1!==y.indexOf("c")&&w(d.caxis,c.cLabel)}return c.extraText=_.join("<br>"),c.hovertemplate=s.hovertemplate,v}function w(m,b){_.push(m._hovertitle+": "+b)}}},52979:function(ie,z,r){"use strict";ie.exports={attributes:r(50413),supplyDefaults:r(46008),colorbar:r(4898),formatLabels:r(93645),calc:r(54337),plot:r(7507),style:r(16296).style,styleOnSelect:r(16296).styleOnSelect,hoverPoints:r(47250),selectPoints:r(98002),eventData:r(4524),moduleType:"trace",name:"scatterternary",basePlotModule:r(61639),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},7507:function(ie,z,r){"use strict";var C=r(32663);ie.exports=function(E,f,S){var M=f.plotContainer;M.select(".scatterlayer").selectAll("*").remove();for(var v=f.xaxis,c=f.yaxis,i={xaxis:v,yaxis:c,plot:M,layerClipId:f._hasClipOnAxisFalse?f.clipIdRelative:null},u=f.layers.frontplot.select("g.scatterlayer"),a=0;a<S.length;a++){var o=S[a];o.length&&(o[0].trace._xA=v,o[0].trace._yA=c)}C(E,i,S,u)}},46880:function(ie,z,r){"use strict";var C=r(82196),E=r(50693),f=r(12663).axisHoverFormat,S=r(5386).f,M=r(42341),v=r(85555).idRegex,c=r(44467).templatedArray,i=r(1426).extendFlat,u=C.marker,a=u.line,o=i(E("marker.line",{editTypeOverride:"calc"}),{width:i({},a.width,{editType:"calc"}),editType:"calc"}),l=i(E("marker"),{symbol:u.symbol,angle:u.angle,size:i({},u.size,{editType:"markerSize"}),sizeref:u.sizeref,sizemin:u.sizemin,sizemode:u.sizemode,opacity:u.opacity,colorbar:u.colorbar,line:o,editType:"calc"});function s(d){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:v[d],editType:"plot"}}}l.color.editType=l.cmin.editType=l.cmax.editType="style",ie.exports={dimensions:c("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:i({},M.text,{}),hovertext:i({},M.hovertext,{}),hovertemplate:S(),xhoverformat:f("x"),yhoverformat:f("y"),marker:l,xaxes:s("x"),yaxes:s("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:M.selected.marker,editType:"calc"},unselected:{marker:M.unselected.marker,editType:"calc"},opacity:M.opacity}},65017:function(ie,z,r){"use strict";var C=r(73972),E=r(83312);ie.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:r(46880),supplyDefaults:r(25784),colorbar:r(4898),calc:r(87625),plot:r(79410),hoverPoints:r(8567).hoverPoints,selectPoints:r(8689),editStyle:r(28801),meta:{}},C.register(E)},16947:function(ie,z,r){"use strict";var C=r(46075),E=r(73972),f=r(79749),S=r(27659).a0,M=r(93612),v=r(41675).getFromId,c=r(89298).shouldShowZeroLine,i="splom",u={};function a(l,s,d){for(var p=s._visibleDims,T=d.viewOpts.ranges=new Array(d.matrixOptions.data.length),_=0;_<p.length;_++){var y=p[_],w=T[_]=new Array(4),m=v(l,s._diag[y][0]);m&&(w[0]=m.r2l(m.range[0]),w[2]=m.r2l(m.range[1]));var b=v(l,s._diag[y][1]);b&&(w[1]=b.r2l(b.range[0]),w[3]=b.r2l(b.range[1]))}d.selectBatch.length||d.unselectBatch.length?d.matrix.update({ranges:T},{ranges:T}):d.matrix.update({ranges:T})}function o(l){var s=l._fullLayout,d=s._glcanvas.data()[0].regl,g=s._splomGrid;g||(g=s._splomGrid=C(d)),g.update(function(p){var T,_=p._context.plotGlPixelRatio,y=p._fullLayout,w=y._size,m=[0,0,y.width*_,y.height*_],b={};function k(H,ne,X,$,Q,te){X*=_,$*=_,Q*=_,te*=_;var re=ne[H+"color"],le=ne[H+"width"],ue=String(re+le);ue in b?b[ue].data.push(NaN,NaN,X,$,Q,te):b[ue]={data:[X,$,Q,te],join:"rect",thickness:le*_,color:re,viewport:m,range:m,overlay:!1}}for(T in y._splomSubplots){var h,O,A=y._plots[T],I=A.xaxis,P=A.yaxis,L=I._gridVals,N=P._gridVals,B=I._offset,W=I._length,j=P._length,Z=w.b+P.domain[0]*w.h,V=-P._m,q=-V*P.r2l(P.range[0],P.calendar);if(I.showgrid)for(T=0;T<L.length;T++)h=B+I.l2p(L[T].x),k("grid",I,h,Z,h,Z+j);if(P.showgrid)for(T=0;T<N.length;T++)k("grid",P,B,O=Z+q+V*N[T].x,B+W,O);c(p,I,P)&&(h=B+I.l2p(0),k("zeroline",I,h,Z,h,Z+j)),c(p,P,I)&&k("zeroline",P,B,O=Z+q+0,B+W,O)}var G=[];for(T in b)G.push(b[T]);return G}(l))}ie.exports={name:i,attr:M.attr,attrRegex:M.attrRegex,layoutAttributes:M.layoutAttributes,supplyLayoutDefaults:M.supplyLayoutDefaults,drawFramework:M.drawFramework,plot:function(l){var s=l._fullLayout,d=E.getModule(i),g=S(l.calcdata,d)[0];f(l,["ANGLE_instanced_arrays","OES_element_index_uint"],u)&&(s._hasOnlyLargeSploms&&o(l),d.plot(l,{},g))},drag:function(l){var s=l.calcdata,d=l._fullLayout;d._hasOnlyLargeSploms&&o(l);for(var g=0;g<s.length;g++){var p=s[g][0].trace,T=d._splomScenes[p.uid];"splom"===p.type&&T&&T.matrix&&a(l,p,T)}},updateGrid:o,clean:function(l,s,d,g){var p,T={};if(g._splomScenes){for(p=0;p<l.length;p++){var _=l[p];"splom"===_.type&&(T[_.uid]=1)}for(p=0;p<d.length;p++){var y=d[p];if(!T[y.uid]){var w=g._splomScenes[y.uid];w&&w.destroy&&w.destroy(),g._splomScenes[y.uid]=null,delete g._splomScenes[y.uid]}}}0===Object.keys(g._splomScenes||{}).length&&delete g._splomScenes,g._splomGrid&&!s._hasOnlyLargeSploms&&g._hasOnlyLargeSploms&&(g._splomGrid.destroy(),g._splomGrid=null,delete g._splomGrid),M.clean(l,s,d,g)},updateFx:M.updateFx,toSVG:M.toSVG,reglPrecompiled:u}},87625:function(ie,z,r){"use strict";var C=r(71828),E=r(41675),f=r(47761).calcMarkerSize,S=r(47761).calcAxisExpansion,M=r(36922),v=r(19635).markerSelection,c=r(19635).markerStyle,i=r(10164),u=r(50606).BADNUM,a=r(78232).TOO_MANY_POINTS;ie.exports=function(o,l){var s,d,g,p,T,_,y=l.dimensions,w=l._length,m={},b=m.cdata=[],k=m.data=[],h=l._visibleDims=[];function O(I,P){for(var L=I.makeCalcdata({v:P.values,vcalendar:l.calendar},"v"),N=0;N<L.length;N++)L[N]=L[N]===u?NaN:L[N];b.push(L),k.push("log"===I.type?C.simpleMap(L,I.c2l):L)}for(s=0;s<y.length;s++)if((g=y[s]).visible){if(p=E.getFromId(o,l._diag[s][0]),T=E.getFromId(o,l._diag[s][1]),p&&T&&p.type!==T.type){C.log("Skipping splom dimension "+s+" with conflicting axis types");continue}p?(O(p,g),T&&"category"===T.type&&(T._categories=p._categories.slice())):O(T,g),h.push(s)}for(M(o,l),C.extendFlat(m,c(o,l)),_=b.length*w>a?m.sizeAvg||Math.max(m.size,3):f(l,w),d=0;d<h.length;d++)g=y[s=h[d]],p=E.getFromId(o,l._diag[s][0])||{},T=E.getFromId(o,l._diag[s][1])||{},S(o,l,p,T,b[d],b[d],_);var A=i(o,l);return A.matrix||(A.matrix=!0),A.matrixOptions=m,A.selectedOptions=v(o,l,l.selected),A.unselectedOptions=v(o,l,l.unselected),[{x:!1,y:!1,t:{},trace:l}]}},25784:function(ie,z,r){"use strict";var C=r(71828),E=r(85501),f=r(46880),S=r(34098),M=r(49508),v=r(94397),c=r(68645).isOpenSymbol;function i(u,a){function o(s,d){return C.coerce(u,a,f.dimensions,s,d)}o("label");var l=o("values");l&&l.length?o("visible"):a.visible=!1,o("axis.type"),o("axis.matches")}ie.exports=function(u,a,o,l){function s(w,m){return C.coerce(u,a,f,w,m)}var d=E(u,a,{name:"dimensions",handleItemDefaults:i}),g=s("diagonal.visible"),p=s("showupperhalf"),T=s("showlowerhalf");if(v(a,d,"values")&&(g||p||T)){s("text"),s("hovertext"),s("hovertemplate"),s("xhoverformat"),s("yhoverformat"),M(u,a,o,l,s,{noAngleRef:!0,noStandOff:!0});var _=c(a.marker.symbol),y=S.isBubble(a);s("marker.line.width",_||y?1:0),function(w,m,b,k){var h,O,A=m.dimensions,I=A.length,P=m.showupperhalf,L=m.showlowerhalf,N=m.diagonal.visible,B=new Array(I),W=new Array(I);for(h=0;h<I;h++){var j=h?h+1:"";B[h]="x"+j,W[h]="y"+j}var Z=k("xaxes",B),V=k("yaxes",W),q=m._diag=new Array(I);m._xaxes={},m._yaxes={};var G=[],H=[];function ne(ge,xe,ke,Ae){if(ge){var pe=ge.charAt(0),ye=b._splomAxes[pe];if(m["_"+pe+"axes"][ge]=1,Ae.push(ge),!(ge in ye)){var Ne=ye[ge]={};ke&&(Ne.label=ke.label||"",ke.visible&&ke.axis&&(ke.axis.type&&(Ne.type=ke.axis.type),ke.axis.matches&&(Ne.matches=xe)))}}}var X=!N&&!L,$=!N&&!P;for(m._axesDim={},h=0;h<I;h++){var Q=A[h],te=0===h,re=h===I-1,le=te&&X||re&&$?void 0:Z[h],ue=te&&$||re&&X?void 0:V[h];ne(le,ue,Q,G),ne(ue,le,Q,H),q[h]=[le,ue],m._axesDim[le]=h,m._axesDim[ue]=h}for(h=0;h<G.length;h++)for(O=0;O<H.length;O++){var he=G[h]+H[O];h>O&&P||h<O&&L?b._splomSubplots[he]=1:h!==O||!N&&L&&P||(b._splomSubplots[he]=1)}(!L||!N&&P&&L)&&(b._splomGridDflt.xside="bottom",b._splomGridDflt.yside="left")}(0,a,l,s),C.coerceSelectionMarkerOpacity(a,s)}else a.visible=!1}},28801:function(ie,z,r){"use strict";var C=r(71828),E=r(36922),f=r(19635).markerStyle;ie.exports=function(S,M){var v=M.trace,c=S._fullLayout._splomScenes[v.uid];if(c){E(S,v),C.extendFlat(c.matrixOptions,f(S,v));var i=C.extendFlat({},c.matrixOptions,c.viewOpts);c.matrix.update(i,null)}}},35948:function(ie,z){"use strict";z.getDimIndex=function(r,C){for(var E=C._id,f={x:0,y:1}[E.charAt(0)],S=r._visibleDims,M=0;M<S.length;M++)if(r._diag[S[M]][f]===E)return M;return!1}},8567:function(ie,z,r){"use strict";var C=r(35948),E=r(20794).calcHover;ie.exports={hoverPoints:function(f,S,M){var v=f.cd[0].trace,c=f.scene.matrixOptions.cdata,i=f.xa,u=f.ya,a=i.c2p(S),o=u.c2p(M),l=f.distance,s=C.getDimIndex(v,i),d=C.getDimIndex(v,u);if(!1===s||!1===d)return[f];for(var g,p,T=c[s],_=c[d],y=l,w=0;w<T.length;w++){var b=_[w],k=i.c2p(T[w])-a,h=u.c2p(b)-o,O=Math.sqrt(k*k+h*h);O<y&&(y=p=O,g=w)}return f.index=g,f.distance=y,f.dxy=p,void 0===g?[f]:[E(f,T,_,v)]}}},6419:function(ie,z,r){"use strict";var C=r(65017);C.basePlotModule=r(16947),ie.exports=C},79410:function(ie,z,r){"use strict";var C=r(60487),E=r(71828),f=r(41675),S=r(64505).selectMode;function M(v,c){var i,u,a,o,l,s=v._fullLayout,d=s._size,g=c.trace,p=c.t,T=s._splomScenes[g.uid],_=T.matrixOptions,y=_.cdata,w=s._glcanvas.data()[0].regl,m=s.dragmode;if(0!==y.length){_.lower=g.showupperhalf,_.upper=g.showlowerhalf,_.diagonal=g.diagonal.visible;var b=g._visibleDims,k=y.length,h=T.viewOpts={};for(h.ranges=new Array(k),h.domains=new Array(k),l=0;l<b.length;l++){a=b[l];var O=h.ranges[l]=new Array(4),A=h.domains[l]=new Array(4);(i=f.getFromId(v,g._diag[a][0]))&&(O[0]=i._rl[0],O[2]=i._rl[1],A[0]=i.domain[0],A[2]=i.domain[1]),(u=f.getFromId(v,g._diag[a][1]))&&(O[1]=u._rl[0],O[3]=u._rl[1],A[1]=u.domain[0],A[3]=u.domain[1])}var I=v._context.plotGlPixelRatio,P=d.l*I,L=d.b*I;h.viewport=[P,L,d.w*I+P,d.h*I+L],!0===T.matrix&&(T.matrix=C(w));var W=s.clickmode.indexOf("select")>-1,j=!0;if(S(m)||g.selectedpoints||W){var Z=g._length;if(g.selectedpoints){T.selectBatch=g.selectedpoints;var V=g.selectedpoints,q={};for(a=0;a<V.length;a++)q[V[a]]=!0;var G=[];for(a=0;a<Z;a++)q[a]||G.push(a);T.unselectBatch=G}var H=p.xpx=new Array(k),ne=p.ypx=new Array(k);for(l=0;l<b.length;l++){if(i=f.getFromId(v,g._diag[a=b[l]][0]))for(H[l]=new Array(Z),o=0;o<Z;o++)H[l][o]=i.c2p(y[l][o]);if(u=f.getFromId(v,g._diag[a][1]))for(ne[l]=new Array(Z),o=0;o<Z;o++)ne[l][o]=u.c2p(y[l][o])}if(T.selectBatch.length||T.unselectBatch.length){var X=E.extendFlat({},_,T.unselectedOptions,h),$=E.extendFlat({},_,T.selectedOptions,h);T.matrix.update(X,$),j=!1}}else p.xpx=p.ypx=null;if(j){var Q=E.extendFlat({},_,h);T.matrix.update(Q,null)}}}ie.exports=function(v,c,i){if(i.length)for(var u=0;u<i.length;u++)M(v,i[u][0])}},10164:function(ie,z,r){"use strict";var C=r(71828);ie.exports=function(E,f){var S=E._fullLayout,M=f.uid,v=S._splomScenes;v||(v=S._splomScenes={});var c={dirty:!0,selectBatch:[],unselectBatch:[]},i=v[f.uid];return i||((i=v[M]=C.extendFlat({},c,{matrix:!1,selectBatch:[],unselectBatch:[]})).draw=function(){i.matrix&&i.matrix.draw&&(i.selectBatch.length||i.unselectBatch.length?i.matrix.draw(i.unselectBatch,i.selectBatch):i.matrix.draw()),i.dirty=!1},i.destroy=function(){i.matrix&&i.matrix.destroy&&i.matrix.destroy(),i.matrixOptions=null,i.selectBatch=null,i.unselectBatch=null,i=null}),i.dirty||C.extendFlat(i,c),i}},8689:function(ie,z,r){"use strict";var C=r(71828),E=C.pushUnique,f=r(34098),S=r(35948);ie.exports=function(M,v){var c=M.cd,i=c[0].trace,u=c[0].t,a=M.scene,o=a.matrixOptions.cdata,l=M.xaxis,s=M.yaxis,d=[];if(!a)return d;var g=!f.hasMarkers(i)&&!f.hasText(i);if(!0!==i.visible||g)return d;var p=S.getDimIndex(i,l),T=S.getDimIndex(i,s);if(!1===p||!1===T)return d;var _=u.xpx[p],y=u.ypx[T],w=o[p],m=o[T],b=(M.scene.selectBatch||[]).slice(),k=[];if(!1!==v&&!v.degenerate)for(var h=0;h<w.length;h++)v.contains([_[h],y[h]],null,h,M)?(d.push({pointNumber:h,x:w[h],y:m[h]}),E(b,h)):-1!==b.indexOf(h)?E(b,h):k.push(h);var O=a.matrixOptions;return b.length||k.length?a.selectBatch.length||a.unselectBatch.length||a.matrix.update(a.unselectedOptions,C.extendFlat({},O,a.selectedOptions,a.viewOpts)):a.matrix.update(O,null),a.selectBatch=b,a.unselectBatch=k,d}},21850:function(ie,z,r){"use strict";var C=r(50693),E=r(12663).axisHoverFormat,f=r(5386).f,S=r(2418),M=r(9012),v=r(1426).extendFlat,c={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:f({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:E("u",1),vhoverformat:E("v",1),whoverformat:E("w",1),xhoverformat:E("x"),yhoverformat:E("y"),zhoverformat:E("z"),showlegend:v({},M.showlegend,{dflt:!1})};v(c,C("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(i){c[i]=S[i]}),c.hoverinfo=v({},M.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),c.transforms=void 0,ie.exports=c},88489:function(ie,z,r){"use strict";var C=r(71828),E=r(78803);function f(v){var c,i,u,a,o,l,s,d,g,p,T,_,y=v._x,w=v._y,m=v._z,b=v._len,k=-1/0,h=1/0,O=-1/0,A=1/0,I=-1/0,P=1/0,L="";for(b&&(s=y[0],g=w[0],T=m[0]),b>1&&(d=y[b-1],p=w[b-1],_=m[b-1]),c=0;c<b;c++)k=Math.max(k,y[c]),h=Math.min(h,y[c]),O=Math.max(O,w[c]),A=Math.min(A,w[c]),I=Math.max(I,m[c]),P=Math.min(P,m[c]),a||y[c]===s||(a=!0,L+="x"),o||w[c]===g||(o=!0,L+="y"),l||m[c]===T||(l=!0,L+="z");a||(L+="x"),o||(L+="y"),l||(L+="z");var N=S(v._x),B=S(v._y),W=S(v._z);L=(L=(L=L.replace("x",(s>d?"-":"+")+"x")).replace("y",(g>p?"-":"+")+"y")).replace("z",(T>_?"-":"+")+"z");var j=function(){b=0,N=[],B=[],W=[]};(!b||b<N.length*B.length*W.length)&&j();var Z=function(pe){return"x"===pe?y:"y"===pe?w:m},V=function(pe){return"x"===pe?N:"y"===pe?B:W},q=function(pe){return pe[b-1]<pe[0]?-1:1},G=Z(L[1]),H=Z(L[3]),ne=Z(L[5]),X=V(L[1]).length,$=V(L[3]).length,Q=V(L[5]).length,te=!1,re=function(pe,ye,Ne){return X*($*pe+ye)+Ne},le=q(Z(L[1])),ue=q(Z(L[3])),he=q(Z(L[5]));for(c=0;c<Q-1;c++){for(i=0;i<$-1;i++){for(u=0;u<X-1;u++){var ge=re(c,i,u),xe=re(c,i,u+1),ke=re(c,i+1,u),Ae=re(c+1,i,u);if(G[ge]*le<G[xe]*le&&H[ge]*ue<H[ke]*ue&&ne[ge]*he<ne[Ae]*he||(te=!0),te)break}if(te)break}if(te)break}return te&&(C.warn("Encountered arbitrary coordinates! Unable to input data grid."),j()),{xMin:h,yMin:A,zMin:P,xMax:k,yMax:O,zMax:I,Xs:N,Ys:B,Zs:W,len:b,fill:L}}function S(v){return C.distinctVals(v).vals}function M(v,c){if(void 0===c&&(c=v.length),C.isTypedArray(v))return v.subarray(0,c);for(var i=[],u=0;u<c;u++)i[u]=+v[u];return i}ie.exports={calc:function(v,c){c._len=Math.min(c.u.length,c.v.length,c.w.length,c.x.length,c.y.length,c.z.length),c._u=M(c.u,c._len),c._v=M(c.v,c._len),c._w=M(c.w,c._len),c._x=M(c.x,c._len),c._y=M(c.y,c._len),c._z=M(c.z,c._len);var i=f(c);c._gridFill=i.fill,c._Xs=i.Xs,c._Ys=i.Ys,c._Zs=i.Zs,c._len=i.len;var u,a,o,l=0;c.starts&&(u=M(c.starts.x||[]),a=M(c.starts.y||[]),o=M(c.starts.z||[]),l=Math.min(u.length,a.length,o.length)),c._startsX=u||[],c._startsY=a||[],c._startsZ=o||[];var s,d=0,g=1/0;for(s=0;s<c._len;s++){var p=c._u[s],T=c._v[s],_=c._w[s],y=Math.sqrt(p*p+T*T+_*_);d=Math.max(d,y),g=Math.min(g,y)}for(E(v,c,{vals:[g,d],containerStr:"",cLetter:"c"}),s=0;s<l;s++){var w=u[s];i.xMax=Math.max(i.xMax,w),i.xMin=Math.min(i.xMin,w);var m=a[s];i.yMax=Math.max(i.yMax,m),i.yMin=Math.min(i.yMin,m);var b=o[s];i.zMax=Math.max(i.zMax,b),i.zMin=Math.min(i.zMin,b)}c._slen=l,c._normMax=d,c._xbnds=[i.xMin,i.xMax],c._ybnds=[i.yMin,i.yMax],c._zbnds=[i.zMin,i.zMax]},filter:M,processGrid:f}},90154:function(ie,z,r){"use strict";var C=r(9330).gl_streamtube3d,E=C.createTubeMesh,f=r(71828),S=r(81697).parseColorScale,M=r(21081).extractOpts,v=r(90060),c={xaxis:0,yaxis:1,zaxis:2};function i(s,d){this.scene=s,this.uid=d,this.mesh=null,this.data=null}var u=i.prototype;function a(s){var d=s.length;return d>2?s.slice(1,d-1):2===d?[(s[0]+s[1])/2]:s}function o(s){var d=s.length;return 1===d?[.5,.5]:[s[1]-s[0],s[d-1]-s[d-2]]}function l(s,d){var g=s.fullSceneLayout,p=s.dataScale,T=d._len,_={};function y(X,$){var Q=g[$],te=p[c[$]];return f.simpleMap(X,function(re){return Q.d2l(re)*te})}if(_.vectors=v(y(d._u,"xaxis"),y(d._v,"yaxis"),y(d._w,"zaxis"),T),!T)return{positions:[],cells:[]};var w=y(d._Xs,"xaxis"),m=y(d._Ys,"yaxis"),b=y(d._Zs,"zaxis");if(_.meshgrid=[w,m,b],_.gridFill=d._gridFill,d._slen)_.startingPositions=v(y(d._startsX,"xaxis"),y(d._startsY,"yaxis"),y(d._startsZ,"zaxis"));else{for(var k=m[0],h=a(w),O=a(b),A=new Array(h.length*O.length),I=0,P=0;P<h.length;P++)for(var L=0;L<O.length;L++)A[I++]=[h[P],k,O[L]];_.startingPositions=A}_.colormap=S(d),_.tubeSize=d.sizeref,_.maxLength=d.maxdisplayed;var N=y(d._xbnds,"xaxis"),B=y(d._ybnds,"yaxis"),W=y(d._zbnds,"zaxis"),j=o(w),Z=o(m),V=o(b),G=C(_,[[N[0]-j[0],B[0]-Z[0],W[0]-V[0]],[N[1]+j[1],B[1]+Z[1],W[1]+V[1]]]),H=M(d);G.vertexIntensityBounds=[H.min/d._normMax,H.max/d._normMax];var ne=d.lightposition;return G.lightPosition=[ne.x,ne.y,ne.z],G.ambient=d.lighting.ambient,G.diffuse=d.lighting.diffuse,G.specular=d.lighting.specular,G.roughness=d.lighting.roughness,G.fresnel=d.lighting.fresnel,G.opacity=d.opacity,d._pad=G.tubeScale*d.sizeref*2,G}u.handlePick=function(s){var d=this.scene.fullSceneLayout,g=this.scene.dataScale;function p(y,w){var b=g[c[w]];return d[w].l2c(y)/b}if(s.object===this.mesh){var T=s.data.position,_=s.data.velocity;return s.traceCoordinate=[p(T[0],"xaxis"),p(T[1],"yaxis"),p(T[2],"zaxis"),p(_[0],"xaxis"),p(_[1],"yaxis"),p(_[2],"zaxis"),s.data.intensity*this.data._normMax,s.data.divergence],s.textLabel=this.data.hovertext||this.data.text,!0}},u.update=function(s){this.data=s;var d=l(this.scene,s);this.mesh.update(d)},u.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},ie.exports=function(s,d){var g=s.glplot.gl,p=l(s,d),T=E(g,p),_=new i(s,d.uid);return _.mesh=T,_.data=d,T._trace=_,s.glplot.add(T),_}},22459:function(ie,z,r){"use strict";var C=r(71828),E=r(1586),f=r(21850);ie.exports=function(S,M,v,c){function i(g,p){return C.coerce(S,M,f,g,p)}var u=i("u"),a=i("v"),o=i("w"),l=i("x"),s=i("y"),d=i("z");u&&u.length&&a&&a.length&&o&&o.length&&l&&l.length&&s&&s.length&&d&&d.length?(i("starts.x"),i("starts.y"),i("starts.z"),i("maxdisplayed"),i("sizeref"),i("lighting.ambient"),i("lighting.diffuse"),i("lighting.specular"),i("lighting.roughness"),i("lighting.fresnel"),i("lightposition.x"),i("lightposition.y"),i("lightposition.z"),E(S,M,c,i,{prefix:"",cLetter:"c"}),i("text"),i("hovertext"),i("hovertemplate"),i("uhoverformat"),i("vhoverformat"),i("whoverformat"),i("xhoverformat"),i("yhoverformat"),i("zhoverformat"),M._length=null):M.visible=!1}},61510:function(ie,z,r){"use strict";ie.exports={moduleType:"trace",name:"streamtube",basePlotModule:r(58547),categories:["gl3d","showLegend"],attributes:r(21850),supplyDefaults:r(22459),colorbar:{min:"cmin",max:"cmax"},calc:r(88489).calc,plot:r(90154),eventData:function(C,E){return C.tubex=C.x,C.tubey=C.y,C.tubez=C.z,C.tubeu=E.traceCoordinate[3],C.tubev=E.traceCoordinate[4],C.tubew=E.traceCoordinate[5],C.norm=E.traceCoordinate[6],C.divergence=E.traceCoordinate[7],delete C.x,delete C.y,delete C.z,C},meta:{}}},57564:function(ie,z,r){"use strict";var C=r(9012),E=r(5386).f,f=r(5386).s,S=r(50693),M=r(27670).Y,v=r(34e3),c=r(7055),i=r(1426).extendFlat;ie.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:i({colors:{valType:"data_array",editType:"calc"},line:{color:i({},v.marker.line.color,{dflt:null}),width:i({},v.marker.line.width,{dflt:1}),editType:"calc"},editType:"calc"},S("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:v.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:f({editType:"plot"},{keys:c.eventDataKeys.concat(["label","value"])}),hovertext:v.hovertext,hoverinfo:i({},C.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:E({},{keys:c.eventDataKeys}),textfont:v.textfont,insidetextorientation:v.insidetextorientation,insidetextfont:v.insidetextfont,outsidetextfont:i({},v.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:v.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:M({name:"sunburst",trace:!0,editType:"calc"})}},66888:function(ie,z,r){"use strict";var C=r(74875);z.name="sunburst",z.plot=function(E,f,S,M){C.plotBasePlot(z.name,E,f,S,M)},z.clean=function(E,f,S,M){C.cleanBasePlot(z.name,E,f,S,M)}},52147:function(ie,z,r){"use strict";var C=r(674),E=r(92770),f=r(71828),S=r(21081).makeColorScaleFuncFromTrace,M=r(32354).makePullColorFn,v=r(32354).generateExtendedColors,c=r(21081).calc,i=r(50606).ALMOST_EQUAL,u={},a={},o={};function l(s,d,g){var p=0,T=s.children;if(T){for(var _=T.length,y=0;y<_;y++)p+=l(T[y],d,g);g.branches&&p++}else g.leaves&&p++;return s.value=s.data.data.value=p,d._values||(d._values=[]),d._values[s.data.data.i]=p,p}z.calc=function(s,d){var g,p,T,_,y,w,m=s._fullLayout,b=d.ids,k=f.isArrayOrTypedArray(b),h=d.labels,O=d.parents,A=d.values,I=f.isArrayOrTypedArray(A),P=[],L={},N={},B=function(he){return he||"number"==typeof he},W=function(he){return!I||E(A[he])&&A[he]>=0};k?(g=Math.min(b.length,O.length),p=function(he){return B(b[he])&&W(he)},T=function(he){return String(b[he])}):(g=Math.min(h.length,O.length),p=function(he){return B(h[he])&&W(he)},T=function(he){return String(h[he])}),I&&(g=Math.min(g,A.length));for(var j=0;j<g;j++)if(p(j)){var Z=T(j),V=B(O[j])?String(O[j]):"",q={i:j,id:Z,pid:V,label:B(h[j])?String(h[j]):""};I&&(q.v=+A[j]),P.push(q),y=Z,L[_=V]?L[_].push(y):L[_]=[y],N[y]=1}if(L[""]){if(L[""].length>1){for(var G=f.randstr(),H=0;H<P.length;H++)""===P[H].pid&&(P[H].pid=G);P.unshift({hasMultipleRoots:!0,id:G,pid:"",label:""})}}else{var ne,X=[];for(ne in L)N[ne]||X.push(ne);if(1!==X.length)return f.warn(["Multiple implied roots, cannot build",d.type,"hierarchy of",d.name+".","These roots include:",X.join(", ")].join(" "));P.unshift({hasImpliedRoot:!0,id:ne=X[0],pid:"",label:ne})}try{w=C.stratify().id(function(he){return he.id}).parentId(function(he){return he.pid})(P)}catch(he){return f.warn(["Failed to build",d.type,"hierarchy of",d.name+".","Error:",he.message].join(" "))}var $=C.hierarchy(w),Q=!1;if(I)switch(d.branchvalues){case"remainder":$.sum(function(he){return he.data.v});break;case"total":$.each(function(he){var ge=he.data.data,xe=ge.v;if(he.children){var ke=he.children.reduce(function(Ae,pe){return Ae+pe.data.data.v},0);if((ge.hasImpliedRoot||ge.hasMultipleRoots)&&(xe=ke),xe<ke*i)return Q=!0,f.warn(["Total value for node",he.data.data.id,"of",d.name,"is smaller than the sum of its children.","\nparent value =",xe,"\nchildren sum =",ke].join(" "))}he.value=xe})}else l($,d,{branches:-1!==d.count.indexOf("branches"),leaves:-1!==d.count.indexOf("leaves")});if(!Q){var te,re;d.sort&&$.sort(function(he,ge){return ge.value-he.value});var le=d.marker.colors||[];return d._hasColorscale?(!!le.length||(le=I?d.values:d._values),c(s,d,{vals:le,containerStr:"marker",cLetter:"c"}),re=S(d.marker)):te=M(m["_"+d.type+"colormap"]),$.each(function(he){var ge=he.data.data;ge.color=d._hasColorscale?re(le[ge.i]):te(le[ge.i],ge.id)}),P[0].hierarchy=$,P}},z._runCrossTraceCalc=function(s,d){var g=d._fullLayout,p=d.calcdata,T=g[s+"colorway"],_=g["_"+s+"colormap"];g["extend"+s+"colors"]&&(T=v(T,"icicle"===s?o:"treemap"===s?a:u));var y,w=0;function m(h){var O=h.data.data,A=O.id;!1===O.color&&(_[A]?O.color=_[A]:h.parent?h.parent.parent?O.color=h.parent.data.data.color:(_[A]=O.color=T[w%T.length],w++):O.color=y)}for(var b=0;b<p.length;b++){var k=p[b][0];k.trace.type===s&&k.hierarchy&&(y=k.trace.root.color,k.hierarchy.each(m))}},z.crossTraceCalc=function(s){return z._runCrossTraceCalc("sunburst",s)}},7055:function(ie){"use strict";ie.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},17094:function(ie,z,r){"use strict";var C=r(71828),E=r(57564),f=r(27670).c,S=r(90769).handleText,M=r(21081),v=M.hasColorscale,c=M.handleDefaults;ie.exports=function(i,u,a,o){function l(_,y){return C.coerce(i,u,E,_,y)}var s=l("labels"),d=l("parents");if(s&&s.length&&d&&d.length){var g=l("values");l(g&&g.length?"branchvalues":"count"),l("level"),l("maxdepth"),l("marker.line.width")&&l("marker.line.color",o.paper_bgcolor),l("marker.colors");var p=u._hasColorscale=v(i,"marker","colors")||(i.marker||{}).coloraxis;p&&c(i,u,o,l,{prefix:"marker.",cLetter:"c"}),l("leaf.opacity",p?1:.7);var T=l("text");l("texttemplate"),u.texttemplate||l("textinfo",Array.isArray(T)?"text+label":"label"),l("hovertext"),l("hovertemplate"),S(i,u,o,l,"auto",{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),l("insidetextorientation"),l("sort"),l("rotation"),l("root.color"),f(u,o,l),u._length=null}else u.visible=!1}},83523:function(ie,z,r){"use strict";var C=r(39898),E=r(73972),f=r(23469).appendArrayPointValue,S=r(30211),M=r(71828),v=r(11086),c=r(2791),i=r(53581).formatPieValue;function u(a,o,l){for(var s=a.data.data,d={curveNumber:o.index,pointNumber:s.i,data:o._input,fullData:o},g=0;g<l.length;g++){var p=l[g];p in a&&(d[p]=a[p])}return"parentString"in a&&!c.isHierarchyRoot(a)&&(d.parent=a.parentString),f(d,o,s.i),d}ie.exports=function(a,o,l,s,d){var g=s[0],p=g.trace,T=g.hierarchy,_="sunburst"===p.type,y="treemap"===p.type||"icicle"===p.type;"_hasHoverLabel"in p||(p._hasHoverLabel=!1),"_hasHoverEvent"in p||(p._hasHoverEvent=!1),a.on("mouseover",function(w){var m=l._fullLayout;if(!l._dragging&&!1!==m.hovermode){var b,k=l._fullData[p.index],h=w.data.data,O=h.i,A=c.isHierarchyRoot(w),I=c.getParent(T,w),P=c.getValue(w),L=function(le){return M.castOption(k,O,le)},N=L("hovertemplate"),B=S.castHoverinfo(k,m,O),W=m.separators;if(N||B&&"none"!==B&&"skip"!==B){var j,Z;_&&(j=g.cx+w.pxmid[0]*(1-w.rInscribed),Z=g.cy+w.pxmid[1]*(1-w.rInscribed)),y&&(j=w._hoverX,Z=w._hoverY);var V,q={},G=[],H=[],ne=function(le){return-1!==G.indexOf(le)};B&&(G="all"===B?k._module.attributes.hoverinfo.flags:B.split("+")),q.label=h.label,ne("label")&&q.label&&H.push(q.label),h.hasOwnProperty("v")&&(q.value=h.v,q.valueLabel=i(q.value,W),ne("value")&&H.push(q.valueLabel)),q.currentPath=w.currentPath=c.getPath(w.data),ne("current path")&&!A&&H.push(q.currentPath);var X=[],$=function(){-1===X.indexOf(V)&&(H.push(V),X.push(V))};q.percentParent=w.percentParent=P/c.getValue(I),q.parent=w.parentString=c.getPtLabel(I),ne("percent parent")&&(V=c.formatPercent(q.percentParent,W)+" of "+q.parent,$()),q.percentEntry=w.percentEntry=P/c.getValue(o),q.entry=w.entry=c.getPtLabel(o),!ne("percent entry")||A||w.onPathbar||(V=c.formatPercent(q.percentEntry,W)+" of "+q.entry,$()),q.percentRoot=w.percentRoot=P/c.getValue(T),q.root=w.root=c.getPtLabel(T),ne("percent root")&&!A&&(V=c.formatPercent(q.percentRoot,W)+" of "+q.root,$()),q.text=L("hovertext")||L("text"),ne("text")&&M.isValidTextValue(V=q.text)&&H.push(V),b=[u(w,k,d.eventDataKeys)];var Q={trace:k,y:Z,_x0:w._x0,_x1:w._x1,_y0:w._y0,_y1:w._y1,text:H.join("<br>"),name:N||ne("name")?k.name:void 0,color:L("hoverlabel.bgcolor")||h.color,borderColor:L("hoverlabel.bordercolor"),fontFamily:L("hoverlabel.font.family"),fontSize:L("hoverlabel.font.size"),fontColor:L("hoverlabel.font.color"),nameLength:L("hoverlabel.namelength"),textAlign:L("hoverlabel.align"),hovertemplate:N,hovertemplateLabels:q,eventData:b};_&&(Q.x0=j-w.rInscribed*w.rpx1,Q.x1=j+w.rInscribed*w.rpx1,Q.idealAlign=w.pxmid[0]<0?"left":"right"),y&&(Q.x=j,Q.idealAlign=j<0?"left":"right");var te=[];S.loneHover(Q,{container:m._hoverlayer.node(),outerContainer:m._paper.node(),gd:l,inOut_bbox:te}),b[0].bbox=te[0],p._hasHoverLabel=!0}if(y){var re=a.select("path.surface");d.styleOne(re,w,k,{hovered:!0})}p._hasHoverEvent=!0,l.emit("plotly_hover",{points:b||[u(w,k,d.eventDataKeys)],event:C.event})}}),a.on("mouseout",function(w){var m=l._fullLayout,b=l._fullData[p.index],k=C.select(this).datum();if(p._hasHoverEvent&&(w.originalEvent=C.event,l.emit("plotly_unhover",{points:[u(k,b,d.eventDataKeys)],event:C.event}),p._hasHoverEvent=!1),p._hasHoverLabel&&(S.loneUnhover(m._hoverlayer.node()),p._hasHoverLabel=!1),y){var h=a.select("path.surface");d.styleOne(h,k,b,{hovered:!1})}}),a.on("click",function(w){var m=l._fullLayout,b=l._fullData[p.index],k=_&&(c.isHierarchyRoot(w)||c.isLeaf(w)),h=c.getPtId(w),O=c.isEntry(w)?c.findEntryWithChild(T,h):c.findEntryWithLevel(T,h),A=c.getPtId(O),I={points:[u(w,b,d.eventDataKeys)],event:C.event};k||(I.nextLevel=A);var P=v.triggerHandler(l,"plotly_"+p.type+"click",I);if(!1!==P&&m.hovermode&&(l._hoverdata=[u(w,b,d.eventDataKeys)],S.click(l,C.event)),!k&&!1!==P&&!l._dragging&&!l._transitioning){E.call("_storeDirectGUIEdit",b,m._tracePreGUI[b.uid],{level:b.level});var L={data:[{level:A}],traces:[p.index]},N={frame:{redraw:!1,duration:d.transitionTime},transition:{duration:d.transitionTime,easing:d.transitionEasing},mode:"immediate",fromcurrent:!0};S.loneUnhover(m._hoverlayer.node()),E.call("animate",l,L,N)}})}},2791:function(ie,z,r){"use strict";var C=r(71828),E=r(7901),f=r(6964),S=r(53581);function M(v){return v.data.data.pid}z.findEntryWithLevel=function(v,c){var i;return c&&v.eachAfter(function(u){if(z.getPtId(u)===c)return i=u.copy()}),i||v},z.findEntryWithChild=function(v,c){var i;return v.eachAfter(function(u){for(var a=u.children||[],o=0;o<a.length;o++)if(z.getPtId(a[o])===c)return i=u.copy()}),i||v},z.isEntry=function(v){return!v.parent},z.isLeaf=function(v){return!v.children},z.getPtId=function(v){return v.data.data.id},z.getPtLabel=function(v){return v.data.data.label},z.getValue=function(v){return v.value},z.isHierarchyRoot=function(v){return""===M(v)},z.setSliceCursor=function(v,c,i){var u=i.isTransitioning;if(!u){var a=v.datum();u=i.hideOnRoot&&z.isHierarchyRoot(a)||i.hideOnLeaves&&z.isLeaf(a)}f(v,u?null:"pointer")},z.getInsideTextFontKey=function(v,c,i,u,a){var l=i.data.data.i;return C.castOption(c,l,((a||{}).onPathbar?"pathbar.textfont":"insidetextfont")+"."+v)||C.castOption(c,l,"textfont."+v)||u.size},z.getOutsideTextFontKey=function(v,c,i,u){var a=i.data.data.i;return C.castOption(c,a,"outsidetextfont."+v)||C.castOption(c,a,"textfont."+v)||u.size},z.isOutsideText=function(v,c){return!v._hasColorscale&&z.isHierarchyRoot(c)},z.determineTextFont=function(v,c,i,u){return z.isOutsideText(v,c)?{color:z.getOutsideTextFontKey("color",a=v,o=c,l=i),family:z.getOutsideTextFontKey("family",a,o,l),size:z.getOutsideTextFontKey("size",a,o,l)}:function(a,o,l,s){var g=o.data.data,p=g.i,T=C.castOption(a,p,((s||{}).onPathbar?"pathbar.textfont":"insidetextfont")+".color");return!T&&a._input.textfont&&(T=C.castOption(a._input,p,"textfont.color")),{color:T||E.contrast(g.color),family:z.getInsideTextFontKey("family",a,o,l,s),size:z.getInsideTextFontKey("size",a,o,l,s)}}(v,c,i,u);var a,o,l},z.hasTransition=function(v){return!!(v&&v.duration>0)},z.getMaxDepth=function(v){return v.maxdepth>=0?v.maxdepth:1/0},z.isHeader=function(v,c){return!(z.isLeaf(v)||v.depth===c._maxDepth-1)},z.getParent=function(v,c){return z.findEntryWithLevel(v,M(c))},z.listPath=function(v,c){var i=v.parent;if(!i)return[];var u=c?[i.data[c]]:[i];return z.listPath(i,c).concat(u)},z.getPath=function(v){return z.listPath(v,"label").join("/")+"/"},z.formatValue=S.formatPieValue,z.formatPercent=function(v,c){var i=C.formatPercent(v,0);return"0%"===i&&(i=S.formatPiePercent(v,c)),i}},87619:function(ie,z,r){"use strict";ie.exports={moduleType:"trace",name:"sunburst",basePlotModule:r(66888),categories:[],animatable:!0,attributes:r(57564),layoutAttributes:r(2654),supplyDefaults:r(17094),supplyLayoutDefaults:r(57034),calc:r(52147).calc,crossTraceCalc:r(52147).crossTraceCalc,plot:r(24714).plot,style:r(29969).style,colorbar:r(4898),meta:{}}},2654:function(ie){"use strict";ie.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57034:function(ie,z,r){"use strict";var C=r(71828),E=r(2654);ie.exports=function(f,S){function M(v,c){return C.coerce(f,S,E,v,c)}M("sunburstcolorway",S.colorway),M("extendsunburstcolors")}},24714:function(ie,z,r){"use strict";var C=r(39898),E=r(674),f=r(81684).sX,S=r(91424),M=r(71828),v=r(63893),c=r(72597),i=c.recordMinTextSize,u=c.clearMinTextSize,a=r(14575),o=r(53581).getRotationAngle,l=a.computeTransform,s=a.transformInsideText,d=r(29969).styleOne,g=r(16688).resizeText,p=r(83523),T=r(7055),_=r(2791);function y(m,b,k,h){var O=m._context.staticPlot,A=m._fullLayout,I=!A.uniformtext.mode&&_.hasTransition(h),P=C.select(k).selectAll("g.slice"),L=b[0],N=L.trace,W=_.findEntryWithLevel(L.hierarchy,N.level),j=_.getMaxDepth(N),Z=A._size,V=N.domain,G=Z.h*(V.y[1]-V.y[0]),H=.5*Math.min(Z.w*(V.x[1]-V.x[0]),G),ne=L.cx=Z.l+Z.w*(V.x[1]+V.x[0])/2,X=L.cy=Z.t+Z.h*(1-V.y[0])-G/2;if(!W)return P.remove();var $=null,Q={};I&&P.each(function(De){Q[_.getPtId(De)]={rpx0:De.rpx0,rpx1:De.rpx1,x0:De.x0,x1:De.x1,transform:De.transform},!$&&_.isEntry(De)&&($=De)});var De,te=(De=W,E.partition().size([2*Math.PI,De.height+1])(De)).descendants(),re=W.height+1,le=0,ue=j;L.hasMultipleRoots&&_.isHierarchyRoot(W)&&(te=te.slice(1),re-=1,le=1,ue+=1),te=te.filter(function(De){return De.y1<=ue});var he=o(N.rotation);he&&te.forEach(function(De){De.x0+=he,De.x1+=he});var ge=Math.min(re,j),xe=function(De){return(De-le)/ge*H},ke=function(De,oe){return[De*Math.cos(oe),-De*Math.sin(oe)]},Ae=function(De){return M.pathAnnulus(De.rpx0,De.rpx1,De.x0,De.x1,ne,X)},pe=function(De){return ne+w(De)[0]*(De.transform.rCenter||0)+(De.transform.x||0)},ye=function(De){return X+w(De)[1]*(De.transform.rCenter||0)+(De.transform.y||0)};(P=P.data(te,_.getPtId)).enter().append("g").classed("slice",!0),I?P.exit().transition().each(function(){var De=C.select(this);De.select("path.surface").transition().attrTween("d",function(oe){var de=function(_e){var Me,Pe=_.getPtId(_e),Ue=Q[Pe],Be=Q[_.getPtId(W)];if(Be){var Ve=(_e.x1>Be.x1?2*Math.PI:0)+he;Me=_e.rpx1<Be.rpx1?{x0:_e.x0,x1:_e.x1,rpx0:0,rpx1:0}:{x0:Ve,x1:Ve,rpx0:_e.rpx0,rpx1:_e.rpx1}}else{var ve,Te=_.getPtId(_e.parent);P.each(function(ht){if(_.getPtId(ht)===Te)return ve=ht});var Ce,We=ve.children;We.forEach(function(ht,ft){if(_.getPtId(ht)===Pe)return Ce=ft});var Ke=We.length,Je=f(ve.x0,ve.x1);Me={rpx0:H,rpx1:H,x0:Je(Ce/Ke),x1:Je((Ce+1)/Ke)}}return f(Ue,Me)}(oe);return function(_e){return Ae(de(_e))}}),De.select("g.slicetext").attr("opacity",0)}).remove():P.exit().remove(),P.order();var Ne=null;if(I&&$){var be=_.getPtId($);P.each(function(De){null===Ne&&_.getPtId(De)===be&&(Ne=De.x1)})}var Ee=P;function Oe(De){var oe=De.parent,de=Q[_.getPtId(oe)],_e={};if(de){var Me=oe.children,Pe=Me.indexOf(De),Ue=Me.length,Be=f(de.x0,de.x1);_e.x0=Be(Pe/Ue),_e.x1=Be(Pe/Ue)}else _e.x0=_e.x1=0;return _e}I&&(Ee=Ee.transition().each("end",function(){var De=C.select(this);_.setSliceCursor(De,m,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),Ee.each(function(De){var Ve,oe=C.select(this),de=M.ensureSingle(oe,"path","surface",function(Ve){Ve.style("pointer-events",O?"none":"all")});De.rpx0=xe(De.y0),De.rpx1=xe(De.y1),De.xmid=(De.x0+De.x1)/2,De.pxmid=ke(De.rpx1,De.xmid),De.midangle=-(De.xmid-Math.PI/2),De.startangle=-(De.x0-Math.PI/2),De.stopangle=-(De.x1-Math.PI/2),De.halfangle=.5*Math.min(M.angleDelta(De.x0,De.x1)||Math.PI,Math.PI),De.ring=1-De.rpx0/De.rpx1,De.rInscribed=0===(Ve=De).rpx0&&M.isFullCircle([Ve.x0,Ve.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(Ve.halfangle)),Ve.ring/2)),I?de.transition().attrTween("d",function(Ve){var ve=function(Te){var Ce,We=Q[_.getPtId(Te)],Ke={x0:Te.x0,x1:Te.x1,rpx0:Te.rpx0,rpx1:Te.rpx1};if(We)Ce=We;else if($)if(Te.parent)if(Ne){var Je=(Te.x1>Ne?2*Math.PI:0)+he;Ce={x0:Je,x1:Je}}else M.extendFlat(Ce={rpx0:H,rpx1:H},Oe(Te));else Ce={rpx0:0,rpx1:0};else Ce={x0:he,x1:he};return f(Ce,Ke)}(Ve);return function(Te){return Ae(ve(Te))}}):de.attr("d",Ae),oe.call(p,W,m,b,{eventDataKeys:T.eventDataKeys,transitionTime:T.CLICK_TRANSITION_TIME,transitionEasing:T.CLICK_TRANSITION_EASING}).call(_.setSliceCursor,m,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:m._transitioning}),de.call(d,De,N);var _e=M.ensureSingle(oe,"g","slicetext"),Me=M.ensureSingle(_e,"text","",function(Ve){Ve.attr("data-notex",1)}),Pe=M.ensureUniformFontSize(m,_.determineTextFont(N,De,A.font));Me.text(z.formatSliceLabel(De,W,N,b,A)).classed("slicetext",!0).attr("text-anchor","middle").call(S.font,Pe).call(v.convertToTspans,m);var Ue=S.bBox(Me.node());De.transform=s(Ue,De,L),De.transform.targetX=pe(De),De.transform.targetY=ye(De);var Be=function(Ve,ve){var Te=Ve.transform;return l(Te,ve),Te.fontSize=Pe.size,i(N.type,Te,A),M.getTextTransform(Te)};I?Me.transition().attrTween("transform",function(Ve){var ve=function(Te){var Ce,We=Q[_.getPtId(Te)],Ke=Te.transform;if(We)Ce=We;else if(Ce={rpx1:Te.rpx1,transform:{textPosAngle:Ke.textPosAngle,scale:0,rotate:Ke.rotate,rCenter:Ke.rCenter,x:Ke.x,y:Ke.y}},$)if(Te.parent)if(Ne){var Je=Te.x1>Ne?2*Math.PI:0;Ce.x0=Ce.x1=Je}else M.extendFlat(Ce,Oe(Te));else Ce.x0=Ce.x1=he;else Ce.x0=Ce.x1=he;var ht=f(Ce.transform.textPosAngle,Te.transform.textPosAngle),ft=f(Ce.rpx1,Te.rpx1),mt=f(Ce.x0,Te.x0),At=f(Ce.x1,Te.x1),Rt=f(Ce.transform.scale,Ke.scale),It=f(Ce.transform.rotate,Ke.rotate),Pt=0===Ke.rCenter?3:0===Ce.transform.rCenter?1/3:1,Bt=f(Ce.transform.rCenter,Ke.rCenter);return function(Ut){var Vt=ft(Ut),tn=mt(Ut),Gt=At(Ut),et=Bt(Math.pow(Ut,Pt)),nt={pxmid:ke(Vt,(tn+Gt)/2),rpx1:Vt,transform:{textPosAngle:ht(Ut),rCenter:et,x:Ke.x,y:Ke.y}};return i(N.type,Ke,A),{transform:{targetX:pe(nt),targetY:ye(nt),scale:Rt(Ut),rotate:It(Ut),rCenter:et}}}}(Ve);return function(Te){return Be(ve(Te),Ue)}}):Me.attr("transform",Be(De,Ue))})}function w(m){return k=m.transform.textPosAngle,[(b=m.rpx1)*Math.sin(k),-b*Math.cos(k)];var b,k}z.plot=function(m,b,k,h){var O,A,I=m._fullLayout,P=I._sunburstlayer,L=!k,N=!I.uniformtext.mode&&_.hasTransition(k);u("sunburst",I),(O=P.selectAll("g.trace.sunburst").data(b,function(B){return B[0].trace.uid})).enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),O.order(),N?(h&&(A=h()),C.transition().duration(k.duration).ease(k.easing).each("end",function(){A&&A()}).each("interrupt",function(){A&&A()}).each(function(){P.selectAll("g.trace").each(function(B){y(m,B,this,k)})})):(O.each(function(B){y(m,B,this,k)}),I.uniformtext.mode&&g(m,I._sunburstlayer.selectAll(".trace"),"sunburst")),L&&O.exit().remove()},z.formatSliceLabel=function(m,b,k,h,O){var A=k.texttemplate,I=k.textinfo;if(!(A||I&&"none"!==I))return"";var P=O.separators,N=m.data.data,B=h[0].hierarchy,W=_.isHierarchyRoot(m),j=_.getParent(B,m),Z=_.getValue(m);if(!A){var V,q=I.split("+"),G=function(ue){return-1!==q.indexOf(ue)},H=[];if(G("label")&&N.label&&H.push(N.label),N.hasOwnProperty("v")&&G("value")&&H.push(_.formatValue(N.v,P)),!W){G("current path")&&H.push(_.getPath(m.data));var ne=0;G("percent parent")&&ne++,G("percent entry")&&ne++,G("percent root")&&ne++;var X=ne>1;if(ne){var $,Q=function(ue){V=_.formatPercent($,P),X&&(V+=" of "+ue),H.push(V)};G("percent parent")&&!W&&($=Z/_.getValue(j),Q("parent")),G("percent entry")&&($=Z/_.getValue(b),Q("entry")),G("percent root")&&($=Z/_.getValue(B),Q("root"))}}return G("text")&&(V=M.castOption(k,N.i,"text"),M.isValidTextValue(V)&&H.push(V)),H.join("<br>")}var te=M.castOption(k,N.i,"texttemplate");if(!te)return"";var re={};N.label&&(re.label=N.label),N.hasOwnProperty("v")&&(re.value=N.v,re.valueLabel=_.formatValue(N.v,P)),re.currentPath=_.getPath(m.data),W||(re.percentParent=Z/_.getValue(j),re.percentParentLabel=_.formatPercent(re.percentParent,P),re.parent=_.getPtLabel(j)),re.percentEntry=Z/_.getValue(b),re.percentEntryLabel=_.formatPercent(re.percentEntry,P),re.entry=_.getPtLabel(b),re.percentRoot=Z/_.getValue(B),re.percentRootLabel=_.formatPercent(re.percentRoot,P),re.root=_.getPtLabel(B),N.hasOwnProperty("color")&&(re.color=N.color);var le=M.castOption(k,N.i,"text");return(M.isValidTextValue(le)||""===le)&&(re.text=le),re.customdata=M.castOption(k,N.i,"customdata"),M.texttemplateString(te,re,O._d3locale,re,k._meta||{})}},29969:function(ie,z,r){"use strict";var C=r(39898),E=r(7901),f=r(71828),S=r(72597).resizeText;function M(v,c,i){var u=c.data.data,a=!c.children,o=u.i,l=f.castOption(i,o,"marker.line.color")||E.defaultLine,s=f.castOption(i,o,"marker.line.width")||0;v.style("stroke-width",s).call(E.fill,u.color).call(E.stroke,l).style("opacity",a?i.leaf.opacity:null)}ie.exports={style:function(v){var c=v._fullLayout._sunburstlayer.selectAll(".trace");S(v,c,"sunburst"),c.each(function(i){var u=C.select(this),a=i[0].trace;u.style("opacity",a.opacity),u.selectAll("path.surface").each(function(o){C.select(this).call(M,o,a)})})},styleOne:M}},54532:function(ie,z,r){"use strict";var C=r(7901),E=r(50693),f=r(12663).axisHoverFormat,S=r(5386).f,M=r(9012),v=r(1426).extendFlat,c=r(30962).overrideAll;function i(a){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:{valType:"boolean",dflt:!1},y:{valType:"boolean",dflt:!1},z:{valType:"boolean",dflt:!1}},color:{valType:"color",dflt:C.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:C.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var u=ie.exports=c(v({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:S(),xhoverformat:f("x"),yhoverformat:f("y"),zhoverformat:f("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},E("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:i(),y:i(),z:i()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:v({},E.zauto,{}),zmin:v({},E.zmin,{}),zmax:v({},E.zmax,{})},hoverinfo:v({},M.hoverinfo),showlegend:v({},M.showlegend,{dflt:!1})}),"calc","nested");u.x.editType=u.y.editType=u.z.editType="calc+clearAxisTypes",u.transforms=void 0},18396:function(ie,z,r){"use strict";var C=r(78803);ie.exports=function(E,f){C(E,f,f.surfacecolor?{vals:f.surfacecolor,containerStr:"",cLetter:"c"}:{vals:f.z,containerStr:"",cLetter:"c"})}},43768:function(ie,z,r){"use strict";var C=r(9330).gl_surface3d,E=r(9330).ndarray,f=r(9330).ndarray_linear_interpolate.d2,S=r(824),M=r(43907),v=r(71828).isArrayOrTypedArray,c=r(81697).parseColorScale,i=r(78614),u=r(21081).extractOpts;function a(k,h,O){this.scene=k,this.uid=O,this.surface=h,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var o=a.prototype;o.getXat=function(k,h,O,A){var I=v(this.data.x)?v(this.data.x[0])?this.data.x[h][k]:this.data.x[k]:k;return void 0===O?I:A.d2l(I,0,O)},o.getYat=function(k,h,O,A){var I=v(this.data.y)?v(this.data.y[0])?this.data.y[h][k]:this.data.y[h]:h;return void 0===O?I:A.d2l(I,0,O)},o.getZat=function(k,h,O,A){var I=this.data.z[h][k];return null===I&&this.data.connectgaps&&this.data._interpolatedZ&&(I=this.data._interpolatedZ[h][k]),void 0===O?I:A.d2l(I,0,O)},o.handlePick=function(k){if(k.object===this.surface){var O=(k.data.index[1]-1)/this.dataScaleY-1,A=Math.max(Math.min(Math.round((k.data.index[0]-1)/this.dataScaleX-1),this.data.z[0].length-1),0),I=Math.max(Math.min(Math.round(O),this.data._ylength-1),0);k.index=[A,I],k.traceCoordinate=[this.getXat(A,I),this.getYat(A,I),this.getZat(A,I)],k.dataCoordinate=[this.getXat(A,I,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(A,I,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(A,I,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var P=0;P<3;P++)null!=k.dataCoordinate[P]&&(k.dataCoordinate[P]*=this.scene.dataScale[P]);var L=this.data.hovertext||this.data.text;return k.textLabel=Array.isArray(L)&&L[I]&&void 0!==L[I][A]?L[I][A]:L||"",k.data.dataCoordinate=k.dataCoordinate.slice(),this.surface.highlight(k.data),this.scene.glplot.spikes.position=k.dataCoordinate,!0}};var l=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function s(k,h){if(k<h)return 0;for(var O=0;0===Math.floor(k%h);)k/=h,O++;return O}function d(k){for(var h=[],O=0;O<l.length;O++)h.push(s(k,l[O]));return h}function g(k){for(var h=d(k),O=k,A=0;A<l.length;A++)if(h[A]>0){O=l[A];break}return O}function p(k,h){if(!(k<1||h<1)){for(var O=d(k),A=d(h),I=1,P=0;P<l.length;P++)I*=Math.pow(l[P],Math.max(O[P],A[P]));return I}}o.calcXnums=function(k){var h,O=[];for(h=1;h<k;h++){var A=this.getXat(h-1,0),I=this.getXat(h,0);O[h-1]=I!==A&&null!=A&&null!=I?Math.abs(I-A):0}var P=0;for(h=1;h<k;h++)P+=O[h-1];for(h=1;h<k;h++)O[h-1]=0===O[h-1]?1:Math.round(P/O[h-1]);return O},o.calcYnums=function(k){var h,O=[];for(h=1;h<k;h++){var A=this.getYat(0,h-1),I=this.getYat(0,h);O[h-1]=I!==A&&null!=A&&null!=I?Math.abs(I-A):0}var P=0;for(h=1;h<k;h++)P+=O[h-1];for(h=1;h<k;h++)O[h-1]=0===O[h-1]?1:Math.round(P/O[h-1]);return O};var T=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],_=T[9],y=T[13];function w(k,h,O){var A=O[8]+O[2]*h[0]+O[5]*h[1];return k[0]=(O[6]+O[0]*h[0]+O[3]*h[1])/A,k[1]=(O[7]+O[1]*h[0]+O[4]*h[1])/A,k}function m(k,h,O){return function(A,I,P,L){for(var N=[0,0],B=A.shape[0],W=A.shape[1],j=0;j<B;j++)for(var Z=0;Z<W;Z++)P(N,[j,Z],L),A.set(j,Z,f(I,N[0],N[1]))}(k,h,w,O),k}function b(k,h){for(var O=!1,A=0;A<k.length;A++)if(h===k[A]){O=!0;break}!1===O&&k.push(h)}o.estimateScale=function(k,h){for(var O=1+function(I){if(0!==I.length){for(var P=1,L=0;L<I.length;L++)P=p(P,I[L]);return P}}(0===h?this.calcXnums(k):this.calcYnums(k));O<_;)O*=2;for(;O>y;)O--,O/=g(O),++O<_&&(O=y);var A=Math.round(O/k);return A>1?A:1},o.refineCoords=function(k){for(var h=this.dataScaleX,O=this.dataScaleY,A=k[0].shape[0],I=k[0].shape[1],P=0|Math.floor(k[0].shape[0]*h+1),L=0|Math.floor(k[0].shape[1]*O+1),N=1+A+1,B=1+I+1,W=E(new Float32Array(N*B),[N,B]),j=[1/h,0,0,0,1/O,0,0,0,1],Z=0;Z<k.length;++Z){this.surface.padField(W,k[Z]);var V=E(new Float32Array(P*L),[P,L]);m(V,W,j),k[Z]=V}},o.setContourLevels=function(){var k,h,A=[[],[],[]],I=[!1,!1,!1],P=!1;for(k=0;k<3;++k)if(this.showContour[k]&&(P=!0,this.contourSize[k]>0&&null!==this.contourStart[k]&&null!==this.contourEnd[k]&&this.contourEnd[k]>this.contourStart[k]))for(I[k]=!0,h=this.contourStart[k];h<this.contourEnd[k];h+=this.contourSize[k])b(A[k],h*this.scene.dataScale[k]);if(P){var L=[[],[],[]];for(k=0;k<3;++k)this.showContour[k]&&(L[k]=I[k]?A[k]:this.scene.contourLevels[k]);this.surface.update({levels:L})}},o.update=function(k){var h,O,A,I,P=this.scene,L=P.fullSceneLayout,N=this.surface,B=c(k),W=P.dataScale,j=k.z[0].length,Z=k._ylength,V=P.contourLevels;this.data=k;var q=[];for(h=0;h<3;h++)for(q[h]=[],O=0;O<j;O++)q[h][O]=[];for(O=0;O<j;O++)for(A=0;A<Z;A++)q[0][O][A]=this.getXat(O,A,k.xcalendar,L.xaxis),q[1][O][A]=this.getYat(O,A,k.ycalendar,L.yaxis),q[2][O][A]=this.getZat(O,A,k.zcalendar,L.zaxis);if(k.connectgaps)for(k._emptypoints=M(q[2]),S(q[2],k._emptypoints),k._interpolatedZ=[],O=0;O<j;O++)for(k._interpolatedZ[O]=[],A=0;A<Z;A++)k._interpolatedZ[O][A]=q[2][O][A];for(h=0;h<3;h++)for(O=0;O<j;O++)for(A=0;A<Z;A++)null==(I=q[h][O][A])?q[h][O][A]=NaN:I=q[h][O][A]*=W[h];for(h=0;h<3;h++)for(O=0;O<j;O++)for(A=0;A<Z;A++)null!=(I=q[h][O][A])&&(this.minValues[h]>I&&(this.minValues[h]=I),this.maxValues[h]<I&&(this.maxValues[h]=I));for(h=0;h<3;h++)this.objectOffset[h]=.5*(this.minValues[h]+this.maxValues[h]);for(h=0;h<3;h++)for(O=0;O<j;O++)for(A=0;A<Z;A++)null!=(I=q[h][O][A])&&(q[h][O][A]-=this.objectOffset[h]);var G=[E(new Float32Array(j*Z),[j,Z]),E(new Float32Array(j*Z),[j,Z]),E(new Float32Array(j*Z),[j,Z])];for(h=0;h<3;h++)for(O=0;O<j;O++)for(A=0;A<Z;A++)G[h].set(O,A,q[h][O][A]);q=[];var H={colormap:B,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!k.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:k.opacityscale,opacity:k.opacity},ne=u(k);if(H.intensityBounds=[ne.min,ne.max],k.surfacecolor){var X=E(new Float32Array(j*Z),[j,Z]);for(O=0;O<j;O++)for(A=0;A<Z;A++)X.set(O,A,k.surfacecolor[A][O]);G.push(X)}else H.intensityBounds[0]*=W[2],H.intensityBounds[1]*=W[2];(y<G[0].shape[0]||y<G[0].shape[1])&&(this.refineData=!1),!0===this.refineData&&(this.dataScaleX=this.estimateScale(G[0].shape[0],0),this.dataScaleY=this.estimateScale(G[0].shape[1],1),1===this.dataScaleX&&1===this.dataScaleY||this.refineCoords(G)),k.surfacecolor&&(H.intensity=G.pop());var re,le,ue,$=[!0,!0,!0],Q=["x","y","z"];for(h=0;h<3;++h){var te=k.contours[Q[h]];$[h]=te.highlight,H.showContour[h]=te.show||te.highlight,H.showContour[h]&&(H.contourProject[h]=[te.project.x,te.project.y,te.project.z],te.show?(this.showContour[h]=!0,H.levels[h]=V[h],N.highlightColor[h]=H.contourColor[h]=i(te.color),N.highlightTint[h]=H.contourTint[h]=te.usecolormap?0:1,H.contourWidth[h]=te.width,this.contourStart[h]=te.start,this.contourEnd[h]=te.end,this.contourSize[h]=te.size):(this.showContour[h]=!1,this.contourStart[h]=null,this.contourEnd[h]=null,this.contourSize[h]=0),te.highlight&&(H.dynamicColor[h]=i(te.highlightcolor),H.dynamicWidth[h]=te.highlightwidth))}(le=(re=B)[0].rgb)[0]===(ue=re[re.length-1].rgb)[0]&&le[1]===ue[1]&&le[2]===ue[2]&&le[3]===ue[3]&&(H.vertexColor=!0),H.objectOffset=this.objectOffset,H.coords=G,N.update(H),N.visible=k.visible,N.enableDynamic=$,N.enableHighlight=$,N.snapToData=!0,"lighting"in k&&(N.ambientLight=k.lighting.ambient,N.diffuseLight=k.lighting.diffuse,N.specularLight=k.lighting.specular,N.roughness=k.lighting.roughness,N.fresnel=k.lighting.fresnel),"lightposition"in k&&(N.lightPosition=[k.lightposition.x,k.lightposition.y,k.lightposition.z])},o.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()},ie.exports=function(k,h){var A=C({gl:k.glplot.gl}),I=new a(k,A,h.uid);return A._trace=I,I.update(h),k.glplot.add(A),I}},91831:function(ie,z,r){"use strict";var C=r(73972),E=r(71828),f=r(1586),S=r(54532);function M(c,i,u,a){var o=a("opacityscale");"max"===o?i.opacityscale=[[0,.1],[1,1]]:"min"===o?i.opacityscale=[[0,1],[1,.1]]:"extremes"===o?i.opacityscale=function(l,s){for(var d=[],g=0;g<32;g++){var p=g/31,T=.1+.9*(1-Math.pow(Math.sin(1*p*Math.PI),2));d.push([p,Math.max(0,Math.min(1,T))])}return d}():function(l){var s=0;if(!Array.isArray(l)||l.length<2||!l[0]||!l[l.length-1]||0!=+l[0][0]||1!=+l[l.length-1][0])return!1;for(var d=0;d<l.length;d++){var g=l[d];if(2!==g.length||+g[0]<s)return!1;s=+g[0]}return!0}(o)||(i.opacityscale=void 0)}function v(c,i,u){i in c&&!(u in c)&&(c[u]=c[i])}ie.exports={supplyDefaults:function(c,i,u,a){var o,l;function s(b,k){return E.coerce(c,i,S,b,k)}var d=s("x"),g=s("y"),p=s("z");if(!p||!p.length||d&&d.length<1||g&&g.length<1)i.visible=!1;else{i._xlength=Array.isArray(d)&&E.isArrayOrTypedArray(d[0])?p.length:p[0].length,i._ylength=p.length,C.getComponentMethod("calendars","handleTraceDefaults")(c,i,["x","y","z"],a),s("text"),s("hovertext"),s("hovertemplate"),s("xhoverformat"),s("yhoverformat"),s("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(b){s(b)});var T=s("surfacecolor"),_=["x","y","z"];for(o=0;o<3;++o){var y="contours."+_[o],w=s(y+".show"),m=s(y+".highlight");if(w||m)for(l=0;l<3;++l)s(y+".project."+_[l]);w&&(s(y+".color"),s(y+".width"),s(y+".usecolormap")),m&&(s(y+".highlightcolor"),s(y+".highlightwidth")),s(y+".start"),s(y+".end"),s(y+".size")}T||(v(c,"zmin","cmin"),v(c,"zmax","cmax"),v(c,"zauto","cauto")),f(c,i,a,s,{prefix:"",cLetter:"c"}),M(0,i,0,s),i._length=null}},opacityscaleDefaults:M}},93601:function(ie,z,r){"use strict";ie.exports={attributes:r(54532),supplyDefaults:r(91831).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:r(18396),plot:r(43768),moduleType:"trace",name:"surface",basePlotModule:r(58547),categories:["gl3d","2dMap","showLegend"],meta:{}}},44464:function(ie,z,r){"use strict";var C=r(50215),E=r(1426).extendFlat,f=r(30962).overrideAll,S=r(41940),M=r(27670).Y,v=r(12663).descriptionOnlyNumbers;(ie.exports=f({domain:M({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:E({},C.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:E({},S({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:E({},C.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:E({},S({arrayOk:!0}))}},"calc","from-root")).transforms=void 0},99469:function(ie,z,r){"use strict";var C=r(27659).a0,E=r(36736),f="table";z.name=f,z.plot=function(S){var M=C(S.calcdata,f)[0];M.length&&E(S,M)},z.clean=function(S,M,v,c){var i=c._has&&c._has(f),u=M._has&&M._has(f);i&&!u&&c._paperdiv.selectAll(".table").remove()}},76333:function(ie,z,r){"use strict";var C=r(28984).wrap;ie.exports=function(){return C({})}},49850:function(ie){"use strict";ie.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},51018:function(ie,z,r){"use strict";var C=r(49850),E=r(1426).extendFlat,f=r(92770);function S(o){if(Array.isArray(o)){for(var l=0,s=0;s<o.length;s++)l=Math.max(l,S(o[s]));return l}return o}function M(o,l){return o+l}function v(o){var l,s=o.slice(),d=1/0,g=0;for(l=0;l<s.length;l++)Array.isArray(s[l])||(s[l]=[s[l]]),d=Math.min(d,s[l].length),g=Math.max(g,s[l].length);if(d!==g)for(l=0;l<s.length;l++){var p=g-s[l].length;p&&(s[l]=s[l].concat(c(p)))}return s}function c(o){for(var l=new Array(o),s=0;s<o;s++)l[s]="";return l}function i(o){return o.calcdata.columns.reduce(function(l,s){return s.xIndex<o.xIndex?l+s.columnWidth:l},0)}function u(o,l){return Object.keys(o).map(function(s){return E({},o[s],{auxiliaryBlocks:l})})}function a(o,l){for(var s,d={},g=0,p=0,T={firstRowIndex:null,lastRowIndex:null,rows:[]},_=0,y=0,w=0;w<o.length;w++)T.rows.push({rowIndex:w,rowHeight:s=o[w]}),((p+=s)>=l||w===o.length-1)&&(d[g]=T,T.key=y++,T.firstRowIndex=_,T.lastRowIndex=w,T={firstRowIndex:null,lastRowIndex:null,rows:[]},g+=p,_=w+1,p=0);return d}ie.exports=function(o,l){var s=v(l.cells.values),d=function(W){return W.slice(l.header.values.length,W.length)},g=v(l.header.values);g.length&&!g[0].length&&(g[0]=[""],g=v(g));var p=g.concat(d(s).map(function(){return c((g[0]||[""]).length)})),T=l.domain,_=Math.floor(o._fullLayout._size.w*(T.x[1]-T.x[0])),y=Math.floor(o._fullLayout._size.h*(T.y[1]-T.y[0])),w=l.header.values.length?p[0].map(function(){return l.header.height}):[C.emptyHeaderHeight],m=s.length?s[0].map(function(){return l.cells.height}):[],b=w.reduce(M,0),k=a(m,y-b+C.uplift),h=u(a(w,b),[]),O=u(k,h),A={},I=l._fullInput.columnorder.concat(d(s.map(function(W,j){return j}))),P=p.map(function(W,j){var Z=Array.isArray(l.columnwidth)?l.columnwidth[Math.min(j,l.columnwidth.length-1)]:l.columnwidth;return f(Z)?Number(Z):1}),L=P.reduce(M,0);P=P.map(function(W){return W/L*_});var N=Math.max(S(l.header.line.width),S(l.cells.line.width)),B={key:l.uid+o._context.staticPlot,translateX:T.x[0]*o._fullLayout._size.w,translateY:o._fullLayout._size.h*(1-T.y[1]),size:o._fullLayout._size,width:_,maxLineWidth:N,height:y,columnOrder:I,groupHeight:y,rowBlocks:O,headerRowBlocks:h,scrollY:0,cells:E({},l.cells,{values:s}),headerCells:E({},l.header,{values:p}),gdColumns:p.map(function(W){return W[0]}),gdColumnsOriginalOrder:p.map(function(W){return W[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:p.map(function(W,j){return A[W]=(A[W]||0)+1,{key:W+"__"+A[W],label:W,specIndex:j,xIndex:I[j],xScale:i,x:void 0,calcdata:void 0,columnWidth:P[j]}})};return B.columns.forEach(function(W){W.calcdata=B,W.x=i(W)}),B}},56269:function(ie,z,r){"use strict";var C=r(1426).extendFlat;z.splitToPanels=function(E){var f=[0,0],S=C({},E,{key:"header",type:"header",page:0,prevPages:f,currentRepaint:[null,null],dragHandle:!0,values:E.calcdata.headerCells.values[E.specIndex],rowBlocks:E.calcdata.headerRowBlocks,calcdata:C({},E.calcdata,{cells:E.calcdata.headerCells})});return[C({},E,{key:"cells1",type:"cells",page:0,prevPages:f,currentRepaint:[null,null],dragHandle:!1,values:E.calcdata.cells.values[E.specIndex],rowBlocks:E.calcdata.rowBlocks}),C({},E,{key:"cells2",type:"cells",page:1,prevPages:f,currentRepaint:[null,null],dragHandle:!1,values:E.calcdata.cells.values[E.specIndex],rowBlocks:E.calcdata.rowBlocks}),S]},z.splitToCells=function(E){var S,M,v,f=[v=(M=(S=E).rowBlocks[S.page])?M.rows[0].rowIndex:0,M?v+M.rows.length:0];return(E.values||[]).slice(f[0],f[1]).map(function(S,M){return{keyWithinBlock:M+("string"==typeof S&&S.match(/[<$&> ]/)?"_keybuster_"+Math.random():""),key:f[0]+M,column:E,calcdata:E.calcdata,page:E.page,rowBlocks:E.rowBlocks,value:S}})}},39754:function(ie,z,r){"use strict";var C=r(71828),E=r(44464),f=r(27670).c;ie.exports=function(S,M,v,c){function i(u,a){return C.coerce(S,M,E,u,a)}f(M,c,i),i("columnwidth"),i("header.values"),i("header.format"),i("header.align"),i("header.prefix"),i("header.suffix"),i("header.height"),i("header.line.width"),i("header.line.color"),i("header.fill.color"),C.coerceFont(i,"header.font",C.extendFlat({},c.font)),function(u,a){for(var l=u.header.values.length,s=(u.columnorder||[]).slice(0,l),d=s.slice().sort(function(T,_){return T-_}),g=s.map(function(T){return d.indexOf(T)}),p=g.length;p<l;p++)g.push(p);a("columnorder",g)}(M,i),i("cells.values"),i("cells.format"),i("cells.align"),i("cells.prefix"),i("cells.suffix"),i("cells.height"),i("cells.line.width"),i("cells.line.color"),i("cells.fill.color"),C.coerceFont(i,"cells.font",C.extendFlat({},c.font)),M._length=null}},96595:function(ie,z,r){"use strict";ie.exports={attributes:r(44464),supplyDefaults:r(39754),calc:r(76333),plot:r(36736),moduleType:"trace",name:"table",basePlotModule:r(99469),categories:["noOpacity"],meta:{}}},36736:function(ie,z,r){"use strict";var C=r(49850),E=r(39898),f=r(71828).numberFormat,S=r(28984),M=r(91424),v=r(63893),c=r(71828).raiseToTop,i=r(71828).strTranslate,u=r(71828).cancelTransition,a=r(51018),o=r(56269),l=r(7901);function s(G){return Math.ceil(G.calcdata.maxLineWidth/2)}function d(G,H){return"clip"+G._fullLayout._uid+"_scrollAreaBottomClip_"+H.key}function g(G,H){return"clip"+G._fullLayout._uid+"_columnBoundaryClippath_"+H.calcdata.key+"_"+H.specIndex}function p(G){return[].concat.apply([],G.map(function(H){return H})).map(function(H){return H.__data__})}function T(G,H,ne){var X=G.selectAll("."+C.cn.scrollbarKit).data(S.repeat,S.keyFun);X.enter().append("g").classed(C.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),X.each(function(le){var ge,ue=le.scrollbarState;ue.totalHeight=j(ge=le.rowBlocks,ge.length-1)+(ge.length?Z(ge[ge.length-1],1/0):1),ue.scrollableAreaHeight=le.groupHeight-O(le),ue.currentlyVisibleHeight=Math.min(ue.totalHeight,ue.scrollableAreaHeight),ue.ratio=ue.currentlyVisibleHeight/ue.totalHeight,ue.barLength=Math.max(ue.ratio*ue.currentlyVisibleHeight,C.goldenRatio*C.scrollbarWidth),ue.barWiggleRoom=ue.currentlyVisibleHeight-ue.barLength,ue.wiggleRoom=Math.max(0,ue.totalHeight-ue.scrollableAreaHeight),ue.topY=0===ue.barWiggleRoom?0:le.scrollY/ue.wiggleRoom*ue.barWiggleRoom,ue.bottomY=ue.topY+ue.barLength,ue.dragMultiplier=ue.wiggleRoom/ue.barWiggleRoom}).attr("transform",function(le){return i(le.width+C.scrollbarWidth/2+C.scrollbarOffset,O(le))});var $=X.selectAll("."+C.cn.scrollbar).data(S.repeat,S.keyFun);$.enter().append("g").classed(C.cn.scrollbar,!0);var Q=$.selectAll("."+C.cn.scrollbarSlider).data(S.repeat,S.keyFun);Q.enter().append("g").classed(C.cn.scrollbarSlider,!0),Q.attr("transform",function(le){return i(0,le.scrollbarState.topY||0)});var te=Q.selectAll("."+C.cn.scrollbarGlyph).data(S.repeat,S.keyFun);te.enter().append("line").classed(C.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",C.scrollbarWidth).attr("stroke-linecap","round").attr("y1",C.scrollbarWidth/2),te.attr("y2",function(le){return le.scrollbarState.barLength-C.scrollbarWidth/2}).attr("stroke-opacity",function(le){return le.columnDragInProgress||!le.scrollbarState.barWiggleRoom||ne?0:.4}),te.transition().delay(0).duration(0),te.transition().delay(C.scrollbarHideDelay).duration(C.scrollbarHideDuration).attr("stroke-opacity",0);var re=$.selectAll("."+C.cn.scrollbarCaptureZone).data(S.repeat,S.keyFun);re.enter().append("line").classed(C.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",C.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(le){var ue=E.event.y,he=this.getBoundingClientRect(),ge=le.scrollbarState,xe=ue-he.top,ke=E.scale.linear().domain([0,ge.scrollableAreaHeight]).range([0,ge.totalHeight]).clamp(!0);ge.topY<=xe&&xe<=ge.bottomY||I(H,G,null,ke(xe-ge.barLength/2))(le)}).call(E.behavior.drag().origin(function(le){return E.event.stopPropagation(),le.scrollbarState.scrollbarScrollInProgress=!0,le}).on("drag",I(H,G)).on("dragend",function(){})),re.attr("y2",function(le){return le.scrollbarState.scrollableAreaHeight}),H._context.staticPlot&&(te.remove(),re.remove())}function _(G,H,ne,X){var he,Q=function(ue){var he=ue.selectAll("."+C.cn.columnCell).data(o.splitToCells,function(ge){return ge.keyWithinBlock});return he.enter().append("g").classed(C.cn.columnCell,!0),he.exit().remove(),he}(((he=ne.selectAll("."+C.cn.columnCells).data(S.repeat,S.keyFun)).enter().append("g").classed(C.cn.columnCells,!0),he.exit().remove(),he));Q.each(function(he,ge){var xe=he.calcdata.cells.font,ke=he.column.specIndex,Ae={size:m(xe.size,ke,ge),color:m(xe.color,ke,ge),family:m(xe.family,ke,ge)};he.rowNumber=he.key,he.align=m(he.calcdata.cells.align,ke,ge),he.cellBorderWidth=m(he.calcdata.cells.line.width,ke,ge),he.font=Ae});var te=function(ue){var he=ue.selectAll("."+C.cn.cellRect).data(S.repeat,function(ge){return ge.keyWithinBlock});return he.enter().append("rect").classed(C.cn.cellRect,!0),he}(Q);!function(ue){ue.attr("width",function(he){return he.column.columnWidth}).attr("stroke-width",function(he){return he.cellBorderWidth}).each(function(he){var ge=E.select(this);l.stroke(ge,m(he.calcdata.cells.line.color,he.column.specIndex,he.rowNumber)),l.fill(ge,m(he.calcdata.cells.fill.color,he.column.specIndex,he.rowNumber))})}(te);var re=function(ue){var he=ue.selectAll("."+C.cn.cellTextHolder).data(S.repeat,function(ge){return ge.keyWithinBlock});return he.enter().append("g").classed(C.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),he}(Q),le=function(ue){var he=ue.selectAll("."+C.cn.cellText).data(S.repeat,function(ge){return ge.keyWithinBlock});return he.enter().append("text").classed(C.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){E.event.stopPropagation()}),he}(re);(function(ue){ue.each(function(he){M.font(E.select(this),he.font)})})(le),y(le,H,X,G),W(Q)}function y(G,H,ne,X){G.text(function($){var Q=$.column.specIndex,te=$.rowNumber,re=$.value,le="string"==typeof re,ue=le&&re.match(/<br>/i),he=!le||ue;$.mayHaveMarkup=le&&re.match(/[<&>]/);var ge,xe="string"==typeof(ge=re)&&ge.match(C.latexCheck);$.latex=xe;var ke,Ae,pe=xe?"":m($.calcdata.cells.prefix,Q,te)||"",ye=xe?"":m($.calcdata.cells.suffix,Q,te)||"",Ne=xe?null:m($.calcdata.cells.format,Q,te)||null,be=pe+(Ne?f(Ne)($.value):$.value)+ye;if($.wrappingNeeded=!$.wrapped&&!he&&!xe&&(ke=w(be)),$.cellHeightMayIncrease=ue||xe||$.mayHaveMarkup||(void 0===ke?w(be):ke),$.needsConvertToTspans=$.mayHaveMarkup||$.wrappingNeeded||$.latex,$.wrappingNeeded){var Ee=(" "===C.wrapSplitCharacter?be.replace(/<a href=/gi,"<a_href="):be).split(C.wrapSplitCharacter),Oe=" "===C.wrapSplitCharacter?Ee.map(function(De){return De.replace(/<a_href=/gi,"<a href=")}):Ee;$.fragments=Oe.map(function(De){return{text:De,width:null}}),$.fragments.push({fragment:C.wrapSpacer,width:null}),Ae=Oe.join(C.lineBreaker)+C.lineBreaker+C.wrapSpacer}else delete $.fragments,Ae=be;return Ae}).attr("dy",function($){return $.needsConvertToTspans?0:"0.75em"}).each(function($){var Q=this,te=E.select(Q);$.needsConvertToTspans?v.convertToTspans(te,X,($.wrappingNeeded?L:N)(ne,Q,H,X,$)):E.select(Q.parentNode).attr("transform",function(le){return i(B(le),C.cellPad)}).attr("text-anchor",function(le){return{left:"start",center:"middle",right:"end"}[le.align]})})}function w(G){return-1!==G.indexOf(C.wrapSplitCharacter)}function m(G,H,ne){if(Array.isArray(G)){var X=G[Math.min(H,G.length-1)];return Array.isArray(X)?X[Math.min(ne,X.length-1)]:X}return G}function b(G,H,ne){G.transition().ease(C.releaseTransitionEase).duration(C.releaseTransitionDuration).attr("transform",i(H.x,ne))}function k(G){return"cells"===G.type}function h(G){return"header"===G.type}function O(G){return(G.rowBlocks.length?G.rowBlocks[0].auxiliaryBlocks:[]).reduce(function(H,ne){return H+Z(ne,1/0)},0)}function A(G,H,ne){var X=p(H)[0];if(void 0!==X){var $=X.rowBlocks,Q=X.calcdata,te=j($,$.length),re=X.calcdata.groupHeight-O(X),le=Q.scrollY=Math.max(0,Math.min(te-re,Q.scrollY)),ue=function(he,ge,xe){for(var ke=[],Ae=0,pe=0;pe<he.length;pe++){for(var ye=he[pe],Ne=ye.rows,be=0,Ee=0;Ee<Ne.length;Ee++)be+=Ne[Ee].rowHeight;ye.allRowsHeight=be,ge<Ae+be&&ge+xe>Ae&&ke.push(pe),Ae+=be}return ke}($,le,re);1===ue.length&&(ue[0]===$.length-1?ue.unshift(ue[0]-1):ue.push(ue[0]+1)),ue[0]%2&&ue.reverse(),H.each(function(he,ge){he.page=ue[ge],he.scrollY=le}),H.attr("transform",function(he){var ge=j(he.rowBlocks,he.page)-he.scrollY;return i(0,ge)}),G&&(P(G,ne,H,ue,X.prevPages,X,0),P(G,ne,H,ue,X.prevPages,X,1),T(ne,G))}}function I(G,H,ne,X){return function($){var Q=$.calcdata?$.calcdata:$,te=H.filter(function(he){return Q.key===he.key}),le=Q.scrollY;Q.scrollY=void 0===X?Q.scrollY+(ne||Q.scrollbarState.dragMultiplier)*E.event.dy:X;var ue=te.selectAll("."+C.cn.yColumn).selectAll("."+C.cn.columnBlock).filter(k);return A(G,ue,te),Q.scrollY===le}}function P(G,H,ne,X,$,Q,te){X[te]!==$[te]&&(clearTimeout(Q.currentRepaint[te]),Q.currentRepaint[te]=setTimeout(function(){var re=ne.filter(function(le,ue){return ue===te&&X[ue]!==$[ue]});_(G,H,re,ne),$[te]=X[te]}))}function L(G,H,ne,X){return function(){var $=E.select(H.parentNode);$.each(function(Q){var te=Q.fragments;$.selectAll("tspan.line").each(function(Ae,pe){te[pe].width=this.getComputedTextLength()});var re,le,ue=te[te.length-1].width,he=te.slice(0,-1),ge=[],xe=0,ke=Q.column.columnWidth-2*C.cellPad;for(Q.value="";he.length;)xe+(le=(re=he.shift()).width+ue)>ke&&(Q.value+=ge.join(C.wrapSpacer)+C.lineBreaker,ge=[],xe=0),ge.push(re.text),xe+=le;xe&&(Q.value+=ge.join(C.wrapSpacer)),Q.wrapped=!0}),$.selectAll("tspan.line").remove(),y($.select("."+C.cn.cellText),ne,G,X),E.select(H.parentNode.parentNode).call(W)}}function N(G,H,ne,X,$){return function(){if(!$.settledY){var Q=E.select(H.parentNode),te=q($),re=$.key-te.firstRowIndex,le=te.rows[re].rowHeight,ue=$.cellHeightMayIncrease?H.parentNode.getBoundingClientRect().height+2*C.cellPad:le,he=Math.max(ue,le);he-te.rows[re].rowHeight&&(te.rows[re].rowHeight=he,G.selectAll("."+C.cn.columnCell).call(W),A(null,G.filter(k),0),T(ne,X,!0)),Q.attr("transform",function(){var xe=this.parentNode.getBoundingClientRect(),ke=E.select(this.parentNode).select("."+C.cn.cellRect).node().getBoundingClientRect(),Ae=this.transform.baseVal.consolidate(),pe=ke.top-xe.top+(Ae?Ae.matrix.f:C.cellPad);return i(B($,E.select(this.parentNode).select("."+C.cn.cellTextHolder).node().getBoundingClientRect().width),pe)}),$.settledY=!0}}}function B(G,H){switch(G.align){case"left":default:return C.cellPad;case"right":return G.column.columnWidth-(H||0)-C.cellPad;case"center":return(G.column.columnWidth-(H||0))/2}}function W(G){G.attr("transform",function(H){var ne=H.rowBlocks[0].auxiliaryBlocks.reduce(function($,Q){return $+Z(Q,1/0)},0),X=Z(q(H),H.key);return i(0,X+ne)}).selectAll("."+C.cn.cellRect).attr("height",function(H){return(ne=q(H),X=H.key,ne.rows[X-ne.firstRowIndex]).rowHeight;var ne,X})}function j(G,H){for(var ne=0,X=H-1;X>=0;X--)ne+=V(G[X]);return ne}function Z(G,H){for(var ne=0,X=0;X<G.rows.length&&G.rows[X].rowIndex<H;X++)ne+=G.rows[X].rowHeight;return ne}function V(G){var H=G.allRowsHeight;if(void 0!==H)return H;for(var ne=0,X=0;X<G.rows.length;X++)ne+=G.rows[X].rowHeight;return G.allRowsHeight=ne,ne}function q(G){return G.rowBlocks[G.page]}ie.exports=function(G,H){var ne=!G._context.staticPlot,X=G._fullLayout._paper.selectAll("."+C.cn.table).data(H.map(function(ye){var Ne=S.unwrap(ye).trace;return a(G,Ne)}),S.keyFun);X.exit().remove(),X.enter().append("g").classed(C.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),X.attr("width",function(ye){return ye.width+ye.size.l+ye.size.r}).attr("height",function(ye){return ye.height+ye.size.t+ye.size.b}).attr("transform",function(ye){return i(ye.translateX,ye.translateY)});var $=X.selectAll("."+C.cn.tableControlView).data(S.repeat,S.keyFun),Q=$.enter().append("g").classed(C.cn.tableControlView,!0).style("box-sizing","content-box");if(ne){var te="onwheel"in document?"wheel":"mousewheel";Q.on("mousemove",function(ye){$.filter(function(Ne){return ye===Ne}).call(T,G)}).on(te,function(ye){ye.scrollbarState.wheeling||(ye.scrollbarState.wheeling=!0,I(G,$,null,ye.scrollY+E.event.deltaY)(ye)||(E.event.stopPropagation(),E.event.preventDefault()),ye.scrollbarState.wheeling=!1)}).call(T,G,!0)}$.attr("transform",function(ye){return i(ye.size.l,ye.size.t)});var re=$.selectAll("."+C.cn.scrollBackground).data(S.repeat,S.keyFun);re.enter().append("rect").classed(C.cn.scrollBackground,!0).attr("fill","none"),re.attr("width",function(ye){return ye.width}).attr("height",function(ye){return ye.height}),$.each(function(ye){M.setClipUrl(E.select(this),d(G,ye),G)});var le=$.selectAll("."+C.cn.yColumn).data(function(ye){return ye.columns},S.keyFun);le.enter().append("g").classed(C.cn.yColumn,!0),le.exit().remove(),le.attr("transform",function(ye){return i(ye.x,0)}),ne&&le.call(E.behavior.drag().origin(function(ye){return b(E.select(this),ye,-C.uplift),c(this),ye.calcdata.columnDragInProgress=!0,T($.filter(function(Ne){return ye.calcdata.key===Ne.key}),G),ye}).on("drag",function(ye){var Ne=E.select(this),be=function(Ee){return(ye===Ee?E.event.x:Ee.x)+Ee.columnWidth/2};ye.x=Math.max(-C.overdrag,Math.min(ye.calcdata.width+C.overdrag-ye.columnWidth,E.event.x)),p(le).filter(function(Ee){return Ee.calcdata.key===ye.calcdata.key}).sort(function(Ee,Oe){return be(Ee)-be(Oe)}).forEach(function(Ee,Oe){Ee.xIndex=Oe,Ee.x=ye===Ee?Ee.x:Ee.xScale(Ee)}),le.filter(function(Ee){return ye!==Ee}).transition().ease(C.transitionEase).duration(C.transitionDuration).attr("transform",function(Ee){return i(Ee.x,0)}),Ne.call(u).attr("transform",i(ye.x,-C.uplift))}).on("dragend",function(ye){var Ee,Oe,De,oe,Ne=E.select(this),be=ye.calcdata;ye.x=ye.xScale(ye),ye.calcdata.columnDragInProgress=!1,b(Ne,ye,0),Ee=G,Oe=be,De=be.columns.map(function(Ee){return Ee.xIndex}),oe=Oe.gdColumnsOriginalOrder,Oe.gdColumns.sort(function(de,_e){return De[oe.indexOf(de)]-De[oe.indexOf(_e)]}),Oe.columnorder=De,Ee.emit("plotly_restyle")})),le.each(function(ye){M.setClipUrl(E.select(this),g(G,ye),G)});var ue=le.selectAll("."+C.cn.columnBlock).data(o.splitToPanels,S.keyFun);ue.enter().append("g").classed(C.cn.columnBlock,!0).attr("id",function(ye){return ye.key}),ue.style("cursor",function(ye){return ye.dragHandle?"ew-resize":ye.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var he=ue.filter(h),ge=ue.filter(k);ne&&ge.call(E.behavior.drag().origin(function(ye){return E.event.stopPropagation(),ye}).on("drag",I(G,$,-1)).on("dragend",function(){})),_(G,$,he,ue),_(G,$,ge,ue);var xe=$.selectAll("."+C.cn.scrollAreaClip).data(S.repeat,S.keyFun);xe.enter().append("clipPath").classed(C.cn.scrollAreaClip,!0).attr("id",function(ye){return d(G,ye)});var ke=xe.selectAll("."+C.cn.scrollAreaClipRect).data(S.repeat,S.keyFun);ke.enter().append("rect").classed(C.cn.scrollAreaClipRect,!0).attr("x",-C.overdrag).attr("y",-C.uplift).attr("fill","none"),ke.attr("width",function(ye){return ye.width+2*C.overdrag}).attr("height",function(ye){return ye.height+C.uplift}),le.selectAll("."+C.cn.columnBoundary).data(S.repeat,S.keyFun).enter().append("g").classed(C.cn.columnBoundary,!0);var Ae=le.selectAll("."+C.cn.columnBoundaryClippath).data(S.repeat,S.keyFun);Ae.enter().append("clipPath").classed(C.cn.columnBoundaryClippath,!0),Ae.attr("id",function(ye){return g(G,ye)});var pe=Ae.selectAll("."+C.cn.columnBoundaryRect).data(S.repeat,S.keyFun);pe.enter().append("rect").classed(C.cn.columnBoundaryRect,!0).attr("fill","none"),pe.attr("width",function(ye){return ye.columnWidth+2*s(ye)}).attr("height",function(ye){return ye.calcdata.height+2*s(ye)+C.uplift}).attr("x",function(ye){return-s(ye)}).attr("y",function(ye){return-s(ye)}),A(null,ge,$)}},45802:function(ie,z,r){"use strict";var C=r(5386).f,E=r(5386).s,f=r(50693),S=r(27670).Y,M=r(34e3),v=r(57564),c=r(43473),i=r(1426).extendFlat;ie.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:i({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:v.marker.colors,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:v.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},f("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:i({},M.textfont,{}),editType:"calc"},text:M.text,textinfo:v.textinfo,texttemplate:E({editType:"plot"},{keys:c.eventDataKeys.concat(["label","value"])}),hovertext:M.hovertext,hoverinfo:v.hoverinfo,hovertemplate:C({},{keys:c.eventDataKeys}),textfont:M.textfont,insidetextfont:M.insidetextfont,outsidetextfont:i({},M.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:M.sort,root:v.root,domain:S({name:"treemap",trace:!0,editType:"calc"})}},78018:function(ie,z,r){"use strict";var C=r(74875);z.name="treemap",z.plot=function(E,f,S,M){C.plotBasePlot(z.name,E,f,S,M)},z.clean=function(E,f,S,M){C.cleanBasePlot(z.name,E,f,S,M)}},65039:function(ie,z,r){"use strict";var C=r(52147);z.y=function(E,f){return C.calc(E,f)},z.T=function(E){return C._runCrossTraceCalc("treemap",E)}},43473:function(ie){"use strict";ie.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},91174:function(ie,z,r){"use strict";var C=r(71828),E=r(45802),f=r(7901),S=r(27670).c,M=r(90769).handleText,v=r(97313).TEXTPAD,c=r(21081),i=c.hasColorscale,u=c.handleDefaults;ie.exports=function(a,o,l,s){function d(k,h){return C.coerce(a,o,E,k,h)}var g=d("labels"),p=d("parents");if(g&&g.length&&p&&p.length){var T=d("values");d(T&&T.length?"branchvalues":"count"),d("level"),d("maxdepth"),"squarify"===d("tiling.packing")&&d("tiling.squarifyratio"),d("tiling.flip"),d("tiling.pad");var _=d("text");d("texttemplate"),o.texttemplate||d("textinfo",Array.isArray(_)?"text+label":"label"),d("hovertext"),d("hovertemplate");var y=d("pathbar.visible");M(a,o,s,d,"auto",{hasPathbar:y,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),d("textposition");var w=-1!==o.textposition.indexOf("bottom");d("marker.line.width")&&d("marker.line.color",s.paper_bgcolor);var m=d("marker.colors");(o._hasColorscale=i(a,"marker","colors")||(a.marker||{}).coloraxis)?u(a,o,s,d,{prefix:"marker.",cLetter:"c"}):d("marker.depthfade",!(m||[]).length);var b=2*o.textfont.size;d("marker.pad.t",w?b/4:b),d("marker.pad.l",b/4),d("marker.pad.r",b/4),d("marker.pad.b",w?b:b/4),d("marker.cornerradius"),o._hovered={marker:{line:{width:2,color:f.contrast(s.paper_bgcolor)}}},y&&(d("pathbar.thickness",o.pathbar.textfont.size+2*v),d("pathbar.side"),d("pathbar.edgeshape")),d("sort"),d("root.color"),S(o,s,d),o._length=null}else o.visible=!1}},80694:function(ie,z,r){"use strict";var C=r(39898),E=r(2791),f=r(72597).clearMinTextSize,S=r(16688).resizeText,M=r(46650);ie.exports=function(v,c,i,u,a){var o,l,s=a.type,d=a.drawDescendants,g=v._fullLayout,p=g["_"+s+"layer"],T=!i;f(s,g),(o=p.selectAll("g.trace."+s).data(c,function(_){return _[0].trace.uid})).enter().append("g").classed("trace",!0).classed(s,!0),o.order(),!g.uniformtext.mode&&E.hasTransition(i)?(u&&(l=u()),C.transition().duration(i.duration).ease(i.easing).each("end",function(){l&&l()}).each("interrupt",function(){l&&l()}).each(function(){p.selectAll("g.trace").each(function(_){M(v,_,this,i,d)})})):(o.each(function(_){M(v,_,this,i,d)}),g.uniformtext.mode&&S(v,p.selectAll(".trace"),s)),T&&o.exit().remove()}},66209:function(ie,z,r){"use strict";var C=r(39898),E=r(71828),f=r(91424),S=r(63893),M=r(37210),v=r(96362).styleOne,c=r(43473),i=r(2791),u=r(83523),a=!0;ie.exports=function(o,l,s,d,g){var p=g.barDifY,T=g.width,_=g.height,y=g.viewX,w=g.viewY,m=g.pathSlice,b=g.toMoveInsideSlice,k=g.strTransform,h=g.hasTransition,O=g.handleSlicesExit,A=g.makeUpdateSliceInterpolator,I=g.makeUpdateTextInterpolator,P={},L=o._context.staticPlot,N=o._fullLayout,B=l[0],W=B.trace,j=B.hierarchy,Z=T/W._entryDepth,V=i.listPath(s.data,"id"),q=M(j.copy(),[T,_],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();(q=q.filter(function(H){var ne=V.indexOf(H.data.id);return-1!==ne&&(H.x0=Z*ne,H.x1=Z*(ne+1),H.y0=p,H.y1=p+_,H.onPathbar=!0,!0)})).reverse(),(d=d.data(q,i.getPtId)).enter().append("g").classed("pathbar",!0),O(d,a,P,[T,_],m),d.order();var G=d;h&&(G=G.transition().each("end",function(){var H=C.select(this);i.setSliceCursor(H,o,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),G.each(function(H){H._x0=y(H.x0),H._x1=y(H.x1),H._y0=w(H.y0),H._y1=w(H.y1),H._hoverX=y(H.x1-Math.min(T,_)/2),H._hoverY=w(H.y1-_/2);var ne=C.select(this),X=E.ensureSingle(ne,"path","surface",function(re){re.style("pointer-events",L?"none":"all")});h?X.transition().attrTween("d",function(re){var le=A(re,a,P,[T,_]);return function(ue){return m(le(ue))}}):X.attr("d",m),ne.call(u,s,o,l,{styleOne:v,eventDataKeys:c.eventDataKeys,transitionTime:c.CLICK_TRANSITION_TIME,transitionEasing:c.CLICK_TRANSITION_EASING}).call(i.setSliceCursor,o,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:o._transitioning}),X.call(v,H,W,{hovered:!1}),H._text=(i.getPtLabel(H)||"").split("<br>").join(" ")||"";var $=E.ensureSingle(ne,"g","slicetext"),Q=E.ensureSingle($,"text","",function(re){re.attr("data-notex",1)}),te=E.ensureUniformFontSize(o,i.determineTextFont(W,H,N.font,{onPathbar:!0}));Q.text(H._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(f.font,te).call(S.convertToTspans,o),H.textBB=f.bBox(Q.node()),H.transform=b(H,{fontSize:te.size,onPathbar:!0}),H.transform.fontSize=te.size,h?Q.transition().attrTween("transform",function(re){var le=I(re,a,P,[T,_]);return function(ue){return k(le(ue))}}):Q.attr("transform",k(H))})}},52583:function(ie,z,r){"use strict";var C=r(39898),E=r(71828),f=r(91424),S=r(63893),M=r(37210),v=r(96362).styleOne,c=r(43473),i=r(2791),u=r(83523),a=r(24714).formatSliceLabel,o=!1;ie.exports=function(l,s,d,g,p){var T=p.width,_=p.height,y=p.viewX,w=p.viewY,m=p.pathSlice,b=p.toMoveInsideSlice,k=p.strTransform,h=p.hasTransition,O=p.handleSlicesExit,A=p.makeUpdateSliceInterpolator,I=p.makeUpdateTextInterpolator,P=p.prevEntry,L=l._context.staticPlot,N=l._fullLayout,B=s[0].trace,W=-1!==B.textposition.indexOf("left"),j=-1!==B.textposition.indexOf("right"),Z=-1!==B.textposition.indexOf("bottom"),V=!Z&&!B.marker.pad.t||Z&&!B.marker.pad.b,q=M(d,[T,_],{packing:B.tiling.packing,squarifyratio:B.tiling.squarifyratio,flipX:B.tiling.flip.indexOf("x")>-1,flipY:B.tiling.flip.indexOf("y")>-1,pad:{inner:B.tiling.pad,top:B.marker.pad.t,left:B.marker.pad.l,right:B.marker.pad.r,bottom:B.marker.pad.b}}).descendants(),G=1/0,H=-1/0;q.forEach(function(te){var re=te.depth;re>=B._maxDepth?(te.x0=te.x1=(te.x0+te.x1)/2,te.y0=te.y1=(te.y0+te.y1)/2):(G=Math.min(G,re),H=Math.max(H,re))}),g=g.data(q,i.getPtId),B._maxVisibleLayers=isFinite(H)?H-G+1:0,g.enter().append("g").classed("slice",!0),O(g,o,{},[T,_],m),g.order();var ne=null;if(h&&P){var X=i.getPtId(P);g.each(function(te){null===ne&&i.getPtId(te)===X&&(ne={x0:te.x0,x1:te.x1,y0:te.y0,y1:te.y1})})}var $=function(){return ne||{x0:0,x1:T,y0:0,y1:_}},Q=g;return h&&(Q=Q.transition().each("end",function(){var te=C.select(this);i.setSliceCursor(te,l,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),Q.each(function(te){var re=i.isHeader(te,B);te._x0=y(te.x0),te._x1=y(te.x1),te._y0=w(te.y0),te._y1=w(te.y1),te._hoverX=y(te.x1-B.marker.pad.r),te._hoverY=w(Z?te.y1-B.marker.pad.b/2:te.y0+B.marker.pad.t/2);var le=C.select(this),ue=E.ensureSingle(le,"path","surface",function(ke){ke.style("pointer-events",L?"none":"all")});h?ue.transition().attrTween("d",function(ke){var Ae=A(ke,o,$(),[T,_]);return function(pe){return m(Ae(pe))}}):ue.attr("d",m),le.call(u,d,l,s,{styleOne:v,eventDataKeys:c.eventDataKeys,transitionTime:c.CLICK_TRANSITION_TIME,transitionEasing:c.CLICK_TRANSITION_EASING}).call(i.setSliceCursor,l,{isTransitioning:l._transitioning}),ue.call(v,te,B,{hovered:!1}),te._text=te.x0===te.x1||te.y0===te.y1?"":re?V?"":i.getPtLabel(te)||"":a(te,d,B,s,N)||"";var he=E.ensureSingle(le,"g","slicetext"),ge=E.ensureSingle(he,"text","",function(ke){ke.attr("data-notex",1)}),xe=E.ensureUniformFontSize(l,i.determineTextFont(B,te,N.font));ge.text(te._text||" ").classed("slicetext",!0).attr("text-anchor",j?"end":W||re?"start":"middle").call(f.font,xe).call(S.convertToTspans,l),te.textBB=f.bBox(ge.node()),te.transform=b(te,{fontSize:xe.size,isHeader:re}),te.transform.fontSize=xe.size,h?ge.transition().attrTween("transform",function(ke){var Ae=I(ke,o,$(),[T,_]);return function(pe){return k(Ae(pe))}}):ge.attr("transform",k(te))}),ne}},14102:function(ie){"use strict";ie.exports=function z(r,C,E){var f;E.swapXY&&(f=r.x0,r.x0=r.y0,r.y0=f,f=r.x1,r.x1=r.y1,r.y1=f),E.flipX&&(f=r.x0,r.x0=C[0]-r.x1,r.x1=C[0]-f),E.flipY&&(f=r.y0,r.y0=C[1]-r.y1,r.y1=C[1]-f);var S=r.children;if(S)for(var M=0;M<S.length;M++)z(S[M],C,E)}},70954:function(ie,z,r){"use strict";ie.exports={moduleType:"trace",name:"treemap",basePlotModule:r(78018),categories:[],animatable:!0,attributes:r(45802),layoutAttributes:r(55479),supplyDefaults:r(91174),supplyLayoutDefaults:r(77182),calc:r(65039).y,crossTraceCalc:r(65039).T,plot:r(5893),style:r(96362).style,colorbar:r(4898),meta:{}}},55479:function(ie){"use strict";ie.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77182:function(ie,z,r){"use strict";var C=r(71828),E=r(55479);ie.exports=function(f,S){function M(v,c){return C.coerce(f,S,E,v,c)}M("treemapcolorway",S.colorway),M("extendtreemapcolors")}},37210:function(ie,z,r){"use strict";var C=r(674),E=r(14102);ie.exports=function(f,S,M){var v,c=M.flipX,i=M.flipY,u="dice-slice"===M.packing,a=M.pad[i?"bottom":"top"],o=M.pad[c?"right":"left"],l=M.pad[c?"left":"right"],s=M.pad[i?"top":"bottom"];u&&(v=o,o=a,a=v,v=l,l=s,s=v);var d=C.treemap().tile(function(g,p){switch(g){case"squarify":return C.treemapSquarify.ratio(p);case"binary":return C.treemapBinary;case"dice":return C.treemapDice;case"slice":return C.treemapSlice;default:return C.treemapSliceDice}}(M.packing,M.squarifyratio)).paddingInner(M.pad.inner).paddingLeft(o).paddingRight(l).paddingTop(a).paddingBottom(s).size(u?[S[1],S[0]]:S)(f);return(u||c||i)&&E(d,S,{swapXY:u,flipX:c,flipY:i}),d}},5893:function(ie,z,r){"use strict";var C=r(80694),E=r(52583);ie.exports=function(f,S,M,v){return C(f,S,M,v,{type:"treemap",drawDescendants:E})}},46650:function(ie,z,r){"use strict";var C=r(39898),E=r(81684).sX,f=r(2791),S=r(71828),M=r(97313).TEXTPAD,v=r(17295).toMoveInsideBar,c=r(72597).recordMinTextSize,i=r(43473),u=r(66209);function a(o){return f.isHierarchyRoot(o)?"":f.getPtId(o)}ie.exports=function(o,l,s,d,g){var p=o._fullLayout,T=l[0],_=T.trace,y="icicle"===_.type,w=T.hierarchy,m=f.findEntryWithLevel(w,_.level),b=C.select(s),k=b.selectAll("g.pathbar"),h=b.selectAll("g.slice");if(!m)return k.remove(),void h.remove();var O=f.isHierarchyRoot(m),A=!p.uniformtext.mode&&f.hasTransition(d),I=f.getMaxDepth(_),P=p._size,L=_.domain,N=P.w*(L.x[1]-L.x[0]),B=P.h*(L.y[1]-L.y[0]),W=N,j=_.pathbar.thickness,Z=_.marker.line.width+i.gapWithPathbar,V=_.pathbar.visible?_.pathbar.side.indexOf("bottom")>-1?B+Z:-(j+Z):0,q={x0:W,x1:W,y0:V,y1:V+j},G=function(ve,Te,Ce){var We=_.tiling.pad,Ke=function(mt){return mt-We<=Te.x0},Je=function(mt){return mt+We>=Te.x1},ht=function(mt){return mt-We<=Te.y0},ft=function(mt){return mt+We>=Te.y1};return ve.x0===Te.x0&&ve.x1===Te.x1&&ve.y0===Te.y0&&ve.y1===Te.y1?{x0:ve.x0,x1:ve.x1,y0:ve.y0,y1:ve.y1}:{x0:Ke(ve.x0-We)?0:Je(ve.x0-We)?Ce[0]:ve.x0,x1:Ke(ve.x1+We)?0:Je(ve.x1+We)?Ce[0]:ve.x1,y0:ht(ve.y0-We)?0:ft(ve.y0-We)?Ce[1]:ve.y0,y1:ht(ve.y1+We)?0:ft(ve.y1+We)?Ce[1]:ve.y1}},H=null,ne={},X={},$=null,Q=function(ve,Te){return Te?ne[a(ve)]:X[a(ve)]};T.hasMultipleRoots&&O&&I++,_._maxDepth=I,_._backgroundColor=p.paper_bgcolor,_._entryDepth=m.data.depth,_._atRootLevel=O;var te=-N/2+P.l+P.w*(L.x[1]+L.x[0])/2,re=-B/2+P.t+P.h*(1-(L.y[1]+L.y[0])/2),le=function(ve){return te+ve},ue=function(ve){return re+ve},he=ue(0),ge=le(0),xe=function(ve){return ge+ve},ke=function(ve){return he+ve};function Ae(ve,Te){return ve+","+Te}var pe=xe(0),ye=function(ve){ve.x=Math.max(pe,ve.x)},Ne=_.pathbar.edgeshape,be=_[y?"tiling":"marker"].pad,Ee=function(ve){return-1!==_.textposition.indexOf(ve)},Oe=Ee("top"),De=Ee("left"),oe=Ee("right"),de=Ee("bottom"),_e=function(ve,Te){var Ce=ve.x0,We=ve.x1,Ke=ve.y0,Je=ve.y1,ht=ve.textBB,ft=Oe||Te.isHeader&&!de?"start":de?"end":"middle",mt=Ee("right"),At=Ee("left")||Te.onPathbar?-1:mt?1:0;if(Te.isHeader){if((Ce+=(y?be:be.l)-M)>=(We-=(y?be:be.r)-M)){var Rt=(Ce+We)/2;Ce=Rt,We=Rt}var It;de?Ke<(It=Je-(y?be:be.b))&&It<Je&&(Ke=It):Ke<(It=Ke+(y?be:be.t))&&It<Je&&(Je=It)}var Pt=v(Ce,We,Ke,Je,ht,{isHorizontal:!1,constrained:!0,angle:0,anchor:ft,leftToRight:At});return Pt.fontSize=Te.fontSize,Pt.targetX=le(Pt.targetX),Pt.targetY=ue(Pt.targetY),isNaN(Pt.targetX)||isNaN(Pt.targetY)?{}:(Ce!==We&&Ke!==Je&&c(_.type,Pt,p),{scale:Pt.scale,rotate:Pt.rotate,textX:Pt.textX,textY:Pt.textY,anchorX:Pt.anchorX,anchorY:Pt.anchorY,targetX:Pt.targetX,targetY:Pt.targetY})},Me=function(ve,Te){for(var Ce,We=0,Ke=ve;!Ce&&We<I;)We++,(Ke=Ke.parent)?Ce=Q(Ke,Te):We=I;return Ce||{}},Pe=function(ve,Te,Ce,We,Ke){var Je,ht=Q(ve,Te);if(ht)Je=ht;else if(Te)Je=q;else if(H)if(ve.parent){var ft=$||Ce;ft&&!Te?Je=G(ve,ft,We):S.extendFlat(Je={},Me(ve,Te))}else Je=S.extendFlat({},ve),y&&("h"===Ke.orientation?Ke.flipX?Je.x0=ve.x1:Je.x1=0:Ke.flipY?Je.y0=ve.y1:Je.y1=0);else Je={};return E(Je,{x0:ve.x0,x1:ve.x1,y0:ve.y0,y1:ve.y1})},Ue=function(ve,Te,Ce,We){var mt,Rt,It,Ke=Q(ve,Te),Je={},ht=(mt=ve,Rt=Ce,It=We,Te?ne[a(w)]||q:mt.data.depth-m.data.depth<I?G(mt,X[_.level]||Rt,It):{});S.extendFlat(Je,{transform:_e({x0:ht.x0,x1:ht.x1,y0:ht.y0,y1:ht.y1,textBB:ve.textBB,_text:ve._text},{isHeader:f.isHeader(ve,_)})}),Ke?Je=Ke:ve.parent&&S.extendFlat(Je,Me(ve,Te));var ft=ve.transform;return ve.x0!==ve.x1&&ve.y0!==ve.y1&&c(_.type,ft,p),E(Je,{transform:{scale:ft.scale,rotate:ft.rotate,textX:ft.textX,textY:ft.textY,anchorX:ft.anchorX,anchorY:ft.anchorY,targetX:ft.targetX,targetY:ft.targetY}})},Be=function(ve,Te,Ce,We,Ke){var Je=We[0],ht=We[1];A?ve.exit().transition().each(function(){var ft=C.select(this);ft.select("path.surface").transition().attrTween("d",function(mt){var At=function(Rt,It,Pt,Bt){var Ut,Vt=Q(Rt,It);if(It)Ut=q;else{var tn=Q(m,It);Ut=tn?G(Rt,tn,Bt):{}}return E(Vt,Ut)}(mt,Te,0,[Je,ht]);return function(Rt){return Ke(At(Rt))}}),ft.select("g.slicetext").attr("opacity",0)}).remove():ve.exit().remove()},Ve=function(ve){var Te=ve.transform;return ve.x0!==ve.x1&&ve.y0!==ve.y1&&c(_.type,Te,p),S.getTextTransform({textX:Te.textX,textY:Te.textY,anchorX:Te.anchorX,anchorY:Te.anchorY,targetX:Te.targetX,targetY:Te.targetY,scale:Te.scale,rotate:Te.rotate})};A&&(k.each(function(ve){ne[a(ve)]={x0:ve.x0,x1:ve.x1,y0:ve.y0,y1:ve.y1},ve.transform&&(ne[a(ve)].transform={textX:ve.transform.textX,textY:ve.transform.textY,anchorX:ve.transform.anchorX,anchorY:ve.transform.anchorY,targetX:ve.transform.targetX,targetY:ve.transform.targetY,scale:ve.transform.scale,rotate:ve.transform.rotate})}),h.each(function(ve){X[a(ve)]={x0:ve.x0,x1:ve.x1,y0:ve.y0,y1:ve.y1},ve.transform&&(X[a(ve)].transform={textX:ve.transform.textX,textY:ve.transform.textY,anchorX:ve.transform.anchorX,anchorY:ve.transform.anchorY,targetX:ve.transform.targetX,targetY:ve.transform.targetY,scale:ve.transform.scale,rotate:ve.transform.rotate}),!H&&f.isEntry(ve)&&(H=ve)})),$=g(o,l,m,h,{width:N,height:B,viewX:le,viewY:ue,pathSlice:function(ve){var Te=le(ve.x0),Ce=le(ve.x1),We=ue(ve.y0),Ke=ue(ve.y1),Je=Ce-Te,ht=Ke-We;if(!Je||!ht)return"";var mt=Math.min(_.marker.cornerradius||0,Je/2,ht/2);mt&&ve.data&&ve.data.data&&ve.data.data.label&&(Oe&&(mt=Math.min(mt,be.t)),De&&(mt=Math.min(mt,be.l)),oe&&(mt=Math.min(mt,be.r)),de&&(mt=Math.min(mt,be.b)));var At=function(Rt,It){return mt?"a"+Ae(mt,mt)+" 0 0 1 "+Ae(Rt,It):""};return"M"+Ae(Te,We+mt)+At(mt,-mt)+"L"+Ae(Ce-mt,We)+At(mt,mt)+"L"+Ae(Ce,Ke-mt)+At(-mt,mt)+"L"+Ae(Te+mt,Ke)+At(-mt,-mt)+"Z"},toMoveInsideSlice:_e,prevEntry:H,makeUpdateSliceInterpolator:Pe,makeUpdateTextInterpolator:Ue,handleSlicesExit:Be,hasTransition:A,strTransform:Ve}),_.pathbar.visible?u(o,l,m,k,{barDifY:V,width:W,height:j,viewX:xe,viewY:ke,pathSlice:function(ve){var Te=xe(Math.max(Math.min(ve.x0,ve.x0),0)),Ce=xe(Math.min(Math.max(ve.x1,ve.x1),W)),We=ke(ve.y0),Ke=ke(ve.y1),Je=j/2,ht={},ft={};ht.x=Te,ft.x=Ce,ht.y=ft.y=(We+Ke)/2;var mt={x:Te,y:We},At={x:Ce,y:We},Rt={x:Ce,y:Ke},It={x:Te,y:Ke};return">"===Ne?(mt.x-=Je,At.x-=Je,Rt.x-=Je,It.x-=Je):"/"===Ne?(Rt.x-=Je,It.x-=Je,ht.x-=Je/2,ft.x-=Je/2):"\\"===Ne?(mt.x-=Je,At.x-=Je,ht.x-=Je/2,ft.x-=Je/2):"<"===Ne&&(ht.x-=Je,ft.x-=Je),ye(mt),ye(It),ye(ht),ye(At),ye(Rt),ye(ft),"M"+Ae(mt.x,mt.y)+"L"+Ae(At.x,At.y)+"L"+Ae(ft.x,ft.y)+"L"+Ae(Rt.x,Rt.y)+"L"+Ae(It.x,It.y)+"L"+Ae(ht.x,ht.y)+"Z"},toMoveInsideSlice:_e,makeUpdateSliceInterpolator:Pe,makeUpdateTextInterpolator:Ue,handleSlicesExit:Be,hasTransition:A,strTransform:Ve}):k.remove()}},96362:function(ie,z,r){"use strict";var C=r(39898),E=r(7901),f=r(71828),S=r(2791),M=r(72597).resizeText;function v(c,i,u,a){var o,l,s=(a||{}).hovered,d=i.data.data,g=d.i,p=d.color,T=S.isHierarchyRoot(i),_=1;if(s)o=u._hovered.marker.line.color,l=u._hovered.marker.line.width;else if(T&&p===u.root.color)_=100,o="rgba(0,0,0,0)",l=0;else if(o=f.castOption(u,g,"marker.line.color")||E.defaultLine,l=f.castOption(u,g,"marker.line.width")||0,!u._hasColorscale&&!i.onPathbar){var y=u.marker.depthfade;if(y){var w,m=E.combine(E.addOpacity(u._backgroundColor,.75),p);if(!0===y){var b=S.getMaxDepth(u);w=isFinite(b)?S.isLeaf(i)?0:u._maxVisibleLayers-(i.data.depth-u._entryDepth):i.data.height+1}else w=i.data.depth-u._entryDepth,u._atRootLevel||w++;if(w>0)for(var k=0;k<w;k++)p=E.combine(E.addOpacity(m,.5*k/w),p)}}c.style("stroke-width",l).call(E.fill,p).call(E.stroke,o).style("opacity",_)}ie.exports={style:function(c){var i=c._fullLayout._treemaplayer.selectAll(".trace");M(c,i,"treemap"),i.each(function(u){var a=C.select(this),o=u[0].trace;a.style("opacity",o.opacity),a.selectAll("path.surface").each(function(l){C.select(this).call(v,l,o,{hovered:!1})})})},styleOne:v}},68875:function(ie,z,r){"use strict";var C=r(53522),E=r(1426).extendFlat,f=r(12663).axisHoverFormat;ie.exports={y:C.y,x:C.x,x0:C.x0,y0:C.y0,xhoverformat:f("x"),yhoverformat:f("y"),name:E({},C.name,{}),orientation:E({},C.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:C.fillcolor,points:E({},C.boxpoints,{}),jitter:E({},C.jitter,{}),pointpos:E({},C.pointpos,{}),width:E({},C.width,{}),marker:C.marker,text:C.text,hovertext:C.hovertext,hovertemplate:C.hovertemplate,quartilemethod:C.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:C.offsetgroup,alignmentgroup:C.alignmentgroup,selected:C.selected,unselected:C.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"}}},38603:function(ie,z,r){"use strict";var C=r(71828),E=r(89298),f=r(48518),S=r(60168),M=r(50606).BADNUM;function v(i,u,a){var o=u.max-u.min;if(!o)return i.bandwidth?i.bandwidth:0;if(i.bandwidth)return Math.max(i.bandwidth,o/1e4);var d,l=a.length,s=C.stdev(a,l-1,u.mean);return Math.max((d=l,1.059*Math.min(s,(u.q3-u.q1)/1.349)*Math.pow(d,-.2)),o/100)}function c(i,u,a,o){var l,s=i.spanmode,d=i.span||[],p=[u.min-2*o,u.max+2*o];function T(y){var w=d[y],m="multicategory"===a.type?a.r2c(w):a.d2c(w,0,i[u.valLetter+"calendar"]);return m===M?p[y]:m}var _={type:"linear",range:l="soft"===s?p:"hard"===s?[u.min,u.max]:[T(0),T(1)]};return E.setConvert(_),_.cleanRange(),l}ie.exports=function(i,u){var a=f(i,u);if(a[0].t.empty)return a;for(var o=i._fullLayout,l=E.getFromId(i,u["h"===u.orientation?"xaxis":"yaxis"]),s=1/0,d=-1/0,g=0,p=0,T=0;T<a.length;T++){var _=a[T],y=_.pts.map(S.extractVal),w=_.bandwidth=v(u,_,y),m=_.span=c(u,_,l,w);if(_.min===_.max&&0===w)m=_.span=[_.min,_.max],_.density=[{v:1,t:m[0]}],_.bandwidth=w,g=Math.max(g,1);else{var b=m[1]-m[0],k=Math.ceil(b/(w/3)),h=b/k;if(!isFinite(h)||!isFinite(k))return C.error("Something went wrong with computing the violin span"),a[0].t.empty=!0,a;var O=S.makeKDE(_,u,y);_.density=new Array(k);for(var A=0,I=m[0];I<m[1]+h/2;A++,I+=h){var P=O(I);_.density[A]={v:P,t:I},g=Math.max(g,P)}}p=Math.max(p,y.length),s=Math.min(s,m[0]),d=Math.max(d,m[1])}var L=E.findExtremes(l,[s,d],{padded:!0});if(u._extremes[l._id]=L,u.width)a[0].t.maxKDE=g;else{var N=o._violinScaleGroupStats,B=u.scalegroup,W=N[B];W?(W.maxKDE=Math.max(W.maxKDE,g),W.maxCount=Math.max(W.maxCount,p)):N[B]={maxKDE:g,maxCount:p}}return a[0].t.labels.kde=C._(i,"kde:"),a}},86403:function(ie,z,r){"use strict";var C=r(37188).setPositionOffset,E=["v","h"];ie.exports=function(f,S){for(var M=f.calcdata,v=S.xaxis,c=S.yaxis,i=0;i<E.length;i++){for(var u=E[i],a="h"===u?c:v,o=[],l=0;l<M.length;l++){var s=M[l],g=s[0].trace;!0!==g.visible||"violin"!==g.type||s[0].t.empty||g.orientation!==u||g.xaxis!==v._id||g.yaxis!==c._id||o.push(l)}C("violin",f,o,a)}}},15899:function(ie,z,r){"use strict";var C=r(71828),E=r(7901),f=r(36411),S=r(68875);ie.exports=function(M,v,c,i){function u(b,k){return C.coerce(M,v,S,b,k)}function a(b,k){return C.coerce2(M,v,S,b,k)}if(f.handleSampleDefaults(M,v,u,i),!1!==v.visible){u("bandwidth"),u("side"),u("width")||(u("scalegroup",v.name),u("scalemode"));var o,l=u("span");Array.isArray(l)&&(o="manual"),u("spanmode",o);var s=u("line.color",(M.marker||{}).color||c),d=u("line.width"),g=u("fillcolor",E.addOpacity(v.line.color,.5));f.handlePointsDefaults(M,v,u,{prefix:""});var p=a("box.width"),T=a("box.fillcolor",g),_=a("box.line.color",s),y=a("box.line.width",d);u("box.visible",Boolean(p||T||_||y))||(v.box={visible:!1});var w=a("meanline.color",s),m=a("meanline.width",d);u("meanline.visible",Boolean(w||m))||(v.meanline={visible:!1}),u("quartilemethod")}}},60168:function(ie,z,r){"use strict";var C=r(71828),E=function(f){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*f*f)};z.makeKDE=function(f,S,M){var v=M.length,c=E,i=f.bandwidth,u=1/(v*i);return function(a){for(var o=0,l=0;l<v;l++)o+=c((a-M[l])/i);return u*o}},z.getPositionOnKdePath=function(f,S,M){var v,c;"h"===S.orientation?(v="y",c="x"):(v="x",c="y");var i=C.findPointOnPath(f.path,M,c,{pathLength:f.pathLength}),u=f.posCenterPx,a=i[v];return[a,"both"===S.side?2*u-a:u]},z.getKdeValue=function(f,S,M){var v=f.pts.map(z.extractVal);return z.makeKDE(f,S,v)(M)/f.posDensityScale},z.extractVal=function(f){return f.v}},57634:function(ie,z,r){"use strict";var C=r(7901),E=r(71828),f=r(89298),S=r(41868),M=r(60168);ie.exports=function(v,c,i,u,a){a||(a={});var o,l,s=a.hoverLayer,d=v.cd,g=d[0].trace,p=g.hoveron,T=-1!==p.indexOf("violins"),_=-1!==p.indexOf("kde"),y=[];if(T||_){var w=S.hoverOnBoxes(v,c,i,u);if(_&&w.length>0){var m,b,k,h,O,A=v.xa,I=v.ya;"h"===g.orientation?(O=c,m="y",k=I,b="x",h=A):(O=i,m="x",k=A,b="y",h=I);var P=d[v.index];if(O>=P.span[0]&&O<=P.span[1]){var L=E.extendFlat({},v),N=h.c2p(O,!0),B=M.getKdeValue(P,g,O),W=M.getPositionOnKdePath(P,g,N),j=k._offset,Z=k._length;L[m+"0"]=W[0],L[m+"1"]=W[1],L[b+"0"]=L[b+"1"]=N,L[b+"Label"]=b+": "+f.hoverLabelText(h,O,g[b+"hoverformat"])+", "+d[0].t.labels.kde+" "+B.toFixed(3);for(var V=0,q=0;q<w.length;q++)if("med"===w[q].attr){V=q;break}L.spikeDistance=w[V].spikeDistance;var G=m+"Spike";L[G]=w[V][G],w[V].spikeDistance=void 0,w[V][G]=void 0,L.hovertemplate=!1,y.push(L),(l={})[m+"1"]=E.constrain(j+W[0],j,j+Z),l[m+"2"]=E.constrain(j+W[1],j,j+Z),l[b+"1"]=l[b+"2"]=h._offset+N}}T&&(y=y.concat(w))}-1!==p.indexOf("points")&&(o=S.hoverOnPoints(v,c,i));var H=s.selectAll(".violinline-"+g.uid).data(l?[0]:[]);return H.enter().append("line").classed("violinline-"+g.uid,!0).attr("stroke-width",1.5),H.exit().remove(),H.attr(l).call(C.stroke,v.color),"closest"===u?o?[o]:y:(o&&y.push(o),y)}},47462:function(ie,z,r){"use strict";ie.exports={attributes:r(68875),layoutAttributes:r(9228),supplyDefaults:r(15899),crossTraceDefaults:r(36411).crossTraceDefaults,supplyLayoutDefaults:r(33598),calc:r(38603),crossTraceCalc:r(86403),plot:r(28443),style:r(31847),styleOnSelect:r(16296).styleOnSelect,hoverPoints:r(57634),selectPoints:r(24626),moduleType:"trace",name:"violin",basePlotModule:r(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},9228:function(ie,z,r){"use strict";var C=r(40094),E=r(71828).extendFlat;ie.exports={violinmode:E({},C.boxmode,{}),violingap:E({},C.boxgap,{}),violingroupgap:E({},C.boxgroupgap,{})}},33598:function(ie,z,r){"use strict";var C=r(71828),E=r(9228),f=r(4199);ie.exports=function(S,M,v){f._supply(S,M,v,function(c,i){return C.coerce(S,M,E,c,i)},"violin")}},28443:function(ie,z,r){"use strict";var C=r(39898),E=r(71828),f=r(91424),S=r(86047),M=r(34621),v=r(60168);ie.exports=function(c,i,u,a){var o=c._context.staticPlot,l=c._fullLayout,s=i.xaxis,d=i.yaxis;function g(p,T){var _=M(p,{xaxis:s,yaxis:d,trace:T,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return f.smoothopen(_[0],1)}E.makeTraceGroups(a,u,"trace violins").each(function(p){var T=C.select(this),_=p[0],y=_.t,w=_.trace;if(!0!==w.visible||y.empty)T.remove();else{var m=y.bPos,b=y.bdPos,k=i[y.valLetter+"axis"],h=i[y.posLetter+"axis"],O="both"===w.side,A=O||"positive"===w.side,I=O||"negative"===w.side,P=T.selectAll("path.violin").data(E.identity);P.enter().append("path").style("vector-effect",o?"none":"non-scaling-stroke").attr("class","violin"),P.exit().remove(),P.each(function(q){var G,H,ne,X,$,Q,te,re,le=C.select(this),ue=q.density,he=ue.length,ge=h.c2l(q.pos+m,!0),xe=h.l2p(ge);if(w.width)G=y.maxKDE/b;else{var ke=l._violinScaleGroupStats[w.scalegroup];G="count"===w.scalemode?ke.maxKDE/b*(ke.maxCount/q.pts.length):ke.maxKDE/b}if(A){for(te=new Array(he),$=0;$<he;$++)(re=te[$]={})[y.posLetter]=ge+ue[$].v/G,re[y.valLetter]=k.c2l(ue[$].t,!0);H=g(te,w)}if(I){for(te=new Array(he),Q=0,$=he-1;Q<he;Q++,$--)(re=te[Q]={})[y.posLetter]=ge-ue[$].v/G,re[y.valLetter]=k.c2l(ue[$].t,!0);ne=g(te,w)}if(O)X=H+"L"+ne.substr(1)+"Z";else{var Ae=[xe,k.c2p(ue[0].t)],pe=[xe,k.c2p(ue[he-1].t)];"h"===w.orientation&&(Ae.reverse(),pe.reverse()),X=A?"M"+Ae+"L"+H.substr(1)+"L"+pe:"M"+pe+"L"+ne.substr(1)+"L"+Ae}le.attr("d",X),q.posCenterPx=xe,q.posDensityScale=G*b,q.path=le.node(),q.pathLength=q.path.getTotalLength()/(O?2:1)});var L,N,B,W=w.box,j=W.width,Z=(W.line||{}).width;O?(L=b*j,N=0):A?(L=[0,b*j/2],N=Z*{x:1,y:-1}[y.posLetter]):(L=[b*j/2,0],N=Z*{x:-1,y:1}[y.posLetter]),S.plotBoxAndWhiskers(T,{pos:h,val:k},w,{bPos:m,bdPos:L,bPosPxOffset:N}),S.plotBoxMean(T,{pos:h,val:k},w,{bPos:m,bdPos:L,bPosPxOffset:N}),!w.box.visible&&w.meanline.visible&&(B=E.identity);var V=T.selectAll("path.meanline").data(B||[]);V.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",o?"none":"non-scaling-stroke"),V.exit().remove(),V.each(function(q){var G=k.c2p(q.mean,!0),H=v.getPositionOnKdePath(q,w,G);C.select(this).attr("d","h"===w.orientation?"M"+G+","+H[0]+"V"+H[1]:"M"+H[0]+","+G+"H"+H[1])}),S.plotPoints(T,{x:s,y:d},w,y)}})}},31847:function(ie,z,r){"use strict";var C=r(39898),E=r(7901),f=r(16296).stylePoints;ie.exports=function(S){var M=C.select(S).selectAll("g.trace.violins");M.style("opacity",function(v){return v[0].trace.opacity}),M.each(function(v){var c=v[0].trace,i=C.select(this),u=c.box||{},a=u.line||{},o=c.meanline||{},l=o.width;i.selectAll("path.violin").style("stroke-width",c.line.width+"px").call(E.stroke,c.line.color).call(E.fill,c.fillcolor),i.selectAll("path.box").style("stroke-width",a.width+"px").call(E.stroke,a.color).call(E.fill,u.fillcolor);var s={"stroke-width":l+"px","stroke-dasharray":2*l+"px,"+l+"px"};i.selectAll("path.mean").style(s).call(E.stroke,o.color),i.selectAll("path.meanline").style(s).call(E.stroke,o.color),f(i,c,S)})}},16336:function(ie,z,r){"use strict";var C=r(50693),E=r(16249),f=r(54532),S=r(9012),M=r(1426).extendFlat,v=r(30962).overrideAll,c=ie.exports=v(M({x:E.x,y:E.y,z:E.z,value:E.value,isomin:E.isomin,isomax:E.isomax,surface:E.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:E.slices,caps:E.caps,text:E.text,hovertext:E.hovertext,xhoverformat:E.xhoverformat,yhoverformat:E.yhoverformat,zhoverformat:E.zhoverformat,valuehoverformat:E.valuehoverformat,hovertemplate:E.hovertemplate},C("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:E.colorbar,opacity:E.opacity,opacityscale:f.opacityscale,lightposition:E.lightposition,lighting:E.lighting,flatshading:E.flatshading,contour:E.contour,hoverinfo:M({},S.hoverinfo),showlegend:M({},S.showlegend,{dflt:!1})}),"calc","nested");c.x.editType=c.y.editType=c.z.editType=c.value.editType="calc+clearAxisTypes",c.transforms=void 0},64809:function(ie,z,r){"use strict";var C=r(9330).gl_mesh3d,E=r(81697).parseColorScale,f=r(78614),S=r(21081).extractOpts,M=r(90060),v=r(22674).findNearestOnAxis,c=r(22674).generateIsoMeshes;function i(a,o,l){this.scene=a,this.uid=l,this.mesh=o,this.name="",this.data=null,this.showContour=!1}var u=i.prototype;u.handlePick=function(a){if(a.object===this.mesh){var o=a.data.index,s=this.data._meshY[o],d=this.data._meshZ[o],g=this.data._Ys.length,p=this.data._Zs.length,T=v(this.data._meshX[o],this.data._Xs).id,_=v(s,this.data._Ys).id,y=v(d,this.data._Zs).id,w=a.index=y+p*_+p*g*T;a.traceCoordinate=[this.data._meshX[w],this.data._meshY[w],this.data._meshZ[w],this.data._value[w]];var m=this.data.hovertext||this.data.text;return Array.isArray(m)&&void 0!==m[w]?a.textLabel=m[w]:m&&(a.textLabel=m),!0}},u.update=function(a){var o=this.scene,l=o.fullSceneLayout;function s(p,T,_,y){return T.map(function(w){return p.d2l(w,0,y)*_})}this.data=c(a);var d={positions:M(s(l.xaxis,a._meshX,o.dataScale[0],a.xcalendar),s(l.yaxis,a._meshY,o.dataScale[1],a.ycalendar),s(l.zaxis,a._meshZ,o.dataScale[2],a.zcalendar)),cells:M(a._meshI,a._meshJ,a._meshK),lightPosition:[a.lightposition.x,a.lightposition.y,a.lightposition.z],ambient:a.lighting.ambient,diffuse:a.lighting.diffuse,specular:a.lighting.specular,roughness:a.lighting.roughness,fresnel:a.lighting.fresnel,vertexNormalsEpsilon:a.lighting.vertexnormalsepsilon,faceNormalsEpsilon:a.lighting.facenormalsepsilon,opacity:a.opacity,opacityscale:a.opacityscale,contourEnable:a.contour.show,contourColor:f(a.contour.color).slice(0,3),contourWidth:a.contour.width,useFacetNormals:a.flatshading},g=S(a);d.vertexIntensity=a._meshIntensity,d.vertexIntensityBounds=[g.min,g.max],d.colormap=E(a),this.mesh.update(d)},u.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},ie.exports=function(a,o){var s=C({gl:a.glplot.gl}),d=new i(a,s,o.uid);return s._trace=d,d.update(o),a.glplot.add(s),d}},47651:function(ie,z,r){"use strict";var C=r(71828),E=r(16336),f=r(82738).supplyIsoDefaults,S=r(91831).opacityscaleDefaults;ie.exports=function(M,v,c,i){function u(a,o){return C.coerce(M,v,E,a,o)}f(M,v,c,i,u),S(M,v,i,u)}},17659:function(ie,z,r){"use strict";ie.exports={attributes:r(16336),supplyDefaults:r(47651),calc:r(56959),colorbar:{min:"cmin",max:"cmax"},plot:r(64809),moduleType:"trace",name:"volume",basePlotModule:r(58547),categories:["gl3d","showLegend"],meta:{}}},43037:function(ie,z,r){"use strict";var C=r(1486),E=r(82196).line,f=r(9012),S=r(12663).axisHoverFormat,M=r(5386).f,v=r(5386).s,c=r(48334),i=r(1426).extendFlat,u=r(7901);function a(o){return{marker:{color:i({},C.marker.color,{arrayOk:!1,editType:"style"}),line:{color:i({},C.marker.line.color,{arrayOk:!1,editType:"style"}),width:i({},C.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}ie.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:C.x,x0:C.x0,dx:C.dx,y:C.y,y0:C.y0,dy:C.dy,xperiod:C.xperiod,yperiod:C.yperiod,xperiod0:C.xperiod0,yperiod0:C.yperiod0,xperiodalignment:C.xperiodalignment,yperiodalignment:C.yperiodalignment,xhoverformat:S("x"),yhoverformat:S("y"),hovertext:C.hovertext,hovertemplate:M({},{keys:c.eventDataKeys}),hoverinfo:i({},f.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:c.eventDataKeys.concat(["label"])}),text:C.text,textposition:C.textposition,insidetextanchor:C.insidetextanchor,textangle:C.textangle,textfont:C.textfont,insidetextfont:C.insidetextfont,outsidetextfont:C.outsidetextfont,constraintext:C.constraintext,cliponaxis:C.cliponaxis,orientation:C.orientation,offset:C.offset,width:C.width,increasing:a(),decreasing:a(),totals:a(),connector:{line:{color:i({},E.color,{dflt:u.defaultLine}),width:i({},E.width,{editType:"plot"}),dash:E.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:C.offsetgroup,alignmentgroup:C.alignmentgroup}},52752:function(ie,z,r){"use strict";var C=r(89298),E=r(42973),f=r(71828).mergeArray,S=r(66279),M=r(50606).BADNUM;function v(i){return"a"===i||"absolute"===i}function c(i){return"t"===i||"total"===i}ie.exports=function(i,u){var a,o,l,s,d,g,p=C.getFromId(i,u.xaxis||"x"),T=C.getFromId(i,u.yaxis||"y");"h"===u.orientation?(a=p.makeCalcdata(u,"x"),l=T.makeCalcdata(u,"y"),s=E(u,T,"y",l),d=!!u.yperiodalignment,g="y"):(a=T.makeCalcdata(u,"y"),l=p.makeCalcdata(u,"x"),s=E(u,p,"x",l),d=!!u.xperiodalignment,g="x"),o=s.vals;for(var _,y=Math.min(o.length,a.length),w=new Array(y),m=0,b=!1,k=0;k<y;k++){var h=a[k]||0,O=!1;(a[k]!==M||c(u.measure[k])||v(u.measure[k]))&&k+1<y&&(a[k+1]!==M||c(u.measure[k+1])||v(u.measure[k+1]))&&(O=!0);var A=w[k]={i:k,p:o[k],s:h,rawS:h,cNext:O};v(u.measure[k])?(m=A.s,A.isSum=!0,A.dir="totals",A.s=m):c(u.measure[k])?(A.isSum=!0,A.dir="totals",A.s=m):(A.isSum=!1,A.dir=A.rawS<0?"decreasing":"increasing",A.s=m+(_=A.s),m+=_),"totals"===A.dir&&(b=!0),d&&(w[k].orig_p=l[k],w[k][g+"End"]=s.ends[k],w[k][g+"Start"]=s.starts[k]),u.ids&&(A.id=String(u.ids[k])),A.v=(u.base||0)+m}return w.length&&(w[0].hasTotals=b),f(u.text,w,"tx"),f(u.hovertext,w,"htx"),S(w,u),w}},48334:function(ie){"use strict";ie.exports={eventDataKeys:["initial","delta","final"]}},70766:function(ie,z,r){"use strict";var C=r(11661).setGroupPositions;ie.exports=function(E,f){var S,M,v=E._fullLayout,c=E._fullData,i=E.calcdata,u=f.xaxis,a=f.yaxis,o=[],l=[],s=[];for(M=0;M<c.length;M++){var d=c[M];!0===d.visible&&d.xaxis===u._id&&d.yaxis===a._id&&"waterfall"===d.type&&(S=i[M],"h"===d.orientation?s.push(S):l.push(S),o.push(S))}var g={mode:v.waterfallmode,norm:v.waterfallnorm,gap:v.waterfallgap,groupgap:v.waterfallgroupgap};for(C(E,u,a,l,g),C(E,a,u,s,g),M=0;M<o.length;M++){S=o[M];for(var p=0;p<S.length;p++){var T=S[p];!1===T.isSum&&(T.s0+=0===p?0:S[p-1].s),p+1<S.length&&(S[p].nextP0=S[p+1].p0,S[p].nextS0=S[p+1].s0)}}}},83266:function(ie,z,r){"use strict";var C=r(71828),E=r(26125),f=r(90769).handleText,S=r(67513),M=r(73927),v=r(43037),c=r(7901),i=r(22372),u=i.INCREASING.COLOR,a=i.DECREASING.COLOR;function o(l,s,d){l(s+".marker.color",d),l(s+".marker.line.color",c.defaultLine),l(s+".marker.line.width")}ie.exports={supplyDefaults:function(l,s,d,g){function p(_,y){return C.coerce(l,s,v,_,y)}if(S(l,s,g,p)){M(l,s,g,p),p("xhoverformat"),p("yhoverformat"),p("measure"),p("orientation",s.x&&!s.y?"h":"v"),p("base"),p("offset"),p("width"),p("text"),p("hovertext"),p("hovertemplate");var T=p("textposition");f(l,s,g,p,T,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),"none"!==s.textposition&&(p("texttemplate"),s.texttemplate||p("textinfo")),o(p,"increasing",u),o(p,"decreasing",a),o(p,"totals","#4499FF"),p("connector.visible")&&(p("connector.mode"),p("connector.line.width")&&(p("connector.line.color"),p("connector.line.dash")))}else s.visible=!1},crossTraceDefaults:function(l,s){var d,g;function p(_){return C.coerce(g._input,g,v,_)}if("group"===s.waterfallmode)for(var T=0;T<l.length;T++)d=(g=l[T])._input,E(d,g,s,p)}}},58593:function(ie){"use strict";ie.exports=function(z,r){return z.x="xVal"in r?r.xVal:r.x,z.y="yVal"in r?r.yVal:r.y,"initial"in r&&(z.initial=r.initial),"delta"in r&&(z.delta=r.delta),"final"in r&&(z.final=r.final),r.xa&&(z.xaxis=r.xa),r.ya&&(z.yaxis=r.ya),z}},61326:function(ie,z,r){"use strict";var C=r(89298).hoverLabelText,E=r(7901).opacity,f=r(95423).hoverOnBars,S=r(22372),M=S.INCREASING.SYMBOL,v=S.DECREASING.SYMBOL;ie.exports=function(c,i,u,a,o){var L,N,B,W,l=f(c,i,u,a,o);if(l){var s=l.cd,d=s[0].trace,g="h"===d.orientation,p=g?"x":"y",T=g?c.xa:c.ya,_=s[l.index],y=_.isSum?_.b+_.s:_.rawS;if(!_.isSum){l.initial=_.b+_.s-y,l.delta=y,l.final=l.initial+l.delta;var w=A(Math.abs(l.delta));l.deltaLabel=y<0?"("+w+")":w,l.finalLabel=A(l.final),l.initialLabel=A(l.initial)}var m=_.hi||d.hoverinfo,b=[];if(m&&"none"!==m&&"skip"!==m){var k="all"===m,h=m.split("+"),O=function(I){return k||-1!==h.indexOf(I)};_.isSum||(!O("final")||O(g?"x":"y")||b.push(l.finalLabel),O("delta")&&b.push(y<0?l.deltaLabel+" "+v:l.deltaLabel+" "+M),O("initial")&&b.push("Initial: "+l.initialLabel))}return b.length&&(l.extraText=b.join("<br>")),l.color=(B=(L=d[_.dir].marker).line.color,W=L.line.width,E(N=L.color)?N:E(B)&&W?B:void 0),[l]}function A(I){return C(T,I,d[p+"hoverformat"])}}},19990:function(ie,z,r){"use strict";ie.exports={attributes:r(43037),layoutAttributes:r(13494),supplyDefaults:r(83266).supplyDefaults,crossTraceDefaults:r(83266).crossTraceDefaults,supplyLayoutDefaults:r(5176),calc:r(52752),crossTraceCalc:r(70766),plot:r(30436),style:r(55750).style,hoverPoints:r(61326),eventData:r(58593),selectPoints:r(81974),moduleType:"trace",name:"waterfall",basePlotModule:r(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},13494:function(ie){"use strict";ie.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},5176:function(ie,z,r){"use strict";var C=r(71828),E=r(13494);ie.exports=function(f,S,M){var v=!1;function c(a,o){return C.coerce(f,S,E,a,o)}for(var i=0;i<M.length;i++){var u=M[i];if(u.visible&&"waterfall"===u.type){v=!0;break}}v&&(c("waterfallmode"),c("waterfallgap",.2),c("waterfallgroupgap"))}},30436:function(ie,z,r){"use strict";var C=r(39898),E=r(71828),f=r(91424),S=r(50606).BADNUM,M=r(17295),v=r(72597).clearMinTextSize;ie.exports=function(c,i,u,a){var l,s,p,T,o=c._fullLayout;v("waterfall",o),M.plot(c,i,u,a,{mode:o.waterfallmode,norm:o.waterfallmode,gap:o.waterfallgap,groupgap:o.waterfallgroupgap}),l=c,p=(s=i).xaxis,T=s.yaxis,E.makeTraceGroups(a,u,"trace bars").each(function(_){var y=C.select(this),w=_[0].trace,m=E.ensureSingle(y,"g","lines");if(w.connector&&w.connector.visible){var b="h"===w.orientation,k=w.connector.mode,h=m.selectAll("g.line").data(E.identity);h.enter().append("g").classed("line",!0),h.exit().remove();var O=h.size();h.each(function(A,I){if(I===O-1||A.cNext){var P=(j=p,Z=T,G=[],ne=(V=b)?Z:j,(q=[])[0]=(H=V?j:Z).c2p((W=A).s0,!0),G[0]=ne.c2p(W.p0,!0),q[1]=H.c2p(W.s1,!0),G[1]=ne.c2p(W.p1,!0),q[2]=H.c2p(W.nextS0,!0),G[2]=ne.c2p(W.nextP0,!0),V?[q,G]:[G,q]),L=P[0],N=P[1],B="";L[0]!==S&&N[0]!==S&&L[1]!==S&&N[1]!==S&&("spanning"===k&&!A.isSum&&I>0&&(B+=b?"M"+L[0]+","+N[1]+"V"+N[0]:"M"+L[1]+","+N[0]+"H"+L[0]),"between"!==k&&(A.isSum||I<O-1)&&(B+=b?"M"+L[1]+","+N[0]+"V"+N[1]:"M"+L[0]+","+N[1]+"H"+L[1]),L[2]!==S&&N[2]!==S&&(B+=b?"M"+L[1]+","+N[1]+"V"+N[2]:"M"+L[1]+","+N[1]+"H"+L[2])),""===B&&(B="M0,0Z"),E.ensureSingle(C.select(this),"path").attr("d",B).call(f.setClipUrl,s.layerClipId,l)}var W,j,Z,V,q,G,H,ne})}else m.remove()})}},55750:function(ie,z,r){"use strict";var C=r(39898),E=r(91424),f=r(7901),S=r(37822).DESELECTDIM,M=r(16688),v=r(72597).resizeText,c=M.styleTextPoints;ie.exports={style:function(i,u,a){var o=a||C.select(i).selectAll("g.waterfalllayer").selectAll("g.trace");v(i,o,"waterfall"),o.style("opacity",function(l){return l[0].trace.opacity}),o.each(function(l){var s=C.select(this),d=l[0].trace;s.selectAll(".point > path").each(function(g){if(!g.isBlank){var p=d[g.dir].marker;C.select(this).call(f.fill,p.color).call(f.stroke,p.line.color).call(E.dashLine,p.line.dash,p.line.width).style("opacity",d.selectedpoints&&!g.selected?S:1)}}),c(s,d,i),s.selectAll(".lines").each(function(){var g=d.connector.line;E.lineGroupStyle(C.select(this).selectAll("path"),g.width,g.color,g.dash)})})}}},82887:function(ie,z,r){"use strict";var C=r(89298),E=r(71828),f=r(86281),S=r(79344).p,M=r(50606).BADNUM;z.moduleType="transform",z.name="aggregate";var v=z.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},c=v.aggregations;function i(l,s,d,g){if(g.enabled){for(var p=g.target,T=E.nestedProperty(s,p),_=T.get(),y=function(b,k){var O=k.d2c,A=k.c2d;switch(b.func){case"count":return u;case"first":return a;case"last":return o;case"sum":return function(I,P){for(var L=0,N=0;N<P.length;N++){var B=O(I[P[N]]);B!==M&&(L+=B)}return A(L)};case"avg":return function(I,P){for(var L=0,N=0,B=0;B<P.length;B++){var W=O(I[P[B]]);W!==M&&(L+=W,N++)}return N?A(L/N):M};case"min":return function(I,P){for(var L=1/0,N=0;N<P.length;N++){var B=O(I[P[N]]);B!==M&&(L=Math.min(L,B))}return L===1/0?M:A(L)};case"max":return function(I,P){for(var L=-1/0,N=0;N<P.length;N++){var B=O(I[P[N]]);B!==M&&(L=Math.max(L,B))}return L===-1/0?M:A(L)};case"range":return function(I,P){for(var L=1/0,N=-1/0,B=0;B<P.length;B++){var W=O(I[P[B]]);W!==M&&(L=Math.min(L,W),N=Math.max(N,W))}return N===-1/0||L===1/0?M:A(N-L)};case"change":return function(I,P){var L=O(I[P[0]]),N=O(I[P[P.length-1]]);return L===M||N===M?M:A(N-L)};case"median":return function(I,P){for(var L=[],N=0;N<P.length;N++){var B=O(I[P[N]]);B!==M&&L.push(B)}if(!L.length)return M;L.sort(E.sorterAsc);var W=(L.length-1)/2;return A((L[Math.floor(W)]+L[Math.ceil(W)])/2)};case"mode":return function(I,P){for(var L={},N=0,B=M,W=0;W<P.length;W++){var j=O(I[P[W]]);if(j!==M){var Z=L[j]=(L[j]||0)+1;Z>N&&(N=Z,B=j)}}return N?A(B):M};case"rms":return function(I,P){for(var L=0,N=0,B=0;B<P.length;B++){var W=O(I[P[B]]);W!==M&&(L+=W*W,N++)}return N?A(Math.sqrt(L/N)):M};case"stddev":return function(I,P){var L,N=0,B=0,W=1,j=M;for(L=0;L<P.length&&j===M;L++)j=O(I[P[L]]);if(j===M)return M;for(;L<P.length;L++){var Z=O(I[P[L]]);if(Z!==M){var V=Z-j;N+=V,B+=V*V,W++}}var q="sample"===b.funcmode?W-1:W;return q?Math.sqrt((B-N*N/W)/q):0}}}(g,C.getDataConversions(l,s,p,_)),w=new Array(d.length),m=0;m<d.length;m++)w[m]=y(_,d[m]);T.set(w),"count"===g.func&&E.pushUnique(s._arrayAttrs,p)}}function u(l,s){return s.length}function a(l,s){return l[s[0]]}function o(l,s){return l[s[s.length-1]]}z.supplyDefaults=function(l,s){var d,g={};function p(A,I){return E.coerce(l,g,v,A,I)}if(!p("enabled"))return g;var T=f.findArrayAttributes(s),_={};for(d=0;d<T.length;d++)_[T[d]]=1;var y=p("groups");if(!Array.isArray(y)){if(!_[y])return g.enabled=!1,g;_[y]=0}var w,m=l.aggregations||[],b=g.aggregations=new Array(m.length);function k(A,I){return E.coerce(m[d],w,c,A,I)}for(d=0;d<m.length;d++){w={_index:d};var h=k("target"),O=k("func");k("enabled")&&h&&(_[h]||"count"===O&&void 0===_[h])?("stddev"===O&&k("funcmode"),_[h]=0,b[d]=w):b[d]={enabled:!1,_index:d}}for(d=0;d<T.length;d++)_[T[d]]&&b.push({target:T[d],func:c.func.dflt,enabled:!0,_index:-1});return g},z.calcTransform=function(l,s,d){if(d.enabled){var g=d.groups,p=E.getTargetArray(s,{target:g});if(p){var T,_,y,m={},b={},k=[],h=S(s.transforms,d),O=p.length;for(s._length&&(O=Math.min(O,s._length)),T=0;T<O;T++)void 0===(y=m[_=p[T]])?(m[_]=k.length,k.push([T]),b[m[_]]=h(T)):(k[y].push(T),b[m[_]]=(b[m[_]]||[]).concat(h(T)));d._indexToPoints=b;var A=d.aggregations;for(T=0;T<A.length;T++)i(l,s,k,A[T]);"string"==typeof g&&i(l,s,k,{target:g,func:"first",enabled:!0}),s._length=k.length}}}},14382:function(ie,z,r){"use strict";var C=r(71828),E=r(73972),f=r(89298),S=r(79344).p,M=r(74808),v=M.COMPARISON_OPS,c=M.INTERVAL_OPS,i=M.SET_OPS;z.moduleType="transform",z.name="filter",z.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(v).concat(c).concat(i),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},z.supplyDefaults=function(u){var a={};function o(d,g){return C.coerce(u,a,z.attributes,d,g)}if(o("enabled")){var l=o("target");if(C.isArrayOrTypedArray(l)&&0===l.length)return a.enabled=!1,a;o("preservegaps"),o("operation"),o("value");var s=E.getComponentMethod("calendars","handleDefaults");s(u,a,"valuecalendar",null),s(u,a,"targetcalendar",null)}return a},z.calcTransform=function(u,a,o){if(o.enabled){var l=C.getTargetArray(a,o);if(l){var s=o.target,d=l.length;a._length&&(d=Math.min(d,a._length));var g=o.targetcalendar,p=a._arrayAttrs,T=o.preservegaps;if("string"==typeof s){var _=C.nestedProperty(a,s+"calendar").get();_&&(g=_)}var y,w,m=function(P,L,N){var B=P.operation,W=P.value,j=Array.isArray(W);function Z(H){return-1!==H.indexOf(B)}var V,q=function(H){return L(H,0,P.valuecalendar)},G=function(H){return L(H,0,N)};switch(Z(v)?V=q(j?W[0]:W):Z(c)?V=j?[q(W[0]),q(W[1])]:[q(W),q(W)]:Z(i)&&(V=j?W.map(q):[q(W)]),B){case"=":return function(H){return G(H)===V};case"!=":return function(H){return G(H)!==V};case"<":return function(H){return G(H)<V};case"<=":return function(H){return G(H)<=V};case">":return function(H){return G(H)>V};case">=":return function(H){return G(H)>=V};case"[]":return function(H){var ne=G(H);return ne>=V[0]&&ne<=V[1]};case"()":return function(H){var ne=G(H);return ne>V[0]&&ne<V[1]};case"[)":return function(H){var ne=G(H);return ne>=V[0]&&ne<V[1]};case"(]":return function(H){var ne=G(H);return ne>V[0]&&ne<=V[1]};case"][":return function(H){var ne=G(H);return ne<=V[0]||ne>=V[1]};case")(":return function(H){var ne=G(H);return ne<V[0]||ne>V[1]};case"](":return function(H){var ne=G(H);return ne<=V[0]||ne>V[1]};case")[":return function(H){var ne=G(H);return ne<V[0]||ne>=V[1]};case"{}":return function(H){return-1!==V.indexOf(G(H))};case"}{":return function(H){return-1===V.indexOf(G(H))}}}(o,f.getDataToCoordFunc(u,a,s,l),g),b={},k={},h=0;T?(y=function(P){b[P.astr]=C.extendDeep([],P.get()),P.set(new Array(d))},w=function(P,L){var N=b[P.astr][L];P.get()[L]=N}):(y=function(P){b[P.astr]=C.extendDeep([],P.get()),P.set([])},w=function(P,L){var N=b[P.astr][L];P.get().push(N)}),I(y);for(var O=S(a.transforms,o),A=0;A<d;A++)m(l[A])?(I(w,A),k[h++]=O(A)):T&&h++;o._indexToPoints=k,a._length=h}}function I(P,L){for(var N=0;N<p.length;N++)P(C.nestedProperty(a,p[N]),L)}}},43102:function(ie,z,r){"use strict";var C=r(71828),E=r(86281),f=r(74875),S=r(79344).p;function M(v,c){var i,u,a,o,l,s,d,g,p,T,_=c.transform,y=c.transformIndex,w=v.transforms[y].groups,m=S(v.transforms,_);if(!C.isArrayOrTypedArray(w)||0===w.length)return[v];var b=C.filterUnique(w),k=new Array(b.length),h=w.length,O=E.findArrayAttributes(v),A=_.styles||[],I={};for(i=0;i<A.length;i++)I[A[i].target]=A[i].value;_.styles&&(T=C.keyedContainer(_,"styles","target","value.name"));var P={},L={};for(i=0;i<b.length;i++){P[s=b[i]]=i,L[s]=0,(d=k[i]=C.extendDeepNoArrays({},v))._group=s,d.transforms[y]._indexToPoints={};var N=null;for(T&&(N=T.get(s)),d.name=N||""===N?N:C.templateString(_.nameformat,{trace:v.name,group:s}),g=d.transforms,d.transforms=[],u=0;u<g.length;u++)d.transforms[u]=C.extendDeepNoArrays({},g[u]);for(u=0;u<O.length;u++)C.nestedProperty(d,O[u]).set([])}for(a=0;a<O.length;a++){for(o=O[a],u=0,p=[];u<b.length;u++)p[u]=C.nestedProperty(k[u],o).get();for(l=C.nestedProperty(v,o).get(),u=0;u<h;u++)p[P[w[u]]].push(l[u])}for(u=0;u<h;u++)(d=k[P[w[u]]]).transforms[y]._indexToPoints[L[w[u]]]=m(u),L[w[u]]++;for(i=0;i<b.length;i++)s=b[i],f.clearExpandedTraceDefaultColors(d=k[i]),d=C.extendDeepNoArrays(d,I[s]||{});return k}z.moduleType="transform",z.name="groupby",z.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},z.supplyDefaults=function(v,c,i){var u,a={};function o(p,T){return C.coerce(v,a,z.attributes,p,T)}if(!o("enabled"))return a;o("groups"),o("nameformat",i._dataLength>1?"%{group} (%{trace})":"%{group}");var l=v.styles,s=a.styles=[];if(l)for(u=0;u<l.length;u++){var d=s[u]={};C.coerce(l[u],s[u],z.attributes.styles,"target");var g=C.coerce(l[u],s[u],z.attributes.styles,"value");C.isPlainObject(g)?d.value=C.extendDeep({},g):g&&delete d.value}return a},z.transform=function(v,c){var i,u,a,o=[];for(u=0;u<v.length;u++)for(i=M(v[u],c),a=0;a<i.length;a++)o.push(i[a]);return o}},79344:function(ie,z){"use strict";z.p=function(r,C){for(var E,f,S=0;S<r.length&&(E=r[S])!==C;S++)E._indexToPoints&&!1!==E.enabled&&(f=E._indexToPoints);return f?function(v){return f[v]}:function(v){return[v]}}},32275:function(ie,z,r){"use strict";var C=r(71828),E=r(89298),f=r(79344).p,S=r(50606).BADNUM;z.moduleType="transform",z.name="sort",z.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},z.supplyDefaults=function(M){var v={};function c(i,u){return C.coerce(M,v,z.attributes,i,u)}return c("enabled")&&(c("target"),c("order")),v},z.calcTransform=function(M,v,c){if(c.enabled){var i=C.getTargetArray(v,c);if(i){var u=c.target,a=i.length;v._length&&(a=Math.min(a,v._length));var o,l,s=v._arrayAttrs,d=function(w,m,b,k){var h,O=new Array(k),A=new Array(k);for(h=0;h<k;h++)O[h]={v:m[h],i:h};for(O.sort(function(I,P){switch(I.order){case"ascending":return function(L,N){var B=P(L.v),W=P(N.v);return B===S?1:W===S?-1:B-W};case"descending":return function(L,N){var B=P(L.v),W=P(N.v);return B===S?1:W===S?-1:W-B}}}(w,b)),h=0;h<k;h++)A[h]=O[h].i;return A}(c,i,E.getDataToCoordFunc(M,v,u,i),a),g=f(v.transforms,c),p={};for(o=0;o<s.length;o++){var T=C.nestedProperty(v,s[o]),_=T.get(),y=new Array(a);for(l=0;l<a;l++)y[l]=_[d[l]];T.set(y)}for(l=0;l<a;l++)p[l]=g(d[l]);c._indexToPoints=p,v._length=a}}}},11506:function(ie,z){"use strict";z.version="2.18.1"},9330:function(ie,z,r){var C,E=r(90386);C=function(){return function(){var f={7386:function(v,c,i){v.exports={alpha_shape:i(2350),convex_hull:i(5537),delaunay_triangulate:i(4419),gl_cone3d:i(1140),gl_error3d:i(3110),gl_heatmap2d:i(6386),gl_line3d:i(6086),gl_mesh3d:i(8116),gl_plot2d:i(2117),gl_plot3d:i(1059),gl_pointcloud2d:i(8271),gl_scatter3d:i(2182),gl_select_box:i(6623),gl_spikes2d:i(3050),gl_streamtube3d:i(7307),gl_surface3d:i(3754),ndarray:i(5050),ndarray_linear_interpolate:i(3581)}},2146:function(v,c,i){"use strict";function u(ve,Te){if(!(ve instanceof Te))throw new TypeError("Cannot call a class as a function")}function o(ve,Te){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ce,We){return Ce.__proto__=We,Ce})(ve,Te)}function l(ve,Te){if(Te&&("object"===g(Te)||"function"==typeof Te))return Te;if(void 0!==Te)throw new TypeError("Derived constructors may only return object or undefined");return s(ve)}function s(ve){if(void 0===ve)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ve}function d(ve){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Te){return Te.__proto__||Object.getPrototypeOf(Te)})(ve)}function g(ve){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Te){return typeof Te}:function(Te){return Te&&"function"==typeof Symbol&&Te.constructor===Symbol&&Te!==Symbol.prototype?"symbol":typeof Te})(ve)}var p=i(3910),T=i(3187),_="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;c.lW=m,c.h2=50;var y=2147483647;function w(ve){if(ve>y)throw new RangeError('The value "'+ve+'" is invalid for option "size"');var Te=new Uint8Array(ve);return Object.setPrototypeOf(Te,m.prototype),Te}function m(ve,Te,Ce){if("number"==typeof ve){if("string"==typeof Te)throw new TypeError('The "string" argument must be of type string. Received type number');return h(ve)}return b(ve,Te,Ce)}function b(ve,Te,Ce){if("string"==typeof ve)return function(Je,ht){if("string"==typeof ht&&""!==ht||(ht="utf8"),!m.isEncoding(ht))throw new TypeError("Unknown encoding: "+ht);var ft=0|P(Je,ht),mt=w(ft),At=mt.write(Je,ht);return At!==ft&&(mt=mt.slice(0,At)),mt}(ve,Te);if(ArrayBuffer.isView(ve))return function(Je){if(Me(Je,Uint8Array)){var ht=new Uint8Array(Je);return A(ht.buffer,ht.byteOffset,ht.byteLength)}return O(Je)}(ve);if(null==ve)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+g(ve));if(Me(ve,ArrayBuffer)||ve&&Me(ve.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Me(ve,SharedArrayBuffer)||ve&&Me(ve.buffer,SharedArrayBuffer)))return A(ve,Te,Ce);if("number"==typeof ve)throw new TypeError('The "value" argument must not be of type number. Received type number');var We=ve.valueOf&&ve.valueOf();if(null!=We&&We!==ve)return m.from(We,Te,Ce);var Ke=function(Je){if(m.isBuffer(Je)){var ht=0|I(Je.length),ft=w(ht);return 0===ft.length||Je.copy(ft,0,0,ht),ft}return void 0!==Je.length?"number"!=typeof Je.length||Pe(Je.length)?w(0):O(Je):"Buffer"===Je.type&&Array.isArray(Je.data)?O(Je.data):void 0}(ve);if(Ke)return Ke;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof ve[Symbol.toPrimitive])return m.from(ve[Symbol.toPrimitive]("string"),Te,Ce);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+g(ve))}function k(ve){if("number"!=typeof ve)throw new TypeError('"size" argument must be of type number');if(ve<0)throw new RangeError('The value "'+ve+'" is invalid for option "size"')}function h(ve){return k(ve),w(ve<0?0:0|I(ve))}function O(ve){for(var Te=ve.length<0?0:0|I(ve.length),Ce=w(Te),We=0;We<Te;We+=1)Ce[We]=255&ve[We];return Ce}function A(ve,Te,Ce){if(Te<0||ve.byteLength<Te)throw new RangeError('"offset" is outside of buffer bounds');if(ve.byteLength<Te+(Ce||0))throw new RangeError('"length" is outside of buffer bounds');var We;return We=void 0===Te&&void 0===Ce?new Uint8Array(ve):void 0===Ce?new Uint8Array(ve,Te):new Uint8Array(ve,Te,Ce),Object.setPrototypeOf(We,m.prototype),We}function I(ve){if(ve>=y)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+y.toString(16)+" bytes");return 0|ve}function P(ve,Te){if(m.isBuffer(ve))return ve.length;if(ArrayBuffer.isView(ve)||Me(ve,ArrayBuffer))return ve.byteLength;if("string"!=typeof ve)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+g(ve));var Ce=ve.length,We=arguments.length>2&&!0===arguments[2];if(!We&&0===Ce)return 0;for(var Ke=!1;;)switch(Te){case"ascii":case"latin1":case"binary":return Ce;case"utf8":case"utf-8":return oe(ve).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Ce;case"hex":return Ce>>>1;case"base64":return de(ve).length;default:if(Ke)return We?-1:oe(ve).length;Te=(""+Te).toLowerCase(),Ke=!0}}function L(ve,Te,Ce){var We=!1;if((void 0===Te||Te<0)&&(Te=0),Te>this.length||((void 0===Ce||Ce>this.length)&&(Ce=this.length),Ce<=0)||(Ce>>>=0)<=(Te>>>=0))return"";for(ve||(ve="utf8");;)switch(ve){case"hex":return te(this,Te,Ce);case"utf8":case"utf-8":return ne(this,Te,Ce);case"ascii":return $(this,Te,Ce);case"latin1":case"binary":return Q(this,Te,Ce);case"base64":return H(this,Te,Ce);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return re(this,Te,Ce);default:if(We)throw new TypeError("Unknown encoding: "+ve);ve=(ve+"").toLowerCase(),We=!0}}function N(ve,Te,Ce){var We=ve[Te];ve[Te]=ve[Ce],ve[Ce]=We}function B(ve,Te,Ce,We,Ke){if(0===ve.length)return-1;if("string"==typeof Ce?(We=Ce,Ce=0):Ce>2147483647?Ce=2147483647:Ce<-2147483648&&(Ce=-2147483648),Pe(Ce=+Ce)&&(Ce=Ke?0:ve.length-1),Ce<0&&(Ce=ve.length+Ce),Ce>=ve.length){if(Ke)return-1;Ce=ve.length-1}else if(Ce<0){if(!Ke)return-1;Ce=0}if("string"==typeof Te&&(Te=m.from(Te,We)),m.isBuffer(Te))return 0===Te.length?-1:W(ve,Te,Ce,We,Ke);if("number"==typeof Te)return Te&=255,"function"==typeof Uint8Array.prototype.indexOf?Ke?Uint8Array.prototype.indexOf.call(ve,Te,Ce):Uint8Array.prototype.lastIndexOf.call(ve,Te,Ce):W(ve,[Te],Ce,We,Ke);throw new TypeError("val must be string, number or Buffer")}function W(ve,Te,Ce,We,Ke){var Je,ht=1,ft=ve.length,mt=Te.length;if(void 0!==We&&("ucs2"===(We=String(We).toLowerCase())||"ucs-2"===We||"utf16le"===We||"utf-16le"===We)){if(ve.length<2||Te.length<2)return-1;ht=2,ft/=2,mt/=2,Ce/=2}function At(Bt,Ut){return 1===ht?Bt[Ut]:Bt.readUInt16BE(Ut*ht)}if(Ke){var Rt=-1;for(Je=Ce;Je<ft;Je++)if(At(ve,Je)===At(Te,-1===Rt?0:Je-Rt)){if(-1===Rt&&(Rt=Je),Je-Rt+1===mt)return Rt*ht}else-1!==Rt&&(Je-=Je-Rt),Rt=-1}else for(Ce+mt>ft&&(Ce=ft-mt),Je=Ce;Je>=0;Je--){for(var It=!0,Pt=0;Pt<mt;Pt++)if(At(ve,Je+Pt)!==At(Te,Pt)){It=!1;break}if(It)return Je}return-1}function j(ve,Te,Ce,We){Ce=Number(Ce)||0;var Ke=ve.length-Ce;We?(We=Number(We))>Ke&&(We=Ke):We=Ke;var Je,ht=Te.length;for(We>ht/2&&(We=ht/2),Je=0;Je<We;++Je){var ft=parseInt(Te.substr(2*Je,2),16);if(Pe(ft))return Je;ve[Ce+Je]=ft}return Je}function Z(ve,Te,Ce,We){return _e(oe(Te,ve.length-Ce),ve,Ce,We)}function V(ve,Te,Ce,We){return _e(function(Ke){for(var Je=[],ht=0;ht<Ke.length;++ht)Je.push(255&Ke.charCodeAt(ht));return Je}(Te),ve,Ce,We)}function q(ve,Te,Ce,We){return _e(de(Te),ve,Ce,We)}function G(ve,Te,Ce,We){return _e(function(Ke,Je){for(var ht,ft,At=[],Rt=0;Rt<Ke.length&&!((Je-=2)<0);++Rt)ft=(ht=Ke.charCodeAt(Rt))>>8,At.push(ht%256),At.push(ft);return At}(Te,ve.length-Ce),ve,Ce,We)}function H(ve,Te,Ce){return p.fromByteArray(0===Te&&Ce===ve.length?ve:ve.slice(Te,Ce))}function ne(ve,Te,Ce){Ce=Math.min(ve.length,Ce);for(var We=[],Ke=Te;Ke<Ce;){var Je=ve[Ke],ht=null,ft=Je>239?4:Je>223?3:Je>191?2:1;if(Ke+ft<=Ce){var mt=void 0,At=void 0,Rt=void 0,It=void 0;switch(ft){case 1:Je<128&&(ht=Je);break;case 2:128==(192&(mt=ve[Ke+1]))&&(It=(31&Je)<<6|63&mt)>127&&(ht=It);break;case 3:At=ve[Ke+2],128==(192&(mt=ve[Ke+1]))&&128==(192&At)&&(It=(15&Je)<<12|(63&mt)<<6|63&At)>2047&&(It<55296||It>57343)&&(ht=It);break;case 4:At=ve[Ke+2],Rt=ve[Ke+3],128==(192&(mt=ve[Ke+1]))&&128==(192&At)&&128==(192&Rt)&&(It=(15&Je)<<18|(63&mt)<<12|(63&At)<<6|63&Rt)>65535&&It<1114112&&(ht=It)}}null===ht?(ht=65533,ft=1):ht>65535&&(We.push((ht-=65536)>>>10&1023|55296),ht=56320|1023&ht),We.push(ht),Ke+=ft}return function(Pt){var Bt=Pt.length;if(Bt<=X)return String.fromCharCode.apply(String,Pt);for(var Ut="",Vt=0;Vt<Bt;)Ut+=String.fromCharCode.apply(String,Pt.slice(Vt,Vt+=X));return Ut}(We)}(m.TYPED_ARRAY_SUPPORT=function(){try{var ve=new Uint8Array(1),Te={foo:function(){return 42}};return Object.setPrototypeOf(Te,Uint8Array.prototype),Object.setPrototypeOf(ve,Te),42===ve.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(m.prototype,"parent",{enumerable:!0,get:function(){if(m.isBuffer(this))return this.buffer}}),Object.defineProperty(m.prototype,"offset",{enumerable:!0,get:function(){if(m.isBuffer(this))return this.byteOffset}}),m.poolSize=8192,m.from=function(ve,Te,Ce){return b(ve,Te,Ce)},Object.setPrototypeOf(m.prototype,Uint8Array.prototype),Object.setPrototypeOf(m,Uint8Array),m.alloc=function(ve,Te,Ce){return Ke=Te,Je=Ce,k(We=ve),We<=0?w(We):void 0!==Ke?"string"==typeof Je?w(We).fill(Ke,Je):w(We).fill(Ke):w(We);var We,Ke,Je},m.allocUnsafe=function(ve){return h(ve)},m.allocUnsafeSlow=function(ve){return h(ve)},m.isBuffer=function(ve){return null!=ve&&!0===ve._isBuffer&&ve!==m.prototype},m.compare=function(ve,Te){if(Me(ve,Uint8Array)&&(ve=m.from(ve,ve.offset,ve.byteLength)),Me(Te,Uint8Array)&&(Te=m.from(Te,Te.offset,Te.byteLength)),!m.isBuffer(ve)||!m.isBuffer(Te))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ve===Te)return 0;for(var Ce=ve.length,We=Te.length,Ke=0,Je=Math.min(Ce,We);Ke<Je;++Ke)if(ve[Ke]!==Te[Ke]){Ce=ve[Ke],We=Te[Ke];break}return Ce<We?-1:We<Ce?1:0},m.isEncoding=function(ve){switch(String(ve).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.concat=function(ve,Te){if(!Array.isArray(ve))throw new TypeError('"list" argument must be an Array of Buffers');if(0===ve.length)return m.alloc(0);var Ce;if(void 0===Te)for(Te=0,Ce=0;Ce<ve.length;++Ce)Te+=ve[Ce].length;var We=m.allocUnsafe(Te),Ke=0;for(Ce=0;Ce<ve.length;++Ce){var Je=ve[Ce];if(Me(Je,Uint8Array))Ke+Je.length>We.length?(m.isBuffer(Je)||(Je=m.from(Je)),Je.copy(We,Ke)):Uint8Array.prototype.set.call(We,Je,Ke);else{if(!m.isBuffer(Je))throw new TypeError('"list" argument must be an Array of Buffers');Je.copy(We,Ke)}Ke+=Je.length}return We},m.byteLength=P,m.prototype._isBuffer=!0,m.prototype.swap16=function(){var ve=this.length;if(ve%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Te=0;Te<ve;Te+=2)N(this,Te,Te+1);return this},m.prototype.swap32=function(){var ve=this.length;if(ve%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Te=0;Te<ve;Te+=4)N(this,Te,Te+3),N(this,Te+1,Te+2);return this},m.prototype.swap64=function(){var ve=this.length;if(ve%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Te=0;Te<ve;Te+=8)N(this,Te,Te+7),N(this,Te+1,Te+6),N(this,Te+2,Te+5),N(this,Te+3,Te+4);return this},m.prototype.toString=function(){var ve=this.length;return 0===ve?"":0===arguments.length?ne(this,0,ve):L.apply(this,arguments)},m.prototype.toLocaleString=m.prototype.toString,m.prototype.equals=function(ve){if(!m.isBuffer(ve))throw new TypeError("Argument must be a Buffer");return this===ve||0===m.compare(this,ve)},m.prototype.inspect=function(){var ve="",Te=c.h2;return ve=this.toString("hex",0,Te).replace(/(.{2})/g,"$1 ").trim(),this.length>Te&&(ve+=" ... "),"<Buffer "+ve+">"},_&&(m.prototype[_]=m.prototype.inspect),m.prototype.compare=function(ve,Te,Ce,We,Ke){if(Me(ve,Uint8Array)&&(ve=m.from(ve,ve.offset,ve.byteLength)),!m.isBuffer(ve))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+g(ve));if(void 0===Te&&(Te=0),void 0===Ce&&(Ce=ve?ve.length:0),void 0===We&&(We=0),void 0===Ke&&(Ke=this.length),Te<0||Ce>ve.length||We<0||Ke>this.length)throw new RangeError("out of range index");if(We>=Ke&&Te>=Ce)return 0;if(We>=Ke)return-1;if(Te>=Ce)return 1;if(this===ve)return 0;for(var Je=(Ke>>>=0)-(We>>>=0),ht=(Ce>>>=0)-(Te>>>=0),ft=Math.min(Je,ht),mt=this.slice(We,Ke),At=ve.slice(Te,Ce),Rt=0;Rt<ft;++Rt)if(mt[Rt]!==At[Rt]){Je=mt[Rt],ht=At[Rt];break}return Je<ht?-1:ht<Je?1:0},m.prototype.includes=function(ve,Te,Ce){return-1!==this.indexOf(ve,Te,Ce)},m.prototype.indexOf=function(ve,Te,Ce){return B(this,ve,Te,Ce,!0)},m.prototype.lastIndexOf=function(ve,Te,Ce){return B(this,ve,Te,Ce,!1)},m.prototype.write=function(ve,Te,Ce,We){if(void 0===Te)We="utf8",Ce=this.length,Te=0;else if(void 0===Ce&&"string"==typeof Te)We=Te,Ce=this.length,Te=0;else{if(!isFinite(Te))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Te>>>=0,isFinite(Ce)?(Ce>>>=0,void 0===We&&(We="utf8")):(We=Ce,Ce=void 0)}var Ke=this.length-Te;if((void 0===Ce||Ce>Ke)&&(Ce=Ke),ve.length>0&&(Ce<0||Te<0)||Te>this.length)throw new RangeError("Attempt to write outside buffer bounds");We||(We="utf8");for(var Je=!1;;)switch(We){case"hex":return j(this,ve,Te,Ce);case"utf8":case"utf-8":return Z(this,ve,Te,Ce);case"ascii":case"latin1":case"binary":return V(this,ve,Te,Ce);case"base64":return q(this,ve,Te,Ce);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,ve,Te,Ce);default:if(Je)throw new TypeError("Unknown encoding: "+We);We=(""+We).toLowerCase(),Je=!0}},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var X=4096;function $(ve,Te,Ce){var We="";Ce=Math.min(ve.length,Ce);for(var Ke=Te;Ke<Ce;++Ke)We+=String.fromCharCode(127&ve[Ke]);return We}function Q(ve,Te,Ce){var We="";Ce=Math.min(ve.length,Ce);for(var Ke=Te;Ke<Ce;++Ke)We+=String.fromCharCode(ve[Ke]);return We}function te(ve,Te,Ce){var We=ve.length;(!Te||Te<0)&&(Te=0),(!Ce||Ce<0||Ce>We)&&(Ce=We);for(var Ke="",Je=Te;Je<Ce;++Je)Ke+=Ue[ve[Je]];return Ke}function re(ve,Te,Ce){for(var We=ve.slice(Te,Ce),Ke="",Je=0;Je<We.length-1;Je+=2)Ke+=String.fromCharCode(We[Je]+256*We[Je+1]);return Ke}function le(ve,Te,Ce){if(ve%1!=0||ve<0)throw new RangeError("offset is not uint");if(ve+Te>Ce)throw new RangeError("Trying to access beyond buffer length")}function ue(ve,Te,Ce,We,Ke,Je){if(!m.isBuffer(ve))throw new TypeError('"buffer" argument must be a Buffer instance');if(Te>Ke||Te<Je)throw new RangeError('"value" argument is out of bounds');if(Ce+We>ve.length)throw new RangeError("Index out of range")}function he(ve,Te,Ce,We,Ke){be(Te,We,Ke,ve,Ce,7);var Je=Number(Te&BigInt(4294967295));ve[Ce++]=Je,ve[Ce++]=Je>>=8,ve[Ce++]=Je>>=8,ve[Ce++]=Je>>=8;var ht=Number(Te>>BigInt(32)&BigInt(4294967295));return ve[Ce++]=ht,ve[Ce++]=ht>>=8,ve[Ce++]=ht>>=8,ve[Ce++]=ht>>=8,Ce}function ge(ve,Te,Ce,We,Ke){be(Te,We,Ke,ve,Ce,7);var Je=Number(Te&BigInt(4294967295));ve[Ce+7]=Je,ve[Ce+6]=Je>>=8,ve[Ce+5]=Je>>=8,ve[Ce+4]=Je>>=8;var ht=Number(Te>>BigInt(32)&BigInt(4294967295));return ve[Ce+3]=ht,ve[Ce+2]=ht>>=8,ve[Ce+1]=ht>>=8,ve[Ce]=ht>>=8,Ce+8}function xe(ve,Te,Ce,We,Ke,Je){if(Ce+We>ve.length)throw new RangeError("Index out of range");if(Ce<0)throw new RangeError("Index out of range")}function ke(ve,Te,Ce,We,Ke){return Te=+Te,Ce>>>=0,Ke||xe(ve,0,Ce,4),T.write(ve,Te,Ce,We,23,4),Ce+4}function Ae(ve,Te,Ce,We,Ke){return Te=+Te,Ce>>>=0,Ke||xe(ve,0,Ce,8),T.write(ve,Te,Ce,We,52,8),Ce+8}m.prototype.slice=function(ve,Te){var Ce=this.length;(ve=~~ve)<0?(ve+=Ce)<0&&(ve=0):ve>Ce&&(ve=Ce),(Te=void 0===Te?Ce:~~Te)<0?(Te+=Ce)<0&&(Te=0):Te>Ce&&(Te=Ce),Te<ve&&(Te=ve);var We=this.subarray(ve,Te);return Object.setPrototypeOf(We,m.prototype),We},m.prototype.readUintLE=m.prototype.readUIntLE=function(ve,Te,Ce){ve>>>=0,Te>>>=0,Ce||le(ve,Te,this.length);for(var We=this[ve],Ke=1,Je=0;++Je<Te&&(Ke*=256);)We+=this[ve+Je]*Ke;return We},m.prototype.readUintBE=m.prototype.readUIntBE=function(ve,Te,Ce){ve>>>=0,Te>>>=0,Ce||le(ve,Te,this.length);for(var We=this[ve+--Te],Ke=1;Te>0&&(Ke*=256);)We+=this[ve+--Te]*Ke;return We},m.prototype.readUint8=m.prototype.readUInt8=function(ve,Te){return ve>>>=0,Te||le(ve,1,this.length),this[ve]},m.prototype.readUint16LE=m.prototype.readUInt16LE=function(ve,Te){return ve>>>=0,Te||le(ve,2,this.length),this[ve]|this[ve+1]<<8},m.prototype.readUint16BE=m.prototype.readUInt16BE=function(ve,Te){return ve>>>=0,Te||le(ve,2,this.length),this[ve]<<8|this[ve+1]},m.prototype.readUint32LE=m.prototype.readUInt32LE=function(ve,Te){return ve>>>=0,Te||le(ve,4,this.length),(this[ve]|this[ve+1]<<8|this[ve+2]<<16)+16777216*this[ve+3]},m.prototype.readUint32BE=m.prototype.readUInt32BE=function(ve,Te){return ve>>>=0,Te||le(ve,4,this.length),16777216*this[ve]+(this[ve+1]<<16|this[ve+2]<<8|this[ve+3])},m.prototype.readBigUInt64LE=Be(function(ve){Ee(ve>>>=0,"offset");var Te=this[ve],Ce=this[ve+7];void 0!==Te&&void 0!==Ce||Oe(ve,this.length-8);var We=Te+this[++ve]*Math.pow(2,8)+this[++ve]*Math.pow(2,16)+this[++ve]*Math.pow(2,24),Ke=this[++ve]+this[++ve]*Math.pow(2,8)+this[++ve]*Math.pow(2,16)+Ce*Math.pow(2,24);return BigInt(We)+(BigInt(Ke)<<BigInt(32))}),m.prototype.readBigUInt64BE=Be(function(ve){Ee(ve>>>=0,"offset");var Te=this[ve],Ce=this[ve+7];void 0!==Te&&void 0!==Ce||Oe(ve,this.length-8);var We=Te*Math.pow(2,24)+this[++ve]*Math.pow(2,16)+this[++ve]*Math.pow(2,8)+this[++ve],Ke=this[++ve]*Math.pow(2,24)+this[++ve]*Math.pow(2,16)+this[++ve]*Math.pow(2,8)+Ce;return(BigInt(We)<<BigInt(32))+BigInt(Ke)}),m.prototype.readIntLE=function(ve,Te,Ce){ve>>>=0,Te>>>=0,Ce||le(ve,Te,this.length);for(var We=this[ve],Ke=1,Je=0;++Je<Te&&(Ke*=256);)We+=this[ve+Je]*Ke;return We>=(Ke*=128)&&(We-=Math.pow(2,8*Te)),We},m.prototype.readIntBE=function(ve,Te,Ce){ve>>>=0,Te>>>=0,Ce||le(ve,Te,this.length);for(var We=Te,Ke=1,Je=this[ve+--We];We>0&&(Ke*=256);)Je+=this[ve+--We]*Ke;return Je>=(Ke*=128)&&(Je-=Math.pow(2,8*Te)),Je},m.prototype.readInt8=function(ve,Te){return ve>>>=0,Te||le(ve,1,this.length),128&this[ve]?-1*(255-this[ve]+1):this[ve]},m.prototype.readInt16LE=function(ve,Te){ve>>>=0,Te||le(ve,2,this.length);var Ce=this[ve]|this[ve+1]<<8;return 32768&Ce?4294901760|Ce:Ce},m.prototype.readInt16BE=function(ve,Te){ve>>>=0,Te||le(ve,2,this.length);var Ce=this[ve+1]|this[ve]<<8;return 32768&Ce?4294901760|Ce:Ce},m.prototype.readInt32LE=function(ve,Te){return ve>>>=0,Te||le(ve,4,this.length),this[ve]|this[ve+1]<<8|this[ve+2]<<16|this[ve+3]<<24},m.prototype.readInt32BE=function(ve,Te){return ve>>>=0,Te||le(ve,4,this.length),this[ve]<<24|this[ve+1]<<16|this[ve+2]<<8|this[ve+3]},m.prototype.readBigInt64LE=Be(function(ve){Ee(ve>>>=0,"offset");var Te=this[ve],Ce=this[ve+7];void 0!==Te&&void 0!==Ce||Oe(ve,this.length-8);var We=this[ve+4]+this[ve+5]*Math.pow(2,8)+this[ve+6]*Math.pow(2,16)+(Ce<<24);return(BigInt(We)<<BigInt(32))+BigInt(Te+this[++ve]*Math.pow(2,8)+this[++ve]*Math.pow(2,16)+this[++ve]*Math.pow(2,24))}),m.prototype.readBigInt64BE=Be(function(ve){Ee(ve>>>=0,"offset");var Te=this[ve],Ce=this[ve+7];void 0!==Te&&void 0!==Ce||Oe(ve,this.length-8);var We=(Te<<24)+this[++ve]*Math.pow(2,16)+this[++ve]*Math.pow(2,8)+this[++ve];return(BigInt(We)<<BigInt(32))+BigInt(this[++ve]*Math.pow(2,24)+this[++ve]*Math.pow(2,16)+this[++ve]*Math.pow(2,8)+Ce)}),m.prototype.readFloatLE=function(ve,Te){return ve>>>=0,Te||le(ve,4,this.length),T.read(this,ve,!0,23,4)},m.prototype.readFloatBE=function(ve,Te){return ve>>>=0,Te||le(ve,4,this.length),T.read(this,ve,!1,23,4)},m.prototype.readDoubleLE=function(ve,Te){return ve>>>=0,Te||le(ve,8,this.length),T.read(this,ve,!0,52,8)},m.prototype.readDoubleBE=function(ve,Te){return ve>>>=0,Te||le(ve,8,this.length),T.read(this,ve,!1,52,8)},m.prototype.writeUintLE=m.prototype.writeUIntLE=function(ve,Te,Ce,We){ve=+ve,Te>>>=0,Ce>>>=0,We||ue(this,ve,Te,Ce,Math.pow(2,8*Ce)-1,0);var Ke=1,Je=0;for(this[Te]=255&ve;++Je<Ce&&(Ke*=256);)this[Te+Je]=ve/Ke&255;return Te+Ce},m.prototype.writeUintBE=m.prototype.writeUIntBE=function(ve,Te,Ce,We){ve=+ve,Te>>>=0,Ce>>>=0,We||ue(this,ve,Te,Ce,Math.pow(2,8*Ce)-1,0);var Ke=Ce-1,Je=1;for(this[Te+Ke]=255&ve;--Ke>=0&&(Je*=256);)this[Te+Ke]=ve/Je&255;return Te+Ce},m.prototype.writeUint8=m.prototype.writeUInt8=function(ve,Te,Ce){return ve=+ve,Te>>>=0,Ce||ue(this,ve,Te,1,255,0),this[Te]=255&ve,Te+1},m.prototype.writeUint16LE=m.prototype.writeUInt16LE=function(ve,Te,Ce){return ve=+ve,Te>>>=0,Ce||ue(this,ve,Te,2,65535,0),this[Te]=255&ve,this[Te+1]=ve>>>8,Te+2},m.prototype.writeUint16BE=m.prototype.writeUInt16BE=function(ve,Te,Ce){return ve=+ve,Te>>>=0,Ce||ue(this,ve,Te,2,65535,0),this[Te]=ve>>>8,this[Te+1]=255&ve,Te+2},m.prototype.writeUint32LE=m.prototype.writeUInt32LE=function(ve,Te,Ce){return ve=+ve,Te>>>=0,Ce||ue(this,ve,Te,4,4294967295,0),this[Te+3]=ve>>>24,this[Te+2]=ve>>>16,this[Te+1]=ve>>>8,this[Te]=255&ve,Te+4},m.prototype.writeUint32BE=m.prototype.writeUInt32BE=function(ve,Te,Ce){return ve=+ve,Te>>>=0,Ce||ue(this,ve,Te,4,4294967295,0),this[Te]=ve>>>24,this[Te+1]=ve>>>16,this[Te+2]=ve>>>8,this[Te+3]=255&ve,Te+4},m.prototype.writeBigUInt64LE=Be(function(ve){return he(this,ve,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),m.prototype.writeBigUInt64BE=Be(function(ve){return ge(this,ve,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),m.prototype.writeIntLE=function(ve,Te,Ce,We){if(ve=+ve,Te>>>=0,!We){var Ke=Math.pow(2,8*Ce-1);ue(this,ve,Te,Ce,Ke-1,-Ke)}var Je=0,ht=1,ft=0;for(this[Te]=255&ve;++Je<Ce&&(ht*=256);)ve<0&&0===ft&&0!==this[Te+Je-1]&&(ft=1),this[Te+Je]=(ve/ht>>0)-ft&255;return Te+Ce},m.prototype.writeIntBE=function(ve,Te,Ce,We){if(ve=+ve,Te>>>=0,!We){var Ke=Math.pow(2,8*Ce-1);ue(this,ve,Te,Ce,Ke-1,-Ke)}var Je=Ce-1,ht=1,ft=0;for(this[Te+Je]=255&ve;--Je>=0&&(ht*=256);)ve<0&&0===ft&&0!==this[Te+Je+1]&&(ft=1),this[Te+Je]=(ve/ht>>0)-ft&255;return Te+Ce},m.prototype.writeInt8=function(ve,Te,Ce){return ve=+ve,Te>>>=0,Ce||ue(this,ve,Te,1,127,-128),ve<0&&(ve=255+ve+1),this[Te]=255&ve,Te+1},m.prototype.writeInt16LE=function(ve,Te,Ce){return ve=+ve,Te>>>=0,Ce||ue(this,ve,Te,2,32767,-32768),this[Te]=255&ve,this[Te+1]=ve>>>8,Te+2},m.prototype.writeInt16BE=function(ve,Te,Ce){return ve=+ve,Te>>>=0,Ce||ue(this,ve,Te,2,32767,-32768),this[Te]=ve>>>8,this[Te+1]=255&ve,Te+2},m.prototype.writeInt32LE=function(ve,Te,Ce){return ve=+ve,Te>>>=0,Ce||ue(this,ve,Te,4,2147483647,-2147483648),this[Te]=255&ve,this[Te+1]=ve>>>8,this[Te+2]=ve>>>16,this[Te+3]=ve>>>24,Te+4},m.prototype.writeInt32BE=function(ve,Te,Ce){return ve=+ve,Te>>>=0,Ce||ue(this,ve,Te,4,2147483647,-2147483648),ve<0&&(ve=4294967295+ve+1),this[Te]=ve>>>24,this[Te+1]=ve>>>16,this[Te+2]=ve>>>8,this[Te+3]=255&ve,Te+4},m.prototype.writeBigInt64LE=Be(function(ve){return he(this,ve,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),m.prototype.writeBigInt64BE=Be(function(ve){return ge(this,ve,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),m.prototype.writeFloatLE=function(ve,Te,Ce){return ke(this,ve,Te,!0,Ce)},m.prototype.writeFloatBE=function(ve,Te,Ce){return ke(this,ve,Te,!1,Ce)},m.prototype.writeDoubleLE=function(ve,Te,Ce){return Ae(this,ve,Te,!0,Ce)},m.prototype.writeDoubleBE=function(ve,Te,Ce){return Ae(this,ve,Te,!1,Ce)},m.prototype.copy=function(ve,Te,Ce,We){if(!m.isBuffer(ve))throw new TypeError("argument should be a Buffer");if(Ce||(Ce=0),We||0===We||(We=this.length),Te>=ve.length&&(Te=ve.length),Te||(Te=0),We>0&&We<Ce&&(We=Ce),We===Ce||0===ve.length||0===this.length)return 0;if(Te<0)throw new RangeError("targetStart out of bounds");if(Ce<0||Ce>=this.length)throw new RangeError("Index out of range");if(We<0)throw new RangeError("sourceEnd out of bounds");We>this.length&&(We=this.length),ve.length-Te<We-Ce&&(We=ve.length-Te+Ce);var Ke=We-Ce;return this===ve&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(Te,Ce,We):Uint8Array.prototype.set.call(ve,this.subarray(Ce,We),Te),Ke},m.prototype.fill=function(ve,Te,Ce,We){if("string"==typeof ve){if("string"==typeof Te?(We=Te,Te=0,Ce=this.length):"string"==typeof Ce&&(We=Ce,Ce=this.length),void 0!==We&&"string"!=typeof We)throw new TypeError("encoding must be a string");if("string"==typeof We&&!m.isEncoding(We))throw new TypeError("Unknown encoding: "+We);if(1===ve.length){var Ke=ve.charCodeAt(0);("utf8"===We&&Ke<128||"latin1"===We)&&(ve=Ke)}}else"number"==typeof ve?ve&=255:"boolean"==typeof ve&&(ve=Number(ve));if(Te<0||this.length<Te||this.length<Ce)throw new RangeError("Out of range index");if(Ce<=Te)return this;var Je;if(Te>>>=0,Ce=void 0===Ce?this.length:Ce>>>0,ve||(ve=0),"number"==typeof ve)for(Je=Te;Je<Ce;++Je)this[Je]=ve;else{var ht=m.isBuffer(ve)?ve:m.from(ve,We),ft=ht.length;if(0===ft)throw new TypeError('The value "'+ve+'" is invalid for argument "value"');for(Je=0;Je<Ce-Te;++Je)this[Je+Te]=ht[Je%ft]}return this};var pe={};function ye(ve,Te,Ce){pe[ve]=function(We){!function(Rt,It){if("function"!=typeof It&&null!==It)throw new TypeError("Super expression must either be null or a function");Rt.prototype=Object.create(It&&It.prototype,{constructor:{value:Rt,writable:!0,configurable:!0}}),Object.defineProperty(Rt,"prototype",{writable:!1}),It&&o(Rt,It)}(At,We);var Ke,Je,ht,ft,mt=(ht=At,ft=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var Rt,It=d(ht);if(ft){var Pt=d(this).constructor;Rt=Reflect.construct(It,arguments,Pt)}else Rt=It.apply(this,arguments);return l(this,Rt)});function At(){var Rt;return u(this,At),Rt=mt.call(this),Object.defineProperty(s(Rt),"message",{value:Te.apply(s(Rt),arguments),writable:!0,configurable:!0}),Rt.name="".concat(Rt.name," [").concat(ve,"]"),delete Rt.name,Rt}return Ke=At,(Je=[{key:"code",get:function(){return ve},set:function(Rt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Rt,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(ve,"]: ").concat(this.message)}}])&&function a(ve,Te){for(var Ce=0;Ce<Te.length;Ce++){var We=Te[Ce];We.enumerable=We.enumerable||!1,We.configurable=!0,"value"in We&&(We.writable=!0),Object.defineProperty(ve,We.key,We)}}(Ke.prototype,Je),Object.defineProperty(Ke,"prototype",{writable:!1}),At}(Ce)}function Ne(ve){for(var Te="",Ce=ve.length,We="-"===ve[0]?1:0;Ce>=We+4;Ce-=3)Te="_".concat(ve.slice(Ce-3,Ce)).concat(Te);return"".concat(ve.slice(0,Ce)).concat(Te)}function be(ve,Te,Ce,We,Ke,Je){if(ve>Ce||ve<Te){var ht,ft="bigint"==typeof Te?"n":"";throw ht=Je>3?0===Te||Te===BigInt(0)?">= 0".concat(ft," and < 2").concat(ft," ** ").concat(8*(Je+1)).concat(ft):">= -(2".concat(ft," ** ").concat(8*(Je+1)-1).concat(ft,") and < 2 ** ")+"".concat(8*(Je+1)-1).concat(ft):">= ".concat(Te).concat(ft," and <= ").concat(Ce).concat(ft),new pe.ERR_OUT_OF_RANGE("value",ht,ve)}var mt,At,Rt;mt=We,Rt=Je,Ee(At=Ke,"offset"),void 0!==mt[At]&&void 0!==mt[At+Rt]||Oe(At,mt.length-(Rt+1))}function Ee(ve,Te){if("number"!=typeof ve)throw new pe.ERR_INVALID_ARG_TYPE(Te,"number",ve)}function Oe(ve,Te,Ce){throw Math.floor(ve)!==ve?(Ee(ve,Ce),new pe.ERR_OUT_OF_RANGE(Ce||"offset","an integer",ve)):Te<0?new pe.ERR_BUFFER_OUT_OF_BOUNDS:new pe.ERR_OUT_OF_RANGE(Ce||"offset",">= ".concat(Ce?1:0," and <= ").concat(Te),ve)}ye("ERR_BUFFER_OUT_OF_BOUNDS",function(ve){return ve?"".concat(ve," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),ye("ERR_INVALID_ARG_TYPE",function(ve,Te){return'The "'.concat(ve,'" argument must be of type number. Received type ').concat(g(Te))},TypeError),ye("ERR_OUT_OF_RANGE",function(ve,Te,Ce){var We='The value of "'.concat(ve,'" is out of range.'),Ke=Ce;return Number.isInteger(Ce)&&Math.abs(Ce)>Math.pow(2,32)?Ke=Ne(String(Ce)):"bigint"==typeof Ce&&(Ke=String(Ce),(Ce>Math.pow(BigInt(2),BigInt(32))||Ce<-Math.pow(BigInt(2),BigInt(32)))&&(Ke=Ne(Ke)),Ke+="n"),We+" It must be ".concat(Te,". Received ").concat(Ke)},RangeError);var De=/[^+/0-9A-Za-z-_]/g;function oe(ve,Te){var Ce;Te=Te||1/0;for(var We=ve.length,Ke=null,Je=[],ht=0;ht<We;++ht){if((Ce=ve.charCodeAt(ht))>55295&&Ce<57344){if(!Ke){if(Ce>56319){(Te-=3)>-1&&Je.push(239,191,189);continue}if(ht+1===We){(Te-=3)>-1&&Je.push(239,191,189);continue}Ke=Ce;continue}if(Ce<56320){(Te-=3)>-1&&Je.push(239,191,189),Ke=Ce;continue}Ce=65536+(Ke-55296<<10|Ce-56320)}else Ke&&(Te-=3)>-1&&Je.push(239,191,189);if(Ke=null,Ce<128){if((Te-=1)<0)break;Je.push(Ce)}else if(Ce<2048){if((Te-=2)<0)break;Je.push(Ce>>6|192,63&Ce|128)}else if(Ce<65536){if((Te-=3)<0)break;Je.push(Ce>>12|224,Ce>>6&63|128,63&Ce|128)}else{if(!(Ce<1114112))throw new Error("Invalid code point");if((Te-=4)<0)break;Je.push(Ce>>18|240,Ce>>12&63|128,Ce>>6&63|128,63&Ce|128)}}return Je}function de(ve){return p.toByteArray(function(Te){if((Te=(Te=Te.split("=")[0]).trim().replace(De,"")).length<2)return"";for(;Te.length%4!=0;)Te+="=";return Te}(ve))}function _e(ve,Te,Ce,We){var Ke;for(Ke=0;Ke<We&&!(Ke+Ce>=Te.length||Ke>=ve.length);++Ke)Te[Ke+Ce]=ve[Ke];return Ke}function Me(ve,Te){return ve instanceof Te||null!=ve&&null!=ve.constructor&&null!=ve.constructor.name&&ve.constructor.name===Te.name}function Pe(ve){return ve!=ve}var Ue=function(){for(var ve="0123456789abcdef",Te=new Array(256),Ce=0;Ce<16;++Ce)for(var We=16*Ce,Ke=0;Ke<16;++Ke)Te[We+Ke]=ve[Ce]+ve[Ke];return Te}();function Be(ve){return typeof BigInt>"u"?Ve:ve}function Ve(){throw new Error("BigInt not supported")}},3910:function(v,c){"use strict";c.byteLength=function(p){var T=d(p),y=T[1];return 3*(T[0]+y)/4-y},c.toByteArray=function(p){var T,_,I,y=d(p),w=y[0],m=y[1],b=new a(3*(w+(I=m))/4-I),k=0,h=m>0?w-4:w;for(_=0;_<h;_+=4)T=u[p.charCodeAt(_)]<<18|u[p.charCodeAt(_+1)]<<12|u[p.charCodeAt(_+2)]<<6|u[p.charCodeAt(_+3)],b[k++]=T>>16&255,b[k++]=T>>8&255,b[k++]=255&T;return 2===m&&(T=u[p.charCodeAt(_)]<<2|u[p.charCodeAt(_+1)]>>4,b[k++]=255&T),1===m&&(T=u[p.charCodeAt(_)]<<10|u[p.charCodeAt(_+1)]<<4|u[p.charCodeAt(_+2)]>>2,b[k++]=T>>8&255,b[k++]=255&T),b},c.fromByteArray=function(p){for(var T,_=p.length,y=_%3,w=[],m=16383,b=0,k=_-y;b<k;b+=m)w.push(g(p,b,b+m>k?k:b+m));return 1===y?w.push(i[(T=p[_-1])>>2]+i[T<<4&63]+"=="):2===y&&w.push(i[(T=(p[_-2]<<8)+p[_-1])>>10]+i[T>>4&63]+i[T<<2&63]+"="),w.join("")};for(var i=[],u=[],a=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,s=o.length;l<s;++l)i[l]=o[l],u[o.charCodeAt(l)]=l;function d(p){var T=p.length;if(T%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=p.indexOf("=");return-1===_&&(_=T),[_,_===T?0:4-_%4]}function g(p,T,_){for(var w,m=[],b=T;b<_;b+=3)m.push(i[(w=(p[b]<<16&16711680)+(p[b+1]<<8&65280)+(255&p[b+2]))>>18&63]+i[w>>12&63]+i[w>>6&63]+i[63&w]);return m.join("")}u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},3187:function(v,c){c.read=function(i,u,a,o,l){var s,d,g=8*l-o-1,p=(1<<g)-1,T=p>>1,_=-7,y=a?l-1:0,w=a?-1:1,m=i[u+y];for(y+=w,s=m&(1<<-_)-1,m>>=-_,_+=g;_>0;s=256*s+i[u+y],y+=w,_-=8);for(d=s&(1<<-_)-1,s>>=-_,_+=o;_>0;d=256*d+i[u+y],y+=w,_-=8);if(0===s)s=1-T;else{if(s===p)return d?NaN:1/0*(m?-1:1);d+=Math.pow(2,o),s-=T}return(m?-1:1)*d*Math.pow(2,s-o)},c.write=function(i,u,a,o,l,s){var d,g,p,T=8*s-l-1,_=(1<<T)-1,y=_>>1,w=23===l?Math.pow(2,-24)-Math.pow(2,-77):0,m=o?0:s-1,b=o?1:-1,k=u<0||0===u&&1/u<0?1:0;for(u=Math.abs(u),isNaN(u)||u===1/0?(g=isNaN(u)?1:0,d=_):(d=Math.floor(Math.log(u)/Math.LN2),u*(p=Math.pow(2,-d))<1&&(d--,p*=2),(u+=d+y>=1?w/p:w*Math.pow(2,1-y))*p>=2&&(d++,p/=2),d+y>=_?(g=0,d=_):d+y>=1?(g=(u*p-1)*Math.pow(2,l),d+=y):(g=u*Math.pow(2,y-1)*Math.pow(2,l),d=0));l>=8;i[a+m]=255&g,m+=b,g/=256,l-=8);for(d=d<<l|g,T+=l;T>0;i[a+m]=255&d,m+=b,d/=256,T-=8);i[a+m-b]|=128*k}},1152:function(v,c,i){"use strict";v.exports=function(d){var g=(d=d||{}).eye||[0,0,1],p=d.center||[0,0,0],T=d.up||[0,1,0],_=d.distanceLimits||[0,1/0],y=d.mode||"turntable",w=u(),m=a(),b=o();return w.setDistanceLimits(_[0],_[1]),w.lookAt(0,g,p,T),m.setDistanceLimits(_[0],_[1]),m.lookAt(0,g,p,T),b.setDistanceLimits(_[0],_[1]),b.lookAt(0,g,p,T),new l({turntable:w,orbit:m,matrix:b},y)};var u=i(3440),a=i(7774),o=i(9298);function l(d,g){this._controllerNames=Object.keys(d),this._controllerList=this._controllerNames.map(function(p){return d[p]}),this._mode=g,this._active=d[g],this._active||(this._mode="turntable",this._active=d.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var s=l.prototype;s.flush=function(d){for(var g=this._controllerList,p=0;p<g.length;++p)g[p].flush(d)},s.idle=function(d){for(var g=this._controllerList,p=0;p<g.length;++p)g[p].idle(d)},s.lookAt=function(d,g,p,T){for(var _=this._controllerList,y=0;y<_.length;++y)_[y].lookAt(d,g,p,T)},s.rotate=function(d,g,p,T){for(var _=this._controllerList,y=0;y<_.length;++y)_[y].rotate(d,g,p,T)},s.pan=function(d,g,p,T){for(var _=this._controllerList,y=0;y<_.length;++y)_[y].pan(d,g,p,T)},s.translate=function(d,g,p,T){for(var _=this._controllerList,y=0;y<_.length;++y)_[y].translate(d,g,p,T)},s.setMatrix=function(d,g){for(var p=this._controllerList,T=0;T<p.length;++T)p[T].setMatrix(d,g)},s.setDistanceLimits=function(d,g){for(var p=this._controllerList,T=0;T<p.length;++T)p[T].setDistanceLimits(d,g)},s.setDistance=function(d,g){for(var p=this._controllerList,T=0;T<p.length;++T)p[T].setDistance(d,g)},s.recalcMatrix=function(d){this._active.recalcMatrix(d)},s.getDistance=function(d){return this._active.getDistance(d)},s.getDistanceLimits=function(d){return this._active.getDistanceLimits(d)},s.lastT=function(){return this._active.lastT()},s.setMode=function(d){if(d!==this._mode){var g=this._controllerNames.indexOf(d);if(!(g<0)){var p=this._active,T=this._controllerList[g],_=Math.max(p.lastT(),T.lastT());p.recalcMatrix(_),T.setMatrix(_,p.computedMatrix),this._active=T,this._mode=d,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},s.getMode=function(){return this._mode}},8126:function(v,c,i){"use strict";var u=typeof WeakMap>"u"?i(5346):WeakMap,a=i(5827),o=i(2944),l=new u;v.exports=function(s){var d=l.get(s),g=d&&(d._triangleBuffer.handle||d._triangleBuffer.buffer);if(!g||!s.isBuffer(g)){var p=a(s,new Float32Array([-1,-1,-1,4,4,-1]));(d=o(s,[{buffer:p,type:s.FLOAT,size:2}]))._triangleBuffer=p,l.set(s,d)}d.bind(),s.drawArrays(s.TRIANGLES,0,3),d.unbind()}},8008:function(v,c,i){var u=i(4930);v.exports=function(a,o,l){o="number"==typeof o?o:1,l=l||": ";var s=a.split(/\r?\n/),d=String(s.length+o-1).length;return s.map(function(g,p){var T=p+o,_=String(T).length;return u(T,d-_)+l+g}).join("\n")}},2153:function(v,c,i){"use strict";v.exports=function(o){var l=o.length;if(0===l)return[];if(1===l)return[0];for(var s=o[0].length,d=[o[0]],g=[0],p=1;p<l;++p)if(d.push(o[p]),a(d,s)){if(g.push(p),g.length===s+1)return g}else d.pop();return g};var u=i(417);function a(o,l){for(var s=new Array(l+1),d=0;d<o.length;++d)s[d]=o[d];for(d=0;d<=o.length;++d){for(var g=o.length;g<=l;++g){for(var p=new Array(l),T=0;T<l;++T)p[T]=Math.pow(g+1-d,T);s[g]=p}if(u.apply(void 0,s))return!0}return!1}},4653:function(v,c,i){"use strict";v.exports=function(o,l){return u(l).filter(function(s){for(var d=new Array(s.length),g=0;g<s.length;++g)d[g]=l[s[g]];return a(d)*o<1})};var u=i(4419),a=i(1778)},2350:function(v,c,i){v.exports=function(o,l){return a(u(o,l))};var u=i(4653),a=i(8691)},7896:function(v){v.exports=function(c){return atob(c)}},957:function(v,c,i){"use strict";v.exports=function(o,l){for(var s=l.length,d=new Array(s+1),g=0;g<s;++g){for(var p=new Array(s+1),T=0;T<=s;++T)p[T]=o[T][g];d[g]=p}for(d[s]=new Array(s+1),g=0;g<=s;++g)d[s][g]=1;var _=new Array(s+1);for(g=0;g<s;++g)_[g]=l[g];_[s]=1;var y=u(d,_),w=a(y[s+1]);0===w&&(w=1);var m=new Array(s+1);for(g=0;g<=s;++g)m[g]=a(y[g])/w;return m};var u=i(6606);function a(o){for(var l=0,s=0;s<o.length;++s)l+=o[s];return l}},1539:function(v,c,i){"use strict";var u=i(8524);v.exports=function(a,o){return u(a[0].mul(o[1]).add(o[0].mul(a[1])),a[1].mul(o[1]))}},8846:function(v){"use strict";v.exports=function(c,i){return c[0].mul(i[1]).cmp(i[0].mul(c[1]))}},9189:function(v,c,i){"use strict";var u=i(8524);v.exports=function(a,o){return u(a[0].mul(o[1]),a[1].mul(o[0]))}},5125:function(v,c,i){"use strict";var u=i(234),a=i(3218),o=i(5514),l=i(2813),s=i(8524),d=i(9189);v.exports=function g(p,T){if(u(p))return T?d(p,g(T)):[p[0].clone(),p[1].clone()];var _,y,w=0;if(a(p))_=p.clone();else if("string"==typeof p)_=l(p);else{if(0===p)return[o(0),o(1)];if(p===Math.floor(p))_=o(p);else{for(;p!==Math.floor(p);)p*=Math.pow(2,256),w-=256;_=o(p)}}if(u(T))_.mul(T[1]),y=T[0].clone();else if(a(T))y=T.clone();else if("string"==typeof T)y=l(T);else if(T)if(T===Math.floor(T))y=o(T);else{for(;T!==Math.floor(T);)T*=Math.pow(2,256),w+=256;y=o(T)}else y=o(1);return w>0?_=_.ushln(w):w<0&&(y=y.ushln(-w)),s(_,y)}},234:function(v,c,i){"use strict";var u=i(3218);v.exports=function(a){return Array.isArray(a)&&2===a.length&&u(a[0])&&u(a[1])}},4275:function(v,c,i){"use strict";var u=i(1928);v.exports=function(a){return a.cmp(new u(0))}},9958:function(v,c,i){"use strict";var u=i(4275);v.exports=function(a){var o=a.length,l=a.words,s=0;if(1===o)s=l[0];else if(2===o)s=l[0]+67108864*l[1];else for(var d=0;d<o;d++)s+=l[d]*Math.pow(67108864,d);return u(a)*s}},1112:function(v,c,i){"use strict";var u=i(8362),a=i(2288).countTrailingZeros;v.exports=function(o){var l=a(u.lo(o));if(l<32)return l;var s=a(u.hi(o));return s>20?52:s+32}},3218:function(v,c,i){"use strict";i(1928),v.exports=function(u){return u&&"object"==typeof u&&Boolean(u.words)}},5514:function(v,c,i){"use strict";var u=i(1928),a=i(8362);v.exports=function(o){var l=a.exponent(o);return l<52?new u(o):new u(o*Math.pow(2,52-l)).ushln(l-52)}},8524:function(v,c,i){"use strict";var u=i(5514),a=i(4275);v.exports=function(o,l){var s=a(o),d=a(l);if(0===s)return[u(0),u(1)];if(0===d)return[u(0),u(0)];d<0&&(o=o.neg(),l=l.neg());var g=o.gcd(l);return g.cmpn(1)?[o.div(g),l.div(g)]:[o,l]}},2813:function(v,c,i){"use strict";var u=i(1928);v.exports=function(a){return new u(a)}},3962:function(v,c,i){"use strict";var u=i(8524);v.exports=function(a,o){return u(a[0].mul(o[0]),a[1].mul(o[1]))}},4951:function(v,c,i){"use strict";var u=i(4275);v.exports=function(a){return u(a[0])*u(a[1])}},4354:function(v,c,i){"use strict";var u=i(8524);v.exports=function(a,o){return u(a[0].mul(o[1]).sub(a[1].mul(o[0])),a[1].mul(o[1]))}},7999:function(v,c,i){"use strict";var u=i(9958),a=i(1112);v.exports=function(o){var l=o[0],s=o[1];if(0===l.cmpn(0))return 0;var d=l.abs().divmod(s.abs()),p=u(d.div),T=d.mod,_=l.negative!==s.negative?-1:1;if(0===T.cmpn(0))return _*p;if(p){var y=a(p)+4,w=u(T.ushln(y).divRound(s));return _*(p+w*Math.pow(2,-y))}var m=s.bitLength()-T.bitLength()+53;return w=u(T.ushln(m).divRound(s)),m<1023?_*w*Math.pow(2,-m):_*(w*=Math.pow(2,-1023))*Math.pow(2,1023-m)}},5070:function(v){"use strict";function c(s,d,g,p,T){for(var _=T+1;p<=T;){var y=p+T>>>1,w=s[y];(void 0!==g?g(w,d):w-d)>=0?(_=y,T=y-1):p=y+1}return _}function i(s,d,g,p,T){for(var _=T+1;p<=T;){var y=p+T>>>1,w=s[y];(void 0!==g?g(w,d):w-d)>0?(_=y,T=y-1):p=y+1}return _}function u(s,d,g,p,T){for(var _=p-1;p<=T;){var y=p+T>>>1,w=s[y];(void 0!==g?g(w,d):w-d)<0?(_=y,p=y+1):T=y-1}return _}function a(s,d,g,p,T){for(var _=p-1;p<=T;){var y=p+T>>>1,w=s[y];(void 0!==g?g(w,d):w-d)<=0?(_=y,p=y+1):T=y-1}return _}function o(s,d,g,p,T){for(;p<=T;){var _=p+T>>>1,y=s[_],w=void 0!==g?g(y,d):y-d;if(0===w)return _;w<=0?p=_+1:T=_-1}return-1}function l(s,d,g,p,T,_){return"function"==typeof g?_(s,d,g,void 0===p?0:0|p,void 0===T?s.length-1:0|T):_(s,d,void 0,void 0===g?0:0|g,void 0===p?s.length-1:0|p)}v.exports={ge:function(s,d,g,p,T){return l(s,d,g,p,T,c)},gt:function(s,d,g,p,T){return l(s,d,g,p,T,i)},lt:function(s,d,g,p,T){return l(s,d,g,p,T,u)},le:function(s,d,g,p,T){return l(s,d,g,p,T,a)},eq:function(s,d,g,p,T){return l(s,d,g,p,T,o)}}},2288:function(v,c){"use strict";function i(a){var o=32;return(a&=-a)&&o--,65535&a&&(o-=16),16711935&a&&(o-=8),252645135&a&&(o-=4),858993459&a&&(o-=2),1431655765&a&&(o-=1),o}c.INT_BITS=32,c.INT_MAX=2147483647,c.INT_MIN=-2147483648,c.sign=function(a){return(a>0)-(a<0)},c.abs=function(a){var o=a>>31;return(a^o)-o},c.min=function(a,o){return o^(a^o)&-(a<o)},c.max=function(a,o){return a^(a^o)&-(a<o)},c.isPow2=function(a){return!(a&a-1||!a)},c.log2=function(a){var o,l;return o=(a>65535)<<4,o|=l=((a>>>=o)>255)<<3,o|=l=((a>>>=l)>15)<<2,(o|=l=((a>>>=l)>3)<<1)|(a>>>=l)>>1},c.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},c.popCount=function(a){return 16843009*((a=(858993459&(a-=a>>>1&1431655765))+(a>>>2&858993459))+(a>>>4)&252645135)>>>24},c.countTrailingZeros=i,c.nextPow2=function(a){return a+=0===a,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,1+((a|=a>>>8)|a>>>16)},c.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,(a|=a>>>16)-(a>>>1)},c.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,27030>>>(a&=15)&1};var u=new Array(256);(function(a){for(var o=0;o<256;++o){var l=o,s=o,d=7;for(l>>>=1;l;l>>>=1)s<<=1,s|=1&l,--d;a[o]=s<<d&255}})(u),c.reverse=function(a){return u[255&a]<<24|u[a>>>8&255]<<16|u[a>>>16&255]<<8|u[a>>>24&255]},c.interleave2=function(a,o){return(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a&=65535)|a<<8))|a<<4))|a<<2))|a<<1))|(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o&=65535)|o<<8))|o<<4))|o<<2))|o<<1))<<1},c.deinterleave2=function(a,o){return(a=65535&((a=16711935&((a=252645135&((a=858993459&((a=a>>>o&1431655765)|a>>>1))|a>>>2))|a>>>4))|a>>>16))<<16>>16},c.interleave3=function(a,o,l){return a=1227133513&((a=3272356035&((a=251719695&((a=4278190335&((a&=1023)|a<<16))|a<<8))|a<<4))|a<<2),(a|=(o=1227133513&((o=3272356035&((o=251719695&((o=4278190335&((o&=1023)|o<<16))|o<<8))|o<<4))|o<<2))<<1)|(l=1227133513&((l=3272356035&((l=251719695&((l=4278190335&((l&=1023)|l<<16))|l<<8))|l<<4))|l<<2))<<2},c.deinterleave3=function(a,o){return(a=1023&((a=4278190335&((a=251719695&((a=3272356035&((a=a>>>o&1227133513)|a>>>2))|a>>>4))|a>>>8))|a>>>16))<<22>>22},c.nextCombination=function(a){var o=a|a-1;return o+1|(~o&-~o)-1>>>i(a)+1}},1928:function(v,c,i){!function(u,a){"use strict";function o(j,Z){if(!j)throw new Error(Z||"Assertion failed")}function l(j,Z){j.super_=Z;var V=function(){};V.prototype=Z.prototype,j.prototype=new V,j.prototype.constructor=j}function s(j,Z,V){if(s.isBN(j))return j;this.negative=0,this.words=null,this.length=0,this.red=null,null!==j&&("le"!==Z&&"be"!==Z||(V=Z,Z=10),this._init(j||0,Z||10,V||"be"))}var d;"object"==typeof u?u.exports=s:a.BN=s,s.BN=s,s.wordSize=26;try{d=typeof window<"u"&&void 0!==window.Buffer?window.Buffer:i(6601).Buffer}catch{}function g(j,Z){var V=j.charCodeAt(Z);return V>=65&&V<=70?V-55:V>=97&&V<=102?V-87:V-48&15}function p(j,Z,V){var q=g(j,V);return V-1>=Z&&(q|=g(j,V-1)<<4),q}function T(j,Z,V,q){for(var G=0,H=Math.min(j.length,V),ne=Z;ne<H;ne++){var X=j.charCodeAt(ne)-48;G*=q,G+=X>=49?X-49+10:X>=17?X-17+10:X}return G}s.isBN=function(j){return j instanceof s||null!==j&&"object"==typeof j&&j.constructor.wordSize===s.wordSize&&Array.isArray(j.words)},s.max=function(j,Z){return j.cmp(Z)>0?j:Z},s.min=function(j,Z){return j.cmp(Z)<0?j:Z},s.prototype._init=function(j,Z,V){if("number"==typeof j)return this._initNumber(j,Z,V);if("object"==typeof j)return this._initArray(j,Z,V);"hex"===Z&&(Z=16),o(Z===(0|Z)&&Z>=2&&Z<=36);var q=0;"-"===(j=j.toString().replace(/\s+/g,""))[0]&&(q++,this.negative=1),q<j.length&&(16===Z?this._parseHex(j,q,V):(this._parseBase(j,Z,q),"le"===V&&this._initArray(this.toArray(),Z,V)))},s.prototype._initNumber=function(j,Z,V){j<0&&(this.negative=1,j=-j),j<67108864?(this.words=[67108863&j],this.length=1):j<4503599627370496?(this.words=[67108863&j,j/67108864&67108863],this.length=2):(o(j<9007199254740992),this.words=[67108863&j,j/67108864&67108863,1],this.length=3),"le"===V&&this._initArray(this.toArray(),Z,V)},s.prototype._initArray=function(j,Z,V){if(o("number"==typeof j.length),j.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(j.length/3),this.words=new Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var G,H,ne=0;if("be"===V)for(q=j.length-1,G=0;q>=0;q-=3)this.words[G]|=(H=j[q]|j[q-1]<<8|j[q-2]<<16)<<ne&67108863,this.words[G+1]=H>>>26-ne&67108863,(ne+=24)>=26&&(ne-=26,G++);else if("le"===V)for(q=0,G=0;q<j.length;q+=3)this.words[G]|=(H=j[q]|j[q+1]<<8|j[q+2]<<16)<<ne&67108863,this.words[G+1]=H>>>26-ne&67108863,(ne+=24)>=26&&(ne-=26,G++);return this.strip()},s.prototype._parseHex=function(j,Z,V){this.length=Math.ceil((j.length-Z)/6),this.words=new Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var G,H=0,ne=0;if("be"===V)for(q=j.length-1;q>=Z;q-=2)G=p(j,Z,q)<<H,this.words[ne]|=67108863&G,H>=18?(H-=18,this.words[ne+=1]|=G>>>26):H+=8;else for(q=(j.length-Z)%2==0?Z+1:Z;q<j.length;q+=2)G=p(j,Z,q)<<H,this.words[ne]|=67108863&G,H>=18?(H-=18,this.words[ne+=1]|=G>>>26):H+=8;this.strip()},s.prototype._parseBase=function(j,Z,V){this.words=[0],this.length=1;for(var q=0,G=1;G<=67108863;G*=Z)q++;q--,G=G/Z|0;for(var H=j.length-V,ne=H%q,X=Math.min(H,H-ne)+V,$=0,Q=V;Q<X;Q+=q)$=T(j,Q,Q+q,Z),this.imuln(G),this.words[0]+$<67108864?this.words[0]+=$:this._iaddn($);if(0!==ne){var te=1;for($=T(j,Q,j.length,Z),Q=0;Q<ne;Q++)te*=Z;this.imuln(te),this.words[0]+$<67108864?this.words[0]+=$:this._iaddn($)}this.strip()},s.prototype.copy=function(j){j.words=new Array(this.length);for(var Z=0;Z<this.length;Z++)j.words[Z]=this.words[Z];j.length=this.length,j.negative=this.negative,j.red=this.red},s.prototype.clone=function(){var j=new s(null);return this.copy(j),j},s.prototype._expand=function(j){for(;this.length<j;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var _=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function m(j,Z,V){V.negative=Z.negative^j.negative;var q=j.length+Z.length|0;V.length=q,q=q-1|0;var G=0|j.words[0],H=0|Z.words[0],ne=G*H,$=ne/67108864|0;V.words[0]=67108863&ne;for(var Q=1;Q<q;Q++){for(var te=$>>>26,re=67108863&$,le=Math.min(Q,Z.length-1),ue=Math.max(0,Q-j.length+1);ue<=le;ue++)te+=(ne=(G=0|j.words[Q-ue|0])*(H=0|Z.words[ue])+re)/67108864|0,re=67108863&ne;V.words[Q]=0|re,$=0|te}return 0!==$?V.words[Q]=0|$:V.length--,V.strip()}s.prototype.toString=function(j,Z){var V;if(Z=0|Z||1,16===(j=j||10)||"hex"===j){V="";for(var q=0,G=0,H=0;H<this.length;H++){var ne=this.words[H],X=(16777215&(ne<<q|G)).toString(16);V=0!=(G=ne>>>24-q&16777215)||H!==this.length-1?_[6-X.length]+X+V:X+V,(q+=2)>=26&&(q-=26,H--)}for(0!==G&&(V=G.toString(16)+V);V.length%Z!=0;)V="0"+V;return 0!==this.negative&&(V="-"+V),V}if(j===(0|j)&&j>=2&&j<=36){var $=y[j],Q=w[j];V="";var te=this.clone();for(te.negative=0;!te.isZero();){var re=te.modn(Q).toString(j);V=(te=te.idivn(Q)).isZero()?re+V:_[$-re.length]+re+V}for(this.isZero()&&(V="0"+V);V.length%Z!=0;)V="0"+V;return 0!==this.negative&&(V="-"+V),V}o(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var j=this.words[0];return 2===this.length?j+=67108864*this.words[1]:3===this.length&&1===this.words[2]?j+=4503599627370496+67108864*this.words[1]:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-j:j},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(j,Z){return o(void 0!==d),this.toArrayLike(d,j,Z)},s.prototype.toArray=function(j,Z){return this.toArrayLike(Array,j,Z)},s.prototype.toArrayLike=function(j,Z,V){var q=this.byteLength(),G=V||Math.max(1,q);o(q<=G,"byte array longer than desired length"),o(G>0,"Requested array length <= 0"),this.strip();var H,ne,X="le"===Z,$=new j(G),Q=this.clone();if(X){for(ne=0;!Q.isZero();ne++)H=Q.andln(255),Q.iushrn(8),$[ne]=H;for(;ne<G;ne++)$[ne]=0}else{for(ne=0;ne<G-q;ne++)$[ne]=0;for(ne=0;!Q.isZero();ne++)H=Q.andln(255),Q.iushrn(8),$[G-ne-1]=H}return $},s.prototype._countBits=Math.clz32?function(j){return 32-Math.clz32(j)}:function(j){var Z=j,V=0;return Z>=4096&&(V+=13,Z>>>=13),Z>=64&&(V+=7,Z>>>=7),Z>=8&&(V+=4,Z>>>=4),Z>=2&&(V+=2,Z>>>=2),V+Z},s.prototype._zeroBits=function(j){if(0===j)return 26;var Z=j,V=0;return!(8191&Z)&&(V+=13,Z>>>=13),!(127&Z)&&(V+=7,Z>>>=7),!(15&Z)&&(V+=4,Z>>>=4),!(3&Z)&&(V+=2,Z>>>=2),!(1&Z)&&V++,V},s.prototype.bitLength=function(){var Z=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+Z},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var j=0,Z=0;Z<this.length;Z++){var V=this._zeroBits(this.words[Z]);if(j+=V,26!==V)break}return j},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(j){return 0!==this.negative?this.abs().inotn(j).iaddn(1):this.clone()},s.prototype.fromTwos=function(j){return this.testn(j-1)?this.notn(j).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(j){for(;this.length<j.length;)this.words[this.length++]=0;for(var Z=0;Z<j.length;Z++)this.words[Z]=this.words[Z]|j.words[Z];return this.strip()},s.prototype.ior=function(j){return o(0==(this.negative|j.negative)),this.iuor(j)},s.prototype.or=function(j){return this.length>j.length?this.clone().ior(j):j.clone().ior(this)},s.prototype.uor=function(j){return this.length>j.length?this.clone().iuor(j):j.clone().iuor(this)},s.prototype.iuand=function(j){var Z;Z=this.length>j.length?j:this;for(var V=0;V<Z.length;V++)this.words[V]=this.words[V]&j.words[V];return this.length=Z.length,this.strip()},s.prototype.iand=function(j){return o(0==(this.negative|j.negative)),this.iuand(j)},s.prototype.and=function(j){return this.length>j.length?this.clone().iand(j):j.clone().iand(this)},s.prototype.uand=function(j){return this.length>j.length?this.clone().iuand(j):j.clone().iuand(this)},s.prototype.iuxor=function(j){var Z,V;this.length>j.length?(Z=this,V=j):(Z=j,V=this);for(var q=0;q<V.length;q++)this.words[q]=Z.words[q]^V.words[q];if(this!==Z)for(;q<Z.length;q++)this.words[q]=Z.words[q];return this.length=Z.length,this.strip()},s.prototype.ixor=function(j){return o(0==(this.negative|j.negative)),this.iuxor(j)},s.prototype.xor=function(j){return this.length>j.length?this.clone().ixor(j):j.clone().ixor(this)},s.prototype.uxor=function(j){return this.length>j.length?this.clone().iuxor(j):j.clone().iuxor(this)},s.prototype.inotn=function(j){o("number"==typeof j&&j>=0);var Z=0|Math.ceil(j/26),V=j%26;this._expand(Z),V>0&&Z--;for(var q=0;q<Z;q++)this.words[q]=67108863&~this.words[q];return V>0&&(this.words[q]=~this.words[q]&67108863>>26-V),this.strip()},s.prototype.notn=function(j){return this.clone().inotn(j)},s.prototype.setn=function(j,Z){o("number"==typeof j&&j>=0);var V=j/26|0,q=j%26;return this._expand(V+1),this.words[V]=Z?this.words[V]|1<<q:this.words[V]&~(1<<q),this.strip()},s.prototype.iadd=function(j){var Z,V,q;if(0!==this.negative&&0===j.negative)return this.negative=0,Z=this.isub(j),this.negative^=1,this._normSign();if(0===this.negative&&0!==j.negative)return j.negative=0,Z=this.isub(j),j.negative=1,Z._normSign();this.length>j.length?(V=this,q=j):(V=j,q=this);for(var G=0,H=0;H<q.length;H++)this.words[H]=67108863&(Z=(0|V.words[H])+(0|q.words[H])+G),G=Z>>>26;for(;0!==G&&H<V.length;H++)this.words[H]=67108863&(Z=(0|V.words[H])+G),G=Z>>>26;if(this.length=V.length,0!==G)this.words[this.length]=G,this.length++;else if(V!==this)for(;H<V.length;H++)this.words[H]=V.words[H];return this},s.prototype.add=function(j){var Z;return 0!==j.negative&&0===this.negative?(j.negative=0,Z=this.sub(j),j.negative^=1,Z):0===j.negative&&0!==this.negative?(this.negative=0,Z=j.sub(this),this.negative=1,Z):this.length>j.length?this.clone().iadd(j):j.clone().iadd(this)},s.prototype.isub=function(j){if(0!==j.negative){j.negative=0;var Z=this.iadd(j);return j.negative=1,Z._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(j),this.negative=1,this._normSign();var V,q,G=this.cmp(j);if(0===G)return this.negative=0,this.length=1,this.words[0]=0,this;G>0?(V=this,q=j):(V=j,q=this);for(var H=0,ne=0;ne<q.length;ne++)H=(Z=(0|V.words[ne])-(0|q.words[ne])+H)>>26,this.words[ne]=67108863&Z;for(;0!==H&&ne<V.length;ne++)H=(Z=(0|V.words[ne])+H)>>26,this.words[ne]=67108863&Z;if(0===H&&ne<V.length&&V!==this)for(;ne<V.length;ne++)this.words[ne]=V.words[ne];return this.length=Math.max(this.length,ne),V!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(j){return this.clone().isub(j)};var b=function(j,Z,V){var q,G,H,ne=j.words,X=Z.words,$=V.words,Q=0,te=0|ne[0],re=8191&te,le=te>>>13,ue=0|ne[1],he=8191&ue,ge=ue>>>13,xe=0|ne[2],ke=8191&xe,Ae=xe>>>13,pe=0|ne[3],ye=8191&pe,Ne=pe>>>13,be=0|ne[4],Ee=8191&be,Oe=be>>>13,De=0|ne[5],oe=8191&De,de=De>>>13,_e=0|ne[6],Me=8191&_e,Pe=_e>>>13,Ue=0|ne[7],Be=8191&Ue,Ve=Ue>>>13,ve=0|ne[8],Te=8191&ve,Ce=ve>>>13,We=0|ne[9],Ke=8191&We,Je=We>>>13,ht=0|X[0],ft=8191&ht,mt=ht>>>13,At=0|X[1],Rt=8191&At,It=At>>>13,Pt=0|X[2],Bt=8191&Pt,Ut=Pt>>>13,Vt=0|X[3],tn=8191&Vt,Gt=Vt>>>13,et=0|X[4],nt=8191&et,$e=et>>>13,ot=0|X[5],dt=8191&ot,Le=ot>>>13,Ge=0|X[6],st=8191&Ge,vt=Ge>>>13,bt=0|X[7],Lt=8191&bt,jt=bt>>>13,Nt=0|X[8],Tt=8191&Nt,Mt=Nt>>>13,kt=0|X[9],Ht=8191&kt,qt=kt>>>13;V.negative=j.negative^Z.negative,V.length=19;var Qt=(Q+(q=Math.imul(re,ft))|0)+((8191&(G=(G=Math.imul(re,mt))+Math.imul(le,ft)|0))<<13)|0;Q=((H=Math.imul(le,mt))+(G>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,q=Math.imul(he,ft),G=(G=Math.imul(he,mt))+Math.imul(ge,ft)|0,H=Math.imul(ge,mt);var Jt=(Q+(q=q+Math.imul(re,Rt)|0)|0)+((8191&(G=(G=G+Math.imul(re,It)|0)+Math.imul(le,Rt)|0))<<13)|0;Q=((H=H+Math.imul(le,It)|0)+(G>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,q=Math.imul(ke,ft),G=(G=Math.imul(ke,mt))+Math.imul(Ae,ft)|0,H=Math.imul(Ae,mt),q=q+Math.imul(he,Rt)|0,G=(G=G+Math.imul(he,It)|0)+Math.imul(ge,Rt)|0,H=H+Math.imul(ge,It)|0;var Kt=(Q+(q=q+Math.imul(re,Bt)|0)|0)+((8191&(G=(G=G+Math.imul(re,Ut)|0)+Math.imul(le,Bt)|0))<<13)|0;Q=((H=H+Math.imul(le,Ut)|0)+(G>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,q=Math.imul(ye,ft),G=(G=Math.imul(ye,mt))+Math.imul(Ne,ft)|0,H=Math.imul(Ne,mt),q=q+Math.imul(ke,Rt)|0,G=(G=G+Math.imul(ke,It)|0)+Math.imul(Ae,Rt)|0,H=H+Math.imul(Ae,It)|0,q=q+Math.imul(he,Bt)|0,G=(G=G+Math.imul(he,Ut)|0)+Math.imul(ge,Bt)|0,H=H+Math.imul(ge,Ut)|0;var ln=(Q+(q=q+Math.imul(re,tn)|0)|0)+((8191&(G=(G=G+Math.imul(re,Gt)|0)+Math.imul(le,tn)|0))<<13)|0;Q=((H=H+Math.imul(le,Gt)|0)+(G>>>13)|0)+(ln>>>26)|0,ln&=67108863,q=Math.imul(Ee,ft),G=(G=Math.imul(Ee,mt))+Math.imul(Oe,ft)|0,H=Math.imul(Oe,mt),q=q+Math.imul(ye,Rt)|0,G=(G=G+Math.imul(ye,It)|0)+Math.imul(Ne,Rt)|0,H=H+Math.imul(Ne,It)|0,q=q+Math.imul(ke,Bt)|0,G=(G=G+Math.imul(ke,Ut)|0)+Math.imul(Ae,Bt)|0,H=H+Math.imul(Ae,Ut)|0,q=q+Math.imul(he,tn)|0,G=(G=G+Math.imul(he,Gt)|0)+Math.imul(ge,tn)|0,H=H+Math.imul(ge,Gt)|0;var Tn=(Q+(q=q+Math.imul(re,nt)|0)|0)+((8191&(G=(G=G+Math.imul(re,$e)|0)+Math.imul(le,nt)|0))<<13)|0;Q=((H=H+Math.imul(le,$e)|0)+(G>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,q=Math.imul(oe,ft),G=(G=Math.imul(oe,mt))+Math.imul(de,ft)|0,H=Math.imul(de,mt),q=q+Math.imul(Ee,Rt)|0,G=(G=G+Math.imul(Ee,It)|0)+Math.imul(Oe,Rt)|0,H=H+Math.imul(Oe,It)|0,q=q+Math.imul(ye,Bt)|0,G=(G=G+Math.imul(ye,Ut)|0)+Math.imul(Ne,Bt)|0,H=H+Math.imul(Ne,Ut)|0,q=q+Math.imul(ke,tn)|0,G=(G=G+Math.imul(ke,Gt)|0)+Math.imul(Ae,tn)|0,H=H+Math.imul(Ae,Gt)|0,q=q+Math.imul(he,nt)|0,G=(G=G+Math.imul(he,$e)|0)+Math.imul(ge,nt)|0,H=H+Math.imul(ge,$e)|0;var An=(Q+(q=q+Math.imul(re,dt)|0)|0)+((8191&(G=(G=G+Math.imul(re,Le)|0)+Math.imul(le,dt)|0))<<13)|0;Q=((H=H+Math.imul(le,Le)|0)+(G>>>13)|0)+(An>>>26)|0,An&=67108863,q=Math.imul(Me,ft),G=(G=Math.imul(Me,mt))+Math.imul(Pe,ft)|0,H=Math.imul(Pe,mt),q=q+Math.imul(oe,Rt)|0,G=(G=G+Math.imul(oe,It)|0)+Math.imul(de,Rt)|0,H=H+Math.imul(de,It)|0,q=q+Math.imul(Ee,Bt)|0,G=(G=G+Math.imul(Ee,Ut)|0)+Math.imul(Oe,Bt)|0,H=H+Math.imul(Oe,Ut)|0,q=q+Math.imul(ye,tn)|0,G=(G=G+Math.imul(ye,Gt)|0)+Math.imul(Ne,tn)|0,H=H+Math.imul(Ne,Gt)|0,q=q+Math.imul(ke,nt)|0,G=(G=G+Math.imul(ke,$e)|0)+Math.imul(Ae,nt)|0,H=H+Math.imul(Ae,$e)|0,q=q+Math.imul(he,dt)|0,G=(G=G+Math.imul(he,Le)|0)+Math.imul(ge,dt)|0,H=H+Math.imul(ge,Le)|0;var pn=(Q+(q=q+Math.imul(re,st)|0)|0)+((8191&(G=(G=G+Math.imul(re,vt)|0)+Math.imul(le,st)|0))<<13)|0;Q=((H=H+Math.imul(le,vt)|0)+(G>>>13)|0)+(pn>>>26)|0,pn&=67108863,q=Math.imul(Be,ft),G=(G=Math.imul(Be,mt))+Math.imul(Ve,ft)|0,H=Math.imul(Ve,mt),q=q+Math.imul(Me,Rt)|0,G=(G=G+Math.imul(Me,It)|0)+Math.imul(Pe,Rt)|0,H=H+Math.imul(Pe,It)|0,q=q+Math.imul(oe,Bt)|0,G=(G=G+Math.imul(oe,Ut)|0)+Math.imul(de,Bt)|0,H=H+Math.imul(de,Ut)|0,q=q+Math.imul(Ee,tn)|0,G=(G=G+Math.imul(Ee,Gt)|0)+Math.imul(Oe,tn)|0,H=H+Math.imul(Oe,Gt)|0,q=q+Math.imul(ye,nt)|0,G=(G=G+Math.imul(ye,$e)|0)+Math.imul(Ne,nt)|0,H=H+Math.imul(Ne,$e)|0,q=q+Math.imul(ke,dt)|0,G=(G=G+Math.imul(ke,Le)|0)+Math.imul(Ae,dt)|0,H=H+Math.imul(Ae,Le)|0,q=q+Math.imul(he,st)|0,G=(G=G+Math.imul(he,vt)|0)+Math.imul(ge,st)|0,H=H+Math.imul(ge,vt)|0;var Nn=(Q+(q=q+Math.imul(re,Lt)|0)|0)+((8191&(G=(G=G+Math.imul(re,jt)|0)+Math.imul(le,Lt)|0))<<13)|0;Q=((H=H+Math.imul(le,jt)|0)+(G>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,q=Math.imul(Te,ft),G=(G=Math.imul(Te,mt))+Math.imul(Ce,ft)|0,H=Math.imul(Ce,mt),q=q+Math.imul(Be,Rt)|0,G=(G=G+Math.imul(Be,It)|0)+Math.imul(Ve,Rt)|0,H=H+Math.imul(Ve,It)|0,q=q+Math.imul(Me,Bt)|0,G=(G=G+Math.imul(Me,Ut)|0)+Math.imul(Pe,Bt)|0,H=H+Math.imul(Pe,Ut)|0,q=q+Math.imul(oe,tn)|0,G=(G=G+Math.imul(oe,Gt)|0)+Math.imul(de,tn)|0,H=H+Math.imul(de,Gt)|0,q=q+Math.imul(Ee,nt)|0,G=(G=G+Math.imul(Ee,$e)|0)+Math.imul(Oe,nt)|0,H=H+Math.imul(Oe,$e)|0,q=q+Math.imul(ye,dt)|0,G=(G=G+Math.imul(ye,Le)|0)+Math.imul(Ne,dt)|0,H=H+Math.imul(Ne,Le)|0,q=q+Math.imul(ke,st)|0,G=(G=G+Math.imul(ke,vt)|0)+Math.imul(Ae,st)|0,H=H+Math.imul(Ae,vt)|0,q=q+Math.imul(he,Lt)|0,G=(G=G+Math.imul(he,jt)|0)+Math.imul(ge,Lt)|0,H=H+Math.imul(ge,jt)|0;var tr=(Q+(q=q+Math.imul(re,Tt)|0)|0)+((8191&(G=(G=G+Math.imul(re,Mt)|0)+Math.imul(le,Tt)|0))<<13)|0;Q=((H=H+Math.imul(le,Mt)|0)+(G>>>13)|0)+(tr>>>26)|0,tr&=67108863,q=Math.imul(Ke,ft),G=(G=Math.imul(Ke,mt))+Math.imul(Je,ft)|0,H=Math.imul(Je,mt),q=q+Math.imul(Te,Rt)|0,G=(G=G+Math.imul(Te,It)|0)+Math.imul(Ce,Rt)|0,H=H+Math.imul(Ce,It)|0,q=q+Math.imul(Be,Bt)|0,G=(G=G+Math.imul(Be,Ut)|0)+Math.imul(Ve,Bt)|0,H=H+Math.imul(Ve,Ut)|0,q=q+Math.imul(Me,tn)|0,G=(G=G+Math.imul(Me,Gt)|0)+Math.imul(Pe,tn)|0,H=H+Math.imul(Pe,Gt)|0,q=q+Math.imul(oe,nt)|0,G=(G=G+Math.imul(oe,$e)|0)+Math.imul(de,nt)|0,H=H+Math.imul(de,$e)|0,q=q+Math.imul(Ee,dt)|0,G=(G=G+Math.imul(Ee,Le)|0)+Math.imul(Oe,dt)|0,H=H+Math.imul(Oe,Le)|0,q=q+Math.imul(ye,st)|0,G=(G=G+Math.imul(ye,vt)|0)+Math.imul(Ne,st)|0,H=H+Math.imul(Ne,vt)|0,q=q+Math.imul(ke,Lt)|0,G=(G=G+Math.imul(ke,jt)|0)+Math.imul(Ae,Lt)|0,H=H+Math.imul(Ae,jt)|0,q=q+Math.imul(he,Tt)|0,G=(G=G+Math.imul(he,Mt)|0)+Math.imul(ge,Tt)|0,H=H+Math.imul(ge,Mt)|0;var On=(Q+(q=q+Math.imul(re,Ht)|0)|0)+((8191&(G=(G=G+Math.imul(re,qt)|0)+Math.imul(le,Ht)|0))<<13)|0;Q=((H=H+Math.imul(le,qt)|0)+(G>>>13)|0)+(On>>>26)|0,On&=67108863,q=Math.imul(Ke,Rt),G=(G=Math.imul(Ke,It))+Math.imul(Je,Rt)|0,H=Math.imul(Je,It),q=q+Math.imul(Te,Bt)|0,G=(G=G+Math.imul(Te,Ut)|0)+Math.imul(Ce,Bt)|0,H=H+Math.imul(Ce,Ut)|0,q=q+Math.imul(Be,tn)|0,G=(G=G+Math.imul(Be,Gt)|0)+Math.imul(Ve,tn)|0,H=H+Math.imul(Ve,Gt)|0,q=q+Math.imul(Me,nt)|0,G=(G=G+Math.imul(Me,$e)|0)+Math.imul(Pe,nt)|0,H=H+Math.imul(Pe,$e)|0,q=q+Math.imul(oe,dt)|0,G=(G=G+Math.imul(oe,Le)|0)+Math.imul(de,dt)|0,H=H+Math.imul(de,Le)|0,q=q+Math.imul(Ee,st)|0,G=(G=G+Math.imul(Ee,vt)|0)+Math.imul(Oe,st)|0,H=H+Math.imul(Oe,vt)|0,q=q+Math.imul(ye,Lt)|0,G=(G=G+Math.imul(ye,jt)|0)+Math.imul(Ne,Lt)|0,H=H+Math.imul(Ne,jt)|0,q=q+Math.imul(ke,Tt)|0,G=(G=G+Math.imul(ke,Mt)|0)+Math.imul(Ae,Tt)|0,H=H+Math.imul(Ae,Mt)|0;var wn=(Q+(q=q+Math.imul(he,Ht)|0)|0)+((8191&(G=(G=G+Math.imul(he,qt)|0)+Math.imul(ge,Ht)|0))<<13)|0;Q=((H=H+Math.imul(ge,qt)|0)+(G>>>13)|0)+(wn>>>26)|0,wn&=67108863,q=Math.imul(Ke,Bt),G=(G=Math.imul(Ke,Ut))+Math.imul(Je,Bt)|0,H=Math.imul(Je,Ut),q=q+Math.imul(Te,tn)|0,G=(G=G+Math.imul(Te,Gt)|0)+Math.imul(Ce,tn)|0,H=H+Math.imul(Ce,Gt)|0,q=q+Math.imul(Be,nt)|0,G=(G=G+Math.imul(Be,$e)|0)+Math.imul(Ve,nt)|0,H=H+Math.imul(Ve,$e)|0,q=q+Math.imul(Me,dt)|0,G=(G=G+Math.imul(Me,Le)|0)+Math.imul(Pe,dt)|0,H=H+Math.imul(Pe,Le)|0,q=q+Math.imul(oe,st)|0,G=(G=G+Math.imul(oe,vt)|0)+Math.imul(de,st)|0,H=H+Math.imul(de,vt)|0,q=q+Math.imul(Ee,Lt)|0,G=(G=G+Math.imul(Ee,jt)|0)+Math.imul(Oe,Lt)|0,H=H+Math.imul(Oe,jt)|0,q=q+Math.imul(ye,Tt)|0,G=(G=G+Math.imul(ye,Mt)|0)+Math.imul(Ne,Tt)|0,H=H+Math.imul(Ne,Mt)|0;var Cn=(Q+(q=q+Math.imul(ke,Ht)|0)|0)+((8191&(G=(G=G+Math.imul(ke,qt)|0)+Math.imul(Ae,Ht)|0))<<13)|0;Q=((H=H+Math.imul(Ae,qt)|0)+(G>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,q=Math.imul(Ke,tn),G=(G=Math.imul(Ke,Gt))+Math.imul(Je,tn)|0,H=Math.imul(Je,Gt),q=q+Math.imul(Te,nt)|0,G=(G=G+Math.imul(Te,$e)|0)+Math.imul(Ce,nt)|0,H=H+Math.imul(Ce,$e)|0,q=q+Math.imul(Be,dt)|0,G=(G=G+Math.imul(Be,Le)|0)+Math.imul(Ve,dt)|0,H=H+Math.imul(Ve,Le)|0,q=q+Math.imul(Me,st)|0,G=(G=G+Math.imul(Me,vt)|0)+Math.imul(Pe,st)|0,H=H+Math.imul(Pe,vt)|0,q=q+Math.imul(oe,Lt)|0,G=(G=G+Math.imul(oe,jt)|0)+Math.imul(de,Lt)|0,H=H+Math.imul(de,jt)|0,q=q+Math.imul(Ee,Tt)|0,G=(G=G+Math.imul(Ee,Mt)|0)+Math.imul(Oe,Tt)|0,H=H+Math.imul(Oe,Mt)|0;var mn=(Q+(q=q+Math.imul(ye,Ht)|0)|0)+((8191&(G=(G=G+Math.imul(ye,qt)|0)+Math.imul(Ne,Ht)|0))<<13)|0;Q=((H=H+Math.imul(Ne,qt)|0)+(G>>>13)|0)+(mn>>>26)|0,mn&=67108863,q=Math.imul(Ke,nt),G=(G=Math.imul(Ke,$e))+Math.imul(Je,nt)|0,H=Math.imul(Je,$e),q=q+Math.imul(Te,dt)|0,G=(G=G+Math.imul(Te,Le)|0)+Math.imul(Ce,dt)|0,H=H+Math.imul(Ce,Le)|0,q=q+Math.imul(Be,st)|0,G=(G=G+Math.imul(Be,vt)|0)+Math.imul(Ve,st)|0,H=H+Math.imul(Ve,vt)|0,q=q+Math.imul(Me,Lt)|0,G=(G=G+Math.imul(Me,jt)|0)+Math.imul(Pe,Lt)|0,H=H+Math.imul(Pe,jt)|0,q=q+Math.imul(oe,Tt)|0,G=(G=G+Math.imul(oe,Mt)|0)+Math.imul(de,Tt)|0,H=H+Math.imul(de,Mt)|0;var En=(Q+(q=q+Math.imul(Ee,Ht)|0)|0)+((8191&(G=(G=G+Math.imul(Ee,qt)|0)+Math.imul(Oe,Ht)|0))<<13)|0;Q=((H=H+Math.imul(Oe,qt)|0)+(G>>>13)|0)+(En>>>26)|0,En&=67108863,q=Math.imul(Ke,dt),G=(G=Math.imul(Ke,Le))+Math.imul(Je,dt)|0,H=Math.imul(Je,Le),q=q+Math.imul(Te,st)|0,G=(G=G+Math.imul(Te,vt)|0)+Math.imul(Ce,st)|0,H=H+Math.imul(Ce,vt)|0,q=q+Math.imul(Be,Lt)|0,G=(G=G+Math.imul(Be,jt)|0)+Math.imul(Ve,Lt)|0,H=H+Math.imul(Ve,jt)|0,q=q+Math.imul(Me,Tt)|0,G=(G=G+Math.imul(Me,Mt)|0)+Math.imul(Pe,Tt)|0,H=H+Math.imul(Pe,Mt)|0;var Fn=(Q+(q=q+Math.imul(oe,Ht)|0)|0)+((8191&(G=(G=G+Math.imul(oe,qt)|0)+Math.imul(de,Ht)|0))<<13)|0;Q=((H=H+Math.imul(de,qt)|0)+(G>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,q=Math.imul(Ke,st),G=(G=Math.imul(Ke,vt))+Math.imul(Je,st)|0,H=Math.imul(Je,vt),q=q+Math.imul(Te,Lt)|0,G=(G=G+Math.imul(Te,jt)|0)+Math.imul(Ce,Lt)|0,H=H+Math.imul(Ce,jt)|0,q=q+Math.imul(Be,Tt)|0,G=(G=G+Math.imul(Be,Mt)|0)+Math.imul(Ve,Tt)|0,H=H+Math.imul(Ve,Mt)|0;var jn=(Q+(q=q+Math.imul(Me,Ht)|0)|0)+((8191&(G=(G=G+Math.imul(Me,qt)|0)+Math.imul(Pe,Ht)|0))<<13)|0;Q=((H=H+Math.imul(Pe,qt)|0)+(G>>>13)|0)+(jn>>>26)|0,jn&=67108863,q=Math.imul(Ke,Lt),G=(G=Math.imul(Ke,jt))+Math.imul(Je,Lt)|0,H=Math.imul(Je,jt),q=q+Math.imul(Te,Tt)|0,G=(G=G+Math.imul(Te,Mt)|0)+Math.imul(Ce,Tt)|0,H=H+Math.imul(Ce,Mt)|0;var er=(Q+(q=q+Math.imul(Be,Ht)|0)|0)+((8191&(G=(G=G+Math.imul(Be,qt)|0)+Math.imul(Ve,Ht)|0))<<13)|0;Q=((H=H+Math.imul(Ve,qt)|0)+(G>>>13)|0)+(er>>>26)|0,er&=67108863,q=Math.imul(Ke,Tt),G=(G=Math.imul(Ke,Mt))+Math.imul(Je,Tt)|0,H=Math.imul(Je,Mt);var Zn=(Q+(q=q+Math.imul(Te,Ht)|0)|0)+((8191&(G=(G=G+Math.imul(Te,qt)|0)+Math.imul(Ce,Ht)|0))<<13)|0;Q=((H=H+Math.imul(Ce,qt)|0)+(G>>>13)|0)+(Zn>>>26)|0,Zn&=67108863;var Gn=(Q+(q=Math.imul(Ke,Ht))|0)+((8191&(G=(G=Math.imul(Ke,qt))+Math.imul(Je,Ht)|0))<<13)|0;return Q=((H=Math.imul(Je,qt))+(G>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,$[0]=Qt,$[1]=Jt,$[2]=Kt,$[3]=ln,$[4]=Tn,$[5]=An,$[6]=pn,$[7]=Nn,$[8]=tr,$[9]=On,$[10]=wn,$[11]=Cn,$[12]=mn,$[13]=En,$[14]=Fn,$[15]=jn,$[16]=er,$[17]=Zn,$[18]=Gn,0!==Q&&($[19]=Q,V.length++),V};function k(j,Z,V){return(new h).mulp(j,Z,V)}function h(j,Z){this.x=j,this.y=Z}Math.imul||(b=m),s.prototype.mulTo=function(j,Z){var q=this.length+j.length;return 10===this.length&&10===j.length?b(this,j,Z):q<63?m(this,j,Z):q<1024?function(G,H,ne){ne.negative=H.negative^G.negative,ne.length=G.length+H.length;for(var X=0,$=0,Q=0;Q<ne.length-1;Q++){var te=$;$=0;for(var re=67108863&X,le=Math.min(Q,H.length-1),ue=Math.max(0,Q-G.length+1);ue<=le;ue++){var ge=(0|G.words[Q-ue])*(0|H.words[ue]),xe=67108863&ge;re=67108863&(xe=xe+re|0),$+=(te=(te=te+(ge/67108864|0)|0)+(xe>>>26)|0)>>>26,te&=67108863}ne.words[Q]=re,X=te,te=$}return 0!==X?ne.words[Q]=X:ne.length--,ne.strip()}(this,j,Z):k(this,j,Z)},h.prototype.makeRBT=function(j){for(var Z=new Array(j),V=s.prototype._countBits(j)-1,q=0;q<j;q++)Z[q]=this.revBin(q,V,j);return Z},h.prototype.revBin=function(j,Z,V){if(0===j||j===V-1)return j;for(var q=0,G=0;G<Z;G++)q|=(1&j)<<Z-G-1,j>>=1;return q},h.prototype.permute=function(j,Z,V,q,G,H){for(var ne=0;ne<H;ne++)q[ne]=Z[j[ne]],G[ne]=V[j[ne]]},h.prototype.transform=function(j,Z,V,q,G,H){this.permute(H,j,Z,V,q,G);for(var ne=1;ne<G;ne<<=1)for(var X=ne<<1,$=Math.cos(2*Math.PI/X),Q=Math.sin(2*Math.PI/X),te=0;te<G;te+=X)for(var re=$,le=Q,ue=0;ue<ne;ue++){var he=V[te+ue],ge=q[te+ue],xe=V[te+ue+ne],ke=q[te+ue+ne],Ae=re*xe-le*ke;ke=re*ke+le*xe,V[te+ue]=he+(xe=Ae),q[te+ue]=ge+ke,V[te+ue+ne]=he-xe,q[te+ue+ne]=ge-ke,ue!==X&&(Ae=$*re-Q*le,le=$*le+Q*re,re=Ae)}},h.prototype.guessLen13b=function(j,Z){var V=1|Math.max(Z,j),q=1&V,G=0;for(V=V/2|0;V;V>>>=1)G++;return 1<<G+1+q},h.prototype.conjugate=function(j,Z,V){if(!(V<=1))for(var q=0;q<V/2;q++){var G=j[q];j[q]=j[V-q-1],j[V-q-1]=G,G=Z[q],Z[q]=-Z[V-q-1],Z[V-q-1]=-G}},h.prototype.normalize13b=function(j,Z){for(var V=0,q=0;q<Z/2;q++){var G=8192*Math.round(j[2*q+1]/Z)+Math.round(j[2*q]/Z)+V;j[q]=67108863&G,V=G<67108864?0:G/67108864|0}return j},h.prototype.convert13b=function(j,Z,V,q){for(var G=0,H=0;H<Z;H++)V[2*H]=8191&(G+=0|j[H]),V[2*H+1]=8191&(G>>>=13),G>>>=13;for(H=2*Z;H<q;++H)V[H]=0;o(0===G),o(0==(-8192&G))},h.prototype.stub=function(j){for(var Z=new Array(j),V=0;V<j;V++)Z[V]=0;return Z},h.prototype.mulp=function(j,Z,V){var q=2*this.guessLen13b(j.length,Z.length),G=this.makeRBT(q),H=this.stub(q),ne=new Array(q),X=new Array(q),$=new Array(q),Q=new Array(q),te=new Array(q),re=new Array(q),le=V.words;le.length=q,this.convert13b(j.words,j.length,ne,q),this.convert13b(Z.words,Z.length,Q,q),this.transform(ne,H,X,$,q,G),this.transform(Q,H,te,re,q,G);for(var ue=0;ue<q;ue++){var he=X[ue]*te[ue]-$[ue]*re[ue];$[ue]=X[ue]*re[ue]+$[ue]*te[ue],X[ue]=he}return this.conjugate(X,$,q),this.transform(X,$,le,H,q,G),this.conjugate(le,H,q),this.normalize13b(le,q),V.negative=j.negative^Z.negative,V.length=j.length+Z.length,V.strip()},s.prototype.mul=function(j){var Z=new s(null);return Z.words=new Array(this.length+j.length),this.mulTo(j,Z)},s.prototype.mulf=function(j){var Z=new s(null);return Z.words=new Array(this.length+j.length),k(this,j,Z)},s.prototype.imul=function(j){return this.clone().mulTo(j,this)},s.prototype.imuln=function(j){o("number"==typeof j),o(j<67108864);for(var Z=0,V=0;V<this.length;V++){var q=(0|this.words[V])*j,G=(67108863&q)+(67108863&Z);Z>>=26,Z+=q/67108864|0,Z+=G>>>26,this.words[V]=67108863&G}return 0!==Z&&(this.words[V]=Z,this.length++),this},s.prototype.muln=function(j){return this.clone().imuln(j)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(j){var Z=function(H){for(var ne=new Array(H.bitLength()),X=0;X<ne.length;X++){var Q=X%26;ne[X]=(H.words[X/26|0]&1<<Q)>>>Q}return ne}(j);if(0===Z.length)return new s(1);for(var V=this,q=0;q<Z.length&&0===Z[q];q++,V=V.sqr());if(++q<Z.length)for(var G=V.sqr();q<Z.length;q++,G=G.sqr())0!==Z[q]&&(V=V.mul(G));return V},s.prototype.iushln=function(j){o("number"==typeof j&&j>=0);var Z,V=j%26,q=(j-V)/26,G=67108863>>>26-V<<26-V;if(0!==V){var H=0;for(Z=0;Z<this.length;Z++){var ne=this.words[Z]&G;this.words[Z]=(0|this.words[Z])-ne<<V|H,H=ne>>>26-V}H&&(this.words[Z]=H,this.length++)}if(0!==q){for(Z=this.length-1;Z>=0;Z--)this.words[Z+q]=this.words[Z];for(Z=0;Z<q;Z++)this.words[Z]=0;this.length+=q}return this.strip()},s.prototype.ishln=function(j){return o(0===this.negative),this.iushln(j)},s.prototype.iushrn=function(j,Z,V){var q;o("number"==typeof j&&j>=0),q=Z?(Z-Z%26)/26:0;var G=j%26,H=Math.min((j-G)/26,this.length),ne=67108863^67108863>>>G<<G,X=V;if(q-=H,q=Math.max(0,q),X){for(var $=0;$<H;$++)X.words[$]=this.words[$];X.length=H}if(0!==H)if(this.length>H)for(this.length-=H,$=0;$<this.length;$++)this.words[$]=this.words[$+H];else this.words[0]=0,this.length=1;var Q=0;for($=this.length-1;$>=0&&(0!==Q||$>=q);$--){var te=0|this.words[$];this.words[$]=Q<<26-G|te>>>G,Q=te&ne}return X&&0!==Q&&(X.words[X.length++]=Q),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(j,Z,V){return o(0===this.negative),this.iushrn(j,Z,V)},s.prototype.shln=function(j){return this.clone().ishln(j)},s.prototype.ushln=function(j){return this.clone().iushln(j)},s.prototype.shrn=function(j){return this.clone().ishrn(j)},s.prototype.ushrn=function(j){return this.clone().iushrn(j)},s.prototype.testn=function(j){o("number"==typeof j&&j>=0);var Z=j%26,V=(j-Z)/26;return!(this.length<=V||!(this.words[V]&1<<Z))},s.prototype.imaskn=function(j){o("number"==typeof j&&j>=0);var Z=j%26,V=(j-Z)/26;return o(0===this.negative,"imaskn works only with positive numbers"),this.length<=V?this:(0!==Z&&V++,this.length=Math.min(V,this.length),0!==Z&&(this.words[this.length-1]&=67108863^67108863>>>Z<<Z),this.strip())},s.prototype.maskn=function(j){return this.clone().imaskn(j)},s.prototype.iaddn=function(j){return o("number"==typeof j),o(j<67108864),j<0?this.isubn(-j):0!==this.negative?1===this.length&&(0|this.words[0])<j?(this.words[0]=j-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(j),this.negative=1,this):this._iaddn(j)},s.prototype._iaddn=function(j){this.words[0]+=j;for(var Z=0;Z<this.length&&this.words[Z]>=67108864;Z++)this.words[Z]-=67108864,Z===this.length-1?this.words[Z+1]=1:this.words[Z+1]++;return this.length=Math.max(this.length,Z+1),this},s.prototype.isubn=function(j){if(o("number"==typeof j),o(j<67108864),j<0)return this.iaddn(-j);if(0!==this.negative)return this.negative=0,this.iaddn(j),this.negative=1,this;if(this.words[0]-=j,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Z=0;Z<this.length&&this.words[Z]<0;Z++)this.words[Z]+=67108864,this.words[Z+1]-=1;return this.strip()},s.prototype.addn=function(j){return this.clone().iaddn(j)},s.prototype.subn=function(j){return this.clone().isubn(j)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(j,Z,V){var q,G;this._expand(j.length+V);var ne=0;for(q=0;q<j.length;q++){G=(0|this.words[q+V])+ne;var X=(0|j.words[q])*Z;ne=((G-=67108863&X)>>26)-(X/67108864|0),this.words[q+V]=67108863&G}for(;q<this.length-V;q++)ne=(G=(0|this.words[q+V])+ne)>>26,this.words[q+V]=67108863&G;if(0===ne)return this.strip();for(o(-1===ne),ne=0,q=0;q<this.length;q++)ne=(G=-(0|this.words[q])+ne)>>26,this.words[q]=67108863&G;return this.negative=1,this.strip()},s.prototype._wordDiv=function(j,Z){var V,q=this.clone(),G=j,H=0|G.words[G.length-1];0!=(V=26-this._countBits(H))&&(G=G.ushln(V),q.iushln(V),H=0|G.words[G.length-1]);var ne,X=q.length-G.length;if("mod"!==Z){(ne=new s(null)).length=X+1,ne.words=new Array(ne.length);for(var $=0;$<ne.length;$++)ne.words[$]=0}var Q=q.clone()._ishlnsubmul(G,1,X);0===Q.negative&&(q=Q,ne&&(ne.words[X]=1));for(var te=X-1;te>=0;te--){var re=67108864*(0|q.words[G.length+te])+(0|q.words[G.length+te-1]);for(re=Math.min(re/H|0,67108863),q._ishlnsubmul(G,re,te);0!==q.negative;)re--,q.negative=0,q._ishlnsubmul(G,1,te),q.isZero()||(q.negative^=1);ne&&(ne.words[te]=re)}return ne&&ne.strip(),q.strip(),"div"!==Z&&0!==V&&q.iushrn(V),{div:ne||null,mod:q}},s.prototype.divmod=function(j,Z,V){return o(!j.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===j.negative?(H=this.neg().divmod(j,Z),"mod"!==Z&&(q=H.div.neg()),"div"!==Z&&(G=H.mod.neg(),V&&0!==G.negative&&G.iadd(j)),{div:q,mod:G}):0===this.negative&&0!==j.negative?(H=this.divmod(j.neg(),Z),"mod"!==Z&&(q=H.div.neg()),{div:q,mod:H.mod}):this.negative&j.negative?(H=this.neg().divmod(j.neg(),Z),"div"!==Z&&(G=H.mod.neg(),V&&0!==G.negative&&G.isub(j)),{div:H.div,mod:G}):j.length>this.length||this.cmp(j)<0?{div:new s(0),mod:this}:1===j.length?"div"===Z?{div:this.divn(j.words[0]),mod:null}:"mod"===Z?{div:null,mod:new s(this.modn(j.words[0]))}:{div:this.divn(j.words[0]),mod:new s(this.modn(j.words[0]))}:this._wordDiv(j,Z);var q,G,H},s.prototype.div=function(j){return this.divmod(j,"div",!1).div},s.prototype.mod=function(j){return this.divmod(j,"mod",!1).mod},s.prototype.umod=function(j){return this.divmod(j,"mod",!0).mod},s.prototype.divRound=function(j){var Z=this.divmod(j);if(Z.mod.isZero())return Z.div;var V=0!==Z.div.negative?Z.mod.isub(j):Z.mod,q=j.ushrn(1),G=j.andln(1),H=V.cmp(q);return H<0||1===G&&0===H?Z.div:0!==Z.div.negative?Z.div.isubn(1):Z.div.iaddn(1)},s.prototype.modn=function(j){o(j<=67108863);for(var Z=67108864%j,V=0,q=this.length-1;q>=0;q--)V=(Z*V+(0|this.words[q]))%j;return V},s.prototype.idivn=function(j){o(j<=67108863);for(var Z=0,V=this.length-1;V>=0;V--){var q=(0|this.words[V])+67108864*Z;this.words[V]=q/j|0,Z=q%j}return this.strip()},s.prototype.divn=function(j){return this.clone().idivn(j)},s.prototype.egcd=function(j){o(0===j.negative),o(!j.isZero());var Z=this,V=j.clone();Z=0!==Z.negative?Z.umod(j):Z.clone();for(var q=new s(1),G=new s(0),H=new s(0),ne=new s(1),X=0;Z.isEven()&&V.isEven();)Z.iushrn(1),V.iushrn(1),++X;for(var $=V.clone(),Q=Z.clone();!Z.isZero();){for(var te=0,re=1;!(Z.words[0]&re)&&te<26;++te,re<<=1);if(te>0)for(Z.iushrn(te);te-- >0;)(q.isOdd()||G.isOdd())&&(q.iadd($),G.isub(Q)),q.iushrn(1),G.iushrn(1);for(var le=0,ue=1;!(V.words[0]&ue)&&le<26;++le,ue<<=1);if(le>0)for(V.iushrn(le);le-- >0;)(H.isOdd()||ne.isOdd())&&(H.iadd($),ne.isub(Q)),H.iushrn(1),ne.iushrn(1);Z.cmp(V)>=0?(Z.isub(V),q.isub(H),G.isub(ne)):(V.isub(Z),H.isub(q),ne.isub(G))}return{a:H,b:ne,gcd:V.iushln(X)}},s.prototype._invmp=function(j){o(0===j.negative),o(!j.isZero());var Z=this,V=j.clone();Z=0!==Z.negative?Z.umod(j):Z.clone();for(var q,G=new s(1),H=new s(0),ne=V.clone();Z.cmpn(1)>0&&V.cmpn(1)>0;){for(var X=0,$=1;!(Z.words[0]&$)&&X<26;++X,$<<=1);if(X>0)for(Z.iushrn(X);X-- >0;)G.isOdd()&&G.iadd(ne),G.iushrn(1);for(var Q=0,te=1;!(V.words[0]&te)&&Q<26;++Q,te<<=1);if(Q>0)for(V.iushrn(Q);Q-- >0;)H.isOdd()&&H.iadd(ne),H.iushrn(1);Z.cmp(V)>=0?(Z.isub(V),G.isub(H)):(V.isub(Z),H.isub(G))}return(q=0===Z.cmpn(1)?G:H).cmpn(0)<0&&q.iadd(j),q},s.prototype.gcd=function(j){if(this.isZero())return j.abs();if(j.isZero())return this.abs();var Z=this.clone(),V=j.clone();Z.negative=0,V.negative=0;for(var q=0;Z.isEven()&&V.isEven();q++)Z.iushrn(1),V.iushrn(1);for(;;){for(;Z.isEven();)Z.iushrn(1);for(;V.isEven();)V.iushrn(1);var G=Z.cmp(V);if(G<0){var H=Z;Z=V,V=H}else if(0===G||0===V.cmpn(1))break;Z.isub(V)}return V.iushln(q)},s.prototype.invm=function(j){return this.egcd(j).a.umod(j)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(j){return this.words[0]&j},s.prototype.bincn=function(j){o("number"==typeof j);var Z=j%26,V=(j-Z)/26,q=1<<Z;if(this.length<=V)return this._expand(V+1),this.words[V]|=q,this;for(var G=q,H=V;0!==G&&H<this.length;H++){var ne=0|this.words[H];G=(ne+=G)>>>26,this.words[H]=ne&=67108863}return 0!==G&&(this.words[H]=G,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(j){var Z,V=j<0;if(0!==this.negative&&!V)return-1;if(0===this.negative&&V)return 1;if(this.strip(),this.length>1)Z=1;else{V&&(j=-j),o(j<=67108863,"Number is too big");var q=0|this.words[0];Z=q===j?0:q<j?-1:1}return 0!==this.negative?0|-Z:Z},s.prototype.cmp=function(j){if(0!==this.negative&&0===j.negative)return-1;if(0===this.negative&&0!==j.negative)return 1;var Z=this.ucmp(j);return 0!==this.negative?0|-Z:Z},s.prototype.ucmp=function(j){if(this.length>j.length)return 1;if(this.length<j.length)return-1;for(var Z=0,V=this.length-1;V>=0;V--){var q=0|this.words[V],G=0|j.words[V];if(q!==G){q<G?Z=-1:q>G&&(Z=1);break}}return Z},s.prototype.gtn=function(j){return 1===this.cmpn(j)},s.prototype.gt=function(j){return 1===this.cmp(j)},s.prototype.gten=function(j){return this.cmpn(j)>=0},s.prototype.gte=function(j){return this.cmp(j)>=0},s.prototype.ltn=function(j){return-1===this.cmpn(j)},s.prototype.lt=function(j){return-1===this.cmp(j)},s.prototype.lten=function(j){return this.cmpn(j)<=0},s.prototype.lte=function(j){return this.cmp(j)<=0},s.prototype.eqn=function(j){return 0===this.cmpn(j)},s.prototype.eq=function(j){return 0===this.cmp(j)},s.red=function(j){return new B(j)},s.prototype.toRed=function(j){return o(!this.red,"Already a number in reduction context"),o(0===this.negative,"red works only with positives"),j.convertTo(this)._forceRed(j)},s.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(j){return this.red=j,this},s.prototype.forceRed=function(j){return o(!this.red,"Already a number in reduction context"),this._forceRed(j)},s.prototype.redAdd=function(j){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,j)},s.prototype.redIAdd=function(j){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,j)},s.prototype.redSub=function(j){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,j)},s.prototype.redISub=function(j){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,j)},s.prototype.redShl=function(j){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,j)},s.prototype.redMul=function(j){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,j),this.red.mul(this,j)},s.prototype.redIMul=function(j){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,j),this.red.imul(this,j)},s.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(j){return o(this.red&&!j.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,j)};var O={k256:null,p224:null,p192:null,p25519:null};function A(j,Z){this.name=j,this.p=new s(Z,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function I(){A.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P(){A.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function L(){A.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function N(){A.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function B(j){if("string"==typeof j){var Z=s._prime(j);this.m=Z.p,this.prime=Z}else o(j.gtn(1),"modulus must be greater than 1"),this.m=j,this.prime=null}function W(j){B.call(this,j),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}A.prototype._tmp=function(){var j=new s(null);return j.words=new Array(Math.ceil(this.n/13)),j},A.prototype.ireduce=function(j){var Z,V=j;do{this.split(V,this.tmp),Z=(V=(V=this.imulK(V)).iadd(this.tmp)).bitLength()}while(Z>this.n);var q=Z<this.n?-1:V.ucmp(this.p);return 0===q?(V.words[0]=0,V.length=1):q>0?V.isub(this.p):void 0!==V.strip?V.strip():V._strip(),V},A.prototype.split=function(j,Z){j.iushrn(this.n,0,Z)},A.prototype.imulK=function(j){return j.imul(this.k)},l(I,A),I.prototype.split=function(j,Z){for(var V=4194303,q=Math.min(j.length,9),G=0;G<q;G++)Z.words[G]=j.words[G];if(Z.length=q,j.length<=9)return j.words[0]=0,void(j.length=1);var H=j.words[9];for(Z.words[Z.length++]=H&V,G=10;G<j.length;G++){var ne=0|j.words[G];j.words[G-10]=(ne&V)<<4|H>>>22,H=ne}j.words[G-10]=H>>>=22,j.length-=0===H&&j.length>10?10:9},I.prototype.imulK=function(j){j.words[j.length]=0,j.words[j.length+1]=0,j.length+=2;for(var Z=0,V=0;V<j.length;V++){var q=0|j.words[V];j.words[V]=67108863&(Z+=977*q),Z=64*q+(Z/67108864|0)}return 0===j.words[j.length-1]&&(j.length--,0===j.words[j.length-1]&&j.length--),j},l(P,A),l(L,A),l(N,A),N.prototype.imulK=function(j){for(var Z=0,V=0;V<j.length;V++){var q=19*(0|j.words[V])+Z,G=67108863&q;q>>>=26,j.words[V]=G,Z=q}return 0!==Z&&(j.words[j.length++]=Z),j},s._prime=function(j){if(O[j])return O[j];var Z;if("k256"===j)Z=new I;else if("p224"===j)Z=new P;else if("p192"===j)Z=new L;else{if("p25519"!==j)throw new Error("Unknown prime "+j);Z=new N}return O[j]=Z,Z},B.prototype._verify1=function(j){o(0===j.negative,"red works only with positives"),o(j.red,"red works only with red numbers")},B.prototype._verify2=function(j,Z){o(0==(j.negative|Z.negative),"red works only with positives"),o(j.red&&j.red===Z.red,"red works only with red numbers")},B.prototype.imod=function(j){return this.prime?this.prime.ireduce(j)._forceRed(this):j.umod(this.m)._forceRed(this)},B.prototype.neg=function(j){return j.isZero()?j.clone():this.m.sub(j)._forceRed(this)},B.prototype.add=function(j,Z){this._verify2(j,Z);var V=j.add(Z);return V.cmp(this.m)>=0&&V.isub(this.m),V._forceRed(this)},B.prototype.iadd=function(j,Z){this._verify2(j,Z);var V=j.iadd(Z);return V.cmp(this.m)>=0&&V.isub(this.m),V},B.prototype.sub=function(j,Z){this._verify2(j,Z);var V=j.sub(Z);return V.cmpn(0)<0&&V.iadd(this.m),V._forceRed(this)},B.prototype.isub=function(j,Z){this._verify2(j,Z);var V=j.isub(Z);return V.cmpn(0)<0&&V.iadd(this.m),V},B.prototype.shl=function(j,Z){return this._verify1(j),this.imod(j.ushln(Z))},B.prototype.imul=function(j,Z){return this._verify2(j,Z),this.imod(j.imul(Z))},B.prototype.mul=function(j,Z){return this._verify2(j,Z),this.imod(j.mul(Z))},B.prototype.isqr=function(j){return this.imul(j,j.clone())},B.prototype.sqr=function(j){return this.mul(j,j)},B.prototype.sqrt=function(j){if(j.isZero())return j.clone();var Z=this.m.andln(3);if(o(Z%2==1),3===Z){var V=this.m.add(new s(1)).iushrn(2);return this.pow(j,V)}for(var q=this.m.subn(1),G=0;!q.isZero()&&0===q.andln(1);)G++,q.iushrn(1);o(!q.isZero());var H=new s(1).toRed(this),ne=H.redNeg(),X=this.m.subn(1).iushrn(1),$=this.m.bitLength();for($=new s(2*$*$).toRed(this);0!==this.pow($,X).cmp(ne);)$.redIAdd(ne);for(var Q=this.pow($,q),te=this.pow(j,q.addn(1).iushrn(1)),re=this.pow(j,q),le=G;0!==re.cmp(H);){for(var ue=re,he=0;0!==ue.cmp(H);he++)ue=ue.redSqr();o(he<le);var ge=this.pow(Q,new s(1).iushln(le-he-1));te=te.redMul(ge),Q=ge.redSqr(),re=re.redMul(Q),le=he}return te},B.prototype.invm=function(j){var Z=j._invmp(this.m);return 0!==Z.negative?(Z.negative=0,this.imod(Z).redNeg()):this.imod(Z)},B.prototype.pow=function(j,Z){if(Z.isZero())return new s(1).toRed(this);if(0===Z.cmpn(1))return j.clone();var V=new Array(16);V[0]=new s(1).toRed(this),V[1]=j;for(var q=2;q<V.length;q++)V[q]=this.mul(V[q-1],j);var G=V[0],H=0,ne=0,X=Z.bitLength()%26;for(0===X&&(X=26),q=Z.length-1;q>=0;q--){for(var $=Z.words[q],Q=X-1;Q>=0;Q--){var te=$>>Q&1;G!==V[0]&&(G=this.sqr(G)),0!==te||0!==H?(H<<=1,H|=te,(4==++ne||0===q&&0===Q)&&(G=this.mul(G,V[H]),ne=0,H=0)):ne=0}X=26}return G},B.prototype.convertTo=function(j){var Z=j.umod(this.m);return Z===j?Z.clone():Z},B.prototype.convertFrom=function(j){var Z=j.clone();return Z.red=null,Z},s.mont=function(j){return new W(j)},l(W,B),W.prototype.convertTo=function(j){return this.imod(j.ushln(this.shift))},W.prototype.convertFrom=function(j){var Z=this.imod(j.mul(this.rinv));return Z.red=null,Z},W.prototype.imul=function(j,Z){if(j.isZero()||Z.isZero())return j.words[0]=0,j.length=1,j;var V=j.imul(Z),q=V.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),G=V.isub(q).iushrn(this.shift),H=G;return G.cmp(this.m)>=0?H=G.isub(this.m):G.cmpn(0)<0&&(H=G.iadd(this.m)),H._forceRed(this)},W.prototype.mul=function(j,Z){if(j.isZero()||Z.isZero())return new s(0)._forceRed(this);var V=j.mul(Z),q=V.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),G=V.isub(q).iushrn(this.shift),H=G;return G.cmp(this.m)>=0?H=G.isub(this.m):G.cmpn(0)<0&&(H=G.iadd(this.m)),H._forceRed(this)},W.prototype.invm=function(j){return this.imod(j._invmp(this.m).mul(this.r2))._forceRed(this)}}(v=i.nmd(v),this)},2692:function(v){"use strict";v.exports=function(c){var i,u,a,o=c.length,l=0;for(i=0;i<o;++i)l+=c[i].length;var s=new Array(l),d=0;for(i=0;i<o;++i){var g=c[i],p=g.length;for(u=0;u<p;++u){var T=s[d++]=new Array(p-1),_=0;for(a=0;a<p;++a)a!==u&&(T[_++]=g[a]);if(1&u){var y=T[1];T[1]=T[0],T[0]=y}}}return s}},2569:function(v,c,i){"use strict";v.exports=function(y,w,m){switch(arguments.length){case 1:return T(y);case 2:return"function"==typeof w?g(y,y,w,!0):_(y,w);case 3:return g(y,w,m,!1);default:throw new Error("box-intersect: Invalid arguments")}};var u,a=i(5306),o=i(1390),l=i(2337);function s(y,w){for(var m=0;m<y;++m)if(!(w[m]<=w[m+y]))return!0;return!1}function d(y,w,m,b){for(var k=0,h=0,O=0,A=y.length;O<A;++O){var I=y[O];if(!s(w,I)){for(var P=0;P<2*w;++P)m[k++]=I[P];b[h++]=O}}return h}function g(y,w,m,b){var k=y.length,h=w.length;if(!(k<=0||h<=0)){var O=y[0].length>>>1;if(!(O<=0)){var A,I=a.mallocDouble(2*O*k),P=a.mallocInt32(k);if((k=d(y,O,I,P))>0){if(1===O&&b)o.init(k),A=o.sweepComplete(O,m,0,k,I,P,0,k,I,P);else{var L=a.mallocDouble(2*O*h),N=a.mallocInt32(h);(h=d(w,O,L,N))>0&&(o.init(k+h),A=1===O?o.sweepBipartite(O,m,0,k,I,P,0,h,L,N):l(O,m,b,k,I,P,h,L,N),a.free(L),a.free(N))}a.free(I),a.free(P)}return A}}}function p(y,w){u.push([y,w])}function T(y){return u=[],g(y,y,p,!0),u}function _(y,w){return u=[],g(y,w,p,!1),u}},7333:function(v,c){"use strict";function i(u){return u?function(a,o,l,s,d,g,p,T,_,y,w){return d-s>_-T?function(m,b,k,h,O,A,I,P,L,N,B){for(var W=2*m,j=h,Z=W*h;j<O;++j,Z+=W){var V=A[b+Z],q=A[b+Z+m],G=I[j];e:for(var H=P,ne=W*P;H<L;++H,ne+=W){var Q=B[H];if(!(N[b+ne+m]<V||q<N[b+ne])){for(var te=b+1;te<m;++te)if(A[te+m+Z]<N[te+ne]||N[te+m+ne]<A[te+Z])continue e;var ge=k(G,Q);if(void 0!==ge)return ge}}}}(a,o,l,s,d,g,p,T,_,y,w):function(m,b,k,h,O,A,I,P,L,N,B){for(var W=2*m,j=P,Z=W*P;j<L;++j,Z+=W){var V=N[b+Z],q=N[b+Z+m],G=B[j];e:for(var H=h,ne=W*h;H<O;++H,ne+=W){var Q=I[H];if(!(q<A[b+ne]||A[b+ne+m]<V)){for(var te=b+1;te<m;++te)if(A[te+m+ne]<N[te+Z]||N[te+m+Z]<A[te+ne])continue e;var ge=k(Q,G);if(void 0!==ge)return ge}}}}(a,o,l,s,d,g,p,T,_,y,w)}:function(a,o,l,s,d,g,p,T,_,y,w,m){return g-d>y-_?s?function(b,k,h,O,A,I,P,L,N,B,W){for(var j=2*b,Z=O,V=j*O;Z<A;++Z,V+=j){var q=I[k+V],G=I[k+V+b],H=P[Z];e:for(var ne=L,X=j*L;ne<N;++ne,X+=j){var $=B[k+X],Q=W[ne];if(!($<=q||G<$)){for(var te=k+1;te<b;++te)if(I[te+b+V]<B[te+X]||B[te+b+X]<I[te+V])continue e;var ge=h(Q,H);if(void 0!==ge)return ge}}}}(a,o,l,d,g,p,T,_,y,w,m):function(b,k,h,O,A,I,P,L,N,B,W){for(var j=2*b,Z=O,V=j*O;Z<A;++Z,V+=j){var q=I[k+V],G=I[k+V+b],H=P[Z];e:for(var ne=L,X=j*L;ne<N;++ne,X+=j){var $=B[k+X],Q=W[ne];if(!($<q||G<$)){for(var te=k+1;te<b;++te)if(I[te+b+V]<B[te+X]||B[te+b+X]<I[te+V])continue e;var ge=h(H,Q);if(void 0!==ge)return ge}}}}(a,o,l,d,g,p,T,_,y,w,m):s?function(b,k,h,O,A,I,P,L,N,B,W){for(var j=2*b,Z=L,V=j*L;Z<N;++Z,V+=j){var q=B[k+V],G=W[Z];e:for(var H=O,ne=j*O;H<A;++H,ne+=j){var Q=P[H];if(!(q<=I[k+ne]||I[k+ne+b]<q)){for(var te=k+1;te<b;++te)if(I[te+b+ne]<B[te+V]||B[te+b+V]<I[te+ne])continue e;var ge=h(G,Q);if(void 0!==ge)return ge}}}}(a,o,l,d,g,p,T,_,y,w,m):function(b,k,h,O,A,I,P,L,N,B,W){for(var j=2*b,Z=L,V=j*L;Z<N;++Z,V+=j){var q=B[k+V],G=W[Z];e:for(var H=O,ne=j*O;H<A;++H,ne+=j){var Q=P[H];if(!(q<I[k+ne]||I[k+ne+b]<q)){for(var te=k+1;te<b;++te)if(I[te+b+ne]<B[te+V]||B[te+b+V]<I[te+ne])continue e;var ge=h(Q,G);if(void 0!==ge)return ge}}}}(a,o,l,d,g,p,T,_,y,w,m)}}c.partial=i(!1),c.full=i(!0)},2337:function(v,c,i){"use strict";v.exports=function(P,L,N,B,W,j,Z,V,q){!function(Ue,Be){var Ve=8*a.log2(Be+1)*(Ue+1)|0,ve=a.nextPow2(6*Ve);k.length<ve&&(u.free(k),k=u.mallocInt32(ve));var Te=a.nextPow2(2*Ve);h.length<Te&&(u.free(h),h=u.mallocDouble(Te))}(P,B+Z);var G,H=0,ne=2*P;for(O(H++,0,0,B,0,Z,N?16:0,-1/0,1/0),N||O(H++,0,0,Z,0,B,1,-1/0,1/0);H>0;){var X=6*(H-=1),$=k[X],Q=k[X+1],te=k[X+2],re=k[X+3],le=k[X+4],ue=k[X+5],he=2*H,ge=h[he],xe=h[he+1],ke=1&ue,Ae=!!(16&ue),pe=W,ye=j,Ne=V,be=q;if(ke&&(pe=V,ye=q,Ne=W,be=j),!(2&ue&&(te=y(P,$,Q,te,pe,ye,xe),Q>=te)||4&ue&&(Q=w(P,$,Q,te,pe,ye,ge))>=te)){var Ee=te-Q,Oe=le-re;if(Ae){if(P*Ee*(Ee+Oe)<4194304){if(void 0!==(G=d.scanComplete(P,$,L,Q,te,pe,ye,re,le,Ne,be)))return G;continue}}else{if(P*Math.min(Ee,Oe)<128){if(void 0!==(G=l(P,$,L,ke,Q,te,pe,ye,re,le,Ne,be)))return G;continue}if(P*Ee*Oe<4194304){if(void 0!==(G=d.scanBipartite(P,$,L,ke,Q,te,pe,ye,re,le,Ne,be)))return G;continue}}var De=T(P,$,Q,te,pe,ye,ge,xe);if(Q<De)if(P*(De-Q)<128){if(void 0!==(G=s(P,$+1,L,Q,De,pe,ye,re,le,Ne,be)))return G}else if($===P-2){if(void 0!==(G=ke?d.sweepBipartite(P,L,re,le,Ne,be,Q,De,pe,ye):d.sweepBipartite(P,L,Q,De,pe,ye,re,le,Ne,be)))return G}else O(H++,$+1,Q,De,re,le,ke,-1/0,1/0),O(H++,$+1,re,le,Q,De,1^ke,-1/0,1/0);if(De<te){var oe=g(P,$,re,le,Ne,be),de=Ne[ne*oe+$],_e=_(P,$,oe,le,Ne,be,de);if(_e<le&&O(H++,$,De,te,_e,le,(4|ke)+(Ae?16:0),de,xe),re<oe&&O(H++,$,De,te,re,oe,(2|ke)+(Ae?16:0),ge,de),oe+1===_e){if(void 0!==(G=Ae?I(P,$,L,De,te,pe,ye,oe,Ne,be[oe]):A(P,$,L,ke,De,te,pe,ye,oe,Ne,be[oe])))return G}else if(oe<_e){var Me;if(Ae){if(De<(Me=m(P,$,De,te,pe,ye,de))){var Pe=_(P,$,De,Me,pe,ye,de);if($===P-2){if(De<Pe&&void 0!==(G=d.sweepComplete(P,L,De,Pe,pe,ye,oe,_e,Ne,be))||Pe<Me&&void 0!==(G=d.sweepBipartite(P,L,Pe,Me,pe,ye,oe,_e,Ne,be)))return G}else De<Pe&&O(H++,$+1,De,Pe,oe,_e,16,-1/0,1/0),Pe<Me&&(O(H++,$+1,Pe,Me,oe,_e,0,-1/0,1/0),O(H++,$+1,oe,_e,Pe,Me,1,-1/0,1/0))}}else De<(Me=ke?b(P,$,De,te,pe,ye,de):m(P,$,De,te,pe,ye,de))&&($===P-2?G=ke?d.sweepBipartite(P,L,oe,_e,Ne,be,De,Me,pe,ye):d.sweepBipartite(P,L,De,Me,pe,ye,oe,_e,Ne,be):(O(H++,$+1,De,Me,oe,_e,ke,-1/0,1/0),O(H++,$+1,oe,_e,De,Me,1^ke,-1/0,1/0)))}}}}};var u=i(5306),a=i(2288),o=i(7333),l=o.partial,s=o.full,d=i(1390),g=i(2464),p=i(122),T=p("!(lo>=p0)&&!(p1>=hi)"),_=p("lo===p0"),y=p("lo<p0"),w=p("hi<=p0"),m=p("lo<=p0&&p0<=hi"),b=p("lo<p0&&p0<=hi"),k=u.mallocInt32(1024),h=u.mallocDouble(1024);function O(P,L,N,B,W,j,Z,V,q){var G=6*P;k[G]=L,k[G+1]=N,k[G+2]=B,k[G+3]=W,k[G+4]=j,k[G+5]=Z;var H=2*P;h[H]=V,h[H+1]=q}function A(P,L,N,B,W,j,Z,V,q,G,H){var ne=2*P,X=q*ne,$=G[X+L];e:for(var Q=W,te=W*ne;Q<j;++Q,te+=ne){var re=Z[te+L],le=Z[te+L+P];if(!($<re||le<$||B&&$===re)){for(var ue,he=V[Q],ge=L+1;ge<P;++ge)if(re=Z[te+ge],(le=Z[te+ge+P])<G[X+ge]||G[X+ge+P]<re)continue e;if(void 0!==(ue=B?N(H,he):N(he,H)))return ue}}}function I(P,L,N,B,W,j,Z,V,q,G){var H=2*P,ne=V*H,X=q[ne+L];e:for(var $=B,Q=B*H;$<W;++$,Q+=H){var te=Z[$];if(te!==G){var re=j[Q+L],le=j[Q+L+P];if(!(X<re||le<X)){for(var ue=L+1;ue<P;++ue)if(re=j[Q+ue],(le=j[Q+ue+P])<q[ne+ue]||q[ne+ue+P]<re)continue e;var xe=N(te,G);if(void 0!==xe)return xe}}}}},2464:function(v,c,i){"use strict";v.exports=function(o,l,s,d,g,p){if(d<=s+1)return s;for(var T=s,_=d,y=d+s>>>1,w=2*o,m=y,b=g[w*y+l];T<_;){if(_-T<8){a(o,l,T,_,g,p),b=g[w*y+l];break}var k=_-T,h=Math.random()*k+T|0,O=g[w*h+l],A=Math.random()*k+T|0,I=g[w*A+l],P=Math.random()*k+T|0,L=g[w*P+l];O<=I?L>=I?(m=A,b=I):O>=L?(m=h,b=O):(m=P,b=L):I>=L?(m=A,b=I):L>=O?(m=h,b=O):(m=P,b=L);for(var N=w*(_-1),B=w*m,W=0;W<w;++W,++N,++B){var j=g[N];g[N]=g[B],g[B]=j}var Z=p[_-1];for(p[_-1]=p[m],p[m]=Z,N=w*(_-1),B=w*(m=u(o,l,T,_-1,g,p,b)),W=0;W<w;++W,++N,++B)j=g[N],g[N]=g[B],g[B]=j;if(Z=p[_-1],p[_-1]=p[m],p[m]=Z,y<m){for(_=m-1;T<_&&g[w*(_-1)+l]===b;)_-=1;_+=1}else{if(!(m<y))break;for(T=m+1;T<_&&g[w*T+l]===b;)T+=1}}return u(o,l,s,y,g,p,g[w*y+l])};var u=i(122)("lo<p0");function a(o,l,s,d,g,p){for(var T=2*o,_=T*(s+1)+l,y=s+1;y<d;++y,_+=T)for(var w=g[_],m=y,b=T*(y-1);m>s&&g[b+l]>w;--m,b-=T){for(var k=b,h=b+T,O=0;O<T;++O,++k,++h){var A=g[k];g[k]=g[h],g[h]=A}var I=p[m];p[m]=p[m-1],p[m-1]=I}}},122:function(v){"use strict";v.exports=function(i){return c[i]};var c={"lo===p0":function(i,u,a,o,l,s,d){for(var g=2*i,p=g*a,T=p,_=a,y=u,w=a;o>w;++w,p+=g)if(l[p+y]===d)if(_===w)_+=1,T+=g;else{for(var m=0;g>m;++m){var b=l[p+m];l[p+m]=l[T],l[T++]=b}var k=s[w];s[w]=s[_],s[_++]=k}return _},"lo<p0":function(i,u,a,o,l,s,d){for(var g=2*i,p=g*a,T=p,_=a,y=u,w=a;o>w;++w,p+=g)if(l[p+y]<d)if(_===w)_+=1,T+=g;else{for(var m=0;g>m;++m){var b=l[p+m];l[p+m]=l[T],l[T++]=b}var k=s[w];s[w]=s[_],s[_++]=k}return _},"lo<=p0":function(i,u,a,o,l,s,d){for(var g=2*i,p=g*a,T=p,_=a,y=i+u,w=a;o>w;++w,p+=g)if(l[p+y]<=d)if(_===w)_+=1,T+=g;else{for(var m=0;g>m;++m){var b=l[p+m];l[p+m]=l[T],l[T++]=b}var k=s[w];s[w]=s[_],s[_++]=k}return _},"hi<=p0":function(i,u,a,o,l,s,d){for(var g=2*i,p=g*a,T=p,_=a,y=i+u,w=a;o>w;++w,p+=g)if(l[p+y]<=d)if(_===w)_+=1,T+=g;else{for(var m=0;g>m;++m){var b=l[p+m];l[p+m]=l[T],l[T++]=b}var k=s[w];s[w]=s[_],s[_++]=k}return _},"lo<p0&&p0<=hi":function(i,u,a,o,l,s,d){for(var g=2*i,p=g*a,T=p,_=a,y=u,w=i+u,m=a;o>m;++m,p+=g)if(l[p+y]<d&&d<=l[p+w])if(_===m)_+=1,T+=g;else{for(var h=0;g>h;++h){var O=l[p+h];l[p+h]=l[T],l[T++]=O}var A=s[m];s[m]=s[_],s[_++]=A}return _},"lo<=p0&&p0<=hi":function(i,u,a,o,l,s,d){for(var g=2*i,p=g*a,T=p,_=a,y=u,w=i+u,m=a;o>m;++m,p+=g)if(l[p+y]<=d&&d<=l[p+w])if(_===m)_+=1,T+=g;else{for(var h=0;g>h;++h){var O=l[p+h];l[p+h]=l[T],l[T++]=O}var A=s[m];s[m]=s[_],s[_++]=A}return _},"!(lo>=p0)&&!(p1>=hi)":function(i,u,a,o,l,s,d,g){for(var p=2*i,T=p*a,_=T,y=a,w=u,m=i+u,b=a;o>b;++b,T+=p)if(!(l[T+w]>=d||g>=l[T+m]))if(y===b)y+=1,_+=p;else{for(var O=0;p>O;++O){var A=l[T+O];l[T+O]=l[_],l[_++]=A}var I=s[b];s[b]=s[y],s[y++]=I}return y}}},309:function(v){"use strict";function c(g,p,T){for(var _=2*(g+1),y=g+1;y<=p;++y){for(var w=T[_++],m=T[_++],b=y,k=_-2;b-- >g;){var h=T[k-2],O=T[k-1];if(h<w||h===w&&O<m)break;T[k]=h,T[k+1]=O,k-=2}T[k]=w,T[k+1]=m}}function i(g,p,T){var _=T[g*=2],y=T[g+1];T[g]=T[p*=2],T[g+1]=T[p+1],T[p]=_,T[p+1]=y}function u(g,p,T){T[g*=2]=T[p*=2],T[g+1]=T[p+1]}function a(g,p,T,_){T*=2;var y=_[g*=2],w=_[g+1];_[g]=_[p*=2],_[g+1]=_[p+1],_[p]=_[T],_[p+1]=_[T+1],_[T]=y,_[T+1]=w}function o(g,p,T,_,y){y[g*=2]=y[p*=2],y[p]=T,y[g+1]=y[p+1],y[p+1]=_}function l(g,p,T){var _=T[g*=2],y=T[p*=2];return!(_<y)&&(_!==y||T[g+1]>T[p+1])}function s(g,p,T,_){var y=_[g*=2];return y<p||y===p&&_[g+1]<T}function d(g,p,T){var _=(p-g+1)/6|0,y=g+_,w=p-_,m=g+p>>1,b=m-_,k=m+_,h=y,O=b,A=m,I=k,P=w,L=g+1,N=p-1,B=0;l(h,O,T)&&(B=h,h=O,O=B),l(I,P,T)&&(B=I,I=P,P=B),l(h,A,T)&&(B=h,h=A,A=B),l(O,A,T)&&(B=O,O=A,A=B),l(h,I,T)&&(B=h,h=I,I=B),l(A,I,T)&&(B=A,A=I,I=B),l(O,P,T)&&(B=O,O=P,P=B),l(O,A,T)&&(B=O,O=A,A=B),l(I,P,T)&&(B=I,I=P,P=B);for(var W=T[2*O],j=T[2*O+1],Z=T[2*I],V=T[2*I+1],q=2*h,G=2*A,H=2*P,ne=2*y,X=2*m,$=2*w,Q=0;Q<2;++Q){var re=T[G+Q],le=T[H+Q];T[ne+Q]=T[q+Q],T[X+Q]=re,T[$+Q]=le}u(b,g,T),u(k,p,T);for(var ue=L;ue<=N;++ue)if(s(ue,W,j,T))ue!==L&&i(ue,L,T),++L;else if(!s(ue,Z,V,T))for(;;){if(s(N,Z,V,T)){s(N,W,j,T)?(a(ue,L,N,T),++L,--N):(i(ue,N,T),--N);break}if(--N<ue)break}o(g,L-1,W,j,T),o(p,N+1,Z,V,T),L-2-g<=32?c(g,L-2,T):d(g,L-2,T),p-(N+2)<=32?c(N+2,p,T):d(N+2,p,T),N-L<=32?c(L,N,T):d(L,N,T)}v.exports=function(g,p){p<=128?c(0,p-1,g):d(0,p-1,g)}},1390:function(v,c,i){"use strict";v.exports={init:function(k){var h=a.nextPow2(k);d.length<h&&(u.free(d),d=u.mallocInt32(h)),g.length<h&&(u.free(g),g=u.mallocInt32(h)),p.length<h&&(u.free(p),p=u.mallocInt32(h)),T.length<h&&(u.free(T),T=u.mallocInt32(h)),_.length<h&&(u.free(_),_=u.mallocInt32(h)),y.length<h&&(u.free(y),y=u.mallocInt32(h));var O=8*h;w.length<O&&(u.free(w),w=u.mallocDouble(O))},sweepBipartite:function(k,h,O,A,I,P,L,N,B,W){for(var j=0,Z=2*k,V=k-1,q=Z-1,G=O;G<A;++G){var H=P[G],ne=Z*G;w[j++]=I[ne+V],w[j++]=-(H+1),w[j++]=I[ne+q],w[j++]=H}for(G=L;G<N;++G){H=W[G]+l;var X=Z*G;w[j++]=B[X+V],w[j++]=-H,w[j++]=B[X+q],w[j++]=H}var $=j>>>1;o(w,$);var Q=0,te=0;for(G=0;G<$;++G){var re=0|w[2*G+1];if(re>=l)m(p,T,te--,re=re-l|0);else if(re>=0)m(d,g,Q--,re);else if(re<=-268435456){re=-re-l|0;for(var le=0;le<Q;++le)if(void 0!==(ue=h(d[le],re)))return ue;b(p,T,te++,re)}else{for(re=-re-1|0,le=0;le<te;++le){var ue;if(void 0!==(ue=h(re,p[le])))return ue}b(d,g,Q++,re)}}},sweepComplete:function(k,h,O,A,I,P,L,N,B,W){for(var j=0,Z=2*k,V=k-1,q=Z-1,G=O;G<A;++G){var H=P[G]+1<<1,ne=Z*G;w[j++]=I[ne+V],w[j++]=-H,w[j++]=I[ne+q],w[j++]=H}for(G=L;G<N;++G){H=W[G]+1<<1;var X=Z*G;w[j++]=B[X+V],w[j++]=1|-H,w[j++]=B[X+q],w[j++]=1|H}var $=j>>>1;o(w,$);var Q=0,te=0,re=0;for(G=0;G<$;++G){var le=0|w[2*G+1],ue=1&le;if(G<$-1&&le>>1==w[2*G+3]>>1&&(ue=2,G+=1),le<0){for(var he=-(le>>1)-1,ge=0;ge<re;++ge)if(void 0!==(xe=h(_[ge],he)))return xe;if(0!==ue)for(ge=0;ge<Q;++ge)if(void 0!==(xe=h(d[ge],he)))return xe;if(1!==ue)for(ge=0;ge<te;++ge){var xe;if(void 0!==(xe=h(p[ge],he)))return xe}0===ue?b(d,g,Q++,he):1===ue?b(p,T,te++,he):2===ue&&b(_,y,re++,he)}else he=(le>>1)-1,0===ue?m(d,g,Q--,he):1===ue?m(p,T,te--,he):2===ue&&m(_,y,re--,he)}},scanBipartite:function(k,h,O,A,I,P,L,N,B,W,j,Z){var V=0,q=2*k,G=h,H=h+k,ne=1,X=1;A?X=l:ne=l;for(var $=I;$<P;++$){var Q=$+ne,te=q*$;w[V++]=L[te+G],w[V++]=-Q,w[V++]=L[te+H],w[V++]=Q}for($=B;$<W;++$)Q=$+X,w[V++]=j[q*$+G],w[V++]=-Q;var le=V>>>1;o(w,le);var ue=0;for($=0;$<le;++$){var he=0|w[2*$+1];if(he<0){var ge=!1;if((Q=-he)>=l?(ge=!A,Q-=l):(ge=!!A,Q-=1),ge)b(d,g,ue++,Q);else{var xe=Z[Q],ke=q*Q,Ae=j[ke+h+1],pe=j[ke+h+1+k];e:for(var ye=0;ye<ue;++ye){var Ne=d[ye],be=q*Ne;if(!(pe<L[be+h+1]||L[be+h+1+k]<Ae)){for(var Ee=h+2;Ee<k;++Ee)if(j[ke+Ee+k]<L[be+Ee]||L[be+Ee+k]<j[ke+Ee])continue e;var Oe,De=N[Ne];if(void 0!==(Oe=A?O(xe,De):O(De,xe)))return Oe}}}}else m(d,g,ue--,he-ne)}},scanComplete:function(k,h,O,A,I,P,L,N,B,W,j){for(var Z=0,V=2*k,q=h,G=h+k,H=A;H<I;++H){var ne=H+l,X=V*H;w[Z++]=P[X+q],w[Z++]=-ne,w[Z++]=P[X+G],w[Z++]=ne}for(H=N;H<B;++H)ne=H+1,w[Z++]=W[V*H+q],w[Z++]=-ne;var Q=Z>>>1;o(w,Q);var te=0;for(H=0;H<Q;++H){var re=0|w[2*H+1];if(re<0)if((ne=-re)>=l)d[te++]=ne-l;else{var le=j[ne-=1],ue=V*ne,he=W[ue+h+1],ge=W[ue+h+1+k];e:for(var xe=0;xe<te;++xe){var ke=d[xe],Ae=L[ke];if(Ae===le)break;var pe=V*ke;if(!(ge<P[pe+h+1]||P[pe+h+1+k]<he)){for(var ye=h+2;ye<k;++ye)if(W[ue+ye+k]<P[pe+ye]||P[pe+ye+k]<W[ue+ye])continue e;var Ne=O(Ae,le);if(void 0!==Ne)return Ne}}}else{for(ne=re-l,xe=te-1;xe>=0;--xe)if(d[xe]===ne){for(ye=xe+1;ye<te;++ye)d[ye-1]=d[ye];break}--te}}}};var u=i(5306),a=i(2288),o=i(309),l=1<<28,s=1024,d=u.mallocInt32(s),g=u.mallocInt32(s),p=u.mallocInt32(s),T=u.mallocInt32(s),_=u.mallocInt32(s),y=u.mallocInt32(s),w=u.mallocDouble(8192);function m(k,h,O,A){var I=h[A],P=k[O-1];k[I]=P,h[P]=I}function b(k,h,O,A){k[O]=A,h[A]=O}},7761:function(v,c,i){"use strict";var u=i(9971),a=i(743),o=i(2161),l=i(7098);function s(p){return[Math.min(p[0],p[1]),Math.max(p[0],p[1])]}function d(p,T){return p[0]-T[0]||p[1]-T[1]}function g(p,T,_){return T in p?p[T]:_}v.exports=function(p,T,_){Array.isArray(T)?(_=_||{},T=T||[]):(_=T||{},T=[]);var y=!!g(_,"delaunay",!0),w=!!g(_,"interior",!0),m=!!g(_,"exterior",!0),b=!!g(_,"infinity",!1);if(!w&&!m||0===p.length)return[];var k=u(p,T);if(y||w!==m||b){for(var h=a(p.length,T.map(s).sort(d)),O=0;O<k.length;++O){var A=k[O];h.addTriangle(A[0],A[1],A[2])}return y&&o(p,h),m?w?b?l(h,0,b):h.cells():l(h,1,b):l(h,-1)}return k}},2161:function(v,c,i){"use strict";var u=i(2227)[4];function a(o,l,s,d,g,p){var T=l.opposite(d,g);if(!(T<0)){if(g<d){var _=d;d=g,g=_,_=p,p=T,T=_}l.isConstraint(d,g)||u(o[d],o[g],o[p],o[T])<0&&s.push(d,g)}}i(5070),v.exports=function(o,l){for(var s=[],d=o.length,g=l.stars,p=0;p<d;++p)for(var T=g[p],_=1;_<T.length;_+=2)if(!((b=T[_])<p||l.isConstraint(p,b))){for(var y=T[_-1],w=-1,m=1;m<T.length;m+=2)if(T[m-1]===b){w=T[m];break}w<0||u(o[p],o[b],o[y],o[w])<0&&s.push(p,b)}for(;s.length>0;){for(var b=s.pop(),k=(y=-1,w=-1,T=g[p=s.pop()],1);k<T.length;k+=2){var h=T[k-1],O=T[k];h===b?w=O:O===b&&(y=h)}y<0||w<0||u(o[p],o[b],o[y],o[w])>=0||(l.flip(p,b),a(o,l,s,y,p,w),a(o,l,s,p,w,y),a(o,l,s,w,b,y),a(o,l,s,b,y,w))}}},7098:function(v,c,i){"use strict";var u,a=i(5070);function o(s,d,g,p,T,_,y){this.cells=s,this.neighbor=d,this.flags=p,this.constraint=g,this.active=T,this.next=_,this.boundary=y}function l(s,d){return s[0]-d[0]||s[1]-d[1]||s[2]-d[2]}v.exports=function(s,d,g){var p=function(L,N){for(var B=L.cells(),W=B.length,j=0;j<W;++j){var Z=(re=B[j])[0],V=re[1],q=re[2];V<q?V<Z&&(re[0]=V,re[1]=q,re[2]=Z):q<Z&&(re[0]=q,re[1]=Z,re[2]=V)}B.sort(l);var G=new Array(W);for(j=0;j<G.length;++j)G[j]=0;var H=[],ne=[],X=new Array(3*W),$=new Array(3*W),Q=null;N&&(Q=[]);var te=new o(B,X,$,G,H,ne,Q);for(j=0;j<W;++j)for(var re=B[j],le=0;le<3;++le){var ue=X[3*j+le]=te.locate(V=re[(le+1)%3],Z=re[le],L.opposite(V,Z)),he=$[3*j+le]=L.isConstraint(Z,V);ue<0&&(he?ne.push(j):(H.push(j),G[j]=1),N&&Q.push([V,Z,-1]))}return te}(s,g);if(0===d)return g?p.cells.concat(p.boundary):p.cells;for(var T=1,_=p.active,y=p.next,w=p.flags,m=p.cells,b=p.constraint,k=p.neighbor;_.length>0||y.length>0;){for(;_.length>0;){var h=_.pop();if(w[h]!==-T){w[h]=T;for(var O=0;O<3;++O){var A=k[3*h+O];A>=0&&0===w[A]&&(b[3*h+O]?y.push(A):(_.push(A),w[A]=T))}}}var I=y;y=_,_=I,y.length=0,T=-T}var P=function(L,N,B){for(var W=0,j=0;j<L.length;++j)N[j]===B&&(L[W++]=L[j]);return L.length=W,L}(m,w,d);return g?P.concat(p.boundary):P},o.prototype.locate=(u=[0,0,0],function(s,d,g){var p=s,T=d,_=g;return d<g?d<s&&(p=d,T=g,_=s):g<s&&(p=g,T=s,_=d),p<0?-1:(u[0]=p,u[1]=T,u[2]=_,a.eq(this.cells,u,l))})},9971:function(v,c,i){"use strict";var u=i(5070),a=i(417)[3];function o(y,w,m,b,k){this.a=y,this.b=w,this.idx=m,this.lowerIds=b,this.upperIds=k}function l(y,w,m,b){this.a=y,this.b=w,this.type=m,this.idx=b}function s(y,w){var m=y.a[0]-w.a[0]||y.a[1]-w.a[1]||y.type-w.type;return m||(0!==y.type&&(m=a(y.a,y.b,w.b))?m:y.idx-w.idx)}function d(y,w){return a(y.a,y.b,w)}function g(y,w,m,b,k){for(var h=u.lt(w,b,d),O=u.gt(w,b,d),A=h;A<O;++A){for(var I=w[A],P=I.lowerIds,L=P.length;L>1&&a(m[P[L-2]],m[P[L-1]],b)>0;)y.push([P[L-1],P[L-2],k]),L-=1;P.length=L,P.push(k);var N=I.upperIds;for(L=N.length;L>1&&a(m[N[L-2]],m[N[L-1]],b)<0;)y.push([N[L-2],N[L-1],k]),L-=1;N.length=L,N.push(k)}}function p(y,w){var m;return(m=y.a[0]<w.a[0]?a(y.a,y.b,w.a):a(w.b,w.a,y.a))?m:(m=w.b[0]<y.b[0]?a(y.a,y.b,w.b):a(w.b,w.a,y.b))||y.idx-w.idx}function T(y,w,m){var b=u.le(y,m,p),k=y[b],h=k.upperIds,O=h[h.length-1];k.upperIds=[O],y.splice(b+1,0,new o(m.a,m.b,m.idx,[O],h))}function _(y,w,m){var b=m.a;m.a=m.b,m.b=b;var k=u.eq(y,m,p);y[k-1].upperIds=y[k].upperIds,y.splice(k,1)}v.exports=function(y,w){for(var m=y.length,b=w.length,k=[],h=0;h<m;++h)k.push(new l(y[h],null,0,h));for(h=0;h<b;++h){var O=w[h],A=y[O[0]],I=y[O[1]];A[0]<I[0]?k.push(new l(A,I,2,h),new l(I,A,1,h)):A[0]>I[0]&&k.push(new l(I,A,2,h),new l(A,I,1,h))}k.sort(s);for(var P=k[0].a[0]-(1+Math.abs(k[0].a[0]))*Math.pow(2,-52),L=[new o([P,1],[P,0],-1,[],[],[],[])],N=[],B=(h=0,k.length);h<B;++h){var W=k[h],j=W.type;0===j?g(N,L,y,W.a,W.idx):2===j?T(L,0,W):_(L,0,W)}return N}},743:function(v,c,i){"use strict";var u=i(5070);function a(s,d){this.stars=s,this.edges=d}v.exports=function(s,d){for(var g=new Array(s),p=0;p<s;++p)g[p]=[];return new a(g,d)};var o=a.prototype;function l(s,d,g){for(var p=1,T=s.length;p<T;p+=2)if(s[p-1]===d&&s[p]===g)return s[p-1]=s[T-2],s[p]=s[T-1],void(s.length=T-2)}o.isConstraint=function(){var s=[0,0];function d(g,p){return g[0]-p[0]||g[1]-p[1]}return function(g,p){return s[0]=Math.min(g,p),s[1]=Math.max(g,p),u.eq(this.edges,s,d)>=0}}(),o.removeTriangle=function(s,d,g){var p=this.stars;l(p[s],d,g),l(p[d],g,s),l(p[g],s,d)},o.addTriangle=function(s,d,g){var p=this.stars;p[s].push(d,g),p[d].push(g,s),p[g].push(s,d)},o.opposite=function(s,d){for(var g=this.stars[d],p=1,T=g.length;p<T;p+=2)if(g[p]===s)return g[p-1];return-1},o.flip=function(s,d){var g=this.opposite(s,d),p=this.opposite(d,s);this.removeTriangle(s,d,g),this.removeTriangle(d,s,p),this.addTriangle(s,p,g),this.addTriangle(d,g,p)},o.edges=function(){for(var s=this.stars,d=[],g=0,p=s.length;g<p;++g)for(var T=s[g],_=0,y=T.length;_<y;_+=2)d.push([T[_],T[_+1]]);return d},o.cells=function(){for(var s=this.stars,d=[],g=0,p=s.length;g<p;++g)for(var T=s[g],_=0,y=T.length;_<y;_+=2){var w=T[_],m=T[_+1];g<Math.min(w,m)&&d.push([g,w,m])}return d}},9887:function(v){"use strict";v.exports=function(c){for(var i=1,u=1;u<c.length;++u)for(var a=0;a<u;++a)if(c[u]<c[a])i=-i;else if(c[a]===c[u])return 0;return i}},9243:function(v,c,i){"use strict";var u=i(3094),a=i(6606);function o(d,g){for(var p=0,T=d.length,_=0;_<T;++_)p+=d[_]*g[_];return p}function l(d){var g=d.length;if(0===g)return[];var p=u([d.length+1,d.length+1],1),T=u([d.length+1],1);p[g][g]=0;for(var _=0;_<g;++_){for(var y=0;y<=_;++y)p[y][_]=p[_][y]=2*o(d[_],d[y]);T[_]=o(d[_],d[_])}var w=a(p,T),m=0,b=w[g+1];for(_=0;_<b.length;++_)m+=b[_];var k=new Array(g);for(_=0;_<g;++_){b=w[_];var h=0;for(y=0;y<b.length;++y)h+=b[y];k[_]=h/m}return k}function s(d){if(0===d.length)return[];for(var g=d[0].length,p=u([g]),T=l(d),_=0;_<d.length;++_)for(var y=0;y<g;++y)p[y]+=d[_][y]*T[_];return p}s.barycenetric=l,v.exports=s},1778:function(v,c,i){v.exports=function(a){for(var o=u(a),l=0,s=0;s<a.length;++s)for(var d=a[s],g=0;g<o.length;++g)l+=Math.pow(d[g]-o[g],2);return Math.sqrt(l/a.length)};var u=i(9243)},197:function(v,c,i){"use strict";v.exports=function(O,A,I){var P,j,V,q;if(I){P=A;for(var L=new Array(A.length),N=0;N<A.length;++N){var B=A[N];L[N]=[B[0],B[1],I[N]]}A=L}for(var W=(V=!!I,void 0,k(A,q=w(j=O,[],y(j)),V),!!q);h(O,A,!!I);)W=!0;if(I&&W)for(P.length=0,I.length=0,N=0;N<A.length;++N)P.push([(B=A[N])[0],B[1]]),I.push(B[2]);return W};var u=i(1731),a=i(2569),o=i(4434),l=i(5125),s=i(8846),d=i(7999),g=i(2826),p=i(8551),T=i(5528);function _(O){var A=d(O);return[p(A,-1/0),p(A,1/0)]}function y(O){for(var A=new Array(O.length),I=0;I<O.length;++I){var P=O[I];A[I]=[p(P[0],-1/0),p(P[1],-1/0),p(P[0],1/0),p(P[1],1/0)]}return A}function w(O,A,I){for(var P=A.length,L=new u(P),N=[],B=0;B<A.length;++B){var W=A[B],j=_(W[0]),Z=_(W[1]);N.push([p(j[0],-1/0),p(Z[0],-1/0),p(j[1],1/0),p(Z[1],1/0)])}a(N,function(ne,X){L.link(ne,X)});var V=!0,q=new Array(P);for(B=0;B<P;++B)(H=L.find(B))!==B&&(V=!1,O[H]=[Math.min(O[B][0],O[H][0]),Math.min(O[B][1],O[H][1])]);if(V)return null;var G=0;for(B=0;B<P;++B){var H;(H=L.find(B))===B?(q[B]=G,O[G++]=O[B]):q[B]=-1}for(O.length=G,B=0;B<P;++B)q[B]<0&&(q[B]=q[L.find(B)]);return q}function m(O,A){return O[0]-A[0]||O[1]-A[1]}function b(O,A){return O[0]-A[0]||O[1]-A[1]||(O[2]<A[2]?-1:O[2]>A[2]?1:0)}function k(O,A,I){if(0!==O.length){if(A)for(var P=0;P<O.length;++P){var L=A[(B=O[P])[0]],N=A[B[1]];B[0]=Math.min(L,N),B[1]=Math.max(L,N)}else for(P=0;P<O.length;++P){var B;L=(B=O[P])[0],N=B[1],B[0]=Math.min(L,N),B[1]=Math.max(L,N)}O.sort(I?b:m);var W=1;for(P=1;P<O.length;++P){var j=O[P-1],Z=O[P];(Z[0]!==j[0]||Z[1]!==j[1]||I&&Z[2]!==j[2])&&(O[W++]=Z)}O.length=W}}function h(O,A,I){var j,Z,q,P=function(j,Z){for(var V=new Array(Z.length),q=0;q<Z.length;++q){var G=Z[q],H=j[G[0]],ne=j[G[1]];V[q]=[p(Math.min(H[0],ne[0]),-1/0),p(Math.min(H[1],ne[1]),-1/0),p(Math.max(H[0],ne[0]),1/0),p(Math.max(H[1],ne[1]),1/0)]}return V}(O,A),L=(j=O,Z=A,q=[],a(P,function(G,H){var ne=Z[G],X=Z[H];ne[0]!==X[0]&&ne[0]!==X[1]&&ne[1]!==X[0]&&ne[1]!==X[1]&&o(j[ne[0]],j[ne[1]],j[X[0]],j[X[1]])&&q.push([G,H])}),q),N=function(j,Z,V,q){var G=[];return a(V,q,function(H,ne){var X=Z[H];if(X[0]!==ne&&X[1]!==ne){var $=j[ne];o(j[X[0]],j[X[1]],$,$)&&G.push([H,ne])}}),G}(O,A,P,y(O)),B=function(j,Z,V,q,G){var H,ne,X=j.map(function(Oe){return[l(Oe[0]),l(Oe[1])]});for(H=0;H<V.length;++H){var $=V[H],Q=$[1],te=Z[ne=$[0]],re=Z[Q],le=T(g(j[te[0]]),g(j[te[1]]),g(j[re[0]]),g(j[re[1]]));if(le){var ue=j.length;j.push([d(le[0]),d(le[1])]),X.push(le),q.push([ne,ue],[Q,ue])}}for(q.sort(function(Oe,De){if(Oe[0]!==De[0])return Oe[0]-De[0];var oe=X[Oe[1]],de=X[De[1]];return s(oe[0],de[0])||s(oe[1],de[1])}),H=q.length-1;H>=0;--H){var he=Z[ne=(be=q[H])[0]],ge=he[0],xe=he[1],ke=j[ge],Ae=j[xe];if((ke[0]-Ae[0]||ke[1]-Ae[1])<0){var pe=ge;ge=xe,xe=pe}he[0]=ge;var ye,Ne=he[1]=be[1];for(G&&(ye=he[2]);H>0&&q[H-1][0]===ne;){var be,Ee=(be=q[--H])[1];Z.push(G?[Ne,Ee,ye]:[Ne,Ee]),Ne=Ee}Z.push(G?[Ne,xe,ye]:[Ne,xe])}return X}(O,A,L,N,I),W=w(O,B);return k(A,W,I),!!W||L.length>0||N.length>0}},5528:function(v,c,i){"use strict";v.exports=function(T,_,y,w){var m=s(_,T),b=s(w,y),k=p(m,b);if(0===l(k))return null;var h=p(b,s(T,y)),O=a(h,k),A=g(m,O);return d(T,A)};var u=i(3962),a=i(9189),o=i(4354),l=i(4951),s=i(6695),d=i(7584),g=i(4469);function p(T,_){return o(u(T[0],_[1]),u(T[1],_[0]))}},5692:function(v){v.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},9156:function(v,c,i){"use strict";var u=i(5692),a=i(3578);function o(d){return[d[0]/255,d[1]/255,d[2]/255,d[3]]}function l(d){for(var g,p="#",T=0;T<3;++T)p+=("00"+(g=(g=d[T]).toString(16))).substr(g.length);return p}function s(d){return"rgba("+d.join(",")+")"}v.exports=function(d){var g,p,T,_,y,w,m,b,k,h;if(d||(d={}),b=(d.nshades||72)-1,m=d.format||"hex",(w=d.colormap)||(w="jet"),"string"==typeof w){if(w=w.toLowerCase(),!u[w])throw Error(w+" not a supported colorscale");y=u[w]}else{if(!Array.isArray(w))throw Error("unsupported colormap option",w);y=w.slice()}if(y.length>b+1)throw new Error(w+" map requires nshades to be at least size "+y.length);k=Array.isArray(d.alpha)?2!==d.alpha.length?[1,1]:d.alpha.slice():"number"==typeof d.alpha?[d.alpha,d.alpha]:[1,1],g=y.map(function(L){return Math.round(L.index*b)}),k[0]=Math.min(Math.max(k[0],0),1),k[1]=Math.min(Math.max(k[1],0),1);var O=y.map(function(L,N){var B=y[N].index,W=y[N].rgb.slice();return 4===W.length&&W[3]>=0&&W[3]<=1||(W[3]=k[0]+(k[1]-k[0])*B),W}),A=[];for(h=0;h<g.length-1;++h){_=g[h+1]-g[h],p=O[h],T=O[h+1];for(var I=0;I<_;I++){var P=I/_;A.push([Math.round(a(p[0],T[0],P)),Math.round(a(p[1],T[1],P)),Math.round(a(p[2],T[2],P)),a(p[3],T[3],P)])}}return A.push(y[y.length-1].rgb.concat(k[1])),"hex"===m?A=A.map(l):"rgbaString"===m?A=A.map(s):"float"===m&&(A=A.map(o)),A}},9398:function(v,c,i){"use strict";v.exports=function(g,p,T,_){var y=u(p,T,_);if(0===y){var w=a(u(g,p,T)),m=a(u(g,p,_));if(w===m){if(0===w){var b=d(g,p,T);return b===d(g,p,_)?0:b?1:-1}return 0}return 0===m?w>0||d(g,p,_)?-1:1:0===w?m>0||d(g,p,T)?1:-1:a(m-w)}var k=u(g,p,T);return k>0?y>0&&u(g,p,_)>0?1:-1:k<0?y>0||u(g,p,_)>0?1:-1:u(g,p,_)>0||d(g,p,T)?1:-1};var u=i(417),a=i(7538),o=i(87),l=i(2019),s=i(9662);function d(g,p,T){var _=o(g[0],-p[0]),y=o(g[1],-p[1]),w=o(T[0],-p[0]),m=o(T[1],-p[1]),b=s(l(_,w),l(y,m));return b[b.length-1]>=0}},7538:function(v){"use strict";v.exports=function(c){return c<0?-1:c>0?1:0}},9209:function(v){v.exports=function(u,a){var o=u.length,l=u.length-a.length;if(l)return l;switch(o){case 0:return 0;case 1:return u[0]-a[0];case 2:return u[0]+u[1]-a[0]-a[1]||c(u[0],u[1])-c(a[0],a[1]);case 3:var s=u[0]+u[1],d=a[0]+a[1];if(l=s+u[2]-(d+a[2]))return l;var g=c(u[0],u[1]),p=c(a[0],a[1]);return c(g,u[2])-c(p,a[2])||c(g+u[2],s)-c(p+a[2],d);case 4:var T=u[0],_=u[1],y=u[2],w=u[3],m=a[0],b=a[1],k=a[2],h=a[3];return T+_+y+w-(m+b+k+h)||c(T,_,y,w)-c(m,b,k,h,m)||c(T+_,T+y,T+w,_+y,_+w,y+w)-c(m+b,m+k,m+h,b+k,b+h,k+h)||c(T+_+y,T+_+w,T+y+w,_+y+w)-c(m+b+k,m+b+h,m+k+h,b+k+h);default:for(var O=u.slice().sort(i),A=a.slice().sort(i),I=0;I<o;++I)if(l=O[I]-A[I])return l;return 0}};var c=Math.min;function i(u,a){return u-a}},1284:function(v,c,i){"use strict";var u=i(9209),a=i(9887);v.exports=function(o,l){return u(o,l)||a(o)-a(l)}},5537:function(v,c,i){"use strict";var u=i(8950),a=i(8722),o=i(3332);v.exports=function(l){var s=l.length;if(0===s)return[];if(1===s)return[[0]];var d=l[0].length;return 0===d?[]:1===d?u(l):2===d?a(l):o(l,d)}},8950:function(v){"use strict";v.exports=function(c){for(var i=0,u=0,a=1;a<c.length;++a)c[a][0]<c[i][0]&&(i=a),c[a][0]>c[u][0]&&(u=a);return i<u?[[i],[u]]:i>u?[[u],[i]]:[[i]]}},8722:function(v,c,i){"use strict";v.exports=function(a){var o=u(a),l=o.length;if(l<=2)return[];for(var s=new Array(l),d=o[l-1],g=0;g<l;++g){var p=o[g];s[g]=[d,p],d=p}return s};var u=i(3266)},3332:function(v,c,i){"use strict";v.exports=function(o,l){try{return u(o,!0)}catch{var s=a(o);if(s.length<=l)return[];var d=function(p,T){for(var _=p.length,y=new Array(_),w=0;w<T.length;++w)y[w]=p[T[w]];var m=T.length;for(w=0;w<_;++w)T.indexOf(w)<0&&(y[m++]=p[w]);return y}(o,s);return function(p,T){for(var _=p.length,y=T.length,w=0;w<_;++w)for(var m=p[w],b=0;b<m.length;++b){var k=m[b];if(k<y)m[b]=T[k];else{k-=y;for(var h=0;h<y;++h)k>=T[h]&&(k+=1);m[b]=k}}return p}(u(d,!0),s)}};var u=i(2183),a=i(2153)},9680:function(v){"use strict";v.exports=function(c,i,u,a,o,l){var s=o-1,d=o*o,g=s*s,p=(1+2*o)*g,T=o*g,_=d*(3-2*o),y=d*s;if(c.length){l||(l=new Array(c.length));for(var w=c.length-1;w>=0;--w)l[w]=p*c[w]+T*i[w]+_*u[w]+y*a[w];return l}return p*c+T*i+_*u+y*a},v.exports.derivative=function(c,i,u,a,o,l){var s=6*o*o-6*o,d=3*o*o-4*o+1,g=-6*o*o+6*o,p=3*o*o-2*o;if(c.length){l||(l=new Array(c.length));for(var T=c.length-1;T>=0;--T)l[T]=s*c[T]+d*i[T]+g*u[T]+p*a[T];return l}return s*c+d*i+g*u[T]+p*a}},4419:function(v,c,i){"use strict";var u=i(2183),a=i(1215);function o(s,d){this.point=s,this.index=d}function l(s,d){for(var g=s.point,p=d.point,T=g.length,_=0;_<T;++_){var y=p[_]-g[_];if(y)return y}return 0}v.exports=function(s,d){var g=s.length;if(0===g)return[];var p=s[0].length;if(p<1)return[];if(1===p)return function(B,W,j){if(1===B)return j?[[-1,0]]:[];var Z=W.map(function(ne,X){return[ne[0],X]});Z.sort(function(ne,X){return ne[0]-X[0]});for(var V=new Array(B-1),q=1;q<B;++q)V[q-1]=[Z[q-1][1],Z[q][1]];return j&&V.push([-1,V[0][1]],[V[B-1][1],-1]),V}(g,s,d);for(var T=new Array(g),_=1,y=0;y<g;++y){for(var w=s[y],m=new Array(p+1),b=0,k=0;k<p;++k){var h=w[k];m[k]=h,b+=h*h}m[p]=b,T[y]=new o(m,y),_=Math.max(b,_)}a(T,l),g=T.length;var O=new Array(g+p+1),A=new Array(g+p+1),I=(p+1)*(p+1)*_,P=new Array(p+1);for(y=0;y<=p;++y)P[y]=0;for(P[p]=I,O[0]=P.slice(),A[0]=-1,y=0;y<=p;++y)(m=P.slice())[y]=1,O[y+1]=m,A[y+1]=-1;for(y=0;y<g;++y){var L=T[y];O[y+p+1]=L.point,A[y+p+1]=L.index}var N=u(O,!1);if(N=N.filter(d?function(B){for(var W=0,j=0;j<=p;++j){var Z=A[B[j]];if(Z<0&&++W>=2)return!1;B[j]=Z}return!0}:function(B){for(var W=0;W<=p;++W){var j=A[B[W]];if(j<0)return!1;B[W]=j}return!0}),1&p)for(y=0;y<N.length;++y)m=(L=N[y])[0],L[0]=L[1],L[1]=m;return N}},8362:function(v){var c=!1;if(typeof Float64Array<"u"){var i=new Float64Array(1),u=new Uint32Array(i.buffer);i[0]=1,c=!0,1072693248===u[1]?(v.exports=function(o){return i[0]=o,[u[0],u[1]]},v.exports.pack=function(o,l){return u[0]=o,u[1]=l,i[0]},v.exports.lo=function(o){return i[0]=o,u[0]},v.exports.hi=function(o){return i[0]=o,u[1]}):1072693248===u[0]?(v.exports=function(o){return i[0]=o,[u[1],u[0]]},v.exports.pack=function(o,l){return u[1]=o,u[0]=l,i[0]},v.exports.lo=function(o){return i[0]=o,u[1]},v.exports.hi=function(o){return i[0]=o,u[0]}):c=!1}if(!c){var a=new Buffer(8);v.exports=function(o){return a.writeDoubleLE(o,0,!0),[a.readUInt32LE(0,!0),a.readUInt32LE(4,!0)]},v.exports.pack=function(o,l){return a.writeUInt32LE(o,0,!0),a.writeUInt32LE(l,4,!0),a.readDoubleLE(0,!0)},v.exports.lo=function(o){return a.writeDoubleLE(o,0,!0),a.readUInt32LE(0,!0)},v.exports.hi=function(o){return a.writeDoubleLE(o,0,!0),a.readUInt32LE(4,!0)}}v.exports.sign=function(o){return v.exports.hi(o)>>>31},v.exports.exponent=function(o){return(v.exports.hi(o)<<1>>>21)-1023},v.exports.fraction=function(o){var l=v.exports.lo(o),s=v.exports.hi(o),d=1048575&s;return 2146435072&s&&(d+=1048576),[l,d]},v.exports.denormalized=function(o){return!(2146435072&v.exports.hi(o))}},3094:function(v){"use strict";function c(i,u,a){var o=0|i[a];if(o<=0)return[];var l,s=new Array(o);if(a===i.length-1)for(l=0;l<o;++l)s[l]=u;else for(l=0;l<o;++l)s[l]=c(i,u,a+1);return s}v.exports=function(i,u){switch(void 0===u&&(u=0),typeof i){case"number":if(i>0)return function(a,o){var l,s;for(l=new Array(a),s=0;s<a;++s)l[s]=o;return l}(0|i,u);break;case"object":if("number"==typeof i.length)return c(i,u,0)}return[]}},8348:function(v,c,i){"use strict";v.exports=function(a,o){var l=a.length;if("number"!=typeof o){o=0;for(var s=0;s<l;++s){var d=a[s];o=Math.max(o,d[0],d[1])}o=1+(0|o)}o|=0;var g=new Array(o);for(s=0;s<o;++s)g[s]=[];for(s=0;s<l;++s)g[(d=a[s])[0]].push(d[1]),g[d[1]].push(d[0]);for(var p=0;p<o;++p)u(g[p],function(T,_){return T-_});return g};var u=i(1215)},5795:function(v){"use strict";v.exports=function(c,i,u){var a=i||0,o=u||1;return[[c[12]+c[0],c[13]+c[1],c[14]+c[2],c[15]+c[3]],[c[12]-c[0],c[13]-c[1],c[14]-c[2],c[15]-c[3]],[c[12]+c[4],c[13]+c[5],c[14]+c[6],c[15]+c[7]],[c[12]-c[4],c[13]-c[5],c[14]-c[6],c[15]-c[7]],[a*c[12]+c[8],a*c[13]+c[9],a*c[14]+c[10],a*c[15]+c[11]],[o*c[12]-c[8],o*c[13]-c[9],o*c[14]-c[10],o*c[15]-c[11]]]}},8444:function(v,c,i){"use strict";v.exports=function(g,p,T){switch(arguments.length){case 0:return new l([0],[0],0);case 1:return"number"==typeof g?new l(_=d(g),_,0):new l(g,d(g.length),0);case 2:if("number"==typeof p){var _=d(g.length);return new l(g,_,+p)}T=0;case 3:if(g.length!==p.length)throw new Error("state and velocity lengths must match");return new l(g,p,T)}};var u=i(9680),a=i(5070);function o(g,p,T){return Math.min(p,Math.max(g,T))}function l(g,p,T){this.dimension=g.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var _=0;_<this.dimension;++_)this.bounds[0][_]=-1/0,this.bounds[1][_]=1/0;this._state=g.slice().reverse(),this._velocity=p.slice().reverse(),this._time=[T],this._scratch=[g.slice(),g.slice(),g.slice(),g.slice(),g.slice()]}var s=l.prototype;function d(g){for(var p=new Array(g),T=0;T<g;++T)p[T]=0;return p}s.flush=function(g){var p=a.gt(this._time,g)-1;p<=0||(this._time.splice(0,p),this._state.splice(0,p*this.dimension),this._velocity.splice(0,p*this.dimension))},s.curve=function(g){var p=this._time,T=p.length,_=a.le(p,g),y=this._scratch[0],w=this._state,m=this._velocity,b=this.dimension,k=this.bounds;if(_<0)for(var h=b-1,O=0;O<b;++O,--h)y[O]=w[h];else if(_>=T-1){h=w.length-1;var A=g-p[T-1];for(O=0;O<b;++O,--h)y[O]=w[h]+A*m[h]}else{h=b*(_+1)-1;var I=p[_],P=p[_+1]-I||1,L=this._scratch[1],N=this._scratch[2],B=this._scratch[3],W=this._scratch[4],j=!0;for(O=0;O<b;++O,--h)L[O]=w[h],B[O]=m[h]*P,N[O]=w[h+b],W[O]=m[h+b]*P,j=j&&L[O]===N[O]&&B[O]===W[O]&&0===B[O];if(j)for(O=0;O<b;++O)y[O]=L[O];else u(L,B,N,W,(g-I)/P,y)}var Z=k[0],V=k[1];for(O=0;O<b;++O)y[O]=o(Z[O],V[O],y[O]);return y},s.dcurve=function(g){var p=this._time,T=p.length,_=a.le(p,g),y=this._scratch[0],w=this._state,m=this._velocity,b=this.dimension;if(_>=T-1)for(var k=w.length-1,h=0;h<b;++h,--k)y[h]=m[k];else{k=b*(_+1)-1;var O=p[_],A=p[_+1]-O||1,I=this._scratch[1],P=this._scratch[2],L=this._scratch[3],N=this._scratch[4],B=!0;for(h=0;h<b;++h,--k)I[h]=w[k],L[h]=m[k]*A,P[h]=w[k+b],N[h]=m[k+b]*A,B=B&&I[h]===P[h]&&L[h]===N[h]&&0===L[h];if(B)for(h=0;h<b;++h)y[h]=0;else for(u.derivative(I,L,P,N,(g-O)/A,y),h=0;h<b;++h)y[h]/=A}return y},s.lastT=function(){var g=this._time;return g[g.length-1]},s.stable=function(){for(var g=this._velocity,p=g.length,T=this.dimension-1;T>=0;--T)if(g[--p])return!1;return!0},s.jump=function(g){var p=this.lastT(),T=this.dimension;if(!(g<p||arguments.length!==T+1)){var _=this._state,y=this._velocity,w=_.length-this.dimension,m=this.bounds,b=m[0],k=m[1];this._time.push(p,g);for(var h=0;h<2;++h)for(var O=0;O<T;++O)_.push(_[w++]),y.push(0);for(this._time.push(g),O=T;O>0;--O)_.push(o(b[O-1],k[O-1],arguments[O])),y.push(0)}},s.push=function(g){var p=this.lastT(),T=this.dimension;if(!(g<p||arguments.length!==T+1)){var _=this._state,y=this._velocity,w=_.length-this.dimension,m=g-p,b=this.bounds,k=b[0],h=b[1],O=m>1e-6?1/m:0;this._time.push(g);for(var A=T;A>0;--A){var I=o(k[A-1],h[A-1],arguments[A]);_.push(I),y.push((I-_[w++])*O)}}},s.set=function(g){var p=this.dimension;if(!(g<this.lastT()||arguments.length!==p+1)){var T=this._state,_=this._velocity,y=this.bounds,w=y[0],m=y[1];this._time.push(g);for(var b=p;b>0;--b)T.push(o(w[b-1],m[b-1],arguments[b])),_.push(0)}},s.move=function(g){var p=this.lastT(),T=this.dimension;if(!(g<=p||arguments.length!==T+1)){var _=this._state,y=this._velocity,w=_.length-this.dimension,m=this.bounds,b=m[0],k=m[1],h=g-p,O=h>1e-6?1/h:0;this._time.push(g);for(var A=T;A>0;--A){var I=arguments[A];_.push(o(b[A-1],k[A-1],_[w++]+I)),y.push(I*O)}}},s.idle=function(g){var p=this.lastT();if(!(g<p)){var T=this.dimension,_=this._state,y=this._velocity,w=_.length-T,m=this.bounds,b=m[0],k=m[1],h=g-p;this._time.push(g);for(var O=T-1;O>=0;--O)_.push(o(b[O],k[O],_[w]+h*y[w])),y.push(0),w+=1}}},7080:function(v){"use strict";function c(w,m,b,k,h,O){this._color=w,this.key=m,this.value=b,this.left=k,this.right=h,this._count=O}function i(w){return new c(w._color,w.key,w.value,w.left,w.right,w._count)}function u(w,m){return new c(w,m.key,m.value,m.left,m.right,m._count)}function a(w){w._count=1+(w.left?w.left._count:0)+(w.right?w.right._count:0)}function o(w,m){this._compare=w,this.root=m}v.exports=function(w){return new o(w||y,null)};var l=o.prototype;function s(w,m){var b;return m.left&&(b=s(w,m.left))?b:(b=w(m.key,m.value))||(m.right?s(w,m.right):void 0)}function d(w,m,b,k){var h;return m(w,k.key)<=0&&(k.left&&(h=d(w,m,b,k.left))||(h=b(k.key,k.value)))?h:k.right?d(w,m,b,k.right):void 0}function g(w,m,b,k,h){var O,A=b(w,h.key),I=b(m,h.key);return A<=0&&(h.left&&(O=g(w,m,b,k,h.left))||I>0&&(O=k(h.key,h.value)))?O:I>0&&h.right?g(w,m,b,k,h.right):void 0}function p(w,m){this.tree=w,this._stack=m}Object.defineProperty(l,"keys",{get:function(){var w=[];return this.forEach(function(m,b){w.push(m)}),w}}),Object.defineProperty(l,"values",{get:function(){var w=[];return this.forEach(function(m,b){w.push(b)}),w}}),Object.defineProperty(l,"length",{get:function(){return this.root?this.root._count:0}}),l.insert=function(w,m){for(var b=this._compare,k=this.root,h=[],O=[];k;){var A=b(w,k.key);h.push(k),O.push(A),k=A<=0?k.left:k.right}h.push(new c(0,w,m,null,null,1));for(var I=h.length-2;I>=0;--I)k=h[I],h[I]=O[I]<=0?new c(k._color,k.key,k.value,h[I+1],k.right,k._count+1):new c(k._color,k.key,k.value,k.left,h[I+1],k._count+1);for(I=h.length-1;I>1;--I){var P=h[I-1];if(k=h[I],1===P._color||1===k._color)break;var L=h[I-2];if(L.left===P)if(P.left===k){if(!(N=L.right)||0!==N._color){L._color=0,L.left=P.right,P._color=1,P.right=L,h[I-2]=P,h[I-1]=k,a(L),a(P),I>=3&&((B=h[I-3]).left===L?B.left=P:B.right=P);break}P._color=1,L.right=u(1,N),L._color=0,I-=1}else{if(!(N=L.right)||0!==N._color){P.right=k.left,L._color=0,L.left=k.right,k._color=1,k.left=P,k.right=L,h[I-2]=k,h[I-1]=P,a(L),a(P),a(k),I>=3&&((B=h[I-3]).left===L?B.left=k:B.right=k);break}P._color=1,L.right=u(1,N),L._color=0,I-=1}else if(P.right===k){if(!(N=L.left)||0!==N._color){L._color=0,L.right=P.left,P._color=1,P.left=L,h[I-2]=P,h[I-1]=k,a(L),a(P),I>=3&&((B=h[I-3]).right===L?B.right=P:B.left=P);break}P._color=1,L.left=u(1,N),L._color=0,I-=1}else{var N;if(!(N=L.left)||0!==N._color){var B;P.left=k.right,L._color=0,L.right=k.left,k._color=1,k.right=P,k.left=L,h[I-2]=k,h[I-1]=P,a(L),a(P),a(k),I>=3&&((B=h[I-3]).right===L?B.right=k:B.left=k);break}P._color=1,L.left=u(1,N),L._color=0,I-=1}}return h[0]._color=1,new o(b,h[0])},l.forEach=function(w,m,b){if(this.root)switch(arguments.length){case 1:return s(w,this.root);case 2:return d(m,this._compare,w,this.root);case 3:return this._compare(m,b)>=0?void 0:g(m,b,this._compare,w,this.root)}},Object.defineProperty(l,"begin",{get:function(){for(var w=[],m=this.root;m;)w.push(m),m=m.left;return new p(this,w)}}),Object.defineProperty(l,"end",{get:function(){for(var w=[],m=this.root;m;)w.push(m),m=m.right;return new p(this,w)}}),l.at=function(w){if(w<0)return new p(this,[]);for(var m=this.root,b=[];;){if(b.push(m),m.left){if(w<m.left._count){m=m.left;continue}w-=m.left._count}if(!w)return new p(this,b);if(w-=1,!m.right||w>=m.right._count)break;m=m.right}return new p(this,[])},l.ge=function(w){for(var m=this._compare,b=this.root,k=[],h=0;b;){var O=m(w,b.key);k.push(b),O<=0&&(h=k.length),b=O<=0?b.left:b.right}return k.length=h,new p(this,k)},l.gt=function(w){for(var m=this._compare,b=this.root,k=[],h=0;b;){var O=m(w,b.key);k.push(b),O<0&&(h=k.length),b=O<0?b.left:b.right}return k.length=h,new p(this,k)},l.lt=function(w){for(var m=this._compare,b=this.root,k=[],h=0;b;){var O=m(w,b.key);k.push(b),O>0&&(h=k.length),b=O<=0?b.left:b.right}return k.length=h,new p(this,k)},l.le=function(w){for(var m=this._compare,b=this.root,k=[],h=0;b;){var O=m(w,b.key);k.push(b),O>=0&&(h=k.length),b=O<0?b.left:b.right}return k.length=h,new p(this,k)},l.find=function(w){for(var m=this._compare,b=this.root,k=[];b;){var h=m(w,b.key);if(k.push(b),0===h)return new p(this,k);b=h<=0?b.left:b.right}return new p(this,[])},l.remove=function(w){var m=this.find(w);return m?m.remove():this},l.get=function(w){for(var m=this._compare,b=this.root;b;){var k=m(w,b.key);if(0===k)return b.value;b=k<=0?b.left:b.right}};var T=p.prototype;function _(w,m){w.key=m.key,w.value=m.value,w.left=m.left,w.right=m.right,w._color=m._color,w._count=m._count}function y(w,m){return w<m?-1:w>m?1:0}Object.defineProperty(T,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(T,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),T.clone=function(){return new p(this.tree,this._stack.slice())},T.remove=function(){var w=this._stack;if(0===w.length)return this.tree;var m=new Array(w.length),b=w[w.length-1];m[m.length-1]=new c(b._color,b.key,b.value,b.left,b.right,b._count);for(var k=w.length-2;k>=0;--k)m[k]=(b=w[k]).left===w[k+1]?new c(b._color,b.key,b.value,m[k+1],b.right,b._count):new c(b._color,b.key,b.value,b.left,m[k+1],b._count);if((b=m[m.length-1]).left&&b.right){var h=m.length;for(b=b.left;b.right;)m.push(b),b=b.right;var O=m[h-1];for(m.push(new c(b._color,O.key,O.value,b.left,b.right,b._count)),m[h-1].key=b.key,m[h-1].value=b.value,k=m.length-2;k>=h;--k)m[k]=new c((b=m[k])._color,b.key,b.value,b.left,m[k+1],b._count);m[h-1].left=m[h]}if(0===(b=m[m.length-1])._color){var A=m[m.length-2];for(A.left===b?A.left=null:A.right===b&&(A.right=null),m.pop(),k=0;k<m.length;++k)m[k]._count--;return new o(this.tree._compare,m[0])}if(b.left||b.right){for(b.left?_(b,b.left):b.right&&_(b,b.right),b._color=1,k=0;k<m.length-1;++k)m[k]._count--;return new o(this.tree._compare,m[0])}if(1===m.length)return new o(this.tree._compare,null);for(k=0;k<m.length;++k)m[k]._count--;var I=m[m.length-2];return function(P){for(var L,N,B,W,j=P.length-1;j>=0;--j){if(L=P[j],0===j)return void(L._color=1);if((N=P[j-1]).left===L){if((B=N.right).right&&0===B.right._color)return W=(B=N.right=i(B)).right=i(B.right),N.right=B.left,B.left=N,B.right=W,B._color=N._color,L._color=1,N._color=1,W._color=1,a(N),a(B),j>1&&((Z=P[j-2]).left===N?Z.left=B:Z.right=B),void(P[j-1]=B);if(B.left&&0===B.left._color)return W=(B=N.right=i(B)).left=i(B.left),N.right=W.left,B.left=W.right,W.left=N,W.right=B,W._color=N._color,N._color=1,B._color=1,L._color=1,a(N),a(B),a(W),j>1&&((Z=P[j-2]).left===N?Z.left=W:Z.right=W),void(P[j-1]=W);if(1===B._color){if(0===N._color)return N._color=1,void(N.right=u(0,B));N.right=u(0,B);continue}B=i(B),N.right=B.left,B.left=N,B._color=N._color,N._color=0,a(N),a(B),j>1&&((Z=P[j-2]).left===N?Z.left=B:Z.right=B),P[j-1]=B,P[j]=N,j+1<P.length?P[j+1]=L:P.push(L),j+=2}else{if((B=N.left).left&&0===B.left._color)return W=(B=N.left=i(B)).left=i(B.left),N.left=B.right,B.right=N,B.left=W,B._color=N._color,L._color=1,N._color=1,W._color=1,a(N),a(B),j>1&&((Z=P[j-2]).right===N?Z.right=B:Z.left=B),void(P[j-1]=B);if(B.right&&0===B.right._color)return W=(B=N.left=i(B)).right=i(B.right),N.left=W.right,B.right=W.left,W.right=N,W.left=B,W._color=N._color,N._color=1,B._color=1,L._color=1,a(N),a(B),a(W),j>1&&((Z=P[j-2]).right===N?Z.right=W:Z.left=W),void(P[j-1]=W);if(1===B._color){if(0===N._color)return N._color=1,void(N.left=u(0,B));N.left=u(0,B);continue}var Z;B=i(B),N.left=B.right,B.right=N,B._color=N._color,N._color=0,a(N),a(B),j>1&&((Z=P[j-2]).right===N?Z.right=B:Z.left=B),P[j-1]=B,P[j]=N,j+1<P.length?P[j+1]=L:P.push(L),j+=2}}}(m),I.left===b?I.left=null:I.right=null,new o(this.tree._compare,m[0])},Object.defineProperty(T,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(T,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(T,"index",{get:function(){var w=0,m=this._stack;if(0===m.length){var b=this.tree.root;return b?b._count:0}m[m.length-1].left&&(w=m[m.length-1].left._count);for(var k=m.length-2;k>=0;--k)m[k+1]===m[k].right&&(++w,m[k].left&&(w+=m[k].left._count));return w},enumerable:!0}),T.next=function(){var w=this._stack;if(0!==w.length){var m=w[w.length-1];if(m.right)for(m=m.right;m;)w.push(m),m=m.left;else for(w.pop();w.length>0&&w[w.length-1].right===m;)m=w[w.length-1],w.pop()}},Object.defineProperty(T,"hasNext",{get:function(){var w=this._stack;if(0===w.length)return!1;if(w[w.length-1].right)return!0;for(var m=w.length-1;m>0;--m)if(w[m-1].left===w[m])return!0;return!1}}),T.update=function(w){var m=this._stack;if(0===m.length)throw new Error("Can't update empty node!");var b=new Array(m.length),k=m[m.length-1];b[b.length-1]=new c(k._color,k.key,w,k.left,k.right,k._count);for(var h=m.length-2;h>=0;--h)b[h]=(k=m[h]).left===m[h+1]?new c(k._color,k.key,k.value,b[h+1],k.right,k._count):new c(k._color,k.key,k.value,k.left,b[h+1],k._count);return new o(this.tree._compare,b[0])},T.prev=function(){var w=this._stack;if(0!==w.length){var m=w[w.length-1];if(m.left)for(m=m.left;m;)w.push(m),m=m.right;else for(w.pop();w.length>0&&w[w.length-1].left===m;)m=w[w.length-1],w.pop()}},Object.defineProperty(T,"hasPrev",{get:function(){var w=this._stack;if(0===w.length)return!1;if(w[w.length-1].left)return!0;for(var m=w.length-1;m>0;--m)if(w[m-1].right===w[m])return!0;return!1}})},7453:function(v,c,i){"use strict";v.exports=function(A,I){var P=new p(A);return P.update(I),P};var u=i(9557),a=i(1681),o=i(1011),l=i(2864),s=i(8468),d=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function g(A,I){return A[0]=I[0],A[1]=I[1],A[2]=I[2],A}function p(A){this.gl=A,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=o(A)}var T=p.prototype;function _(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}T.update=function(A){function I(ne,X,$){if($ in A){var Q,te=A[$],re=this[$];this[$]=Q=(ne?Array.isArray(te)&&Array.isArray(te[0]):Array.isArray(te))?[X(te[0]),X(te[1]),X(te[2])]:[X(te),X(te),X(te)];for(var le=0;le<3;++le)if(Q[le]!==re[le])return!0}return!1}A=A||{};var P,L=I.bind(this,!1,Number),N=I.bind(this,!1,Boolean),B=I.bind(this,!1,String),W=I.bind(this,!0,function(ne){if(Array.isArray(ne)){if(3===ne.length)return[+ne[0],+ne[1],+ne[2],1];if(4===ne.length)return[+ne[0],+ne[1],+ne[2],+ne[3]]}return[0,0,0,1]}),j=!1,Z=!1;if("bounds"in A)for(var V=A.bounds,q=0;q<2;++q)for(var G=0;G<3;++G)V[q][G]!==this.bounds[q][G]&&(Z=!0),this.bounds[q][G]=V[q][G];if("ticks"in A)for(P=A.ticks,j=!0,this.autoTicks=!1,q=0;q<3;++q)this.tickSpacing[q]=0;else L("tickSpacing")&&(this.autoTicks=!0,Z=!0);if(this._firstInit&&("ticks"in A||"tickSpacing"in A||(this.autoTicks=!0),Z=!0,j=!0,this._firstInit=!1),Z&&this.autoTicks&&(P=s.create(this.bounds,this.tickSpacing),j=!0),j){for(q=0;q<3;++q)P[q].sort(function(ne,X){return ne.x-X.x});s.equal(P,this.ticks)?j=!1:this.ticks=P}N("tickEnable"),B("tickFont")&&(j=!0),L("tickSize"),L("tickAngle"),L("tickPad"),W("tickColor");var H=B("labels");B("labelFont")&&(H=!0),N("labelEnable"),L("labelSize"),L("labelPad"),W("labelColor"),N("lineEnable"),N("lineMirror"),L("lineWidth"),W("lineColor"),N("lineTickEnable"),N("lineTickMirror"),L("lineTickLength"),L("lineTickWidth"),W("lineTickColor"),N("gridEnable"),L("gridWidth"),W("gridColor"),N("zeroEnable"),W("zeroLineColor"),L("zeroLineWidth"),N("backgroundEnable"),W("backgroundColor"),this._text?this._text&&(H||j)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=u(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&j&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=a(this.gl,this.bounds,this.ticks))};var y=[new _,new _,new _];function w(A,I,P,L,N){for(var B=A.primalOffset,W=A.primalMinor,j=A.mirrorOffset,Z=A.mirrorMinor,V=L[I],q=0;q<3;++q)if(I!==q){var G=B,H=j,ne=W,X=Z;V&1<<q&&(G=j,H=B,ne=Z,X=W),G[q]=P[0][q],H[q]=P[1][q],N[q]>0?(ne[q]=-1,X[q]=0):(ne[q]=0,X[q]=1)}}var m=[0,0,0],b={model:d,view:d,projection:d,_ortho:!1};T.isOpaque=function(){return!0},T.isTransparent=function(){return!1},T.drawTransparent=function(A){};var k=[0,0,0],h=[0,0,0],O=[0,0,0];T.draw=function(A){for(var I=this.gl,P=(A=A||b).model||d,L=A.view||d,N=A.projection||d,B=this.bounds,W=A._ortho||!1,j=l(P,L,N,B,W),Z=j.cubeEdges,V=j.axis,X=(W?2:1)*this.pixelRatio*(N[3]*L[12]+N[7]*L[13]+N[11]*L[14]+N[15]*L[15])/I.drawingBufferHeight,$=0;$<3;++$)this.lastCubeProps.cubeEdges[$]=Z[$],this.lastCubeProps.axis[$]=V[$];var Q=y;for($=0;$<3;++$)w(y[$],$,this.bounds,Z,V);I=this.gl;var te,re,le,_e,Me,Pe,Ue,Be,Ve,ve,Te,Ce,ue=m;for($=0;$<3;++$)ue[$]=this.backgroundEnable[$]?V[$]:0;for(this._background.draw(P,L,N,B,ue,this.backgroundColor),this._lines.bind(P,L,N,this),$=0;$<3;++$){var he=[0,0,0];he[$]=V[$]>0?B[1][$]:B[0][$];for(var ge=0;ge<2;++ge){var xe=($+1+ge)%3,ke=($+1+(1^ge))%3;this.gridEnable[xe]&&this._lines.drawGrid(xe,ke,this.bounds,he,this.gridColor[xe],this.gridWidth[xe]*this.pixelRatio)}for(ge=0;ge<2;++ge)xe=($+1+ge)%3,this.zeroEnable[ke=($+1+(1^ge))%3]&&Math.min(B[0][ke],B[1][ke])<=0&&Math.max(B[0][ke],B[1][ke])>=0&&this._lines.drawZero(xe,ke,this.bounds,he,this.zeroLineColor[ke],this.zeroLineWidth[ke]*this.pixelRatio)}for($=0;$<3;++$){this.lineEnable[$]&&this._lines.drawAxisLine($,this.bounds,Q[$].primalOffset,this.lineColor[$],this.lineWidth[$]*this.pixelRatio),this.lineMirror[$]&&this._lines.drawAxisLine($,this.bounds,Q[$].mirrorOffset,this.lineColor[$],this.lineWidth[$]*this.pixelRatio);var Ae=g(k,Q[$].primalMinor),pe=g(h,Q[$].mirrorMinor),ye=this.lineTickLength;for(ge=0;ge<3;++ge){var Ne=X/P[5*ge];Ae[ge]*=ye[ge]*Ne,pe[ge]*=ye[ge]*Ne}this.lineTickEnable[$]&&this._lines.drawAxisTicks($,Q[$].primalOffset,Ae,this.lineTickColor[$],this.lineTickWidth[$]*this.pixelRatio),this.lineTickMirror[$]&&this._lines.drawAxisTicks($,Q[$].mirrorOffset,pe,this.lineTickColor[$],this.lineTickWidth[$]*this.pixelRatio)}function be(_e){(le=[0,0,0])[_e]=1}for(this._lines.unbind(),this._text.bind(P,L,N,this.pixelRatio),$=0;$<3;++$){var Oe=Q[$].primalMinor,De=Q[$].mirrorMinor,oe=g(O,Q[$].primalOffset);for(ge=0;ge<3;++ge)this.lineTickEnable[$]&&(oe[ge]+=X*Oe[ge]*Math.max(this.lineTickLength[ge],0)/P[5*ge]);var de=[0,0,0];if(de[$]=1,this.tickEnable[$]){for(-3600===this.tickAngle[$]?(this.tickAngle[$]=0,this.tickAlign[$]="auto"):this.tickAlign[$]=-1,te[0]="auto"===(te=[this.tickAlign[$],.5,re=1])[0]?0:parseInt(""+te[0]),le=[0,0,0],Ue=void 0,Be=void 0,Ve=void 0,ve=void 0,Te=void 0,Ce=void 0,ve=(Me=Oe)[Be=((_e=$)+2)%3],Te=(Pe=De)[Ue=(_e+1)%3],Ce=Pe[Be],(Ve=Me[Ue])>0&&Ce>0||Ve>0&&Ce<0||Ve<0&&Ce>0||Ve<0&&Ce<0?be(Ue):(ve>0&&Te>0||ve>0&&Te<0||ve<0&&Te>0||ve<0&&Te<0)&&be(Be),ge=0;ge<3;++ge)oe[ge]+=X*Oe[ge]*this.tickPad[ge]/P[5*ge];this._text.drawTicks($,this.tickSize[$],this.tickAngle[$],oe,this.tickColor[$],de,le,te)}if(this.labelEnable[$]){for(re=0,le=[0,0,0],this.labels[$].length>4&&(be($),re=1),te[0]="auto"===(te=[this.labelAlign[$],.5,re])[0]?0:parseInt(""+te[0]),ge=0;ge<3;++ge)oe[ge]+=X*Oe[ge]*this.labelPad[ge]/P[5*ge];oe[$]+=.5*(B[0][$]+B[1][$]),this._text.drawLabel($,this.labelSize[$],this.labelAngle[$],oe,this.labelColor[$],[0,0,0],le,te)}}this._text.unbind()},T.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null}},1011:function(v,c,i){"use strict";v.exports=function(d){for(var g=[],p=[],T=0,_=0;_<3;++_)for(var y=(_+1)%3,w=(_+2)%3,m=[0,0,0],b=[0,0,0],k=-1;k<=1;k+=2){p.push(T,T+2,T+1,T+1,T+2,T+3),m[_]=k,b[_]=k;for(var h=-1;h<=1;h+=2){m[y]=h;for(var O=-1;O<=1;O+=2)m[w]=O,g.push(m[0],m[1],m[2],b[0],b[1],b[2]),T+=1}var A=y;y=w,w=A}var I=u(d,new Float32Array(g)),P=u(d,new Uint16Array(p),d.ELEMENT_ARRAY_BUFFER),L=a(d,[{buffer:I,type:d.FLOAT,size:3,offset:0,stride:24},{buffer:I,type:d.FLOAT,size:3,offset:12,stride:24}],P),N=o(d);return N.attributes.position.location=0,N.attributes.normal.location=1,new l(d,I,L,N)};var u=i(5827),a=i(2944),o=i(1943).bg;function l(d,g,p,T){this.gl=d,this.buffer=g,this.vao=p,this.shader=T}var s=l.prototype;s.draw=function(d,g,p,T,_,y){for(var w=!1,m=0;m<3;++m)w=w||_[m];if(w){var b=this.gl;b.enable(b.POLYGON_OFFSET_FILL),b.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:d,view:g,projection:p,bounds:T,enable:_,colors:y},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),b.disable(b.POLYGON_OFFSET_FILL)}},s.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},2864:function(v,c,i){"use strict";v.exports=function(h,O,A,I,P){a(s,O,h),a(s,A,s);for(var L=0,N=0;N<2;++N){p[2]=I[N][2];for(var B=0;B<2;++B){p[1]=I[B][1];for(var W=0;W<2;++W)p[0]=I[W][0],_(d[L],p,s),L+=1}}var j=-1;for(N=0;N<8;++N){for(var Z=d[N][3],V=0;V<3;++V)g[N][V]=d[N][V]/Z;P&&(g[N][2]*=-1),Z<0&&(j<0||g[N][2]<g[j][2])&&(j=N)}if(j<0){j=0;for(var q=0;q<3;++q){for(var G=(q+2)%3,H=(q+1)%3,ne=-1,X=-1,$=0;$<2;++$){var Q=(re=$<<q)+($<<G)+(1-$<<H),te=re+(1-$<<G)+($<<H);l(g[re],g[Q],g[te],T)<0||($?ne=1:X=1)}if(ne<0||X<0)X>ne&&(j|=1<<q);else{for($=0;$<2;++$){Q=(re=$<<q)+($<<G)+(1-$<<H);var re,le=w([d[re],d[Q],d[te=re+(1-$<<G)+($<<H)],d[re+(1<<G)+(1<<H)]]);$?ne=le:X=le}X>ne&&(j|=1<<q)}}}var ue=7^j,he=-1;for(N=0;N<8;++N)N!==j&&N!==ue&&(he<0||g[he][1]>g[N][1])&&(he=N);var ge=-1;for(N=0;N<3;++N)(ke=he^1<<N)!==j&&ke!==ue&&(ge<0&&(ge=ke),(H=g[ke])[0]<g[ge][0]&&(ge=ke));var xe=-1;for(N=0;N<3;++N){var ke;(ke=he^1<<N)!==j&&ke!==ue&&ke!==ge&&(xe<0&&(xe=ke),(H=g[ke])[0]>g[xe][0]&&(xe=ke))}var Ae=m;Ae[0]=Ae[1]=Ae[2]=0,Ae[u.log2(ge^he)]=he&ge,Ae[u.log2(he^xe)]=he&xe;var pe=7^xe;pe===j||pe===ue?Ae[u.log2(xe^(pe=7^ge))]=pe&xe:Ae[u.log2(ge^pe)]=pe&ge;var ye=b,Ne=j;for(q=0;q<3;++q)ye[q]=Ne&1<<q?-1:1;return k};var u=i(2288),a=i(104),o=i(4670),l=i(417),s=new Array(16),d=new Array(8),g=new Array(8),p=new Array(3),T=[0,0,0];function _(h,O,A){for(var I=0;I<4;++I){h[I]=A[12+I];for(var P=0;P<3;++P)h[I]+=O[P]*A[4*P+I]}}!function(){for(var h=0;h<8;++h)d[h]=[1,1,1,1],g[h]=[1,1,1]}();var y=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function w(h){for(var O=0;O<y.length;++O)if((h=o.positive(h,y[O])).length<3)return 0;var A=h[0],I=A[0]/A[3],P=A[1]/A[3],L=0;for(O=1;O+1<h.length;++O){var N=h[O],B=h[O+1];L+=Math.abs((N[0]/N[3]-I)*(B[1]/B[3]-P)-(N[1]/N[3]-P)*(B[0]/B[3]-I))}return L}var m=[1,1,1],b=[0,0,0],k={cubeEdges:m,axis:b}},1681:function(v,c,i){"use strict";v.exports=function(m,b,k){var h=[],O=[0,0,0],A=[0,0,0],I=[0,0,0],P=[0,0,0];h.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var L=0;L<3;++L){for(var N=h.length/3|0,B=0;B<k[L].length;++B){var W=+k[L][B].x;h.push(W,0,1,W,1,1,W,0,-1,W,0,-1,W,1,1,W,1,-1)}var j=h.length/3|0;O[L]=N,A[L]=j-N,N=h.length/3|0;for(var Z=0;Z<k[L].length;++Z)h.push(W=+k[L][Z].x,0,1,W,1,1,W,0,-1,W,0,-1,W,1,1,W,1,-1);j=h.length/3|0,I[L]=N,P[L]=j-N}var V=u(m,new Float32Array(h)),q=a(m,[{buffer:V,type:m.FLOAT,size:3,stride:0,offset:0}]),G=o(m);return G.attributes.position.location=0,new y(m,V,q,G,A,O,P,I)};var u=i(5827),a=i(2944),o=i(1943).j,l=[0,0,0],s=[0,0,0],d=[0,0,0],g=[0,0,0],p=[1,1];function T(m){return m[0]=m[1]=m[2]=0,m}function _(m,b){return m[0]=b[0],m[1]=b[1],m[2]=b[2],m}function y(m,b,k,h,O,A,I,P){this.gl=m,this.vertBuffer=b,this.vao=k,this.shader=h,this.tickCount=O,this.tickOffset=A,this.gridCount=I,this.gridOffset=P}var w=y.prototype;w.bind=function(m,b,k){this.shader.bind(),this.shader.uniforms.model=m,this.shader.uniforms.view=b,this.shader.uniforms.projection=k,p[0]=this.gl.drawingBufferWidth,p[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=p,this.vao.bind()},w.unbind=function(){this.vao.unbind()},w.drawAxisLine=function(m,b,k,h,O){var A=T(s);this.shader.uniforms.majorAxis=s,A[m]=b[1][m]-b[0][m],this.shader.uniforms.minorAxis=A;var I,P=_(g,k);P[m]+=b[0][m],this.shader.uniforms.offset=P,this.shader.uniforms.lineWidth=O,this.shader.uniforms.color=h,(I=T(d))[(m+2)%3]=1,this.shader.uniforms.screenAxis=I,this.vao.draw(this.gl.TRIANGLES,6),(I=T(d))[(m+1)%3]=1,this.shader.uniforms.screenAxis=I,this.vao.draw(this.gl.TRIANGLES,6)},w.drawAxisTicks=function(m,b,k,h,O){if(this.tickCount[m]){var A=T(l);A[m]=1,this.shader.uniforms.majorAxis=A,this.shader.uniforms.offset=b,this.shader.uniforms.minorAxis=k,this.shader.uniforms.color=h,this.shader.uniforms.lineWidth=O;var I=T(d);I[m]=1,this.shader.uniforms.screenAxis=I,this.vao.draw(this.gl.TRIANGLES,this.tickCount[m],this.tickOffset[m])}},w.drawGrid=function(m,b,k,h,O,A){if(this.gridCount[m]){var I=T(s);I[b]=k[1][b]-k[0][b],this.shader.uniforms.minorAxis=I;var P=_(g,h);P[b]+=k[0][b],this.shader.uniforms.offset=P;var L=T(l);L[m]=1,this.shader.uniforms.majorAxis=L;var N=T(d);N[m]=1,this.shader.uniforms.screenAxis=N,this.shader.uniforms.lineWidth=A,this.shader.uniforms.color=O,this.vao.draw(this.gl.TRIANGLES,this.gridCount[m],this.gridOffset[m])}},w.drawZero=function(m,b,k,h,O,A){var I=T(s);this.shader.uniforms.majorAxis=I,I[m]=k[1][m]-k[0][m],this.shader.uniforms.minorAxis=I;var P=_(g,h);P[m]+=k[0][m],this.shader.uniforms.offset=P;var L=T(d);L[b]=1,this.shader.uniforms.screenAxis=L,this.shader.uniforms.lineWidth=A,this.shader.uniforms.color=O,this.vao.draw(this.gl.TRIANGLES,6)},w.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()}},1943:function(v,c,i){"use strict";var u=i(6832),a=i(5158),o=u(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, majorAxis, minorAxis, screenAxis;\nuniform float lineWidth;\nuniform vec2 screenShape;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nvoid main() {\n  vec3 major = position.x * majorAxis;\n  vec3 minor = position.y * minorAxis;\n\n  vec3 vPosition = major + minor + offset;\n  vec3 pPosition = project(vPosition);\n  vec3 offset = project(vPosition + screenAxis * position.z);\n\n  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;\n\n  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);\n}\n"]),l=u(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);c.j=function(T){return a(T,o,l,null,[{name:"position",type:"vec3"}])};var s=u(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, axis, alignDir, alignOpt;\nuniform float scale, angle, pixelScale;\nuniform vec2 resolution;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nfloat computeViewAngle(vec3 a, vec3 b) {\n  vec3 A = project(a);\n  vec3 B = project(b);\n\n  return atan(\n    (B.y - A.y) * resolution.y,\n    (B.x - A.x) * resolution.x\n  );\n}\n\nconst float PI = 3.141592;\nconst float TWO_PI = 2.0 * PI;\nconst float HALF_PI = 0.5 * PI;\nconst float ONE_AND_HALF_PI = 1.5 * PI;\n\nint option = int(floor(alignOpt.x + 0.001));\nfloat hv_ratio =       alignOpt.y;\nbool enableAlign =    (alignOpt.z != 0.0);\n\nfloat mod_angle(float a) {\n  return mod(a, PI);\n}\n\nfloat positive_angle(float a) {\n  return mod_angle((a < 0.0) ?\n    a + TWO_PI :\n    a\n  );\n}\n\nfloat look_upwards(float a) {\n  float b = positive_angle(a);\n  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?\n    b - PI :\n    b;\n}\n\nfloat look_horizontal_or_vertical(float a, float ratio) {\n  // ratio controls the ratio between being horizontal to (vertical + horizontal)\n  // if ratio is set to 0.5 then it is 50%, 50%.\n  // when using a higher ratio e.g. 0.75 the result would\n  // likely be more horizontal than vertical.\n\n  float b = positive_angle(a);\n\n  return\n    (b < (      ratio) * HALF_PI) ? 0.0 :\n    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :\n    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :\n    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :\n                                    0.0;\n}\n\nfloat roundTo(float a, float b) {\n  return float(b * floor((a + 0.5 * b) / b));\n}\n\nfloat look_round_n_directions(float a, int n) {\n  float b = positive_angle(a);\n  float div = TWO_PI / float(n);\n  float c = roundTo(b, div);\n  return look_upwards(c);\n}\n\nfloat applyAlignOption(float rawAngle, float delta) {\n  return\n    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions\n    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical\n    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis\n    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards\n    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal\n                    rawAngle;                // otherwise return back raw input angle\n}\n\nbool isAxisTitle = (axis.x == 0.0) &&\n                   (axis.y == 0.0) &&\n                   (axis.z == 0.0);\n\nvoid main() {\n  //Compute world offset\n  float axisDistance = position.z;\n  vec3 dataPosition = axisDistance * axis + offset;\n\n  float beta = angle; // i.e. user defined attributes for each tick\n\n  float axisAngle;\n  float clipAngle;\n  float flip;\n\n  if (enableAlign) {\n    axisAngle = (isAxisTitle) ? HALF_PI :\n                      computeViewAngle(dataPosition, dataPosition + axis);\n    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);\n\n    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;\n    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;\n\n    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),\n                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;\n\n    beta += applyAlignOption(clipAngle, flip * PI);\n  }\n\n  //Compute plane offset\n  vec2 planeCoord = position.xy * pixelScale;\n\n  mat2 planeXform = scale * mat2(\n     cos(beta), sin(beta),\n    -sin(beta), cos(beta)\n  );\n\n  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;\n\n  //Compute clip position\n  vec3 clipPosition = project(dataPosition);\n\n  //Apply text offset in clip coordinates\n  clipPosition += vec3(viewOffset, 0.0);\n\n  //Done\n  gl_Position = vec4(clipPosition, 1.0);\n}"]),d=u(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);c.f=function(T){return a(T,s,d,null,[{name:"position",type:"vec3"}])};var g=u(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec3 normal;\n\nuniform mat4 model, view, projection;\nuniform vec3 enable;\nuniform vec3 bounds[2];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n\n  vec3 signAxis = sign(bounds[1] - bounds[0]);\n\n  vec3 realNormal = signAxis * normal;\n\n  if(dot(realNormal, enable) > 0.0) {\n    vec3 minRange = min(bounds[0], bounds[1]);\n    vec3 maxRange = max(bounds[0], bounds[1]);\n    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));\n    gl_Position = projection * view * model * vec4(nPosition, 1.0);\n  } else {\n    gl_Position = vec4(0,0,0,0);\n  }\n\n  colorChannel = abs(realNormal);\n}"]),p=u(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 colors[3];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n  gl_FragColor = colorChannel.x * colors[0] +\n                 colorChannel.y * colors[1] +\n                 colorChannel.z * colors[2];\n}"]);c.bg=function(T){return a(T,g,p,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},9557:function(v,c,i){"use strict";v.exports=function(_,y,w,m,b,k){var h=u(_),O=a(_,[{buffer:h,size:3}]),A=l(_);A.attributes.position.location=0;var I=new g(_,A,h,O);return I.update(y,w,m,b,k),I};var u=i(5827),a=i(2944),o=i(875),l=i(1943).f,s=window||E.global||{},d=s.__TEXT_CACHE||{};function g(_,y,w,m){this.gl=_,this.shader=y,this.buffer=w,this.vao=m,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}s.__TEXT_CACHE={};var p=g.prototype,T=[0,0];p.bind=function(_,y,w,m){this.vao.bind(),this.shader.bind();var b=this.shader.uniforms;b.model=_,b.view=y,b.projection=w,b.pixelScale=m,T[0]=this.gl.drawingBufferWidth,T[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=T},p.unbind=function(){this.vao.unbind()},p.update=function(_,y,w,m,b){var k=[];function h(W,j,Z,V,q,G){var H=d[Z];H||(H=d[Z]={});var ne=H[j];ne||(ne=H[j]=function(ge,xe){try{return o(ge,xe)}catch(ke){return console.warn('error vectorizing text:"'+ge+'" error:',ke),{cells:[],positions:[]}}}(j,{triangles:!0,font:Z,textAlign:"center",textBaseline:"middle",lineSpacing:q,styletags:G}));for(var X=(V||12)/12,$=ne.positions,Q=ne.cells,te=0,re=Q.length;te<re;++te)for(var le=Q[te],ue=2;ue>=0;--ue){var he=$[le[ue]];k.push(X*he[0],-X*he[1],W)}}for(var O=[0,0,0],A=[0,0,0],I=[0,0,0],P=[0,0,0],L={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},N=0;N<3;++N){I[N]=k.length/3|0,h(.5*(_[0][N]+_[1][N]),y[N],w[N],12,1.25,L),P[N]=(k.length/3|0)-I[N],O[N]=k.length/3|0;for(var B=0;B<m[N].length;++B)m[N][B].text&&h(m[N][B].x,m[N][B].text,m[N][B].font||b,m[N][B].fontSize||12,1.25,L);A[N]=(k.length/3|0)-O[N]}this.buffer.update(k),this.tickOffset=O,this.tickCount=A,this.labelOffset=I,this.labelCount=P},p.drawTicks=function(_,y,w,m,b,k,h,O){this.tickCount[_]&&(this.shader.uniforms.axis=k,this.shader.uniforms.color=b,this.shader.uniforms.angle=w,this.shader.uniforms.scale=y,this.shader.uniforms.offset=m,this.shader.uniforms.alignDir=h,this.shader.uniforms.alignOpt=O,this.vao.draw(this.gl.TRIANGLES,this.tickCount[_],this.tickOffset[_]))},p.drawLabel=function(_,y,w,m,b,k,h,O){this.labelCount[_]&&(this.shader.uniforms.axis=k,this.shader.uniforms.color=b,this.shader.uniforms.angle=w,this.shader.uniforms.scale=y,this.shader.uniforms.offset=m,this.shader.uniforms.alignDir=h,this.shader.uniforms.alignOpt=O,this.vao.draw(this.gl.TRIANGLES,this.labelCount[_],this.labelOffset[_]))},p.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()}},8468:function(v,c){"use strict";function i(u,a){var o=u+"",l=o.indexOf("."),s=0;l>=0&&(s=o.length-l-1);var d=Math.pow(10,s),g=Math.round(u*a*d),p=g+"";if(p.indexOf("e")>=0)return p;var T=g/d,_=g%d;g<0?(T=0|-Math.ceil(T),_=0|-_):(T=0|Math.floor(T),_|=0);var y=""+T;if(g<0&&(y="-"+y),s){for(var w=""+_;w.length<s;)w="0"+w;return y+"."+w}return y}c.create=function(u,a){for(var o=[],l=0;l<3;++l){for(var s=[],d=0;d*a[l]<=u[1][l];++d)s.push({x:d*a[l],text:i(a[l],d)});for(d=-1;d*a[l]>=u[0][l];--d)s.push({x:d*a[l],text:i(a[l],d)});o.push(s)}return o},c.equal=function(u,a){for(var o=0;o<3;++o){if(u[o].length!==a[o].length)return!1;for(var l=0;l<u[o].length;++l){var s=u[o][l],d=a[o][l];if(s.x!==d.x||s.text!==d.text||s.font!==d.font||s.fontColor!==d.fontColor||s.fontSize!==d.fontSize||s.dx!==d.dx||s.dy!==d.dy)return!1}}return!0}},2771:function(v,c,i){"use strict";v.exports=function(k,h,O,A,I){var P=h.model||g,L=h.view||g,N=h.projection||g,B=h._ortho||!1,W=k.bounds,j=(I=I||o(P,L,N,W,B)).axis;l(p,L,P),l(p,N,p);for(var Z=m,V=0;V<3;++V)Z[V].lo=1/0,Z[V].hi=-1/0,Z[V].pixelsPerDataUnit=1/0;var q=u(s(p,p));s(p,p);for(var G=0;G<3;++G){var H=(G+1)%3,ne=(G+2)%3,X=b;e:for(V=0;V<2;++V){var $=[];if(j[G]<0!=!!V){X[G]=W[V][G];for(var Q=0;Q<2;++Q){X[H]=W[Q^V][H];for(var te=0;te<2;++te)X[ne]=W[te^Q^V][ne],$.push(X.slice())}var re=B?5:4;for(Q=re;Q===re;++Q){if(0===$.length)continue e;$=a.positive($,q[Q])}for(Q=0;Q<$.length;++Q){var le=w(b,p,ne=$[Q],O,A);for(te=0;te<3;++te)Z[te].lo=Math.min(Z[te].lo,ne[te]),Z[te].hi=Math.max(Z[te].hi,ne[te]),te!==G&&(Z[te].pixelsPerDataUnit=Math.min(Z[te].pixelsPerDataUnit,Math.abs(le[te])))}}}}return Z};var u=i(5795),a=i(4670),o=i(2864),l=i(104),s=i(2142),d=i(6342),g=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),p=new Float32Array(16);function T(k,h,O){this.lo=k,this.hi=h,this.pixelsPerDataUnit=O}var _=[0,0,0,1],y=[0,0,0,1];function w(k,h,O,A,I){for(var P=0;P<3;++P){for(var L=_,N=y,B=0;B<3;++B)N[B]=L[B]=O[B];N[3]=L[3]=1,N[P]+=1,d(N,N,h),N[3]<0&&(k[P]=1/0),L[P]-=1,d(L,L,h),L[3]<0&&(k[P]=1/0);var W=(L[0]/L[3]-N[0]/N[3])*A,j=(L[1]/L[3]-N[1]/N[3])*I;k[P]=.25*Math.sqrt(W*W+j*j)}return k}var m=[new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0)],b=[0,0,0]},5827:function(v,c,i){"use strict";var u=i(5306),a=i(7498),o=i(5050),l=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function s(T,_,y,w,m){this.gl=T,this.type=_,this.handle=y,this.length=w,this.usage=m}var d=s.prototype;function g(T,_,y,w,m,b){var k=m.length*m.BYTES_PER_ELEMENT;if(b<0)return T.bufferData(_,m,w),k;if(k+b>y)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return T.bufferSubData(_,b,m),y}d.bind=function(){this.gl.bindBuffer(this.type,this.handle)},d.unbind=function(){this.gl.bindBuffer(this.type,null)},d.dispose=function(){this.gl.deleteBuffer(this.handle)},d.update=function(T,_){if("number"!=typeof _&&(_=-1),this.bind(),"object"==typeof T&&void 0!==T.shape){var y=T.dtype;if(l.indexOf(y)<0&&(y="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER&&(y=gl.getExtension("OES_element_index_uint")&&"uint16"!==y?"uint32":"uint16"),y===T.dtype&&function(k,h){for(var O=1,A=h.length-1;A>=0;--A){if(h[A]!==O)return!1;O*=k[A]}return!0}(T.shape,T.stride))this.length=g(this.gl,this.type,this.length,this.usage,0===T.offset&&T.data.length===T.shape[0]?T.data:T.data.subarray(T.offset,T.shape[0]),_);else{var w=u.malloc(T.size,y),m=o(w,T.shape);a.assign(m,T),this.length=g(this.gl,this.type,this.length,this.usage,_<0?w:w.subarray(0,T.size),_),u.free(w)}}else if(Array.isArray(T)){var b;b=function p(T,_){for(var y=u.malloc(T.length,_),w=T.length,m=0;m<w;++m)y[m]=T[m];return y}(T,this.type===this.gl.ELEMENT_ARRAY_BUFFER?"uint16":"float32"),this.length=g(this.gl,this.type,this.length,this.usage,_<0?b:b.subarray(0,T.length),_),u.free(b)}else if("object"==typeof T&&"number"==typeof T.length)this.length=g(this.gl,this.type,this.length,this.usage,T,_);else{if("number"!=typeof T&&void 0!==T)throw new Error("gl-buffer: Invalid data type");if(_>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");(T|=0)<=0&&(T=1),this.gl.bufferData(this.type,0|T,this.usage),this.length=T}},v.exports=function(T,_,y,w){if(w=w||T.DYNAMIC_DRAW,(y=y||T.ARRAY_BUFFER)!==T.ARRAY_BUFFER&&y!==T.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(w!==T.DYNAMIC_DRAW&&w!==T.STATIC_DRAW&&w!==T.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var m=T.createBuffer(),b=new s(T,y,m,0,w);return b.update(_),b}},1140:function(v,c,i){"use strict";var u=i(2858);v.exports=function(o,l){var s=o.positions,d=o.vectors,g={positions:[],vertexIntensity:[],vertexIntensityBounds:o.vertexIntensityBounds,vectors:[],cells:[],coneOffset:o.coneOffset,colormap:o.colormap};if(0===o.positions.length)return l&&(l[0]=[0,0,0],l[1]=[0,0,0]),g;for(var p=0,T=1/0,_=-1/0,y=1/0,w=-1/0,m=1/0,b=-1/0,k=null,h=null,O=[],A=1/0,I=!1,P=0;P<s.length;P++){var L=s[P];T=Math.min(L[0],T),_=Math.max(L[0],_),y=Math.min(L[1],y),w=Math.max(L[1],w),m=Math.min(L[2],m),b=Math.max(L[2],b);var N=d[P];if(u.length(N)>p&&(p=u.length(N)),P){var B=2*u.distance(k,L)/(u.length(h)+u.length(N));B?(A=Math.min(A,B),I=!1):I=!0}I||(k=L,h=N),O.push(N)}var j=[_,w,b];l&&(l[0]=[T,y,m],l[1]=j),0===p&&(p=1);var Z=1/p;isFinite(A)||(A=1),g.vectorScale=A;var V=o.coneSize||.5;o.absoluteConeSize&&(V=o.absoluteConeSize*Z),g.coneScale=V,P=0;for(var q=0;P<s.length;P++)for(var G=(L=s[P])[0],H=L[1],ne=L[2],X=O[P],$=u.length(X)*Z,Q=0;Q<8;Q++){g.positions.push([G,H,ne,q++]),g.positions.push([G,H,ne,q++]),g.positions.push([G,H,ne,q++]),g.positions.push([G,H,ne,q++]),g.positions.push([G,H,ne,q++]),g.positions.push([G,H,ne,q++]),g.vectors.push(X),g.vectors.push(X),g.vectors.push(X),g.vectors.push(X),g.vectors.push(X),g.vectors.push(X),g.vertexIntensity.push($,$,$),g.vertexIntensity.push($,$,$);var te=g.positions.length;g.cells.push([te-6,te-5,te-4],[te-3,te-2,te-1])}return g};var a=i(7234);v.exports.createMesh=i(5028),v.exports.createConeMesh=function(o,l){return v.exports.createMesh(o,l,{shaders:a,traceType:"cone"})}},5028:function(v,c,i){"use strict";var u=i(5158),a=i(5827),o=i(2944),l=i(8931),s=i(104),d=i(7437),g=i(5050),p=i(9156),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function _(b,k,h,O,A,I,P,L,N,B,W){this.gl=b,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=k,this.dirty=!0,this.triShader=h,this.pickShader=O,this.trianglePositions=A,this.triangleVectors=I,this.triangleColors=L,this.triangleUVs=N,this.triangleIds=P,this.triangleVAO=B,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=W,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=T,this._view=T,this._projection=T,this._resolution=[1,1]}var y=_.prototype;function w(b,k){var h=u(b,k.meshShader.vertex,k.meshShader.fragment,null,k.meshShader.attributes);return h.attributes.position.location=0,h.attributes.color.location=2,h.attributes.uv.location=3,h.attributes.vector.location=4,h}function m(b,k){var h=u(b,k.pickShader.vertex,k.pickShader.fragment,null,k.pickShader.attributes);return h.attributes.position.location=0,h.attributes.id.location=1,h.attributes.vector.location=4,h}y.isOpaque=function(){return this.opacity>=1},y.isTransparent=function(){return this.opacity<1},y.pickSlots=1,y.setPickBase=function(b){this.pickId=b},y.update=function(b){b=b||{};var k=this.gl;this.dirty=!0,"lightPosition"in b&&(this.lightPosition=b.lightPosition),"opacity"in b&&(this.opacity=b.opacity),"ambient"in b&&(this.ambientLight=b.ambient),"diffuse"in b&&(this.diffuseLight=b.diffuse),"specular"in b&&(this.specularLight=b.specular),"roughness"in b&&(this.roughness=b.roughness),"fresnel"in b&&(this.fresnel=b.fresnel),void 0!==b.tubeScale&&(this.tubeScale=b.tubeScale),void 0!==b.vectorScale&&(this.vectorScale=b.vectorScale),void 0!==b.coneScale&&(this.coneScale=b.coneScale),void 0!==b.coneOffset&&(this.coneOffset=b.coneOffset),b.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=k.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=k.LINEAR,this.texture.setPixels(function(he){for(var ge=p({colormap:he,nshades:256,format:"rgba"}),xe=new Uint8Array(1024),ke=0;ke<256;++ke){for(var Ae=ge[ke],pe=0;pe<3;++pe)xe[4*ke+pe]=Ae[pe];xe[4*ke+3]=255*Ae[3]}return g(xe,[256,256,4],[4,0,1])}(b.colormap)),this.texture.generateMipmap());var h=b.cells,O=b.positions,A=b.vectors;if(O&&h&&A){var I=[],P=[],L=[],N=[],B=[];this.cells=h,this.positions=O,this.vectors=A;var W=b.meshColor||[1,1,1,1],j=b.vertexIntensity,Z=1/0,V=-1/0;if(j)if(b.vertexIntensityBounds)Z=+b.vertexIntensityBounds[0],V=+b.vertexIntensityBounds[1];else for(var q=0;q<j.length;++q){var G=j[q];Z=Math.min(Z,G),V=Math.max(V,G)}else for(q=0;q<O.length;++q)G=O[q][2],Z=Math.min(Z,G),V=Math.max(V,G);for(this.intensity=j||function(he){for(var ge=he.length,xe=new Array(ge),ke=0;ke<ge;++ke)xe[ke]=he[ke][2];return xe}(O),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],q=0;q<O.length;++q)for(var H=O[q],ne=0;ne<3;++ne)!isNaN(H[ne])&&isFinite(H[ne])&&(this.bounds[0][ne]=Math.min(this.bounds[0][ne],H[ne]),this.bounds[1][ne]=Math.max(this.bounds[1][ne],H[ne]));var X=0;e:for(q=0;q<h.length;++q){var $=h[q];if(3===$.length){for(ne=0;ne<3;++ne){H=O[te=$[ne]];for(var Q=0;Q<3;++Q)if(isNaN(H[Q])||!isFinite(H[Q]))continue e}for(ne=0;ne<3;++ne){var te;H=O[te=$[2-ne]],I.push(H[0],H[1],H[2],H[3]);var re=A[te];P.push(re[0],re[1],re[2],re[3]||0);var le;L.push(W[0],W[1],W[2],3===W.length?1:W[3]),N.push((le=j?[(j[te]-Z)/(V-Z),0]:[(H[2]-Z)/(V-Z),0])[0],le[1]),B.push(q)}X+=1}}this.triangleCount=X,this.trianglePositions.update(I),this.triangleVectors.update(P),this.triangleColors.update(L),this.triangleUVs.update(N),this.triangleIds.update(new Uint32Array(B))}},y.drawTransparent=y.draw=function(b){for(var k=this.gl,h=(b=b||{}).model||T,O=b.view||T,A=b.projection||T,I=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],P=0;P<3;++P)I[0][P]=Math.max(I[0][P],this.clipBounds[0][P]),I[1][P]=Math.min(I[1][P],this.clipBounds[1][P]);var L={model:h,view:O,projection:A,inverseModel:T.slice(),clipBounds:I,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};L.inverseModel=d(L.inverseModel,L.model),k.disable(k.CULL_FACE),this.texture.bind(0);var N=new Array(16);for(s(N,L.view,L.model),s(N,L.projection,N),d(N,N),P=0;P<3;++P)L.eyePosition[P]=N[12+P]/N[15];var B=N[15];for(P=0;P<3;++P)B+=this.lightPosition[P]*N[4*P+3];for(P=0;P<3;++P){for(var W=N[12+P],j=0;j<3;++j)W+=N[4*j+P]*this.lightPosition[j];L.lightPosition[P]=W/B}if(this.triangleCount>0){var Z=this.triShader;Z.bind(),Z.uniforms=L,this.triangleVAO.bind(),k.drawArrays(k.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()}},y.drawPick=function(b){for(var k=this.gl,h=(b=b||{}).model||T,O=b.view||T,A=b.projection||T,I=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],P=0;P<3;++P)I[0][P]=Math.max(I[0][P],this.clipBounds[0][P]),I[1][P]=Math.min(I[1][P],this.clipBounds[1][P]);this._model=[].slice.call(h),this._view=[].slice.call(O),this._projection=[].slice.call(A),this._resolution=[k.drawingBufferWidth,k.drawingBufferHeight];var L={model:h,view:O,projection:A,clipBounds:I,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},N=this.pickShader;N.bind(),N.uniforms=L,this.triangleCount>0&&(this.triangleVAO.bind(),k.drawArrays(k.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind())},y.pick=function(b){if(!b||b.id!==this.pickId)return null;var k=b.value[0]+256*b.value[1]+65536*b.value[2],h=this.cells[k],O=this.positions[h[1]].slice(0,3),A={position:O,dataCoordinate:O,index:Math.floor(h[1]/48)};return"cone"===this.traceType?A.index=Math.floor(h[1]/48):"streamtube"===this.traceType&&(A.intensity=this.intensity[h[1]],A.velocity=this.vectors[h[1]].slice(0,3),A.divergence=this.vectors[h[1]][3],A.index=k),A},y.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()},v.exports=function(b,k,h){var O=h.shaders;1===arguments.length&&(b=(k=b).gl);var A=w(b,O),I=m(b,O),P=l(b,g(new Uint8Array([255,255,255,255]),[1,1,4]));P.generateMipmap(),P.minFilter=b.LINEAR_MIPMAP_LINEAR,P.magFilter=b.LINEAR;var L=a(b),N=a(b),B=a(b),W=a(b),j=a(b),V=new _(b,P,A,I,L,N,j,B,W,o(b,[{buffer:L,type:b.FLOAT,size:4},{buffer:j,type:b.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:B,type:b.FLOAT,size:4},{buffer:W,type:b.FLOAT,size:2},{buffer:N,type:b.FLOAT,size:4}]),h.traceType||"cone");return V.update(k),V}},7234:function(v,c,i){var u=i(6832),a=u(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the cone vertex and normal at the given index.\n//\n// The returned vertex is for a cone with its top at origin and height of 1.0,\n// pointing in the direction of the vector attribute.\n//\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\n// These vertices are used to make up the triangles of the cone by the following:\n//   segment + 0 top vertex\n//   segment + 1 perimeter vertex a+1\n//   segment + 2 perimeter vertex a\n//   segment + 3 center base vertex\n//   segment + 4 perimeter vertex a\n//   segment + 5 perimeter vertex a+1\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\n// To go from index to segment, floor(index / 6)\n// To go from segment to angle, 2*pi * (segment/segmentCount)\n// To go from index to segment index, index - (segment*6)\n//\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\n\n  const float segmentCount = 8.0;\n\n  float index = rawIndex - floor(rawIndex /\n    (segmentCount * 6.0)) *\n    (segmentCount * 6.0);\n\n  float segment = floor(0.001 + index/6.0);\n  float segmentIndex = index - (segment*6.0);\n\n  normal = -normalize(d);\n\n  if (segmentIndex > 2.99 && segmentIndex < 3.01) {\n    return mix(vec3(0.0), -d, coneOffset);\n  }\n\n  float nextAngle = (\n    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||\n    (segmentIndex > 4.99 &&  segmentIndex < 5.01)\n  ) ? 1.0 : 0.0;\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\n\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\n  vec3 v2 = v1 - d;\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d)*0.25;\n  vec3 y = v * sin(angle) * length(d)*0.25;\n  vec3 v3 = v2 + x + y;\n  if (segmentIndex < 3.0) {\n    vec3 tx = u * sin(angle);\n    vec3 ty = v * -cos(angle);\n    vec3 tangent = tx + ty;\n    normal = normalize(cross(v3 - v1, tangent));\n  }\n\n  if (segmentIndex == 0.0) {\n    return mix(d, vec3(0.0), coneOffset);\n  }\n  return v3;\n}\n\nattribute vec3 vector;\nattribute vec4 color, position;\nattribute vec2 uv;\n\nuniform float vectorScale, coneScale, coneOffset;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 eyePosition, lightPosition;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  // Scale the vector magnitude to stay constant with\n  // model & view changes.\n  vec3 normal;\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * conePosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  // vec4 m_position  = model * vec4(conePosition, 1.0);\n  vec4 t_position  = view * conePosition;\n  gl_Position      = projection * t_position;\n\n  f_color          = color;\n  f_data           = conePosition.xyz;\n  f_position       = position.xyz;\n  f_uv             = uv;\n}\n"]),o=u(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}\n"]),l=u(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the cone vertex and normal at the given index.\n//\n// The returned vertex is for a cone with its top at origin and height of 1.0,\n// pointing in the direction of the vector attribute.\n//\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\n// These vertices are used to make up the triangles of the cone by the following:\n//   segment + 0 top vertex\n//   segment + 1 perimeter vertex a+1\n//   segment + 2 perimeter vertex a\n//   segment + 3 center base vertex\n//   segment + 4 perimeter vertex a\n//   segment + 5 perimeter vertex a+1\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\n// To go from index to segment, floor(index / 6)\n// To go from segment to angle, 2*pi * (segment/segmentCount)\n// To go from index to segment index, index - (segment*6)\n//\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\n\n  const float segmentCount = 8.0;\n\n  float index = rawIndex - floor(rawIndex /\n    (segmentCount * 6.0)) *\n    (segmentCount * 6.0);\n\n  float segment = floor(0.001 + index/6.0);\n  float segmentIndex = index - (segment*6.0);\n\n  normal = -normalize(d);\n\n  if (segmentIndex > 2.99 && segmentIndex < 3.01) {\n    return mix(vec3(0.0), -d, coneOffset);\n  }\n\n  float nextAngle = (\n    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||\n    (segmentIndex > 4.99 &&  segmentIndex < 5.01)\n  ) ? 1.0 : 0.0;\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\n\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\n  vec3 v2 = v1 - d;\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d)*0.25;\n  vec3 y = v * sin(angle) * length(d)*0.25;\n  vec3 v3 = v2 + x + y;\n  if (segmentIndex < 3.0) {\n    vec3 tx = u * sin(angle);\n    vec3 ty = v * -cos(angle);\n    vec3 tangent = tx + ty;\n    normal = normalize(cross(v3 - v1, tangent));\n  }\n\n  if (segmentIndex == 0.0) {\n    return mix(d, vec3(0.0), coneOffset);\n  }\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform float vectorScale, coneScale, coneOffset;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  vec3 normal;\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n  gl_Position = projection * view * conePosition;\n  f_id        = id;\n  f_position  = position.xyz;\n}\n"]),s=u(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]);c.meshShader={vertex:a,fragment:o,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},c.pickShader={vertex:l,fragment:s,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},1950:function(v){v.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},6603:function(v,c,i){var u=i(1950);v.exports=function(a){return u[a]}},3110:function(v,c,i){"use strict";v.exports=function(_){var y=_.gl,w=u(y),m=a(y,[{buffer:w,type:y.FLOAT,size:3,offset:0,stride:40},{buffer:w,type:y.FLOAT,size:4,offset:12,stride:40},{buffer:w,type:y.FLOAT,size:3,offset:28,stride:40}]),b=o(y);b.attributes.position.location=0,b.attributes.color.location=1,b.attributes.offset.location=2;var k=new s(y,w,m,b);return k.update(_),k};var u=i(5827),a=i(2944),o=i(7667),l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function s(_,y,w,m){this.gl=_,this.shader=m,this.buffer=y,this.vao=w,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var d=s.prototype;function g(_,y){for(var w=0;w<3;++w)_[0][w]=Math.min(_[0][w],y[w]),_[1][w]=Math.max(_[1][w],y[w])}d.isOpaque=function(){return!this.hasAlpha},d.isTransparent=function(){return this.hasAlpha},d.drawTransparent=d.draw=function(_){var y=this.gl,w=this.shader.uniforms;this.shader.bind();var m=w.view=_.view||l,b=w.projection=_.projection||l;w.model=_.model||l,w.clipBounds=this.clipBounds,w.opacity=this.opacity;var I=(_._ortho?2:1)*this.pixelRatio*(b[3]*m[12]+b[7]*m[13]+b[11]*m[14]+b[15]*m[15])/y.drawingBufferHeight;this.vao.bind();for(var P=0;P<3;++P)y.lineWidth(this.lineWidth[P]*this.pixelRatio),w.capSize=this.capSize[P]*I,this.lineCount[P]&&y.drawArrays(y.LINES,this.lineOffset[P],this.lineCount[P]);this.vao.unbind()};var p=function(){for(var _=new Array(3),y=0;y<3;++y){for(var w=[],m=1;m<=2;++m)for(var b=-1;b<=1;b+=2){var k=[0,0,0];k[(m+y)%3]=b,w.push(k)}_[y]=w}return _}();function T(_,y,w,m){for(var b=p[m],k=0;k<b.length;++k){var h=b[k];_.push(y[0],y[1],y[2],w[0],w[1],w[2],w[3],h[0],h[1],h[2])}return b.length}d.update=function(_){"lineWidth"in(_=_||{})&&(this.lineWidth=_.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in _&&(this.capSize=_.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in _&&(this.opacity=+_.opacity,this.opacity<1&&(this.hasAlpha=!0));var y=_.color||[[0,0,0],[0,0,0],[0,0,0]],w=_.position,m=_.error;if(Array.isArray(y[0])||(y=[y,y,y]),w&&m){var b=[],k=w.length,h=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var O=0;O<3;++O){this.lineOffset[O]=h;e:for(var A=0;A<k;++A){for(var I=w[A],P=0;P<3;++P)if(isNaN(I[P])||!isFinite(I[P]))continue e;var L,N=m[A],B=y[O];Array.isArray(B[0])&&(B=y[A]),3===B.length?B=[B[0],B[1],B[2],1]:4===B.length&&(B=[B[0],B[1],B[2],B[3]],!this.hasAlpha&&B[3]<1&&(this.hasAlpha=!0)),isNaN(N[0][O])||isNaN(N[1][O])||(N[0][O]<0&&((L=I.slice())[O]+=N[0][O],b.push(I[0],I[1],I[2],B[0],B[1],B[2],B[3],0,0,0,L[0],L[1],L[2],B[0],B[1],B[2],B[3],0,0,0),g(this.bounds,L),h+=2+T(b,L,B,O)),N[1][O]>0&&((L=I.slice())[O]+=N[1][O],b.push(I[0],I[1],I[2],B[0],B[1],B[2],B[3],0,0,0,L[0],L[1],L[2],B[0],B[1],B[2],B[3],0,0,0),g(this.bounds,L),h+=2+T(b,L,B,O)))}this.lineCount[O]=h-this.lineOffset[O]}this.buffer.update(b)}},d.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()}},7667:function(v,c,i){"use strict";var u=i(6832),a=i(5158),o=u(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, offset;\nattribute vec4 color;\nuniform mat4 model, view, projection;\nuniform float capSize;\nvarying vec4 fragColor;\nvarying vec3 fragPosition;\n\nvoid main() {\n  vec4 worldPosition  = model * vec4(position, 1.0);\n  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);\n  gl_Position         = projection * view * worldPosition;\n  fragColor           = color;\n  fragPosition        = position;\n}"]),l=u(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float opacity;\nvarying vec3 fragPosition;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  gl_FragColor = opacity * fragColor;\n}"]);v.exports=function(s){return a(s,o,l,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},4234:function(v,c,i){"use strict";var u=i(8931);v.exports=function(k,h,O,A){a||(a=k.FRAMEBUFFER_UNSUPPORTED,o=k.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,l=k.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,s=k.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var I=k.getExtension("WEBGL_draw_buffers");if(!d&&I&&function(Z,V){var q=Z.getParameter(V.MAX_COLOR_ATTACHMENTS_WEBGL);d=new Array(q+1);for(var G=0;G<=q;++G){for(var H=new Array(q),ne=0;ne<G;++ne)H[ne]=Z.COLOR_ATTACHMENT0+ne;for(ne=G;ne<q;++ne)H[ne]=Z.NONE;d[G]=H}}(k,I),Array.isArray(h)&&(A=O,O=0|h[1],h=0|h[0]),"number"!=typeof h)throw new Error("gl-fbo: Missing shape parameter");var P=k.getParameter(k.MAX_RENDERBUFFER_SIZE);if(h<0||h>P||O<0||O>P)throw new Error("gl-fbo: Parameters are too large for FBO");var L=1;if("color"in(A=A||{})){if((L=Math.max(0|A.color,0))<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(L>1){if(!I)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(L>k.getParameter(I.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+L+" draw buffers")}}var N=k.UNSIGNED_BYTE,B=k.getExtension("OES_texture_float");if(A.float&&L>0){if(!B)throw new Error("gl-fbo: Context does not support floating point textures");N=k.FLOAT}else A.preferFloat&&L>0&&B&&(N=k.FLOAT);var W=!0;"depth"in A&&(W=!!A.depth);var j=!1;return"stencil"in A&&(j=!!A.stencil),new w(k,h,O,N,L,W,j,I)};var a,o,l,s,d=null;function g(k){return[k.getParameter(k.FRAMEBUFFER_BINDING),k.getParameter(k.RENDERBUFFER_BINDING),k.getParameter(k.TEXTURE_BINDING_2D)]}function p(k,h){k.bindFramebuffer(k.FRAMEBUFFER,h[0]),k.bindRenderbuffer(k.RENDERBUFFER,h[1]),k.bindTexture(k.TEXTURE_2D,h[2])}function T(k){switch(k){case a:throw new Error("gl-fbo: Framebuffer unsupported");case o:throw new Error("gl-fbo: Framebuffer incomplete attachment");case l:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case s:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function _(k,h,O,A,I,P){if(!A)return null;var L=u(k,h,O,I,A);return L.magFilter=k.NEAREST,L.minFilter=k.NEAREST,L.mipSamples=1,L.bind(),k.framebufferTexture2D(k.FRAMEBUFFER,P,k.TEXTURE_2D,L.handle,0),L}function y(k,h,O,A,I){var P=k.createRenderbuffer();return k.bindRenderbuffer(k.RENDERBUFFER,P),k.renderbufferStorage(k.RENDERBUFFER,A,h,O),k.framebufferRenderbuffer(k.FRAMEBUFFER,I,k.RENDERBUFFER,P),P}function w(k,h,O,A,I,P,L,N){this.gl=k,this._shape=[0|h,0|O],this._destroyed=!1,this._ext=N,this.color=new Array(I);for(var B=0;B<I;++B)this.color[B]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=A,this._useDepth=P,this._useStencil=L;var W=this,j=[0|h,0|O];Object.defineProperties(j,{0:{get:function(){return W._shape[0]},set:function(Z){return W.width=Z}},1:{get:function(){return W._shape[1]},set:function(Z){return W.height=Z}}}),this._shapeVector=j,function(Z){var V=g(Z.gl),q=Z.gl,G=Z.handle=q.createFramebuffer(),H=Z._shape[0],ne=Z._shape[1],X=Z.color.length,$=Z._ext,Q=Z._useStencil,te=Z._useDepth,re=Z._colorType;q.bindFramebuffer(q.FRAMEBUFFER,G);for(var le=0;le<X;++le)Z.color[le]=_(q,H,ne,re,q.RGBA,q.COLOR_ATTACHMENT0+le);0===X?(Z._color_rb=y(q,H,ne,q.RGBA4,q.COLOR_ATTACHMENT0),$&&$.drawBuffersWEBGL(d[0])):X>1&&$.drawBuffersWEBGL(d[X]);var ue=q.getExtension("WEBGL_depth_texture");ue?Q?Z.depth=_(q,H,ne,ue.UNSIGNED_INT_24_8_WEBGL,q.DEPTH_STENCIL,q.DEPTH_STENCIL_ATTACHMENT):te&&(Z.depth=_(q,H,ne,q.UNSIGNED_SHORT,q.DEPTH_COMPONENT,q.DEPTH_ATTACHMENT)):te&&Q?Z._depth_rb=y(q,H,ne,q.DEPTH_STENCIL,q.DEPTH_STENCIL_ATTACHMENT):te?Z._depth_rb=y(q,H,ne,q.DEPTH_COMPONENT16,q.DEPTH_ATTACHMENT):Q&&(Z._depth_rb=y(q,H,ne,q.STENCIL_INDEX,q.STENCIL_ATTACHMENT));var he=q.checkFramebufferStatus(q.FRAMEBUFFER);if(he!==q.FRAMEBUFFER_COMPLETE){for(Z._destroyed=!0,q.bindFramebuffer(q.FRAMEBUFFER,null),q.deleteFramebuffer(Z.handle),Z.handle=null,Z.depth&&(Z.depth.dispose(),Z.depth=null),Z._depth_rb&&(q.deleteRenderbuffer(Z._depth_rb),Z._depth_rb=null),le=0;le<Z.color.length;++le)Z.color[le].dispose(),Z.color[le]=null;Z._color_rb&&(q.deleteRenderbuffer(Z._color_rb),Z._color_rb=null),p(q,V),T(he)}p(q,V)}(this)}var m=w.prototype;function b(k,h,O){if(k._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(k._shape[0]!==h||k._shape[1]!==O){var A=k.gl,I=A.getParameter(A.MAX_RENDERBUFFER_SIZE);if(h<0||h>I||O<0||O>I)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");k._shape[0]=h,k._shape[1]=O;for(var P=g(A),L=0;L<k.color.length;++L)k.color[L].shape=k._shape;k._color_rb&&(A.bindRenderbuffer(A.RENDERBUFFER,k._color_rb),A.renderbufferStorage(A.RENDERBUFFER,A.RGBA4,k._shape[0],k._shape[1])),k.depth&&(k.depth.shape=k._shape),k._depth_rb&&(A.bindRenderbuffer(A.RENDERBUFFER,k._depth_rb),k._useDepth&&k._useStencil?A.renderbufferStorage(A.RENDERBUFFER,A.DEPTH_STENCIL,k._shape[0],k._shape[1]):k._useDepth?A.renderbufferStorage(A.RENDERBUFFER,A.DEPTH_COMPONENT16,k._shape[0],k._shape[1]):k._useStencil&&A.renderbufferStorage(A.RENDERBUFFER,A.STENCIL_INDEX,k._shape[0],k._shape[1])),A.bindFramebuffer(A.FRAMEBUFFER,k.handle);var N=A.checkFramebufferStatus(A.FRAMEBUFFER);N!==A.FRAMEBUFFER_COMPLETE&&(k.dispose(),p(A,P),T(N)),p(A,P)}}Object.defineProperties(m,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(k){if(Array.isArray(k)||(k=[0|k,0|k]),2!==k.length)throw new Error("gl-fbo: Shape vector must be length 2");var h=0|k[0],O=0|k[1];return b(this,h,O),[h,O]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(k){return b(this,k|=0,this._shape[1]),k},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(k){return b(this,this._shape[0],k|=0),k},enumerable:!1}}),m.bind=function(){if(!this._destroyed){var k=this.gl;k.bindFramebuffer(k.FRAMEBUFFER,this.handle),k.viewport(0,0,this._shape[0],this._shape[1])}},m.dispose=function(){if(!this._destroyed){this._destroyed=!0;var k=this.gl;k.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(k.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var h=0;h<this.color.length;++h)this.color[h].dispose(),this.color[h]=null;this._color_rb&&(k.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},3530:function(v,c,i){var u=i(8974).sprintf,a=i(6603),o=i(9365),l=i(8008);v.exports=function(s,d,g){"use strict";var p=o(d)||"of unknown name (see npm glsl-shader-name)",T="unknown type";void 0!==g&&(T=g===a.FRAGMENT_SHADER?"fragment":"vertex");for(var _=u("Error compiling %s shader %s:\n",T,p),y=u("%s%s",_,s),w=s.split("\n"),m={},b=0;b<w.length;b++){var k=w[b];if(""!==k&&"\0"!==k){var h=parseInt(k.split(":")[2]);if(isNaN(h))throw new Error(u("Could not parse error: %s",k));m[h]=k}}var O=l(d).split("\n");for(b=0;b<O.length;b++)if((m[b+3]||m[b+2]||m[b+1])&&(_+=O[b]+"\n",m[b+1])){var A=m[b+1];A=A.substr(A.split(":",3).join(":").length+1).trim(),_+=u("^^^ %s\n\n",A)}return{long:_.trim(),short:y.trim()}}},6386:function(v,c,i){"use strict";v.exports=function(y,w){var m=y.gl,b=new g(y,l(m,d.vertex,d.fragment),l(m,d.pickVertex,d.pickFragment),s(m),s(m),s(m),s(m));return b.update(w),y.addObject(b),b};var u=i(5070),a=i(9560),o=i(5306),l=i(5158),s=i(5827),d=i(1292);function g(y,w,m,b,k,h,O){this.plot=y,this.shader=w,this.pickShader=m,this.positionBuffer=b,this.weightBuffer=k,this.colorBuffer=h,this.idBuffer=O,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var p,y,w,T=g.prototype,_=[0,0,1,0,0,1,1,0,1,1,0,1];T.draw=(p=[1,0,0,0,1,0,0,0,1],function(){var y=this.plot,w=this.shader,m=this.bounds,b=this.numVertices;if(!(b<=0)){var k=y.gl,h=y.dataBox,A=m[3]-m[1],I=h[2]-h[0],P=h[3]-h[1];p[0]=2*(m[2]-m[0])/I,p[4]=2*A/P,p[6]=2*(m[0]-h[0])/I-1,p[7]=2*(m[1]-h[1])/P-1,w.bind();var L=w.uniforms;L.viewTransform=p,L.shape=this.shape;var N=w.attributes;this.positionBuffer.bind(),N.position.pointer(),this.weightBuffer.bind(),N.weight.pointer(k.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),N.color.pointer(k.UNSIGNED_BYTE,!0),k.drawArrays(k.TRIANGLES,0,b)}}),T.drawPick=(y=[1,0,0,0,1,0,0,0,1],w=[0,0,0,0],function(m){var b=this.plot,k=this.pickShader,h=this.bounds,O=this.numVertices;if(!(O<=0)){var A=b.gl,I=b.dataBox,L=h[3]-h[1],N=I[2]-I[0],B=I[3]-I[1];y[0]=2*(h[2]-h[0])/N,y[4]=2*L/B,y[6]=2*(h[0]-I[0])/N-1,y[7]=2*(h[1]-I[1])/B-1;for(var W=0;W<4;++W)w[W]=m>>8*W&255;this.pickOffset=m,k.bind();var j=k.uniforms;j.viewTransform=y,j.pickOffset=w,j.shape=this.shape;var Z=k.attributes;return this.positionBuffer.bind(),Z.position.pointer(),this.weightBuffer.bind(),Z.weight.pointer(A.UNSIGNED_BYTE,!1),this.idBuffer.bind(),Z.pickId.pointer(A.UNSIGNED_BYTE,!1),A.drawArrays(A.TRIANGLES,0,O),m+this.shape[0]*this.shape[1]}}),T.pick=function(y,w,m){var b=this.pickOffset;if(m<b||m>=b+this.shape[0]*this.shape[1])return null;var h=m-b;return{object:this,pointId:h,dataCoord:[this.xData[h%this.shape[0]],this.yData[h/this.shape[0]|0]]}},T.update=function(y){var w=(y=y||{}).shape||[0,0],m=y.x||a(w[0]),b=y.y||a(w[1]),k=y.z||new Float32Array(w[0]*w[1]),h=!1!==y.zsmooth;this.xData=m,this.yData=b;var O,A,I,P,L=y.colorLevels||[0],N=y.colorValues||[0,0,0,1],B=L.length,W=this.bounds;h?(O=W[0]=m[0],A=W[1]=b[0],I=W[2]=m[m.length-1],P=W[3]=b[b.length-1]):(O=W[0]=m[0]+(m[1]-m[0])/2,A=W[1]=b[0]+(b[1]-b[0])/2,I=W[2]=m[m.length-1]+(m[m.length-1]-m[m.length-2])/2,P=W[3]=b[b.length-1]+(b[b.length-1]-b[b.length-2])/2);var j=1/(I-O),Z=1/(P-A),V=w[0],q=w[1];this.shape=[V,q];var G=(h?(V-1)*(q-1):V*q)*(_.length>>>1);this.numVertices=G;for(var H=o.mallocUint8(4*G),ne=o.mallocFloat32(2*G),X=o.mallocUint8(2*G),$=o.mallocUint32(G),Q=0,te=h?V-1:V,re=h?q-1:q,le=0;le<re;++le){var ue,he;h?(ue=Z*(b[le]-A),he=Z*(b[le+1]-A)):(ue=le<q-1?Z*(b[le]-(b[le+1]-b[le])/2-A):Z*(b[le]-(b[le]-b[le-1])/2-A),he=le<q-1?Z*(b[le]+(b[le+1]-b[le])/2-A):Z*(b[le]+(b[le]-b[le-1])/2-A));for(var ge=0;ge<te;++ge){var xe,ke;h?(xe=j*(m[ge]-O),ke=j*(m[ge+1]-O)):(xe=ge<V-1?j*(m[ge]-(m[ge+1]-m[ge])/2-O):j*(m[ge]-(m[ge]-m[ge-1])/2-O),ke=ge<V-1?j*(m[ge]+(m[ge+1]-m[ge])/2-O):j*(m[ge]+(m[ge]-m[ge-1])/2-O));for(var Ae=0;Ae<_.length;Ae+=2){var pe,ye,Ne,be,Ee=_[Ae],Oe=_[Ae+1],De=k[h?(le+Oe)*V+(ge+Ee):le*V+ge],oe=u.le(L,De);if(oe<0)pe=N[0],ye=N[1],Ne=N[2],be=N[3];else if(oe===B-1)pe=N[4*B-4],ye=N[4*B-3],Ne=N[4*B-2],be=N[4*B-1];else{var de=(De-L[oe])/(L[oe+1]-L[oe]),_e=1-de,Me=4*oe,Pe=4*(oe+1);pe=_e*N[Me]+de*N[Pe],ye=_e*N[Me+1]+de*N[Pe+1],Ne=_e*N[Me+2]+de*N[Pe+2],be=_e*N[Me+3]+de*N[Pe+3]}H[4*Q]=255*pe,H[4*Q+1]=255*ye,H[4*Q+2]=255*Ne,H[4*Q+3]=255*be,ne[2*Q]=.5*xe+.5*ke,ne[2*Q+1]=.5*ue+.5*he,X[2*Q]=Ee,X[2*Q+1]=Oe,$[Q]=le*V+ge,Q+=1}}}this.positionBuffer.update(ne),this.weightBuffer.update(X),this.colorBuffer.update(H),this.idBuffer.update($),o.free(ne),o.free(H),o.free(X),o.free($)},T.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)}},1292:function(v,c,i){"use strict";var u=i(6832);v.exports={fragment:u(["precision lowp float;\n#define GLSLIFY 1\nvarying vec4 fragColor;\nvoid main() {\n  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);\n}\n"]),vertex:u(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 color;\nattribute vec2 weight;\n\nuniform vec2 shape;\nuniform mat3 viewTransform;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\n  fragColor = color;\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n"]),pickFragment:u(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\nvarying vec2 vWeight;\n\nuniform vec2 shape;\nuniform vec4 pickOffset;\n\nvoid main() {\n  vec2 d = step(.5, vWeight);\n  vec4 id = fragId + pickOffset;\n  id.x += d.x + d.y*shape.x;\n\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  gl_FragColor = id/255.;\n}\n"]),pickVertex:u(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\nattribute vec2 weight;\n\nuniform vec2 shape;\nuniform mat3 viewTransform;\n\nvarying vec4 fragId;\nvarying vec2 vWeight;\n\nvoid main() {\n  vWeight = weight;\n\n  fragId = pickId;\n\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n"])}},248:function(v,c,i){var u=i(6832),a=i(5158),o=u(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, nextPosition;\nattribute float arcLength, lineWidth;\nattribute vec4 color;\n\nuniform vec2 screenShape;\nuniform float pixelRatio;\nuniform mat4 model, view, projection;\n\nvarying vec4 fragColor;\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\n\nvec4 project(vec3 p) {\n  return projection * view * model * vec4(p, 1.0);\n}\n\nvoid main() {\n  vec4 startPoint = project(position);\n  vec4 endPoint   = project(nextPosition);\n\n  vec2 A = startPoint.xy / startPoint.w;\n  vec2 B =   endPoint.xy /   endPoint.w;\n\n  float clipAngle = atan(\n    (B.y - A.y) * screenShape.y,\n    (B.x - A.x) * screenShape.x\n  );\n\n  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(\n    sin(clipAngle),\n    -cos(clipAngle)\n  ) / screenShape;\n\n  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);\n\n  worldPosition = position;\n  pixelArcLength = arcLength;\n  fragColor = color;\n}\n"]),l=u(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3      clipBounds[2];\nuniform sampler2D dashTexture;\nuniform float     dashScale;\nuniform float     opacity;\n\nvarying vec3    worldPosition;\nvarying float   pixelArcLength;\nvarying vec4    fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;\n  if(dashWeight < 0.5) {\n    discard;\n  }\n  gl_FragColor = fragColor * opacity;\n}\n"]),s=u(["precision highp float;\n#define GLSLIFY 1\n\n#define FLOAT_MAX  1.70141184e38\n#define FLOAT_MIN  1.17549435e-38\n\n// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl\nvec4 packFloat(float v) {\n  float av = abs(v);\n\n  //Handle special cases\n  if(av < FLOAT_MIN) {\n    return vec4(0.0, 0.0, 0.0, 0.0);\n  } else if(v > FLOAT_MAX) {\n    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;\n  } else if(v < -FLOAT_MAX) {\n    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;\n  }\n\n  vec4 c = vec4(0,0,0,0);\n\n  //Compute exponent and mantissa\n  float e = floor(log2(av));\n  float m = av * pow(2.0, -e) - 1.0;\n\n  //Unpack mantissa\n  c[1] = floor(128.0 * m);\n  m -= c[1] / 128.0;\n  c[2] = floor(32768.0 * m);\n  m -= c[2] / 32768.0;\n  c[3] = floor(8388608.0 * m);\n\n  //Unpack exponent\n  float ebias = e + 127.0;\n  c[0] = floor(ebias / 2.0);\n  ebias -= c[0] * 2.0;\n  c[1] += floor(ebias) * 128.0;\n\n  //Unpack sign bit\n  c[0] += 128.0 * step(0.0, -v);\n\n  //Scale back to range\n  return c / 255.0;\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform float pickId;\nuniform vec3 clipBounds[2];\n\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;\n\n  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);\n}"]),d=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];c.createShader=function(g){return a(g,o,l,null,d)},c.createPickShader=function(g){return a(g,o,s,null,d)}},6086:function(v,c,i){"use strict";v.exports=function(O){var A=O.gl||O.scene&&O.scene.gl,I=T(A);I.attributes.position.location=0,I.attributes.nextPosition.location=1,I.attributes.arcLength.location=2,I.attributes.lineWidth.location=3,I.attributes.color.location=4;var P=_(A);P.attributes.position.location=0,P.attributes.nextPosition.location=1,P.attributes.arcLength.location=2,P.attributes.lineWidth.location=3,P.attributes.color.location=4;for(var L=u(A),N=a(A,[{buffer:L,size:3,offset:0,stride:48},{buffer:L,size:3,offset:12,stride:48},{buffer:L,size:1,offset:24,stride:48},{buffer:L,size:1,offset:28,stride:48},{buffer:L,size:4,offset:32,stride:48}]),B=g(new Array(1024),[256,1,4]),W=0;W<1024;++W)B.data[W]=255;var j=o(A,B);j.wrap=A.REPEAT;var Z=new k(A,I,P,L,N,j);return Z.update(O),Z};var u=i(5827),a=i(2944),o=i(8931),l=new Uint8Array(4),s=new Float32Array(l.buffer),d=i(5070),g=i(5050),p=i(248),T=p.createShader,_=p.createPickShader,y=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function w(O,A){for(var I=0,P=0;P<3;++P){var L=O[P]-A[P];I+=L*L}return Math.sqrt(I)}function m(O){for(var A=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],I=0;I<3;++I)A[0][I]=Math.max(O[0][I],A[0][I]),A[1][I]=Math.min(O[1][I],A[1][I]);return A}function b(O,A,I,P){this.arcLength=O,this.position=A,this.index=I,this.dataCoordinate=P}function k(O,A,I,P,L,N){this.gl=O,this.shader=A,this.pickShader=I,this.buffer=P,this.vao=L,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=N,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var h=k.prototype;h.isTransparent=function(){return this.hasAlpha},h.isOpaque=function(){return!this.hasAlpha},h.pickSlots=1,h.setPickBase=function(O){this.pickId=O},h.drawTransparent=h.draw=function(O){if(this.vertexCount){var A=this.gl,I=this.shader,P=this.vao;I.bind(),I.uniforms={model:O.model||y,view:O.view||y,projection:O.projection||y,clipBounds:m(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[A.drawingBufferWidth,A.drawingBufferHeight],pixelRatio:this.pixelRatio},P.bind(),P.draw(A.TRIANGLE_STRIP,this.vertexCount),P.unbind()}},h.drawPick=function(O){if(this.vertexCount){var A=this.gl,I=this.pickShader,P=this.vao;I.bind(),I.uniforms={model:O.model||y,view:O.view||y,projection:O.projection||y,pickId:this.pickId,clipBounds:m(this.clipBounds),screenShape:[A.drawingBufferWidth,A.drawingBufferHeight],pixelRatio:this.pixelRatio},P.bind(),P.draw(A.TRIANGLE_STRIP,this.vertexCount),P.unbind()}},h.update=function(O){var A,I;this.dirty=!0;var P=!!O.connectGaps;"dashScale"in O&&(this.dashScale=O.dashScale),this.hasAlpha=!1,"opacity"in O&&(this.opacity=+O.opacity,this.opacity<1&&(this.hasAlpha=!0));var L=[],N=[],B=[],W=0,j=0,Z=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],V=O.position||O.positions;if(V){var q=O.color||O.colors||[0,0,0,1],G=O.lineWidth||1,H=!1;e:for(A=1;A<V.length;++A){var ne,X,$,Q=V[A-1],te=V[A];for(N.push(W),B.push(Q.slice()),I=0;I<3;++I){if(isNaN(Q[I])||isNaN(te[I])||!isFinite(Q[I])||!isFinite(te[I])){if(!P&&L.length>0){for(var re=0;re<24;++re)L.push(L[L.length-12]);j+=2,H=!0}continue e}Z[0][I]=Math.min(Z[0][I],Q[I],te[I]),Z[1][I]=Math.max(Z[1][I],Q[I],te[I])}Array.isArray(q[0])?(ne=q.length>A-1?q[A-1]:q.length>0?q[q.length-1]:[0,0,0,1],X=q.length>A?q[A]:q.length>0?q[q.length-1]:[0,0,0,1]):ne=X=q,3===ne.length&&(ne=[ne[0],ne[1],ne[2],1]),3===X.length&&(X=[X[0],X[1],X[2],1]),!this.hasAlpha&&ne[3]<1&&(this.hasAlpha=!0),$=Array.isArray(G)?G.length>A-1?G[A-1]:G.length>0?G[G.length-1]:[0,0,0,1]:G;var le=W;if(W+=w(Q,te),H){for(I=0;I<2;++I)L.push(Q[0],Q[1],Q[2],te[0],te[1],te[2],le,$,ne[0],ne[1],ne[2],ne[3]);j+=2,H=!1}L.push(Q[0],Q[1],Q[2],te[0],te[1],te[2],le,$,ne[0],ne[1],ne[2],ne[3],Q[0],Q[1],Q[2],te[0],te[1],te[2],le,-$,ne[0],ne[1],ne[2],ne[3],te[0],te[1],te[2],Q[0],Q[1],Q[2],W,-$,X[0],X[1],X[2],X[3],te[0],te[1],te[2],Q[0],Q[1],Q[2],W,$,X[0],X[1],X[2],X[3]),j+=4}}if(this.buffer.update(L),N.push(W),B.push(V[V.length-1].slice()),this.bounds=Z,this.vertexCount=j,this.points=B,this.arcLength=N,"dashes"in O){var ue=O.dashes.slice();for(ue.unshift(0),A=1;A<ue.length;++A)ue[A]=ue[A-1]+ue[A];var he=g(new Array(1024),[256,1,4]);for(A=0;A<256;++A){for(I=0;I<4;++I)he.set(A,0,I,0);1&d.le(ue,ue[ue.length-1]*A/255)?he.set(A,0,0,0):he.set(A,0,0,255)}this.texture.setPixels(he)}},h.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},h.pick=function(O){if(!O||O.id!==this.pickId)return null;var V,q,G,A=(V=O.value[0],q=O.value[1],G=O.value[2],l[0]=0,l[1]=G,l[2]=q,l[3]=V,s[0]),I=d.le(this.arcLength,A);if(I<0)return null;if(I===this.arcLength.length-1)return new b(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),I);for(var P=this.points[I],L=this.points[Math.min(I+1,this.points.length-1)],N=(A-this.arcLength[I])/(this.arcLength[I+1]-this.arcLength[I]),B=1-N,W=[0,0,0],j=0;j<3;++j)W[j]=B*P[j]+N*L[j];var Z=Math.min(N<.5?I:I+1,this.points.length-1);return new b(A,W,Z,this.points[Z])}},7332:function(v){v.exports=function(c){var i=new Float32Array(16);return i[0]=c[0],i[1]=c[1],i[2]=c[2],i[3]=c[3],i[4]=c[4],i[5]=c[5],i[6]=c[6],i[7]=c[7],i[8]=c[8],i[9]=c[9],i[10]=c[10],i[11]=c[11],i[12]=c[12],i[13]=c[13],i[14]=c[14],i[15]=c[15],i}},9823:function(v){v.exports=function(){var c=new Float32Array(16);return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}},7787:function(v){v.exports=function(c){var i=c[0],u=c[1],a=c[2],o=c[3],l=c[4],s=c[5],d=c[6],g=c[7],p=c[8],T=c[9],_=c[10],y=c[11],w=c[12],m=c[13],b=c[14],k=c[15];return(i*s-u*l)*(_*k-y*b)-(i*d-a*l)*(T*k-y*m)+(i*g-o*l)*(T*b-_*m)+(u*d-a*s)*(p*k-y*w)-(u*g-o*s)*(p*b-_*w)+(a*g-o*d)*(p*m-T*w)}},5950:function(v){v.exports=function(c,i){var u=i[0],a=i[1],o=i[2],l=i[3],s=u+u,d=a+a,g=o+o,p=u*s,T=a*s,_=a*d,y=o*s,w=o*d,m=o*g,b=l*s,k=l*d,h=l*g;return c[0]=1-_-m,c[1]=T+h,c[2]=y-k,c[3]=0,c[4]=T-h,c[5]=1-p-m,c[6]=w+b,c[7]=0,c[8]=y+k,c[9]=w-b,c[10]=1-p-_,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}},7280:function(v){v.exports=function(c,i,u){var a=i[0],o=i[1],l=i[2],s=i[3],d=a+a,g=o+o,p=l+l,T=a*d,_=a*g,y=a*p,w=o*g,m=o*p,b=l*p,k=s*d,h=s*g,O=s*p;return c[0]=1-(w+b),c[1]=_+O,c[2]=y-h,c[3]=0,c[4]=_-O,c[5]=1-(T+b),c[6]=m+k,c[7]=0,c[8]=y+h,c[9]=m-k,c[10]=1-(T+w),c[11]=0,c[12]=u[0],c[13]=u[1],c[14]=u[2],c[15]=1,c}},9947:function(v){v.exports=function(c){return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}},7437:function(v){v.exports=function(c,i){var u=i[0],a=i[1],o=i[2],l=i[3],s=i[4],d=i[5],g=i[6],p=i[7],T=i[8],_=i[9],y=i[10],w=i[11],m=i[12],b=i[13],k=i[14],h=i[15],O=u*d-a*s,A=u*g-o*s,I=u*p-l*s,P=a*g-o*d,L=a*p-l*d,N=o*p-l*g,B=T*b-_*m,W=T*k-y*m,j=T*h-w*m,Z=_*k-y*b,V=_*h-w*b,q=y*h-w*k,G=O*q-A*V+I*Z+P*j-L*W+N*B;return G?(c[0]=(d*q-g*V+p*Z)*(G=1/G),c[1]=(o*V-a*q-l*Z)*G,c[2]=(b*N-k*L+h*P)*G,c[3]=(y*L-_*N-w*P)*G,c[4]=(g*j-s*q-p*W)*G,c[5]=(u*q-o*j+l*W)*G,c[6]=(k*I-m*N-h*A)*G,c[7]=(T*N-y*I+w*A)*G,c[8]=(s*V-d*j+p*B)*G,c[9]=(a*j-u*V-l*B)*G,c[10]=(m*L-b*I+h*O)*G,c[11]=(_*I-T*L-w*O)*G,c[12]=(d*W-s*Z-g*B)*G,c[13]=(u*Z-a*W+o*B)*G,c[14]=(b*A-m*P-k*O)*G,c[15]=(T*P-_*A+y*O)*G,c):null}},3012:function(v,c,i){var u=i(9947);v.exports=function(a,o,l,s){var d,g,p,T,_,y,w,m,b,k,h=o[0],O=o[1],A=o[2],I=s[0],P=s[1],L=s[2],N=l[0],B=l[1],W=l[2];return Math.abs(h-N)<1e-6&&Math.abs(O-B)<1e-6&&Math.abs(A-W)<1e-6?u(a):(w=h-N,m=O-B,b=A-W,d=P*(b*=k=1/Math.sqrt(w*w+m*m+b*b))-L*(m*=k),g=L*(w*=k)-I*b,p=I*m-P*w,(k=Math.sqrt(d*d+g*g+p*p))?(d*=k=1/k,g*=k,p*=k):(d=0,g=0,p=0),T=m*p-b*g,_=b*d-w*p,y=w*g-m*d,(k=Math.sqrt(T*T+_*_+y*y))?(T*=k=1/k,_*=k,y*=k):(T=0,_=0,y=0),a[0]=d,a[1]=T,a[2]=w,a[3]=0,a[4]=g,a[5]=_,a[6]=m,a[7]=0,a[8]=p,a[9]=y,a[10]=b,a[11]=0,a[12]=-(d*h+g*O+p*A),a[13]=-(T*h+_*O+y*A),a[14]=-(w*h+m*O+b*A),a[15]=1,a)}},104:function(v){v.exports=function(c,i,u){var a=i[0],o=i[1],l=i[2],s=i[3],d=i[4],g=i[5],p=i[6],T=i[7],_=i[8],y=i[9],w=i[10],m=i[11],b=i[12],k=i[13],h=i[14],O=i[15],A=u[0],I=u[1],P=u[2],L=u[3];return c[0]=A*a+I*d+P*_+L*b,c[1]=A*o+I*g+P*y+L*k,c[2]=A*l+I*p+P*w+L*h,c[3]=A*s+I*T+P*m+L*O,c[4]=(A=u[4])*a+(I=u[5])*d+(P=u[6])*_+(L=u[7])*b,c[5]=A*o+I*g+P*y+L*k,c[6]=A*l+I*p+P*w+L*h,c[7]=A*s+I*T+P*m+L*O,c[8]=(A=u[8])*a+(I=u[9])*d+(P=u[10])*_+(L=u[11])*b,c[9]=A*o+I*g+P*y+L*k,c[10]=A*l+I*p+P*w+L*h,c[11]=A*s+I*T+P*m+L*O,c[12]=(A=u[12])*a+(I=u[13])*d+(P=u[14])*_+(L=u[15])*b,c[13]=A*o+I*g+P*y+L*k,c[14]=A*l+I*p+P*w+L*h,c[15]=A*s+I*T+P*m+L*O,c}},5268:function(v){v.exports=function(c,i,u,a,o,l,s){var d=1/(i-u),g=1/(a-o),p=1/(l-s);return c[0]=-2*d,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=-2*g,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=2*p,c[11]=0,c[12]=(i+u)*d,c[13]=(o+a)*g,c[14]=(s+l)*p,c[15]=1,c}},1120:function(v){v.exports=function(c,i,u,a,o){var l=1/Math.tan(i/2),s=1/(a-o);return c[0]=l/u,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=l,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=(o+a)*s,c[11]=-1,c[12]=0,c[13]=0,c[14]=2*o*a*s,c[15]=0,c}},4422:function(v){v.exports=function(c,i,u,a){var o,l,s,d,g,p,T,_,y,w,m,b,k,h,O,A,I,P,L,N,B,W,j,Z,V=a[0],q=a[1],G=a[2],H=Math.sqrt(V*V+q*q+G*G);return Math.abs(H)<1e-6?null:(V*=H=1/H,q*=H,G*=H,o=Math.sin(u),s=1-(l=Math.cos(u)),g=i[1],p=i[2],T=i[3],y=i[5],w=i[6],m=i[7],k=i[9],h=i[10],O=i[11],L=V*q*s-G*o,N=q*q*s+l,B=G*q*s+V*o,W=V*G*s+q*o,j=q*G*s-V*o,Z=G*G*s+l,c[0]=(d=i[0])*(A=V*V*s+l)+(_=i[4])*(I=q*V*s+G*o)+(b=i[8])*(P=G*V*s-q*o),c[1]=g*A+y*I+k*P,c[2]=p*A+w*I+h*P,c[3]=T*A+m*I+O*P,c[4]=d*L+_*N+b*B,c[5]=g*L+y*N+k*B,c[6]=p*L+w*N+h*B,c[7]=T*L+m*N+O*B,c[8]=d*W+_*j+b*Z,c[9]=g*W+y*j+k*Z,c[10]=p*W+w*j+h*Z,c[11]=T*W+m*j+O*Z,i!==c&&(c[12]=i[12],c[13]=i[13],c[14]=i[14],c[15]=i[15]),c)}},6109:function(v){v.exports=function(c,i,u){var a=Math.sin(u),o=Math.cos(u),l=i[4],s=i[5],d=i[6],g=i[7],p=i[8],T=i[9],_=i[10],y=i[11];return i!==c&&(c[0]=i[0],c[1]=i[1],c[2]=i[2],c[3]=i[3],c[12]=i[12],c[13]=i[13],c[14]=i[14],c[15]=i[15]),c[4]=l*o+p*a,c[5]=s*o+T*a,c[6]=d*o+_*a,c[7]=g*o+y*a,c[8]=p*o-l*a,c[9]=T*o-s*a,c[10]=_*o-d*a,c[11]=y*o-g*a,c}},7115:function(v){v.exports=function(c,i,u){var a=Math.sin(u),o=Math.cos(u),l=i[0],s=i[1],d=i[2],g=i[3],p=i[8],T=i[9],_=i[10],y=i[11];return i!==c&&(c[4]=i[4],c[5]=i[5],c[6]=i[6],c[7]=i[7],c[12]=i[12],c[13]=i[13],c[14]=i[14],c[15]=i[15]),c[0]=l*o-p*a,c[1]=s*o-T*a,c[2]=d*o-_*a,c[3]=g*o-y*a,c[8]=l*a+p*o,c[9]=s*a+T*o,c[10]=d*a+_*o,c[11]=g*a+y*o,c}},5240:function(v){v.exports=function(c,i,u){var a=Math.sin(u),o=Math.cos(u),l=i[0],s=i[1],d=i[2],g=i[3],p=i[4],T=i[5],_=i[6],y=i[7];return i!==c&&(c[8]=i[8],c[9]=i[9],c[10]=i[10],c[11]=i[11],c[12]=i[12],c[13]=i[13],c[14]=i[14],c[15]=i[15]),c[0]=l*o+p*a,c[1]=s*o+T*a,c[2]=d*o+_*a,c[3]=g*o+y*a,c[4]=p*o-l*a,c[5]=T*o-s*a,c[6]=_*o-d*a,c[7]=y*o-g*a,c}},3668:function(v){v.exports=function(c,i,u){var a=u[0],o=u[1],l=u[2];return c[0]=i[0]*a,c[1]=i[1]*a,c[2]=i[2]*a,c[3]=i[3]*a,c[4]=i[4]*o,c[5]=i[5]*o,c[6]=i[6]*o,c[7]=i[7]*o,c[8]=i[8]*l,c[9]=i[9]*l,c[10]=i[10]*l,c[11]=i[11]*l,c[12]=i[12],c[13]=i[13],c[14]=i[14],c[15]=i[15],c}},998:function(v){v.exports=function(c,i,u){var a,o,l,s,d,g,p,T,_,y,w,m,b=u[0],k=u[1],h=u[2];return i===c?(c[12]=i[0]*b+i[4]*k+i[8]*h+i[12],c[13]=i[1]*b+i[5]*k+i[9]*h+i[13],c[14]=i[2]*b+i[6]*k+i[10]*h+i[14],c[15]=i[3]*b+i[7]*k+i[11]*h+i[15]):(o=i[1],l=i[2],s=i[3],d=i[4],g=i[5],p=i[6],T=i[7],_=i[8],y=i[9],w=i[10],m=i[11],c[0]=a=i[0],c[1]=o,c[2]=l,c[3]=s,c[4]=d,c[5]=g,c[6]=p,c[7]=T,c[8]=_,c[9]=y,c[10]=w,c[11]=m,c[12]=a*b+d*k+_*h+i[12],c[13]=o*b+g*k+y*h+i[13],c[14]=l*b+p*k+w*h+i[14],c[15]=s*b+T*k+m*h+i[15]),c}},2142:function(v){v.exports=function(c,i){if(c===i){var u=i[1],a=i[2],o=i[3],l=i[6],s=i[7],d=i[11];c[1]=i[4],c[2]=i[8],c[3]=i[12],c[4]=u,c[6]=i[9],c[7]=i[13],c[8]=a,c[9]=l,c[11]=i[14],c[12]=o,c[13]=s,c[14]=d}else c[0]=i[0],c[1]=i[4],c[2]=i[8],c[3]=i[12],c[4]=i[1],c[5]=i[5],c[6]=i[9],c[7]=i[13],c[8]=i[2],c[9]=i[6],c[10]=i[10],c[11]=i[14],c[12]=i[3],c[13]=i[7],c[14]=i[11],c[15]=i[15];return c}},4340:function(v,c,i){"use strict";var u=i(957),a=i(7309);function o(d,g){for(var p=[0,0,0,0],T=0;T<4;++T)for(var _=0;_<4;++_)p[_]+=d[4*T+_]*g[T];return p}function l(d,g,p,T,_){for(var y=o(T,o(p,o(g,[d[0],d[1],d[2],1]))),w=0;w<3;++w)y[w]/=y[3];return[.5*_[0]*(1+y[0]),.5*_[1]*(1-y[1])]}function s(d,g){for(var p=[0,0,0],T=0;T<d.length;++T)for(var _=d[T],y=g[T],w=0;w<3;++w)p[w]+=y*_[w];return p}v.exports=function(d,g,p,T,_,y){if(1===d.length)return[0,d[0].slice()];for(var w=new Array(d.length),m=0;m<d.length;++m)w[m]=l(d[m],p,T,_,y);var b=0,k=1/0;for(m=0;m<w.length;++m){for(var h=0,O=0;O<2;++O)h+=Math.pow(w[m][O]-g[O],2);h<k&&(k=h,b=m)}var A=function(P,L){if(2===P.length){for(var N=0,B=0,W=0;W<2;++W)N+=Math.pow(L[W]-P[0][W],2),B+=Math.pow(L[W]-P[1][W],2);return(N=Math.sqrt(N))+(B=Math.sqrt(B))<1e-6?[1,0]:[B/(N+B),N/(B+N)]}if(3===P.length){var j=[0,0];return a(P[0],P[1],P[2],L,j),u(P,j)}return[]}(w,g),I=0;for(m=0;m<3;++m){if(A[m]<-.001||A[m]>1.0001)return null;I+=A[m]}return Math.abs(I-1)>.001?null:[b,s(d,A),A]}},2056:function(v,c,i){var u=i(6832),a=u(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, normal;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model\n           , view\n           , projection\n           , inverseModel;\nuniform vec3 eyePosition\n           , lightPosition;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvec4 project(vec3 p) {\n  return projection * view * model * vec4(p, 1.0);\n}\n\nvoid main() {\n  gl_Position      = project(position);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * vec4(position , 1.0);\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  f_color          = color;\n  f_data           = position;\n  f_uv             = uv;\n}\n"]),o=u(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\n//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness\n            , fresnel\n            , kambient\n            , kdiffuse\n            , kspecular;\nuniform sampler2D texture;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (f_color.a == 0.0 ||\n    outOfRange(clipBounds[0], clipBounds[1], f_data)\n  ) discard;\n\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d\n\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * f_color.a;\n}\n"]),l=u(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model, view, projection;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_color = color;\n  f_data  = position;\n  f_uv    = uv;\n}"]),s=u(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;\n\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),d=u(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\nattribute float pointSize;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);\n  } else {\n    gl_Position = projection * view * model * vec4(position, 1.0);\n  }\n  gl_PointSize = pointSize;\n  f_color = color;\n  f_uv = uv;\n}"]),g=u(["precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);\n  if(dot(pointR, pointR) > 0.25) {\n    discard;\n  }\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),p=u(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_id        = id;\n  f_position  = position;\n}"]),T=u(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]),_=u(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3  position;\nattribute float pointSize;\nattribute vec4  id;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);\n  } else {\n    gl_Position  = projection * view * model * vec4(position, 1.0);\n    gl_PointSize = pointSize;\n  }\n  f_id         = id;\n  f_position   = position;\n}"]),y=u(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n}"]),w=u(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec3 contourColor;\n\nvoid main() {\n  gl_FragColor = vec4(contourColor, 1.0);\n}\n"]);c.meshShader={vertex:a,fragment:o,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},c.wireShader={vertex:l,fragment:s,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},c.pointShader={vertex:d,fragment:g,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},c.pickShader={vertex:p,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},c.pointPickShader={vertex:_,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},c.contourShader={vertex:y,fragment:w,attributes:[{name:"position",type:"vec3"}]}},8116:function(v,c,i){"use strict";var u=i(5158),a=i(5827),o=i(2944),l=i(8931),s=i(115),d=i(104),g=i(7437),p=i(5050),T=i(9156),_=i(7212),y=i(5306),w=i(2056),m=i(4340),b=w.meshShader,k=w.wireShader,h=w.pointShader,O=w.pickShader,A=w.pointPickShader,I=w.contourShader,P=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function L(H,ne,X,$,Q,te,re,le,ue,he,ge,xe,ke,Ae,pe,ye,Ne,be,Ee,Oe,De,oe,de,_e,Me,Pe,Ue){this.gl=H,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=ne,this.dirty=!0,this.triShader=X,this.lineShader=$,this.pointShader=Q,this.pickShader=te,this.pointPickShader=re,this.contourShader=le,this.trianglePositions=ue,this.triangleColors=ge,this.triangleNormals=ke,this.triangleUVs=xe,this.triangleIds=he,this.triangleVAO=Ae,this.triangleCount=0,this.lineWidth=1,this.edgePositions=pe,this.edgeColors=Ne,this.edgeUVs=be,this.edgeIds=ye,this.edgeVAO=Ee,this.edgeCount=0,this.pointPositions=Oe,this.pointColors=oe,this.pointUVs=de,this.pointSizes=_e,this.pointIds=De,this.pointVAO=Me,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=Pe,this.contourVAO=Ue,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=P,this._view=P,this._projection=P,this._resolution=[1,1]}var N=L.prototype;function B(H,ne){if(!ne||!ne.length)return 1;for(var X=0;X<ne.length;++X){if(ne.length<2)return 1;if(ne[X][0]===H)return ne[X][1];if(ne[X][0]>H&&X>0){var $=(ne[X][0]-H)/(ne[X][0]-ne[X-1][0]);return ne[X][1]*(1-$)+$*ne[X-1][1]}}return 1}function W(H){var ne=u(H,b.vertex,b.fragment);return ne.attributes.position.location=0,ne.attributes.color.location=2,ne.attributes.uv.location=3,ne.attributes.normal.location=4,ne}function j(H){var ne=u(H,k.vertex,k.fragment);return ne.attributes.position.location=0,ne.attributes.color.location=2,ne.attributes.uv.location=3,ne}function Z(H){var ne=u(H,h.vertex,h.fragment);return ne.attributes.position.location=0,ne.attributes.color.location=2,ne.attributes.uv.location=3,ne.attributes.pointSize.location=4,ne}function V(H){var ne=u(H,O.vertex,O.fragment);return ne.attributes.position.location=0,ne.attributes.id.location=1,ne}function q(H){var ne=u(H,A.vertex,A.fragment);return ne.attributes.position.location=0,ne.attributes.id.location=1,ne.attributes.pointSize.location=4,ne}function G(H){var ne=u(H,I.vertex,I.fragment);return ne.attributes.position.location=0,ne}N.isOpaque=function(){return!this.hasAlpha},N.isTransparent=function(){return this.hasAlpha},N.pickSlots=1,N.setPickBase=function(H){this.pickId=H},N.highlight=function(H){if(H&&this.contourEnable){for(var ne=_(this.cells,this.intensity,H.intensity),X=ne.cells,$=ne.vertexIds,Q=ne.vertexWeights,te=X.length,re=y.mallocFloat32(6*te),le=0,ue=0;ue<te;++ue)for(var he=X[ue],ge=0;ge<2;++ge){var xe=he[0];2===he.length&&(xe=he[ge]);for(var pe=Q[xe],ye=1-pe,Ne=this.positions[$[xe][0]],be=this.positions[$[xe][1]],Ee=0;Ee<3;++Ee)re[le++]=pe*Ne[Ee]+ye*be[Ee]}this.contourCount=le/3|0,this.contourPositions.update(re.subarray(0,le)),y.free(re)}else this.contourCount=0},N.update=function(H){H=H||{};var ne=this.gl;this.dirty=!0,"contourEnable"in H&&(this.contourEnable=H.contourEnable),"contourColor"in H&&(this.contourColor=H.contourColor),"lineWidth"in H&&(this.lineWidth=H.lineWidth),"lightPosition"in H&&(this.lightPosition=H.lightPosition),this.hasAlpha=!1,"opacity"in H&&(this.opacity=H.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in H&&(this.opacityscale=H.opacityscale,this.hasAlpha=!0),"ambient"in H&&(this.ambientLight=H.ambient),"diffuse"in H&&(this.diffuseLight=H.diffuse),"specular"in H&&(this.specularLight=H.specular),"roughness"in H&&(this.roughness=H.roughness),"fresnel"in H&&(this.fresnel=H.fresnel),H.texture?(this.texture.dispose(),this.texture=l(ne,H.texture)):H.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=ne.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=ne.LINEAR,this.texture.setPixels(function(Gt,et){for(var nt=T({colormap:Gt,nshades:256,format:"rgba"}),$e=new Uint8Array(1024),ot=0;ot<256;++ot){for(var dt=nt[ot],Le=0;Le<3;++Le)$e[4*ot+Le]=dt[Le];$e[4*ot+3]=et?255*B(ot/255,et):255*dt[3]}return p($e,[256,256,4],[4,0,1])}(H.colormap,this.opacityscale)),this.texture.generateMipmap());var X=H.cells,$=H.positions;if($&&X){var Q=[],te=[],re=[],le=[],ue=[],he=[],ge=[],xe=[],ke=[],Ae=[],pe=[],ye=[],Ne=[],be=[];this.cells=X,this.positions=$;var Ee=H.vertexNormals,Oe=H.cellNormals,De=void 0===H.vertexNormalsEpsilon?1e-6:H.vertexNormalsEpsilon;H.useFacetNormals&&!Oe&&(Oe=s.faceNormals(X,$,void 0===H.faceNormalsEpsilon?1e-6:H.faceNormalsEpsilon)),Oe||Ee||(Ee=s.vertexNormals(X,$,De));var de=H.vertexColors,_e=H.cellColors,Me=H.meshColor||[1,1,1,1],Pe=H.vertexUVs,Ue=H.vertexIntensity,Be=H.cellUVs,Ve=H.cellIntensity,ve=1/0,Te=-1/0;if(!Pe&&!Be)if(Ue)if(H.vertexIntensityBounds)ve=+H.vertexIntensityBounds[0],Te=+H.vertexIntensityBounds[1];else for(var Ce=0;Ce<Ue.length;++Ce){var We=Ue[Ce];ve=Math.min(ve,We),Te=Math.max(Te,We)}else if(Ve)if(H.cellIntensityBounds)ve=+H.cellIntensityBounds[0],Te=+H.cellIntensityBounds[1];else for(Ce=0;Ce<Ve.length;++Ce)We=Ve[Ce],ve=Math.min(ve,We),Te=Math.max(Te,We);else for(Ce=0;Ce<$.length;++Ce)We=$[Ce][2],ve=Math.min(ve,We),Te=Math.max(Te,We);this.intensity=Ue||Ve||function(Gt){for(var et=Gt.length,nt=new Array(et),$e=0;$e<et;++$e)nt[$e]=Gt[$e][2];return nt}($),this.pickVertex=!(Ve||_e);var Ke=H.pointSizes,Je=H.pointSize||1;for(this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Ce=0;Ce<$.length;++Ce)for(var ht=$[Ce],ft=0;ft<3;++ft)!isNaN(ht[ft])&&isFinite(ht[ft])&&(this.bounds[0][ft]=Math.min(this.bounds[0][ft],ht[ft]),this.bounds[1][ft]=Math.max(this.bounds[1][ft],ht[ft]));var mt=0,At=0,Rt=0;e:for(Ce=0;Ce<X.length;++Ce){var It=X[Ce];switch(It.length){case 1:for(ht=$[Bt=It[0]],ft=0;ft<3;++ft)if(isNaN(ht[ft])||!isFinite(ht[ft]))continue e;Ae.push(ht[0],ht[1],ht[2]),Ut=de?de[Bt]:_e?_e[Ce]:Me,this.opacityscale&&Ue?te.push(Ut[0],Ut[1],Ut[2],this.opacity*B((Ue[Bt]-ve)/(Te-ve),this.opacityscale)):3===Ut.length?pe.push(Ut[0],Ut[1],Ut[2],this.opacity):(pe.push(Ut[0],Ut[1],Ut[2],Ut[3]*this.opacity),Ut[3]<1&&(this.hasAlpha=!0)),ye.push((Vt=Pe?Pe[Bt]:Ue?[(Ue[Bt]-ve)/(Te-ve),0]:Be?Be[Ce]:Ve?[(Ve[Ce]-ve)/(Te-ve),0]:[(ht[2]-ve)/(Te-ve),0])[0],Vt[1]),Ne.push(Ke?Ke[Bt]:Je),be.push(Ce),Rt+=1;break;case 2:for(ft=0;ft<2;++ft){ht=$[Bt=It[ft]];for(var Pt=0;Pt<3;++Pt)if(isNaN(ht[Pt])||!isFinite(ht[Pt]))continue e}for(ft=0;ft<2;++ft)ht=$[Bt=It[ft]],he.push(ht[0],ht[1],ht[2]),Ut=de?de[Bt]:_e?_e[Ce]:Me,this.opacityscale&&Ue?te.push(Ut[0],Ut[1],Ut[2],this.opacity*B((Ue[Bt]-ve)/(Te-ve),this.opacityscale)):3===Ut.length?ge.push(Ut[0],Ut[1],Ut[2],this.opacity):(ge.push(Ut[0],Ut[1],Ut[2],Ut[3]*this.opacity),Ut[3]<1&&(this.hasAlpha=!0)),xe.push((Vt=Pe?Pe[Bt]:Ue?[(Ue[Bt]-ve)/(Te-ve),0]:Be?Be[Ce]:Ve?[(Ve[Ce]-ve)/(Te-ve),0]:[(ht[2]-ve)/(Te-ve),0])[0],Vt[1]),ke.push(Ce);At+=1;break;case 3:for(ft=0;ft<3;++ft)for(ht=$[Bt=It[ft]],Pt=0;Pt<3;++Pt)if(isNaN(ht[Pt])||!isFinite(ht[Pt]))continue e;for(ft=0;ft<3;++ft){var Bt,Ut,Vt,tn;ht=$[Bt=It[2-ft]],Q.push(ht[0],ht[1],ht[2]),(Ut=de?de[Bt]:_e?_e[Ce]:Me)?this.opacityscale&&Ue?te.push(Ut[0],Ut[1],Ut[2],this.opacity*B((Ue[Bt]-ve)/(Te-ve),this.opacityscale)):3===Ut.length?te.push(Ut[0],Ut[1],Ut[2],this.opacity):(te.push(Ut[0],Ut[1],Ut[2],Ut[3]*this.opacity),Ut[3]<1&&(this.hasAlpha=!0)):te.push(.5,.5,.5,1),le.push((Vt=Pe?Pe[Bt]:Ue?[(Ue[Bt]-ve)/(Te-ve),0]:Be?Be[Ce]:Ve?[(Ve[Ce]-ve)/(Te-ve),0]:[(ht[2]-ve)/(Te-ve),0])[0],Vt[1]),re.push((tn=Ee?Ee[Bt]:Oe[Ce])[0],tn[1],tn[2]),ue.push(Ce)}mt+=1}}this.pointCount=Rt,this.edgeCount=At,this.triangleCount=mt,this.pointPositions.update(Ae),this.pointColors.update(pe),this.pointUVs.update(ye),this.pointSizes.update(Ne),this.pointIds.update(new Uint32Array(be)),this.edgePositions.update(he),this.edgeColors.update(ge),this.edgeUVs.update(xe),this.edgeIds.update(new Uint32Array(ke)),this.trianglePositions.update(Q),this.triangleColors.update(te),this.triangleUVs.update(le),this.triangleNormals.update(re),this.triangleIds.update(new Uint32Array(ue))}},N.drawTransparent=N.draw=function(H){for(var ne=this.gl,X=(H=H||{}).model||P,$=H.view||P,Q=H.projection||P,te=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],re=0;re<3;++re)te[0][re]=Math.max(te[0][re],this.clipBounds[0][re]),te[1][re]=Math.min(te[1][re],this.clipBounds[1][re]);var le={model:X,view:$,projection:Q,inverseModel:P.slice(),clipBounds:te,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};le.inverseModel=g(le.inverseModel,le.model),ne.disable(ne.CULL_FACE),this.texture.bind(0);var ue=new Array(16);for(d(ue,le.view,le.model),d(ue,le.projection,ue),g(ue,ue),re=0;re<3;++re)le.eyePosition[re]=ue[12+re]/ue[15];var he,ge=ue[15];for(re=0;re<3;++re)ge+=this.lightPosition[re]*ue[4*re+3];for(re=0;re<3;++re){for(var xe=ue[12+re],ke=0;ke<3;++ke)xe+=ue[4*ke+re]*this.lightPosition[ke];le.lightPosition[re]=xe/ge}this.triangleCount>0&&((he=this.triShader).bind(),he.uniforms=le,this.triangleVAO.bind(),ne.drawArrays(ne.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&this.lineWidth>0&&((he=this.lineShader).bind(),he.uniforms=le,this.edgeVAO.bind(),ne.lineWidth(this.lineWidth*this.pixelRatio),ne.drawArrays(ne.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((he=this.pointShader).bind(),he.uniforms=le,this.pointVAO.bind(),ne.drawArrays(ne.POINTS,0,this.pointCount),this.pointVAO.unbind()),this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0&&((he=this.contourShader).bind(),he.uniforms=le,this.contourVAO.bind(),ne.drawArrays(ne.LINES,0,this.contourCount),this.contourVAO.unbind())},N.drawPick=function(H){for(var ne=this.gl,X=(H=H||{}).model||P,$=H.view||P,Q=H.projection||P,te=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],re=0;re<3;++re)te[0][re]=Math.max(te[0][re],this.clipBounds[0][re]),te[1][re]=Math.min(te[1][re],this.clipBounds[1][re]);this._model=[].slice.call(X),this._view=[].slice.call($),this._projection=[].slice.call(Q),this._resolution=[ne.drawingBufferWidth,ne.drawingBufferHeight];var le,ue={model:X,view:$,projection:Q,clipBounds:te,pickId:this.pickId/255};(le=this.pickShader).bind(),le.uniforms=ue,this.triangleCount>0&&(this.triangleVAO.bind(),ne.drawArrays(ne.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),ne.lineWidth(this.lineWidth*this.pixelRatio),ne.drawArrays(ne.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((le=this.pointPickShader).bind(),le.uniforms=ue,this.pointVAO.bind(),ne.drawArrays(ne.POINTS,0,this.pointCount),this.pointVAO.unbind())},N.pick=function(H){if(!H||H.id!==this.pickId)return null;for(var ne=H.value[0]+256*H.value[1]+65536*H.value[2],X=this.cells[ne],$=this.positions,Q=new Array(X.length),te=0;te<X.length;++te)Q[te]=$[X[te]];var re=H.coord[0],le=H.coord[1];if(!this.pickVertex){var ue=this.positions[X[0]],he=this.positions[X[1]],ge=this.positions[X[2]];return{_cellCenter:!0,position:[re,le],index:ne,cell:X,cellId:ne,intensity:this.intensity[ne],dataCoordinate:[(ue[0]+he[0]+ge[0])/3,(ue[1]+he[1]+ge[1])/3,(ue[2]+he[2]+ge[2])/3]}}var ke=m(Q,[re*this.pixelRatio,this._resolution[1]-le*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!ke)return null;var Ae=ke[2],pe=0;for(te=0;te<X.length;++te)pe+=Ae[te]*this.intensity[X[te]];return{position:ke[1],index:X[ke[0]],cell:X,cellId:ne,intensity:pe,dataCoordinate:this.positions[X[ke[0]]]}},N.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()},v.exports=function(H,ne){if(1===arguments.length&&(H=(ne=H).gl),!(H.getExtension("OES_standard_derivatives")||H.getExtension("MOZ_OES_standard_derivatives")||H.getExtension("WEBKIT_OES_standard_derivatives")))throw new Error("derivatives not supported");var $=W(H),Q=j(H),te=Z(H),re=V(H),le=q(H),ue=G(H),he=l(H,p(new Uint8Array([255,255,255,255]),[1,1,4]));he.generateMipmap(),he.minFilter=H.LINEAR_MIPMAP_LINEAR,he.magFilter=H.LINEAR;var ge=a(H),xe=a(H),ke=a(H),Ae=a(H),pe=a(H),ye=o(H,[{buffer:ge,type:H.FLOAT,size:3},{buffer:pe,type:H.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:xe,type:H.FLOAT,size:4},{buffer:ke,type:H.FLOAT,size:2},{buffer:Ae,type:H.FLOAT,size:3}]),Ne=a(H),be=a(H),Ee=a(H),Oe=a(H),De=o(H,[{buffer:Ne,type:H.FLOAT,size:3},{buffer:Oe,type:H.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:be,type:H.FLOAT,size:4},{buffer:Ee,type:H.FLOAT,size:2}]),oe=a(H),de=a(H),_e=a(H),Me=a(H),Pe=a(H),Ue=o(H,[{buffer:oe,type:H.FLOAT,size:3},{buffer:Pe,type:H.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:de,type:H.FLOAT,size:4},{buffer:_e,type:H.FLOAT,size:2},{buffer:Me,type:H.FLOAT,size:1}]),Be=a(H),ve=new L(H,he,$,Q,te,re,le,ue,ge,pe,xe,ke,Ae,ye,Ne,Oe,be,Ee,De,oe,Pe,de,_e,Me,Ue,Be,o(H,[{buffer:Be,type:H.FLOAT,size:3}]));return ve.update(ne),ve}},4554:function(v,c,i){"use strict";v.exports=function(p){var T=p.gl;return new l(p,u(T,[0,0,0,1,1,0,1,1]),a(T,o.boxVert,o.lineFrag))};var u=i(5827),a=i(5158),o=i(2709);function l(p,T,_){this.plot=p,this.vbo=T,this.shader=_}var s,d,g=l.prototype;g.bind=function(){var p=this.shader;this.vbo.bind(),this.shader.bind(),p.attributes.coord.pointer(),p.uniforms.screenBox=this.plot.screenBox},g.drawBox=(s=[0,0],d=[0,0],function(p,T,_,y,w){var b=this.shader,k=this.plot.gl;s[0]=p,s[1]=T,d[0]=_,d[1]=y,b.uniforms.lo=s,b.uniforms.hi=d,b.uniforms.color=w,k.drawArrays(k.TRIANGLE_STRIP,0,4)}),g.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},3016:function(v,c,i){"use strict";v.exports=function(m){var b=m.gl;return new s(m,u(b),a(b,l.gridVert,l.gridFrag),a(b,l.tickVert,l.gridFrag))};var u=i(5827),a=i(5158),o=i(5070),l=i(2709);function s(m,b,k,h){this.plot=m,this.vbo=b,this.shader=k,this.tickShader=h,this.ticks=[[],[]]}function d(m,b){return m-b}var g,p,T,_,y,m,b,k,h,O,A,w=s.prototype;w.draw=(g=[0,0],p=[0,0],T=[0,0],function(){for(var m=this.plot,b=this.vbo,k=this.shader,h=this.ticks,O=m.gl,A=m._tickBounds,I=m.dataBox,P=m.viewBox,L=m.gridLineWidth,N=m.gridLineColor,B=m.gridLineEnable,W=m.pixelRatio,j=0;j<2;++j){var Z=A[j],q=.5*(I[j+2]+I[j]),G=I[j+2]-I[j];p[j]=2*(A[j+2]-Z)/G,g[j]=2*(Z-q)/G}k.bind(),b.bind(),k.attributes.dataCoord.pointer(),k.uniforms.dataShift=g,k.uniforms.dataScale=p;var H=0;for(j=0;j<2;++j){T[0]=T[1]=0,T[j]=1,k.uniforms.dataAxis=T,k.uniforms.lineWidth=L[j]/(P[j+2]-P[j])*W,k.uniforms.color=N[j];var ne=6*h[j].length;B[j]&&ne&&O.drawArrays(O.TRIANGLES,H,ne),H+=ne}}),w.drawTickMarks=(m=[0,0],b=[0,0],k=[1,0],h=[0,1],O=[0,0],A=[0,0],function(){for(var I=this.plot,P=this.vbo,L=this.tickShader,N=this.ticks,B=I.gl,W=I._tickBounds,j=I.dataBox,Z=I.viewBox,V=I.pixelRatio,q=I.screenBox,G=q[2]-q[0],H=q[3]-q[1],ne=Z[2]-Z[0],X=Z[3]-Z[1],$=0;$<2;++$){var Q=W[$],re=.5*(j[$+2]+j[$]),le=j[$+2]-j[$];b[$]=2*(W[$+2]-Q)/le,m[$]=2*(Q-re)/le}b[0]*=ne/G,m[0]*=ne/G,b[1]*=X/H,m[1]*=X/H,L.bind(),P.bind(),L.attributes.dataCoord.pointer();var ue=L.uniforms;ue.dataShift=m,ue.dataScale=b;var he=I.tickMarkLength,ge=I.tickMarkWidth,xe=I.tickMarkColor,ke=6*N[0].length,Ae=Math.min(o.ge(N[0],(j[0]-W[0])/(W[2]-W[0]),d),N[0].length),pe=Math.min(o.gt(N[0],(j[2]-W[0])/(W[2]-W[0]),d),N[0].length),ye=0+6*Ae,Ne=6*Math.max(0,pe-Ae),be=Math.min(o.ge(N[1],(j[1]-W[1])/(W[3]-W[1]),d),N[1].length),Ee=Math.min(o.gt(N[1],(j[3]-W[1])/(W[3]-W[1]),d),N[1].length),Oe=ke+6*be,De=6*Math.max(0,Ee-be);O[0]=2*(Z[0]-he[1])/G-1,O[1]=(Z[3]+Z[1])/H-1,A[0]=he[1]*V/G,A[1]=ge[1]*V/H,De&&(ue.color=xe[1],ue.tickScale=A,ue.dataAxis=h,ue.screenOffset=O,B.drawArrays(B.TRIANGLES,Oe,De)),O[0]=(Z[2]+Z[0])/G-1,O[1]=2*(Z[1]-he[0])/H-1,A[0]=ge[0]*V/G,A[1]=he[0]*V/H,Ne&&(ue.color=xe[0],ue.tickScale=A,ue.dataAxis=k,ue.screenOffset=O,B.drawArrays(B.TRIANGLES,ye,Ne)),O[0]=2*(Z[2]+he[3])/G-1,O[1]=(Z[3]+Z[1])/H-1,A[0]=he[3]*V/G,A[1]=ge[3]*V/H,De&&(ue.color=xe[3],ue.tickScale=A,ue.dataAxis=h,ue.screenOffset=O,B.drawArrays(B.TRIANGLES,Oe,De)),O[0]=(Z[2]+Z[0])/G-1,O[1]=2*(Z[3]+he[2])/H-1,A[0]=ge[2]*V/G,A[1]=he[2]*V/H,Ne&&(ue.color=xe[2],ue.tickScale=A,ue.dataAxis=k,ue.screenOffset=O,B.drawArrays(B.TRIANGLES,ye,Ne))}),w.update=(_=[1,1,-1,-1,1,-1],y=[1,-1,1,1,-1,-1],function(m){for(var b=m.ticks,k=m.bounds,h=new Float32Array(18*(b[0].length+b[1].length)),O=0,A=[[],[]],I=0;I<2;++I)for(var P=A[I],L=b[I],N=k[I],B=k[I+2],W=0;W<L.length;++W){var j=(L[W].x-N)/(B-N);P.push(j);for(var Z=0;Z<6;++Z)h[O++]=j,h[O++]=_[Z],h[O++]=y[Z]}this.ticks=A,this.vbo.update(h)}),w.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()}},1154:function(v,c,i){"use strict";v.exports=function(p){var T=p.gl;return new l(p,u(T,[-1,-1,-1,1,1,-1,1,1]),a(T,o.lineVert,o.lineFrag))};var u=i(5827),a=i(5158),o=i(2709);function l(p,T,_){this.plot=p,this.vbo=T,this.shader=_}var s,d,g=l.prototype;g.bind=function(){var p=this.shader;this.vbo.bind(),this.shader.bind(),p.attributes.coord.pointer(),p.uniforms.screenBox=this.plot.screenBox},g.drawLine=(s=[0,0],d=[0,0],function(p,T,_,y,w,m){var b=this.plot,k=this.shader,h=b.gl;s[0]=p,s[1]=T,d[0]=_,d[1]=y,k.uniforms.start=s,k.uniforms.end=d,k.uniforms.width=w*b.pixelRatio,k.uniforms.color=m,h.drawArrays(h.TRIANGLE_STRIP,0,4)}),g.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},2709:function(v,c,i){"use strict";var u=i(6832),a=u(["precision lowp float;\n#define GLSLIFY 1\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = vec4(color.xyz * color.w, color.w);\n}\n"]);v.exports={lineVert:u(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 start, end;\nuniform float width;\n\nvec2 perp(vec2 v) {\n  return vec2(v.y, -v.x);\n}\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  vec2 delta = normalize(perp(start - end));\n  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));\n  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);\n}\n"]),lineFrag:a,textVert:u(["#define GLSLIFY 1\nattribute vec3 textCoordinate;\n\nuniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;\nuniform float angle;\n\nvoid main() {\n  float dataOffset  = textCoordinate.z;\n  vec2 glyphOffset  = textCoordinate.xy;\n  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));\n  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +\n    glyphMatrix * glyphOffset * textScale + screenOffset;\n  gl_Position = vec4(screenCoordinate, 0, 1);\n}\n"]),textFrag:a,gridVert:u(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale;\nuniform float lineWidth;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;\n  gl_Position = vec4(pos, 0, 1);\n}\n"]),gridFrag:a,boxVert:u(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 lo, hi;\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);\n}\n"]),tickVert:u(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);\n}\n"])}},5613:function(v,c,i){"use strict";v.exports=function(b){var k=b.gl;return new d(b,u(k),a(k,s.textVert,s.textFrag))};var u=i(5827),a=i(5158),o=i(6946),l=i(5070),s=i(2709);function d(b,k,h){this.plot=b,this.vbo=k,this.shader=h,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var g,p,T,_,y,w,b,k,m=d.prototype;m.drawTicks=(g=[0,0],p=[0,0],T=[0,0],function(b){var k=this.plot,h=this.shader,O=this.tickX[b],A=this.tickOffset[b],I=k.gl,P=k.viewBox,L=k.dataBox,N=k.screenBox,B=k.pixelRatio,W=k.tickEnable,j=k.tickPad,Z=k.tickColor,V=k.tickAngle,q=k.labelEnable,G=k.labelPad,H=k.labelColor,ne=k.labelAngle,X=this.labelOffset[b],$=this.labelCount[b],Q=l.lt(O,L[b]),te=l.le(O,L[b+2]);g[0]=g[1]=0,g[b]=1,p[b]=(P[2+b]+P[b])/(N[2+b]-N[b])-1;var re=2/N[2+(1^b)]-N[1^b];p[1^b]=re*P[1^b]-1,W[b]&&(p[1^b]-=re*B*j[b],Q<te&&A[te]>A[Q]&&(h.uniforms.dataAxis=g,h.uniforms.screenOffset=p,h.uniforms.color=Z[b],h.uniforms.angle=V[b],I.drawArrays(I.TRIANGLES,A[Q],A[te]-A[Q]))),q[b]&&$&&(p[1^b]-=re*B*G[b],h.uniforms.dataAxis=T,h.uniforms.screenOffset=p,h.uniforms.color=H[b],h.uniforms.angle=ne[b],I.drawArrays(I.TRIANGLES,X,$)),p[1^b]=re*P[2+(1^b)]-1,W[b+2]&&(p[1^b]+=re*B*j[b+2],Q<te&&A[te]>A[Q]&&(h.uniforms.dataAxis=g,h.uniforms.screenOffset=p,h.uniforms.color=Z[b+2],h.uniforms.angle=V[b+2],I.drawArrays(I.TRIANGLES,A[Q],A[te]-A[Q]))),q[b+2]&&$&&(p[1^b]+=re*B*G[b+2],h.uniforms.dataAxis=T,h.uniforms.screenOffset=p,h.uniforms.color=H[b+2],h.uniforms.angle=ne[b+2],I.drawArrays(I.TRIANGLES,X,$))}),m.drawTitle=(b=[0,0],k=[0,0],function(){var h=this.plot,O=this.shader,A=h.gl,I=h.screenBox,P=h.titleCenter,L=h.titleAngle,N=h.titleColor,B=h.pixelRatio;if(this.titleCount){for(var W=0;W<2;++W)k[W]=2*(P[W]*B-I[W])/(I[2+W]-I[W])-1;O.bind(),O.uniforms.dataAxis=b,O.uniforms.screenOffset=k,O.uniforms.angle=L,O.uniforms.color=N,A.drawArrays(A.TRIANGLES,this.titleOffset,this.titleCount)}}),m.bind=(_=[0,0],y=[0,0],w=[0,0],function(){var b=this.plot,k=this.shader,h=b._tickBounds,O=b.dataBox,A=b.screenBox,I=b.viewBox;k.bind();for(var P=0;P<2;++P){var L=h[P],B=.5*(O[P+2]+O[P]),W=O[P+2]-O[P],Z=I[P+2]-I[P],q=A[P+2]-A[P];y[P]=2*(h[P+2]-L)/W*Z/q,_[P]=2*(L-B)/W*Z/q}w[1]=2*b.pixelRatio/(A[3]-A[1]),w[0]=w[1]*(A[3]-A[1])/(A[2]-A[0]),k.uniforms.dataScale=y,k.uniforms.dataShift=_,k.uniforms.textScale=w,this.vbo.bind(),k.attributes.textCoordinate.pointer()}),m.update=function(b){var k,h,O,A,I,P=[],L=b.ticks,N=b.bounds;for(I=0;I<2;++I){var B=[Math.floor(P.length/3)],W=[-1/0],j=L[I];for(k=0;k<j.length;++k){var Z=j[k],V=Z.x,G=Z.font||"sans-serif";A=Z.fontSize||12;for(var H=1/(N[I+2]-N[I]),ne=N[I],X=Z.text.split("\n"),$=0;$<X.length;$++)for(O=o(G,X[$]).data,h=0;h<O.length;h+=2)P.push(O[h]*A,-O[h+1]*A-$*A*1.2,(V-ne)*H);B.push(Math.floor(P.length/3)),W.push(V)}this.tickOffset[I]=B,this.tickX[I]=W}for(I=0;I<2;++I){for(this.labelOffset[I]=Math.floor(P.length/3),O=o(b.labelFont[I],b.labels[I],{textAlign:"center"}).data,A=b.labelSize[I],k=0;k<O.length;k+=2)P.push(O[k]*A,-O[k+1]*A,0);this.labelCount[I]=Math.floor(P.length/3)-this.labelOffset[I]}for(this.titleOffset=Math.floor(P.length/3),O=o(b.titleFont,b.title).data,A=b.titleSize,k=0;k<O.length;k+=2)P.push(O[k]*A,-O[k+1]*A,0);this.titleCount=Math.floor(P.length/3)-this.titleOffset,this.vbo.update(P)},m.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},2117:function(v,c,i){"use strict";v.exports=function(_){var y=_.gl,w=new d(y,u(y,[y.drawingBufferWidth,y.drawingBufferHeight]));return w.grid=a(w),w.text=o(w),w.line=l(w),w.box=s(w),w.update(_),w};var u=i(2611),a=i(3016),o=i(5613),l=i(1154),s=i(4554);function d(_,y){this.gl=_,this.pickBuffer=y,this.screenBox=[0,0,_.drawingBufferWidth,_.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var g=d.prototype;function p(_){for(var y=_.slice(),w=0;w<y.length;++w)y[w]=y[w].slice();return y}function T(_,y){return _.x-y.x}g.setDirty=function(){this.dirty=this.pickDirty=!0},g.setOverlayDirty=function(){this.dirty=!0},g.nextDepthValue=function(){return this._depthCounter++/65536},g.draw=function(){var _=this.gl,y=this.screenBox,w=this.viewBox,m=this.dataBox,b=this.pixelRatio,k=this.grid,h=this.line,O=this.text,A=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),this.dirty){if(this.dirty=!1,_.bindFramebuffer(_.FRAMEBUFFER,null),_.enable(_.SCISSOR_TEST),_.disable(_.DEPTH_TEST),_.depthFunc(_.LESS),_.depthMask(!1),_.enable(_.BLEND),_.blendEquation(_.FUNC_ADD,_.FUNC_ADD),_.blendFunc(_.ONE,_.ONE_MINUS_SRC_ALPHA),this.borderColor){_.scissor(y[0],y[1],y[2]-y[0],y[3]-y[1]);var I=this.borderColor;_.clearColor(I[0]*I[3],I[1]*I[3],I[2]*I[3],I[3]),_.clear(_.COLOR_BUFFER_BIT|_.DEPTH_BUFFER_BIT)}_.scissor(w[0],w[1],w[2]-w[0],w[3]-w[1]),_.viewport(w[0],w[1],w[2]-w[0],w[3]-w[1]);var P=this.backgroundColor;_.clearColor(P[0]*P[3],P[1]*P[3],P[2]*P[3],P[3]),_.clear(_.COLOR_BUFFER_BIT),k.draw();var L=this.zeroLineEnable,N=this.zeroLineColor,B=this.zeroLineWidth;if(L[0]||L[1]){h.bind();for(var W=0;W<2;++W)if(L[W]&&m[W]<=0&&m[W+2]>=0){var j=y[W]-m[W]*(y[W+2]-y[W])/(m[W+2]-m[W]);0===W?h.drawLine(j,y[1],j,y[3],B[W],N[W]):h.drawLine(y[0],j,y[2],j,B[W],N[W])}}for(W=0;W<A.length;++W)A[W].draw();_.viewport(y[0],y[1],y[2]-y[0],y[3]-y[1]),_.scissor(y[0],y[1],y[2]-y[0],y[3]-y[1]),this.grid.drawTickMarks(),h.bind();var Z=this.borderLineEnable,V=this.borderLineWidth,q=this.borderLineColor;for(Z[1]&&h.drawLine(w[0],w[1]-.5*V[1]*b,w[0],w[3]+.5*V[3]*b,V[1],q[1]),Z[0]&&h.drawLine(w[0]-.5*V[0]*b,w[1],w[2]+.5*V[2]*b,w[1],V[0],q[0]),Z[3]&&h.drawLine(w[2],w[1]-.5*V[1]*b,w[2],w[3]+.5*V[3]*b,V[3],q[3]),Z[2]&&h.drawLine(w[0]-.5*V[0]*b,w[3],w[2]+.5*V[2]*b,w[3],V[2],q[2]),O.bind(),W=0;W<2;++W)O.drawTicks(W);this.titleEnable&&O.drawTitle();var G=this.overlays;for(W=0;W<G.length;++W)G[W].draw();_.disable(_.SCISSOR_TEST),_.disable(_.BLEND),_.depthMask(!0)}},g.drawPick=function(){if(!this.static){var _=this.pickBuffer;this._pickTimeout=null,_.begin();for(var y=1,w=this.objects,m=0;m<w.length;++m)y=w[m].drawPick(y);_.end()}},g.pick=function(_,y){if(!this.static){var w=this.pixelRatio,m=this.pickPixelRatio,b=this.viewBox,k=0|Math.round((_-b[0]/w)*m),h=0|Math.round((y-b[1]/w)*m),O=this.pickBuffer.query(k,h,this.pickRadius);if(!O)return null;for(var A=O.id+(O.value[0]<<8)+(O.value[1]<<16)+(O.value[2]<<24),I=this.objects,P=0;P<I.length;++P){var L=I[P].pick(k,h,A);if(L)return L}return null}},g.setScreenBox=function(_){var y=this.screenBox,w=this.pixelRatio;y[0]=0|Math.round(_[0]*w),y[1]=0|Math.round(_[1]*w),y[2]=0|Math.round(_[2]*w),y[3]=0|Math.round(_[3]*w),this.setDirty()},g.setDataBox=function(_){var y=this.dataBox;(y[0]!==_[0]||y[1]!==_[1]||y[2]!==_[2]||y[3]!==_[3])&&(y[0]=_[0],y[1]=_[1],y[2]=_[2],y[3]=_[3],this.setDirty())},g.setViewBox=function(_){var y=this.pixelRatio,w=this.viewBox;w[0]=0|Math.round(_[0]*y),w[1]=0|Math.round(_[1]*y),w[2]=0|Math.round(_[2]*y),w[3]=0|Math.round(_[3]*y);var m=this.pickPixelRatio;this.pickBuffer.shape=[0|Math.round((_[2]-_[0])*m),0|Math.round((_[3]-_[1])*m)],this.setDirty()},g.update=function(_){var y=this.gl;this.pixelRatio=(_=_||{}).pixelRatio||1;var w=this.pixelRatio;this.pickPixelRatio=Math.max(w,1),this.setScreenBox(_.screenBox||[0,0,y.drawingBufferWidth/w,y.drawingBufferHeight/w]),this.setViewBox(_.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/w,.125*(this.screenBox[3]-this.screenBox[1])/w,.875*(this.screenBox[2]-this.screenBox[0])/w,.875*(this.screenBox[3]-this.screenBox[1])/w]);var m=this.viewBox,b=(m[2]-m[0])/(m[3]-m[1]);this.setDataBox(_.dataBox||[-10,-10/b,10,10/b]),this.borderColor=!1!==_.borderColor&&(_.borderColor||[0,0,0,0]).slice(),this.backgroundColor=(_.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(_.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(_.gridLineWidth||[1,1]).slice(),this.gridLineColor=p(_.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(_.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(_.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=p(_.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(_.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(_.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=p(_.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(_.titleCenter||[.5*(m[0]+m[2])/w,(m[3]+120)/w]).slice(),this.titleEnable=!("titleEnable"in _)||!!_.titleEnable,this.titleAngle=_.titleAngle||0,this.titleColor=(_.titleColor||[0,0,0,1]).slice(),this.labelPad=(_.labelPad||[15,15,15,15]).slice(),this.labelAngle=(_.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(_.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=p(_.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(_.tickPad||[15,15,15,15]).slice(),this.tickAngle=(_.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(_.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=p(_.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(_.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(_.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=p(_.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var k=_.ticks||[[],[]],h=this._tickBounds;h[0]=h[1]=1/0,h[2]=h[3]=-1/0;for(var O=0;O<2;++O){var A=k[O].slice(0);0!==A.length&&(A.sort(T),h[O]=Math.min(h[O],A[0].x),h[O+2]=Math.max(h[O+2],A[A.length-1].x))}this.grid.update({bounds:h,ticks:k}),this.text.update({bounds:h,ticks:k,labels:_.labels||["x","y"],labelSize:_.labelSize||[12,12],labelFont:_.labelFont||["sans-serif","sans-serif"],title:_.title||"",titleSize:_.titleSize||18,titleFont:_.titleFont||"sans-serif"}),this.static=!!_.static,this.setDirty()},g.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var _=this.objects.length-1;_>=0;--_)this.objects[_].dispose();for(this.objects.length=0,_=this.overlays.length-1;_>=0;--_)this.overlays[_].dispose();this.overlays.length=0,this.gl=null},g.addObject=function(_){this.objects.indexOf(_)<0&&(this.objects.push(_),this.setDirty())},g.removeObject=function(_){for(var y=this.objects,w=0;w<y.length;++w)if(y[w]===_){y.splice(w,1),this.setDirty();break}},g.addOverlay=function(_){this.overlays.indexOf(_)<0&&(this.overlays.push(_),this.setOverlayDirty())},g.removeOverlay=function(_){for(var y=this.overlays,w=0;w<y.length;++w)if(y[w]===_){y.splice(w,1),this.setOverlayDirty();break}}},4296:function(v,c,i){"use strict";v.exports=function(g,p){g=g||document.body;var T=[.01,1/0];"distanceLimits"in(p=p||{})&&(T[0]=p.distanceLimits[0],T[1]=p.distanceLimits[1]),"zoomMin"in p&&(T[0]=p.zoomMin),"zoomMax"in p&&(T[1]=p.zoomMax);var _=a({center:p.center||[0,0,0],up:p.up||[0,1,0],eye:p.eye||[0,0,10],mode:p.mode||"orbit",distanceLimits:T}),y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w=0,m=g.clientWidth,b=g.clientHeight,k={keyBindingMode:"rotate",enableWheel:!0,view:_,element:g,delay:p.delay||16,rotateSpeed:p.rotateSpeed||1,zoomSpeed:p.zoomSpeed||1,translateSpeed:p.translateSpeed||1,flipX:!!p.flipX,flipY:!!p.flipY,modes:_.modes,_ortho:p._ortho||p.projection&&"orthographic"===p.projection.type||!1,tick:function(){var h=u(),O=this.delay,A=h-2*O;_.idle(h-O),_.recalcMatrix(A),_.flush(h-(100+2*O));for(var I=!0,P=_.computedMatrix,L=0;L<16;++L)I=I&&y[L]===P[L],y[L]=P[L];var N=g.clientWidth===m&&g.clientHeight===b;return m=g.clientWidth,b=g.clientHeight,I?!N:(w=Math.exp(_.computedRadius[0]),!0)},lookAt:function(h,O,A){_.lookAt(_.lastT(),h,O,A)},rotate:function(h,O,A){_.rotate(_.lastT(),h,O,A)},pan:function(h,O,A){_.pan(_.lastT(),h,O,A)},translate:function(h,O,A){_.translate(_.lastT(),h,O,A)}};return Object.defineProperties(k,{matrix:{get:function(){return _.computedMatrix},set:function(h){return _.setMatrix(_.lastT(),h),_.computedMatrix},enumerable:!0},mode:{get:function(){return _.getMode()},set:function(h){var O=_.computedUp.slice(),A=_.computedEye.slice(),I=_.computedCenter.slice();if(_.setMode(h),"turntable"===h){var P=u();_._active.lookAt(P,A,I,O),_._active.lookAt(P+500,A,I,[0,0,1]),_._active.flush(P)}return _.getMode()},enumerable:!0},center:{get:function(){return _.computedCenter},set:function(h){return _.lookAt(_.lastT(),null,h),_.computedCenter},enumerable:!0},eye:{get:function(){return _.computedEye},set:function(h){return _.lookAt(_.lastT(),h),_.computedEye},enumerable:!0},up:{get:function(){return _.computedUp},set:function(h){return _.lookAt(_.lastT(),null,null,h),_.computedUp},enumerable:!0},distance:{get:function(){return w},set:function(h){return _.setDistance(_.lastT(),h),h},enumerable:!0},distanceLimits:{get:function(){return _.getDistanceLimits(T)},set:function(h){return _.setDistanceLimits(h),h},enumerable:!0}}),g.addEventListener("contextmenu",function(h){return h.preventDefault(),!1}),k._lastX=-1,k._lastY=-1,k._lastMods={shift:!1,control:!1,alt:!1,meta:!1},k.enableMouseListeners=function(){function h(O,A,I,P){var L=k.keyBindingMode;if(!1!==L){var N="rotate"===L,B="pan"===L,W="zoom"===L,j=!!P.control,Z=!!P.alt,V=!!P.shift,q=!!(1&O),G=!!(2&O),H=!!(4&O),ne=1/g.clientHeight,X=ne*(A-k._lastX),$=ne*(I-k._lastY),Q=k.flipX?1:-1,te=k.flipY?1:-1,re=Math.PI*k.rotateSpeed,le=u();if(-1!==k._lastX&&-1!==k._lastY&&((N&&q&&!j&&!Z&&!V||q&&!j&&!Z&&V)&&_.rotate(le,Q*re*X,-te*re*$,0),(B&&q&&!j&&!Z&&!V||G||q&&j&&!Z&&!V)&&_.pan(le,-k.translateSpeed*X*w,k.translateSpeed*$*w,0),W&&q&&!j&&!Z&&!V||H||q&&!j&&Z&&!V)){var ue=-k.zoomSpeed*$/window.innerHeight*(le-_.lastT())*100;_.pan(le,0,0,w*(Math.exp(ue)-1))}return k._lastX=A,k._lastY=I,k._lastMods=P,!0}}k.mouseListener=o(g,h),g.addEventListener("touchstart",function(O){var A=s(O.changedTouches[0],g);h(0,A[0],A[1],k._lastMods),h(1,A[0],A[1],k._lastMods)},!!d&&{passive:!0}),g.addEventListener("touchmove",function(O){var A=s(O.changedTouches[0],g);h(1,A[0],A[1],k._lastMods),O.preventDefault()},!!d&&{passive:!1}),g.addEventListener("touchend",function(O){h(0,k._lastX,k._lastY,k._lastMods)},!!d&&{passive:!0}),k.wheelListener=l(g,function(O,A){if(!1!==k.keyBindingMode&&k.enableWheel){var I=k.flipX?1:-1,P=k.flipY?1:-1,L=u();if(Math.abs(O)>Math.abs(A))_.rotate(L,0,0,-O*I*Math.PI*k.rotateSpeed/window.innerWidth);else if(!k._ortho){var N=-k.zoomSpeed*P*A/window.innerHeight*(L-_.lastT())/20;_.pan(L,0,0,w*(Math.exp(N)-1))}}},!0)},k.enableMouseListeners(),k};var u=i(8161),a=i(1152),o=i(6145),l=i(6475),s=i(2565),d=i(5233)},8245:function(v,c,i){var u=i(6832),a=i(5158),o=u(["precision mediump float;\n#define GLSLIFY 1\nattribute vec2 position;\nvarying vec2 uv;\nvoid main() {\n  uv = position;\n  gl_Position = vec4(position, 0, 1);\n}"]),l=u(["precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D accumBuffer;\nvarying vec2 uv;\n\nvoid main() {\n  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));\n  gl_FragColor = min(vec4(1,1,1,1), accum);\n}"]);v.exports=function(s){return a(s,o,l,null,[{name:"position",type:"vec2"}])}},1059:function(v,c,i){"use strict";var u=i(4296),a=i(7453),o=i(2771),l=i(6496),s=i(2611),d=i(4234),g=i(8126),p=i(6145),T=i(1120),_=i(5268),y=i(8245),w=i(2861)({tablet:!0,featureDetect:!0});function m(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function b(h){var O=Math.round(Math.log(Math.abs(h))/Math.log(10));if(O<0){var A=Math.round(Math.pow(10,-O));return Math.ceil(h*A)/A}return O>0?(A=Math.round(Math.pow(10,O)),Math.ceil(h/A)*A):Math.ceil(h)}function k(h){return"boolean"!=typeof h||h}v.exports={createScene:function(h){(h=h||{}).camera=h.camera||{};var O=h.canvas;O||(O=document.createElement("canvas"),h.container?h.container.appendChild(O):document.body.appendChild(O));var A=h.gl;if(A||(h.glOptions&&(w=!!h.glOptions.preserveDrawingBuffer),A=function(Ne,be){var Ee=null;try{(Ee=Ne.getContext("webgl",be))||(Ee=Ne.getContext("experimental-webgl",be))}catch{return null}return Ee}(O,h.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:w})),!A)throw new Error("webgl not supported");var I=h.bounds||[[-10,-10,-10],[10,10,10]],P=new m,L=d(A,A.drawingBufferWidth,A.drawingBufferHeight,{preferFloat:!w}),N=y(A),B=h.cameraObject&&!0===h.cameraObject._ortho||h.camera.projection&&"orthographic"===h.camera.projection.type||!1,W={eye:h.camera.eye||[2,0,0],center:h.camera.center||[0,0,0],up:h.camera.up||[0,1,0],zoomMin:h.camera.zoomMax||.1,zoomMax:h.camera.zoomMin||100,mode:h.camera.mode||"turntable",_ortho:B},j=h.axes||{},Z=a(A,j);Z.enable=!j.disable;var q=l(A,h.spikes||{}),G=[],H=[],ne=[],X=[],$=!0,Q=!0,te={view:null,projection:new Array(16),model:new Array(16),_ortho:!1},re=(Q=!0,[A.drawingBufferWidth,A.drawingBufferHeight]),le=h.cameraObject||u(O,W),ue={gl:A,contextLost:!1,pixelRatio:h.pixelRatio||1,canvas:O,selection:P,camera:le,axes:Z,axesPixels:null,spikes:q,bounds:I,objects:G,shape:re,aspect:h.aspectRatio||[1,1,1],pickRadius:h.pickRadius||10,zNear:h.zNear||.01,zFar:h.zFar||1e3,fovy:h.fovy||Math.PI/4,clearColor:h.clearColor||[0,0,0,0],autoResize:k(h.autoResize),autoBounds:k(h.autoBounds),autoScale:!!h.autoScale,autoCenter:k(h.autoCenter),clipToBounds:k(h.clipToBounds),snapToData:!!h.snapToData,onselect:h.onselect||null,onrender:h.onrender||null,onclick:h.onclick||null,cameraParams:te,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Ne){this.aspect[0]=Ne.x,this.aspect[1]=Ne.y,this.aspect[2]=Ne.z,Q=!0},setBounds:function(Ne,be){this.bounds[0][Ne]=be.min,this.bounds[1][Ne]=be.max},setClearColor:function(Ne){this.clearColor=Ne},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},he=[A.drawingBufferWidth/ue.pixelRatio|0,A.drawingBufferHeight/ue.pixelRatio|0];function ge(){if(!ue._stopped&&ue.autoResize){var Ne=O.parentNode,be=1,Ee=1;Ne&&Ne!==document.body?(be=Ne.clientWidth,Ee=Ne.clientHeight):(be=window.innerWidth,Ee=window.innerHeight);var Oe=0|Math.ceil(be*ue.pixelRatio),De=0|Math.ceil(Ee*ue.pixelRatio);if(Oe!==O.width||De!==O.height){O.width=Oe,O.height=De;var oe=O.style;oe.position=oe.position||"absolute",oe.left="0px",oe.top="0px",oe.width=be+"px",oe.height=Ee+"px",$=!0}}}function xe(){for(var Ne=G.length,be=X.length,Ee=0;Ee<be;++Ee)ne[Ee]=0;e:for(Ee=0;Ee<Ne;++Ee){var Oe=G[Ee],De=Oe.pickSlots;if(De){for(var oe=0;oe<be;++oe)if(ne[oe]+De<255){H[Ee]=oe,Oe.setPickBase(ne[oe]+1),ne[oe]+=De;continue e}var de=s(A,re);H[Ee]=be,X.push(de),ne.push(De),Oe.setPickBase(1),be+=1}else H[Ee]=-1}for(;be>0&&0===ne[be-1];)ne.pop(),X.pop().dispose()}function ke(){if(ue.contextLost)return!0;A.isContextLost()&&(ue.contextLost=!0,ue.mouseListener.enabled=!1,ue.selection.object=null,ue.oncontextloss&&ue.oncontextloss())}ue.autoResize&&ge(),window.addEventListener("resize",ge),ue.update=function(Ne){ue._stopped||(Ne=Ne||{},$=!0,Q=!0)},ue.add=function(Ne){ue._stopped||(Ne.axes=Z,G.push(Ne),H.push(-1),$=!0,Q=!0,xe())},ue.remove=function(Ne){if(!ue._stopped){var be=G.indexOf(Ne);be<0||(G.splice(be,1),H.pop(),$=!0,Q=!0,xe())}},ue.dispose=function(){if(!ue._stopped&&(ue._stopped=!0,window.removeEventListener("resize",ge),O.removeEventListener("webglcontextlost",ke),ue.mouseListener.enabled=!1,!ue.contextLost)){Z.dispose(),q.dispose();for(var Ne=0;Ne<G.length;++Ne)G[Ne].dispose();for(L.dispose(),Ne=0;Ne<X.length;++Ne)X[Ne].dispose();N.dispose(),A=null,Z=null,q=null,G=[]}},ue._mouseRotating=!1,ue._prevButtons=0,ue.enableMouseListeners=function(){ue.mouseListener=p(O,function(Ne,be,Ee){if(!ue._stopped){var Oe=X.length,De=G.length,oe=P.object;P.distance=1/0,P.mouse[0]=be,P.mouse[1]=Ee,P.object=null,P.screen=null,P.dataCoordinate=P.dataPosition=null;var de=!1;if(Ne&&ue._prevButtons)ue._mouseRotating=!0;else{ue._mouseRotating&&(Q=!0),ue._mouseRotating=!1;for(var _e=0;_e<Oe;++_e){var Me=X[_e].query(be,he[1]-Ee-1,ue.pickRadius);if(Me){if(Me.distance>P.distance)continue;for(var Pe=0;Pe<De;++Pe){var Ue=G[Pe];if(H[Pe]===_e){var Be=Ue.pick(Me);Be&&(P.buttons=Ne,P.screen=Me.coord,P.distance=Me.distance,P.object=Ue,P.index=Be.distance,P.dataPosition=Be.position,P.dataCoordinate=Be.dataCoordinate,P.data=Be,de=!0)}}}}}oe&&oe!==P.object&&(oe.highlight&&oe.highlight(null),$=!0),P.object&&(P.object.highlight&&P.object.highlight(P.data),$=!0),(de=de||P.object!==oe)&&ue.onselect&&ue.onselect(P),1&Ne&&!(1&ue._prevButtons)&&ue.onclick&&ue.onclick(P),ue._prevButtons=Ne}})},O.addEventListener("webglcontextlost",ke);var Ae=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],pe=[Ae[0].slice(),Ae[1].slice()];function ye(){if(!ke()){ge();var Ne=ue.camera.tick();te.view=ue.camera.matrix,$=$||Ne,Q=Q||Ne,Z.pixelRatio=ue.pixelRatio,q.pixelRatio=ue.pixelRatio;var be=G.length,Ee=Ae[0],Oe=Ae[1];Ee[0]=Ee[1]=Ee[2]=1/0,Oe[0]=Oe[1]=Oe[2]=-1/0;for(var De=0;De<be;++De){(We=G[De]).pixelRatio=ue.pixelRatio,We.axes=ue.axes,$=$||!!We.dirty,Q=Q||!!We.dirty;var oe=We.bounds;if(oe)for(var de=oe[0],_e=oe[1],Me=0;Me<3;++Me)Ee[Me]=Math.min(Ee[Me],de[Me]),Oe[Me]=Math.max(Oe[Me],_e[Me])}var Pe=ue.bounds;if(ue.autoBounds)for(Me=0;Me<3;++Me){if(Oe[Me]<Ee[Me])Ee[Me]=-1,Oe[Me]=1;else{Ee[Me]===Oe[Me]&&(Ee[Me]-=1,Oe[Me]+=1);var Ue=.05*(Oe[Me]-Ee[Me]);Ee[Me]=Ee[Me]-Ue,Oe[Me]=Oe[Me]+Ue}Pe[0][Me]=Ee[Me],Pe[1][Me]=Oe[Me]}var Be=!1;for(Me=0;Me<3;++Me)Be=Be||pe[0][Me]!==Pe[0][Me]||pe[1][Me]!==Pe[1][Me],pe[0][Me]=Pe[0][Me],pe[1][Me]=Pe[1][Me];if(Q=Q||Be,$=$||Be){if(Be){var Ve=[0,0,0];for(De=0;De<3;++De)Ve[De]=b((Pe[1][De]-Pe[0][De])/10);Z.update(Z.autoTicks?{bounds:Pe,tickSpacing:Ve}:{bounds:Pe})}var ve=A.drawingBufferWidth,Te=A.drawingBufferHeight;for(re[0]=ve,re[1]=Te,he[0]=0|Math.max(ve/ue.pixelRatio,1),he[1]=0|Math.max(Te/ue.pixelRatio,1),function(Ke,Je){var ht=Ke.bounds,ft=Ke.cameraParams,mt=ft.projection,At=ft.model,Pt=Ke.zNear,Bt=Ke.zFar,Ut=Ke.fovy,Vt=Ke.gl.drawingBufferWidth/Ke.gl.drawingBufferHeight;Je?(_(mt,-Vt,Vt,-1,1,Pt,Bt),ft._ortho=!0):(T(mt,Ut,Vt,Pt,Bt),ft._ortho=!1);for(var tn=0;tn<16;++tn)At[tn]=0;At[15]=1;var Gt=0;for(tn=0;tn<3;++tn)Gt=Math.max(Gt,ht[1][tn]-ht[0][tn]);for(tn=0;tn<3;++tn)At[5*tn]=Ke.autoScale?Ke.aspect[tn]/(ht[1][tn]-ht[0][tn]):1/Gt,Ke.autoCenter&&(At[12+tn]=.5*-At[5*tn]*(ht[0][tn]+ht[1][tn]))}(ue,B),De=0;De<be;++De)(We=G[De]).axesBounds=Pe,ue.clipToBounds&&(We.clipBounds=Pe);P.object&&(q.position=ue.snapToData?P.dataCoordinate:P.dataPosition,q.bounds=Pe),Q&&(Q=!1,function(){if(!ke()){A.colorMask(!0,!0,!0,!0),A.depthMask(!0),A.disable(A.BLEND),A.enable(A.DEPTH_TEST),A.depthFunc(A.LEQUAL);for(var Ke=G.length,Je=X.length,ht=0;ht<Je;++ht){var ft=X[ht];ft.shape=he,ft.begin();for(var mt=0;mt<Ke;++mt)if(H[mt]===ht){var At=G[mt];At.drawPick&&(At.pixelRatio=1,At.drawPick(te))}ft.end()}}}()),ue.axesPixels=o(ue.axes,te,ve,Te),ue.onrender&&ue.onrender(),A.bindFramebuffer(A.FRAMEBUFFER,null),A.viewport(0,0,ve,Te),ue.clearRGBA(),A.depthMask(!0),A.colorMask(!0,!0,!0,!0),A.enable(A.DEPTH_TEST),A.depthFunc(A.LEQUAL),A.disable(A.BLEND),A.disable(A.CULL_FACE);var Ce=!1;for(Z.enable&&(Ce=Ce||Z.isTransparent(),Z.draw(te)),q.axes=Z,P.object&&q.draw(te),A.disable(A.CULL_FACE),De=0;De<be;++De)(We=G[De]).axes=Z,We.pixelRatio=ue.pixelRatio,We.isOpaque&&We.isOpaque()&&We.draw(te),We.isTransparent&&We.isTransparent()&&(Ce=!0);if(Ce){for(L.shape=re,L.bind(),A.clear(A.DEPTH_BUFFER_BIT),A.colorMask(!1,!1,!1,!1),A.depthMask(!0),A.depthFunc(A.LESS),Z.enable&&Z.isTransparent()&&Z.drawTransparent(te),De=0;De<be;++De)(We=G[De]).isOpaque&&We.isOpaque()&&We.draw(te);for(A.enable(A.BLEND),A.blendEquation(A.FUNC_ADD),A.blendFunc(A.ONE,A.ONE_MINUS_SRC_ALPHA),A.colorMask(!0,!0,!0,!0),A.depthMask(!1),A.clearColor(0,0,0,0),A.clear(A.COLOR_BUFFER_BIT),Z.isTransparent()&&Z.drawTransparent(te),De=0;De<be;++De){var We;(We=G[De]).isTransparent&&We.isTransparent()&&We.drawTransparent(te)}A.bindFramebuffer(A.FRAMEBUFFER,null),A.blendFunc(A.ONE,A.ONE_MINUS_SRC_ALPHA),A.disable(A.DEPTH_TEST),N.bind(),L.color[0].bind(0),N.uniforms.accumBuffer=0,g(A),A.disable(A.BLEND)}for($=!1,De=0;De<be;++De)G[De].dirty=!1}}}return ue.enableMouseListeners(),function Ne(){ue._stopped||ue.contextLost||(ye(),requestAnimationFrame(Ne))}(),ue.redraw=function(){ue._stopped||($=!0,ye())},ue},createCamera:u}},8023:function(v,c,i){var u=i(6832);c.pointVertex=u(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform float pointCloud;\n\nhighp float rand(vec2 co) {\n  highp float a = 12.9898;\n  highp float b = 78.233;\n  highp float c = 43758.5453;\n  highp float d = dot(co.xy, vec2(a, b));\n  highp float e = mod(d, 3.14);\n  return fract(sin(e) * c);\n}\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n    // if we don't jitter the point size a bit, overall point cloud\n    // saturation 'jumps' on zooming, which is disturbing and confusing\n  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    // get the same square surface as circle would be\n    gl_PointSize *= 0.886;\n  }\n}"]),c.pointFragment=u(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color, borderColor;\nuniform float centerFraction;\nuniform float pointCloud;\n\nvoid main() {\n  float radius;\n  vec4 baseColor;\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    if(centerFraction == 1.0) {\n      gl_FragColor = color;\n    } else {\n      gl_FragColor = mix(borderColor, color, centerFraction);\n    }\n  } else {\n    radius = length(2.0 * gl_PointCoord.xy - 1.0);\n    if(radius > 1.0) {\n      discard;\n    }\n    baseColor = mix(borderColor, color, step(radius, centerFraction));\n    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);\n  }\n}\n"]),c.pickVertex=u(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform vec4 pickOffset;\n\nvarying vec4 fragId;\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n  gl_PointSize = pointSize;\n\n  vec4 id = pickId + pickOffset;\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  fragId = id;\n}\n"]),c.pickFragment=u(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\n\nvoid main() {\n  float radius = length(2.0 * gl_PointCoord.xy - 1.0);\n  if(radius > 1.0) {\n    discard;\n  }\n  gl_FragColor = fragId / 255.0;\n}\n"])},8271:function(v,c,i){"use strict";var u=i(5158),a=i(5827),o=i(5306),l=i(8023);function s(T,_,y,w,m){this.plot=T,this.offsetBuffer=_,this.pickBuffer=y,this.shader=w,this.pickShader=m,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}v.exports=function(T,_){var y=T.gl,w=new s(T,a(y),a(y),u(y,l.pointVertex,l.pointFragment),u(y,l.pickVertex,l.pickFragment));return w.update(_),T.addObject(w),w};var d,g,p=s.prototype;p.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},p.update=function(T){var _;function y(A,I){return A in T?T[A]:I}T=T||{},this.sizeMin=y("sizeMin",.5),this.sizeMax=y("sizeMax",20),this.color=y("color",[1,0,0,1]).slice(),this.areaRatio=y("areaRatio",1),this.borderColor=y("borderColor",[0,0,0,1]).slice(),this.blend=y("blend",!1);var w=T.positions.length>>>1,m=T.positions instanceof Float32Array,b=T.idToIndex instanceof Int32Array&&T.idToIndex.length>=w,k=T.positions,h=m?k:o.mallocFloat32(k.length),O=b?T.idToIndex:o.mallocInt32(w);if(m||h.set(k),!b)for(h.set(k),_=0;_<w;_++)O[_]=_;this.points=k,this.offsetBuffer.update(h),this.pickBuffer.update(O),m||o.free(h),b||o.free(O),this.pointCount=w,this.pickOffset=0},p.unifiedDraw=(d=[1,0,0,0,1,0,0,0,1],g=[0,0,0,0],function(T){var _=void 0!==T,y=_?this.pickShader:this.shader,w=this.plot.gl,m=this.plot.dataBox;if(0===this.pointCount)return T;var b=m[2]-m[0],k=m[3]-m[1],h=function(P,L){var N,B=0,W=P.length>>>1;for(N=0;N<W;N++){var j=P[2*N],Z=P[2*N+1];j>=L[0]&&j<=L[2]&&Z>=L[1]&&Z<=L[3]&&B++}return B}(this.points,m),O=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(h,.33333)));d[0]=2/b,d[4]=2/k,d[6]=-2*m[0]/b-1,d[7]=-2*m[1]/k-1,this.offsetBuffer.bind(),y.bind(),y.attributes.position.pointer(),y.uniforms.matrix=d,y.uniforms.color=this.color,y.uniforms.borderColor=this.borderColor,y.uniforms.pointCloud=O<5,y.uniforms.pointSize=O,y.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),_&&(g[0]=255&T,g[1]=T>>8&255,g[2]=T>>16&255,g[3]=T>>24&255,this.pickBuffer.bind(),y.attributes.pickId.pointer(w.UNSIGNED_BYTE),y.uniforms.pickOffset=g,this.pickOffset=T);var A=w.getParameter(w.BLEND),I=w.getParameter(w.DITHER);return A&&!this.blend&&w.disable(w.BLEND),I&&w.disable(w.DITHER),w.drawArrays(w.POINTS,0,this.pointCount),A&&!this.blend&&w.enable(w.BLEND),I&&w.enable(w.DITHER),T+this.pointCount}),p.draw=p.unifiedDraw,p.drawPick=p.unifiedDraw,p.pick=function(T,_,y){var w=this.pickOffset;if(y<w||y>=w+this.pointCount)return null;var b=y-w,k=this.points;return{object:this,pointId:b,dataCoord:[k[2*b],k[2*b+1]]}}},6093:function(v){v.exports=function(c,i,u,a){var o,l,s,d,g,p=i[0],T=i[1],_=i[2],y=i[3],w=u[0],m=u[1],b=u[2],k=u[3];return(l=p*w+T*m+_*b+y*k)<0&&(l=-l,w=-w,m=-m,b=-b,k=-k),1-l>1e-6?(o=Math.acos(l),s=Math.sin(o),d=Math.sin((1-a)*o)/s,g=Math.sin(a*o)/s):(d=1-a,g=a),c[0]=d*p+g*w,c[1]=d*T+g*m,c[2]=d*_+g*b,c[3]=d*y+g*k,c}},8240:function(v){"use strict";v.exports=function(c){return c||0===c?c.toString():""}},4123:function(v,c,i){"use strict";var u=i(875);v.exports=function(o,l,s){var d=a[l];if(d||(d=a[l]={}),o in d)return d[o];var g={textAlign:"center",textBaseline:"middle",lineHeight:1,font:l,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},triangles:!0},p=u(o,g);g.triangles=!1;var T,_,y=u(o,g);if(s&&1!==s){for(T=0;T<p.positions.length;++T)for(_=0;_<p.positions[T].length;++_)p.positions[T][_]/=s;for(T=0;T<y.positions.length;++T)for(_=0;_<y.positions[T].length;++_)y.positions[T][_]/=s}var w=[[1/0,1/0],[-1/0,-1/0]],m=y.positions.length;for(T=0;T<m;++T){var b=y.positions[T];for(_=0;_<2;++_)w[0][_]=Math.min(w[0][_],b[_]),w[1][_]=Math.max(w[1][_],b[_])}return d[o]=[p,y,w]};var a={}},9282:function(v,c,i){var u=i(5158),a=i(6832),o=a(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform vec4 highlightId;\nuniform float highlightScale;\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = 1.0;\n    if(distance(highlightId, id) < 0.0001) {\n      scale = highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1);\n    vec4 viewPosition = view * worldPosition;\n    viewPosition = viewPosition / viewPosition.w;\n    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),l=a(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float highlightScale, pixelRatio;\nuniform vec4 highlightId;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = pixelRatio;\n    if(distance(highlightId.bgr, id.bgr) < 0.001) {\n      scale *= highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1.0);\n    vec4 viewPosition = view * worldPosition;\n    vec4 clipPosition = projection * viewPosition;\n    clipPosition /= clipPosition.w;\n\n    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),s=a(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform float highlightScale;\nuniform vec4 highlightId;\nuniform vec3 axes[2];\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float scale, pixelRatio;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float lscale = pixelRatio * scale;\n    if(distance(highlightId, id) < 0.0001) {\n      lscale *= highlightScale;\n    }\n\n    vec4 clipCenter   = projection * view * model * vec4(position, 1);\n    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;\n    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = dataPosition;\n  }\n}\n"]),d=a(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float opacity;\n\nvarying vec4 interpColor;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (\n    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||\n    interpColor.a * opacity == 0.\n  ) discard;\n  gl_FragColor = interpColor * opacity;\n}\n"]),g=a(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float pickGroup;\n\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;\n\n  gl_FragColor = vec4(pickGroup, pickId.bgr);\n}"]),p=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],T={vertex:o,fragment:d,attributes:p},_={vertex:l,fragment:d,attributes:p},y={vertex:s,fragment:d,attributes:p},w={vertex:o,fragment:g,attributes:p},m={vertex:l,fragment:g,attributes:p},b={vertex:s,fragment:g,attributes:p};function k(h,O){var A=u(h,O),I=A.attributes;return I.position.location=0,I.color.location=1,I.glyph.location=2,I.id.location=3,A}c.createPerspective=function(h){return k(h,T)},c.createOrtho=function(h){return k(h,_)},c.createProject=function(h){return k(h,y)},c.createPickPerspective=function(h){return k(h,w)},c.createPickOrtho=function(h){return k(h,m)},c.createPickProject=function(h){return k(h,b)}},2182:function(v,c,i){"use strict";var u=i(3596),a=i(5827),o=i(2944),l=i(5306),s=i(104),d=i(9282),g=i(4123),p=i(8240),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function _(H,ne){var X=H[0],$=H[1],Q=H[2],te=H[3];return H[0]=ne[0]*X+ne[4]*$+ne[8]*Q+ne[12]*te,H[1]=ne[1]*X+ne[5]*$+ne[9]*Q+ne[13]*te,H[2]=ne[2]*X+ne[6]*$+ne[10]*Q+ne[14]*te,H[3]=ne[3]*X+ne[7]*$+ne[11]*Q+ne[15]*te,H}function y(H,ne,X,$){return _($,$),_($,$),_($,$)}function w(H,ne){this.index=H,this.dataCoordinate=this.position=ne}function m(H){return!0===H||H>1?1:H}function b(H,ne,X,$,Q,te,re,le,ue,he,ge,xe){this.gl=H,this.pixelRatio=1,this.shader=ne,this.orthoShader=X,this.projectShader=$,this.pointBuffer=Q,this.colorBuffer=te,this.glyphBuffer=re,this.idBuffer=le,this.vao=ue,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=he,this.pickOrthoShader=ge,this.pickProjectShader=xe,this.points=[],this._selectResult=new w(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}v.exports=function(H){var ne=H.gl,X=d.createPerspective(ne),$=d.createOrtho(ne),Q=d.createProject(ne),te=d.createPickPerspective(ne),re=d.createPickOrtho(ne),le=d.createPickProject(ne),ue=a(ne),he=a(ne),ge=a(ne),xe=a(ne),ke=new b(ne,X,$,Q,ue,he,ge,xe,o(ne,[{buffer:ue,size:3,type:ne.FLOAT},{buffer:he,size:4,type:ne.FLOAT},{buffer:ge,size:2,type:ne.FLOAT},{buffer:xe,size:4,type:ne.UNSIGNED_BYTE,normalized:!0}]),te,re,le);return ke.update(H),ke};var k=b.prototype;k.pickSlots=1,k.setPickBase=function(H){this.pickId=H},k.isTransparent=function(){if(this.hasAlpha)return!0;for(var H=0;H<3;++H)if(this.axesProject[H]&&this.projectHasAlpha)return!0;return!1},k.isOpaque=function(){if(!this.hasAlpha)return!0;for(var H=0;H<3;++H)if(this.axesProject[H]&&!this.projectHasAlpha)return!0;return!1};var h=[0,0],O=[0,0,0],A=[0,0,0],I=[0,0,0,1],P=[0,0,0,1],L=T.slice(),N=[0,0,0],B=[[0,0,0],[0,0,0]];function W(H){return H[0]=H[1]=H[2]=0,H}function j(H,ne){return H[0]=ne[0],H[1]=ne[1],H[2]=ne[2],H[3]=1,H}function Z(H,ne,X,$){return H[0]=ne[0],H[1]=ne[1],H[2]=ne[2],H[X]=$,H}var V=[[-1e8,-1e8,-1e8],[1e8,1e8,1e8]];function q(H,ne,X,$,Q,te,re){var le=X.gl;if((te===X.projectHasAlpha||re)&&function(he,ge,xe,ke){var Ae,pe=ge.axesProject,ye=ge.gl,Ne=he.uniforms,be=xe.model||T,Ee=xe.view||T,Oe=xe.projection||T,De=ge.axesBounds,oe=function(ht){for(var ft=B,mt=0;mt<2;++mt)for(var At=0;At<3;++At)ft[mt][At]=Math.max(Math.min(ht[mt][At],1e8),-1e8);return ft}(ge.clipBounds);Ae=ge.axes&&ge.axes.lastCubeProps?ge.axes.lastCubeProps.axis:[1,1,1],h[0]=2/ye.drawingBufferWidth,h[1]=2/ye.drawingBufferHeight,he.bind(),Ne.view=Ee,Ne.projection=Oe,Ne.screenSize=h,Ne.highlightId=ge.highlightId,Ne.highlightScale=ge.highlightScale,Ne.clipBounds=oe,Ne.pickGroup=ge.pickId/255,Ne.pixelRatio=ke;for(var de=0;de<3;++de)if(pe[de]){Ne.scale=ge.projectScale[de],Ne.opacity=ge.projectOpacity[de];for(var _e=L,Me=0;Me<16;++Me)_e[Me]=0;for(Me=0;Me<4;++Me)_e[5*Me]=1;_e[5*de]=0,_e[12+de]=Ae[de]<0?De[0][de]:De[1][de],s(_e,be,_e),Ne.model=_e;var Pe=(de+1)%3,Ue=(de+2)%3,Be=W(O),Ve=W(A);Be[Pe]=1,Ve[Ue]=1;var ve=y(0,0,0,j(I,Be)),Te=y(0,0,0,j(P,Ve));if(Math.abs(ve[1])>Math.abs(Te[1])){var Ce=ve;ve=Te,Te=Ce,Ce=Be,Be=Ve,Ve=Ce;var We=Pe;Pe=Ue,Ue=We}ve[0]<0&&(Be[Pe]=-1),Te[1]>0&&(Ve[Ue]=-1);var Ke=0,Je=0;for(Me=0;Me<4;++Me)Ke+=Math.pow(be[4*Pe+Me],2),Je+=Math.pow(be[4*Ue+Me],2);Be[Pe]/=Math.sqrt(Ke),Ve[Ue]/=Math.sqrt(Je),Ne.axes[0]=Be,Ne.axes[1]=Ve,Ne.fragClipBounds[0]=Z(N,oe[0],de,-1e8),Ne.fragClipBounds[1]=Z(N,oe[1],de,1e8),ge.vao.bind(),ge.vao.draw(ye.TRIANGLES,ge.vertexCount),ge.lineWidth>0&&(ye.lineWidth(ge.lineWidth*ke),ge.vao.draw(ye.LINES,ge.lineVertexCount,ge.vertexCount)),ge.vao.unbind()}}(ne,X,$,Q),te===X.hasAlpha||re){H.bind();var ue=H.uniforms;ue.model=$.model||T,ue.view=$.view||T,ue.projection=$.projection||T,h[0]=2/le.drawingBufferWidth,h[1]=2/le.drawingBufferHeight,ue.screenSize=h,ue.highlightId=X.highlightId,ue.highlightScale=X.highlightScale,ue.fragClipBounds=V,ue.clipBounds=X.axes.bounds,ue.opacity=X.opacity,ue.pickGroup=X.pickId/255,ue.pixelRatio=Q,X.vao.bind(),X.vao.draw(le.TRIANGLES,X.vertexCount),X.lineWidth>0&&(le.lineWidth(X.lineWidth*Q),X.vao.draw(le.LINES,X.lineVertexCount,X.vertexCount)),X.vao.unbind()}}function G(H,ne,X,$){var Q;Q=Array.isArray(H)?ne<H.length?H[ne]:void 0:H,Q=p(Q);var te=!0;u(Q)&&(Q="\u25bc",te=!1);var re=g(Q,X,$);return{mesh:re[0],lines:re[1],bounds:re[2],visible:te}}k.draw=function(H){q(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,H,this.pixelRatio,!1,!1)},k.drawTransparent=function(H){q(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,H,this.pixelRatio,!0,!1)},k.drawPick=function(H){q(this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader,this.pickProjectShader,this,H,1,!0,!0)},k.pick=function(H){if(!H||H.id!==this.pickId)return null;var ne=H.value[2]+(H.value[1]<<8)+(H.value[0]<<16);if(ne>=this.pointCount||ne<0)return null;var X=this.points[ne],$=this._selectResult;$.index=ne;for(var Q=0;Q<3;++Q)$.position[Q]=$.dataCoordinate[Q]=X[Q];return $},k.highlight=function(H){if(H){var ne=H.index;this.highlightId=[(255&ne)/255,(ne>>8&255)/255,(ne>>16&255)/255,0]}else this.highlightId=[1,1,1,1]},k.update=function(H){if("perspective"in(H=H||{})&&(this.useOrtho=!H.perspective),"orthographic"in H&&(this.useOrtho=!!H.orthographic),"lineWidth"in H&&(this.lineWidth=H.lineWidth),"project"in H)if(Array.isArray(H.project))this.axesProject=H.project;else{var ne=!!H.project;this.axesProject=[ne,ne,ne]}if("projectScale"in H)if(Array.isArray(H.projectScale))this.projectScale=H.projectScale.slice();else{var X=+H.projectScale;this.projectScale=[X,X,X]}if(this.projectHasAlpha=!1,"projectOpacity"in H){this.projectOpacity=Array.isArray(H.projectOpacity)?H.projectOpacity.slice():[X=+H.projectOpacity,X,X];for(var $=0;$<3;++$)this.projectOpacity[$]=m(this.projectOpacity[$]),this.projectOpacity[$]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in H&&(this.opacity=m(H.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var Q,te,re=H.position,le=H.font||"normal",ue=H.alignment||[0,0];if(2===ue.length)Q=ue[0],te=ue[1];else for(Q=[],te=[],$=0;$<ue.length;++$)Q[$]=ue[$][0],te[$]=ue[$][1];var he=[1/0,1/0,1/0],ge=[-1/0,-1/0,-1/0],xe=H.glyph,ke=H.color,Ae=H.size,pe=H.angle,ye=H.lineColor,Ne=-1,be=0,Ee=0,Oe=0;if(re.length){Oe=re.length;e:for($=0;$<Oe;++$){for(var De=re[$],oe=0;oe<3;++oe)if(isNaN(De[oe])||!isFinite(De[oe]))continue e;var de=(ft=G(xe,$,le,this.pixelRatio)).mesh,_e=ft.lines,Me=ft.bounds;be+=3*de.cells.length,Ee+=2*_e.edges.length}}var Pe=be+Ee,Ue=l.mallocFloat(3*Pe),Be=l.mallocFloat(4*Pe),Ve=l.mallocFloat(2*Pe),ve=l.mallocUint32(Pe);if(Pe>0){var Te=0,Ce=be,We=[0,0,0,1],Ke=[0,0,0,1],Je=Array.isArray(ke)&&Array.isArray(ke[0]),ht=Array.isArray(ye)&&Array.isArray(ye[0]);e:for($=0;$<Oe;++$){for(Ne+=1,De=re[$],oe=0;oe<3;++oe){if(isNaN(De[oe])||!isFinite(De[oe]))continue e;ge[oe]=Math.max(ge[oe],De[oe]),he[oe]=Math.min(he[oe],De[oe])}de=(ft=G(xe,$,le,this.pixelRatio)).mesh,_e=ft.lines,Me=ft.bounds;var ft,mt=ft.visible;if(mt)if(Array.isArray(ke)){if(3===(At=Je?$<ke.length?ke[$]:[0,0,0,0]:ke).length){for(oe=0;oe<3;++oe)We[oe]=At[oe];We[3]=1}else if(4===At.length){for(oe=0;oe<4;++oe)We[oe]=At[oe];!this.hasAlpha&&At[3]<1&&(this.hasAlpha=!0)}}else We[0]=We[1]=We[2]=0,We[3]=1;else We=[1,1,1,0];if(mt)if(Array.isArray(ye)){var At;if(3===(At=ht?$<ye.length?ye[$]:[0,0,0,0]:ye).length){for(oe=0;oe<3;++oe)Ke[oe]=At[oe];Ke[oe]=1}else if(4===At.length){for(oe=0;oe<4;++oe)Ke[oe]=At[oe];!this.hasAlpha&&At[3]<1&&(this.hasAlpha=!0)}}else Ke[0]=Ke[1]=Ke[2]=0,Ke[3]=1;else Ke=[1,1,1,0];var Rt=.5;mt?Array.isArray(Ae)?Rt=$<Ae.length?+Ae[$]:12:Ae?Rt=+Ae:this.useOrtho&&(Rt=12):Rt=0;var It=0;Array.isArray(pe)?It=$<pe.length?+pe[$]:0:pe&&(It=+pe);var Pt=Math.cos(It),Bt=Math.sin(It);for(De=re[$],oe=0;oe<3;++oe)ge[oe]=Math.max(ge[oe],De[oe]),he[oe]=Math.min(he[oe],De[oe]);var Ut=Q,Vt=te;Ut=0,Array.isArray(Q)?Ut=$<Q.length?Q[$]:0:Q&&(Ut=Q),Vt=0,Array.isArray(te)?Vt=$<te.length?te[$]:0:te&&(Vt=te);var tn=[Ut*=Ut>0?1-Me[0][0]:Ut<0?1+Me[1][0]:1,Vt*=Vt>0?1-Me[0][1]:Vt<0?1+Me[1][1]:1],Gt=de.cells||[],et=de.positions||[];for(oe=0;oe<Gt.length;++oe)for(var nt=Gt[oe],$e=0;$e<3;++$e){for(var ot=0;ot<3;++ot)Ue[3*Te+ot]=De[ot];for(ot=0;ot<4;++ot)Be[4*Te+ot]=We[ot];ve[Te]=Ne;var dt=et[nt[$e]];Ve[2*Te]=Rt*(Pt*dt[0]-Bt*dt[1]+tn[0]),Ve[2*Te+1]=Rt*(Bt*dt[0]+Pt*dt[1]+tn[1]),Te+=1}for(Gt=_e.edges,et=_e.positions,oe=0;oe<Gt.length;++oe)for(nt=Gt[oe],$e=0;$e<2;++$e){for(ot=0;ot<3;++ot)Ue[3*Ce+ot]=De[ot];for(ot=0;ot<4;++ot)Be[4*Ce+ot]=Ke[ot];ve[Ce]=Ne,Ve[2*Ce]=Rt*(Pt*(dt=et[nt[$e]])[0]-Bt*dt[1]+tn[0]),Ve[2*Ce+1]=Rt*(Bt*dt[0]+Pt*dt[1]+tn[1]),Ce+=1}}}this.bounds=[he,ge],this.points=re,this.pointCount=re.length,this.vertexCount=be,this.lineVertexCount=Ee,this.pointBuffer.update(Ue),this.colorBuffer.update(Be),this.glyphBuffer.update(Ve),this.idBuffer.update(ve),l.free(Ue),l.free(Be),l.free(Ve),l.free(ve)},k.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()}},1884:function(v,c,i){"use strict";var u=i(6832);c.boxVertex=u(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 vertex;\n\nuniform vec2 cornerA, cornerB;\n\nvoid main() {\n  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);\n}\n"]),c.boxFragment=u(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color;\n\nvoid main() {\n  gl_FragColor = color;\n}\n"])},6623:function(v,c,i){"use strict";var u=i(5158),a=i(5827),o=i(1884);function l(d,g,p){this.plot=d,this.boxBuffer=g,this.boxShader=p,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}v.exports=function(d,g){var p=d.gl,T=new l(d,a(p,[0,0,0,1,1,0,1,1]),u(p,o.boxVertex,o.boxFragment));return T.update(g),d.addOverlay(T),T};var s=l.prototype;s.draw=function(){if(this.enabled){var d=this.plot,g=this.selectBox,p=this.borderWidth,T=this.innerColor,_=this.outerColor,y=this.borderColor,w=d.box,m=d.screenBox,b=d.dataBox,k=d.viewBox,h=d.pixelRatio,O=(g[0]-b[0])*(k[2]-k[0])/(b[2]-b[0])+k[0],A=(g[1]-b[1])*(k[3]-k[1])/(b[3]-b[1])+k[1],I=(g[2]-b[0])*(k[2]-k[0])/(b[2]-b[0])+k[0],P=(g[3]-b[1])*(k[3]-k[1])/(b[3]-b[1])+k[1];if(O=Math.max(O,k[0]),A=Math.max(A,k[1]),I=Math.min(I,k[2]),P=Math.min(P,k[3]),!(I<O||P<A)){w.bind();var L=m[2]-m[0],N=m[3]-m[1];if(this.outerFill&&(w.drawBox(0,0,L,A,_),w.drawBox(0,A,O,P,_),w.drawBox(0,P,L,N,_),w.drawBox(I,A,L,P,_)),this.innerFill&&w.drawBox(O,A,I,P,T),p>0){var B=p*h;w.drawBox(O-B,A-B,I+B,A+B,y),w.drawBox(O-B,P-B,I+B,P+B,y),w.drawBox(O-B,A-B,O+B,P+B,y),w.drawBox(I-B,A-B,I+B,P+B,y)}}}},s.update=function(d){this.innerFill=!!(d=d||{}).innerFill,this.outerFill=!!d.outerFill,this.innerColor=(d.innerColor||[0,0,0,.5]).slice(),this.outerColor=(d.outerColor||[0,0,0,.5]).slice(),this.borderColor=(d.borderColor||[0,0,0,1]).slice(),this.borderWidth=d.borderWidth||0,this.selectBox=(d.selectBox||this.selectBox).slice()},s.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)}},2611:function(v,c,i){"use strict";v.exports=function(p,T){var _=T[0],y=T[1];return new d(p,u(p,_,y,{}),a.mallocUint8(_*y*4))};var u=i(4234),a=i(5306),o=i(5050),l=i(2288).nextPow2;function s(p,T,_,y,w){this.coord=[p,T],this.id=_,this.value=y,this.distance=w}function d(p,T,_){this.gl=p,this.fbo=T,this.buffer=_,this._readTimeout=null;var y=this;this._readCallback=function(){y.gl&&(T.bind(),p.readPixels(0,0,T.shape[0],T.shape[1],p.RGBA,p.UNSIGNED_BYTE,y.buffer),y._readTimeout=null)}}var g=d.prototype;Object.defineProperty(g,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(p){if(this.gl){this.fbo.shape=p;var T=this.fbo.shape[0],_=this.fbo.shape[1];if(_*T*4>this.buffer.length){a.free(this.buffer);for(var y=this.buffer=a.mallocUint8(l(_*T*4)),w=0;w<_*T*4;++w)y[w]=255}return p}}}),g.begin=function(){var p=this.gl;p&&(this.fbo.bind(),p.clearColor(1,1,1,1),p.clear(p.COLOR_BUFFER_BIT|p.DEPTH_BUFFER_BIT))},g.end=function(){var p=this.gl;p&&(p.bindFramebuffer(p.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},g.query=function(p,T,_){if(!this.gl)return null;var y=this.fbo.shape.slice();p|=0,T|=0,"number"!=typeof _&&(_=1);var w=0|Math.min(Math.max(p-_,0),y[0]),m=0|Math.min(Math.max(p+_,0),y[0]),b=0|Math.min(Math.max(T-_,0),y[1]),k=0|Math.min(Math.max(T+_,0),y[1]);if(m<=w||k<=b)return null;var h=[m-w,k-b],O=o(this.buffer,[h[0],h[1],4],[4,4*y[0],1],4*(w+y[0]*b)),A=function(L,N,B){for(var W=1e8,j=-1,Z=-1,V=L.shape[0],q=L.shape[1],G=0;G<V;G++)for(var H=0;H<q;H++){var ne=L.get(G,H,0),X=L.get(G,H,1),$=L.get(G,H,2),Q=L.get(G,H,3);if(ne<255||X<255||$<255||Q<255){var te=N-G,re=B-H,le=te*te+re*re;le<W&&(W=le,j=G,Z=H)}}return[j,Z,W]}(O.hi(h[0],h[1],1),_,_),I=A[0],P=A[1];return I<0||Math.pow(this.radius,2)<A[2]?null:new s(I+w|0,P+b|0,O.get(I,P,0),[O.get(I,P,1),O.get(I,P,2),O.get(I,P,3)],Math.sqrt(A[2]))},g.dispose=function(){this.gl&&(this.fbo.dispose(),a.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},5158:function(v,c,i){"use strict";var u=i(9016),a=i(4280),o=i(3984),l=i(1628),s=i(2631),d=i(9068);function g(_){this.gl=_,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var p=g.prototype;function T(_,y){return _.name<y.name?-1:1}p.bind=function(){var _;this.program||this._relink();var y=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),w=this.gl.lastAttribCount;if(y>w)for(_=w;_<y;_++)this.gl.enableVertexAttribArray(_);else if(w>y)for(_=y;_<w;_++)this.gl.disableVertexAttribArray(_);this.gl.lastAttribCount=y,this.gl.useProgram(this.program)},p.dispose=function(){for(var _=this.gl.lastAttribCount,y=0;y<_;y++)this.gl.disableVertexAttribArray(y);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},p.update=function(_,y,w,m){if(!y||1===arguments.length){var b=_;_=b.vertex,y=b.fragment,w=b.uniforms,m=b.attributes}var k=this,h=k.gl,O=k._vref;k._vref=l.shader(h,h.VERTEX_SHADER,_),O&&O.dispose(),k.vertShader=k._vref.shader;var A=this._fref;if(k._fref=l.shader(h,h.FRAGMENT_SHADER,y),A&&A.dispose(),k.fragShader=k._fref.shader,!w||!m){var I=h.createProgram();if(h.attachShader(I,k.fragShader),h.attachShader(I,k.vertShader),h.linkProgram(I),!h.getProgramParameter(I,h.LINK_STATUS)){var P=h.getProgramInfoLog(I);throw new d(P,"Error linking program:"+P)}w=w||s.uniforms(h,I),m=m||s.attributes(h,I),h.deleteProgram(I)}(m=m.slice()).sort(T);var L,N=[],B=[],W=[];for(L=0;L<m.length;++L){var j=m[L];if(j.type.indexOf("mat")>=0){for(var Z=0|j.type.charAt(j.type.length-1),V=new Array(Z),q=0;q<Z;++q)V[q]=W.length,B.push(j.name+"["+q+"]"),"number"==typeof j.location?W.push(j.location+q):Array.isArray(j.location)&&j.location.length===Z&&"number"==typeof j.location[q]?W.push(0|j.location[q]):W.push(-1);N.push({name:j.name,type:j.type,locations:V})}else N.push({name:j.name,type:j.type,locations:[W.length]}),B.push(j.name),W.push("number"==typeof j.location?0|j.location:-1)}var G=0;for(L=0;L<W.length;++L)if(W[L]<0){for(;W.indexOf(G)>=0;)G+=1;W[L]=G}var H=new Array(w.length);function ne(){k.program=l.program(h,k._vref,k._fref,B,W);for(var X=0;X<w.length;++X)H[X]=h.getUniformLocation(k.program,w[X].name)}ne(),k._relink=ne,k.types={uniforms:o(w),attributes:o(m)},k.attributes=a(h,k,N,W),Object.defineProperty(k,"uniforms",u(h,k,w,H))},v.exports=function(_,y,w,m,b){var k=new g(_);return k.update(y,w,m,b),k}},9068:function(v){function c(i,u,a){this.shortMessage=u||"",this.longMessage=a||"",this.rawError=i||"",this.message="gl-shader: "+(u||i||"")+(a?"\n"+a:""),this.stack=(new Error).stack}(c.prototype=new Error).name="GLError",c.prototype.constructor=c,v.exports=c},4280:function(v,c,i){"use strict";v.exports=function(g,p,T,_){for(var y={},w=0,m=T.length;w<m;++w){var b=T[w],k=b.name,h=b.type,O=b.locations;switch(h){case"bool":case"int":case"float":s(g,p,O[0],_,1,y,k);break;default:if(h.indexOf("vec")>=0){if((A=h.charCodeAt(h.length-1)-48)<2||A>4)throw new u("","Invalid data type for attribute "+k+": "+h);s(g,p,O[0],_,A,y,k)}else{if(!(h.indexOf("mat")>=0))throw new u("","Unknown data type for attribute "+k+": "+h);var A;if((A=h.charCodeAt(h.length-1)-48)<2||A>4)throw new u("","Invalid data type for attribute "+k+": "+h);d(g,p,O,_,A,y,k)}}}return y};var u=i(9068);function a(g,p,T,_,y,w){this._gl=g,this._wrapper=p,this._index=T,this._locations=_,this._dimension=y,this._constFunc=w}var o=a.prototype;o.pointer=function(g,p,T,_){var y=this,w=y._gl,m=y._locations[y._index];w.vertexAttribPointer(m,y._dimension,g||w.FLOAT,!!p,T||0,_||0),w.enableVertexAttribArray(m)},o.set=function(g,p,T,_){return this._constFunc(this._locations[this._index],g,p,T,_)},Object.defineProperty(o,"location",{get:function(){return this._locations[this._index]},set:function(g){return g!==this._locations[this._index]&&(this._locations[this._index]=0|g,this._wrapper.program=null),0|g}});var l=[function(g,p,T){return void 0===T.length?g.vertexAttrib1f(p,T):g.vertexAttrib1fv(p,T)},function(g,p,T,_){return void 0===T.length?g.vertexAttrib2f(p,T,_):g.vertexAttrib2fv(p,T)},function(g,p,T,_,y){return void 0===T.length?g.vertexAttrib3f(p,T,_,y):g.vertexAttrib3fv(p,T)},function(g,p,T,_,y,w){return void 0===T.length?g.vertexAttrib4f(p,T,_,y,w):g.vertexAttrib4fv(p,T)}];function s(g,p,T,_,y,w,m){var b=l[y],k=new a(g,p,T,_,y,b);Object.defineProperty(w,m,{set:function(h){return g.disableVertexAttribArray(_[T]),b(g,_[T],h),h},get:function(){return k},enumerable:!0})}function d(g,p,T,_,y,w,m){for(var b=new Array(y),k=new Array(y),h=0;h<y;++h)s(g,p,T[h],_,y,b,h),k[h]=b[h];Object.defineProperty(b,"location",{set:function(I){if(Array.isArray(I))for(var P=0;P<y;++P)k[P].location=I[P];else for(P=0;P<y;++P)k[P].location=I+P;return I},get:function(){for(var I=new Array(y),P=0;P<y;++P)I[P]=_[T[P]];return I},enumerable:!0}),b.pointer=function(I,P,L,N){I=I||g.FLOAT,P=!!P,L=L||y*y,N=N||0;for(var B=0;B<y;++B){var W=_[T[B]];g.vertexAttribPointer(W,y,I,P,L,N+B*y),g.enableVertexAttribArray(W)}};var O=new Array(y),A=g["vertexAttrib"+y+"fv"];Object.defineProperty(w,m,{set:function(I){for(var P=0;P<y;++P){var L=_[T[P]];if(g.disableVertexAttribArray(L),Array.isArray(I[0]))A.call(g,L,I[P]);else{for(var N=0;N<y;++N)O[N]=I[y*P+N];A.call(g,L,O)}}return I},get:function(){return b},enumerable:!0})}},9016:function(v,c,i){"use strict";var u=i(3984),a=i(9068);function o(s){return function(){return s}}function l(s,d){for(var g=new Array(s),p=0;p<s;++p)g[p]=d;return g}v.exports=function(s,d,g,p){function T(b){return function(k){for(var h=_("",b),O=0;O<h.length;++O){var A=h[O],I=A[0],P=A[1];if(p[P]){var L=k;if("string"==typeof I&&(0===I.indexOf(".")||0===I.indexOf("["))){var N=I;if(0===I.indexOf(".")&&(N=I.slice(1)),N.indexOf("]")===N.length-1){var B=N.indexOf("["),W=N.slice(0,B),j=N.slice(B+1,N.length-1);L=W?k[W][j]:k[j]}else L=k[N]}var Z,V=g[P].type;switch(V){case"bool":case"int":case"sampler2D":case"samplerCube":s.uniform1i(p[P],L);break;case"float":s.uniform1f(p[P],L);break;default:var q=V.indexOf("vec");if(!(0<=q&&q<=1&&V.length===4+q)){if(0===V.indexOf("mat")&&4===V.length){if((Z=V.charCodeAt(V.length-1)-48)<2||Z>4)throw new a("","Invalid uniform dimension type for matrix "+name+": "+V);s["uniformMatrix"+Z+"fv"](p[P],!1,L);break}throw new a("","Unknown uniform data type for "+name+": "+V)}if((Z=V.charCodeAt(V.length-1)-48)<2||Z>4)throw new a("","Invalid data type");switch(V.charAt(0)){case"b":case"i":s["uniform"+Z+"iv"](p[P],L);break;case"v":s["uniform"+Z+"fv"](p[P],L);break;default:throw new a("","Unrecognized data type for vector "+name+": "+V)}}}}}}function _(b,k){if("object"!=typeof k)return[[b,k]];var h=[];for(var O in k){var A=k[O],I=b;parseInt(O)+""===O?I+="["+O+"]":I+="."+O,"object"==typeof A?h.push.apply(h,_(I,A)):h.push([I,A])}return h}function y(b,k,h){if("object"==typeof h){var O=w(h);Object.defineProperty(b,k,{get:o(O),set:T(h),enumerable:!0,configurable:!1})}else p[h]?Object.defineProperty(b,k,{get:(A=h,function(I,P,L){return I.getUniform(P.program,L[A])}),set:T(h),enumerable:!0,configurable:!1}):b[k]=function(I){switch(I){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var P=I.indexOf("vec");if(0<=P&&P<=1&&I.length===4+P){if((L=I.charCodeAt(I.length-1)-48)<2||L>4)throw new a("","Invalid data type");return"b"===I.charAt(0)?l(L,!1):l(L,0)}if(0===I.indexOf("mat")&&4===I.length){var L;if((L=I.charCodeAt(I.length-1)-48)<2||L>4)throw new a("","Invalid uniform dimension type for matrix "+name+": "+I);return l(L*L,0)}throw new a("","Unknown uniform data type for "+name+": "+I)}}(g[h].type);var A}function w(b){var k;if(Array.isArray(b)){k=new Array(b.length);for(var h=0;h<b.length;++h)y(k,h,b[h])}else for(var O in k={},b)y(k,O,b[O]);return k}var m=u(g,!0);return{get:o(w(m)),set:T(m),enumerable:!0,configurable:!0}}},3984:function(v){"use strict";v.exports=function(c,i){for(var u={},a=0;a<c.length;++a)for(var o=c[a].name.split("."),l=u,s=0;s<o.length;++s){var d=o[s].split("[");if(d.length>1){d[0]in l||(l[d[0]]=[]),l=l[d[0]];for(var g=1;g<d.length;++g){var p=parseInt(d[g]);g<d.length-1||s<o.length-1?(p in l||(l[p]=g<d.length-1?[]:{}),l=l[p]):l[p]=i?a:c[a].type}}else s<o.length-1?(d[0]in l||(l[d[0]]={}),l=l[d[0]]):l[d[0]]=i?a:c[a].type}return u}},2631:function(v,c){"use strict";c.uniforms=function(o,l){for(var s=o.getProgramParameter(l,o.ACTIVE_UNIFORMS),d=[],g=0;g<s;++g){var p=o.getActiveUniform(l,g);if(p){var T=a(o,p.type);if(p.size>1)for(var _=0;_<p.size;++_)d.push({name:p.name.replace("[0]","["+_+"]"),type:T});else d.push({name:p.name,type:T})}}return d},c.attributes=function(o,l){for(var s=o.getProgramParameter(l,o.ACTIVE_ATTRIBUTES),d=[],g=0;g<s;++g){var p=o.getActiveAttrib(l,g);p&&d.push({name:p.name,type:a(o,p.type)})}return d};var i={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},u=null;function a(o,l){if(!u){var s=Object.keys(i);u={};for(var d=0;d<s.length;++d){var g=s[d];u[o[g]]=i[g]}}return u[l]}},1628:function(v,c,i){"use strict";c.shader=function(T,_,y){return p(T).getShaderReference(_,y)},c.program=function(T,_,y,w,m){return p(T).getProgram(_,y,w,m)};var u=i(9068),a=i(3530),o=new(typeof WeakMap>"u"?i(4037):WeakMap),l=0;function s(T,_,y,w,m,b,k){this.id=T,this.src=_,this.type=y,this.shader=w,this.count=b,this.programs=[],this.cache=k}function d(T){this.gl=T,this.shaders=[{},{}],this.programs={}}s.prototype.dispose=function(){if(0==--this.count){for(var T=this.cache,_=T.gl,y=this.programs,w=0,m=y.length;w<m;++w){var b=T.programs[y[w]];b&&(delete T.programs[w],_.deleteProgram(b))}_.deleteShader(this.shader),delete T.shaders[this.type===_.FRAGMENT_SHADER|0][this.src]}};var g=d.prototype;function p(T){var _=o.get(T);return _||(_=new d(T),o.set(T,_)),_}g.getShaderReference=function(T,_){var y=this.gl,w=this.shaders[T===y.FRAGMENT_SHADER|0],m=w[_];if(m&&y.isShader(m.shader))m.count+=1;else{var b=function(k,h,O){var A=k.createShader(h);if(k.shaderSource(A,O),k.compileShader(A),!k.getShaderParameter(A,k.COMPILE_STATUS)){var I=k.getShaderInfoLog(A);try{var P=a(I,O,h)}catch(L){throw console.warn("Failed to format compiler error: "+L),new u(I,"Error compiling shader:\n"+I)}throw new u(I,P.short,P.long)}return A}(y,T,_);m=w[_]=new s(l++,_,T,b,[],1,this)}return m},g.getProgram=function(T,_,y,w){var m=[T.id,_.id,y.join(":"),w.join(":")].join("@"),b=this.programs[m];return b&&this.gl.isProgram(b)||(this.programs[m]=b=function(k,h,O,A,I){var P=k.createProgram();k.attachShader(P,h),k.attachShader(P,O);for(var L=0;L<A.length;++L)k.bindAttribLocation(P,I[L],A[L]);if(k.linkProgram(P),!k.getProgramParameter(P,k.LINK_STATUS)){var N=k.getProgramInfoLog(P);throw new u(N,"Error linking program: "+N)}return P}(this.gl,T.shader,_.shader,y,w),T.programs.push(m),_.programs.push(m)),b}},3050:function(v){"use strict";function c(u){this.plot=u,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}v.exports=function(u,a){var o=new c(u);return o.update(a),u.addOverlay(o),o};var i=c.prototype;i.update=function(u){this.enable=((u=u||{}).enable||[!0,!0,!1,!1]).slice(),this.width=(u.width||[1,1,1,1]).slice(),this.color=(u.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(a){return a.slice()}),this.center=(u.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},i.draw=function(){var u=this.enable,a=this.width,o=this.color,l=this.center,s=this.plot,d=s.line,g=s.dataBox,p=s.viewBox;if(d.bind(),g[0]<=l[0]&&l[0]<=g[2]&&g[1]<=l[1]&&l[1]<=g[3]){var T=p[0]+(l[0]-g[0])/(g[2]-g[0])*(p[2]-p[0]),_=p[1]+(l[1]-g[1])/(g[3]-g[1])*(p[3]-p[1]);u[0]&&d.drawLine(T,_,p[0],_,a[0],o[0]),u[1]&&d.drawLine(T,_,T,p[1],a[1],o[1]),u[2]&&d.drawLine(T,_,p[2],_,a[2],o[2]),u[3]&&d.drawLine(T,_,T,p[3],a[3],o[3])}},i.dispose=function(){this.plot.removeOverlay(this)}},3540:function(v,c,i){"use strict";var u=i(6832),a=i(5158),o=u(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position, color;\nattribute float weight;\n\nuniform mat4 model, view, projection;\nuniform vec3 coordinates[3];\nuniform vec4 colors[3];\nuniform vec2 screenShape;\nuniform float lineWidth;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vertexPosition = mix(coordinates[0],\n    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));\n\n  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);\n  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;\n  vec2 delta = weight * clipOffset * screenShape;\n  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;\n\n  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);\n  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];\n}\n"]),l=u(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n  gl_FragColor = fragColor;\n}"]);v.exports=function(s){return a(s,o,l,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},6496:function(v,c,i){"use strict";var u=i(5827),a=i(2944),o=i(3540);v.exports=function(_,y){var w=[];function m(A,I,P,L,N,B){var W=[A,I,P,0,0,0,1];W[L+3]=1,W[L]=N,w.push.apply(w,W),W[6]=-1,w.push.apply(w,W),W[L]=B,w.push.apply(w,W),w.push.apply(w,W),W[6]=1,w.push.apply(w,W),W[L]=N,w.push.apply(w,W)}m(0,0,0,0,0,1),m(0,0,0,1,0,1),m(0,0,0,2,0,1),m(1,0,0,1,-1,1),m(1,0,0,2,-1,1),m(0,1,0,0,-1,1),m(0,1,0,2,-1,1),m(0,0,1,0,-1,1),m(0,0,1,1,-1,1);var b=u(_,w),k=a(_,[{type:_.FLOAT,buffer:b,size:3,offset:0,stride:28},{type:_.FLOAT,buffer:b,size:3,offset:12,stride:28},{type:_.FLOAT,buffer:b,size:1,offset:24,stride:28}]),h=o(_);h.attributes.position.location=0,h.attributes.color.location=1,h.attributes.weight.location=2;var O=new s(_,b,k,h);return O.update(y),O};var l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function s(_,y,w,m){this.gl=_,this.buffer=y,this.vao=w,this.shader=m,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var d=s.prototype,g=[0,0,0],p=[0,0,0],T=[0,0];d.isTransparent=function(){return!1},d.drawTransparent=function(_){},d.draw=function(_){var y=this.gl,w=this.vao,m=this.shader;w.bind(),m.bind();var b,k=_.model||l,h=_.view||l,O=_.projection||l;this.axes&&(b=this.axes.lastCubeProps.axis);for(var A=g,I=p,P=0;P<3;++P)b&&b[P]<0?(A[P]=this.bounds[0][P],I[P]=this.bounds[1][P]):(A[P]=this.bounds[1][P],I[P]=this.bounds[0][P]);for(T[0]=y.drawingBufferWidth,T[1]=y.drawingBufferHeight,m.uniforms.model=k,m.uniforms.view=h,m.uniforms.projection=O,m.uniforms.coordinates=[this.position,A,I],m.uniforms.colors=this.colors,m.uniforms.screenShape=T,P=0;P<3;++P)m.uniforms.lineWidth=this.lineWidth[P]*this.pixelRatio,this.enabled[P]&&(w.draw(y.TRIANGLES,6,6*P),this.drawSides[P]&&w.draw(y.TRIANGLES,12,18+12*P));w.unbind()},d.update=function(_){_&&("bounds"in _&&(this.bounds=_.bounds),"position"in _&&(this.position=_.position),"lineWidth"in _&&(this.lineWidth=_.lineWidth),"colors"in _&&(this.colors=_.colors),"enabled"in _&&(this.enabled=_.enabled),"drawSides"in _&&(this.drawSides=_.drawSides))},d.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},9578:function(v,c,i){var u=i(6832),a=u(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the tube vertex and normal at the given index.\n//\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\n//\n// Each tube segment is made up of a ring of vertices.\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\n// The indexes of tube segments run from 0 to 8.\n//\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\n  float segmentCount = 8.0;\n\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d);\n  vec3 y = v * sin(angle) * length(d);\n  vec3 v3 = x + y;\n\n  normal = normalize(v3);\n\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 color, position;\nattribute vec2 uv;\n\nuniform float vectorScale, tubeScale;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 eyePosition, lightPosition;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  // Scale the vector magnitude to stay constant with\n  // model & view changes.\n  vec3 normal;\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * tubePosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  // vec4 m_position  = model * vec4(tubePosition, 1.0);\n  vec4 t_position  = view * tubePosition;\n  gl_Position      = projection * t_position;\n\n  f_color          = color;\n  f_data           = tubePosition.xyz;\n  f_position       = position.xyz;\n  f_uv             = uv;\n}\n"]),o=u(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}\n"]),l=u(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the tube vertex and normal at the given index.\n//\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\n//\n// Each tube segment is made up of a ring of vertices.\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\n// The indexes of tube segments run from 0 to 8.\n//\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\n  float segmentCount = 8.0;\n\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d);\n  vec3 y = v * sin(angle) * length(d);\n  vec3 v3 = x + y;\n\n  normal = normalize(v3);\n\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform float tubeScale;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  vec3 normal;\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  gl_Position = projection * view * tubePosition;\n  f_id        = id;\n  f_position  = position.xyz;\n}\n"]),s=u(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]);c.meshShader={vertex:a,fragment:o,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},c.pickShader={vertex:l,fragment:s,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7307:function(v,c,i){"use strict";var u=i(2858),a=i(4020),o=["xyz","xzy","yxz","yzx","zxy","zyx"],l=function(T,_){var y,w=T.length;for(y=0;y<w;y++){var m=T[y];if(m===_)return y;if(m>_)return y-1}return y},s=function(T,_,y){return T<_?_:T>y?y:T},d=function(T){var _=1/0;T.sort(function(b,k){return b-k});for(var y=T.length,w=1;w<y;w++){var m=Math.abs(T[w]-T[w-1]);m<_&&(_=m)}return _};v.exports=function(T,_){var y=T.startingPositions,w=T.maxLength||1e3,m=T.tubeSize||1,b=T.absoluteTubeSize,k=T.gridFill||"+x+y+z",h={};-1!==k.indexOf("-x")&&(h.reversedX=!0),-1!==k.indexOf("-y")&&(h.reversedY=!0),-1!==k.indexOf("-z")&&(h.reversedZ=!0),h.filled=o.indexOf(k.replace(/-/g,"").replace(/\+/g,""));var ye,Ne,be,Ee,O=T.getVelocity||function(ye){return function(Ne,be,Ee){var Oe=be.vectors,De=be.meshgrid,oe=Ne[0],de=Ne[1],_e=Ne[2],Me=De[0].length,Pe=De[1].length,Ue=De[2].length,Be=l(De[0],oe),Ve=l(De[1],de),ve=l(De[2],_e),Te=Be+1,Ce=Ve+1,We=ve+1;if(Be=s(Be,0,Me-1),Te=s(Te,0,Me-1),Ve=s(Ve,0,Pe-1),Ce=s(Ce,0,Pe-1),ve=s(ve,0,Ue-1),We=s(We,0,Ue-1),Be<0||Ve<0||ve<0||Te>Me-1||Ce>Pe-1||We>Ue-1)return u.create();var Ke,Je,ht,ft,mt,At,Rt=De[0][Be],Pt=De[1][Ve],Ut=De[2][ve],Vt=(oe-Rt)/(De[0][Te]-Rt),tn=(de-Pt)/(De[1][Ce]-Pt),Gt=(_e-Ut)/(De[2][We]-Ut);switch(isFinite(Vt)||(Vt=.5),isFinite(tn)||(tn=.5),isFinite(Gt)||(Gt=.5),Ee.reversedX&&(Be=Me-1-Be,Te=Me-1-Te),Ee.reversedY&&(Ve=Pe-1-Ve,Ce=Pe-1-Ce),Ee.reversedZ&&(ve=Ue-1-ve,We=Ue-1-We),Ee.filled){case 5:mt=ve,At=We,ht=Ve*Ue,ft=Ce*Ue,Ke=Be*Ue*Pe,Je=Te*Ue*Pe;break;case 4:mt=ve,At=We,Ke=Be*Ue,Je=Te*Ue,ht=Ve*Ue*Me,ft=Ce*Ue*Me;break;case 3:ht=Ve,ft=Ce,mt=ve*Pe,At=We*Pe,Ke=Be*Pe*Ue,Je=Te*Pe*Ue;break;case 2:ht=Ve,ft=Ce,Ke=Be*Pe,Je=Te*Pe,mt=ve*Pe*Me,At=We*Pe*Me;break;case 1:Ke=Be,Je=Te,mt=ve*Me,At=We*Me,ht=Ve*Me*Ue,ft=Ce*Me*Ue;break;default:Ke=Be,Je=Te,ht=Ve*Me,ft=Ce*Me,mt=ve*Me*Pe,At=We*Me*Pe}var et=Oe[Ke+ht+mt],nt=Oe[Ke+ht+At],$e=Oe[Ke+ft+mt],ot=Oe[Ke+ft+At],dt=Oe[Je+ht+mt],Le=Oe[Je+ht+At],Ge=Oe[Je+ft+mt],st=Oe[Je+ft+At],vt=u.create(),bt=u.create(),Lt=u.create(),jt=u.create();u.lerp(vt,et,dt,Vt),u.lerp(bt,nt,Le,Vt),u.lerp(Lt,$e,Ge,Vt),u.lerp(jt,ot,st,Vt);var Nt=u.create(),Tt=u.create();u.lerp(Nt,vt,Lt,tn),u.lerp(Tt,bt,jt,tn);var Mt=u.create();return u.lerp(Mt,Nt,Tt,Gt),Mt}(ye,T,h)},A=T.getDivergence||function(ye,Ne){var be=u.create(),Ee=1e-4;u.add(be,ye,[Ee,0,0]);var Oe=O(be);u.subtract(Oe,Oe,Ne),u.scale(Oe,Oe,1/Ee),u.add(be,ye,[0,Ee,0]);var De=O(be);u.subtract(De,De,Ne),u.scale(De,De,1/Ee),u.add(be,ye,[0,0,Ee]);var oe=O(be);return u.subtract(oe,oe,Ne),u.scale(oe,oe,1/Ee),u.add(be,Oe,De),u.add(be,be,oe),be},I=[],P=_[0][0],L=_[0][1],N=_[0][2],B=_[1][0],W=_[1][1],j=_[1][2],V=10*u.distance(_[0],_[1])/w,q=V*V,G=1,H=0,ne=y.length;ne>1&&(G=function(ye){for(var Ne=[],be=[],Ee=[],Oe={},De={},oe={},de=ye.length,_e=0;_e<de;_e++){var Me=ye[_e],Pe=Me[0],Ue=Me[1],Be=Me[2];Oe[Pe]||(Ne.push(Pe),Oe[Pe]=!0),De[Ue]||(be.push(Ue),De[Ue]=!0),oe[Be]||(Ee.push(Be),oe[Be]=!0)}var Ve=d(Ne),ve=d(be),Te=d(Ee),Ce=Math.min(Ve,ve,Te);return isFinite(Ce)?Ce:1}(y));for(var X=0;X<ne;X++){var $=u.create();u.copy($,y[X]);var Q=[$],te=[],re=O($),le=$;te.push(re);var ue=[],he=A($,re),ge=u.length(he);isFinite(ge)&&ge>H&&(H=ge),ue.push(ge),I.push({points:Q,velocities:te,divergences:ue});for(var xe=0;xe<100*w&&Q.length<w&&(Ne=void 0,be=void 0,Ee=void 0,be=(ye=$)[1],Ee=ye[2],!((Ne=ye[0])<P||Ne>B||be<L||be>W||Ee<N||Ee>j));){xe++;var ke=u.clone(re),Ae=u.squaredLength(ke);if(0===Ae)break;Ae>q&&u.scale(ke,ke,V/Math.sqrt(Ae)),u.add(ke,ke,$),re=O(ke),u.squaredDistance(le,ke)-q>-1e-4*q&&(Q.push(ke),le=ke,te.push(re),he=A(ke,re),ge=u.length(he),isFinite(ge)&&ge>H&&(H=ge),ue.push(ge)),$=ke}}var pe=function(ye,Ne,be,Ee){for(var Oe=0,De=0;De<ye.length;De++)for(var oe=ye[De].velocities,de=0;de<oe.length;de++)Oe=Math.max(Oe,u.length(oe[de]));var _e=ye.map(function(Ke){return function(Je,ht,ft,mt){for(var At=Je.points,Rt=Je.velocities,It=Je.divergences,Pt=[],Bt=[],Ut=[],Vt=[],tn=[],Gt=[],et=0,nt=0,$e=a.create(),ot=a.create(),dt=0;dt<At.length;dt++){var Le=At[dt],Ge=Rt[dt],st=It[dt];0===ht&&(st=.05*ft),nt=u.length(Ge)/mt,$e=a.create(),u.copy($e,Ge),$e[3]=st;for(var vt=0;vt<8;vt++)tn[vt]=[Le[0],Le[1],Le[2],vt];if(Vt.length>0)for(vt=0;vt<8;vt++){var bt=(vt+1)%8;Pt.push(Vt[vt],tn[vt],tn[bt],tn[bt],Vt[bt],Vt[vt]),Ut.push(ot,$e,$e,$e,ot,ot),Gt.push(et,nt,nt,nt,et,et);var Lt=Pt.length;Bt.push([Lt-6,Lt-5,Lt-4],[Lt-3,Lt-2,Lt-1])}var jt=Vt;Vt=tn,tn=jt;var Nt=ot;ot=$e,$e=Nt;var Tt=et;et=nt,nt=Tt}return{positions:Pt,cells:Bt,vectors:Ut,vertexIntensity:Gt}}(Ke,be,Ee,Oe)}),Me=[],Pe=[],Ue=[],Be=[];for(De=0;De<_e.length;De++){var Ve=_e[De],ve=Me.length;for(Me=Me.concat(Ve.positions),Ue=Ue.concat(Ve.vectors),Be=Be.concat(Ve.vertexIntensity),de=0;de<Ve.cells.length;de++){var Te=Ve.cells[de],Ce=[];Pe.push(Ce);for(var We=0;We<Te.length;We++)Ce.push(Te[We]+ve)}}return{positions:Me,cells:Pe,vectors:Ue,vertexIntensity:Be,colormap:Ne}}(I,T.colormap,H,G);return b?pe.tubeScale=b:(0===H&&(H=1),pe.tubeScale=.5*m*G/H),pe};var g=i(9578),p=i(1140).createMesh;v.exports.createTubeMesh=function(T,_){return p(T,_,{shaders:g,traceType:"streamtube"})}},9054:function(v,c,i){var u=i(5158),a=i(6832),o=a(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute vec3 f;\nattribute vec3 normal;\n\nuniform vec3 objectOffset;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 lightPosition, eyePosition;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 localCoordinate = vec3(uv.zw, f.x);\n  worldCoordinate = objectOffset + localCoordinate;\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n  vec4 clipPosition = projection * view * worldPosition;\n  gl_Position = clipPosition;\n  kill = f.y;\n  value = f.z;\n  planeCoordinate = uv.xy;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * worldPosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  lightDirection = lightPosition - cameraCoordinate.xyz;\n  eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);\n}\n"]),l=a(["precision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat beckmannSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness) {\n  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 lowerBound, upperBound;\nuniform float contourTint;\nuniform vec4 contourColor;\nuniform sampler2D colormap;\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform float vertexColor;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  if (\n    kill > 0.0 ||\n    vColor.a == 0.0 ||\n    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)\n  ) discard;\n\n  vec3 N = normalize(surfaceNormal);\n  vec3 V = normalize(eyeDirection);\n  vec3 L = normalize(lightDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  //decide how to interpolate color \u2014 in vertex or in fragment\n  vec4 surfaceColor =\n    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +\n    step(.5, vertexColor) * vColor;\n\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;\n}\n"]),s=a(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute float f;\n\nuniform vec3 objectOffset;\nuniform mat3 permutation;\nuniform mat4 model, view, projection;\nuniform float height, zOffset;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 dataCoordinate = permutation * vec3(uv.xy, height);\n  worldCoordinate = objectOffset + dataCoordinate;\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n\n  vec4 clipPosition = projection * view * worldPosition;\n  clipPosition.z += zOffset;\n\n  gl_Position = clipPosition;\n  value = f + objectOffset.z;\n  kill = -1.0;\n  planeCoordinate = uv.zw;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Don't do lighting for contours\n  surfaceNormal   = vec3(1,0,0);\n  eyeDirection    = vec3(0,1,0);\n  lightDirection  = vec3(0,0,1);\n}\n"]),d=a(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec2 shape;\nuniform vec3 clipBounds[2];\nuniform float pickId;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 surfaceNormal;\n\nvec2 splitFloat(float v) {\n  float vh = 255.0 * v;\n  float upper = floor(vh);\n  float lower = fract(vh);\n  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);\n}\n\nvoid main() {\n  if ((kill > 0.0) ||\n      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;\n\n  vec2 ux = splitFloat(planeCoordinate.x / shape.x);\n  vec2 uy = splitFloat(planeCoordinate.y / shape.y);\n  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));\n}\n"]);c.createShader=function(g){var p=u(g,o,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return p.attributes.uv.location=0,p.attributes.f.location=1,p.attributes.normal.location=2,p},c.createPickShader=function(g){var p=u(g,o,d,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return p.attributes.uv.location=0,p.attributes.f.location=1,p.attributes.normal.location=2,p},c.createContourShader=function(g){var p=u(g,s,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return p.attributes.uv.location=0,p.attributes.f.location=1,p},c.createPickContourShader=function(g){var p=u(g,s,d,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return p.attributes.uv.location=0,p.attributes.f.location=1,p}},3754:function(v,c,i){"use strict";v.exports=function(le){var ue=le.gl,he=h(ue),ge=A(ue),xe=O(ue),ke=I(ue),Ae=a(ue),pe=o(ue,[{buffer:Ae,size:4,stride:40,offset:0},{buffer:Ae,size:3,stride:40,offset:16},{buffer:Ae,size:3,stride:40,offset:28}]),ye=a(ue),Ne=o(ue,[{buffer:ye,size:4,stride:20,offset:0},{buffer:ye,size:1,stride:20,offset:16}]),be=a(ue),Ee=o(ue,[{buffer:be,size:2,type:ue.FLOAT}]),Oe=l(ue,1,256,ue.RGBA,ue.UNSIGNED_BYTE);Oe.minFilter=ue.LINEAR,Oe.magFilter=ue.LINEAR;var De=new W(ue,[0,0],[[0,0,0],[0,0,0]],he,ge,Ae,pe,Oe,xe,ke,ye,Ne,be,Ee,[0,0,0]),oe={levels:[[],[],[]]};for(var de in le)oe[de]=le[de];return oe.colormap=oe.colormap||"jet",De.update(oe),De};var u=i(2288),a=i(5827),o=i(2944),l=i(8931),s=i(5306),d=i(9156),g=i(7498),p=i(7382),T=i(5050),_=i(4162),y=i(104),w=i(7437),m=i(5070),b=i(9144),k=i(9054),h=k.createShader,O=k.createContourShader,A=k.createPickShader,I=k.createPickContourShader,P=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],L=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],N=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];function B(le,ue,he,ge,xe){this.position=le,this.index=ue,this.uv=he,this.level=ge,this.dataCoordinate=xe}function W(le,ue,he,ge,xe,ke,Ae,pe,ye,Ne,be,Ee,Oe,De,oe){this.gl=le,this.shape=ue,this.bounds=he,this.objectOffset=oe,this.intensityBounds=[],this._shader=ge,this._pickShader=xe,this._coordinateBuffer=ke,this._vao=Ae,this._colorMap=pe,this._contourShader=ye,this._contourPickShader=Ne,this._contourBuffer=be,this._contourVAO=Ee,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new B([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=Oe,this._dynamicVAO=De,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[T(s.mallocFloat(1024),[0,0]),T(s.mallocFloat(1024),[0,0]),T(s.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}!function(){for(var le=0;le<3;++le){var ue=N[le],he=(le+2)%3;ue[(le+1)%3+0]=1,ue[he+3]=1,ue[le+6]=1}}();var j=W.prototype;j.genColormap=function(le,ue){var he=!1,ge=p([d({colormap:le,nshades:256,format:"rgba"}).map(function(xe,ke){var Ae=ue?function(pe,ye){if(!ye||!ye.length)return 1;for(var Ne=0;Ne<ye.length;++Ne){if(ye.length<2)return 1;if(ye[Ne][0]===pe)return ye[Ne][1];if(ye[Ne][0]>pe&&Ne>0){var be=(ye[Ne][0]-pe)/(ye[Ne][0]-ye[Ne-1][0]);return ye[Ne][1]*(1-be)+be*ye[Ne-1][1]}}return 1}(ke/255,ue):xe[3];return Ae<1&&(he=!0),[xe[0],xe[1],xe[2],255*Ae]})]);return g.divseq(ge,255),this.hasAlphaScale=he,ge},j.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},j.isOpaque=function(){return!this.isTransparent()},j.pickSlots=1,j.setPickBase=function(le){this.pickId=le};var Z=[0,0,0],V={showSurface:!1,showContour:!1,projections:[P.slice(),P.slice(),P.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function q(le,ue){var he,ge,xe,ke=ue.axes&&ue.axes.lastCubeProps.axis||Z,Ae=ue.showSurface,pe=ue.showContour;for(he=0;he<3;++he)for(Ae=Ae||ue.surfaceProject[he],ge=0;ge<3;++ge)pe=pe||ue.contourProject[he][ge];for(he=0;he<3;++he){var ye=V.projections[he];for(ge=0;ge<16;++ge)ye[ge]=0;for(ge=0;ge<4;++ge)ye[5*ge]=1;ye[5*he]=0,ye[12+he]=ue.axesBounds[+(ke[he]>0)][he],y(ye,le.model,ye);var Ne=V.clipBounds[he];for(xe=0;xe<2;++xe)for(ge=0;ge<3;++ge)Ne[xe][ge]=le.clipBounds[xe][ge];Ne[0][he]=-1e8,Ne[1][he]=1e8}return V.showSurface=Ae,V.showContour=pe,V}var G={model:P,view:P,projection:P,inverseModel:P.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},H=P.slice(),ne=[1,0,0,0,1,0,0,0,1];function X(le,ue){le=le||{};var he=this.gl;he.disable(he.CULL_FACE),this._colorMap.bind(0);var ge=G;ge.model=le.model||P,ge.view=le.view||P,ge.projection=le.projection||P,ge.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],ge.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],ge.objectOffset=this.objectOffset,ge.contourColor=this.contourColor[0],ge.inverseModel=w(ge.inverseModel,ge.model);for(var xe=0;xe<2;++xe)for(var ke=ge.clipBounds[xe],Ae=0;Ae<3;++Ae)ke[Ae]=Math.min(Math.max(this.clipBounds[xe][Ae],-1e8),1e8);ge.kambient=this.ambientLight,ge.kdiffuse=this.diffuseLight,ge.kspecular=this.specularLight,ge.roughness=this.roughness,ge.fresnel=this.fresnel,ge.opacity=this.opacity,ge.height=0,ge.permutation=ne,ge.vertexColor=this.vertexColor;var pe=H;for(y(pe,ge.view,ge.model),y(pe,ge.projection,pe),w(pe,pe),xe=0;xe<3;++xe)ge.eyePosition[xe]=pe[12+xe]/pe[15];var ye=pe[15];for(xe=0;xe<3;++xe)ye+=this.lightPosition[xe]*pe[4*xe+3];for(xe=0;xe<3;++xe){var Ne=pe[12+xe];for(Ae=0;Ae<3;++Ae)Ne+=pe[4*Ae+xe]*this.lightPosition[Ae];ge.lightPosition[xe]=Ne/ye}var be=q(ge,this);if(be.showSurface){for(this._shader.bind(),this._shader.uniforms=ge,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(he.TRIANGLES,this._vertexCount),xe=0;xe<3;++xe)this.surfaceProject[xe]&&this.vertexCount&&(this._shader.uniforms.model=be.projections[xe],this._shader.uniforms.clipBounds=be.clipBounds[xe],this._vao.draw(he.TRIANGLES,this._vertexCount));this._vao.unbind()}if(be.showContour){var Ee=this._contourShader;ge.kambient=1,ge.kdiffuse=0,ge.kspecular=0,ge.opacity=1,Ee.bind(),Ee.uniforms=ge;var Oe=this._contourVAO;for(Oe.bind(),xe=0;xe<3;++xe)for(Ee.uniforms.permutation=N[xe],he.lineWidth(this.contourWidth[xe]*this.pixelRatio),Ae=0;Ae<this.contourLevels[xe].length;++Ae)Ae===this.highlightLevel[xe]?(Ee.uniforms.contourColor=this.highlightColor[xe],Ee.uniforms.contourTint=this.highlightTint[xe]):0!==Ae&&Ae-1!==this.highlightLevel[xe]||(Ee.uniforms.contourColor=this.contourColor[xe],Ee.uniforms.contourTint=this.contourTint[xe]),this._contourCounts[xe][Ae]&&(Ee.uniforms.height=this.contourLevels[xe][Ae],Oe.draw(he.LINES,this._contourCounts[xe][Ae],this._contourOffsets[xe][Ae]));for(xe=0;xe<3;++xe)for(Ee.uniforms.model=be.projections[xe],Ee.uniforms.clipBounds=be.clipBounds[xe],Ae=0;Ae<3;++Ae)if(this.contourProject[xe][Ae]){Ee.uniforms.permutation=N[Ae],he.lineWidth(this.contourWidth[Ae]*this.pixelRatio);for(var De=0;De<this.contourLevels[Ae].length;++De)De===this.highlightLevel[Ae]?(Ee.uniforms.contourColor=this.highlightColor[Ae],Ee.uniforms.contourTint=this.highlightTint[Ae]):0!==De&&De-1!==this.highlightLevel[Ae]||(Ee.uniforms.contourColor=this.contourColor[Ae],Ee.uniforms.contourTint=this.contourTint[Ae]),this._contourCounts[Ae][De]&&(Ee.uniforms.height=this.contourLevels[Ae][De],Oe.draw(he.LINES,this._contourCounts[Ae][De],this._contourOffsets[Ae][De]))}for(Oe.unbind(),(Oe=this._dynamicVAO).bind(),xe=0;xe<3;++xe)if(0!==this._dynamicCounts[xe])for(Ee.uniforms.model=ge.model,Ee.uniforms.clipBounds=ge.clipBounds,Ee.uniforms.permutation=N[xe],he.lineWidth(this.dynamicWidth[xe]*this.pixelRatio),Ee.uniforms.contourColor=this.dynamicColor[xe],Ee.uniforms.contourTint=this.dynamicTint[xe],Ee.uniforms.height=this.dynamicLevel[xe],Oe.draw(he.LINES,this._dynamicCounts[xe],this._dynamicOffsets[xe]),Ae=0;Ae<3;++Ae)this.contourProject[Ae][xe]&&(Ee.uniforms.model=be.projections[Ae],Ee.uniforms.clipBounds=be.clipBounds[Ae],Oe.draw(he.LINES,this._dynamicCounts[xe],this._dynamicOffsets[xe]));Oe.unbind()}}j.draw=function(le){return X.call(this,le,!1)},j.drawTransparent=function(le){return X.call(this,le,!0)};var $={model:P,view:P,projection:P,inverseModel:P,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};function Q(le,ue){return Array.isArray(le)?[ue(le[0]),ue(le[1]),ue(le[2])]:[ue(le),ue(le),ue(le)]}function te(le){return Array.isArray(le)?3===le.length?[le[0],le[1],le[2],1]:[le[0],le[1],le[2],le[3]]:[0,0,0,1]}function re(le){if(Array.isArray(le)){if(Array.isArray(le))return[te(le[0]),te(le[1]),te(le[2])];var ue=te(le);return[ue.slice(),ue.slice(),ue.slice()]}}j.drawPick=function(le){le=le||{};var ue=this.gl;ue.disable(ue.CULL_FACE);var he=$;he.model=le.model||P,he.view=le.view||P,he.projection=le.projection||P,he.shape=this._field[2].shape,he.pickId=this.pickId/255,he.lowerBound=this.bounds[0],he.upperBound=this.bounds[1],he.objectOffset=this.objectOffset,he.permutation=ne;for(var ge=0;ge<2;++ge)for(var xe=he.clipBounds[ge],ke=0;ke<3;++ke)xe[ke]=Math.min(Math.max(this.clipBounds[ge][ke],-1e8),1e8);var Ae=q(he,this);if(Ae.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=he,this._vao.bind(),this._vao.draw(ue.TRIANGLES,this._vertexCount),ge=0;ge<3;++ge)this.surfaceProject[ge]&&(this._pickShader.uniforms.model=Ae.projections[ge],this._pickShader.uniforms.clipBounds=Ae.clipBounds[ge],this._vao.draw(ue.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Ae.showContour){var pe=this._contourPickShader;pe.bind(),pe.uniforms=he;var ye=this._contourVAO;for(ye.bind(),ke=0;ke<3;++ke)for(ue.lineWidth(this.contourWidth[ke]*this.pixelRatio),pe.uniforms.permutation=N[ke],ge=0;ge<this.contourLevels[ke].length;++ge)this._contourCounts[ke][ge]&&(pe.uniforms.height=this.contourLevels[ke][ge],ye.draw(ue.LINES,this._contourCounts[ke][ge],this._contourOffsets[ke][ge]));for(ge=0;ge<3;++ge)for(pe.uniforms.model=Ae.projections[ge],pe.uniforms.clipBounds=Ae.clipBounds[ge],ke=0;ke<3;++ke)if(this.contourProject[ge][ke]){pe.uniforms.permutation=N[ke],ue.lineWidth(this.contourWidth[ke]*this.pixelRatio);for(var Ne=0;Ne<this.contourLevels[ke].length;++Ne)this._contourCounts[ke][Ne]&&(pe.uniforms.height=this.contourLevels[ke][Ne],ye.draw(ue.LINES,this._contourCounts[ke][Ne],this._contourOffsets[ke][Ne]))}ye.unbind()}},j.pick=function(le){if(!le||le.id!==this.pickId)return null;var ue=this._field[2].shape,he=this._pickResult,ge=ue[0]*(le.value[0]+(le.value[2]>>4)/16)/255,xe=Math.floor(ge),ke=ge-xe,Ae=ue[1]*(le.value[1]+(15&le.value[2])/16)/255,pe=Math.floor(Ae),ye=Ae-pe;xe+=1,pe+=1;var Ne=he.position;Ne[0]=Ne[1]=Ne[2]=0;for(var be=0;be<2;++be)for(var Ee=be?ke:1-ke,Oe=0;Oe<2;++Oe)for(var De=xe+be,oe=pe+Oe,de=Ee*(Oe?ye:1-ye),_e=0;_e<3;++_e)Ne[_e]+=this._field[_e].get(De,oe)*de;for(var Me=this._pickResult.level,Pe=0;Pe<3;++Pe)if(Me[Pe]=m.le(this.contourLevels[Pe],Ne[Pe]),Me[Pe]<0)this.contourLevels[Pe].length>0&&(Me[Pe]=0);else if(Me[Pe]<this.contourLevels[Pe].length-1){var Be=this.contourLevels[Pe][Me[Pe]+1];Math.abs(this.contourLevels[Pe][Me[Pe]]-Ne[Pe])>Math.abs(Be-Ne[Pe])&&(Me[Pe]+=1)}for(he.index[0]=ke<.5?xe:xe+1,he.index[1]=ye<.5?pe:pe+1,he.uv[0]=ge/ue[0],he.uv[1]=Ae/ue[1],_e=0;_e<3;++_e)he.dataCoordinate[_e]=this._field[_e].get(he.index[0],he.index[1]);return he},j.padField=function(le,ue){var he=ue.shape.slice(),ge=le.shape.slice();g.assign(le.lo(1,1).hi(he[0],he[1]),ue),g.assign(le.lo(1).hi(he[0],1),ue.hi(he[0],1)),g.assign(le.lo(1,ge[1]-1).hi(he[0],1),ue.lo(0,he[1]-1).hi(he[0],1)),g.assign(le.lo(0,1).hi(1,he[1]),ue.hi(1)),g.assign(le.lo(ge[0]-1,1).hi(1,he[1]),ue.lo(he[0]-1)),le.set(0,0,ue.get(0,0)),le.set(0,ge[1]-1,ue.get(0,he[1]-1)),le.set(ge[0]-1,0,ue.get(he[0]-1,0)),le.set(ge[0]-1,ge[1]-1,ue.get(he[0]-1,he[1]-1))},j.update=function(le){this.objectOffset=(le=le||{}).objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in le&&(this.contourWidth=Q(le.contourWidth,Number)),"showContour"in le&&(this.showContour=Q(le.showContour,Boolean)),"showSurface"in le&&(this.showSurface=!!le.showSurface),"contourTint"in le&&(this.contourTint=Q(le.contourTint,Boolean)),"contourColor"in le&&(this.contourColor=re(le.contourColor)),"contourProject"in le&&(this.contourProject=Q(le.contourProject,function(On){return Q(On,Boolean)})),"surfaceProject"in le&&(this.surfaceProject=le.surfaceProject),"dynamicColor"in le&&(this.dynamicColor=re(le.dynamicColor)),"dynamicTint"in le&&(this.dynamicTint=Q(le.dynamicTint,Number)),"dynamicWidth"in le&&(this.dynamicWidth=Q(le.dynamicWidth,Number)),"opacity"in le&&(this.opacity=le.opacity),"opacityscale"in le&&(this.opacityscale=le.opacityscale),"colorBounds"in le&&(this.colorBounds=le.colorBounds),"vertexColor"in le&&(this.vertexColor=le.vertexColor?1:0),"colormap"in le&&this._colorMap.setPixels(this.genColormap(le.colormap,this.opacityscale));var ue=le.field||le.coords&&le.coords[2]||null,he=!1;if(ue||(ue=this._field[2].shape[0]||this._field[2].shape[2]?this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):this._field[2].hi(0,0)),"field"in le||"coords"in le){var ge=(ue.shape[0]+2)*(ue.shape[1]+2);ge>this._field[2].data.length&&(s.freeFloat(this._field[2].data),this._field[2].data=s.mallocFloat(u.nextPow2(ge))),this._field[2]=T(this._field[2].data,[ue.shape[0]+2,ue.shape[1]+2]),this.padField(this._field[2],ue),this.shape=ue.shape.slice();for(var xe=this.shape,ke=0;ke<2;++ke)this._field[2].size>this._field[ke].data.length&&(s.freeFloat(this._field[ke].data),this._field[ke].data=s.mallocFloat(this._field[2].size)),this._field[ke]=T(this._field[ke].data,[xe[0]+2,xe[1]+2]);if(le.coords){var Ae=le.coords;if(!Array.isArray(Ae)||3!==Ae.length)throw new Error("gl-surface: invalid coordinates for x/y");for(ke=0;ke<2;++ke){var pe=Ae[ke];for(Oe=0;Oe<2;++Oe)if(pe.shape[Oe]!==xe[Oe])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[ke],pe)}}else if(le.ticks){var ye=le.ticks;if(!Array.isArray(ye)||2!==ye.length)throw new Error("gl-surface: invalid ticks");for(ke=0;ke<2;++ke){var Ne=ye[ke];if((Array.isArray(Ne)||Ne.length)&&(Ne=T(Ne)),Ne.shape[0]!==xe[ke])throw new Error("gl-surface: invalid tick length");var be=T(Ne.data,xe);be.stride[ke]=Ne.stride[0],be.stride[1^ke]=0,this.padField(this._field[ke],be)}}else{for(ke=0;ke<2;++ke){var Ee=[0,0];Ee[ke]=1,this._field[ke]=T(this._field[ke].data,[xe[0]+2,xe[1]+2],Ee,0)}this._field[0].set(0,0,0);for(var Oe=0;Oe<xe[0];++Oe)this._field[0].set(Oe+1,0,Oe);for(this._field[0].set(xe[0]+1,0,xe[0]-1),this._field[1].set(0,0,0),Oe=0;Oe<xe[1];++Oe)this._field[1].set(0,Oe+1,Oe);this._field[1].set(0,xe[1]+1,xe[1]-1)}var De=this._field,oe=T(s.mallocFloat(3*De[2].size*2),[3,xe[0]+2,xe[1]+2,2]);for(ke=0;ke<3;++ke)b(oe.pick(ke),De[ke],"mirror");var de=T(s.mallocFloat(3*De[2].size),[xe[0]+2,xe[1]+2,3]);for(ke=0;ke<xe[0]+2;++ke)for(Oe=0;Oe<xe[1]+2;++Oe){var _e=oe.get(0,ke,Oe,0),Me=oe.get(0,ke,Oe,1),Pe=oe.get(1,ke,Oe,0),Ue=oe.get(1,ke,Oe,1),Be=oe.get(2,ke,Oe,0),Ve=oe.get(2,ke,Oe,1),ve=Pe*Ve-Ue*Be,Te=Be*Me-Ve*_e,Ce=_e*Ue-Me*Pe,We=Math.sqrt(ve*ve+Te*Te+Ce*Ce);We<1e-8?(We=Math.max(Math.abs(ve),Math.abs(Te),Math.abs(Ce)))<1e-8?(Ce=1,Te=ve=0,We=1):We=1/We:We=1/Math.sqrt(We),de.set(ke,Oe,0,ve*We),de.set(ke,Oe,1,Te*We),de.set(ke,Oe,2,Ce*We)}s.free(oe.data);var Ke=[1/0,1/0,1/0],Je=[-1/0,-1/0,-1/0],ht=1/0,ft=-1/0,At=s.mallocFloat(u.nextPow2((xe[0]-1)*(xe[1]-1)*6*10)),Rt=0,It=0;for(ke=0;ke<xe[0]-1;++ke)e:for(Oe=0;Oe<xe[1]-1;++Oe){for(var Pt=0;Pt<2;++Pt)for(var Bt=0;Bt<2;++Bt)for(var Ut=0;Ut<3;++Ut){var Vt=this._field[Ut].get(1+ke+Pt,1+Oe+Bt);if(isNaN(Vt)||!isFinite(Vt))continue e}for(Ut=0;Ut<6;++Ut){var tn=ke+L[Ut][0],Gt=Oe+L[Ut][1],et=this._field[0].get(tn+1,Gt+1),nt=this._field[1].get(tn+1,Gt+1);Vt=this._field[2].get(tn+1,Gt+1),ve=de.get(tn+1,Gt+1,0),Te=de.get(tn+1,Gt+1,1),Ce=de.get(tn+1,Gt+1,2),le.intensity&&($e=le.intensity.get(tn,Gt));var $e=le.intensity?le.intensity.get(tn,Gt):Vt+this.objectOffset[2];At[Rt++]=tn,At[Rt++]=Gt,At[Rt++]=et,At[Rt++]=nt,At[Rt++]=Vt,At[Rt++]=0,At[Rt++]=$e,At[Rt++]=ve,At[Rt++]=Te,At[Rt++]=Ce,Ke[0]=Math.min(Ke[0],et+this.objectOffset[0]),Ke[1]=Math.min(Ke[1],nt+this.objectOffset[1]),Ke[2]=Math.min(Ke[2],Vt+this.objectOffset[2]),ht=Math.min(ht,$e),Je[0]=Math.max(Je[0],et+this.objectOffset[0]),Je[1]=Math.max(Je[1],nt+this.objectOffset[1]),Je[2]=Math.max(Je[2],Vt+this.objectOffset[2]),ft=Math.max(ft,$e),It+=1}}for(le.intensityBounds&&(ht=+le.intensityBounds[0],ft=+le.intensityBounds[1]),ke=6;ke<Rt;ke+=10)At[ke]=(At[ke]-ht)/(ft-ht);this._vertexCount=It,this._coordinateBuffer.update(At.subarray(0,Rt)),s.freeFloat(At),s.free(de.data),this.bounds=[Ke,Je],this.intensity=le.intensity||this._field[2],this.intensityBounds[0]===ht&&this.intensityBounds[1]===ft||(he=!0),this.intensityBounds=[ht,ft]}if("levels"in le){var ot=le.levels;for(ot=Array.isArray(ot[0])?ot.slice():[[],[],ot],ke=0;ke<3;++ke)ot[ke]=ot[ke].slice(),ot[ke].sort(function(On,wn){return On-wn});for(ke=0;ke<3;++ke)for(Oe=0;Oe<ot[ke].length;++Oe)ot[ke][Oe]-=this.objectOffset[ke];e:for(ke=0;ke<3;++ke){if(ot[ke].length!==this.contourLevels[ke].length){he=!0;break}for(Oe=0;Oe<ot[ke].length;++Oe)if(ot[ke][Oe]!==this.contourLevels[ke][Oe]){he=!0;break e}}this.contourLevels=ot}if(he){De=this._field,xe=this.shape;for(var dt=[],Le=0;Le<3;++Le){var Ge=this.contourLevels[Le],st=[],vt=[],bt=[0,0,0];for(ke=0;ke<Ge.length;++ke){var Lt=_(this._field[Le],Ge[ke]);st.push(dt.length/5|0),It=0;e:for(Oe=0;Oe<Lt.cells.length;++Oe){var jt=Lt.cells[Oe];for(Ut=0;Ut<2;++Ut){var Nt=Lt.positions[jt[Ut]],Tt=Nt[0],Mt=0|Math.floor(Tt),kt=Tt-Mt,Ht=Nt[1],qt=0|Math.floor(Ht),Qt=Ht-qt,Jt=!1;t:for(var Kt=0;Kt<3;++Kt){bt[Kt]=0;var ln=(Le+Kt+1)%3;for(Pt=0;Pt<2;++Pt){var Tn=Pt?kt:1-kt;for(tn=0|Math.min(Math.max(Mt+Pt,0),xe[0]),Bt=0;Bt<2;++Bt){var An=Bt?Qt:1-Qt;if(Gt=0|Math.min(Math.max(qt+Bt,0),xe[1]),Vt=Kt<2?this._field[ln].get(tn,Gt):(this.intensity.get(tn,Gt)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(Vt)||isNaN(Vt)){Jt=!0;break t}bt[Kt]+=Tn*An*Vt}}}if(Jt){if(Ut>0){for(var Nn=0;Nn<5;++Nn)dt.pop();It-=1}continue e}dt.push(bt[0],bt[1],Nt[0],Nt[1],bt[2]),It+=1}}vt.push(It)}this._contourOffsets[Le]=st,this._contourCounts[Le]=vt}var tr=s.mallocFloat(dt.length);for(ke=0;ke<dt.length;++ke)tr[ke]=dt[ke];this._contourBuffer.update(tr),s.freeFloat(tr)}},j.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var le=0;le<3;++le)s.freeFloat(this._field[le].data)},j.highlight=function(le){var ue,he;if(!le)return this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],void(this.highlightLevel=[-1,-1,-1]);for(ue=0;ue<3;++ue)this.highlightLevel[ue]=this.enableHighlight[ue]?le.level[ue]:-1;for(he=this.snapToData?le.dataCoordinate:le.position,ue=0;ue<3;++ue)he[ue]-=this.objectOffset[ue];if(this.enableDynamic[0]&&he[0]!==this.dynamicLevel[0]||this.enableDynamic[1]&&he[1]!==this.dynamicLevel[1]||this.enableDynamic[2]&&he[2]!==this.dynamicLevel[2]){for(var ge=0,xe=this.shape,ke=s.mallocFloat(12*xe[0]*xe[1]),Ae=0;Ae<3;++Ae)if(this.enableDynamic[Ae]){this.dynamicLevel[Ae]=he[Ae];var be=this._field[(Ae+1)%3],Ee=this._field[(Ae+2)%3],Oe=_(this._field[Ae],he[Ae]),De=Oe.cells,oe=Oe.positions;for(this._dynamicOffsets[Ae]=ge,ue=0;ue<De.length;++ue)for(var de=De[ue],_e=0;_e<2;++_e){var Me=oe[de[_e]],Pe=+Me[0],Ue=0|Pe,Be=0|Math.min(Ue+1,xe[0]),Ve=Pe-Ue,ve=1-Ve,Te=+Me[1],Ce=0|Te,We=0|Math.min(Ce+1,xe[1]),Ke=Te-Ce,Je=1-Ke,ht=ve*Je,ft=ve*Ke,mt=Ve*Je,At=Ve*Ke,Rt=ht*be.get(Ue,Ce)+ft*be.get(Ue,We)+mt*be.get(Be,Ce)+At*be.get(Be,We),It=ht*Ee.get(Ue,Ce)+ft*Ee.get(Ue,We)+mt*Ee.get(Be,Ce)+At*Ee.get(Be,We);if(isNaN(Rt)||isNaN(It)){_e&&(ge-=1);break}ke[2*ge+0]=Rt,ke[2*ge+1]=It,ge+=1}this._dynamicCounts[Ae]=ge-this._dynamicOffsets[Ae]}else this.dynamicLevel[Ae]=NaN,this._dynamicCounts[Ae]=0;this._dynamicBuffer.update(ke.subarray(0,2*ge)),s.freeFloat(ke)}}},8931:function(v,c,i){"use strict";var u=i(5050),a=i(7498),o=i(5306);v.exports=function(A){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(l||g(A),"number"==typeof arguments[1])return k(A,arguments[1],arguments[2],arguments[3]||A.RGBA,arguments[4]||A.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return k(A,0|arguments[1][0],0|arguments[1][1],arguments[2]||A.RGBA,arguments[3]||A.UNSIGNED_BYTE);if("object"==typeof arguments[1]){var I=arguments[1],P=p(I)?I:I.raw;if(P)return h(A,P,0|I.width,0|I.height,arguments[2]||A.RGBA,arguments[3]||A.UNSIGNED_BYTE);if(I.shape&&I.data&&I.stride)return O(A,I)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")};var l=null,s=null,d=null;function g(A){l=[A.LINEAR,A.NEAREST_MIPMAP_LINEAR,A.LINEAR_MIPMAP_NEAREST,A.LINEAR_MIPMAP_NEAREST],s=[A.NEAREST,A.LINEAR,A.NEAREST_MIPMAP_NEAREST,A.NEAREST_MIPMAP_LINEAR,A.LINEAR_MIPMAP_NEAREST,A.LINEAR_MIPMAP_LINEAR],d=[A.REPEAT,A.CLAMP_TO_EDGE,A.MIRRORED_REPEAT]}function p(A){return typeof HTMLCanvasElement<"u"&&A instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&A instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&A instanceof HTMLVideoElement||typeof ImageData<"u"&&A instanceof ImageData}var T=function(A,I){a.muls(A,I,255)};function _(A,I,P){var L=A.gl,N=L.getParameter(L.MAX_TEXTURE_SIZE);if(I<0||I>N||P<0||P>N)throw new Error("gl-texture2d: Invalid texture size");return A._shape=[I,P],A.bind(),L.texImage2D(L.TEXTURE_2D,0,A.format,I,P,0,A.format,A.type,null),A._mipLevels=[0],A}function y(A,I,P,L,N,B){this.gl=A,this.handle=I,this.format=N,this.type=B,this._shape=[P,L],this._mipLevels=[0],this._magFilter=A.NEAREST,this._minFilter=A.NEAREST,this._wrapS=A.CLAMP_TO_EDGE,this._wrapT=A.CLAMP_TO_EDGE,this._anisoSamples=1;var W=this,j=[this._wrapS,this._wrapT];Object.defineProperties(j,[{get:function(){return W._wrapS},set:function(V){return W.wrapS=V}},{get:function(){return W._wrapT},set:function(V){return W.wrapT=V}}]),this._wrapVector=j;var Z=[this._shape[0],this._shape[1]];Object.defineProperties(Z,[{get:function(){return W._shape[0]},set:function(V){return W.width=V}},{get:function(){return W._shape[1]},set:function(V){return W.height=V}}]),this._shapeVector=Z}var w=y.prototype;function m(A,I){return 3===A.length?1===I[2]&&I[1]===A[0]*A[2]&&I[0]===A[2]:1===I[0]&&I[1]===A[0]}function b(A){var I=A.createTexture();return A.bindTexture(A.TEXTURE_2D,I),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE),I}function k(A,I,P,L,N){var B=A.getParameter(A.MAX_TEXTURE_SIZE);if(I<0||I>B||P<0||P>B)throw new Error("gl-texture2d: Invalid texture shape");if(N===A.FLOAT&&!A.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var W=b(A);return A.texImage2D(A.TEXTURE_2D,0,L,I,P,0,L,N,null),new y(A,W,I,P,L,N)}function h(A,I,P,L,N,B){var W=b(A);return A.texImage2D(A.TEXTURE_2D,0,N,N,B,I),new y(A,W,P,L,N,B)}function O(A,I){var P=I.dtype,L=I.shape.slice(),N=A.getParameter(A.MAX_TEXTURE_SIZE);if(L[0]<0||L[0]>N||L[1]<0||L[1]>N)throw new Error("gl-texture2d: Invalid texture size");var B=m(L,I.stride.slice()),W=0;"float32"===P?W=A.FLOAT:"float64"===P?(W=A.FLOAT,B=!1,P="float32"):"uint8"===P?W=A.UNSIGNED_BYTE:(W=A.UNSIGNED_BYTE,B=!1,P="uint8");var j,Z,V=0;if(2===L.length)V=A.LUMINANCE,I=u(I.data,L=[L[0],L[1],1],[I.stride[0],I.stride[1],1],I.offset);else{if(3!==L.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===L[2])V=A.ALPHA;else if(2===L[2])V=A.LUMINANCE_ALPHA;else if(3===L[2])V=A.RGB;else{if(4!==L[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");V=A.RGBA}}W!==A.FLOAT||A.getExtension("OES_texture_float")||(W=A.UNSIGNED_BYTE,B=!1);var q=I.size;if(B)j=0===I.offset&&I.data.length===q?I.data:I.data.subarray(I.offset,I.offset+q);else{var G=[L[2],L[2]*L[0],1];Z=o.malloc(q,P);var H=u(Z,L,G,0);"float32"!==P&&"float64"!==P||W!==A.UNSIGNED_BYTE?a.assign(H,I):T(H,I),j=Z.subarray(0,q)}var ne=b(A);return A.texImage2D(A.TEXTURE_2D,0,V,L[0],L[1],0,V,W,j),B||o.free(Z),new y(A,ne,L[0],L[1],V,W)}Object.defineProperties(w,{minFilter:{get:function(){return this._minFilter},set:function(A){this.bind();var I=this.gl;if(this.type===I.FLOAT&&l.indexOf(A)>=0&&(I.getExtension("OES_texture_float_linear")||(A=I.NEAREST)),s.indexOf(A)<0)throw new Error("gl-texture2d: Unknown filter mode "+A);return I.texParameteri(I.TEXTURE_2D,I.TEXTURE_MIN_FILTER,A),this._minFilter=A}},magFilter:{get:function(){return this._magFilter},set:function(A){this.bind();var I=this.gl;if(this.type===I.FLOAT&&l.indexOf(A)>=0&&(I.getExtension("OES_texture_float_linear")||(A=I.NEAREST)),s.indexOf(A)<0)throw new Error("gl-texture2d: Unknown filter mode "+A);return I.texParameteri(I.TEXTURE_2D,I.TEXTURE_MAG_FILTER,A),this._magFilter=A}},mipSamples:{get:function(){return this._anisoSamples},set:function(A){var I=this._anisoSamples;if(this._anisoSamples=0|Math.max(A,1),I!==this._anisoSamples){var P=this.gl.getExtension("EXT_texture_filter_anisotropic");P&&this.gl.texParameterf(this.gl.TEXTURE_2D,P.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(A){if(this.bind(),d.indexOf(A)<0)throw new Error("gl-texture2d: Unknown wrap mode "+A);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,A),this._wrapS=A}},wrapT:{get:function(){return this._wrapT},set:function(A){if(this.bind(),d.indexOf(A)<0)throw new Error("gl-texture2d: Unknown wrap mode "+A);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,A),this._wrapT=A}},wrap:{get:function(){return this._wrapVector},set:function(A){if(Array.isArray(A)||(A=[A,A]),2!==A.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var I=0;I<2;++I)if(d.indexOf(A[I])<0)throw new Error("gl-texture2d: Unknown wrap mode "+A);this._wrapS=A[0],this._wrapT=A[1];var P=this.gl;return this.bind(),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_WRAP_S,this._wrapS),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_WRAP_T,this._wrapT),A}},shape:{get:function(){return this._shapeVector},set:function(A){if(Array.isArray(A)){if(2!==A.length)throw new Error("gl-texture2d: Invalid texture shape")}else A=[0|A,0|A];return _(this,0|A[0],0|A[1]),[0|A[0],0|A[1]]}},width:{get:function(){return this._shape[0]},set:function(A){return _(this,A|=0,this._shape[1]),A}},height:{get:function(){return this._shape[1]},set:function(A){return _(this,this._shape[0],A|=0),A}}}),w.bind=function(A){var I=this.gl;return void 0!==A&&I.activeTexture(I.TEXTURE0+(0|A)),I.bindTexture(I.TEXTURE_2D,this.handle),void 0!==A?0|A:I.getParameter(I.ACTIVE_TEXTURE)-I.TEXTURE0},w.dispose=function(){this.gl.deleteTexture(this.handle)},w.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var A=Math.min(this._shape[0],this._shape[1]),I=0;A>0;++I,A>>>=1)this._mipLevels.indexOf(I)<0&&this._mipLevels.push(I)},w.setPixels=function(A,I,P,L){var N=this.gl;this.bind(),Array.isArray(I)?(L=P,P=0|I[1],I=0|I[0]):(I=I||0,P=P||0),L=L||0;var B=p(A)?A:A.raw;if(B)this._mipLevels.indexOf(L)<0?(N.texImage2D(N.TEXTURE_2D,0,this.format,this.format,this.type,B),this._mipLevels.push(L)):N.texSubImage2D(N.TEXTURE_2D,L,I,P,this.format,this.type,B);else{if(!(A.shape&&A.stride&&A.data))throw new Error("gl-texture2d: Unsupported data type");if(A.shape.length<2||I+A.shape[1]>this._shape[1]>>>L||P+A.shape[0]>this._shape[0]>>>L||I<0||P<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");!function(W,j,Z,V,q,G,H,ne){var X=ne.dtype,$=ne.shape.slice();if($.length<2||$.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var Q=0,te=0,re=m($,ne.stride.slice());if("float32"===X?Q=W.FLOAT:"float64"===X?(Q=W.FLOAT,re=!1,X="float32"):"uint8"===X?Q=W.UNSIGNED_BYTE:(Q=W.UNSIGNED_BYTE,re=!1,X="uint8"),2===$.length)te=W.LUMINANCE,ne=u(ne.data,$=[$[0],$[1],1],[ne.stride[0],ne.stride[1],1],ne.offset);else{if(3!==$.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===$[2])te=W.ALPHA;else if(2===$[2])te=W.LUMINANCE_ALPHA;else if(3===$[2])te=W.RGB;else{if(4!==$[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");te=W.RGBA}}if(te!==W.LUMINANCE&&te!==W.ALPHA||q!==W.LUMINANCE&&q!==W.ALPHA||(te=q),te!==q)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var le=ne.size,ue=H.indexOf(V)<0;if(ue&&H.push(V),Q===G&&re)0===ne.offset&&ne.data.length===le?ue?W.texImage2D(W.TEXTURE_2D,V,q,$[0],$[1],0,q,G,ne.data):W.texSubImage2D(W.TEXTURE_2D,V,j,Z,$[0],$[1],q,G,ne.data):ue?W.texImage2D(W.TEXTURE_2D,V,q,$[0],$[1],0,q,G,ne.data.subarray(ne.offset,ne.offset+le)):W.texSubImage2D(W.TEXTURE_2D,V,j,Z,$[0],$[1],q,G,ne.data.subarray(ne.offset,ne.offset+le));else{var he;he=G===W.FLOAT?o.mallocFloat32(le):o.mallocUint8(le);var ge=u(he,$,[$[2],$[2]*$[0],1]);Q===W.FLOAT&&G===W.UNSIGNED_BYTE?T(ge,ne):a.assign(ge,ne),ue?W.texImage2D(W.TEXTURE_2D,V,q,$[0],$[1],0,q,G,he.subarray(0,le)):W.texSubImage2D(W.TEXTURE_2D,V,j,Z,$[0],$[1],q,G,he.subarray(0,le)),G===W.FLOAT?o.freeFloat32(he):o.freeUint8(he)}}(N,I,P,L,this.format,this.type,this._mipLevels,A)}}},3056:function(v){"use strict";v.exports=function(c,i,u){i?i.bind():c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,null);var a=0|c.getParameter(c.MAX_VERTEX_ATTRIBS);if(u){if(u.length>a)throw new Error("gl-vao: Too many vertex attributes");for(var o=0;o<u.length;++o){var l=u[o];if(l.buffer){var d=l.size||4,g=l.type||c.FLOAT,p=!!l.normalized,T=l.stride||0,_=l.offset||0;l.buffer.bind(),c.enableVertexAttribArray(o),c.vertexAttribPointer(o,d,g,p,T,_)}else{if("number"==typeof l)c.vertexAttrib1f(o,l);else if(1===l.length)c.vertexAttrib1f(o,l[0]);else if(2===l.length)c.vertexAttrib2f(o,l[0],l[1]);else if(3===l.length)c.vertexAttrib3f(o,l[0],l[1],l[2]);else{if(4!==l.length)throw new Error("gl-vao: Invalid vertex attribute");c.vertexAttrib4f(o,l[0],l[1],l[2],l[3])}c.disableVertexAttribArray(o)}}for(;o<a;++o)c.disableVertexAttribArray(o)}else for(c.bindBuffer(c.ARRAY_BUFFER,null),o=0;o<a;++o)c.disableVertexAttribArray(o)}},7220:function(v,c,i){"use strict";var u=i(3056);function a(o){this.gl=o,this._elements=null,this._attributes=null,this._elementsType=o.UNSIGNED_SHORT}a.prototype.bind=function(){u(this.gl,this._elements,this._attributes)},a.prototype.update=function(o,l,s){this._elements=l,this._attributes=o,this._elementsType=s||this.gl.UNSIGNED_SHORT},a.prototype.dispose=function(){},a.prototype.unbind=function(){},a.prototype.draw=function(o,l,s){s=s||0;var d=this.gl;this._elements?d.drawElements(o,l,this._elementsType,s):d.drawArrays(o,s,l)},v.exports=function(o){return new a(o)}},3778:function(v,c,i){"use strict";var u=i(3056);function a(l,s,d,g,p,T){this.location=l,this.dimension=s,this.a=d,this.b=g,this.c=p,this.d=T}function o(l,s,d){this.gl=l,this._ext=s,this.handle=d,this._attribs=[],this._useElements=!1,this._elementsType=l.UNSIGNED_SHORT}a.prototype.bind=function(l){switch(this.dimension){case 1:l.vertexAttrib1f(this.location,this.a);break;case 2:l.vertexAttrib2f(this.location,this.a,this.b);break;case 3:l.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:l.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},o.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var l=0;l<this._attribs.length;++l)this._attribs[l].bind(this.gl)},o.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},o.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},o.prototype.update=function(l,s,d){if(this.bind(),u(this.gl,s,l),this.unbind(),this._attribs.length=0,l)for(var g=0;g<l.length;++g){var p=l[g];"number"==typeof p?this._attribs.push(new a(g,1,p)):Array.isArray(p)&&this._attribs.push(new a(g,p.length,p[0],p[1],p[2],p[3]))}this._useElements=!!s,this._elementsType=d||this.gl.UNSIGNED_SHORT},o.prototype.draw=function(l,s,d){d=d||0;var g=this.gl;this._useElements?g.drawElements(l,s,this._elementsType,d):g.drawArrays(l,d,s)},v.exports=function(l,s){return new o(l,s,s.createVertexArrayOES())}},2944:function(v,c,i){"use strict";var u=i(3778),a=i(7220);function o(l){this.bindVertexArrayOES=l.bindVertexArray.bind(l),this.createVertexArrayOES=l.createVertexArray.bind(l),this.deleteVertexArrayOES=l.deleteVertexArray.bind(l)}v.exports=function(l,s,d,g){var p,T=l.createVertexArray?new o(l):l.getExtension("OES_vertex_array_object");return(p=T?u(l,T):a(l)).update(s,d,g),p}},2598:function(v){v.exports=function(c,i,u){return c[0]=i[0]+u[0],c[1]=i[1]+u[1],c[2]=i[2]+u[2],c}},5879:function(v,c,i){v.exports=function(l,s){var d=u(l[0],l[1],l[2]),g=u(s[0],s[1],s[2]);a(d,d),a(g,g);var p=o(d,g);return p>1?0:Math.acos(p)};var u=i(5415),a=i(899),o=i(9305)},8827:function(v){v.exports=function(c,i){return c[0]=Math.ceil(i[0]),c[1]=Math.ceil(i[1]),c[2]=Math.ceil(i[2]),c}},7622:function(v){v.exports=function(c){var i=new Float32Array(3);return i[0]=c[0],i[1]=c[1],i[2]=c[2],i}},8782:function(v){v.exports=function(c,i){return c[0]=i[0],c[1]=i[1],c[2]=i[2],c}},8501:function(v){v.exports=function(){var c=new Float32Array(3);return c[0]=0,c[1]=0,c[2]=0,c}},903:function(v){v.exports=function(c,i,u){var a=i[0],o=i[1],l=i[2],s=u[0],d=u[1],g=u[2];return c[0]=o*g-l*d,c[1]=l*s-a*g,c[2]=a*d-o*s,c}},5981:function(v,c,i){v.exports=i(8288)},8288:function(v){v.exports=function(c,i){var u=i[0]-c[0],a=i[1]-c[1],o=i[2]-c[2];return Math.sqrt(u*u+a*a+o*o)}},8629:function(v,c,i){v.exports=i(7979)},7979:function(v){v.exports=function(c,i,u){return c[0]=i[0]/u[0],c[1]=i[1]/u[1],c[2]=i[2]/u[2],c}},9305:function(v){v.exports=function(c,i){return c[0]*i[0]+c[1]*i[1]+c[2]*i[2]}},154:function(v){v.exports=1e-6},4932:function(v,c,i){v.exports=function(a,o){var l=a[0],s=a[1],d=a[2],g=o[0],p=o[1],T=o[2];return Math.abs(l-g)<=u*Math.max(1,Math.abs(l),Math.abs(g))&&Math.abs(s-p)<=u*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(d-T)<=u*Math.max(1,Math.abs(d),Math.abs(T))};var u=i(154)},5777:function(v){v.exports=function(c,i){return c[0]===i[0]&&c[1]===i[1]&&c[2]===i[2]}},3306:function(v){v.exports=function(c,i){return c[0]=Math.floor(i[0]),c[1]=Math.floor(i[1]),c[2]=Math.floor(i[2]),c}},7447:function(v,c,i){v.exports=function(a,o,l,s,d,g){var p,T;for(o||(o=3),l||(l=0),T=s?Math.min(s*o+l,a.length):a.length,p=l;p<T;p+=o)u[0]=a[p],u[1]=a[p+1],u[2]=a[p+2],d(u,u,g),a[p]=u[0],a[p+1]=u[1],a[p+2]=u[2];return a};var u=i(8501)()},5415:function(v){v.exports=function(c,i,u){var a=new Float32Array(3);return a[0]=c,a[1]=i,a[2]=u,a}},2858:function(v,c,i){v.exports={EPSILON:i(154),create:i(8501),clone:i(7622),angle:i(5879),fromValues:i(5415),copy:i(8782),set:i(831),equals:i(4932),exactEquals:i(5777),add:i(2598),subtract:i(911),sub:i(8921),multiply:i(105),mul:i(5733),divide:i(7979),div:i(8629),min:i(3605),max:i(1716),floor:i(3306),ceil:i(8827),round:i(1624),scale:i(5685),scaleAndAdd:i(6722),distance:i(8288),dist:i(5981),squaredDistance:i(6403),sqrDist:i(5294),length:i(4693),len:i(1468),squaredLength:i(4337),sqrLen:i(3303),negate:i(435),inverse:i(2073),normalize:i(899),dot:i(9305),cross:i(903),lerp:i(1868),random:i(6660),transformMat4:i(3255),transformMat3:i(9908),transformQuat:i(6568),rotateX:i(392),rotateY:i(3222),rotateZ:i(3388),forEach:i(7447)}},2073:function(v){v.exports=function(c,i){return c[0]=1/i[0],c[1]=1/i[1],c[2]=1/i[2],c}},1468:function(v,c,i){v.exports=i(4693)},4693:function(v){v.exports=function(c){var i=c[0],u=c[1],a=c[2];return Math.sqrt(i*i+u*u+a*a)}},1868:function(v){v.exports=function(c,i,u,a){var o=i[0],l=i[1],s=i[2];return c[0]=o+a*(u[0]-o),c[1]=l+a*(u[1]-l),c[2]=s+a*(u[2]-s),c}},1716:function(v){v.exports=function(c,i,u){return c[0]=Math.max(i[0],u[0]),c[1]=Math.max(i[1],u[1]),c[2]=Math.max(i[2],u[2]),c}},3605:function(v){v.exports=function(c,i,u){return c[0]=Math.min(i[0],u[0]),c[1]=Math.min(i[1],u[1]),c[2]=Math.min(i[2],u[2]),c}},5733:function(v,c,i){v.exports=i(105)},105:function(v){v.exports=function(c,i,u){return c[0]=i[0]*u[0],c[1]=i[1]*u[1],c[2]=i[2]*u[2],c}},435:function(v){v.exports=function(c,i){return c[0]=-i[0],c[1]=-i[1],c[2]=-i[2],c}},899:function(v){v.exports=function(c,i){var u=i[0],a=i[1],o=i[2],l=u*u+a*a+o*o;return l>0&&(l=1/Math.sqrt(l),c[0]=i[0]*l,c[1]=i[1]*l,c[2]=i[2]*l),c}},6660:function(v){v.exports=function(c,i){i=i||1;var u=2*Math.random()*Math.PI,a=2*Math.random()-1,o=Math.sqrt(1-a*a)*i;return c[0]=Math.cos(u)*o,c[1]=Math.sin(u)*o,c[2]=a*i,c}},392:function(v){v.exports=function(c,i,u,a){var o=u[1],l=u[2],s=i[1]-o,d=i[2]-l,g=Math.sin(a),p=Math.cos(a);return c[0]=i[0],c[1]=o+s*p-d*g,c[2]=l+s*g+d*p,c}},3222:function(v){v.exports=function(c,i,u,a){var o=u[0],l=u[2],s=i[0]-o,d=i[2]-l,g=Math.sin(a),p=Math.cos(a);return c[0]=o+d*g+s*p,c[1]=i[1],c[2]=l+d*p-s*g,c}},3388:function(v){v.exports=function(c,i,u,a){var o=u[0],l=u[1],s=i[0]-o,d=i[1]-l,g=Math.sin(a),p=Math.cos(a);return c[0]=o+s*p-d*g,c[1]=l+s*g+d*p,c[2]=i[2],c}},1624:function(v){v.exports=function(c,i){return c[0]=Math.round(i[0]),c[1]=Math.round(i[1]),c[2]=Math.round(i[2]),c}},5685:function(v){v.exports=function(c,i,u){return c[0]=i[0]*u,c[1]=i[1]*u,c[2]=i[2]*u,c}},6722:function(v){v.exports=function(c,i,u,a){return c[0]=i[0]+u[0]*a,c[1]=i[1]+u[1]*a,c[2]=i[2]+u[2]*a,c}},831:function(v){v.exports=function(c,i,u,a){return c[0]=i,c[1]=u,c[2]=a,c}},5294:function(v,c,i){v.exports=i(6403)},3303:function(v,c,i){v.exports=i(4337)},6403:function(v){v.exports=function(c,i){var u=i[0]-c[0],a=i[1]-c[1],o=i[2]-c[2];return u*u+a*a+o*o}},4337:function(v){v.exports=function(c){var i=c[0],u=c[1],a=c[2];return i*i+u*u+a*a}},8921:function(v,c,i){v.exports=i(911)},911:function(v){v.exports=function(c,i,u){return c[0]=i[0]-u[0],c[1]=i[1]-u[1],c[2]=i[2]-u[2],c}},9908:function(v){v.exports=function(c,i,u){var a=i[0],o=i[1],l=i[2];return c[0]=a*u[0]+o*u[3]+l*u[6],c[1]=a*u[1]+o*u[4]+l*u[7],c[2]=a*u[2]+o*u[5]+l*u[8],c}},3255:function(v){v.exports=function(c,i,u){var a=i[0],o=i[1],l=i[2],s=u[3]*a+u[7]*o+u[11]*l+u[15];return c[0]=(u[0]*a+u[4]*o+u[8]*l+u[12])/(s=s||1),c[1]=(u[1]*a+u[5]*o+u[9]*l+u[13])/s,c[2]=(u[2]*a+u[6]*o+u[10]*l+u[14])/s,c}},6568:function(v){v.exports=function(c,i,u){var a=i[0],o=i[1],l=i[2],s=u[0],d=u[1],g=u[2],p=u[3],T=p*a+d*l-g*o,_=p*o+g*a-s*l,y=p*l+s*o-d*a,w=-s*a-d*o-g*l;return c[0]=T*p+w*-s+_*-g-y*-d,c[1]=_*p+w*-d+y*-s-T*-g,c[2]=y*p+w*-g+T*-d-_*-s,c}},3433:function(v){v.exports=function(c,i,u){return c[0]=i[0]+u[0],c[1]=i[1]+u[1],c[2]=i[2]+u[2],c[3]=i[3]+u[3],c}},1413:function(v){v.exports=function(c){var i=new Float32Array(4);return i[0]=c[0],i[1]=c[1],i[2]=c[2],i[3]=c[3],i}},3470:function(v){v.exports=function(c,i){return c[0]=i[0],c[1]=i[1],c[2]=i[2],c[3]=i[3],c}},5313:function(v){v.exports=function(){var c=new Float32Array(4);return c[0]=0,c[1]=0,c[2]=0,c[3]=0,c}},5446:function(v){v.exports=function(c,i){var u=i[0]-c[0],a=i[1]-c[1],o=i[2]-c[2],l=i[3]-c[3];return Math.sqrt(u*u+a*a+o*o+l*l)}},205:function(v){v.exports=function(c,i,u){return c[0]=i[0]/u[0],c[1]=i[1]/u[1],c[2]=i[2]/u[2],c[3]=i[3]/u[3],c}},4242:function(v){v.exports=function(c,i){return c[0]*i[0]+c[1]*i[1]+c[2]*i[2]+c[3]*i[3]}},5680:function(v){v.exports=function(c,i,u,a){var o=new Float32Array(4);return o[0]=c,o[1]=i,o[2]=u,o[3]=a,o}},4020:function(v,c,i){v.exports={create:i(5313),clone:i(1413),fromValues:i(5680),copy:i(3470),set:i(6453),add:i(3433),subtract:i(2705),multiply:i(746),divide:i(205),min:i(2170),max:i(3030),scale:i(5510),scaleAndAdd:i(4224),distance:i(5446),squaredDistance:i(1542),length:i(8177),squaredLength:i(9037),negate:i(6459),inverse:i(8057),normalize:i(381),dot:i(4242),lerp:i(8746),random:i(3770),transformMat4:i(6342),transformQuat:i(5022)}},8057:function(v){v.exports=function(c,i){return c[0]=1/i[0],c[1]=1/i[1],c[2]=1/i[2],c[3]=1/i[3],c}},8177:function(v){v.exports=function(c){var i=c[0],u=c[1],a=c[2],o=c[3];return Math.sqrt(i*i+u*u+a*a+o*o)}},8746:function(v){v.exports=function(c,i,u,a){var o=i[0],l=i[1],s=i[2],d=i[3];return c[0]=o+a*(u[0]-o),c[1]=l+a*(u[1]-l),c[2]=s+a*(u[2]-s),c[3]=d+a*(u[3]-d),c}},3030:function(v){v.exports=function(c,i,u){return c[0]=Math.max(i[0],u[0]),c[1]=Math.max(i[1],u[1]),c[2]=Math.max(i[2],u[2]),c[3]=Math.max(i[3],u[3]),c}},2170:function(v){v.exports=function(c,i,u){return c[0]=Math.min(i[0],u[0]),c[1]=Math.min(i[1],u[1]),c[2]=Math.min(i[2],u[2]),c[3]=Math.min(i[3],u[3]),c}},746:function(v){v.exports=function(c,i,u){return c[0]=i[0]*u[0],c[1]=i[1]*u[1],c[2]=i[2]*u[2],c[3]=i[3]*u[3],c}},6459:function(v){v.exports=function(c,i){return c[0]=-i[0],c[1]=-i[1],c[2]=-i[2],c[3]=-i[3],c}},381:function(v){v.exports=function(c,i){var u=i[0],a=i[1],o=i[2],l=i[3],s=u*u+a*a+o*o+l*l;return s>0&&(s=1/Math.sqrt(s),c[0]=u*s,c[1]=a*s,c[2]=o*s,c[3]=l*s),c}},3770:function(v,c,i){var u=i(381),a=i(5510);v.exports=function(o,l){return l=l||1,o[0]=Math.random(),o[1]=Math.random(),o[2]=Math.random(),o[3]=Math.random(),u(o,o),a(o,o,l),o}},5510:function(v){v.exports=function(c,i,u){return c[0]=i[0]*u,c[1]=i[1]*u,c[2]=i[2]*u,c[3]=i[3]*u,c}},4224:function(v){v.exports=function(c,i,u,a){return c[0]=i[0]+u[0]*a,c[1]=i[1]+u[1]*a,c[2]=i[2]+u[2]*a,c[3]=i[3]+u[3]*a,c}},6453:function(v){v.exports=function(c,i,u,a,o){return c[0]=i,c[1]=u,c[2]=a,c[3]=o,c}},1542:function(v){v.exports=function(c,i){var u=i[0]-c[0],a=i[1]-c[1],o=i[2]-c[2],l=i[3]-c[3];return u*u+a*a+o*o+l*l}},9037:function(v){v.exports=function(c){var i=c[0],u=c[1],a=c[2],o=c[3];return i*i+u*u+a*a+o*o}},2705:function(v){v.exports=function(c,i,u){return c[0]=i[0]-u[0],c[1]=i[1]-u[1],c[2]=i[2]-u[2],c[3]=i[3]-u[3],c}},6342:function(v){v.exports=function(c,i,u){var a=i[0],o=i[1],l=i[2],s=i[3];return c[0]=u[0]*a+u[4]*o+u[8]*l+u[12]*s,c[1]=u[1]*a+u[5]*o+u[9]*l+u[13]*s,c[2]=u[2]*a+u[6]*o+u[10]*l+u[14]*s,c[3]=u[3]*a+u[7]*o+u[11]*l+u[15]*s,c}},5022:function(v){v.exports=function(c,i,u){var a=i[0],o=i[1],l=i[2],s=u[0],d=u[1],g=u[2],p=u[3],T=p*a+d*l-g*o,_=p*o+g*a-s*l,y=p*l+s*o-d*a,w=-s*a-d*o-g*l;return c[0]=T*p+w*-s+_*-g-y*-d,c[1]=_*p+w*-d+y*-s-T*-g,c[2]=y*p+w*-g+T*-d-_*-s,c[3]=i[3],c}},9365:function(v,c,i){var u=i(8096),a=i(7896);v.exports=function(o){for(var l=Array.isArray(o)?o:u(o),s=0;s<l.length;s++){var d=l[s];if("preprocessor"===d.type){var g=d.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(g&&g[2]){var T=g[2];return(g[1]?a(T):T).trim()}}}}},3193:function(v,c,i){v.exports=function(T){var _,y,w,m=0,b=0,k=d,h=[],O=[],A=1,I=0,P=0,L=!1,N=!1,B="",W=o,j=u;"300 es"===(T=T||{}).version&&(W=s,j=l);var Z={},V={};for(m=0;m<W.length;m++)Z[W[m]]=!0;for(m=0;m<j.length;m++)V[j[m]]=!0;return function(he){return O=[],null!==he?function(ge){var xe;for(m=0,ge.toString&&(ge=ge.toString()),B+=ge.replace(/\r\n/g,"\n"),w=B.length;_=B[m],m<w;){switch(xe=m,k){case 0:m="/"===_&&"*"===y?(h.push(_),q(h.join("")),k=d,m+1):(h.push(_),y=_,m+1);break;case 1:case 2:m="\r"!==_&&"\n"!==_||"\\"===y?(h.push(_),y=_,m+1):(q(h.join("")),k=d,m);break;case 3:m=$();break;case 4:m="."===_||/[eE]/.test(_)?(h.push(_),k=5,y=_,m+1):"x"===_&&1===h.length&&"0"===h[0]?(k=11,h.push(_),y=_,m+1):/[^\d]/.test(_)?(q(h.join("")),k=d,m):(h.push(_),y=_,m+1);break;case 11:m=/[^a-fA-F0-9]/.test(_)?(q(h.join("")),k=d,m):(h.push(_),y=_,m+1);break;case 5:"f"===_&&(h.push(_),y=_,m+=1),m=/[eE]/.test(_)?(h.push(_),y=_,m+1):("-"!==_&&"+"!==_||!/[eE]/.test(y))&&/[^\d]/.test(_)?(q(h.join("")),k=d,m):(h.push(_),y=_,m+1);break;case g:m=ue();break;case 9:m=/[^\s]/g.test(_)?(q(h.join("")),k=d,m):(h.push(_),y=_,m+1);break;case d:h=h.length?[]:h,m="/"===y&&"*"===_?(P=b+m-1,k=0,y=_,m+1):"/"===y&&"/"===_?(P=b+m-1,k=1,y=_,m+1):"#"===_?(k=2,P=b+m,m):/\s/.test(_)?(k=9,P=b+m,m):(L=/\d/.test(_),N=/[^\w_]/.test(_),P=b+m,k=L?4:N?3:g,m)}xe!==m&&("\n"===B[xe]?(I=0,++A):++I)}return b+=m,B=B.slice(m),O}(he):(h.length&&q(h.join("")),k=10,q("(eof)"),O)};function q(he){he.length&&O.push({type:p[k],data:he,position:P,line:A,column:I})}function $(){if("."===y&&/\d/.test(_))return k=5,m;if("/"===y&&"*"===_)return k=0,m;if("/"===y&&"/"===_)return k=1,m;if("."===_&&h.length){for(;Q(h););return k=5,m}if(";"===_||")"===_||"("===_){if(h.length)for(;Q(h););return q(_),k=d,m+1}var he=2===h.length&&"="!==_;if(/[\w_\d\s]/.test(_)||he){for(;Q(h););return k=d,m}return h.push(_),y=_,m+1}function Q(he){for(var ge,xe,ke=0;;){if(ge=a.indexOf(he.slice(0,he.length+ke).join("")),xe=a[ge],-1===ge){if(ke--+he.length>0)continue;xe=he.slice(0,1).join("")}return q(xe),P+=xe.length,(h=h.slice(xe.length)).length}}function ue(){if(/[^\d\w_]/.test(_)){var he=h.join("");return k=V[he]?8:Z[he]?7:6,q(h.join("")),k=d,m}return h.push(_),y=_,m+1}};var u=i(399),a=i(9746),o=i(9525),l=i(9458),s=i(3585),d=999,g=9999,p=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},3585:function(v,c,i){var u=i(9525);u=u.slice().filter(function(a){return!/^(gl\_|texture)/.test(a)}),v.exports=u.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},9525:function(v){v.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},9458:function(v,c,i){var u=i(399);v.exports=u.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},399:function(v){v.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},9746:function(v){v.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},8096:function(v,c,i){var u=i(3193);v.exports=function(a,o){var l=u(o),s=[];return(s=s.concat(l(a))).concat(l(null))}},6832:function(v){v.exports=function(c){"string"==typeof c&&(c=[c]);for(var i=[].slice.call(arguments,1),u=[],a=0;a<c.length-1;a++)u.push(c[a],i[a]||"");return u.push(c[a]),u.join("")}},5233:function(v,c,i){"use strict";var u=i(4846);v.exports=u&&function(){var a=!1;try{var o=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,o),window.removeEventListener("test",null,o)}catch{a=!1}return a}()},2183:function(v,c,i){"use strict";v.exports=function(T,_){var y=T.length;if(0===y)throw new Error("Must have at least d+1 points");var w=T[0].length;if(y<=w)throw new Error("Must input at least d+1 points");var m=T.slice(0,w+1),b=u.apply(void 0,m);if(0===b)throw new Error("Input not in general position");for(var k=new Array(w+1),h=0;h<=w;++h)k[h]=h;b<0&&(k[0]=1,k[1]=0);var O=new o(k,new Array(w+1),!1),A=O.adjacent,I=new Array(w+2);for(h=0;h<=w;++h){for(var P=k.slice(),L=0;L<=w;++L)L===h&&(P[L]=-1);var N=P[0];P[0]=P[1],P[1]=N;var B=new o(P,new Array(w+1),!0);A[h]=B,I[h]=B}for(I[w+1]=O,h=0;h<=w;++h){P=A[h].vertices;var W=A[h].adjacent;for(L=0;L<=w;++L){var j=P[L];if(j<0)W[L]=O;else for(var Z=0;Z<=w;++Z)A[Z].vertices.indexOf(j)<0&&(W[L]=A[Z])}}var V=new g(w,m,I),q=!!_;for(h=w+1;h<y;++h)V.insert(T[h],q);return V.boundary()};var u=i(417),a=i(8211).H;function o(T,_,y){this.vertices=T,this.adjacent=_,this.boundary=y,this.lastVisited=-1}function l(T,_,y){this.vertices=T,this.cell=_,this.index=y}function s(T,_){return a(T.vertices,_.vertices)}o.prototype.flip=function(){var T=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=T;var _=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=_};var d=[];function g(T,_,y){this.dimension=T,this.vertices=_,this.simplices=y,this.interior=y.filter(function(k){return!k.boundary}),this.tuple=new Array(T+1);for(var w=0;w<=T;++w)this.tuple[w]=this.vertices[w];var m,k,b=d[T];b||(b=d[T]=((m=u[T+1])||(m=u),k=m,function(){return k.apply(this,this.tuple)})),this.orient=b}var p=g.prototype;p.handleBoundaryDegeneracy=function(T,_){var y=this.dimension,w=this.vertices.length-1,m=this.tuple,b=this.vertices,k=[T];for(T.lastVisited=-w;k.length>0;)for(var h=(T=k.pop()).adjacent,O=0;O<=y;++O){var A=h[O];if(A.boundary&&!(A.lastVisited<=-w)){for(var I=A.vertices,P=0;P<=y;++P){var L=I[P];m[P]=L<0?_:b[L]}var N=this.orient();if(N>0)return A;A.lastVisited=-w,0===N&&k.push(A)}}return null},p.walk=function(T,_){var y=this.vertices.length-1,w=this.dimension,m=this.vertices,b=this.tuple,k=_?this.interior.length*Math.random()|0:this.interior.length-1,h=this.interior[k];e:for(;!h.boundary;){for(var O=h.vertices,A=h.adjacent,I=0;I<=w;++I)b[I]=m[O[I]];for(h.lastVisited=y,I=0;I<=w;++I){var P=A[I];if(!(P.lastVisited>=y)){var L=b[I];b[I]=T;var N=this.orient();if(b[I]=L,N<0){h=P;continue e}P.lastVisited=P.boundary?-y:y}}return}return h},p.addPeaks=function(T,_){var y=this.vertices.length-1,w=this.dimension,m=this.vertices,b=this.tuple,k=this.interior,h=this.simplices,O=[_];_.lastVisited=y,_.vertices[_.vertices.indexOf(-1)]=y,_.boundary=!1,k.push(_);for(var A=[];O.length>0;){var I=(_=O.pop()).vertices,P=_.adjacent,L=I.indexOf(y);if(!(L<0))for(var N=0;N<=w;++N)if(N!==L){var B=P[N];if(B.boundary&&!(B.lastVisited>=y)){var W=B.vertices;if(B.lastVisited!==-y){for(var j=0,Z=0;Z<=w;++Z)W[Z]<0?(j=Z,b[Z]=T):b[Z]=m[W[Z]];if(this.orient()>0){W[j]=y,B.boundary=!1,k.push(B),O.push(B),B.lastVisited=y;continue}B.lastVisited=-y}var V=B.adjacent,q=I.slice(),G=P.slice(),H=new o(q,G,!0);h.push(H);var ne=V.indexOf(_);if(!(ne<0))for(V[ne]=H,G[L]=B,q[N]=-1,G[N]=_,P[N]=H,H.flip(),Z=0;Z<=w;++Z){var X=q[Z];if(!(X<0||X===y)){for(var $=new Array(w-1),Q=0,te=0;te<=w;++te){var re=q[te];re<0||te===Z||($[Q++]=re)}A.push(new l($,H,Z))}}}}}for(A.sort(s),N=0;N+1<A.length;N+=2){var le=A[N],ue=A[N+1];le.index<0||ue.index<0||(le.cell.adjacent[le.index]=ue.cell,ue.cell.adjacent[ue.index]=le.cell)}},p.insert=function(T,_){var y=this.vertices;y.push(T);var w=this.walk(T,_);if(w){for(var m=this.dimension,b=this.tuple,k=0;k<=m;++k){var h=w.vertices[k];b[k]=h<0?T:y[h]}var O=this.orient(b);O<0||(0!==O||(w=this.handleBoundaryDegeneracy(w,T)))&&this.addPeaks(T,w)}},p.boundary=function(){for(var T=this.dimension,_=[],y=this.simplices,w=y.length,m=0;m<w;++m){var b=y[m];if(b.boundary){for(var k=new Array(T),h=b.vertices,O=0,A=0,I=0;I<=T;++I)h[I]>=0?k[O++]=h[I]:A=1&I;if(A===(1&T)){var P=k[0];k[0]=k[1],k[1]=P}_.push(k)}}return _}},9014:function(v,c,i){"use strict";var u=i(5070);function a(O,A,I,P,L){this.mid=O,this.left=A,this.right=I,this.leftPoints=P,this.rightPoints=L,this.count=(A?A.count:0)+(I?I.count:0)+P.length}v.exports=function(O){return new k(O&&0!==O.length?b(O):null)};var o=a.prototype;function l(O,A){O.mid=A.mid,O.left=A.left,O.right=A.right,O.leftPoints=A.leftPoints,O.rightPoints=A.rightPoints,O.count=A.count}function s(O,A){var I=b(A);O.mid=I.mid,O.left=I.left,O.right=I.right,O.leftPoints=I.leftPoints,O.rightPoints=I.rightPoints,O.count=I.count}function d(O,A){var I=O.intervals([]);I.push(A),s(O,I)}function g(O,A){var I=O.intervals([]),P=I.indexOf(A);return P<0?0:(I.splice(P,1),s(O,I),1)}function p(O,A,I){for(var P=0;P<O.length&&O[P][0]<=A;++P){var L=I(O[P]);if(L)return L}}function T(O,A,I){for(var P=O.length-1;P>=0&&O[P][1]>=A;--P){var L=I(O[P]);if(L)return L}}function _(O,A){for(var I=0;I<O.length;++I){var P=A(O[I]);if(P)return P}}function y(O,A){return O-A}function w(O,A){return O[0]-A[0]||O[1]-A[1]}function m(O,A){return O[1]-A[1]||O[0]-A[0]}function b(O){if(0===O.length)return null;for(var A=[],I=0;I<O.length;++I)A.push(O[I][0],O[I][1]);A.sort(y);var P=A[A.length>>1],L=[],N=[],B=[];for(I=0;I<O.length;++I){var W=O[I];W[1]<P?L.push(W):P<W[0]?N.push(W):B.push(W)}var j=B,Z=B.slice();return j.sort(w),Z.sort(m),new a(P,b(L),b(N),j,Z)}function k(O){this.root=O}o.intervals=function(O){return O.push.apply(O,this.leftPoints),this.left&&this.left.intervals(O),this.right&&this.right.intervals(O),O},o.insert=function(O){var A=this.count-this.leftPoints.length;if(this.count+=1,O[1]<this.mid)this.left?4*(this.left.count+1)>3*(A+1)?d(this,O):this.left.insert(O):this.left=b([O]);else if(O[0]>this.mid)this.right?4*(this.right.count+1)>3*(A+1)?d(this,O):this.right.insert(O):this.right=b([O]);else{var I=u.ge(this.leftPoints,O,w),P=u.ge(this.rightPoints,O,m);this.leftPoints.splice(I,0,O),this.rightPoints.splice(P,0,O)}},o.remove=function(O){var A=this.count-this.leftPoints;if(O[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(A-1)?g(this,O):2===(N=this.left.remove(O))?(this.left=null,this.count-=1,1):(1===N&&(this.count-=1),N):0;if(O[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(A-1)?g(this,O):2===(N=this.right.remove(O))?(this.right=null,this.count-=1,1):(1===N&&(this.count-=1),N):0;if(1===this.count)return this.leftPoints[0]===O?2:0;if(1===this.leftPoints.length&&this.leftPoints[0]===O){if(this.left&&this.right){for(var I=this,P=this.left;P.right;)I=P,P=P.right;if(I===this)P.right=this.right;else{var L=this.left,N=this.right;I.count-=P.count,I.right=P.left,P.left=L,P.right=N}l(this,P),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else l(this,this.left?this.left:this.right);return 1}for(L=u.ge(this.leftPoints,O,w);L<this.leftPoints.length&&this.leftPoints[L][0]===O[0];++L)if(this.leftPoints[L]===O)for(this.count-=1,this.leftPoints.splice(L,1),N=u.ge(this.rightPoints,O,m);N<this.rightPoints.length&&this.rightPoints[N][1]===O[1];++N)if(this.rightPoints[N]===O)return this.rightPoints.splice(N,1),1;return 0},o.queryPoint=function(O,A){return O<this.mid?this.left&&(I=this.left.queryPoint(O,A))?I:p(this.leftPoints,O,A):O>this.mid?this.right&&(I=this.right.queryPoint(O,A))?I:T(this.rightPoints,O,A):_(this.leftPoints,A);var I},o.queryInterval=function(O,A,I){var P;return O<this.mid&&this.left&&(P=this.left.queryInterval(O,A,I))||A>this.mid&&this.right&&(P=this.right.queryInterval(O,A,I))?P:A<this.mid?p(this.leftPoints,A,I):O>this.mid?T(this.rightPoints,O,I):_(this.leftPoints,I)};var h=k.prototype;h.insert=function(O){this.root?this.root.insert(O):this.root=new a(O[0],null,null,[O],[O])},h.remove=function(O){if(this.root){var A=this.root.remove(O);return 2===A&&(this.root=null),0!==A}return!1},h.queryPoint=function(O,A){if(this.root)return this.root.queryPoint(O,A)},h.queryInterval=function(O,A,I){if(O<=A&&this.root)return this.root.queryInterval(O,A,I)},Object.defineProperty(h,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(h,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},9560:function(v){"use strict";v.exports=function(c){for(var i=new Array(c),u=0;u<c;++u)i[u]=u;return i}},4846:function(v){v.exports=!0},4780:function(v){function c(i){return!!i.constructor&&"function"==typeof i.constructor.isBuffer&&i.constructor.isBuffer(i)}v.exports=function(i){return null!=i&&(c(i)||"function"==typeof(u=i).readFloatLE&&"function"==typeof u.slice&&c(u.slice(0,0))||!!i._isBuffer);var u}},2861:function(v){"use strict";v.exports=u,v.exports.isMobile=u,v.exports.default=u;var c=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,i=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;function u(a){a||(a={});var o=a.ua;if(o||typeof navigator>"u"||(o=navigator.userAgent),o&&o.headers&&"string"==typeof o.headers["user-agent"]&&(o=o.headers["user-agent"]),"string"!=typeof o)return!1;var l=a.tablet?i.test(o):c.test(o);return!l&&a.tablet&&a.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==o.indexOf("Macintosh")&&-1!==o.indexOf("Safari")&&(l=!0),l}},3596:function(v){"use strict";v.exports=function(c){for(var i,u=c.length,a=0;a<u;a++)if(((i=c.charCodeAt(a))<9||i>13)&&32!==i&&133!==i&&160!==i&&5760!==i&&6158!==i&&(i<8192||i>8205)&&8232!==i&&8233!==i&&8239!==i&&8287!==i&&8288!==i&&12288!==i&&65279!==i)return!1;return!0}},3578:function(v){v.exports=function(c,i,u){return c*(1-u)+i*u}},7191:function(v,c,i){var u=i(4690),a=i(9823),o=i(7332),l=i(7787),s=i(7437),d=i(2142),g={length:i(4693),normalize:i(899),dot:i(9305),cross:i(903)},p=a(),T=a(),_=[0,0,0,0],y=[[0,0,0],[0,0,0],[0,0,0]],w=[0,0,0];function m(b,k,h,O,A){b[0]=k[0]*O+h[0]*A,b[1]=k[1]*O+h[1]*A,b[2]=k[2]*O+h[2]*A}v.exports=function(b,k,h,O,A,I){if(k||(k=[0,0,0]),h||(h=[0,0,0]),O||(O=[0,0,0]),A||(A=[0,0,0,1]),I||(I=[0,0,0,1]),!u(p,b)||(o(T,p),T[3]=0,T[7]=0,T[11]=0,T[15]=1,Math.abs(l(T)<1e-8)))return!1;var P,L,N,B,W,j,Z,te,re,V=p[3],q=p[7],G=p[11],H=p[12],ne=p[13],X=p[14],$=p[15];if(0!==V||0!==q||0!==G){if(_[0]=V,_[1]=q,_[2]=G,_[3]=$,!s(T,T))return!1;d(T,T),B=(L=_)[0],(P=A)[0]=(N=T)[0]*B+N[4]*(W=L[1])+N[8]*(j=L[2])+N[12]*(Z=L[3]),P[1]=N[1]*B+N[5]*W+N[9]*j+N[13]*Z,P[2]=N[2]*B+N[6]*W+N[10]*j+N[14]*Z,P[3]=N[3]*B+N[7]*W+N[11]*j+N[15]*Z}else A[0]=A[1]=A[2]=0,A[3]=1;if(k[0]=H,k[1]=ne,k[2]=X,(te=y)[0][0]=(re=p)[0],te[0][1]=re[1],te[0][2]=re[2],te[1][0]=re[4],te[1][1]=re[5],te[1][2]=re[6],te[2][0]=re[8],te[2][1]=re[9],te[2][2]=re[10],h[0]=g.length(y[0]),g.normalize(y[0],y[0]),O[0]=g.dot(y[0],y[1]),m(y[1],y[1],y[0],1,-O[0]),h[1]=g.length(y[1]),g.normalize(y[1],y[1]),O[0]/=h[1],O[1]=g.dot(y[0],y[2]),m(y[2],y[2],y[0],1,-O[1]),O[2]=g.dot(y[1],y[2]),m(y[2],y[2],y[1],1,-O[2]),h[2]=g.length(y[2]),g.normalize(y[2],y[2]),O[1]/=h[2],O[2]/=h[2],g.cross(w,y[1],y[2]),g.dot(y[0],w)<0)for(var Q=0;Q<3;Q++)h[Q]*=-1,y[Q][0]*=-1,y[Q][1]*=-1,y[Q][2]*=-1;return I[0]=.5*Math.sqrt(Math.max(1+y[0][0]-y[1][1]-y[2][2],0)),I[1]=.5*Math.sqrt(Math.max(1-y[0][0]+y[1][1]-y[2][2],0)),I[2]=.5*Math.sqrt(Math.max(1-y[0][0]-y[1][1]+y[2][2],0)),I[3]=.5*Math.sqrt(Math.max(1+y[0][0]+y[1][1]+y[2][2],0)),y[2][1]>y[1][2]&&(I[0]=-I[0]),y[0][2]>y[2][0]&&(I[1]=-I[1]),y[1][0]>y[0][1]&&(I[2]=-I[2]),!0}},4690:function(v){v.exports=function(c,i){var u=i[15];if(0===u)return!1;for(var a=1/u,o=0;o<16;o++)c[o]=i[o]*a;return!0}},7649:function(v,c,i){var u=i(1868),a=i(1102),o=i(7191),l=i(7787),s=i(1116),d=T(),g=T(),p=T();function T(){return{translate:_(),scale:_(1),skew:_(),perspective:[0,0,0,1],quaternion:[0,0,0,1]}}function _(y){return[y||0,y||0,y||0]}v.exports=function(y,w,m,b){if(0===l(w)||0===l(m))return!1;var k=o(w,d.translate,d.scale,d.skew,d.perspective,d.quaternion),h=o(m,g.translate,g.scale,g.skew,g.perspective,g.quaternion);return!(!k||!h||(u(p.translate,d.translate,g.translate,b),u(p.skew,d.skew,g.skew,b),u(p.scale,d.scale,g.scale,b),u(p.perspective,d.perspective,g.perspective,b),s(p.quaternion,d.quaternion,g.quaternion,b),a(y,p.translate,p.scale,p.skew,p.perspective,p.quaternion),0))}},1102:function(v,c,i){var u={identity:i(9947),translate:i(998),multiply:i(104),create:i(9823),scale:i(3668),fromRotationTranslation:i(7280)},a=(u.create(),u.create());v.exports=function(o,l,s,d,g,p){return u.identity(o),u.fromRotationTranslation(o,p,l),o[3]=g[0],o[7]=g[1],o[11]=g[2],o[15]=g[3],u.identity(a),0!==d[2]&&(a[9]=d[2],u.multiply(o,o,a)),0!==d[1]&&(a[9]=0,a[8]=d[1],u.multiply(o,o,a)),0!==d[0]&&(a[8]=0,a[4]=d[0],u.multiply(o,o,a)),u.scale(o,o,s),o}},9298:function(v,c,i){"use strict";var u=i(5070),a=i(7649),o=i(7437),l=i(6109),s=i(7115),d=i(5240),g=i(3012),p=i(998),T=(i(3668),i(899)),_=[0,0,0];function y(b){this._components=b.slice(),this._time=[0],this.prevMatrix=b.slice(),this.nextMatrix=b.slice(),this.computedMatrix=b.slice(),this.computedInverse=b.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}v.exports=function(b){return new y((b=b||{}).matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};var w=y.prototype;w.recalcMatrix=function(b){var k=this._time,h=u.le(k,b),O=this.computedMatrix;if(!(h<0)){var A=this._components;if(h===k.length-1)for(var I=16*h,P=0;P<16;++P)O[P]=A[I++];else{var L=k[h+1]-k[h],N=(I=16*h,this.prevMatrix),B=!0;for(P=0;P<16;++P)N[P]=A[I++];var W=this.nextMatrix;for(P=0;P<16;++P)W[P]=A[I++],B=B&&N[P]===W[P];if(L<1e-6||B)for(P=0;P<16;++P)O[P]=N[P];else a(O,N,W,(b-k[h])/L)}var j=this.computedUp;j[0]=O[1],j[1]=O[5],j[2]=O[9],T(j,j);var Z=this.computedInverse;o(Z,O);var V=this.computedEye,q=Z[15];V[0]=Z[12]/q,V[1]=Z[13]/q,V[2]=Z[14]/q;var G=this.computedCenter,H=Math.exp(this.computedRadius[0]);for(P=0;P<3;++P)G[P]=V[P]-O[2+4*P]*H}},w.idle=function(b){if(!(b<this.lastT())){for(var k=this._components,h=k.length-16,O=0;O<16;++O)k.push(k[h++]);this._time.push(b)}},w.flush=function(b){var k=u.gt(this._time,b)-2;k<0||(this._time.splice(0,k),this._components.splice(0,16*k))},w.lastT=function(){return this._time[this._time.length-1]},w.lookAt=function(b,k,h,O){this.recalcMatrix(b),this.setMatrix(b,g(this.computedMatrix,k=k||this.computedEye,h=h||_,O=O||this.computedUp));for(var A=0,I=0;I<3;++I)A+=Math.pow(h[I]-k[I],2);A=Math.log(Math.sqrt(A)),this.computedRadius[0]=A},w.rotate=function(b,k,h,O){this.recalcMatrix(b);var A=this.computedInverse;k&&s(A,A,k),h&&l(A,A,h),O&&d(A,A,O),this.setMatrix(b,o(this.computedMatrix,A))};var m=[0,0,0];w.pan=function(b,k,h,O){m[0]=-(k||0),m[1]=-(h||0),m[2]=-(O||0),this.recalcMatrix(b);var A=this.computedInverse;p(A,A,m),this.setMatrix(b,o(A,A))},w.translate=function(b,k,h,O){m[0]=k||0,m[1]=h||0,m[2]=O||0,this.recalcMatrix(b);var A=this.computedMatrix;p(A,A,m),this.setMatrix(b,A)},w.setMatrix=function(b,k){if(!(b<this.lastT())){this._time.push(b);for(var h=0;h<16;++h)this._components.push(k[h])}},w.setDistance=function(b,k){this.computedRadius[0]=k},w.setDistanceLimits=function(b,k){var h=this._limits;h[0]=b,h[1]=k},w.getDistanceLimits=function(b){var k=this._limits;return b?(b[0]=k[0],b[1]=k[1],b):k}},3266:function(v,c,i){"use strict";v.exports=function(a){var o=a.length;if(o<3){for(var l=new Array(o),s=0;s<o;++s)l[s]=s;return 2===o&&a[0][0]===a[1][0]&&a[0][1]===a[1][1]?[0]:l}var d=new Array(o);for(s=0;s<o;++s)d[s]=s;d.sort(function(k,h){return a[k][0]-a[h][0]||a[k][1]-a[h][1]});var g=[d[0],d[1]],p=[d[0],d[1]];for(s=2;s<o;++s){for(var T=d[s],_=a[T],y=g.length;y>1&&u(a[g[y-2]],a[g[y-1]],_)<=0;)y-=1,g.pop();for(g.push(T),y=p.length;y>1&&u(a[p[y-2]],a[p[y-1]],_)>=0;)y-=1,p.pop();p.push(T)}l=new Array(p.length+g.length-2);for(var w=0,m=(s=0,g.length);s<m;++s)l[w++]=g[s];for(var b=p.length-2;b>0;--b)l[w++]=p[b];return l};var u=i(417)[3]},6145:function(v,c,i){"use strict";v.exports=function(a,o){o||(o=a,a=window);var l=0,s=0,d=0,g={shift:!1,alt:!1,control:!1,meta:!1},p=!1;function T(I){var P=!1;return"altKey"in I&&(P=P||I.altKey!==g.alt,g.alt=!!I.altKey),"shiftKey"in I&&(P=P||I.shiftKey!==g.shift,g.shift=!!I.shiftKey),"ctrlKey"in I&&(P=P||I.ctrlKey!==g.control,g.control=!!I.ctrlKey),"metaKey"in I&&(P=P||I.metaKey!==g.meta,g.meta=!!I.metaKey),P}function _(I,P){var L=u.x(P),N=u.y(P);"buttons"in P&&(I=0|P.buttons),(I!==l||L!==s||N!==d||T(P))&&(l=0|I,s=L||0,d=N||0,o&&o(l,s,d,g))}function y(I){_(0,I)}function w(){(l||s||d||g.shift||g.alt||g.meta||g.control)&&(s=d=0,l=0,g.shift=g.alt=g.control=g.meta=!1,o&&o(0,0,0,g))}function m(I){T(I)&&o&&o(l,s,d,g)}function b(I){0===u.buttons(I)?_(0,I):_(l,I)}function k(I){_(l|u.buttons(I),I)}function h(I){_(l&~u.buttons(I),I)}function O(){p||(p=!0,a.addEventListener("mousemove",b),a.addEventListener("mousedown",k),a.addEventListener("mouseup",h),a.addEventListener("mouseleave",y),a.addEventListener("mouseenter",y),a.addEventListener("mouseout",y),a.addEventListener("mouseover",y),a.addEventListener("blur",w),a.addEventListener("keyup",m),a.addEventListener("keydown",m),a.addEventListener("keypress",m),a!==window&&(window.addEventListener("blur",w),window.addEventListener("keyup",m),window.addEventListener("keydown",m),window.addEventListener("keypress",m)))}O();var A={element:a};return Object.defineProperties(A,{enabled:{get:function(){return p},set:function(I){I?O():p&&(p=!1,a.removeEventListener("mousemove",b),a.removeEventListener("mousedown",k),a.removeEventListener("mouseup",h),a.removeEventListener("mouseleave",y),a.removeEventListener("mouseenter",y),a.removeEventListener("mouseout",y),a.removeEventListener("mouseover",y),a.removeEventListener("blur",w),a.removeEventListener("keyup",m),a.removeEventListener("keydown",m),a.removeEventListener("keypress",m),a!==window&&(window.removeEventListener("blur",w),window.removeEventListener("keyup",m),window.removeEventListener("keydown",m),window.removeEventListener("keypress",m)))},enumerable:!0},buttons:{get:function(){return l},enumerable:!0},x:{get:function(){return s},enumerable:!0},y:{get:function(){return d},enumerable:!0},mods:{get:function(){return g},enumerable:!0}}),A};var u=i(4110)},2565:function(v){var c={left:0,top:0};v.exports=function(i,u,a){u=u||i.currentTarget||i.srcElement,Array.isArray(a)||(a=[0,0]);var o,l=i.clientX||0,s=i.clientY||0,d=(o=u)===window||o===document||o===document.body?c:o.getBoundingClientRect();return a[0]=l-d.left,a[1]=s-d.top,a}},4110:function(v,c){"use strict";function i(u){return u.target||u.srcElement||window}c.buttons=function(u){if("object"==typeof u){if("buttons"in u)return u.buttons;if("which"in u){if(2===(a=u.which))return 4;if(3===a)return 2;if(a>0)return 1<<a-1}else if("button"in u){var a;if(1===(a=u.button))return 4;if(2===a)return 2;if(a>=0)return 1<<a}}return 0},c.element=i,c.x=function(u){if("object"==typeof u){if("offsetX"in u)return u.offsetX;var a=i(u).getBoundingClientRect();return u.clientX-a.left}return 0},c.y=function(u){if("object"==typeof u){if("offsetY"in u)return u.offsetY;var a=i(u).getBoundingClientRect();return u.clientY-a.top}return 0}},6475:function(v,c,i){"use strict";var u=i(14);v.exports=function(a,o,l){"function"==typeof a&&(l=!!o,o=a,a=window);var s=u("ex",a),d=function(g){l&&g.preventDefault();var p=g.deltaX||0,T=g.deltaY||0,_=g.deltaZ||0,y=1;switch(g.deltaMode){case 1:y=s;break;case 2:y=window.innerHeight}if(T*=y,_*=y,(p*=y)||T||_)return o(p,T,_,g)};return a.addEventListener("wheel",d),d}},9284:function(v,c,i){"use strict";var u=i(5306);v.exports=function(o){function l(_){throw new Error("ndarray-extract-contour: "+_)}"object"!=typeof o&&l("Must specify arguments");var s=o.order;Array.isArray(s)||l("Must specify order");var _,y,w,h,d=o.arrayArguments||1;d<1&&l("Must have at least one array argument"),(o.scalarArguments||0)<0&&l("Scalar arg count must be > 0"),"function"!=typeof o.vertex&&l("Must specify vertex creation function"),"function"!=typeof o.cell&&l("Must specify cell creation function"),"function"!=typeof o.phase&&l("Must specify phase function");for(var g=o.getters||[],p=new Array(d),T=0;T<d;++T)p[T]=g.indexOf(T)>=0;return _=o.vertex,y=o.cell,w=o.phase,h=[p,s].join(","),(0,a[h])(_,y,w,u.mallocUint32,u.freeUint32)};var a={"false,0,1":function(o,l,s,d,g){return function(p,T,_,y){var w,m=0|p.shape[0],b=0|p.shape[1],k=p.data,O=0|p.stride[0],A=0|p.stride[1],I=0|p.offset,P=0|-O,L=0,N=0|-A,B=0,W=-O-A|0,j=0,Z=0|O,V=A-O*m|0,q=0,G=0,H=0,ne=2*m|0,X=d(ne),$=d(ne),Q=0,te=0,re=-1,le=-1,ue=0,he=0|-m,ge=0|m,xe=0,ke=-m-1|0,Ae=m-1|0,pe=0,ye=0,Ne=0;for(q=0;q<m;++q)X[Q++]=s(k[I],T,_,y),I+=Z;if(I+=V,b>0){if(G=1,X[Q++]=s(k[I],T,_,y),I+=Z,m>0)for(q=1,te=X[Q]=s(w=k[I],T,_,y),xe=X[Q+he],pe=X[Q+ke],te===(ue=X[Q+re])&&te===xe&&te===pe||(o(q,G,w,L=k[I+P],B=k[I+N],j=k[I+W],te,ue,xe,pe,T,_,y),ye=$[Q]=H++),Q+=1,I+=Z,q=2;q<m;++q)te=X[Q]=s(w=k[I],T,_,y),xe=X[Q+he],pe=X[Q+ke],te===(ue=X[Q+re])&&te===xe&&te===pe||(o(q,G,w,L=k[I+P],B=k[I+N],j=k[I+W],te,ue,xe,pe,T,_,y),ye=$[Q]=H++,pe!==ue&&l($[Q+re],ye,j,L,pe,ue,T,_,y)),Q+=1,I+=Z;for(I+=V,Q=0,Ne=re,re=le,le=Ne,Ne=he,he=ge,ge=Ne,Ne=ke,ke=Ae,Ae=Ne,G=2;G<b;++G){if(X[Q++]=s(k[I],T,_,y),I+=Z,m>0)for(q=1,te=X[Q]=s(w=k[I],T,_,y),xe=X[Q+he],pe=X[Q+ke],te===(ue=X[Q+re])&&te===xe&&te===pe||(o(q,G,w,L=k[I+P],B=k[I+N],j=k[I+W],te,ue,xe,pe,T,_,y),ye=$[Q]=H++,pe!==xe&&l($[Q+he],ye,B,j,xe,pe,T,_,y)),Q+=1,I+=Z,q=2;q<m;++q)te=X[Q]=s(w=k[I],T,_,y),xe=X[Q+he],pe=X[Q+ke],te===(ue=X[Q+re])&&te===xe&&te===pe||(o(q,G,w,L=k[I+P],B=k[I+N],j=k[I+W],te,ue,xe,pe,T,_,y),ye=$[Q]=H++,pe!==xe&&l($[Q+he],ye,B,j,xe,pe,T,_,y),pe!==ue&&l($[Q+re],ye,j,L,pe,ue,T,_,y)),Q+=1,I+=Z;1&G&&(Q=0),Ne=re,re=le,le=Ne,Ne=he,he=ge,ge=Ne,Ne=ke,ke=Ae,Ae=Ne,I+=V}}g($),g(X)}},"false,1,0":function(o,l,s,d,g){return function(p,T,_,y){var w,m=0|p.shape[0],b=0|p.shape[1],k=p.data,O=0|p.stride[0],A=0|p.stride[1],I=0|p.offset,P=0|-O,L=0,N=0|-A,B=0,W=-O-A|0,j=0,Z=0|A,V=O-A*b|0,q=0,G=0,H=0,ne=2*b|0,X=d(ne),$=d(ne),Q=0,te=0,re=-1,le=-1,ue=0,he=0|-b,ge=0|b,xe=0,ke=-b-1|0,Ae=b-1|0,pe=0,ye=0,Ne=0;for(G=0;G<b;++G)X[Q++]=s(k[I],T,_,y),I+=Z;if(I+=V,m>0){if(q=1,X[Q++]=s(k[I],T,_,y),I+=Z,b>0)for(G=1,te=X[Q]=s(w=k[I],T,_,y),ue=X[Q+re],pe=X[Q+ke],te===(xe=X[Q+he])&&te===ue&&te===pe||(o(q,G,w,L=k[I+P],B=k[I+N],j=k[I+W],te,xe,ue,pe,T,_,y),ye=$[Q]=H++),Q+=1,I+=Z,G=2;G<b;++G)te=X[Q]=s(w=k[I],T,_,y),ue=X[Q+re],pe=X[Q+ke],te===(xe=X[Q+he])&&te===ue&&te===pe||(o(q,G,w,L=k[I+P],B=k[I+N],j=k[I+W],te,xe,ue,pe,T,_,y),ye=$[Q]=H++,pe!==ue&&l($[Q+re],ye,B,j,ue,pe,T,_,y)),Q+=1,I+=Z;for(I+=V,Q=0,Ne=he,he=ge,ge=Ne,Ne=re,re=le,le=Ne,Ne=ke,ke=Ae,Ae=Ne,q=2;q<m;++q){if(X[Q++]=s(k[I],T,_,y),I+=Z,b>0)for(G=1,te=X[Q]=s(w=k[I],T,_,y),ue=X[Q+re],pe=X[Q+ke],te===(xe=X[Q+he])&&te===ue&&te===pe||(o(q,G,w,L=k[I+P],B=k[I+N],j=k[I+W],te,xe,ue,pe,T,_,y),ye=$[Q]=H++,pe!==xe&&l($[Q+he],ye,j,L,pe,xe,T,_,y)),Q+=1,I+=Z,G=2;G<b;++G)te=X[Q]=s(w=k[I],T,_,y),ue=X[Q+re],pe=X[Q+ke],te===(xe=X[Q+he])&&te===ue&&te===pe||(o(q,G,w,L=k[I+P],B=k[I+N],j=k[I+W],te,xe,ue,pe,T,_,y),ye=$[Q]=H++,pe!==ue&&l($[Q+re],ye,B,j,ue,pe,T,_,y),pe!==xe&&l($[Q+he],ye,j,L,pe,xe,T,_,y)),Q+=1,I+=Z;1&q&&(Q=0),Ne=he,he=ge,ge=Ne,Ne=re,re=le,le=Ne,Ne=ke,ke=Ae,Ae=Ne,I+=V}}g($),g(X)}}}},9144:function(v,c,i){"use strict";var u=i(3094),a={zero:function(m,b,k,h){var O=m[0];h|=0;var A=0,I=k[0];for(A=0;A<O;++A)b[h]=0,h+=I},fdTemplate1:function(m,b,k,h,O,A,I){var P=m[0],L=k[0],N=-1*L,B=L;h|=0,I|=0;var W=0,j=L,Z=A[0];for(W=0;W<P;++W)O[I]=.5*(b[h+N]-b[h+B]),h+=j,I+=Z},fdTemplate2:function(m,b,k,h,O,A,I,P,L,N){var B=m[0],W=m[1],j=k[0],Z=k[1],q=A[1],H=L[1],ne=-1*j,X=j,$=-1*Z,Q=Z;h|=0,I|=0,N|=0;var te=0,re=0,le=Z,ue=j-W*Z,he=q,ge=A[0]-W*q,xe=H,ke=L[0]-W*H;for(re=0;re<B;++re){for(te=0;te<W;++te)O[I]=.5*(b[h+ne]-b[h+X]),P[N]=.5*(b[h+$]-b[h+Q]),h+=le,I+=he,N+=xe;h+=ue,I+=ge,N+=ke}}},o={cdiff:function(m){var b={};return function(k,h,O){var A=k.dtype,I=k.order,P=h.dtype,L=h.order,N=O.dtype,B=O.order,W=[A,I.join(),P,L.join(),N,B.join()].join(),j=b[W];return j||(b[W]=j=m([A,I,P,L,N,B])),j(k.shape.slice(0),k.data,k.stride,0|k.offset,h.data,h.stride,0|h.offset,O.data,O.stride,0|O.offset)}},zero:function(m){var b={};return function(k){var h=k.dtype,O=k.order,A=[h,O.join()].join(),I=b[A];return I||(b[A]=I=m([h,O])),I(k.shape.slice(0),k.data,k.stride,0|k.offset)}},fdTemplate1:function(m){var b={};return function(k,h){var O=k.dtype,A=k.order,I=h.dtype,P=h.order,L=[O,A.join(),I,P.join()].join(),N=b[L];return N||(b[L]=N=m([O,A,I,P])),N(k.shape.slice(0),k.data,k.stride,0|k.offset,h.data,h.stride,0|h.offset)}},fdTemplate2:function(m){var b={};return function(k,h,O){var A=k.dtype,I=k.order,P=h.dtype,L=h.order,N=O.dtype,B=O.order,W=[A,I.join(),P,L.join(),N,B.join()].join(),j=b[W];return j||(b[W]=j=m([A,I,P,L,N,B])),j(k.shape.slice(0),k.data,k.stride,0|k.offset,h.data,h.stride,0|h.offset,O.data,O.stride,0|O.offset)}}};function l(m){return(0,o[m.funcName])(s.bind(void 0,m))}function s(m){return a[m.funcName]}function d(m){return l({funcName:m.funcName})}var g={},p={},T=d({funcName:"cdiff"}),_=d({funcName:"zero"});function y(m){return m in g?g[m]:g[m]=d({funcName:"fdTemplate"+m})}function w(m,b,k,h){return function(O,A){var I=A.shape.slice();return I[0]>2&&I[1]>2&&h(A.pick(-1,-1).lo(1,1).hi(I[0]-2,I[1]-2),O.pick(-1,-1,0).lo(1,1).hi(I[0]-2,I[1]-2),O.pick(-1,-1,1).lo(1,1).hi(I[0]-2,I[1]-2)),I[1]>2&&(k(A.pick(0,-1).lo(1).hi(I[1]-2),O.pick(0,-1,1).lo(1).hi(I[1]-2)),b(O.pick(0,-1,0).lo(1).hi(I[1]-2))),I[1]>2&&(k(A.pick(I[0]-1,-1).lo(1).hi(I[1]-2),O.pick(I[0]-1,-1,1).lo(1).hi(I[1]-2)),b(O.pick(I[0]-1,-1,0).lo(1).hi(I[1]-2))),I[0]>2&&(k(A.pick(-1,0).lo(1).hi(I[0]-2),O.pick(-1,0,0).lo(1).hi(I[0]-2)),b(O.pick(-1,0,1).lo(1).hi(I[0]-2))),I[0]>2&&(k(A.pick(-1,I[1]-1).lo(1).hi(I[0]-2),O.pick(-1,I[1]-1,0).lo(1).hi(I[0]-2)),b(O.pick(-1,I[1]-1,1).lo(1).hi(I[0]-2))),O.set(0,0,0,0),O.set(0,0,1,0),O.set(I[0]-1,0,0,0),O.set(I[0]-1,0,1,0),O.set(0,I[1]-1,0,0),O.set(0,I[1]-1,1,0),O.set(I[0]-1,I[1]-1,0,0),O.set(I[0]-1,I[1]-1,1,0),O}}v.exports=function(m,b,k){return Array.isArray(k)||(k=u(b.dimension,"string"==typeof k?k:"clamp")),0===b.size?m:0===b.dimension?(m.set(0),m):function(h){var O=h.join();if(L=p[O])return L;for(var A=h.length,I=[T,_],P=1;P<=A;++P)I.push(y(P));var L=w.apply(void 0,I);return p[O]=L,L}(k)(m,b)}},3581:function(v){"use strict";function c(o,l){var s=Math.floor(l),d=l-s,p=0<=s+1&&s+1<o.shape[0];return(1-d)*(0<=s&&s<o.shape[0]?+o.get(s):0)+d*(p?+o.get(s+1):0)}function i(o,l,s){var d=Math.floor(l),g=l-d,p=0<=d&&d<o.shape[0],T=0<=d+1&&d+1<o.shape[0],_=Math.floor(s),y=s-_,w=0<=_&&_<o.shape[1],m=0<=_+1&&_+1<o.shape[1],b=p&&w?o.get(d,_):0,k=p&&m?o.get(d,_+1):0;return(1-y)*((1-g)*b+g*(T&&w?o.get(d+1,_):0))+y*((1-g)*k+g*(T&&m?o.get(d+1,_+1):0))}function u(o,l,s,d){var g=Math.floor(l),p=l-g,T=0<=g&&g<o.shape[0],_=0<=g+1&&g+1<o.shape[0],y=Math.floor(s),w=s-y,m=0<=y&&y<o.shape[1],b=0<=y+1&&y+1<o.shape[1],k=Math.floor(d),h=d-k,O=0<=k&&k<o.shape[2],A=0<=k+1&&k+1<o.shape[2],I=T&&m&&O?o.get(g,y,k):0,P=T&&b&&O?o.get(g,y+1,k):0,L=_&&m&&O?o.get(g+1,y,k):0,N=_&&b&&O?o.get(g+1,y+1,k):0,B=T&&m&&A?o.get(g,y,k+1):0,W=T&&b&&A?o.get(g,y+1,k+1):0;return(1-h)*((1-w)*((1-p)*I+p*L)+w*((1-p)*P+p*N))+h*((1-w)*((1-p)*B+p*(_&&m&&A?o.get(g+1,y,k+1):0))+w*((1-p)*W+p*(_&&b&&A?o.get(g+1,y+1,k+1):0)))}function a(o){var l,s,d=0|o.shape.length,g=new Array(d),p=new Array(d),T=new Array(d),_=new Array(d);for(l=0;l<d;++l)s=+arguments[l+1],g[l]=Math.floor(s),p[l]=s-g[l],T[l]=0<=g[l]&&g[l]<o.shape[l],_[l]=0<=g[l]+1&&g[l]+1<o.shape[l];var y,w,m,b=0;e:for(l=0;l<1<<d;++l){for(w=1,m=o.offset,y=0;y<d;++y)if(l&1<<y){if(!_[y])continue e;w*=p[y],m+=o.stride[y]*(g[y]+1)}else{if(!T[y])continue e;w*=1-p[y],m+=o.stride[y]*g[y]}b+=w*o.data[m]}return b}v.exports=function(o,l,s,d){switch(o.shape.length){case 0:return 0;case 1:return c(o,l);case 2:return i(o,l,s);case 3:return u(o,l,s,d);default:return a.apply(void 0,arguments)}},v.exports.d1=c,v.exports.d2=i,v.exports.d3=u},7498:function(v,c){"use strict";var i={"float64,2,1,0":function(){return function(s,d,g,p,T){var _=s[0],y=s[1],w=s[2],b=g[1],k=g[2];p|=0;var h=0,O=0,A=0,I=k,P=b-w*k,L=g[0]-y*b;for(A=0;A<_;++A){for(O=0;O<y;++O){for(h=0;h<w;++h)d[p]/=T,p+=I;p+=P}p+=L}}},"uint8,2,0,1,float64,2,1,0":function(){return function(s,d,g,p,T,_,y,w){for(var m=s[0],b=s[1],k=s[2],h=g[0],O=g[1],A=g[2],I=_[0],P=_[1],L=_[2],N=p|=0,B=y|=0,W=0|s[0];W>0;){W<64?(m=W,W=0):(m=64,W-=64);for(var j=0|s[1];j>0;){j<64?(b=j,j=0):(b=64,j-=64),p=N+W*h+j*O,y=B+W*I+j*P;var Z=0,V=0,q=0,G=A,H=h-k*A,ne=O-m*h,X=L,$=I-k*L,Q=P-m*I;for(q=0;q<b;++q){for(V=0;V<m;++V){for(Z=0;Z<k;++Z)d[p]=T[y]*w,p+=G,y+=X;p+=H,y+=$}p+=ne,y+=Q}}}}},"float32,1,0,float32,1,0":function(){return function(s,d,g,p,T,_,y){var w=s[0],m=s[1],k=g[1],O=_[1];p|=0,y|=0;var A=0,I=0,P=k,L=g[0]-m*k,N=O,B=_[0]-m*O;for(I=0;I<w;++I){for(A=0;A<m;++A)d[p]=T[y],p+=P,y+=N;p+=L,y+=B}}},"float32,1,0,float32,0,1":function(){return function(s,d,g,p,T,_,y){for(var w=s[0],m=s[1],b=g[0],k=g[1],h=_[0],O=_[1],A=p|=0,I=y|=0,P=0|s[1];P>0;){P<64?(m=P,P=0):(m=64,P-=64);for(var L=0|s[0];L>0;){L<64?(w=L,L=0):(w=64,L-=64),p=A+P*k+L*b,y=I+P*O+L*h;var N=0,B=0,W=k,j=b-m*k,Z=O,V=h-m*O;for(B=0;B<w;++B){for(N=0;N<m;++N)d[p]=T[y],p+=W,y+=Z;p+=j,y+=V}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(s,d,g,p,T,_,y){for(var w=s[0],m=s[1],b=s[2],k=g[0],h=g[1],O=g[2],A=_[0],I=_[1],P=_[2],L=p|=0,N=y|=0,B=0|s[2];B>0;){B<64?(b=B,B=0):(b=64,B-=64);for(var W=0|s[0];W>0;){W<64?(w=W,W=0):(w=64,W-=64);for(var j=0|s[1];j>0;){j<64?(m=j,j=0):(m=64,j-=64),p=L+B*O+W*k+j*h,y=N+B*P+W*A+j*I;var Z=0,V=0,q=0,G=O,H=k-b*O,ne=h-w*k,X=P,$=A-b*P,Q=I-w*A;for(q=0;q<m;++q){for(V=0;V<w;++V){for(Z=0;Z<b;++Z)d[p]=T[y],p+=G,y+=X;p+=H,y+=$}p+=ne,y+=Q}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(s,d,g,p,T,_,y){var w=s[0],m=s[1],b=s[2],k=g[0],O=g[2],A=_[0],P=_[2];p|=0,y|=0;var L=0,N=0,B=0,W=O,j=k-b*O,Z=g[1]-w*k,V=P,q=A-b*P,G=_[1]-w*A;for(B=0;B<m;++B){for(N=0;N<w;++N){for(L=0;L<b;++L)d[p]=T[y],p+=W,y+=V;p+=j,y+=q}p+=Z,y+=G}}}},u=function(s,d){var g=d.join(",");return(0,i[g])()},a={mul:function(s){var d={};return function(g,p,T){var _=g.dtype,y=g.order,w=p.dtype,m=p.order,b=T.dtype,k=T.order,h=[_,y.join(),w,m.join(),b,k.join()].join(),O=d[h];return O||(d[h]=O=s([_,y,w,m,b,k])),O(g.shape.slice(0),g.data,g.stride,0|g.offset,p.data,p.stride,0|p.offset,T.data,T.stride,0|T.offset)}},muls:function(s){var d={};return function(g,p,T){var _=g.dtype,y=g.order,w=p.dtype,m=p.order,b=[_,y.join(),w,m.join()].join(),k=d[b];return k||(d[b]=k=s([_,y,w,m])),k(g.shape.slice(0),g.data,g.stride,0|g.offset,p.data,p.stride,0|p.offset,T)}},mulseq:function(s){var d={};return function(g,p){var T=g.dtype,_=g.order,y=[T,_.join()].join(),w=d[y];return w||(d[y]=w=s([T,_])),w(g.shape.slice(0),g.data,g.stride,0|g.offset,p)}},div:function(s){var d={};return function(g,p,T){var _=g.dtype,y=g.order,w=p.dtype,m=p.order,b=T.dtype,k=T.order,h=[_,y.join(),w,m.join(),b,k.join()].join(),O=d[h];return O||(d[h]=O=s([_,y,w,m,b,k])),O(g.shape.slice(0),g.data,g.stride,0|g.offset,p.data,p.stride,0|p.offset,T.data,T.stride,0|T.offset)}},divs:function(s){var d={};return function(g,p,T){var _=g.dtype,y=g.order,w=p.dtype,m=p.order,b=[_,y.join(),w,m.join()].join(),k=d[b];return k||(d[b]=k=s([_,y,w,m])),k(g.shape.slice(0),g.data,g.stride,0|g.offset,p.data,p.stride,0|p.offset,T)}},divseq:function(s){var d={};return function(g,p){var T=g.dtype,_=g.order,y=[T,_.join()].join(),w=d[y];return w||(d[y]=w=s([T,_])),w(g.shape.slice(0),g.data,g.stride,0|g.offset,p)}},assign:function(s){var d={};return function(g,p){var T=g.dtype,_=g.order,y=p.dtype,w=p.order,m=[T,_.join(),y,w.join()].join(),b=d[m];return b||(d[m]=b=s([T,_,y,w])),b(g.shape.slice(0),g.data,g.stride,0|g.offset,p.data,p.stride,0|p.offset)}}};function o(s){return(0,a[(d={funcName:s.funcName}).funcName])(u.bind(void 0,d));var d}var l={mul:"*",div:"/"};(function(){for(var s in l)c[s]=o({funcName:s}),c[s+"s"]=o({funcName:s+"s"}),c[s+"seq"]=o({funcName:s+"seq"})})(),c.assign=o({funcName:"assign"})},7382:function(v,c,i){"use strict";var u=i(5050),a=i(9262);v.exports=function(o,l){for(var s=[],d=o,g=1;Array.isArray(d);)s.push(d.length),g*=d.length,d=d[0];return 0===s.length?u():(l||(l=u(new Float64Array(g),s)),a(l,o),l)}},9262:function(v){"use strict";var c,i;v.exports=(c=function(){return function(c,i,u,a,o){var l=c[0],s=c[1],d=c[2],p=u[1],T=u[2],_=[0,0,0];a|=0;var y=0,w=0,m=0,b=T,k=p-d*T,h=u[0]-s*p;for(m=0;m<l;++m){for(w=0;w<s;++w){for(y=0;y<d;++y){var O,A=o;for(O=0;O<_.length-1;++O)A=A[_[O]];i[a]=A[_[_.length-1]],a+=b,++_[2]}a+=k,_[2]-=d,++_[1]}a+=h,_[1]-=s,++_[0]}}}.bind(void 0,{funcName:"convert"}),i={},function(u,a){var o=u.dtype,l=u.order,s=[o,l.join()].join(),d=i[s];return d||(i[s]=d=c([o,l])),d(u.shape.slice(0),u.data,u.stride,0|u.offset,a)})},8139:function(v,c,i){"use strict";var u=i(5306);function a(d){return"uint32"===d?[u.mallocUint32,u.freeUint32]:null}var o={"uint32,1,0":function(d,g){return function(p,T,_,y,w,m,b,k,h,O,A){var I,P,L,N,B,W,j,Z,V=p*w+y,q=d(k);for(I=p+1;I<=T;++I){for(P=I,L=V+=w,B=0,W=V,N=0;N<k;++N)q[B++]=_[W],W+=h;e:for(;P-- >p;){B=0,W=L-w;t:for(N=0;N<k;++N){if((j=_[W])<(Z=q[B]))break e;if(j>Z)break t;W+=O,B+=A}for(B=L,W=L-w,N=0;N<k;++N)_[B]=_[W],B+=h,W+=h;L-=w}for(B=L,W=0,N=0;N<k;++N)_[B]=q[W++],B+=h}g(q)}}},l={"uint32,1,0":function(d,g,p){return function T(_,y,w,m,b,k,h,O,A,I,P){var L,N,W,j,Z,V,q,G,H,ne,X,$,Q,te,re,le,ue,he,ge,xe,ke,Ae,pe,ye,Ne=(y-_+1)/6|0,be=_+Ne,Ee=y-Ne,Oe=_+y>>1,De=Oe-Ne,oe=Oe+Ne,de=be,_e=De,Me=Oe,Pe=oe,Ue=Ee,Be=_+1,Ve=y-1,ve=!0,Te=0,Ce=0,We=0,Ke=O,Je=g(Ke),ht=g(Ke);ne=b*de,X=b*_e,ye=m;e:for(H=0;H<O;++H){if((We=w[V=ne+ye]-w[q=X+ye])>0){N=de,de=_e,_e=N;break e}if(We<0)break e;ye+=I}ne=b*Pe,X=b*Ue,ye=m;e:for(H=0;H<O;++H){if((We=w[V=ne+ye]-w[q=X+ye])>0){N=Pe,Pe=Ue,Ue=N;break e}if(We<0)break e;ye+=I}ne=b*de,X=b*Me,ye=m;e:for(H=0;H<O;++H){if((We=w[V=ne+ye]-w[q=X+ye])>0){N=de,de=Me,Me=N;break e}if(We<0)break e;ye+=I}ne=b*_e,X=b*Me,ye=m;e:for(H=0;H<O;++H){if((We=w[V=ne+ye]-w[q=X+ye])>0){N=_e,_e=Me,Me=N;break e}if(We<0)break e;ye+=I}ne=b*de,X=b*Pe,ye=m;e:for(H=0;H<O;++H){if((We=w[V=ne+ye]-w[q=X+ye])>0){N=de,de=Pe,Pe=N;break e}if(We<0)break e;ye+=I}ne=b*Me,X=b*Pe,ye=m;e:for(H=0;H<O;++H){if((We=w[V=ne+ye]-w[q=X+ye])>0){N=Me,Me=Pe,Pe=N;break e}if(We<0)break e;ye+=I}ne=b*_e,X=b*Ue,ye=m;e:for(H=0;H<O;++H){if((We=w[V=ne+ye]-w[q=X+ye])>0){N=_e,_e=Ue,Ue=N;break e}if(We<0)break e;ye+=I}ne=b*_e,X=b*Me,ye=m;e:for(H=0;H<O;++H){if((We=w[V=ne+ye]-w[q=X+ye])>0){N=_e,_e=Me,Me=N;break e}if(We<0)break e;ye+=I}ne=b*Pe,X=b*Ue,ye=m;e:for(H=0;H<O;++H){if((We=w[V=ne+ye]-w[q=X+ye])>0){N=Pe,Pe=Ue,Ue=N;break e}if(We<0)break e;ye+=I}for(ne=b*de,X=b*_e,$=b*Me,Q=b*Pe,te=b*Ue,re=b*be,le=b*Oe,ue=b*Ee,pe=0,ye=m,H=0;H<O;++H)V=ne+ye,G=$+ye,he=Q+ye,ge=te+ye,xe=re+ye,ke=le+ye,Ae=ue+ye,Je[pe]=w[q=X+ye],ht[pe]=w[he],ve=ve&&Je[pe]===ht[pe],W=w[G],j=w[ge],w[xe]=w[V],w[ke]=W,w[Ae]=j,++pe,ye+=A;for(ne=b*De,X=b*_,ye=m,H=0;H<O;++H)w[V=ne+ye]=w[q=X+ye],ye+=A;for(ne=b*oe,X=b*y,ye=m,H=0;H<O;++H)w[V=ne+ye]=w[q=X+ye],ye+=A;if(ve)for(Z=Be;Z<=Ve;++Z){for(V=m+Z*b,pe=0,H=0;H<O&&0==(We=w[V]-Je[pe]);++H)pe+=P,V+=I;if(0!==We)if(We<0){if(Z!==Be)for(ne=b*Z,X=b*Be,ye=m,H=0;H<O;++H)L=w[V=ne+ye],w[V]=w[q=X+ye],w[q]=L,ye+=A;++Be}else for(;;){for(V=m+Ve*b,pe=0,H=0;H<O&&0==(We=w[V]-Je[pe]);++H)pe+=P,V+=I;if(!(We>0)){if(We<0){for(ne=b*Z,X=b*Be,$=b*Ve,ye=m,H=0;H<O;++H)G=$+ye,L=w[V=ne+ye],w[V]=w[q=X+ye],w[q]=w[G],w[G]=L,ye+=A;++Be,--Ve;break}for(ne=b*Z,X=b*Ve,ye=m,H=0;H<O;++H)L=w[V=ne+ye],w[V]=w[q=X+ye],w[q]=L,ye+=A;--Ve;break}Ve--}}else for(Z=Be;Z<=Ve;++Z){for(V=m+Z*b,pe=0,H=0;H<O&&0==(Te=w[V]-Je[pe]);++H)pe+=P,V+=I;if(Te<0){if(Z!==Be)for(ne=b*Z,X=b*Be,ye=m,H=0;H<O;++H)L=w[V=ne+ye],w[V]=w[q=X+ye],w[q]=L,ye+=A;++Be}else{for(V=m+Z*b,pe=0,H=0;H<O&&0==(Ce=w[V]-ht[pe]);++H)pe+=P,V+=I;if(Ce>0)for(;;){for(V=m+Ve*b,pe=0,H=0;H<O&&0==(We=w[V]-ht[pe]);++H)pe+=P,V+=I;if(!(We>0)){for(V=m+Ve*b,pe=0,H=0;H<O&&0==(We=w[V]-Je[pe]);++H)pe+=P,V+=I;if(We<0){for(ne=b*Z,X=b*Be,$=b*Ve,ye=m,H=0;H<O;++H)G=$+ye,L=w[V=ne+ye],w[V]=w[q=X+ye],w[q]=w[G],w[G]=L,ye+=A;++Be,--Ve}else{for(ne=b*Z,X=b*Ve,ye=m,H=0;H<O;++H)L=w[V=ne+ye],w[V]=w[q=X+ye],w[q]=L,ye+=A;--Ve}break}if(--Ve<Z)break}}}for(ne=b*_,X=b*(Be-1),pe=0,ye=m,H=0;H<O;++H)w[V=ne+ye]=w[q=X+ye],w[q]=Je[pe],++pe,ye+=A;for(ne=b*y,X=b*(Ve+1),pe=0,ye=m,H=0;H<O;++H)w[V=ne+ye]=w[q=X+ye],w[q]=ht[pe],++pe,ye+=A;if(Be-2-_<=32?d(_,Be-2,w,m,b,k,h,O,A,I,P):T(_,Be-2,w,m,b,k,h,O,A,I,P),y-(Ve+2)<=32?d(Ve+2,y,w,m,b,k,h,O,A,I,P):T(Ve+2,y,w,m,b,k,h,O,A,I,P),ve)return p(Je),void p(ht);if(Be<be&&Ve>Ee){e:for(;;){for(V=m+Be*b,pe=0,ye=m,H=0;H<O;++H){if(w[V]!==Je[pe])break e;++pe,V+=A}++Be}e:for(;;){for(V=m+Ve*b,pe=0,ye=m,H=0;H<O;++H){if(w[V]!==ht[pe])break e;++pe,V+=A}--Ve}for(Z=Be;Z<=Ve;++Z){for(V=m+Z*b,pe=0,H=0;H<O&&0==(Te=w[V]-Je[pe]);++H)pe+=P,V+=I;if(0===Te){if(Z!==Be)for(ne=b*Z,X=b*Be,ye=m,H=0;H<O;++H)L=w[V=ne+ye],w[V]=w[q=X+ye],w[q]=L,ye+=A;++Be}else{for(V=m+Z*b,pe=0,H=0;H<O&&0==(Ce=w[V]-ht[pe]);++H)pe+=P,V+=I;if(0===Ce)for(;;){for(V=m+Ve*b,pe=0,H=0;H<O&&0==(We=w[V]-ht[pe]);++H)pe+=P,V+=I;if(0!==We){for(V=m+Ve*b,pe=0,H=0;H<O&&0==(We=w[V]-Je[pe]);++H)pe+=P,V+=I;if(We<0){for(ne=b*Z,X=b*Be,$=b*Ve,ye=m,H=0;H<O;++H)G=$+ye,L=w[V=ne+ye],w[V]=w[q=X+ye],w[q]=w[G],w[G]=L,ye+=A;++Be,--Ve}else{for(ne=b*Z,X=b*Ve,ye=m,H=0;H<O;++H)L=w[V=ne+ye],w[V]=w[q=X+ye],w[q]=L,ye+=A;--Ve}break}if(--Ve<Z)break}}}}p(Je),p(ht),Ve-Be<=32?d(Be,Ve,w,m,b,k,h,O,A,I,P):T(Be,Ve,w,m,b,k,h,O,A,I,P)}}},s={"uint32,1,0":function(d,g){return function(p){var T=p.data,_=0|p.offset,y=p.shape,w=p.stride,m=0|w[0],b=0|y[0],k=0|w[1],h=0|y[1],O=k,A=k;b<=32?d(0,b-1,T,_,m,k,b,h,O,A,1):g(0,b-1,T,_,m,k,b,h,O,A,1)}}};v.exports=function(d,g){var w,m,b,k,h,p=[g,d].join(","),T=s[p],_=(w=d,b=a(m=g),k=[m,w].join(","),h=o[k],b?h(b[0],b[1]):h()),y=function(w,m,b){var k=a(m),h=[m,w].join(","),O=l[h];return w.length>1&&k?O(b,k[0],k[1]):O(b)}(d,g,_);return T(_,y)}},8729:function(v,c,i){"use strict";var u=i(8139),a={};v.exports=function(o){var l=o.order,s=o.dtype,d=[l,s].join(":"),g=a[d];return g||(a[d]=g=u(l,s)),g(o),o}},5050:function(v,c,i){var u=i(4780),a=typeof Float64Array<"u";function o(p,T){return p[0]-T[0]}function l(){var p,T=this.stride,_=new Array(T.length);for(p=0;p<_.length;++p)_[p]=[Math.abs(T[p]),p];_.sort(o);var y=new Array(_.length);for(p=0;p<y.length;++p)y[p]=_[p][1];return y}var s={T:function(p){function T(y){this.data=y}var _=T.prototype;return _.dtype=p,_.index=function(){return-1},_.size=0,_.dimension=-1,_.shape=_.stride=_.order=[],_.lo=_.hi=_.transpose=_.step=function(){return new T(this.data)},_.get=_.set=function(){},_.pick=function(){return null},function(y){return new T(y)}},0:function(p,T){function _(w,m){this.data=w,this.offset=m}var y=_.prototype;return y.dtype=p,y.index=function(){return this.offset},y.dimension=0,y.size=1,y.shape=y.stride=y.order=[],y.lo=y.hi=y.transpose=y.step=function(){return new _(this.data,this.offset)},y.pick=function(){return T(this.data)},y.valueOf=y.get=function(){return"generic"===p?this.data.get(this.offset):this.data[this.offset]},y.set=function(w){return"generic"===p?this.data.set(this.offset,w):this.data[this.offset]=w},function(w,m,b,k){return new _(w,k)}},1:function(p,T,_){function y(m,b,k,h){this.data=m,this.shape=[b],this.stride=[k],this.offset=0|h}var w=y.prototype;return w.dtype=p,w.dimension=1,Object.defineProperty(w,"size",{get:function(){return this.shape[0]}}),w.order=[0],w.set=function(m,b){return"generic"===p?this.data.set(this.offset+this.stride[0]*m,b):this.data[this.offset+this.stride[0]*m]=b},w.get=function(m){return"generic"===p?this.data.get(this.offset+this.stride[0]*m):this.data[this.offset+this.stride[0]*m]},w.index=function(m){return this.offset+this.stride[0]*m},w.hi=function(m){return new y(this.data,"number"!=typeof m||m<0?this.shape[0]:0|m,this.stride[0],this.offset)},w.lo=function(m){var b=this.offset,k=0,h=this.shape[0],O=this.stride[0];return"number"==typeof m&&m>=0&&(b+=O*(k=0|m),h-=k),new y(this.data,h,O,b)},w.step=function(m){var b=this.shape[0],k=this.stride[0],h=this.offset,O=0,A=Math.ceil;return"number"==typeof m&&((O=0|m)<0?(h+=k*(b-1),b=A(-b/O)):b=A(b/O),k*=O),new y(this.data,b,k,h)},w.transpose=function(m){return new y(this.data,this.shape[m=void 0===m?0:0|m],this.stride[m],this.offset)},w.pick=function(m){var b=[],k=[],h=this.offset;return"number"==typeof m&&m>=0?h=h+this.stride[0]*m|0:(b.push(this.shape[0]),k.push(this.stride[0])),(0,T[b.length+1])(this.data,b,k,h)},function(m,b,k,h){return new y(m,b[0],k[0],h)}},2:function(p,T,_){function y(m,b,k,h,O,A){this.data=m,this.shape=[b,k],this.stride=[h,O],this.offset=0|A}var w=y.prototype;return w.dtype=p,w.dimension=2,Object.defineProperty(w,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(w,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),w.set=function(m,b,k){return"generic"===p?this.data.set(this.offset+this.stride[0]*m+this.stride[1]*b,k):this.data[this.offset+this.stride[0]*m+this.stride[1]*b]=k},w.get=function(m,b){return"generic"===p?this.data.get(this.offset+this.stride[0]*m+this.stride[1]*b):this.data[this.offset+this.stride[0]*m+this.stride[1]*b]},w.index=function(m,b){return this.offset+this.stride[0]*m+this.stride[1]*b},w.hi=function(m,b){return new y(this.data,"number"!=typeof m||m<0?this.shape[0]:0|m,"number"!=typeof b||b<0?this.shape[1]:0|b,this.stride[0],this.stride[1],this.offset)},w.lo=function(m,b){var k=this.offset,h=0,O=this.shape[0],A=this.shape[1],I=this.stride[0],P=this.stride[1];return"number"==typeof m&&m>=0&&(k+=I*(h=0|m),O-=h),"number"==typeof b&&b>=0&&(k+=P*(h=0|b),A-=h),new y(this.data,O,A,I,P,k)},w.step=function(m,b){var k=this.shape[0],h=this.shape[1],O=this.stride[0],A=this.stride[1],I=this.offset,P=0,L=Math.ceil;return"number"==typeof m&&((P=0|m)<0?(I+=O*(k-1),k=L(-k/P)):k=L(k/P),O*=P),"number"==typeof b&&((P=0|b)<0?(I+=A*(h-1),h=L(-h/P)):h=L(h/P),A*=P),new y(this.data,k,h,O,A,I)},w.transpose=function(m,b){var k=this.shape,h=this.stride;return new y(this.data,k[m=void 0===m?0:0|m],k[b=void 0===b?1:0|b],h[m],h[b],this.offset)},w.pick=function(m,b){var k=[],h=[],O=this.offset;return"number"==typeof m&&m>=0?O=O+this.stride[0]*m|0:(k.push(this.shape[0]),h.push(this.stride[0])),"number"==typeof b&&b>=0?O=O+this.stride[1]*b|0:(k.push(this.shape[1]),h.push(this.stride[1])),(0,T[k.length+1])(this.data,k,h,O)},function(m,b,k,h){return new y(m,b[0],b[1],k[0],k[1],h)}},3:function(p,T,_){function y(m,b,k,h,O,A,I,P){this.data=m,this.shape=[b,k,h],this.stride=[O,A,I],this.offset=0|P}var w=y.prototype;return w.dtype=p,w.dimension=3,Object.defineProperty(w,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(w,"order",{get:function(){var m=Math.abs(this.stride[0]),b=Math.abs(this.stride[1]),k=Math.abs(this.stride[2]);return m>b?b>k?[2,1,0]:m>k?[1,2,0]:[1,0,2]:m>k?[2,0,1]:k>b?[0,1,2]:[0,2,1]}}),w.set=function(m,b,k,h){return"generic"===p?this.data.set(this.offset+this.stride[0]*m+this.stride[1]*b+this.stride[2]*k,h):this.data[this.offset+this.stride[0]*m+this.stride[1]*b+this.stride[2]*k]=h},w.get=function(m,b,k){return"generic"===p?this.data.get(this.offset+this.stride[0]*m+this.stride[1]*b+this.stride[2]*k):this.data[this.offset+this.stride[0]*m+this.stride[1]*b+this.stride[2]*k]},w.index=function(m,b,k){return this.offset+this.stride[0]*m+this.stride[1]*b+this.stride[2]*k},w.hi=function(m,b,k){return new y(this.data,"number"!=typeof m||m<0?this.shape[0]:0|m,"number"!=typeof b||b<0?this.shape[1]:0|b,"number"!=typeof k||k<0?this.shape[2]:0|k,this.stride[0],this.stride[1],this.stride[2],this.offset)},w.lo=function(m,b,k){var h=this.offset,O=0,A=this.shape[0],I=this.shape[1],P=this.shape[2],L=this.stride[0],N=this.stride[1],B=this.stride[2];return"number"==typeof m&&m>=0&&(h+=L*(O=0|m),A-=O),"number"==typeof b&&b>=0&&(h+=N*(O=0|b),I-=O),"number"==typeof k&&k>=0&&(h+=B*(O=0|k),P-=O),new y(this.data,A,I,P,L,N,B,h)},w.step=function(m,b,k){var h=this.shape[0],O=this.shape[1],A=this.shape[2],I=this.stride[0],P=this.stride[1],L=this.stride[2],N=this.offset,B=0,W=Math.ceil;return"number"==typeof m&&((B=0|m)<0?(N+=I*(h-1),h=W(-h/B)):h=W(h/B),I*=B),"number"==typeof b&&((B=0|b)<0?(N+=P*(O-1),O=W(-O/B)):O=W(O/B),P*=B),"number"==typeof k&&((B=0|k)<0?(N+=L*(A-1),A=W(-A/B)):A=W(A/B),L*=B),new y(this.data,h,O,A,I,P,L,N)},w.transpose=function(m,b,k){var h=this.shape,O=this.stride;return new y(this.data,h[m=void 0===m?0:0|m],h[b=void 0===b?1:0|b],h[k=void 0===k?2:0|k],O[m],O[b],O[k],this.offset)},w.pick=function(m,b,k){var h=[],O=[],A=this.offset;return"number"==typeof m&&m>=0?A=A+this.stride[0]*m|0:(h.push(this.shape[0]),O.push(this.stride[0])),"number"==typeof b&&b>=0?A=A+this.stride[1]*b|0:(h.push(this.shape[1]),O.push(this.stride[1])),"number"==typeof k&&k>=0?A=A+this.stride[2]*k|0:(h.push(this.shape[2]),O.push(this.stride[2])),(0,T[h.length+1])(this.data,h,O,A)},function(m,b,k,h){return new y(m,b[0],b[1],b[2],k[0],k[1],k[2],h)}},4:function(p,T,_){function y(m,b,k,h,O,A,I,P,L,N){this.data=m,this.shape=[b,k,h,O],this.stride=[A,I,P,L],this.offset=0|N}var w=y.prototype;return w.dtype=p,w.dimension=4,Object.defineProperty(w,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(w,"order",{get:_}),w.set=function(m,b,k,h,O){return"generic"===p?this.data.set(this.offset+this.stride[0]*m+this.stride[1]*b+this.stride[2]*k+this.stride[3]*h,O):this.data[this.offset+this.stride[0]*m+this.stride[1]*b+this.stride[2]*k+this.stride[3]*h]=O},w.get=function(m,b,k,h){return"generic"===p?this.data.get(this.offset+this.stride[0]*m+this.stride[1]*b+this.stride[2]*k+this.stride[3]*h):this.data[this.offset+this.stride[0]*m+this.stride[1]*b+this.stride[2]*k+this.stride[3]*h]},w.index=function(m,b,k,h){return this.offset+this.stride[0]*m+this.stride[1]*b+this.stride[2]*k+this.stride[3]*h},w.hi=function(m,b,k,h){return new y(this.data,"number"!=typeof m||m<0?this.shape[0]:0|m,"number"!=typeof b||b<0?this.shape[1]:0|b,"number"!=typeof k||k<0?this.shape[2]:0|k,"number"!=typeof h||h<0?this.shape[3]:0|h,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},w.lo=function(m,b,k,h){var O=this.offset,A=0,I=this.shape[0],P=this.shape[1],L=this.shape[2],N=this.shape[3],B=this.stride[0],W=this.stride[1],j=this.stride[2],Z=this.stride[3];return"number"==typeof m&&m>=0&&(O+=B*(A=0|m),I-=A),"number"==typeof b&&b>=0&&(O+=W*(A=0|b),P-=A),"number"==typeof k&&k>=0&&(O+=j*(A=0|k),L-=A),"number"==typeof h&&h>=0&&(O+=Z*(A=0|h),N-=A),new y(this.data,I,P,L,N,B,W,j,Z,O)},w.step=function(m,b,k,h){var O=this.shape[0],A=this.shape[1],I=this.shape[2],P=this.shape[3],L=this.stride[0],N=this.stride[1],B=this.stride[2],W=this.stride[3],j=this.offset,Z=0,V=Math.ceil;return"number"==typeof m&&((Z=0|m)<0?(j+=L*(O-1),O=V(-O/Z)):O=V(O/Z),L*=Z),"number"==typeof b&&((Z=0|b)<0?(j+=N*(A-1),A=V(-A/Z)):A=V(A/Z),N*=Z),"number"==typeof k&&((Z=0|k)<0?(j+=B*(I-1),I=V(-I/Z)):I=V(I/Z),B*=Z),"number"==typeof h&&((Z=0|h)<0?(j+=W*(P-1),P=V(-P/Z)):P=V(P/Z),W*=Z),new y(this.data,O,A,I,P,L,N,B,W,j)},w.transpose=function(m,b,k,h){var O=this.shape,A=this.stride;return new y(this.data,O[m=void 0===m?0:0|m],O[b=void 0===b?1:0|b],O[k=void 0===k?2:0|k],O[h=void 0===h?3:0|h],A[m],A[b],A[k],A[h],this.offset)},w.pick=function(m,b,k,h){var O=[],A=[],I=this.offset;return"number"==typeof m&&m>=0?I=I+this.stride[0]*m|0:(O.push(this.shape[0]),A.push(this.stride[0])),"number"==typeof b&&b>=0?I=I+this.stride[1]*b|0:(O.push(this.shape[1]),A.push(this.stride[1])),"number"==typeof k&&k>=0?I=I+this.stride[2]*k|0:(O.push(this.shape[2]),A.push(this.stride[2])),"number"==typeof h&&h>=0?I=I+this.stride[3]*h|0:(O.push(this.shape[3]),A.push(this.stride[3])),(0,T[O.length+1])(this.data,O,A,I)},function(m,b,k,h){return new y(m,b[0],b[1],b[2],b[3],k[0],k[1],k[2],k[3],h)}},5:function(p,T,_){function y(m,b,k,h,O,A,I,P,L,N,B,W){this.data=m,this.shape=[b,k,h,O,A],this.stride=[I,P,L,N,B],this.offset=0|W}var w=y.prototype;return w.dtype=p,w.dimension=5,Object.defineProperty(w,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(w,"order",{get:_}),w.set=function(m,b,k,h,O,A){return"generic"===p?this.data.set(this.offset+this.stride[0]*m+this.stride[1]*b+this.stride[2]*k+this.stride[3]*h+this.stride[4]*O,A):this.data[this.offset+this.stride[0]*m+this.stride[1]*b+this.stride[2]*k+this.stride[3]*h+this.stride[4]*O]=A},w.get=function(m,b,k,h,O){return"generic"===p?this.data.get(this.offset+this.stride[0]*m+this.stride[1]*b+this.stride[2]*k+this.stride[3]*h+this.stride[4]*O):this.data[this.offset+this.stride[0]*m+this.stride[1]*b+this.stride[2]*k+this.stride[3]*h+this.stride[4]*O]},w.index=function(m,b,k,h,O){return this.offset+this.stride[0]*m+this.stride[1]*b+this.stride[2]*k+this.stride[3]*h+this.stride[4]*O},w.hi=function(m,b,k,h,O){return new y(this.data,"number"!=typeof m||m<0?this.shape[0]:0|m,"number"!=typeof b||b<0?this.shape[1]:0|b,"number"!=typeof k||k<0?this.shape[2]:0|k,"number"!=typeof h||h<0?this.shape[3]:0|h,"number"!=typeof O||O<0?this.shape[4]:0|O,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},w.lo=function(m,b,k,h,O){var A=this.offset,I=0,P=this.shape[0],L=this.shape[1],N=this.shape[2],B=this.shape[3],W=this.shape[4],j=this.stride[0],Z=this.stride[1],V=this.stride[2],q=this.stride[3],G=this.stride[4];return"number"==typeof m&&m>=0&&(A+=j*(I=0|m),P-=I),"number"==typeof b&&b>=0&&(A+=Z*(I=0|b),L-=I),"number"==typeof k&&k>=0&&(A+=V*(I=0|k),N-=I),"number"==typeof h&&h>=0&&(A+=q*(I=0|h),B-=I),"number"==typeof O&&O>=0&&(A+=G*(I=0|O),W-=I),new y(this.data,P,L,N,B,W,j,Z,V,q,G,A)},w.step=function(m,b,k,h,O){var A=this.shape[0],I=this.shape[1],P=this.shape[2],L=this.shape[3],N=this.shape[4],B=this.stride[0],W=this.stride[1],j=this.stride[2],Z=this.stride[3],V=this.stride[4],q=this.offset,G=0,H=Math.ceil;return"number"==typeof m&&((G=0|m)<0?(q+=B*(A-1),A=H(-A/G)):A=H(A/G),B*=G),"number"==typeof b&&((G=0|b)<0?(q+=W*(I-1),I=H(-I/G)):I=H(I/G),W*=G),"number"==typeof k&&((G=0|k)<0?(q+=j*(P-1),P=H(-P/G)):P=H(P/G),j*=G),"number"==typeof h&&((G=0|h)<0?(q+=Z*(L-1),L=H(-L/G)):L=H(L/G),Z*=G),"number"==typeof O&&((G=0|O)<0?(q+=V*(N-1),N=H(-N/G)):N=H(N/G),V*=G),new y(this.data,A,I,P,L,N,B,W,j,Z,V,q)},w.transpose=function(m,b,k,h,O){var A=this.shape,I=this.stride;return new y(this.data,A[m=void 0===m?0:0|m],A[b=void 0===b?1:0|b],A[k=void 0===k?2:0|k],A[h=void 0===h?3:0|h],A[O=void 0===O?4:0|O],I[m],I[b],I[k],I[h],I[O],this.offset)},w.pick=function(m,b,k,h,O){var A=[],I=[],P=this.offset;return"number"==typeof m&&m>=0?P=P+this.stride[0]*m|0:(A.push(this.shape[0]),I.push(this.stride[0])),"number"==typeof b&&b>=0?P=P+this.stride[1]*b|0:(A.push(this.shape[1]),I.push(this.stride[1])),"number"==typeof k&&k>=0?P=P+this.stride[2]*k|0:(A.push(this.shape[2]),I.push(this.stride[2])),"number"==typeof h&&h>=0?P=P+this.stride[3]*h|0:(A.push(this.shape[3]),I.push(this.stride[3])),"number"==typeof O&&O>=0?P=P+this.stride[4]*O|0:(A.push(this.shape[4]),I.push(this.stride[4])),(0,T[A.length+1])(this.data,A,I,P)},function(m,b,k,h){return new y(m,b[0],b[1],b[2],b[3],b[4],k[0],k[1],k[2],k[3],k[4],h)}}};function d(p,T){var _=-1===T?"T":String(T),y=s[_];return-1===T?y(p):0===T?y(p,g[p][0]):y(p,g[p],l)}var g={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};v.exports=function(p,T,_,y){if(void 0===p)return(0,g.array[0])([]);"number"==typeof p&&(p=[p]),void 0===T&&(T=[p.length]);var w=T.length;if(void 0===_){_=new Array(w);for(var m=w-1,b=1;m>=0;--m)_[m]=b,b*=T[m]}if(void 0===y)for(y=0,m=0;m<w;++m)_[m]<0&&(y-=(T[m]-1)*_[m]);for(var k=function(O){if(u(O))return"buffer";if(a)switch(Object.prototype.toString.call(O)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(O)?"array":"generic"}(p),h=g[k];h.length<=w+1;)h.push(d(k,h.length-1));return(0,h[w+1])(p,T,_,y)}},8551:function(v,c,i){"use strict";var u=i(8362),a=Math.pow(2,-1074),o=-1>>>0;v.exports=function(l,s){if(isNaN(l)||isNaN(s))return NaN;if(l===s)return l;if(0===l)return s<0?-a:a;var d=u.hi(l),g=u.lo(l);return s>l==l>0?g===o?(d+=1,g=0):g+=1:0===g?(g=o,d-=1):g-=1,u.pack(g,d)}},115:function(v,c){c.vertexNormals=function(i,u,a){for(var o=u.length,l=new Array(o),s=void 0===a?1e-6:a,d=0;d<o;++d)l[d]=[0,0,0];for(d=0;d<i.length;++d)for(var g=i[d],T=g[g.length-1],_=g[0],y=0;y<g.length;++y){for(var w=u[T],m=u[T=_],b=u[_=g[(y+1)%g.length]],k=new Array(3),h=0,O=new Array(3),A=0,I=0;I<3;++I)k[I]=w[I]-m[I],h+=k[I]*k[I],O[I]=b[I]-m[I],A+=O[I]*O[I];if(h*A>s){var P=l[T],L=1/Math.sqrt(h*A);for(I=0;I<3;++I){var N=(I+1)%3,B=(I+2)%3;P[I]+=L*(O[N]*k[B]-O[B]*k[N])}}}for(d=0;d<o;++d){P=l[d];var W=0;for(I=0;I<3;++I)W+=P[I]*P[I];if(W>s)for(L=1/Math.sqrt(W),I=0;I<3;++I)P[I]*=L;else for(I=0;I<3;++I)P[I]=0}return l},c.faceNormals=function(i,u,a){for(var o=i.length,l=new Array(o),s=void 0===a?1e-6:a,d=0;d<o;++d){for(var g=i[d],p=new Array(3),T=0;T<3;++T)p[T]=u[g[T]];var _=new Array(3),y=new Array(3);for(T=0;T<3;++T)_[T]=p[1][T]-p[0][T],y[T]=p[2][T]-p[0][T];var w=new Array(3),m=0;for(T=0;T<3;++T){var b=(T+1)%3,k=(T+2)%3;w[T]=_[b]*y[k]-_[k]*y[b],m+=w[T]*w[T]}for(m=m>s?1/Math.sqrt(m):0,T=0;T<3;++T)w[T]*=m;l[d]=w}return l}},567:function(v){"use strict";v.exports=function(c,i,u,a,o,l,s,d,g,p){var T=i+l+p;if(_>0){var _=Math.sqrt(T+1);c[0]=.5*(s-g)/_,c[1]=.5*(d-a)/_,c[2]=.5*(u-l)/_,c[3]=.5*_}else{var y=Math.max(i,l,p);_=Math.sqrt(2*y-T+1),i>=y?(c[0]=.5*_,c[1]=.5*(o+u)/_,c[2]=.5*(d+a)/_,c[3]=.5*(s-g)/_):l>=y?(c[0]=.5*(u+o)/_,c[1]=.5*_,c[2]=.5*(g+s)/_,c[3]=.5*(d-a)/_):(c[0]=.5*(a+d)/_,c[1]=.5*(s+g)/_,c[2]=.5*_,c[3]=.5*(u-o)/_)}return c}},7774:function(v,c,i){"use strict";v.exports=function(y){var w=(y=y||{}).center||[0,0,0],m=y.rotation||[0,0,0,1],b=y.radius||1;w=[].slice.call(w,0,3),p(m=[].slice.call(m,0,4),m);var k=new T(m,w,Math.log(b));return k.setDistanceLimits(y.zoomMin,y.zoomMax),("eye"in y||"up"in y)&&k.lookAt(0,y.eye,y.center,y.up),k};var u=i(8444),a=i(3012),o=i(5950),l=i(7437),s=i(567);function d(y,w,m){return Math.sqrt(Math.pow(y,2)+Math.pow(w,2)+Math.pow(m,2))}function g(y,w,m,b){return Math.sqrt(Math.pow(y,2)+Math.pow(w,2)+Math.pow(m,2)+Math.pow(b,2))}function p(y,w){var m=w[0],b=w[1],k=w[2],h=w[3],O=g(m,b,k,h);O>1e-6?(y[0]=m/O,y[1]=b/O,y[2]=k/O,y[3]=h/O):(y[0]=y[1]=y[2]=0,y[3]=1)}function T(y,w,m){this.radius=u([m]),this.center=u(w),this.rotation=u(y),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var _=T.prototype;_.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},_.recalcMatrix=function(y){this.radius.curve(y),this.center.curve(y),this.rotation.curve(y);var w=this.computedRotation;p(w,w);var m=this.computedMatrix;o(m,w);var b=this.computedCenter,k=this.computedEye,h=this.computedUp,O=Math.exp(this.computedRadius[0]);k[0]=b[0]+O*m[2],k[1]=b[1]+O*m[6],k[2]=b[2]+O*m[10],h[0]=m[1],h[1]=m[5],h[2]=m[9];for(var A=0;A<3;++A){for(var I=0,P=0;P<3;++P)I+=m[A+4*P]*k[P];m[12+A]=-I}},_.getMatrix=function(y,w){this.recalcMatrix(y);var m=this.computedMatrix;if(w){for(var b=0;b<16;++b)w[b]=m[b];return w}return m},_.idle=function(y){this.center.idle(y),this.radius.idle(y),this.rotation.idle(y)},_.flush=function(y){this.center.flush(y),this.radius.flush(y),this.rotation.flush(y)},_.pan=function(y,w,m,b){w=w||0,m=m||0,b=b||0,this.recalcMatrix(y);var k=this.computedMatrix,h=k[1],O=k[5],A=k[9],I=d(h,O,A),P=k[0],L=k[4],N=k[8],B=P*(h/=I)+L*(O/=I)+N*(A/=I),W=d(P-=h*B,L-=O*B,N-=A*B),j=k[2],Z=k[6],V=k[10],q=j*h+Z*O+V*A,G=j*(P/=W)+Z*(L/=W)+V*(N/=W),H=d(j-=q*h+G*P,Z-=q*O+G*L,V-=q*A+G*N);j/=H,Z/=H,V/=H,this.center.move(y,P*w+h*m,L*w+O*m,N*w+A*m);var Q=Math.exp(this.computedRadius[0]);Q=Math.max(1e-4,Q+b),this.radius.set(y,Math.log(Q))},_.rotate=function(y,w,m,b){this.recalcMatrix(y);var k=this.computedMatrix,N=k[2],B=k[6],W=k[10],j=(w=w||0)*k[0]+(m=m||0)*k[1],Z=w*k[4]+m*k[5],V=w*k[8]+m*k[9],q=-(B*V-W*Z),G=-(W*j-N*V),H=-(N*Z-B*j),ne=Math.sqrt(Math.max(0,1-Math.pow(q,2)-Math.pow(G,2)-Math.pow(H,2))),X=g(q,G,H,ne);X>1e-6?(q/=X,G/=X,H/=X,ne/=X):(q=G=H=0,ne=1);var $=this.computedRotation,Q=$[0],te=$[1],re=$[2],le=$[3],ue=Q*ne+le*q+te*H-re*G,he=te*ne+le*G+re*q-Q*H,ge=re*ne+le*H+Q*G-te*q,xe=le*ne-Q*q-te*G-re*H;if(b){q=N,G=B,H=W;var ke=Math.sin(b)/d(q,G,H);q*=ke,G*=ke,H*=ke,xe=xe*(ne=Math.cos(w))-(ue=ue*ne+xe*q+he*H-ge*G)*q-(he=he*ne+xe*G+ge*q-ue*H)*G-(ge=ge*ne+xe*H+ue*G-he*q)*H}var Ae=g(ue,he,ge,xe);Ae>1e-6?(ue/=Ae,he/=Ae,ge/=Ae,xe/=Ae):(ue=he=ge=0,xe=1),this.rotation.set(y,ue,he,ge,xe)},_.lookAt=function(y,w,m,b){this.recalcMatrix(y);var k=this.computedMatrix;a(k,w=w||this.computedEye,m=m||this.computedCenter,b=b||this.computedUp);var h=this.computedRotation;s(h,k[0],k[1],k[2],k[4],k[5],k[6],k[8],k[9],k[10]),p(h,h),this.rotation.set(y,h[0],h[1],h[2],h[3]);for(var O=0,A=0;A<3;++A)O+=Math.pow(m[A]-w[A],2);this.radius.set(y,.5*Math.log(Math.max(O,1e-6))),this.center.set(y,m[0],m[1],m[2])},_.translate=function(y,w,m,b){this.center.move(y,w||0,m||0,b||0)},_.setMatrix=function(y,w){var m=this.computedRotation;s(m,w[0],w[1],w[2],w[4],w[5],w[6],w[8],w[9],w[10]),p(m,m),this.rotation.set(y,m[0],m[1],m[2],m[3]);var b=this.computedMatrix;l(b,w);var k=b[15];if(Math.abs(k)>1e-6){var h=b[12]/k,O=b[13]/k,A=b[14]/k;this.recalcMatrix(y);var I=Math.exp(this.computedRadius[0]);this.center.set(y,h-b[2]*I,O-b[6]*I,A-b[10]*I),this.radius.idle(y)}else this.center.idle(y),this.radius.idle(y)},_.setDistance=function(y,w){w>0&&this.radius.set(y,Math.log(w))},_.setDistanceLimits=function(y,w){y=y>0?Math.log(y):-1/0,w=w>0?Math.log(w):1/0,w=Math.max(w,y),this.radius.bounds[0][0]=y,this.radius.bounds[1][0]=w},_.getDistanceLimits=function(y){var w=this.radius.bounds;return y?(y[0]=Math.exp(w[0][0]),y[1]=Math.exp(w[1][0]),y):[Math.exp(w[0][0]),Math.exp(w[1][0])]},_.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},_.fromJSON=function(y){var w=this.lastT(),m=y.center;m&&this.center.set(w,m[0],m[1],m[2]);var b=y.rotation;b&&this.rotation.set(w,b[0],b[1],b[2],b[3]);var k=y.distance;k&&k>0&&this.radius.set(w,Math.log(k)),this.setDistanceLimits(y.zoomMin,y.zoomMax)}},4930:function(v,c,i){"use strict";var u=i(6184);v.exports=function(a,o,l){return u(l=void 0!==l?l+"":" ",o)+a}},4405:function(v){v.exports=function(c,i){i||(i=[0,""]),c=String(c);var u=parseFloat(c,10);return i[0]=u,i[1]=c.match(/[\d.\-\+]*\s*(.*)/)[1]||"",i}},4166:function(v,c,i){"use strict";v.exports=function(a,o){for(var l=0|o.length,s=a.length,d=[new Array(l),new Array(l)],g=0;g<l;++g)d[0][g]=[],d[1][g]=[];for(g=0;g<s;++g){var p=a[g];d[0][p[0]].push(p),d[1][p[1]].push(p)}var A,T=[];for(g=0;g<l;++g)d[0][g].length+d[1][g].length===0&&T.push([g]);function _(O,A){var I=d[A][O[A]];I.splice(I.indexOf(O),1)}function y(O,A,I){for(var P,L,N,B=0;B<2;++B)if(d[B][A].length>0){P=d[B][A][0],N=B;break}L=P[1^N];for(var W=0;W<2;++W)for(var j=d[W][A],Z=0;Z<j.length;++Z){var V=j[Z],q=V[1^W];u(o[O],o[A],o[L],o[q])>0&&(P=V,L=q,N=W)}return I||P&&_(P,N),L}function w(O,A){var I=d[A][O][0],P=[O];_(I,A);for(var L=I[1^A];;){for(;L!==O;)P.push(L),L=y(P[P.length-2],L,!1);if(d[0][O].length+d[1][O].length===0)break;var N=P[P.length-1],B=O,W=P[1],j=y(N,B,!0);if(u(o[N],o[B],o[W],o[j])<0)break;P.push(O),L=y(N,B)}return P}for(g=0;g<l;++g)for(var b=0;b<2;++b){for(var k=[];d[b][g].length>0;){var h=w(g,b);(A=h)[1]===A[A.length-1]?k.push.apply(k,h):(k.length>0&&T.push(k),k=h)}k.length>0&&T.push(k)}return T};var u=i(9398)},3959:function(v,c,i){"use strict";v.exports=function(a,o){for(var l=u(a,o.length),s=new Array(o.length),d=new Array(o.length),g=[],p=0;p<o.length;++p){var T=l[p].length;d[p]=T,s[p]=!0,T<=1&&g.push(p)}for(;g.length>0;){var _=g.pop();s[_]=!1;var y=l[_];for(p=0;p<y.length;++p){var w=y[p];0==--d[w]&&g.push(w)}}var m=new Array(o.length),b=[];for(p=0;p<o.length;++p)s[p]?(m[p]=_=b.length,b.push(o[p])):m[p]=-1;var k=[];for(p=0;p<a.length;++p){var h=a[p];s[h[0]]&&s[h[1]]&&k.push([m[h[0]],m[h[1]]])}return[k,b]};var u=i(8348)},8040:function(v,c,i){"use strict";v.exports=function(T,_){for(var y=g(T,_),w=(_=y[1]).length,m=u(T=y[0],_.length),b=0;b<w;++b)if(m[b].length%2==1)throw new Error("planar-graph-to-polyline: graph must be manifold");var k=a(T,_),h=(k=k.filter(function(Ne){for(var be=Ne.length,Ee=[0],Oe=0;Oe<be;++Oe){var De=_[Ne[Oe]],oe=_[Ne[(Oe+1)%be]],de=l(-De[0],De[1]),_e=l(-De[0],oe[1]),Me=l(oe[0],De[1]),Pe=l(oe[0],oe[1]);Ee=s(Ee,s(s(de,_e),s(Me,Pe)))}return Ee[Ee.length-1]>0})).length,O=new Array(h),A=new Array(h);for(b=0;b<h;++b){O[b]=b;var I=new Array(h),P=k[b].map(function(Ne){return _[Ne]}),L=o([P]),N=0;e:for(var B=0;B<h;++B)if(I[B]=0,b!==B){for(var W=(pe=k[B]).length,j=0;j<W;++j){var Z=L(_[pe[j]]);if(0!==Z){Z<0&&(I[B]=1,N+=1);continue e}}I[B]=1,N+=1}A[b]=[N,b,I]}for(A.sort(function(Ne,be){return be[0]-Ne[0]}),b=0;b<h;++b){var V=(I=A[b])[1],q=I[2];for(B=0;B<h;++B)q[B]&&(O[B]=V)}var G=function(Ne){for(var be=new Array(Ne),Ee=0;Ee<Ne;++Ee)be[Ee]=[];return be}(h);for(b=0;b<h;++b)G[b].push(O[b]),G[O[b]].push(b);var H={},ne=p(w,!1);for(b=0;b<h;++b)for(W=(pe=k[b]).length,B=0;B<W;++B){var X=pe[B],$=pe[(B+1)%W],Q=Math.min(X,$)+":"+Math.max(X,$);if(Q in H){var te=H[Q];G[te].push(b),G[b].push(te),ne[X]=ne[$]=!0}else H[Q]=b}function re(Ne){for(var be=Ne.length,Ee=0;Ee<be;++Ee)if(!ne[Ne[Ee]])return!1;return!0}var le=[],ue=p(h,-1);for(b=0;b<h;++b)O[b]!==b||re(k[b])?ue[b]=-1:(le.push(b),ue[b]=0);for(y=[];le.length>0;){var he=le.pop(),ge=G[he];d(ge,function(Ne,be){return Ne-be});var xe,ke=ge.length,Ae=ue[he];if(0===Ae){var pe=k[he];xe=[pe]}for(b=0;b<ke;++b){var ye=ge[b];ue[ye]>=0||(ue[ye]=1^Ae,le.push(ye),0===Ae&&(re(pe=k[ye])||(pe.reverse(),xe.push(pe))))}0===Ae&&y.push(xe)}return y};var u=i(8348),a=i(4166),o=i(211),l=i(9660),s=i(9662),d=i(1215),g=i(3959);function p(T,_){for(var y=new Array(T),w=0;w<T;++w)y[w]=_;return y}},211:function(v,c,i){v.exports=function(p){for(var T=p.length,_=[],y=[],w=0;w<T;++w)for(var m=p[w],b=m.length,k=b-1,h=0;h<b;k=h++){var O=m[k],A=m[h];O[0]===A[0]?y.push([O,A]):_.push([O,A])}if(0===_.length)return 0===y.length?g:(I=d(y),function(N){return I(N[0],N[1])?0:1});var I,N,B,P=a(_),L=(N=P.slabs,B=P.coordinates,function(W){var j=l.le(B,W[0]);if(j<0)return 1;var Z=N[j];if(!Z){if(!(j>0&&B[j]===W[0]))return 1;Z=N[j-1]}for(var V=1;Z;){var q=Z.key,G=u(W,q[0],q[1]);if(q[0][0]<q[1][0])if(G<0)Z=Z.left;else{if(!(G>0))return 0;V=-1,Z=Z.right}else if(G>0)Z=Z.left;else{if(!(G<0))return 0;V=1,Z=Z.right}}return V});return 0===y.length?L:function(N,B){return function(W){return N(W[0],W[1])?0:B(W)}}(d(y),L)};var u=i(417)[3],a=i(4385),o=i(9014),l=i(5070);function s(){return!0}function d(p){for(var T={},_=0;_<p.length;++_){var y=p[_],w=y[0][0],m=y[0][1],b=y[1][1],k=[Math.min(m,b),Math.max(m,b)];w in T?T[w].push(k):T[w]=[k]}var I,h={},O=Object.keys(T);for(_=0;_<O.length;++_)h[O[_]]=o(T[O[_]]);return I=h,function(P,L){var N=I[P];return!!N&&!!N.queryPoint(L,s)}}function g(p){return 1}},7309:function(v){"use strict";var c=new Float64Array(4),i=new Float64Array(4),u=new Float64Array(4);v.exports=function(a,o,l,s,d){c.length<s.length&&(c=new Float64Array(s.length),i=new Float64Array(s.length),u=new Float64Array(s.length));for(var g=0;g<s.length;++g)c[g]=a[g]-s[g],i[g]=o[g]-a[g],u[g]=l[g]-a[g];var p=0,T=0,_=0,y=0,w=0,m=0;for(g=0;g<s.length;++g){var b=i[g],k=u[g],h=c[g];p+=b*b,T+=b*k,_+=k*k,y+=h*b,w+=h*k,m+=h*h}var O,A,I,P,L,N=Math.abs(p*_-T*T),B=T*w-_*y,W=T*y-p*w;if(B+W<=N)if(B<0)W<0&&y<0?(W=0,-y>=p?(B=1,O=p+2*y+m):O=y*(B=-y/p)+m):(B=0,w>=0?(W=0,O=m):-w>=_?(W=1,O=_+2*w+m):O=w*(W=-w/_)+m);else if(W<0)W=0,y>=0?(B=0,O=m):-y>=p?(B=1,O=p+2*y+m):O=y*(B=-y/p)+m;else{var j=1/N;O=(B*=j)*(p*B+T*(W*=j)+2*y)+W*(T*B+_*W+2*w)+m}else B<0?(I=_+w)>(A=T+y)?(P=I-A)>=(L=p-2*T+_)?(B=1,W=0,O=p+2*y+m):O=(B=P/L)*(p*B+T*(W=1-B)+2*y)+W*(T*B+_*W+2*w)+m:(B=0,I<=0?(W=1,O=_+2*w+m):w>=0?(W=0,O=m):O=w*(W=-w/_)+m):W<0?(I=p+y)>(A=T+w)?(P=I-A)>=(L=p-2*T+_)?(W=1,B=0,O=_+2*w+m):O=(B=1-(W=P/L))*(p*B+T*W+2*y)+W*(T*B+_*W+2*w)+m:(W=0,I<=0?(B=1,O=p+2*y+m):y>=0?(B=0,O=m):O=y*(B=-y/p)+m):(P=_+w-T-y)<=0?(B=0,W=1,O=_+2*w+m):P>=(L=p-2*T+_)?(B=1,W=0,O=p+2*y+m):O=(B=P/L)*(p*B+T*(W=1-B)+2*y)+W*(T*B+_*W+2*w)+m;var Z=1-B-W;for(g=0;g<s.length;++g)d[g]=Z*a[g]+B*o[g]+W*l[g];return O<0?0:O}},1116:function(v,c,i){v.exports=i(6093)},7584:function(v,c,i){"use strict";var u=i(1539);v.exports=function(a,o){for(var l=a.length,s=new Array(l),d=0;d<l;++d)s[d]=u(a[d],o[d]);return s}},2826:function(v,c,i){"use strict";v.exports=function(a){for(var o=new Array(a.length),l=0;l<a.length;++l)o[l]=u(a[l]);return o};var u=i(5125)},4469:function(v,c,i){"use strict";var u=i(5125),a=i(3962);v.exports=function(o,l){for(var s=u(l),d=o.length,g=new Array(d),p=0;p<d;++p)g[p]=a(o[p],s);return g}},6695:function(v,c,i){"use strict";var u=i(4354);v.exports=function(a,o){for(var l=a.length,s=new Array(l),d=0;d<l;++d)s[d]=u(a[d],o[d]);return s}},7037:function(v,c,i){"use strict";var u=i(9209),a=i(1284),o=i(9887);v.exports=function(l){l.sort(a);for(var s=l.length,d=0,g=0;g<s;++g){var p=l[g],T=o(p);if(0!==T){if(d>0){var _=l[d-1];if(0===u(p,_)&&o(_)!==T){d-=1;continue}}l[d++]=p}}return l.length=d,l}},6184:function(v){"use strict";var c,i="";v.exports=function(u,a){if("string"!=typeof u)throw new TypeError("expected a string");if(1===a)return u;if(2===a)return u+u;var o=u.length*a;if(c!==u||void 0===c)c=u,i="";else if(i.length>=o)return i.substr(0,o);for(;o>i.length&&a>1;)1&a&&(i+=u),a>>=1,u+=u;return i=(i+=u).substr(0,o)}},8161:function(v,c,i){v.exports=i.g.performance&&i.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},402:function(v){"use strict";v.exports=function(c){for(var i=c.length,u=c[c.length-1],a=i,o=i-2;o>=0;--o){var l=u,s=c[o];(g=s-((u=l+s)-l))&&(c[--a]=u,u=g)}var d=0;for(o=a;o<i;++o){var g;(g=(s=u)-((u=(l=c[o])+s)-l))&&(c[d++]=g)}return c[d++]=u,c.length=d,c}},8167:function(v,c,i){"use strict";var u=i(9660),a=i(9662),o=i(8289),l=i(402);function s(w,m,b,k){return function(h){return k(w(b(h[0][0],h[1][1]),b(-h[0][1],h[1][0])))}}function d(w,m,b,k){return function(h){return k(w(m(w(b(h[1][1],h[2][2]),b(-h[1][2],h[2][1])),h[0][0]),w(m(w(b(h[1][0],h[2][2]),b(-h[1][2],h[2][0])),-h[0][1]),m(w(b(h[1][0],h[2][1]),b(-h[1][1],h[2][0])),h[0][2]))))}}function g(w,m,b,k){return function(h){return k(w(w(m(w(m(w(b(h[2][2],h[3][3]),b(-h[2][3],h[3][2])),h[1][1]),w(m(w(b(h[2][1],h[3][3]),b(-h[2][3],h[3][1])),-h[1][2]),m(w(b(h[2][1],h[3][2]),b(-h[2][2],h[3][1])),h[1][3]))),h[0][0]),m(w(m(w(b(h[2][2],h[3][3]),b(-h[2][3],h[3][2])),h[1][0]),w(m(w(b(h[2][0],h[3][3]),b(-h[2][3],h[3][0])),-h[1][2]),m(w(b(h[2][0],h[3][2]),b(-h[2][2],h[3][0])),h[1][3]))),-h[0][1])),w(m(w(m(w(b(h[2][1],h[3][3]),b(-h[2][3],h[3][1])),h[1][0]),w(m(w(b(h[2][0],h[3][3]),b(-h[2][3],h[3][0])),-h[1][1]),m(w(b(h[2][0],h[3][1]),b(-h[2][1],h[3][0])),h[1][3]))),h[0][2]),m(w(m(w(b(h[2][1],h[3][2]),b(-h[2][2],h[3][1])),h[1][0]),w(m(w(b(h[2][0],h[3][2]),b(-h[2][2],h[3][0])),-h[1][1]),m(w(b(h[2][0],h[3][1]),b(-h[2][1],h[3][0])),h[1][2]))),-h[0][3]))))}}function p(w,m,b,k){return function(h){return k(w(w(m(w(w(m(w(m(w(b(h[3][3],h[4][4]),b(-h[3][4],h[4][3])),h[2][2]),w(m(w(b(h[3][2],h[4][4]),b(-h[3][4],h[4][2])),-h[2][3]),m(w(b(h[3][2],h[4][3]),b(-h[3][3],h[4][2])),h[2][4]))),h[1][1]),m(w(m(w(b(h[3][3],h[4][4]),b(-h[3][4],h[4][3])),h[2][1]),w(m(w(b(h[3][1],h[4][4]),b(-h[3][4],h[4][1])),-h[2][3]),m(w(b(h[3][1],h[4][3]),b(-h[3][3],h[4][1])),h[2][4]))),-h[1][2])),w(m(w(m(w(b(h[3][2],h[4][4]),b(-h[3][4],h[4][2])),h[2][1]),w(m(w(b(h[3][1],h[4][4]),b(-h[3][4],h[4][1])),-h[2][2]),m(w(b(h[3][1],h[4][2]),b(-h[3][2],h[4][1])),h[2][4]))),h[1][3]),m(w(m(w(b(h[3][2],h[4][3]),b(-h[3][3],h[4][2])),h[2][1]),w(m(w(b(h[3][1],h[4][3]),b(-h[3][3],h[4][1])),-h[2][2]),m(w(b(h[3][1],h[4][2]),b(-h[3][2],h[4][1])),h[2][3]))),-h[1][4]))),h[0][0]),m(w(w(m(w(m(w(b(h[3][3],h[4][4]),b(-h[3][4],h[4][3])),h[2][2]),w(m(w(b(h[3][2],h[4][4]),b(-h[3][4],h[4][2])),-h[2][3]),m(w(b(h[3][2],h[4][3]),b(-h[3][3],h[4][2])),h[2][4]))),h[1][0]),m(w(m(w(b(h[3][3],h[4][4]),b(-h[3][4],h[4][3])),h[2][0]),w(m(w(b(h[3][0],h[4][4]),b(-h[3][4],h[4][0])),-h[2][3]),m(w(b(h[3][0],h[4][3]),b(-h[3][3],h[4][0])),h[2][4]))),-h[1][2])),w(m(w(m(w(b(h[3][2],h[4][4]),b(-h[3][4],h[4][2])),h[2][0]),w(m(w(b(h[3][0],h[4][4]),b(-h[3][4],h[4][0])),-h[2][2]),m(w(b(h[3][0],h[4][2]),b(-h[3][2],h[4][0])),h[2][4]))),h[1][3]),m(w(m(w(b(h[3][2],h[4][3]),b(-h[3][3],h[4][2])),h[2][0]),w(m(w(b(h[3][0],h[4][3]),b(-h[3][3],h[4][0])),-h[2][2]),m(w(b(h[3][0],h[4][2]),b(-h[3][2],h[4][0])),h[2][3]))),-h[1][4]))),-h[0][1])),w(m(w(w(m(w(m(w(b(h[3][3],h[4][4]),b(-h[3][4],h[4][3])),h[2][1]),w(m(w(b(h[3][1],h[4][4]),b(-h[3][4],h[4][1])),-h[2][3]),m(w(b(h[3][1],h[4][3]),b(-h[3][3],h[4][1])),h[2][4]))),h[1][0]),m(w(m(w(b(h[3][3],h[4][4]),b(-h[3][4],h[4][3])),h[2][0]),w(m(w(b(h[3][0],h[4][4]),b(-h[3][4],h[4][0])),-h[2][3]),m(w(b(h[3][0],h[4][3]),b(-h[3][3],h[4][0])),h[2][4]))),-h[1][1])),w(m(w(m(w(b(h[3][1],h[4][4]),b(-h[3][4],h[4][1])),h[2][0]),w(m(w(b(h[3][0],h[4][4]),b(-h[3][4],h[4][0])),-h[2][1]),m(w(b(h[3][0],h[4][1]),b(-h[3][1],h[4][0])),h[2][4]))),h[1][3]),m(w(m(w(b(h[3][1],h[4][3]),b(-h[3][3],h[4][1])),h[2][0]),w(m(w(b(h[3][0],h[4][3]),b(-h[3][3],h[4][0])),-h[2][1]),m(w(b(h[3][0],h[4][1]),b(-h[3][1],h[4][0])),h[2][3]))),-h[1][4]))),h[0][2]),w(m(w(w(m(w(m(w(b(h[3][2],h[4][4]),b(-h[3][4],h[4][2])),h[2][1]),w(m(w(b(h[3][1],h[4][4]),b(-h[3][4],h[4][1])),-h[2][2]),m(w(b(h[3][1],h[4][2]),b(-h[3][2],h[4][1])),h[2][4]))),h[1][0]),m(w(m(w(b(h[3][2],h[4][4]),b(-h[3][4],h[4][2])),h[2][0]),w(m(w(b(h[3][0],h[4][4]),b(-h[3][4],h[4][0])),-h[2][2]),m(w(b(h[3][0],h[4][2]),b(-h[3][2],h[4][0])),h[2][4]))),-h[1][1])),w(m(w(m(w(b(h[3][1],h[4][4]),b(-h[3][4],h[4][1])),h[2][0]),w(m(w(b(h[3][0],h[4][4]),b(-h[3][4],h[4][0])),-h[2][1]),m(w(b(h[3][0],h[4][1]),b(-h[3][1],h[4][0])),h[2][4]))),h[1][2]),m(w(m(w(b(h[3][1],h[4][2]),b(-h[3][2],h[4][1])),h[2][0]),w(m(w(b(h[3][0],h[4][2]),b(-h[3][2],h[4][0])),-h[2][1]),m(w(b(h[3][0],h[4][1]),b(-h[3][1],h[4][0])),h[2][2]))),-h[1][4]))),-h[0][3]),m(w(w(m(w(m(w(b(h[3][2],h[4][3]),b(-h[3][3],h[4][2])),h[2][1]),w(m(w(b(h[3][1],h[4][3]),b(-h[3][3],h[4][1])),-h[2][2]),m(w(b(h[3][1],h[4][2]),b(-h[3][2],h[4][1])),h[2][3]))),h[1][0]),m(w(m(w(b(h[3][2],h[4][3]),b(-h[3][3],h[4][2])),h[2][0]),w(m(w(b(h[3][0],h[4][3]),b(-h[3][3],h[4][0])),-h[2][2]),m(w(b(h[3][0],h[4][2]),b(-h[3][2],h[4][0])),h[2][3]))),-h[1][1])),w(m(w(m(w(b(h[3][1],h[4][3]),b(-h[3][3],h[4][1])),h[2][0]),w(m(w(b(h[3][0],h[4][3]),b(-h[3][3],h[4][0])),-h[2][1]),m(w(b(h[3][0],h[4][1]),b(-h[3][1],h[4][0])),h[2][3]))),h[1][2]),m(w(m(w(b(h[3][1],h[4][2]),b(-h[3][2],h[4][1])),h[2][0]),w(m(w(b(h[3][0],h[4][2]),b(-h[3][2],h[4][0])),-h[2][1]),m(w(b(h[3][0],h[4][1]),b(-h[3][1],h[4][0])),h[2][2]))),-h[1][3]))),h[0][4])))))}}function T(w){return(2===w?s:3===w?d:4===w?g:5===w?p:void 0)(a,o,u,l)}var _=[function(){return[0]},function(w){return[w[0][0]]}];function y(w,m,b,k,h,O,A,I){return function(P){switch(P.length){case 0:return w(P);case 1:return m(P);case 2:return b(P);case 3:return k(P);case 4:return h(P);case 5:return O(P)}var L=A[P.length];return L||(L=A[P.length]=I(P.length)),L(P)}}!function(){for(;_.length<6;)_.push(T(_.length));v.exports=y.apply(void 0,_.concat([_,T]));for(var w=0;w<_.length;++w)v.exports[w]=_[w]}()},9130:function(v,c,i){"use strict";var u=i(9660),a=i(9662);v.exports=function(o,l){for(var s=u(o[0],l[0]),d=1;d<o.length;++d)s=a(s,u(o[d],l[d]));return s}},2227:function(v,c,i){"use strict";var u=i(9660),a=i(9662),o=i(4078),l=i(8289);function s(m){return(3===m?d:4===m?g:5===m?p:T)(a,o,u,l)}function d(m,b,k,h){return function(O,A,I){var P=k(O[0],O[0]),L=h(P,A[0]),N=h(P,I[0]),B=k(A[0],A[0]),W=h(B,O[0]),j=h(B,I[0]),Z=k(I[0],I[0]),V=h(Z,O[0]),q=h(Z,A[0]),G=m(b(q,j),b(W,L)),H=b(V,N),ne=b(G,H);return ne[ne.length-1]}}function g(m,b,k,h){return function(O,A,I,P){var L=m(k(O[0],O[0]),k(O[1],O[1])),N=h(L,A[0]),B=h(L,I[0]),W=h(L,P[0]),j=m(k(A[0],A[0]),k(A[1],A[1])),Z=h(j,O[0]),V=h(j,I[0]),q=h(j,P[0]),G=m(k(I[0],I[0]),k(I[1],I[1])),H=h(G,O[0]),ne=h(G,A[0]),X=h(G,P[0]),$=m(k(P[0],P[0]),k(P[1],P[1])),Q=h($,O[0]),te=h($,A[0]),re=h($,I[0]),le=m(m(h(b(re,X),A[1]),m(h(b(te,q),-I[1]),h(b(ne,V),P[1]))),m(h(b(te,q),O[1]),m(h(b(Q,W),-A[1]),h(b(Z,N),P[1])))),ue=m(m(h(b(re,X),O[1]),m(h(b(Q,W),-I[1]),h(b(H,B),P[1]))),m(h(b(ne,V),O[1]),m(h(b(H,B),-A[1]),h(b(Z,N),I[1])))),he=b(le,ue);return he[he.length-1]}}function p(m,b,k,h){return function(O,A,I,P,L){var N=m(k(O[0],O[0]),m(k(O[1],O[1]),k(O[2],O[2]))),B=h(N,A[0]),W=h(N,I[0]),j=h(N,P[0]),Z=h(N,L[0]),V=m(k(A[0],A[0]),m(k(A[1],A[1]),k(A[2],A[2]))),q=h(V,O[0]),G=h(V,I[0]),H=h(V,P[0]),ne=h(V,L[0]),X=m(k(I[0],I[0]),m(k(I[1],I[1]),k(I[2],I[2]))),$=h(X,O[0]),Q=h(X,A[0]),te=h(X,P[0]),re=h(X,L[0]),le=m(k(P[0],P[0]),m(k(P[1],P[1]),k(P[2],P[2]))),ue=h(le,O[0]),he=h(le,A[0]),ge=h(le,I[0]),xe=h(le,L[0]),ke=m(k(L[0],L[0]),m(k(L[1],L[1]),k(L[2],L[2]))),Ae=h(ke,O[0]),pe=h(ke,A[0]),ye=h(ke,I[0]),Ne=h(ke,P[0]),be=m(m(m(h(m(h(b(Ne,xe),I[1]),m(h(b(ye,re),-P[1]),h(b(ge,te),L[1]))),A[2]),m(h(m(h(b(Ne,xe),A[1]),m(h(b(pe,ne),-P[1]),h(b(he,H),L[1]))),-I[2]),h(m(h(b(ye,re),A[1]),m(h(b(pe,ne),-I[1]),h(b(Q,G),L[1]))),P[2]))),m(h(m(h(b(ge,te),A[1]),m(h(b(he,H),-I[1]),h(b(Q,G),P[1]))),-L[2]),m(h(m(h(b(Ne,xe),A[1]),m(h(b(pe,ne),-P[1]),h(b(he,H),L[1]))),O[2]),h(m(h(b(Ne,xe),O[1]),m(h(b(Ae,Z),-P[1]),h(b(ue,j),L[1]))),-A[2])))),m(m(h(m(h(b(pe,ne),O[1]),m(h(b(Ae,Z),-A[1]),h(b(q,B),L[1]))),P[2]),m(h(m(h(b(he,H),O[1]),m(h(b(ue,j),-A[1]),h(b(q,B),P[1]))),-L[2]),h(m(h(b(ge,te),A[1]),m(h(b(he,H),-I[1]),h(b(Q,G),P[1]))),O[2]))),m(h(m(h(b(ge,te),O[1]),m(h(b(ue,j),-I[1]),h(b($,W),P[1]))),-A[2]),m(h(m(h(b(he,H),O[1]),m(h(b(ue,j),-A[1]),h(b(q,B),P[1]))),I[2]),h(m(h(b(Q,G),O[1]),m(h(b($,W),-A[1]),h(b(q,B),I[1]))),-P[2]))))),Ee=m(m(m(h(m(h(b(Ne,xe),I[1]),m(h(b(ye,re),-P[1]),h(b(ge,te),L[1]))),O[2]),h(m(h(b(Ne,xe),O[1]),m(h(b(Ae,Z),-P[1]),h(b(ue,j),L[1]))),-I[2])),m(h(m(h(b(ye,re),O[1]),m(h(b(Ae,Z),-I[1]),h(b($,W),L[1]))),P[2]),h(m(h(b(ge,te),O[1]),m(h(b(ue,j),-I[1]),h(b($,W),P[1]))),-L[2]))),m(m(h(m(h(b(ye,re),A[1]),m(h(b(pe,ne),-I[1]),h(b(Q,G),L[1]))),O[2]),h(m(h(b(ye,re),O[1]),m(h(b(Ae,Z),-I[1]),h(b($,W),L[1]))),-A[2])),m(h(m(h(b(pe,ne),O[1]),m(h(b(Ae,Z),-A[1]),h(b(q,B),L[1]))),I[2]),h(m(h(b(Q,G),O[1]),m(h(b($,W),-A[1]),h(b(q,B),I[1]))),-L[2])))),Oe=b(be,Ee);return Oe[Oe.length-1]}}function T(m,b,k,h){return function(O,A,I,P,L,N){var B=m(m(k(O[0],O[0]),k(O[1],O[1])),m(k(O[2],O[2]),k(O[3],O[3]))),W=h(B,A[0]),j=h(B,I[0]),Z=h(B,P[0]),V=h(B,L[0]),q=h(B,N[0]),G=m(m(k(A[0],A[0]),k(A[1],A[1])),m(k(A[2],A[2]),k(A[3],A[3]))),H=h(G,O[0]),ne=h(G,I[0]),X=h(G,P[0]),$=h(G,L[0]),Q=h(G,N[0]),te=m(m(k(I[0],I[0]),k(I[1],I[1])),m(k(I[2],I[2]),k(I[3],I[3]))),re=h(te,O[0]),le=h(te,A[0]),ue=h(te,P[0]),he=h(te,L[0]),ge=h(te,N[0]),xe=m(m(k(P[0],P[0]),k(P[1],P[1])),m(k(P[2],P[2]),k(P[3],P[3]))),ke=h(xe,O[0]),Ae=h(xe,A[0]),pe=h(xe,I[0]),ye=h(xe,L[0]),Ne=h(xe,N[0]),be=m(m(k(L[0],L[0]),k(L[1],L[1])),m(k(L[2],L[2]),k(L[3],L[3]))),Ee=h(be,O[0]),Oe=h(be,A[0]),De=h(be,I[0]),oe=h(be,P[0]),de=h(be,N[0]),_e=m(m(k(N[0],N[0]),k(N[1],N[1])),m(k(N[2],N[2]),k(N[3],N[3]))),Me=h(_e,O[0]),Pe=h(_e,A[0]),Ue=h(_e,I[0]),Be=h(_e,P[0]),Ve=h(_e,L[0]),ve=m(m(m(h(m(m(h(m(h(b(Ve,de),P[1]),m(h(b(Be,Ne),-L[1]),h(b(oe,ye),N[1]))),I[2]),h(m(h(b(Ve,de),I[1]),m(h(b(Ue,ge),-L[1]),h(b(De,he),N[1]))),-P[2])),m(h(m(h(b(Be,Ne),I[1]),m(h(b(Ue,ge),-P[1]),h(b(pe,ue),N[1]))),L[2]),h(m(h(b(oe,ye),I[1]),m(h(b(De,he),-P[1]),h(b(pe,ue),L[1]))),-N[2]))),A[3]),m(h(m(m(h(m(h(b(Ve,de),P[1]),m(h(b(Be,Ne),-L[1]),h(b(oe,ye),N[1]))),A[2]),h(m(h(b(Ve,de),A[1]),m(h(b(Pe,Q),-L[1]),h(b(Oe,$),N[1]))),-P[2])),m(h(m(h(b(Be,Ne),A[1]),m(h(b(Pe,Q),-P[1]),h(b(Ae,X),N[1]))),L[2]),h(m(h(b(oe,ye),A[1]),m(h(b(Oe,$),-P[1]),h(b(Ae,X),L[1]))),-N[2]))),-I[3]),h(m(m(h(m(h(b(Ve,de),I[1]),m(h(b(Ue,ge),-L[1]),h(b(De,he),N[1]))),A[2]),h(m(h(b(Ve,de),A[1]),m(h(b(Pe,Q),-L[1]),h(b(Oe,$),N[1]))),-I[2])),m(h(m(h(b(Ue,ge),A[1]),m(h(b(Pe,Q),-I[1]),h(b(le,ne),N[1]))),L[2]),h(m(h(b(De,he),A[1]),m(h(b(Oe,$),-I[1]),h(b(le,ne),L[1]))),-N[2]))),P[3]))),m(m(h(m(m(h(m(h(b(Be,Ne),I[1]),m(h(b(Ue,ge),-P[1]),h(b(pe,ue),N[1]))),A[2]),h(m(h(b(Be,Ne),A[1]),m(h(b(Pe,Q),-P[1]),h(b(Ae,X),N[1]))),-I[2])),m(h(m(h(b(Ue,ge),A[1]),m(h(b(Pe,Q),-I[1]),h(b(le,ne),N[1]))),P[2]),h(m(h(b(pe,ue),A[1]),m(h(b(Ae,X),-I[1]),h(b(le,ne),P[1]))),-N[2]))),-L[3]),h(m(m(h(m(h(b(oe,ye),I[1]),m(h(b(De,he),-P[1]),h(b(pe,ue),L[1]))),A[2]),h(m(h(b(oe,ye),A[1]),m(h(b(Oe,$),-P[1]),h(b(Ae,X),L[1]))),-I[2])),m(h(m(h(b(De,he),A[1]),m(h(b(Oe,$),-I[1]),h(b(le,ne),L[1]))),P[2]),h(m(h(b(pe,ue),A[1]),m(h(b(Ae,X),-I[1]),h(b(le,ne),P[1]))),-L[2]))),N[3])),m(h(m(m(h(m(h(b(Ve,de),P[1]),m(h(b(Be,Ne),-L[1]),h(b(oe,ye),N[1]))),A[2]),h(m(h(b(Ve,de),A[1]),m(h(b(Pe,Q),-L[1]),h(b(Oe,$),N[1]))),-P[2])),m(h(m(h(b(Be,Ne),A[1]),m(h(b(Pe,Q),-P[1]),h(b(Ae,X),N[1]))),L[2]),h(m(h(b(oe,ye),A[1]),m(h(b(Oe,$),-P[1]),h(b(Ae,X),L[1]))),-N[2]))),O[3]),h(m(m(h(m(h(b(Ve,de),P[1]),m(h(b(Be,Ne),-L[1]),h(b(oe,ye),N[1]))),O[2]),h(m(h(b(Ve,de),O[1]),m(h(b(Me,q),-L[1]),h(b(Ee,V),N[1]))),-P[2])),m(h(m(h(b(Be,Ne),O[1]),m(h(b(Me,q),-P[1]),h(b(ke,Z),N[1]))),L[2]),h(m(h(b(oe,ye),O[1]),m(h(b(Ee,V),-P[1]),h(b(ke,Z),L[1]))),-N[2]))),-A[3])))),m(m(m(h(m(m(h(m(h(b(Ve,de),A[1]),m(h(b(Pe,Q),-L[1]),h(b(Oe,$),N[1]))),O[2]),h(m(h(b(Ve,de),O[1]),m(h(b(Me,q),-L[1]),h(b(Ee,V),N[1]))),-A[2])),m(h(m(h(b(Pe,Q),O[1]),m(h(b(Me,q),-A[1]),h(b(H,W),N[1]))),L[2]),h(m(h(b(Oe,$),O[1]),m(h(b(Ee,V),-A[1]),h(b(H,W),L[1]))),-N[2]))),P[3]),h(m(m(h(m(h(b(Be,Ne),A[1]),m(h(b(Pe,Q),-P[1]),h(b(Ae,X),N[1]))),O[2]),h(m(h(b(Be,Ne),O[1]),m(h(b(Me,q),-P[1]),h(b(ke,Z),N[1]))),-A[2])),m(h(m(h(b(Pe,Q),O[1]),m(h(b(Me,q),-A[1]),h(b(H,W),N[1]))),P[2]),h(m(h(b(Ae,X),O[1]),m(h(b(ke,Z),-A[1]),h(b(H,W),P[1]))),-N[2]))),-L[3])),m(h(m(m(h(m(h(b(oe,ye),A[1]),m(h(b(Oe,$),-P[1]),h(b(Ae,X),L[1]))),O[2]),h(m(h(b(oe,ye),O[1]),m(h(b(Ee,V),-P[1]),h(b(ke,Z),L[1]))),-A[2])),m(h(m(h(b(Oe,$),O[1]),m(h(b(Ee,V),-A[1]),h(b(H,W),L[1]))),P[2]),h(m(h(b(Ae,X),O[1]),m(h(b(ke,Z),-A[1]),h(b(H,W),P[1]))),-L[2]))),N[3]),h(m(m(h(m(h(b(Be,Ne),I[1]),m(h(b(Ue,ge),-P[1]),h(b(pe,ue),N[1]))),A[2]),h(m(h(b(Be,Ne),A[1]),m(h(b(Pe,Q),-P[1]),h(b(Ae,X),N[1]))),-I[2])),m(h(m(h(b(Ue,ge),A[1]),m(h(b(Pe,Q),-I[1]),h(b(le,ne),N[1]))),P[2]),h(m(h(b(pe,ue),A[1]),m(h(b(Ae,X),-I[1]),h(b(le,ne),P[1]))),-N[2]))),O[3]))),m(m(h(m(m(h(m(h(b(Be,Ne),I[1]),m(h(b(Ue,ge),-P[1]),h(b(pe,ue),N[1]))),O[2]),h(m(h(b(Be,Ne),O[1]),m(h(b(Me,q),-P[1]),h(b(ke,Z),N[1]))),-I[2])),m(h(m(h(b(Ue,ge),O[1]),m(h(b(Me,q),-I[1]),h(b(re,j),N[1]))),P[2]),h(m(h(b(pe,ue),O[1]),m(h(b(ke,Z),-I[1]),h(b(re,j),P[1]))),-N[2]))),-A[3]),h(m(m(h(m(h(b(Be,Ne),A[1]),m(h(b(Pe,Q),-P[1]),h(b(Ae,X),N[1]))),O[2]),h(m(h(b(Be,Ne),O[1]),m(h(b(Me,q),-P[1]),h(b(ke,Z),N[1]))),-A[2])),m(h(m(h(b(Pe,Q),O[1]),m(h(b(Me,q),-A[1]),h(b(H,W),N[1]))),P[2]),h(m(h(b(Ae,X),O[1]),m(h(b(ke,Z),-A[1]),h(b(H,W),P[1]))),-N[2]))),I[3])),m(h(m(m(h(m(h(b(Ue,ge),A[1]),m(h(b(Pe,Q),-I[1]),h(b(le,ne),N[1]))),O[2]),h(m(h(b(Ue,ge),O[1]),m(h(b(Me,q),-I[1]),h(b(re,j),N[1]))),-A[2])),m(h(m(h(b(Pe,Q),O[1]),m(h(b(Me,q),-A[1]),h(b(H,W),N[1]))),I[2]),h(m(h(b(le,ne),O[1]),m(h(b(re,j),-A[1]),h(b(H,W),I[1]))),-N[2]))),-P[3]),h(m(m(h(m(h(b(pe,ue),A[1]),m(h(b(Ae,X),-I[1]),h(b(le,ne),P[1]))),O[2]),h(m(h(b(pe,ue),O[1]),m(h(b(ke,Z),-I[1]),h(b(re,j),P[1]))),-A[2])),m(h(m(h(b(Ae,X),O[1]),m(h(b(ke,Z),-A[1]),h(b(H,W),P[1]))),I[2]),h(m(h(b(le,ne),O[1]),m(h(b(re,j),-A[1]),h(b(H,W),I[1]))),-P[2]))),N[3]))))),Te=m(m(m(h(m(m(h(m(h(b(Ve,de),P[1]),m(h(b(Be,Ne),-L[1]),h(b(oe,ye),N[1]))),I[2]),h(m(h(b(Ve,de),I[1]),m(h(b(Ue,ge),-L[1]),h(b(De,he),N[1]))),-P[2])),m(h(m(h(b(Be,Ne),I[1]),m(h(b(Ue,ge),-P[1]),h(b(pe,ue),N[1]))),L[2]),h(m(h(b(oe,ye),I[1]),m(h(b(De,he),-P[1]),h(b(pe,ue),L[1]))),-N[2]))),O[3]),m(h(m(m(h(m(h(b(Ve,de),P[1]),m(h(b(Be,Ne),-L[1]),h(b(oe,ye),N[1]))),O[2]),h(m(h(b(Ve,de),O[1]),m(h(b(Me,q),-L[1]),h(b(Ee,V),N[1]))),-P[2])),m(h(m(h(b(Be,Ne),O[1]),m(h(b(Me,q),-P[1]),h(b(ke,Z),N[1]))),L[2]),h(m(h(b(oe,ye),O[1]),m(h(b(Ee,V),-P[1]),h(b(ke,Z),L[1]))),-N[2]))),-I[3]),h(m(m(h(m(h(b(Ve,de),I[1]),m(h(b(Ue,ge),-L[1]),h(b(De,he),N[1]))),O[2]),h(m(h(b(Ve,de),O[1]),m(h(b(Me,q),-L[1]),h(b(Ee,V),N[1]))),-I[2])),m(h(m(h(b(Ue,ge),O[1]),m(h(b(Me,q),-I[1]),h(b(re,j),N[1]))),L[2]),h(m(h(b(De,he),O[1]),m(h(b(Ee,V),-I[1]),h(b(re,j),L[1]))),-N[2]))),P[3]))),m(m(h(m(m(h(m(h(b(Be,Ne),I[1]),m(h(b(Ue,ge),-P[1]),h(b(pe,ue),N[1]))),O[2]),h(m(h(b(Be,Ne),O[1]),m(h(b(Me,q),-P[1]),h(b(ke,Z),N[1]))),-I[2])),m(h(m(h(b(Ue,ge),O[1]),m(h(b(Me,q),-I[1]),h(b(re,j),N[1]))),P[2]),h(m(h(b(pe,ue),O[1]),m(h(b(ke,Z),-I[1]),h(b(re,j),P[1]))),-N[2]))),-L[3]),h(m(m(h(m(h(b(oe,ye),I[1]),m(h(b(De,he),-P[1]),h(b(pe,ue),L[1]))),O[2]),h(m(h(b(oe,ye),O[1]),m(h(b(Ee,V),-P[1]),h(b(ke,Z),L[1]))),-I[2])),m(h(m(h(b(De,he),O[1]),m(h(b(Ee,V),-I[1]),h(b(re,j),L[1]))),P[2]),h(m(h(b(pe,ue),O[1]),m(h(b(ke,Z),-I[1]),h(b(re,j),P[1]))),-L[2]))),N[3])),m(h(m(m(h(m(h(b(Ve,de),I[1]),m(h(b(Ue,ge),-L[1]),h(b(De,he),N[1]))),A[2]),h(m(h(b(Ve,de),A[1]),m(h(b(Pe,Q),-L[1]),h(b(Oe,$),N[1]))),-I[2])),m(h(m(h(b(Ue,ge),A[1]),m(h(b(Pe,Q),-I[1]),h(b(le,ne),N[1]))),L[2]),h(m(h(b(De,he),A[1]),m(h(b(Oe,$),-I[1]),h(b(le,ne),L[1]))),-N[2]))),O[3]),h(m(m(h(m(h(b(Ve,de),I[1]),m(h(b(Ue,ge),-L[1]),h(b(De,he),N[1]))),O[2]),h(m(h(b(Ve,de),O[1]),m(h(b(Me,q),-L[1]),h(b(Ee,V),N[1]))),-I[2])),m(h(m(h(b(Ue,ge),O[1]),m(h(b(Me,q),-I[1]),h(b(re,j),N[1]))),L[2]),h(m(h(b(De,he),O[1]),m(h(b(Ee,V),-I[1]),h(b(re,j),L[1]))),-N[2]))),-A[3])))),m(m(m(h(m(m(h(m(h(b(Ve,de),A[1]),m(h(b(Pe,Q),-L[1]),h(b(Oe,$),N[1]))),O[2]),h(m(h(b(Ve,de),O[1]),m(h(b(Me,q),-L[1]),h(b(Ee,V),N[1]))),-A[2])),m(h(m(h(b(Pe,Q),O[1]),m(h(b(Me,q),-A[1]),h(b(H,W),N[1]))),L[2]),h(m(h(b(Oe,$),O[1]),m(h(b(Ee,V),-A[1]),h(b(H,W),L[1]))),-N[2]))),I[3]),h(m(m(h(m(h(b(Ue,ge),A[1]),m(h(b(Pe,Q),-I[1]),h(b(le,ne),N[1]))),O[2]),h(m(h(b(Ue,ge),O[1]),m(h(b(Me,q),-I[1]),h(b(re,j),N[1]))),-A[2])),m(h(m(h(b(Pe,Q),O[1]),m(h(b(Me,q),-A[1]),h(b(H,W),N[1]))),I[2]),h(m(h(b(le,ne),O[1]),m(h(b(re,j),-A[1]),h(b(H,W),I[1]))),-N[2]))),-L[3])),m(h(m(m(h(m(h(b(De,he),A[1]),m(h(b(Oe,$),-I[1]),h(b(le,ne),L[1]))),O[2]),h(m(h(b(De,he),O[1]),m(h(b(Ee,V),-I[1]),h(b(re,j),L[1]))),-A[2])),m(h(m(h(b(Oe,$),O[1]),m(h(b(Ee,V),-A[1]),h(b(H,W),L[1]))),I[2]),h(m(h(b(le,ne),O[1]),m(h(b(re,j),-A[1]),h(b(H,W),I[1]))),-L[2]))),N[3]),h(m(m(h(m(h(b(oe,ye),I[1]),m(h(b(De,he),-P[1]),h(b(pe,ue),L[1]))),A[2]),h(m(h(b(oe,ye),A[1]),m(h(b(Oe,$),-P[1]),h(b(Ae,X),L[1]))),-I[2])),m(h(m(h(b(De,he),A[1]),m(h(b(Oe,$),-I[1]),h(b(le,ne),L[1]))),P[2]),h(m(h(b(pe,ue),A[1]),m(h(b(Ae,X),-I[1]),h(b(le,ne),P[1]))),-L[2]))),O[3]))),m(m(h(m(m(h(m(h(b(oe,ye),I[1]),m(h(b(De,he),-P[1]),h(b(pe,ue),L[1]))),O[2]),h(m(h(b(oe,ye),O[1]),m(h(b(Ee,V),-P[1]),h(b(ke,Z),L[1]))),-I[2])),m(h(m(h(b(De,he),O[1]),m(h(b(Ee,V),-I[1]),h(b(re,j),L[1]))),P[2]),h(m(h(b(pe,ue),O[1]),m(h(b(ke,Z),-I[1]),h(b(re,j),P[1]))),-L[2]))),-A[3]),h(m(m(h(m(h(b(oe,ye),A[1]),m(h(b(Oe,$),-P[1]),h(b(Ae,X),L[1]))),O[2]),h(m(h(b(oe,ye),O[1]),m(h(b(Ee,V),-P[1]),h(b(ke,Z),L[1]))),-A[2])),m(h(m(h(b(Oe,$),O[1]),m(h(b(Ee,V),-A[1]),h(b(H,W),L[1]))),P[2]),h(m(h(b(Ae,X),O[1]),m(h(b(ke,Z),-A[1]),h(b(H,W),P[1]))),-L[2]))),I[3])),m(h(m(m(h(m(h(b(De,he),A[1]),m(h(b(Oe,$),-I[1]),h(b(le,ne),L[1]))),O[2]),h(m(h(b(De,he),O[1]),m(h(b(Ee,V),-I[1]),h(b(re,j),L[1]))),-A[2])),m(h(m(h(b(Oe,$),O[1]),m(h(b(Ee,V),-A[1]),h(b(H,W),L[1]))),I[2]),h(m(h(b(le,ne),O[1]),m(h(b(re,j),-A[1]),h(b(H,W),I[1]))),-L[2]))),-P[3]),h(m(m(h(m(h(b(pe,ue),A[1]),m(h(b(Ae,X),-I[1]),h(b(le,ne),P[1]))),O[2]),h(m(h(b(pe,ue),O[1]),m(h(b(ke,Z),-I[1]),h(b(re,j),P[1]))),-A[2])),m(h(m(h(b(Ae,X),O[1]),m(h(b(ke,Z),-A[1]),h(b(H,W),P[1]))),I[2]),h(m(h(b(le,ne),O[1]),m(h(b(re,j),-A[1]),h(b(H,W),I[1]))),-P[2]))),L[3]))))),Ce=b(ve,Te);return Ce[Ce.length-1]}}var _=[function(){return 0},function(){return 0},function(){return 0}];function y(m){var b=_[m.length];return b||(b=_[m.length]=s(m.length)),b.apply(void 0,m)}function w(m,b,k,h,O,A,I,P){return function(L,N,B,W,j,Z){switch(arguments.length){case 0:case 1:return 0;case 2:return h(L,N);case 3:return O(L,N,B);case 4:return A(L,N,B,W);case 5:return I(L,N,B,W,j);case 6:return P(L,N,B,W,j,Z)}for(var V=new Array(arguments.length),q=0;q<arguments.length;++q)V[q]=arguments[q];return m(V)}}!function(){for(;_.length<=6;)_.push(s(_.length));v.exports=w.apply(void 0,[y].concat(_));for(var m=0;m<=6;++m)v.exports[m]=_[m]}()},6606:function(v,c,i){"use strict";var u=i(8167);function a(_){return(2===_?o:3===_?l:4===_?s:5===_?d:g)(_<6?u[_]:u)}function o(_){return function(y,w){return[_([[+w[0],+y[0][1]],[+w[1],+y[1][1]]]),_([[+y[0][0],+w[0]],[+y[1][0],+w[1]]]),_(y)]}}function l(_){return function(y,w){return[_([[+w[0],+y[0][1],+y[0][2]],[+w[1],+y[1][1],+y[1][2]],[+w[2],+y[2][1],+y[2][2]]]),_([[+y[0][0],+w[0],+y[0][2]],[+y[1][0],+w[1],+y[1][2]],[+y[2][0],+w[2],+y[2][2]]]),_([[+y[0][0],+y[0][1],+w[0]],[+y[1][0],+y[1][1],+w[1]],[+y[2][0],+y[2][1],+w[2]]]),_(y)]}}function s(_){return function(y,w){return[_([[+w[0],+y[0][1],+y[0][2],+y[0][3]],[+w[1],+y[1][1],+y[1][2],+y[1][3]],[+w[2],+y[2][1],+y[2][2],+y[2][3]],[+w[3],+y[3][1],+y[3][2],+y[3][3]]]),_([[+y[0][0],+w[0],+y[0][2],+y[0][3]],[+y[1][0],+w[1],+y[1][2],+y[1][3]],[+y[2][0],+w[2],+y[2][2],+y[2][3]],[+y[3][0],+w[3],+y[3][2],+y[3][3]]]),_([[+y[0][0],+y[0][1],+w[0],+y[0][3]],[+y[1][0],+y[1][1],+w[1],+y[1][3]],[+y[2][0],+y[2][1],+w[2],+y[2][3]],[+y[3][0],+y[3][1],+w[3],+y[3][3]]]),_([[+y[0][0],+y[0][1],+y[0][2],+w[0]],[+y[1][0],+y[1][1],+y[1][2],+w[1]],[+y[2][0],+y[2][1],+y[2][2],+w[2]],[+y[3][0],+y[3][1],+y[3][2],+w[3]]]),_(y)]}}function d(_){return function(y,w){return[_([[+w[0],+y[0][1],+y[0][2],+y[0][3],+y[0][4]],[+w[1],+y[1][1],+y[1][2],+y[1][3],+y[1][4]],[+w[2],+y[2][1],+y[2][2],+y[2][3],+y[2][4]],[+w[3],+y[3][1],+y[3][2],+y[3][3],+y[3][4]],[+w[4],+y[4][1],+y[4][2],+y[4][3],+y[4][4]]]),_([[+y[0][0],+w[0],+y[0][2],+y[0][3],+y[0][4]],[+y[1][0],+w[1],+y[1][2],+y[1][3],+y[1][4]],[+y[2][0],+w[2],+y[2][2],+y[2][3],+y[2][4]],[+y[3][0],+w[3],+y[3][2],+y[3][3],+y[3][4]],[+y[4][0],+w[4],+y[4][2],+y[4][3],+y[4][4]]]),_([[+y[0][0],+y[0][1],+w[0],+y[0][3],+y[0][4]],[+y[1][0],+y[1][1],+w[1],+y[1][3],+y[1][4]],[+y[2][0],+y[2][1],+w[2],+y[2][3],+y[2][4]],[+y[3][0],+y[3][1],+w[3],+y[3][3],+y[3][4]],[+y[4][0],+y[4][1],+w[4],+y[4][3],+y[4][4]]]),_([[+y[0][0],+y[0][1],+y[0][2],+w[0],+y[0][4]],[+y[1][0],+y[1][1],+y[1][2],+w[1],+y[1][4]],[+y[2][0],+y[2][1],+y[2][2],+w[2],+y[2][4]],[+y[3][0],+y[3][1],+y[3][2],+w[3],+y[3][4]],[+y[4][0],+y[4][1],+y[4][2],+w[4],+y[4][4]]]),_([[+y[0][0],+y[0][1],+y[0][2],+y[0][3],+w[0]],[+y[1][0],+y[1][1],+y[1][2],+y[1][3],+w[1]],[+y[2][0],+y[2][1],+y[2][2],+y[2][3],+w[2]],[+y[3][0],+y[3][1],+y[3][2],+y[3][3],+w[3]],[+y[4][0],+y[4][1],+y[4][2],+y[4][3],+w[4]]]),_(y)]}}function g(_){return function(y,w){return[_([[+w[0],+y[0][1],+y[0][2],+y[0][3],+y[0][4],+y[0][5]],[+w[1],+y[1][1],+y[1][2],+y[1][3],+y[1][4],+y[1][5]],[+w[2],+y[2][1],+y[2][2],+y[2][3],+y[2][4],+y[2][5]],[+w[3],+y[3][1],+y[3][2],+y[3][3],+y[3][4],+y[3][5]],[+w[4],+y[4][1],+y[4][2],+y[4][3],+y[4][4],+y[4][5]],[+w[5],+y[5][1],+y[5][2],+y[5][3],+y[5][4],+y[5][5]]]),_([[+y[0][0],+w[0],+y[0][2],+y[0][3],+y[0][4],+y[0][5]],[+y[1][0],+w[1],+y[1][2],+y[1][3],+y[1][4],+y[1][5]],[+y[2][0],+w[2],+y[2][2],+y[2][3],+y[2][4],+y[2][5]],[+y[3][0],+w[3],+y[3][2],+y[3][3],+y[3][4],+y[3][5]],[+y[4][0],+w[4],+y[4][2],+y[4][3],+y[4][4],+y[4][5]],[+y[5][0],+w[5],+y[5][2],+y[5][3],+y[5][4],+y[5][5]]]),_([[+y[0][0],+y[0][1],+w[0],+y[0][3],+y[0][4],+y[0][5]],[+y[1][0],+y[1][1],+w[1],+y[1][3],+y[1][4],+y[1][5]],[+y[2][0],+y[2][1],+w[2],+y[2][3],+y[2][4],+y[2][5]],[+y[3][0],+y[3][1],+w[3],+y[3][3],+y[3][4],+y[3][5]],[+y[4][0],+y[4][1],+w[4],+y[4][3],+y[4][4],+y[4][5]],[+y[5][0],+y[5][1],+w[5],+y[5][3],+y[5][4],+y[5][5]]]),_([[+y[0][0],+y[0][1],+y[0][2],+w[0],+y[0][4],+y[0][5]],[+y[1][0],+y[1][1],+y[1][2],+w[1],+y[1][4],+y[1][5]],[+y[2][0],+y[2][1],+y[2][2],+w[2],+y[2][4],+y[2][5]],[+y[3][0],+y[3][1],+y[3][2],+w[3],+y[3][4],+y[3][5]],[+y[4][0],+y[4][1],+y[4][2],+w[4],+y[4][4],+y[4][5]],[+y[5][0],+y[5][1],+y[5][2],+w[5],+y[5][4],+y[5][5]]]),_([[+y[0][0],+y[0][1],+y[0][2],+y[0][3],+w[0],+y[0][5]],[+y[1][0],+y[1][1],+y[1][2],+y[1][3],+w[1],+y[1][5]],[+y[2][0],+y[2][1],+y[2][2],+y[2][3],+w[2],+y[2][5]],[+y[3][0],+y[3][1],+y[3][2],+y[3][3],+w[3],+y[3][5]],[+y[4][0],+y[4][1],+y[4][2],+y[4][3],+w[4],+y[4][5]],[+y[5][0],+y[5][1],+y[5][2],+y[5][3],+w[5],+y[5][5]]]),_([[+y[0][0],+y[0][1],+y[0][2],+y[0][3],+y[0][4],+w[0]],[+y[1][0],+y[1][1],+y[1][2],+y[1][3],+y[1][4],+w[1]],[+y[2][0],+y[2][1],+y[2][2],+y[2][3],+y[2][4],+w[2]],[+y[3][0],+y[3][1],+y[3][2],+y[3][3],+y[3][4],+w[3]],[+y[4][0],+y[4][1],+y[4][2],+y[4][3],+y[4][4],+w[4]],[+y[5][0],+y[5][1],+y[5][2],+y[5][3],+y[5][4],+w[5]]]),_(y)]}}var p=[function(){return[[0]]},function(_,y){return[[y[0]],[_[0][0]]]}];function T(_,y,w,m,b,k,h,O){return function(A,I){switch(A.length){case 0:return _(A,I);case 1:return y(A,I);case 2:return w(A,I);case 3:return m(A,I);case 4:return b(A,I);case 5:return k(A,I)}var P=h[A.length];return P||(P=h[A.length]=O(A.length)),P(A,I)}}!function(){for(;p.length<6;)p.push(a(p.length));v.exports=T.apply(void 0,p.concat([p,a]));for(var _=0;_<6;++_)v.exports[_]=p[_]}()},417:function(v,c,i){"use strict";var u=i(9660),a=i(9662),o=i(8289),l=i(4078);function s(b,k,h,O){return function(A,I,P){var L=b(b(k(I[1],P[0]),k(-P[1],I[0])),b(k(A[1],I[0]),k(-I[1],A[0]))),N=b(k(A[1],P[0]),k(-P[1],A[0])),B=O(L,N);return B[B.length-1]}}function d(b,k,h,O){return function(A,I,P,L){var N=b(b(h(b(k(P[1],L[0]),k(-L[1],P[0])),I[2]),b(h(b(k(I[1],L[0]),k(-L[1],I[0])),-P[2]),h(b(k(I[1],P[0]),k(-P[1],I[0])),L[2]))),b(h(b(k(I[1],L[0]),k(-L[1],I[0])),A[2]),b(h(b(k(A[1],L[0]),k(-L[1],A[0])),-I[2]),h(b(k(A[1],I[0]),k(-I[1],A[0])),L[2])))),B=b(b(h(b(k(P[1],L[0]),k(-L[1],P[0])),A[2]),b(h(b(k(A[1],L[0]),k(-L[1],A[0])),-P[2]),h(b(k(A[1],P[0]),k(-P[1],A[0])),L[2]))),b(h(b(k(I[1],P[0]),k(-P[1],I[0])),A[2]),b(h(b(k(A[1],P[0]),k(-P[1],A[0])),-I[2]),h(b(k(A[1],I[0]),k(-I[1],A[0])),P[2])))),W=O(N,B);return W[W.length-1]}}function g(b,k,h,O){return function(A,I,P,L,N){var B=b(b(b(h(b(h(b(k(L[1],N[0]),k(-N[1],L[0])),P[2]),b(h(b(k(P[1],N[0]),k(-N[1],P[0])),-L[2]),h(b(k(P[1],L[0]),k(-L[1],P[0])),N[2]))),I[3]),b(h(b(h(b(k(L[1],N[0]),k(-N[1],L[0])),I[2]),b(h(b(k(I[1],N[0]),k(-N[1],I[0])),-L[2]),h(b(k(I[1],L[0]),k(-L[1],I[0])),N[2]))),-P[3]),h(b(h(b(k(P[1],N[0]),k(-N[1],P[0])),I[2]),b(h(b(k(I[1],N[0]),k(-N[1],I[0])),-P[2]),h(b(k(I[1],P[0]),k(-P[1],I[0])),N[2]))),L[3]))),b(h(b(h(b(k(P[1],L[0]),k(-L[1],P[0])),I[2]),b(h(b(k(I[1],L[0]),k(-L[1],I[0])),-P[2]),h(b(k(I[1],P[0]),k(-P[1],I[0])),L[2]))),-N[3]),b(h(b(h(b(k(L[1],N[0]),k(-N[1],L[0])),I[2]),b(h(b(k(I[1],N[0]),k(-N[1],I[0])),-L[2]),h(b(k(I[1],L[0]),k(-L[1],I[0])),N[2]))),A[3]),h(b(h(b(k(L[1],N[0]),k(-N[1],L[0])),A[2]),b(h(b(k(A[1],N[0]),k(-N[1],A[0])),-L[2]),h(b(k(A[1],L[0]),k(-L[1],A[0])),N[2]))),-I[3])))),b(b(h(b(h(b(k(I[1],N[0]),k(-N[1],I[0])),A[2]),b(h(b(k(A[1],N[0]),k(-N[1],A[0])),-I[2]),h(b(k(A[1],I[0]),k(-I[1],A[0])),N[2]))),L[3]),b(h(b(h(b(k(I[1],L[0]),k(-L[1],I[0])),A[2]),b(h(b(k(A[1],L[0]),k(-L[1],A[0])),-I[2]),h(b(k(A[1],I[0]),k(-I[1],A[0])),L[2]))),-N[3]),h(b(h(b(k(P[1],L[0]),k(-L[1],P[0])),I[2]),b(h(b(k(I[1],L[0]),k(-L[1],I[0])),-P[2]),h(b(k(I[1],P[0]),k(-P[1],I[0])),L[2]))),A[3]))),b(h(b(h(b(k(P[1],L[0]),k(-L[1],P[0])),A[2]),b(h(b(k(A[1],L[0]),k(-L[1],A[0])),-P[2]),h(b(k(A[1],P[0]),k(-P[1],A[0])),L[2]))),-I[3]),b(h(b(h(b(k(I[1],L[0]),k(-L[1],I[0])),A[2]),b(h(b(k(A[1],L[0]),k(-L[1],A[0])),-I[2]),h(b(k(A[1],I[0]),k(-I[1],A[0])),L[2]))),P[3]),h(b(h(b(k(I[1],P[0]),k(-P[1],I[0])),A[2]),b(h(b(k(A[1],P[0]),k(-P[1],A[0])),-I[2]),h(b(k(A[1],I[0]),k(-I[1],A[0])),P[2]))),-L[3]))))),W=b(b(b(h(b(h(b(k(L[1],N[0]),k(-N[1],L[0])),P[2]),b(h(b(k(P[1],N[0]),k(-N[1],P[0])),-L[2]),h(b(k(P[1],L[0]),k(-L[1],P[0])),N[2]))),A[3]),h(b(h(b(k(L[1],N[0]),k(-N[1],L[0])),A[2]),b(h(b(k(A[1],N[0]),k(-N[1],A[0])),-L[2]),h(b(k(A[1],L[0]),k(-L[1],A[0])),N[2]))),-P[3])),b(h(b(h(b(k(P[1],N[0]),k(-N[1],P[0])),A[2]),b(h(b(k(A[1],N[0]),k(-N[1],A[0])),-P[2]),h(b(k(A[1],P[0]),k(-P[1],A[0])),N[2]))),L[3]),h(b(h(b(k(P[1],L[0]),k(-L[1],P[0])),A[2]),b(h(b(k(A[1],L[0]),k(-L[1],A[0])),-P[2]),h(b(k(A[1],P[0]),k(-P[1],A[0])),L[2]))),-N[3]))),b(b(h(b(h(b(k(P[1],N[0]),k(-N[1],P[0])),I[2]),b(h(b(k(I[1],N[0]),k(-N[1],I[0])),-P[2]),h(b(k(I[1],P[0]),k(-P[1],I[0])),N[2]))),A[3]),h(b(h(b(k(P[1],N[0]),k(-N[1],P[0])),A[2]),b(h(b(k(A[1],N[0]),k(-N[1],A[0])),-P[2]),h(b(k(A[1],P[0]),k(-P[1],A[0])),N[2]))),-I[3])),b(h(b(h(b(k(I[1],N[0]),k(-N[1],I[0])),A[2]),b(h(b(k(A[1],N[0]),k(-N[1],A[0])),-I[2]),h(b(k(A[1],I[0]),k(-I[1],A[0])),N[2]))),P[3]),h(b(h(b(k(I[1],P[0]),k(-P[1],I[0])),A[2]),b(h(b(k(A[1],P[0]),k(-P[1],A[0])),-I[2]),h(b(k(A[1],I[0]),k(-I[1],A[0])),P[2]))),-N[3])))),j=O(B,W);return j[j.length-1]}}function p(b){return(3===b?s:4===b?d:g)(a,u,o,l)}var T=p(3),_=p(4),y=[function(){return 0},function(){return 0},function(b,k){return k[0]-b[0]},function(b,k,h){var O,A=(b[1]-h[1])*(k[0]-h[0]),I=(b[0]-h[0])*(k[1]-h[1]),P=A-I;if(A>0){if(I<=0)return P;O=A+I}else{if(!(A<0)||I>=0)return P;O=-(A+I)}var L=33306690738754716e-32*O;return P>=L||P<=-L?P:T(b,k,h)},function(b,k,h,O){var A=b[0]-O[0],I=k[0]-O[0],P=h[0]-O[0],L=b[1]-O[1],N=k[1]-O[1],B=h[1]-O[1],W=b[2]-O[2],j=k[2]-O[2],Z=h[2]-O[2],V=I*B,q=P*N,G=P*L,H=A*B,ne=A*N,X=I*L,$=W*(V-q)+j*(G-H)+Z*(ne-X),Q=7771561172376103e-31*((Math.abs(V)+Math.abs(q))*Math.abs(W)+(Math.abs(G)+Math.abs(H))*Math.abs(j)+(Math.abs(ne)+Math.abs(X))*Math.abs(Z));return $>Q||-$>Q?$:_(b,k,h,O)}];function w(b){var k=y[b.length];return k||(k=y[b.length]=p(b.length)),k.apply(void 0,b)}function m(b,k,h,O,A,I,P){return function(L,N,B,W,j){switch(arguments.length){case 0:case 1:return 0;case 2:return O(L,N);case 3:return A(L,N,B);case 4:return I(L,N,B,W);case 5:return P(L,N,B,W,j)}for(var Z=new Array(arguments.length),V=0;V<arguments.length;++V)Z[V]=arguments[V];return b(Z)}}!function(){for(;y.length<=5;)y.push(p(y.length));v.exports=m.apply(void 0,[w].concat(y));for(var b=0;b<=5;++b)v.exports[b]=y[b]}()},2019:function(v,c,i){"use strict";var u=i(9662),a=i(8289);v.exports=function(o,l){if(1===o.length)return a(l,o[0]);if(1===l.length)return a(o,l[0]);if(0===o.length||0===l.length)return[0];var s=[0];if(o.length<l.length)for(var d=0;d<o.length;++d)s=u(s,a(l,o[d]));else for(d=0;d<l.length;++d)s=u(s,a(o,l[d]));return s}},8289:function(v,c,i){"use strict";var u=i(9660),a=i(87);v.exports=function(o,l){var s=o.length;if(1===s){var d=u(o[0],l);return d[0]?d:[d[1]]}var g=new Array(2*s),p=[.1,.1],T=[.1,.1],_=0;u(o[0],l,p),p[0]&&(g[_++]=p[0]);for(var y=1;y<s;++y){u(o[y],l,T),a(p[1],T[0],p),p[0]&&(g[_++]=p[0]);var m=T[1],b=p[1],k=m+b,h=b-(k-m);p[1]=k,h&&(g[_++]=h)}return p[1]&&(g[_++]=p[1]),0===_&&(g[_++]=0),g.length=_,g}},4434:function(v,c,i){"use strict";v.exports=function(a,o,l,s){var d=u(a,l,s),g=u(o,l,s);if(d>0&&g>0||d<0&&g<0)return!1;var p=u(l,a,o),T=u(s,a,o);return!(p>0&&T>0||p<0&&T<0)&&(0!==d||0!==g||0!==p||0!==T||function(_,y,w,m){for(var b=0;b<2;++b){var k=_[b],h=y[b],O=Math.min(k,h),A=Math.max(k,h),I=w[b],P=m[b],L=Math.min(I,P);if(Math.max(I,P)<O||A<L)return!1}return!0}(a,o,l,s))};var u=i(417)[3]},4078:function(v){"use strict";v.exports=function(c,i){var L,N,B,W,j,u=0|c.length,a=0|i.length;if(1===u&&1===a)return(j=(L=c[0])-((B=L+(N=-i[0]))-(W=B-L))+(N-W))?[j,B]:[B];var o,l,s=new Array(u+a),d=0,g=0,p=0,T=Math.abs,_=c[g],y=T(_),w=-i[p],m=T(w);y<m?(l=_,(g+=1)<u&&(y=T(_=c[g]))):(l=w,(p+=1)<a&&(m=T(w=-i[p]))),g<u&&y<m||p>=a?(o=_,(g+=1)<u&&(y=T(_=c[g]))):(o=w,(p+=1)<a&&(m=T(w=-i[p])));for(var b,k,h=o+l,O=h-o,A=l-O,I=A,P=h;g<u&&p<a;)y<m?(o=_,(g+=1)<u&&(y=T(_=c[g]))):(o=w,(p+=1)<a&&(m=T(w=-i[p]))),(A=(l=I)-(O=(h=o+l)-o))&&(s[d++]=A),I=P-((b=P+h)-(k=b-P))+(h-k),P=b;for(;g<u;)(A=(l=I)-(O=(h=(o=_)+l)-o))&&(s[d++]=A),I=P-((b=P+h)-(k=b-P))+(h-k),P=b,(g+=1)<u&&(_=c[g]);for(;p<a;)(A=(l=I)-(O=(h=(o=w)+l)-o))&&(s[d++]=A),I=P-((b=P+h)-(k=b-P))+(h-k),P=b,(p+=1)<a&&(w=-i[p]);return I&&(s[d++]=I),P&&(s[d++]=P),d||(s[d++]=0),s.length=d,s}},9662:function(v){"use strict";v.exports=function(c,i){var L,N,B,W,j,u=0|c.length,a=0|i.length;if(1===u&&1===a)return(j=(L=c[0])-((B=L+(N=i[0]))-(W=B-L))+(N-W))?[j,B]:[B];var o,l,s=new Array(u+a),d=0,g=0,p=0,T=Math.abs,_=c[g],y=T(_),w=i[p],m=T(w);y<m?(l=_,(g+=1)<u&&(y=T(_=c[g]))):(l=w,(p+=1)<a&&(m=T(w=i[p]))),g<u&&y<m||p>=a?(o=_,(g+=1)<u&&(y=T(_=c[g]))):(o=w,(p+=1)<a&&(m=T(w=i[p])));for(var b,k,h=o+l,O=h-o,A=l-O,I=A,P=h;g<u&&p<a;)y<m?(o=_,(g+=1)<u&&(y=T(_=c[g]))):(o=w,(p+=1)<a&&(m=T(w=i[p]))),(A=(l=I)-(O=(h=o+l)-o))&&(s[d++]=A),I=P-((b=P+h)-(k=b-P))+(h-k),P=b;for(;g<u;)(A=(l=I)-(O=(h=(o=_)+l)-o))&&(s[d++]=A),I=P-((b=P+h)-(k=b-P))+(h-k),P=b,(g+=1)<u&&(_=c[g]);for(;p<a;)(A=(l=I)-(O=(h=(o=w)+l)-o))&&(s[d++]=A),I=P-((b=P+h)-(k=b-P))+(h-k),P=b,(p+=1)<a&&(w=i[p]);return I&&(s[d++]=I),P&&(s[d++]=P),d||(s[d++]=0),s.length=d,s}},8691:function(v,c,i){"use strict";v.exports=function(o){return a(u(o))};var u=i(2692),a=i(7037)},7212:function(v,c,i){"use strict";v.exports=function(s,d,g,p){if(g=g||0,void 0===p&&(p=function(h){for(var O=h.length,A=0,I=0;I<O;++I)A=0|Math.max(A,h[I].length);return A-1}(s)),0===s.length||p<1)return{cells:[],vertexIds:[],vertexWeights:[]};var T=function(h,O){for(var A=h.length,I=a.mallocUint8(A),P=0;P<A;++P)I[P]=h[P]<O|0;return I}(d,+g),_=function(h,O){for(var A=h.length,P=a.mallocUint32(2*(O*(O+1)/2*A|0)),L=0,N=0;N<A;++N)for(var B=h[N],W=(O=B.length,0);W<O;++W)for(var j=0;j<W;++j){var Z=B[j],V=B[W];P[L++]=0|Math.min(Z,V),P[L++]=0|Math.max(Z,V)}o(u(P,[L/2|0,2]));var q=2;for(N=2;N<L;N+=2)P[N-2]===P[N]&&P[N-1]===P[N+1]||(P[q++]=P[N],P[q++]=P[N+1]);return u(P,[q/2|0,2])}(s,p),y=function(h,O,A,I){for(var P=h.data,L=h.shape[0],N=a.mallocDouble(L),B=0,W=0;W<L;++W){var j=P[2*W],Z=P[2*W+1];if(A[j]!==A[Z]){var V=O[j],q=O[Z];P[2*B]=j,P[2*B+1]=Z,N[B++]=(q-I)/(q-V)}}return h.shape[0]=B,u(N,[B])}(_,d,T,+g),w=function(h,O){var A=a.mallocInt32(2*O),I=h.shape[0],P=h.data;A[0]=0;for(var L=0,N=0;N<I;++N){var B=P[2*N];if(B!==L){for(A[2*L+1]=N;++L<B;)A[2*L]=N,A[2*L+1]=N;A[2*L]=N}}for(A[2*L+1]=I;++L<O;)A[2*L]=A[2*L+1]=I;return A}(_,0|d.length),m=l(p)(s,_.data,w,T),b=function(h){for(var O=0|h.shape[0],A=h.data,I=new Array(O),P=0;P<O;++P)I[P]=[A[2*P],A[2*P+1]];return I}(_),k=[].slice.call(y.data,0,y.shape[0]);return a.free(T),a.free(_.data),a.free(y.data),a.free(w),{cells:m,vertexIds:b,vertexWeights:k}};var u=i(5050),a=i(5306),o=i(8729),l=i(1168)},1168:function(v){"use strict";v.exports=function(i){return c[i]()};var c=[function(){return function(i,u,a,o){for(var l=i.length,s=0;s<l;++s);return[]}},function(){function i(u,a,o,l){for(var s=0|Math.min(o,l),d=0|Math.max(o,l),g=u[2*s],p=u[2*s+1];g<p;){var T=g+p>>1,_=a[2*T+1];if(_===d)return T;d<_?p=T:g=T+1}return g}return function(u,a,o,l){for(var s=u.length,d=[],g=0;g<s;++g){var p=u[g];if(2===p.length){var T=(l[p[0]]<<0)+(l[p[1]]<<1);if(0===T||3===T)continue;switch(T){case 0:case 3:break;case 1:d.push([i(o,a,p[0],p[1])]);break;case 2:d.push([i(o,a,p[1],p[0])])}}}return d}},function(){function i(u,a,o,l){for(var s=0|Math.min(o,l),d=0|Math.max(o,l),g=u[2*s],p=u[2*s+1];g<p;){var T=g+p>>1,_=a[2*T+1];if(_===d)return T;d<_?p=T:g=T+1}return g}return function(u,a,o,l){for(var s=u.length,d=[],g=0;g<s;++g){var p=u[g],T=p.length;if(3===T){if(0==(_=(l[p[0]]<<0)+(l[p[1]]<<1)+(l[p[2]]<<2))||7===_)continue;switch(_){case 0:case 7:break;case 1:d.push([i(o,a,p[0],p[2]),i(o,a,p[0],p[1])]);break;case 2:d.push([i(o,a,p[1],p[0]),i(o,a,p[1],p[2])]);break;case 3:d.push([i(o,a,p[0],p[2]),i(o,a,p[1],p[2])]);break;case 4:d.push([i(o,a,p[2],p[1]),i(o,a,p[2],p[0])]);break;case 5:d.push([i(o,a,p[2],p[1]),i(o,a,p[0],p[1])]);break;case 6:d.push([i(o,a,p[1],p[0]),i(o,a,p[2],p[0])])}}else if(2===T){var _;if(0==(_=(l[p[0]]<<0)+(l[p[1]]<<1))||3===_)continue;switch(_){case 0:case 3:break;case 1:d.push([i(o,a,p[0],p[1])]);break;case 2:d.push([i(o,a,p[1],p[0])])}}}return d}},function(){function i(u,a,o,l){for(var s=0|Math.min(o,l),d=0|Math.max(o,l),g=u[2*s],p=u[2*s+1];g<p;){var T=g+p>>1,_=a[2*T+1];if(_===d)return T;d<_?p=T:g=T+1}return g}return function(u,a,o,l){for(var s=u.length,d=[],g=0;g<s;++g){var p=u[g],T=p.length;if(4===T){if(0==(_=(l[p[0]]<<0)+(l[p[1]]<<1)+(l[p[2]]<<2)+(l[p[3]]<<3))||15===_)continue;switch(_){case 0:case 15:break;case 1:d.push([i(o,a,p[0],p[1]),i(o,a,p[0],p[2]),i(o,a,p[0],p[3])]);break;case 2:d.push([i(o,a,p[1],p[2]),i(o,a,p[1],p[0]),i(o,a,p[1],p[3])]);break;case 3:d.push([i(o,a,p[1],p[2]),i(o,a,p[0],p[2]),i(o,a,p[0],p[3])],[i(o,a,p[1],p[3]),i(o,a,p[1],p[2]),i(o,a,p[0],p[3])]);break;case 4:d.push([i(o,a,p[2],p[0]),i(o,a,p[2],p[1]),i(o,a,p[2],p[3])]);break;case 5:d.push([i(o,a,p[0],p[1]),i(o,a,p[2],p[1]),i(o,a,p[0],p[3])],[i(o,a,p[2],p[1]),i(o,a,p[2],p[3]),i(o,a,p[0],p[3])]);break;case 6:d.push([i(o,a,p[2],p[0]),i(o,a,p[1],p[0]),i(o,a,p[1],p[3])],[i(o,a,p[2],p[3]),i(o,a,p[2],p[0]),i(o,a,p[1],p[3])]);break;case 7:d.push([i(o,a,p[0],p[3]),i(o,a,p[1],p[3]),i(o,a,p[2],p[3])]);break;case 8:d.push([i(o,a,p[3],p[1]),i(o,a,p[3],p[0]),i(o,a,p[3],p[2])]);break;case 9:d.push([i(o,a,p[3],p[1]),i(o,a,p[0],p[1]),i(o,a,p[0],p[2])],[i(o,a,p[3],p[2]),i(o,a,p[3],p[1]),i(o,a,p[0],p[2])]);break;case 10:d.push([i(o,a,p[1],p[0]),i(o,a,p[3],p[0]),i(o,a,p[1],p[2])],[i(o,a,p[3],p[0]),i(o,a,p[3],p[2]),i(o,a,p[1],p[2])]);break;case 11:d.push([i(o,a,p[1],p[2]),i(o,a,p[0],p[2]),i(o,a,p[3],p[2])]);break;case 12:d.push([i(o,a,p[3],p[0]),i(o,a,p[2],p[0]),i(o,a,p[2],p[1])],[i(o,a,p[3],p[1]),i(o,a,p[3],p[0]),i(o,a,p[2],p[1])]);break;case 13:d.push([i(o,a,p[0],p[1]),i(o,a,p[2],p[1]),i(o,a,p[3],p[1])]);break;case 14:d.push([i(o,a,p[2],p[0]),i(o,a,p[1],p[0]),i(o,a,p[3],p[0])])}}else if(3===T){if(0==(_=(l[p[0]]<<0)+(l[p[1]]<<1)+(l[p[2]]<<2))||7===_)continue;switch(_){case 0:case 7:break;case 1:d.push([i(o,a,p[0],p[2]),i(o,a,p[0],p[1])]);break;case 2:d.push([i(o,a,p[1],p[0]),i(o,a,p[1],p[2])]);break;case 3:d.push([i(o,a,p[0],p[2]),i(o,a,p[1],p[2])]);break;case 4:d.push([i(o,a,p[2],p[1]),i(o,a,p[2],p[0])]);break;case 5:d.push([i(o,a,p[2],p[1]),i(o,a,p[0],p[1])]);break;case 6:d.push([i(o,a,p[1],p[0]),i(o,a,p[2],p[0])])}}else if(2===T){var _;if(0==(_=(l[p[0]]<<0)+(l[p[1]]<<1))||3===_)continue;switch(_){case 0:case 3:break;case 1:d.push([i(o,a,p[0],p[1])]);break;case 2:d.push([i(o,a,p[1],p[0])])}}}return d}}]},8211:function(v,c,i){"use strict";i(2288),i(1731),c.H=function(u,a){var o=u.length,l=u.length-a.length,s=Math.min;if(l)return l;switch(o){case 0:return 0;case 1:return u[0]-a[0];case 2:return(p=u[0]+u[1]-a[0]-a[1])||s(u[0],u[1])-s(a[0],a[1]);case 3:var d=u[0]+u[1],g=a[0]+a[1];if(p=d+u[2]-(g+a[2]))return p;var p,T=s(u[0],u[1]),_=s(a[0],a[1]);return(p=s(T,u[2])-s(_,a[2]))||s(T+u[2],d)-s(_+a[2],g);default:var y=u.slice(0);y.sort();var w=a.slice(0);w.sort();for(var m=0;m<o;++m)if(l=y[m]-w[m])return l;return 0}}},9392:function(v,c){"use strict";function i(a){var o=32;return(a&=-a)&&o--,65535&a&&(o-=16),16711935&a&&(o-=8),252645135&a&&(o-=4),858993459&a&&(o-=2),1431655765&a&&(o-=1),o}c.INT_BITS=32,c.INT_MAX=2147483647,c.INT_MIN=-2147483648,c.sign=function(a){return(a>0)-(a<0)},c.abs=function(a){var o=a>>31;return(a^o)-o},c.min=function(a,o){return o^(a^o)&-(a<o)},c.max=function(a,o){return a^(a^o)&-(a<o)},c.isPow2=function(a){return!(a&a-1||!a)},c.log2=function(a){var o,l;return o=(a>65535)<<4,o|=l=((a>>>=o)>255)<<3,o|=l=((a>>>=l)>15)<<2,(o|=l=((a>>>=l)>3)<<1)|(a>>>=l)>>1},c.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},c.popCount=function(a){return 16843009*((a=(858993459&(a-=a>>>1&1431655765))+(a>>>2&858993459))+(a>>>4)&252645135)>>>24},c.countTrailingZeros=i,c.nextPow2=function(a){return a+=0===a,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,1+((a|=a>>>8)|a>>>16)},c.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,(a|=a>>>16)-(a>>>1)},c.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,27030>>>(a&=15)&1};var u=new Array(256);(function(a){for(var o=0;o<256;++o){var l=o,s=o,d=7;for(l>>>=1;l;l>>>=1)s<<=1,s|=1&l,--d;a[o]=s<<d&255}})(u),c.reverse=function(a){return u[255&a]<<24|u[a>>>8&255]<<16|u[a>>>16&255]<<8|u[a>>>24&255]},c.interleave2=function(a,o){return(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a&=65535)|a<<8))|a<<4))|a<<2))|a<<1))|(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o&=65535)|o<<8))|o<<4))|o<<2))|o<<1))<<1},c.deinterleave2=function(a,o){return(a=65535&((a=16711935&((a=252645135&((a=858993459&((a=a>>>o&1431655765)|a>>>1))|a>>>2))|a>>>4))|a>>>16))<<16>>16},c.interleave3=function(a,o,l){return a=1227133513&((a=3272356035&((a=251719695&((a=4278190335&((a&=1023)|a<<16))|a<<8))|a<<4))|a<<2),(a|=(o=1227133513&((o=3272356035&((o=251719695&((o=4278190335&((o&=1023)|o<<16))|o<<8))|o<<4))|o<<2))<<1)|(l=1227133513&((l=3272356035&((l=251719695&((l=4278190335&((l&=1023)|l<<16))|l<<8))|l<<4))|l<<2))<<2},c.deinterleave3=function(a,o){return(a=1023&((a=4278190335&((a=251719695&((a=3272356035&((a=a>>>o&1227133513)|a>>>2))|a>>>4))|a>>>8))|a>>>16))<<22>>22},c.nextCombination=function(a){var o=a|a-1;return o+1|(~o&-~o)-1>>>i(a)+1}},6656:function(v,c,i){"use strict";var u=i(9392),a=i(9521);function o(_,y){var w=_.length,m=_.length-y.length,b=Math.min;if(m)return m;switch(w){case 0:return 0;case 1:return _[0]-y[0];case 2:return(O=_[0]+_[1]-y[0]-y[1])||b(_[0],_[1])-b(y[0],y[1]);case 3:var k=_[0]+_[1],h=y[0]+y[1];if(O=k+_[2]-(h+y[2]))return O;var O,A=b(_[0],_[1]),I=b(y[0],y[1]);return(O=b(A,_[2])-b(I,y[2]))||b(A+_[2],k)-b(I+y[2],h);default:var P=_.slice(0);P.sort();var L=y.slice(0);L.sort();for(var N=0;N<w;++N)if(m=P[N]-L[N])return m;return 0}}function l(_,y){return o(_[0],y[0])}function s(_,y){if(y){for(var w=_.length,m=new Array(w),b=0;b<w;++b)m[b]=[_[b],y[b]];for(m.sort(l),b=0;b<w;++b)_[b]=m[b][0],y[b]=m[b][1];return _}return _.sort(o),_}function d(_){if(0===_.length)return[];for(var y=1,w=_.length,m=1;m<w;++m){var b=_[m];if(o(b,_[m-1])){if(m===y){y++;continue}_[y++]=b}}return _.length=y,_}function g(_,y){for(var w=0,m=_.length-1,b=-1;w<=m;){var k=w+m>>1,h=o(_[k],y);h<=0?(0===h&&(b=k),w=k+1):h>0&&(m=k-1)}return b}function p(_,y){for(var w=new Array(_.length),m=0,b=w.length;m<b;++m)w[m]=[];for(var k=[],h=(m=0,y.length);m<h;++m)for(var O=y[m],A=O.length,I=1,P=1<<A;I<P;++I){k.length=u.popCount(I);for(var L=0,N=0;N<A;++N)I&1<<N&&(k[L++]=O[N]);var B=g(_,k);if(!(B<0))for(;w[B++].push(m),!(B>=_.length||0!==o(_[B],k)););}return w}function T(_,y){if(y<0)return[];for(var w=[],m=(1<<y+1)-1,b=0;b<_.length;++b)for(var k=_[b],h=m;h<1<<k.length;h=u.nextCombination(h)){for(var O=new Array(y+1),A=0,I=0;I<k.length;++I)h&1<<I&&(O[A++]=k[I]);w.push(O)}return s(w)}c.dimension=function(_){for(var y=0,w=Math.max,m=0,b=_.length;m<b;++m)y=w(y,_[m].length);return y-1},c.countVertices=function(_){for(var y=-1,w=Math.max,m=0,b=_.length;m<b;++m)for(var k=_[m],h=0,O=k.length;h<O;++h)y=w(y,k[h]);return y+1},c.cloneCells=function(_){for(var y=new Array(_.length),w=0,m=_.length;w<m;++w)y[w]=_[w].slice(0);return y},c.compareCells=o,c.normalize=s,c.unique=d,c.findCell=g,c.incidence=p,c.dual=function(_,y){if(!y)return p(d(T(_,0)),_);for(var w=new Array(y),m=0;m<y;++m)w[m]=[];m=0;for(var b=_.length;m<b;++m)for(var k=_[m],h=0,O=k.length;h<O;++h)w[k[h]].push(m);return w},c.explode=function(_){for(var y=[],w=0,m=_.length;w<m;++w)for(var b=_[w],k=0|b.length,h=1,O=1<<k;h<O;++h){for(var A=[],I=0;I<k;++I)h>>>I&1&&A.push(b[I]);y.push(A)}return s(y)},c.skeleton=T,c.boundary=function(_){for(var y=[],w=0,m=_.length;w<m;++w)for(var b=_[w],k=0,h=b.length;k<h;++k){for(var O=new Array(b.length-1),A=0,I=0;A<h;++A)A!==k&&(O[I++]=b[A]);y.push(O)}return s(y)},c.connectedComponents=function(_,y){return y?function(w,m){for(var b=new a(m),k=0;k<w.length;++k)for(var h=w[k],O=0;O<h.length;++O)for(var A=O+1;A<h.length;++A)b.link(h[O],h[A]);var I=[],P=b.ranks;for(k=0;k<P.length;++k)P[k]=-1;for(k=0;k<w.length;++k){var L=b.find(w[k][0]);P[L]<0?(P[L]=I.length,I.push([w[k].slice(0)])):I[P[L]].push(w[k].slice(0))}return I}(_,y):function(w){for(var m=d(s(T(w,0))),b=new a(m.length),k=0;k<w.length;++k)for(var h=w[k],O=0;O<h.length;++O)for(var A=g(m,[h[O]]),I=O+1;I<h.length;++I)b.link(A,g(m,[h[I]]));var P=[],L=b.ranks;for(k=0;k<L.length;++k)L[k]=-1;for(k=0;k<w.length;++k){var N=b.find(g(m,[w[k][0]]));L[N]<0?(L[N]=P.length,P.push([w[k].slice(0)])):P[L[N]].push(w[k].slice(0))}return P}(_)}},9521:function(v){"use strict";function c(i){this.roots=new Array(i),this.ranks=new Array(i);for(var u=0;u<i;++u)this.roots[u]=u,this.ranks[u]=0}v.exports=c,c.prototype.length=function(){return this.roots.length},c.prototype.makeSet=function(){var i=this.roots.length;return this.roots.push(i),this.ranks.push(0),i},c.prototype.find=function(i){for(var u=this.roots;u[i]!==i;){var a=u[i];u[i]=u[a],i=a}return i},c.prototype.link=function(i,u){var a=this.find(i),o=this.find(u);if(a!==o){var l=this.ranks,s=this.roots,d=l[a],g=l[o];d<g?s[a]=o:g<d?s[o]=a:(s[o]=a,++l[a])}}},8243:function(v,c,i){"use strict";v.exports=function(o,l,s){for(var d=l.length,g=o.length,p=new Array(d),T=new Array(d),_=new Array(d),y=new Array(d),w=0;w<d;++w)p[w]=T[w]=-1,_[w]=1/0,y[w]=!1;for(w=0;w<g;++w){var m=o[w];if(2!==m.length)throw new Error("Input must be a graph");var b=m[1],k=m[0];T[k]=-1!==T[k]?-2:b,p[b]=-1!==p[b]?-2:k}function h(X){if(y[X])return 1/0;var Q,te,re=p[X],le=T[X];return re<0||le<0?1/0:(Q=l[re],te=l[le],Math.abs(u(l[X],Q,te))/Math.sqrt(Math.pow(Q[0]-te[0],2)+Math.pow(Q[1]-te[1],2)))}function O(X,$){var Q=j[X],te=j[$];j[X]=te,j[$]=Q,Z[Q]=$,Z[te]=X}function A(X){return _[j[X]]}function I(X){return 1&X?X-1>>1:(X>>1)-1}function P(X){for(var $=A(X);;){var Q=$,te=2*X+1,re=2*(X+1),le=X;if(te<V){var ue=A(te);ue<Q&&(le=te,Q=ue)}if(re<V&&A(re)<Q&&(le=re),le===X)return X;O(X,le),X=le}}function L(X){for(var $=A(X);X>0;){var Q=I(X);if(!(Q>=0&&$<A(Q)))return X;O(X,Q),X=Q}}function N(){if(V>0){var X=j[0];return O(0,V-1),V-=1,P(0),X}return-1}function B(X,$){var Q=j[X];return _[Q]===$?X:(_[Q]=-1/0,L(X),N(),_[Q]=$,L((V+=1)-1))}function W(X){if(!y[X]){y[X]=!0;var $=p[X],Q=T[X];p[Q]>=0&&(p[Q]=$),T[$]>=0&&(T[$]=Q),Z[$]>=0&&B(Z[$],h($)),Z[Q]>=0&&B(Z[Q],h(Q))}}var j=[],Z=new Array(d);for(w=0;w<d;++w)(_[w]=h(w))<1/0?(Z[w]=j.length,j.push(w)):Z[w]=-1;var V=j.length;for(w=V>>1;w>=0;--w)P(w);for(;;){var q=N();if(q<0||_[q]>s)break;W(q)}var G=[];for(w=0;w<d;++w)y[w]||(Z[w]=G.length,G.push(l[w].slice()));function H(X,$){if(X[$]<0)return $;var Q=$,te=$;do{var re=X[te];if(!y[te]||re<0||re===te||(re=X[te=re],!y[te]||re<0||re===te))break;te=re,Q=X[Q]}while(Q!==te);for(var le=$;le!==te;le=X[le])X[le]=te;return te}var ne=[];return o.forEach(function(X){var $=H(p,X[0]),Q=H(T,X[1]);if($>=0&&Q>=0&&$!==Q){var te=Z[$],re=Z[Q];te!==re&&ne.push([te,re])}}),a.unique(a.normalize(ne)),{positions:G,edges:ne}};var u=i(417),a=i(6656)},6638:function(v,c,i){"use strict";v.exports=function(o,l){var s,d,g,p;if(l[0][0]<l[1][0])s=l[0],d=l[1];else{if(!(l[0][0]>l[1][0]))return a(l,o);s=l[1],d=l[0]}if(o[0][0]<o[1][0])g=o[0],p=o[1];else{if(!(o[0][0]>o[1][0]))return-a(o,l);g=o[1],p=o[0]}var T=u(s,d,p),_=u(s,d,g);if(T<0){if(_<=0)return T}else if(T>0){if(_>=0)return T}else if(_)return _;if(T=u(p,g,d),_=u(p,g,s),T<0){if(_<=0)return T}else if(T>0){if(_>=0)return T}else if(_)return _;return d[0]-p[0]};var u=i(417);function a(o,l){var s,d,g,p;if(l[0][0]<l[1][0])s=l[0],d=l[1];else{if(!(l[0][0]>l[1][0])){var T=Math.min(o[0][1],o[1][1]),_=Math.max(o[0][1],o[1][1]),y=Math.min(l[0][1],l[1][1]),w=Math.max(l[0][1],l[1][1]);return _<y?_-y:T>w?T-w:_-w}s=l[1],d=l[0]}o[0][1]<o[1][1]?(g=o[0],p=o[1]):(g=o[1],p=o[0]);var m=u(d,s,g);return m||(m=u(d,s,p))||p-d}},4385:function(v,c,i){"use strict";v.exports=function(_){for(var y=_.length,w=2*y,m=new Array(w),b=0;b<y;++b){var k=_[b],h=k[0][0]<k[1][0];m[2*b]=new T(k[0][0],k,h,b),m[2*b+1]=new T(k[1][0],k,!h,b)}m.sort(function(W,j){var Z=W.x-j.x;return Z||(Z=W.create-j.create)||Math.min(W.segment[0][1],W.segment[1][1])-Math.min(j.segment[0][1],j.segment[1][1])});var O=a(l),A=[],I=[],P=[];for(b=0;b<w;){for(var L=m[b].x,N=[];b<w;){var B=m[b];if(B.x!==L)break;b+=1,B.segment[0][0]===B.x&&B.segment[1][0]===B.x?B.create&&(B.segment[0][1]<B.segment[1][1]?(N.push(new p(B.segment[0][1],B.index,!0,!0)),N.push(new p(B.segment[1][1],B.index,!1,!1))):(N.push(new p(B.segment[1][1],B.index,!0,!1)),N.push(new p(B.segment[0][1],B.index,!1,!0)))):O=B.create?O.insert(B.segment,B.index):O.remove(B.segment)}A.push(O.root),I.push(L),P.push(N)}return new s(A,I,P)};var u=i(5070),a=i(7080),o=i(417),l=i(6638);function s(_,y,w){this.slabs=_,this.coordinates=y,this.horizontal=w}function d(_,y){return _.y-y}function g(_,y){for(var w=null;_;){var m,b,k=_.key;k[0][0]<k[1][0]?(m=k[0],b=k[1]):(m=k[1],b=k[0]);var h=o(m,b,y);if(h<0)_=_.left;else if(h>0)if(y[0]!==k[1][0])w=_,_=_.right;else{if(O=g(_.right,y))return O;_=_.left}else{if(y[0]!==k[1][0])return _;var O;if(O=g(_.right,y))return O;_=_.left}}return w}function p(_,y,w,m){this.y=_,this.index=y,this.start=w,this.closed=m}function T(_,y,w,m){this.x=_,this.segment=y,this.create=w,this.index=m}s.prototype.castUp=function(_){var y=u.le(this.coordinates,_[0]);if(y<0)return-1;var w=g(this.slabs[y],_),m=-1;if(w&&(m=w.value),this.coordinates[y]===_[0]){var b=null;if(w&&(b=w.key),y>0){var k=g(this.slabs[y-1],_);k&&(b?l(k.key,b)>0&&(b=k.key,m=k.value):(m=k.value,b=k.key))}var h=this.horizontal[y];if(h.length>0){var O=u.ge(h,_[1],d);if(O<h.length){var A=h[O];if(_[1]===A.y){if(A.closed)return A.index;for(;O<h.length-1&&h[O+1].y===_[1];)if((A=h[O+=1]).closed)return A.index;if(A.y===_[1]&&!A.start){if((O+=1)>=h.length)return m;A=h[O]}}if(A.start)if(b){var I=o(b[0],b[1],[_[0],A.y]);b[0][0]>b[1][0]&&(I=-I),I>0&&(m=A.index)}else m=A.index;else A.y!==_[1]&&(m=A.index)}}}return m}},4670:function(v,c,i){"use strict";var u=i(9130),a=i(9662);function o(s,d){var g=a(u(s,d),[d[d.length-1]]);return g[g.length-1]}function l(s,d,g,p){var T=-d/(p-d);T<0?T=0:T>1&&(T=1);for(var _=1-T,y=s.length,w=new Array(y),m=0;m<y;++m)w[m]=T*s[m]+_*g[m];return w}v.exports=function(s,d){for(var g=[],p=[],T=o(s[s.length-1],d),_=s[s.length-1],y=s[0],w=0;w<s.length;++w,_=y){var m=o(y=s[w],d);if(T<0&&m>0||T>0&&m<0){var b=l(_,m,y,T);g.push(b),p.push(b.slice())}m<0?p.push(y.slice()):m>0?g.push(y.slice()):(g.push(y.slice()),p.push(y.slice())),T=m}return{positive:g,negative:p}},v.exports.positive=function(s,d){for(var g=[],p=o(s[s.length-1],d),T=s[s.length-1],_=s[0],y=0;y<s.length;++y,T=_){var w=o(_=s[y],d);(p<0&&w>0||p>0&&w<0)&&g.push(l(T,w,_,p)),w>=0&&g.push(_.slice()),p=w}return g},v.exports.negative=function(s,d){for(var g=[],p=o(s[s.length-1],d),T=s[s.length-1],_=s[0],y=0;y<s.length;++y,T=_){var w=o(_=s[y],d);(p<0&&w>0||p>0&&w<0)&&g.push(l(T,w,_,p)),w<=0&&g.push(_.slice()),p=w}return g}},8974:function(v,c,i){var u;!function(){"use strict";var a={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function o(p){return s(g(p),arguments)}function l(p,T){return o.apply(null,[p].concat(T||[]))}function s(p,T){var _,y,w,m,b,k,h,O,A,I=1,P=p.length,L="";for(y=0;y<P;y++)if("string"==typeof p[y])L+=p[y];else if("object"==typeof p[y]){if((m=p[y]).keys)for(_=T[I],w=0;w<m.keys.length;w++){if(null==_)throw new Error(o('[sprintf] Cannot access property "%s" of undefined value "%s"',m.keys[w],m.keys[w-1]));_=_[m.keys[w]]}else _=m.param_no?T[m.param_no]:T[I++];if(a.not_type.test(m.type)&&a.not_primitive.test(m.type)&&_ instanceof Function&&(_=_()),a.numeric_arg.test(m.type)&&"number"!=typeof _&&isNaN(_))throw new TypeError(o("[sprintf] expecting number but found %T",_));switch(a.number.test(m.type)&&(O=_>=0),m.type){case"b":_=parseInt(_,10).toString(2);break;case"c":_=String.fromCharCode(parseInt(_,10));break;case"d":case"i":_=parseInt(_,10);break;case"j":_=JSON.stringify(_,null,m.width?parseInt(m.width):0);break;case"e":_=m.precision?parseFloat(_).toExponential(m.precision):parseFloat(_).toExponential();break;case"f":_=m.precision?parseFloat(_).toFixed(m.precision):parseFloat(_);break;case"g":_=m.precision?String(Number(_.toPrecision(m.precision))):parseFloat(_);break;case"o":_=(parseInt(_,10)>>>0).toString(8);break;case"s":_=String(_),_=m.precision?_.substring(0,m.precision):_;break;case"t":_=String(!!_),_=m.precision?_.substring(0,m.precision):_;break;case"T":_=Object.prototype.toString.call(_).slice(8,-1).toLowerCase(),_=m.precision?_.substring(0,m.precision):_;break;case"u":_=parseInt(_,10)>>>0;break;case"v":_=_.valueOf(),_=m.precision?_.substring(0,m.precision):_;break;case"x":_=(parseInt(_,10)>>>0).toString(16);break;case"X":_=(parseInt(_,10)>>>0).toString(16).toUpperCase()}a.json.test(m.type)?L+=_:(!a.number.test(m.type)||O&&!m.sign?A="":(A=O?"+":"-",_=_.toString().replace(a.sign,"")),k=m.pad_char?"0"===m.pad_char?"0":m.pad_char.charAt(1):" ",h=m.width-(A+_).length,b=m.width&&h>0?k.repeat(h):"",L+=m.align?A+_+b:"0"===k?A+b+_:b+A+_)}return L}var d=Object.create(null);function g(p){if(d[p])return d[p];for(var T,_=p,y=[],w=0;_;){if(null!==(T=a.text.exec(_)))y.push(T[0]);else if(null!==(T=a.modulo.exec(_)))y.push("%");else{if(null===(T=a.placeholder.exec(_)))throw new SyntaxError("[sprintf] unexpected placeholder");if(T[2]){w|=1;var m=[],b=T[2],k=[];if(null===(k=a.key.exec(b)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(m.push(k[1]);""!==(b=b.substring(k[0].length));)if(null!==(k=a.key_access.exec(b)))m.push(k[1]);else{if(null===(k=a.index_access.exec(b)))throw new SyntaxError("[sprintf] failed to parse named argument key");m.push(k[1])}T[2]=m}else w|=2;if(3===w)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");y.push({placeholder:T[0],param_no:T[1],keys:T[2],sign:T[3],pad_char:T[4],align:T[5],width:T[6],precision:T[7],type:T[8]})}_=_.substring(T[0].length)}return d[p]=y}c.sprintf=o,c.vsprintf=l,typeof window<"u"&&(window.sprintf=o,window.vsprintf=l,void 0===(u=function(){return{sprintf:o,vsprintf:l}}.call(c,i,c,v))||(v.exports=u))}()},4162:function(v,c,i){"use strict";v.exports=function(s,d){if(s.dimension<=0)return{positions:[],cells:[]};if(1===s.dimension)return function(T,_){for(var y=a(T,_),w=y.length,m=new Array(w),b=new Array(w),k=0;k<w;++k)m[k]=[y[k]],b[k]=[k];return{positions:m,cells:b}}(s,d);var g=s.order.join()+"-"+s.dtype,p=l[g];return d=+d||0,p||(p=l[g]=function(T,_){var w=o[T.length+"d"];if(w)return w(u,T,_)}(s.order,s.dtype)),p(s,d)};var u=i(9284),a=i(9584),o={"2d":function(s,d,g){var p=s({order:d,scalarArguments:3,getters:"generic"===g?[0]:void 0,phase:function(T,_,y,w){return T>w|0},vertex:function(T,_,y,w,m,b,k,h,O,A,I,P,L){var N=(k<<0)+(h<<1)+(O<<2)+(A<<3)|0;if(0!==N&&15!==N)switch(N){case 0:case 15:I.push([T-.5,_-.5]);break;case 1:I.push([T-.25-.25*(w+y-2*L)/(y-w),_-.25-.25*(m+y-2*L)/(y-m)]);break;case 2:I.push([T-.75-.25*(-w-y+2*L)/(w-y),_-.25-.25*(b+w-2*L)/(w-b)]);break;case 3:I.push([T-.5,_-.5-.5*(m+y+b+w-4*L)/(y-m+w-b)]);break;case 4:I.push([T-.25-.25*(b+m-2*L)/(m-b),_-.75-.25*(-m-y+2*L)/(m-y)]);break;case 5:I.push([T-.5-.5*(w+y+b+m-4*L)/(y-w+m-b),_-.5]);break;case 6:I.push([T-.5-.25*(-w-y+b+m)/(w-y+m-b),_-.5-.25*(-m-y+b+w)/(m-y+w-b)]);break;case 7:I.push([T-.75-.25*(b+m-2*L)/(m-b),_-.75-.25*(b+w-2*L)/(w-b)]);break;case 8:I.push([T-.75-.25*(-b-m+2*L)/(b-m),_-.75-.25*(-b-w+2*L)/(b-w)]);break;case 9:I.push([T-.5-.25*(w+y+-b-m)/(y-w+b-m),_-.5-.25*(m+y+-b-w)/(y-m+b-w)]);break;case 10:I.push([T-.5-.5*(-w-y-b-m+4*L)/(w-y+b-m),_-.5]);break;case 11:I.push([T-.25-.25*(-b-m+2*L)/(b-m),_-.75-.25*(m+y-2*L)/(y-m)]);break;case 12:I.push([T-.5,_-.5-.5*(-m-y-b-w+4*L)/(m-y+b-w)]);break;case 13:I.push([T-.75-.25*(w+y-2*L)/(y-w),_-.25-.25*(-b-w+2*L)/(b-w)]);break;case 14:I.push([T-.25-.25*(-w-y+2*L)/(w-y),_-.25-.25*(-m-y+2*L)/(m-y)])}},cell:function(T,_,y,w,m,b,k,h,O){h.push(m?[T,_]:[_,T])}});return function(T,_){var y=[],w=[];return p(T,y,w,_),{positions:y,cells:w}}}},l={}},6946:function(v,c,i){"use strict";v.exports=function l(s,d,g){g=g||{};var p=o[s];p||(p=o[s]={" ":{data:new Float32Array(0),shape:.2}});var T=p[d];if(!T)if(d.length<=1||!/\d/.test(d))T=p[d]=function(P){for(var L=P.cells,N=P.positions,B=new Float32Array(6*L.length),W=0,j=0,Z=0;Z<L.length;++Z)for(var V=L[Z],q=0;q<3;++q){var G=N[V[q]];B[W++]=G[0],B[W++]=G[1]+1.4,j=Math.max(G[0],j)}return{data:B,shape:j}}(u(d,{triangles:!0,font:s,textAlign:g.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var _=d.split(/(\d|\s)/),y=new Array(_.length),w=0,m=0,b=0;b<_.length;++b)y[b]=l(s,_[b]),w+=y[b].data.length,m+=y[b].shape,b>0&&(m+=.02);var k=new Float32Array(w),h=0,O=-.5*m;for(b=0;b<y.length;++b){for(var A=y[b].data,I=0;I<A.length;I+=2)k[h++]=A[I]+O,k[h++]=A[I+1];O+=y[b].shape+.02}T=p[d]={data:k,shape:m}}return T};var u=i(875),a=window||E.global||{},o=a.__TEXT_CACHE||{};a.__TEXT_CACHE={}},14:function(v,c,i){"use strict";var u=i(4405);function a(l,s){var d=u(getComputedStyle(l).getPropertyValue(s));return d[0]*o(d[1],l)}function o(l,s){switch(s=s||document.body,l=(l||"px").trim().toLowerCase(),s!==window&&s!==document||(s=document.body),l){case"%":return s.clientHeight/100;case"ch":case"ex":return function(d,g){var p=document.createElement("div");p.style["font-size"]="128"+d,g.appendChild(p);var T=a(p,"font-size")/128;return g.removeChild(p),T}(l,s);case"em":return a(s,"font-size");case"rem":return a(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return 96;case"cm":return 37.79527559055118;case"mm":return 3.7795275590551185;case"pt":return 1.3333333333333333;case"pc":return 16}return 1}v.exports=o},3440:function(v,c,i){"use strict";v.exports=function(m){var b=(m=m||{}).center||[0,0,0],k=m.up||[0,1,0],h=m.right||T(k),O=m.radius||1,A=m.theta||0,I=m.phi||0;if(b=[].slice.call(b,0,3),k=[].slice.call(k,0,3),s(k,k),h=[].slice.call(h,0,3),s(h,h),"eye"in m){var P=m.eye,L=[P[0]-b[0],P[1]-b[1],P[2]-b[2]];l(h,L,k),g(h[0],h[1],h[2])<1e-6?h=T(k):s(h,h),O=g(L[0],L[1],L[2]);var N=d(k,L)/O,B=d(h,L)/O;I=Math.acos(N),A=Math.acos(B)}return O=Math.log(O),new _(m.zoomMin,m.zoomMax,b,k,h,O,A,I)};var u=i(8444),a=i(7437),o=i(4422),l=i(903),s=i(899),d=i(9305);function g(m,b,k){return Math.sqrt(Math.pow(m,2)+Math.pow(b,2)+Math.pow(k,2))}function p(m){return Math.min(1,Math.max(-1,m))}function T(m){var b=Math.abs(m[0]),k=Math.abs(m[1]),h=Math.abs(m[2]),O=[0,0,0];b>Math.max(k,h)?O[2]=1:k>Math.max(b,h)?O[0]=1:O[1]=1;for(var A=0,I=0,P=0;P<3;++P)A+=m[P]*m[P],I+=O[P]*m[P];for(P=0;P<3;++P)O[P]-=I/A*m[P];return s(O,O),O}function _(m,b,k,h,O,A,I,P){this.center=u(k),this.up=u(h),this.right=u(O),this.radius=u([A]),this.angle=u([I,P]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(m,b),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var L=0;L<16;++L)this.computedMatrix[L]=.5;this.recalcMatrix(0)}var y=_.prototype;y.setDistanceLimits=function(m,b){m=m>0?Math.log(m):-1/0,b=b>0?Math.log(b):1/0,b=Math.max(b,m),this.radius.bounds[0][0]=m,this.radius.bounds[1][0]=b},y.getDistanceLimits=function(m){var b=this.radius.bounds[0];return m?(m[0]=Math.exp(b[0][0]),m[1]=Math.exp(b[1][0]),m):[Math.exp(b[0][0]),Math.exp(b[1][0])]},y.recalcMatrix=function(m){this.center.curve(m),this.up.curve(m),this.right.curve(m),this.radius.curve(m),this.angle.curve(m);for(var b=this.computedUp,k=this.computedRight,h=0,O=0,A=0;A<3;++A)O+=b[A]*k[A],h+=b[A]*b[A];var I=Math.sqrt(h),P=0;for(A=0;A<3;++A)k[A]-=b[A]*O/h,P+=k[A]*k[A],b[A]/=I;var L=Math.sqrt(P);for(A=0;A<3;++A)k[A]/=L;var N=this.computedToward;l(N,b,k),s(N,N);var B=Math.exp(this.computedRadius[0]),W=this.computedAngle[0],j=this.computedAngle[1],Z=Math.cos(W),V=Math.sin(W),q=Math.cos(j),G=Math.sin(j),H=this.computedCenter,ne=Z*q,X=V*q,$=G,Q=-Z*G,te=-V*G,re=q,le=this.computedEye,ue=this.computedMatrix;for(A=0;A<3;++A){var he=ne*k[A]+X*N[A]+$*b[A];ue[4*A+1]=Q*k[A]+te*N[A]+re*b[A],ue[4*A+2]=he,ue[4*A+3]=0}var ge=ue[1],xe=ue[5],ke=ue[9],Ae=ue[2],pe=ue[6],ye=ue[10],Ne=xe*ye-ke*pe,be=ke*Ae-ge*ye,Ee=ge*pe-xe*Ae,Oe=g(Ne,be,Ee);for(be/=Oe,Ee/=Oe,ue[0]=Ne/=Oe,ue[4]=be,ue[8]=Ee,A=0;A<3;++A)le[A]=H[A]+ue[2+4*A]*B;for(A=0;A<3;++A){P=0;for(var De=0;De<3;++De)P+=ue[A+4*De]*le[De];ue[12+A]=-P}ue[15]=1},y.getMatrix=function(m,b){this.recalcMatrix(m);var k=this.computedMatrix;if(b){for(var h=0;h<16;++h)b[h]=k[h];return b}return k};var w=[0,0,0];y.rotate=function(m,b,k,h){if(this.angle.move(m,b,k),h){this.recalcMatrix(m);var O=this.computedMatrix;w[0]=O[2],w[1]=O[6],w[2]=O[10];for(var A=this.computedUp,I=this.computedRight,P=this.computedToward,L=0;L<3;++L)O[4*L]=A[L],O[4*L+1]=I[L],O[4*L+2]=P[L];for(o(O,O,h,w),L=0;L<3;++L)A[L]=O[4*L],I[L]=O[4*L+1];this.up.set(m,A[0],A[1],A[2]),this.right.set(m,I[0],I[1],I[2])}},y.pan=function(m,b,k,h){b=b||0,k=k||0,h=h||0,this.recalcMatrix(m);var O=this.computedMatrix,A=(Math.exp(this.computedRadius[0]),O[1]),I=O[5],P=O[9],L=g(A,I,P),N=O[0],B=O[4],W=O[8],j=N*(A/=L)+B*(I/=L)+W*(P/=L),Z=g(N-=A*j,B-=I*j,W-=P*j),V=(N/=Z)*b+A*k,q=(B/=Z)*b+I*k,G=(W/=Z)*b+P*k;this.center.move(m,V,q,G);var H=Math.exp(this.computedRadius[0]);H=Math.max(1e-4,H+h),this.radius.set(m,Math.log(H))},y.translate=function(m,b,k,h){this.center.move(m,b||0,k||0,h||0)},y.setMatrix=function(m,b,k,h){var O=1;"number"==typeof k&&(O=0|k),(O<0||O>3)&&(O=1);var A=(O+2)%3;b||(this.recalcMatrix(m),b=this.computedMatrix);var I=b[O],P=b[O+4],L=b[O+8];if(h){var N=Math.abs(I),B=Math.abs(P),W=Math.abs(L),j=Math.max(N,B,W);N===j?(I=I<0?-1:1,P=L=0):W===j?(L=L<0?-1:1,I=P=0):(P=P<0?-1:1,I=L=0)}else{var Z=g(I,P,L);I/=Z,P/=Z,L/=Z}var V,q,G=b[A],H=b[A+4],ne=b[A+8],X=G*I+H*P+ne*L,$=g(G-=I*X,H-=P*X,ne-=L*X),Q=P*(ne/=$)-L*(H/=$),te=L*(G/=$)-I*ne,re=I*H-P*G,le=g(Q,te,re);if(Q/=le,te/=le,re/=le,this.center.jump(m,Me,Pe,Ue),this.radius.idle(m),this.up.jump(m,I,P,L),this.right.jump(m,G,H,ne),2===O){var ue=b[1],he=b[5],ge=b[9];V=Ne<0?-Math.PI/2:Math.PI/2,q=Math.atan2(ue*Q+he*te+ge*re,ue*G+he*H+ge*ne)}else{var Ae=b[2],pe=b[6],ye=b[10],Ne=Ae*I+pe*P+ye*L,be=Ae*G+pe*H+ye*ne,Ee=Ae*Q+pe*te+ye*re;V=Math.asin(p(Ne)),q=Math.atan2(Ee,be)}this.angle.jump(m,q,V),this.recalcMatrix(m);var Oe=b[2],De=b[6],oe=b[10],de=this.computedMatrix;a(de,b);var _e=de[15],Me=de[12]/_e,Pe=de[13]/_e,Ue=de[14]/_e,Be=Math.exp(this.computedRadius[0]);this.center.jump(m,Me-Oe*Be,Pe-De*Be,Ue-oe*Be)},y.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},y.idle=function(m){this.center.idle(m),this.up.idle(m),this.right.idle(m),this.radius.idle(m),this.angle.idle(m)},y.flush=function(m){this.center.flush(m),this.up.flush(m),this.right.flush(m),this.radius.flush(m),this.angle.flush(m)},y.setDistance=function(m,b){b>0&&this.radius.set(m,Math.log(b))},y.lookAt=function(m,b,k,h){this.recalcMatrix(m),b=b||this.computedEye,k=k||this.computedCenter;var O=(h=h||this.computedUp)[0],A=h[1],I=h[2],P=g(O,A,I);if(!(P<1e-6)){O/=P,A/=P,I/=P;var L=b[0]-k[0],N=b[1]-k[1],B=b[2]-k[2],W=g(L,N,B);if(!(W<1e-6)){L/=W,N/=W,B/=W;var j=this.computedRight,Z=j[0],V=j[1],q=j[2],G=O*Z+A*V+I*q,H=g(Z-=G*O,V-=G*A,q-=G*I);if(!(H<.01&&(H=g(Z=A*B-I*N,V=I*L-O*B,q=O*N-A*L))<1e-6)){Z/=H,V/=H,q/=H,this.up.set(m,O,A,I),this.right.set(m,Z,V,q),this.center.set(m,k[0],k[1],k[2]),this.radius.set(m,Math.log(W));var ne=A*q-I*V,X=I*Z-O*q,$=O*V-A*Z,Q=g(ne,X,$),re=Z*L+V*N+q*B,le=(ne/=Q)*L+(X/=Q)*N+($/=Q)*B,ue=Math.asin(p(O*L+A*N+I*B)),he=Math.atan2(le,re),ge=this.angle._state,xe=ge[ge.length-1],ke=ge[ge.length-2];xe%=2*Math.PI;var Ae=Math.abs(xe+2*Math.PI-he),pe=Math.abs(xe-he),ye=Math.abs(xe-2*Math.PI-he);Ae<pe&&(xe+=2*Math.PI),ye<pe&&(xe-=2*Math.PI),this.angle.jump(this.angle.lastT(),xe,ke),this.angle.set(m,he,ue)}}}}},9660:function(v){"use strict";v.exports=function(i,u,a){var o=i*u,l=c*i,s=l-(l-i),d=i-s,g=c*u,p=g-(g-u),T=u-p,_=d*T-(o-s*p-d*p-s*T);return a?(a[0]=_,a[1]=o,a):[_,o]};var c=+(Math.pow(2,27)+1)},87:function(v){"use strict";v.exports=function(c,i,u){var a=c+i,o=a-c,l=i-o,s=c-(a-o);return u?(u[0]=s+l,u[1]=a,u):[s+l,a]}},5306:function(v,c,i){"use strict";var u=i(2288),a=i(3094),o=i(2146).lW;i.g.__TYPEDARRAY_POOL||(i.g.__TYPEDARRAY_POOL={UINT8:a([32,0]),UINT16:a([32,0]),UINT32:a([32,0]),BIGUINT64:a([32,0]),INT8:a([32,0]),INT16:a([32,0]),INT32:a([32,0]),BIGINT64:a([32,0]),FLOAT:a([32,0]),DOUBLE:a([32,0]),DATA:a([32,0]),UINT8C:a([32,0]),BUFFER:a([32,0])});var l=typeof Uint8ClampedArray<"u",s=typeof BigUint64Array<"u",d=typeof BigInt64Array<"u",g=i.g.__TYPEDARRAY_POOL;g.UINT8C||(g.UINT8C=a([32,0])),g.BIGUINT64||(g.BIGUINT64=a([32,0])),g.BIGINT64||(g.BIGINT64=a([32,0])),g.BUFFER||(g.BUFFER=a([32,0]));var p=g.DATA,T=g.BUFFER;function _(j){if(j){var V=u.log2(j.length||j.byteLength);p[V].push(j)}}function y(j){j=u.nextPow2(j);var Z=u.log2(j),V=p[Z];return V.length>0?V.pop():new ArrayBuffer(j)}function w(j){return new Uint8Array(y(j),0,j)}function m(j){return new Uint16Array(y(2*j),0,j)}function b(j){return new Uint32Array(y(4*j),0,j)}function k(j){return new Int8Array(y(j),0,j)}function h(j){return new Int16Array(y(2*j),0,j)}function O(j){return new Int32Array(y(4*j),0,j)}function A(j){return new Float32Array(y(4*j),0,j)}function I(j){return new Float64Array(y(8*j),0,j)}function P(j){return l?new Uint8ClampedArray(y(j),0,j):w(j)}function L(j){return s?new BigUint64Array(y(8*j),0,j):null}function N(j){return d?new BigInt64Array(y(8*j),0,j):null}function B(j){return new DataView(y(j),0,j)}function W(j){j=u.nextPow2(j);var Z=u.log2(j),V=T[Z];return V.length>0?V.pop():new o(j)}c.free=function(j){if(o.isBuffer(j))T[u.log2(j.length)].push(j);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(j)&&(j=j.buffer),!j)return;var V=0|u.log2(j.length||j.byteLength);p[V].push(j)}},c.freeUint8=c.freeUint16=c.freeUint32=c.freeBigUint64=c.freeInt8=c.freeInt16=c.freeInt32=c.freeBigInt64=c.freeFloat32=c.freeFloat=c.freeFloat64=c.freeDouble=c.freeUint8Clamped=c.freeDataView=function(j){_(j.buffer)},c.freeArrayBuffer=_,c.freeBuffer=function(j){T[u.log2(j.length)].push(j)},c.malloc=function(j,Z){if(void 0===Z||"arraybuffer"===Z)return y(j);switch(Z){case"uint8":return w(j);case"uint16":return m(j);case"uint32":return b(j);case"int8":return k(j);case"int16":return h(j);case"int32":return O(j);case"float":case"float32":return A(j);case"double":case"float64":return I(j);case"uint8_clamped":return P(j);case"bigint64":return N(j);case"biguint64":return L(j);case"buffer":return W(j);case"data":case"dataview":return B(j);default:return null}return null},c.mallocArrayBuffer=y,c.mallocUint8=w,c.mallocUint16=m,c.mallocUint32=b,c.mallocInt8=k,c.mallocInt16=h,c.mallocInt32=O,c.mallocFloat32=c.mallocFloat=A,c.mallocFloat64=c.mallocDouble=I,c.mallocUint8Clamped=P,c.mallocBigUint64=L,c.mallocBigInt64=N,c.mallocDataView=B,c.mallocBuffer=W,c.clearCache=function(){for(var j=0;j<32;++j)g.UINT8[j].length=0,g.UINT16[j].length=0,g.UINT32[j].length=0,g.INT8[j].length=0,g.INT16[j].length=0,g.INT32[j].length=0,g.FLOAT[j].length=0,g.DOUBLE[j].length=0,g.BIGUINT64[j].length=0,g.BIGINT64[j].length=0,g.UINT8C[j].length=0,p[j].length=0,T[j].length=0}},1731:function(v){"use strict";function c(u){this.roots=new Array(u),this.ranks=new Array(u);for(var a=0;a<u;++a)this.roots[a]=a,this.ranks[a]=0}v.exports=c;var i=c.prototype;Object.defineProperty(i,"length",{get:function(){return this.roots.length}}),i.makeSet=function(){var u=this.roots.length;return this.roots.push(u),this.ranks.push(0),u},i.find=function(u){for(var a=u,o=this.roots;o[u]!==u;)u=o[u];for(;o[a]!==u;){var l=o[a];o[a]=u,a=l}return u},i.link=function(u,a){var o=this.find(u),l=this.find(a);if(o!==l){var s=this.ranks,d=this.roots,g=s[o],p=s[l];g<p?d[o]=l:p<g?d[l]=o:(d[l]=o,++s[o])}}},1215:function(v){"use strict";v.exports=function(c,i,u){return 0===c.length?c:i?(u||c.sort(i),function(a,o){for(var l=1,s=a.length,d=a[0],g=a[0],p=1;p<s;++p)if(g=d,o(d=a[p],g)){if(p===l){l++;continue}a[l++]=d}return a.length=l,a}(c,i)):(u||c.sort(),function(a){for(var o=1,l=a.length,s=a[0],d=a[0],g=1;g<l;++g,d=s)if(d=s,(s=a[g])!==d){if(g===o){o++;continue}a[o++]=s}return a.length=o,a}(c))}},875:function(v,c,i){"use strict";v.exports=function(l,s){return"object"==typeof s&&null!==s||(s={}),u(l,s.canvas||a,s.context||o,s)};var u=i(712),a=null,o=null;typeof document<"u"&&((a=document.createElement("canvas")).width=8192,a.height=1024,o=a.getContext("2d"))},712:function(v,c,i){v.exports=function(m,b,k,h){var O=64,A=1.25,I={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};return h&&(h.size&&h.size>0&&(O=h.size),h.lineSpacing&&h.lineSpacing>0&&(A=h.lineSpacing),h.styletags&&h.styletags.breaklines&&(I.breaklines=!!h.styletags.breaklines),h.styletags&&h.styletags.bolds&&(I.bolds=!!h.styletags.bolds),h.styletags&&h.styletags.italics&&(I.italics=!!h.styletags.italics),h.styletags&&h.styletags.subscripts&&(I.subscripts=!!h.styletags.subscripts),h.styletags&&h.styletags.superscripts&&(I.superscripts=!!h.styletags.superscripts)),k.font=[h.fontStyle,h.fontVariant,h.fontWeight,O+"px",h.font].filter(function(P){return P}).join(" "),k.textAlign="start",k.textBaseline="alphabetic",k.direction="ltr",w(function(P,L,N,B,W,j){N=(N=N.replace(/\n/g,"")).replace(/\<br\>/g,!0===j.breaklines?"\n":" ");var Z="",V=[];for(ne=0;ne<N.length;++ne)V[ne]=Z;!0===j.bolds&&(V=T("b",g,N,V)),!0===j.italics&&(V=T("i",p,N,V)),!0===j.superscripts&&(V=T("sup","+1",N,V)),!0===j.subscripts&&(V=T("sub","-1",N,V));var q=[],G="";for(ne=0;ne<N.length;++ne)null!==V[ne]&&(G+=N[ne],q.push(V[ne]));var H,ne,X,$,Q,te=G.split("\n"),re=te.length,le=Math.round(W*B),ue=B,he=2*B,ge=0,xe=re*le+he;P.height<xe&&(P.height=xe),L.fillStyle="#000",L.fillRect(0,0,P.width,P.height),L.fillStyle="#fff";var ke=0,Ae="";function pe(){if(""!==Ae){var de=L.measureText(Ae).width;L.fillText(Ae,ue+X,he+$),X+=de}}function ye(){return Math.round(Q)+"px "}function Ne(de,_e){var Me=""+L.font;if(!0===j.subscripts){var Pe=de.indexOf("-"),Ue=_e.indexOf("-"),Be=Pe>-1?parseInt(de[1+Pe]):0,Ve=Ue>-1?parseInt(_e[1+Ue]):0;Be!==Ve&&(Me=Me.replace(ye(),"?px "),Q*=Math.pow(.75,Ve-Be),Me=Me.replace("?px ",ye())),$+=.25*le*(Ve-Be)}if(!0===j.superscripts){var ve=de.indexOf("+"),Te=_e.indexOf("+"),Ce=ve>-1?parseInt(de[1+ve]):0,We=Te>-1?parseInt(_e[1+Te]):0;Ce!==We&&(Me=Me.replace(ye(),"?px "),Q*=Math.pow(.75,We-Ce),Me=Me.replace("?px ",ye())),$-=.25*le*(We-Ce)}if(!0===j.bolds){var Ke=de.indexOf(g)>-1,Je=_e.indexOf(g)>-1;!Ke&&Je&&(Me=ht?Me.replace("italic ","italic bold "):"bold "+Me),Ke&&!Je&&(Me=Me.replace("bold ",""))}if(!0===j.italics){var ht=de.indexOf(p)>-1,ft=_e.indexOf(p)>-1;!ht&&ft&&(Me="italic "+Me),ht&&!ft&&(Me=Me.replace("italic ",""))}L.font=Me}for(H=0;H<re;++H){var be=te[H]+"\n";for(X=0,$=H*le,Q=B,Ae="",ne=0;ne<be.length;++ne){var Ee=ne+ke<q.length?q[ne+ke]:q[q.length-1];Z===Ee?Ae+=be[ne]:(pe(),Ae=be[ne],void 0!==Ee&&(Ne(Z,Ee),Z=Ee))}pe(),ke+=be.length;var Oe=0|Math.round(X+2*ue);ge<Oe&&(ge=Oe)}var De=ge,oe=he+le*re;return a(L.getImageData(0,0,De,oe).data,[oe,De,4]).pick(-1,-1,0).transpose(1,0)}(b,k,m,O,A,I),h,O)},v.exports.processPixels=w;var u=i(4162),a=i(5050),o=i(8243),l=i(197),s=i(7761),d=i(8040),g="b|",p="i|";function T(m,b,k,h){for(var O="<"+m+">",A="</"+m+">",I=O.length,P=A.length,L="+"===b[0]||"-"===b[0],N=0,B=-P;N>-1&&-1!==(N=k.indexOf(O,N))&&-1!==(B=k.indexOf(A,N+I))&&!(B<=N);){for(var W=N;W<B+P;++W)if(W<N+I||W>=B)h[W]=null,k=k.substr(0,W)+" "+k.substr(W+1);else if(null!==h[W]){var j=h[W].indexOf(b[0]);-1===j?h[W]+=b:L&&(h[W]=h[W].substr(0,j+1)+(1+parseInt(h[W][j+1]))+h[W].substr(j+2))}var Z=N+I,V=k.substr(Z,B-Z).indexOf(O);N=-1!==V?V:B+P}return h}function y(m,b,k,h){var O=function _(m,b){var k=u(m,128);return b?o(k.cells,k.positions,.25):{edges:k.cells,positions:k.positions}}(m,h),A=function(H,ne,X){for(var $=ne.textAlign||"start",Q=ne.textBaseline||"alphabetic",te=[1<<30,1<<30],re=[0,0],le=H.length,ue=0;ue<le;++ue)for(var he=H[ue],ge=0;ge<2;++ge)te[ge]=0|Math.min(te[ge],he[ge]),re[ge]=0|Math.max(re[ge],he[ge]);var xe=0;switch($){case"center":xe=-.5*(te[0]+re[0]);break;case"right":case"end":xe=-re[0];break;case"left":case"start":xe=-te[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+$+"'")}var ke=0;switch(Q){case"hanging":case"top":ke=-te[1];break;case"middle":ke=-.5*(te[1]+re[1]);break;case"alphabetic":case"ideographic":ke=-3*X;break;case"bottom":ke=-re[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+Q+"'")}var Ae=1/X;return"lineHeight"in ne?Ae*=+ne.lineHeight:"width"in ne?Ae=ne.width/(re[0]-te[0]):"height"in ne&&(Ae=ne.height/(re[1]-te[1])),H.map(function(pe){return[Ae*(pe[0]+xe),Ae*(pe[1]+ke)]})}(O.positions,b,k),I=O.edges,P="ccw"===b.orientation;if(l(A,I),b.polygons||b.polygon||b.polyline){for(var L=d(I,A),N=new Array(L.length),B=0;B<L.length;++B){for(var W=L[B],j=new Array(W.length),Z=0;Z<W.length;++Z){for(var V=W[Z],q=new Array(V.length),G=0;G<V.length;++G)q[G]=A[V[G]].slice();P&&q.reverse(),j[Z]=q}N[B]=j}return N}return b.triangles||b.triangulate||b.triangle?{cells:s(A,I,{delaunay:!1,exterior:!1,interior:!0}),positions:A}:{edges:I,positions:A}}function w(m,b,k){try{return y(m,b,k,!0)}catch{}try{return y(m,b,k,!1)}catch{}return b.polygons||b.polyline||b.polygon?[]:b.triangles||b.triangulate||b.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}},5346:function(v){!function(){"use strict";if(typeof ses>"u"||!ses.ok||ses.ok()){typeof ses<"u"&&(ses.weakMapPermitHostObjects=b);var c=!1;if("function"==typeof WeakMap){var i=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var u=new i,a=Object.freeze({});if(u.set(a,1),1===u.get(a))return void(v.exports=WeakMap);c=!0}}var o=Object.getOwnPropertyNames,l=Object.defineProperty,s=Object.isExtensible,d="weakmap:",g="weakmap:ident:"+Math.random()+"___";if(typeof crypto<"u"&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var p=new ArrayBuffer(25),T=new Uint8Array(p);crypto.getRandomValues(T),g="weakmap:rand:"+Array.prototype.map.call(T,function(I){return(I%36).toString(36)}).join("")+"___"}if(l(Object,"getOwnPropertyNames",{value:function(I){return o(I).filter(k)}}),"getPropertyNames"in Object){var _=Object.getPropertyNames;l(Object,"getPropertyNames",{value:function(I){return _(I).filter(k)}})}!function(){var I=Object.freeze;l(Object,"freeze",{value:function(N){return h(N),I(N)}});var P=Object.seal;l(Object,"seal",{value:function(N){return h(N),P(N)}});var L=Object.preventExtensions;l(Object,"preventExtensions",{value:function(N){return h(N),L(N)}})}();var y=!1,w=0,m=function(){this instanceof m||A();var I=[],P=[],L=w++;return Object.create(m.prototype,{get___:{value:O(function(N,B){var W,j=h(N);return j?L in j?j[L]:B:(W=I.indexOf(N))>=0?P[W]:B})},has___:{value:O(function(N){var B=h(N);return B?L in B:I.indexOf(N)>=0})},set___:{value:O(function(N,B){var W,j=h(N);return j?j[L]=B:(W=I.indexOf(N))>=0?P[W]=B:(P[W=I.length]=B,I[W]=N),this})},delete___:{value:O(function(N){var B,W,j=h(N);return j?L in j&&delete j[L]:!((B=I.indexOf(N))<0||(W=I.length-1,I[B]=void 0,P[B]=P[W],I[B]=I[W],I.length=W,P.length=W,0))})}})};m.prototype=Object.create(Object.prototype,{get:{value:function(I,P){return this.get___(I,P)},writable:!0,configurable:!0},has:{value:function(I){return this.has___(I)},writable:!0,configurable:!0},set:{value:function(I,P){return this.set___(I,P)},writable:!0,configurable:!0},delete:{value:function(I){return this.delete___(I)},writable:!0,configurable:!0}}),"function"==typeof i?function(){function I(){this instanceof m||A();var P,L=new i,N=void 0,B=!1;return P=c?function(W,j){return L.set(W,j),L.has(W)||(N||(N=new m),N.set(W,j)),this}:function(W,j){if(B)try{L.set(W,j)}catch{N||(N=new m),N.set___(W,j)}else L.set(W,j);return this},Object.create(m.prototype,{get___:{value:O(function(W,j){return N?L.has(W)?L.get(W):N.get___(W,j):L.get(W,j)})},has___:{value:O(function(W){return L.has(W)||!!N&&N.has___(W)})},set___:{value:O(P)},delete___:{value:O(function(W){var j=!!L.delete(W);return N&&N.delete___(W)||j})},permitHostObjects___:{value:O(function(W){if(W!==b)throw new Error("bogus call to permitHostObjects___");B=!0})}})}c&&typeof Proxy<"u"&&(Proxy=void 0),I.prototype=m.prototype,v.exports=I,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),v.exports=m)}function b(I){I.permitHostObjects___&&I.permitHostObjects___(b)}function k(I){return!(I.substr(0,d.length)==d&&"___"===I.substr(I.length-3))}function h(I){if(I!==Object(I))throw new TypeError("Not an object: "+I);var P=I[g];if(P&&P.key===I)return P;if(s(I)){P={key:I};try{return l(I,g,{value:P,writable:!1,enumerable:!1,configurable:!1}),P}catch{return}}}function O(I){return I.prototype=null,Object.freeze(I)}function A(){y||typeof console>"u"||(y=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}}()},9222:function(v,c,i){var u=i(7178);v.exports=function(){var a={};return function(o){if(("object"!=typeof o||null===o)&&"function"!=typeof o)throw new Error("Weakmap-shim: Key must be object");var l=o.valueOf(a);return l&&l.identity===a?l:u(o,a)}}},7178:function(v){v.exports=function(c,i){var u={identity:i},a=c.valueOf;return Object.defineProperty(c,"valueOf",{value:function(o){return o!==i?a.apply(this,arguments):u},writable:!0}),u}},4037:function(v,c,i){var u=i(9222);v.exports=function(){var a=u();return{get:function(o,l){var s=a(o);return s.hasOwnProperty("value")?s.value:l},set:function(o,l){return a(o).value=l,this},has:function(o){return"value"in a(o)},delete:function(o){return delete a(o).value}}}},6183:function(v){"use strict";var c,i;v.exports=(c=function(){return function(c,i,u,a,o,l){var s=c[0],d=u[0],g=[0],p=d;a|=0;var T=0,_=d;for(T=0;T<s;++T){var y=i[a]-l,w=i[a+p]-l;y>=0!=w>=0&&o.push(g[0]+.5+.5*(y+w)/(y-w)),a+=_,++g[0]}}}.bind(void 0,{funcName:"zeroCrossings"}),i={},function(u,a,o){var l=u.dtype,s=u.order,d=[l,s.join()].join(),g=i[d];return g||(i[d]=g=c([l,s])),g(u.shape.slice(0),u.data,u.stride,0|u.offset,a,o)})},9584:function(v,c,i){"use strict";v.exports=function(a,o){var l=[];return o=+o||0,u(a.hi(a.shape[0]-1),l,o),l};var u=i(6183)},6601:function(){}},S={};function M(v){var c=S[v];if(void 0!==c)return c.exports;var i=S[v]={id:v,loaded:!1,exports:{}};return f[v].call(i.exports,i,i.exports,M),i.loaded=!0,i.exports}return M.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),M.nmd=function(v){return v.paths=[],v.children||(v.children=[]),v},M(7386)}()},ie.exports=C()},12856:function(ie,z,r){"use strict";function C(oe,de){if(!(oe instanceof de))throw new TypeError("Cannot call a class as a function")}function f(oe,de){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,Me){return _e.__proto__=Me,_e})(oe,de)}function S(oe,de){if(de&&("object"===c(de)||"function"==typeof de))return de;if(void 0!==de)throw new TypeError("Derived constructors may only return object or undefined");return M(oe)}function M(oe){if(void 0===oe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return oe}function v(oe){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(de){return de.__proto__||Object.getPrototypeOf(de)})(oe)}function c(oe){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(de){return typeof de}:function(de){return de&&"function"==typeof Symbol&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de})(oe)}var i=r(95341),u=r(95280),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;z.Buffer=s,z.SlowBuffer=function(oe){return+oe!=oe&&(oe=0),s.alloc(+oe)},z.INSPECT_MAX_BYTES=50;var o=2147483647;function l(oe){if(oe>o)throw new RangeError('The value "'+oe+'" is invalid for option "size"');var de=new Uint8Array(oe);return Object.setPrototypeOf(de,s.prototype),de}function s(oe,de,_e){if("number"==typeof oe){if("string"==typeof de)throw new TypeError('The "string" argument must be of type string. Received type number');return p(oe)}return d(oe,de,_e)}function d(oe,de,_e){if("string"==typeof oe)return function(Ue,Be){if("string"==typeof Be&&""!==Be||(Be="utf8"),!s.isEncoding(Be))throw new TypeError("Unknown encoding: "+Be);var Ve=0|w(Ue,Be),ve=l(Ve),Te=ve.write(Ue,Be);return Te!==Ve&&(ve=ve.slice(0,Te)),ve}(oe,de);if(ArrayBuffer.isView(oe))return function(Ue){if(Ne(Ue,Uint8Array)){var Be=new Uint8Array(Ue);return _(Be.buffer,Be.byteOffset,Be.byteLength)}return T(Ue)}(oe);if(null==oe)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+c(oe));if(Ne(oe,ArrayBuffer)||oe&&Ne(oe.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ne(oe,SharedArrayBuffer)||oe&&Ne(oe.buffer,SharedArrayBuffer)))return _(oe,de,_e);if("number"==typeof oe)throw new TypeError('The "value" argument must not be of type number. Received type number');var Me=oe.valueOf&&oe.valueOf();if(null!=Me&&Me!==oe)return s.from(Me,de,_e);var Pe=function(Ue){if(s.isBuffer(Ue)){var Be=0|y(Ue.length),Ve=l(Be);return 0===Ve.length||Ue.copy(Ve,0,0,Be),Ve}return void 0!==Ue.length?"number"!=typeof Ue.length||be(Ue.length)?l(0):T(Ue):"Buffer"===Ue.type&&Array.isArray(Ue.data)?T(Ue.data):void 0}(oe);if(Pe)return Pe;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof oe[Symbol.toPrimitive])return s.from(oe[Symbol.toPrimitive]("string"),de,_e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+c(oe))}function g(oe){if("number"!=typeof oe)throw new TypeError('"size" argument must be of type number');if(oe<0)throw new RangeError('The value "'+oe+'" is invalid for option "size"')}function p(oe){return g(oe),l(oe<0?0:0|y(oe))}function T(oe){for(var de=oe.length<0?0:0|y(oe.length),_e=l(de),Me=0;Me<de;Me+=1)_e[Me]=255&oe[Me];return _e}function _(oe,de,_e){if(de<0||oe.byteLength<de)throw new RangeError('"offset" is outside of buffer bounds');if(oe.byteLength<de+(_e||0))throw new RangeError('"length" is outside of buffer bounds');var Me;return Me=void 0===de&&void 0===_e?new Uint8Array(oe):void 0===_e?new Uint8Array(oe,de):new Uint8Array(oe,de,_e),Object.setPrototypeOf(Me,s.prototype),Me}function y(oe){if(oe>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|oe}function w(oe,de){if(s.isBuffer(oe))return oe.length;if(ArrayBuffer.isView(oe)||Ne(oe,ArrayBuffer))return oe.byteLength;if("string"!=typeof oe)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+c(oe));var _e=oe.length,Me=arguments.length>2&&!0===arguments[2];if(!Me&&0===_e)return 0;for(var Pe=!1;;)switch(de){case"ascii":case"latin1":case"binary":return _e;case"utf8":case"utf-8":return Ae(oe).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*_e;case"hex":return _e>>>1;case"base64":return pe(oe).length;default:if(Pe)return Me?-1:Ae(oe).length;de=(""+de).toLowerCase(),Pe=!0}}function m(oe,de,_e){var Me=!1;if((void 0===de||de<0)&&(de=0),de>this.length||((void 0===_e||_e>this.length)&&(_e=this.length),_e<=0)||(_e>>>=0)<=(de>>>=0))return"";for(oe||(oe="utf8");;)switch(oe){case"hex":return V(this,de,_e);case"utf8":case"utf-8":return B(this,de,_e);case"ascii":return j(this,de,_e);case"latin1":case"binary":return Z(this,de,_e);case"base64":return N(this,de,_e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,de,_e);default:if(Me)throw new TypeError("Unknown encoding: "+oe);oe=(oe+"").toLowerCase(),Me=!0}}function b(oe,de,_e){var Me=oe[de];oe[de]=oe[_e],oe[_e]=Me}function k(oe,de,_e,Me,Pe){if(0===oe.length)return-1;if("string"==typeof _e?(Me=_e,_e=0):_e>2147483647?_e=2147483647:_e<-2147483648&&(_e=-2147483648),be(_e=+_e)&&(_e=Pe?0:oe.length-1),_e<0&&(_e=oe.length+_e),_e>=oe.length){if(Pe)return-1;_e=oe.length-1}else if(_e<0){if(!Pe)return-1;_e=0}if("string"==typeof de&&(de=s.from(de,Me)),s.isBuffer(de))return 0===de.length?-1:h(oe,de,_e,Me,Pe);if("number"==typeof de)return de&=255,"function"==typeof Uint8Array.prototype.indexOf?Pe?Uint8Array.prototype.indexOf.call(oe,de,_e):Uint8Array.prototype.lastIndexOf.call(oe,de,_e):h(oe,[de],_e,Me,Pe);throw new TypeError("val must be string, number or Buffer")}function h(oe,de,_e,Me,Pe){var Ue,Be=1,Ve=oe.length,ve=de.length;if(void 0!==Me&&("ucs2"===(Me=String(Me).toLowerCase())||"ucs-2"===Me||"utf16le"===Me||"utf-16le"===Me)){if(oe.length<2||de.length<2)return-1;Be=2,Ve/=2,ve/=2,_e/=2}function Te(Je,ht){return 1===Be?Je[ht]:Je.readUInt16BE(ht*Be)}if(Pe){var Ce=-1;for(Ue=_e;Ue<Ve;Ue++)if(Te(oe,Ue)===Te(de,-1===Ce?0:Ue-Ce)){if(-1===Ce&&(Ce=Ue),Ue-Ce+1===ve)return Ce*Be}else-1!==Ce&&(Ue-=Ue-Ce),Ce=-1}else for(_e+ve>Ve&&(_e=Ve-ve),Ue=_e;Ue>=0;Ue--){for(var We=!0,Ke=0;Ke<ve;Ke++)if(Te(oe,Ue+Ke)!==Te(de,Ke)){We=!1;break}if(We)return Ue}return-1}function O(oe,de,_e,Me){_e=Number(_e)||0;var Pe=oe.length-_e;Me?(Me=Number(Me))>Pe&&(Me=Pe):Me=Pe;var Ue,Be=de.length;for(Me>Be/2&&(Me=Be/2),Ue=0;Ue<Me;++Ue){var Ve=parseInt(de.substr(2*Ue,2),16);if(be(Ve))return Ue;oe[_e+Ue]=Ve}return Ue}function A(oe,de,_e,Me){return ye(Ae(de,oe.length-_e),oe,_e,Me)}function I(oe,de,_e,Me){return ye(function(Pe){for(var Ue=[],Be=0;Be<Pe.length;++Be)Ue.push(255&Pe.charCodeAt(Be));return Ue}(de),oe,_e,Me)}function P(oe,de,_e,Me){return ye(pe(de),oe,_e,Me)}function L(oe,de,_e,Me){return ye(function(Pe,Ue){for(var Be,Ve,Te=[],Ce=0;Ce<Pe.length&&!((Ue-=2)<0);++Ce)Ve=(Be=Pe.charCodeAt(Ce))>>8,Te.push(Be%256),Te.push(Ve);return Te}(de,oe.length-_e),oe,_e,Me)}function N(oe,de,_e){return i.fromByteArray(0===de&&_e===oe.length?oe:oe.slice(de,_e))}function B(oe,de,_e){_e=Math.min(oe.length,_e);for(var Me=[],Pe=de;Pe<_e;){var Ue=oe[Pe],Be=null,Ve=Ue>239?4:Ue>223?3:Ue>191?2:1;if(Pe+Ve<=_e){var ve=void 0,Te=void 0,Ce=void 0,We=void 0;switch(Ve){case 1:Ue<128&&(Be=Ue);break;case 2:128==(192&(ve=oe[Pe+1]))&&(We=(31&Ue)<<6|63&ve)>127&&(Be=We);break;case 3:Te=oe[Pe+2],128==(192&(ve=oe[Pe+1]))&&128==(192&Te)&&(We=(15&Ue)<<12|(63&ve)<<6|63&Te)>2047&&(We<55296||We>57343)&&(Be=We);break;case 4:Te=oe[Pe+2],Ce=oe[Pe+3],128==(192&(ve=oe[Pe+1]))&&128==(192&Te)&&128==(192&Ce)&&(We=(15&Ue)<<18|(63&ve)<<12|(63&Te)<<6|63&Ce)>65535&&We<1114112&&(Be=We)}}null===Be?(Be=65533,Ve=1):Be>65535&&(Me.push((Be-=65536)>>>10&1023|55296),Be=56320|1023&Be),Me.push(Be),Pe+=Ve}return function(Ke){var Je=Ke.length;if(Je<=W)return String.fromCharCode.apply(String,Ke);for(var ht="",ft=0;ft<Je;)ht+=String.fromCharCode.apply(String,Ke.slice(ft,ft+=W));return ht}(Me)}z.kMaxLength=o,(s.TYPED_ARRAY_SUPPORT=function(){try{var oe=new Uint8Array(1),de={foo:function(){return 42}};return Object.setPrototypeOf(de,Uint8Array.prototype),Object.setPrototypeOf(oe,de),42===oe.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(oe,de,_e){return d(oe,de,_e)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(oe,de,_e){return Pe=de,Ue=_e,g(Me=oe),Me<=0?l(Me):void 0!==Pe?"string"==typeof Ue?l(Me).fill(Pe,Ue):l(Me).fill(Pe):l(Me);var Me,Pe,Ue},s.allocUnsafe=function(oe){return p(oe)},s.allocUnsafeSlow=function(oe){return p(oe)},s.isBuffer=function(oe){return null!=oe&&!0===oe._isBuffer&&oe!==s.prototype},s.compare=function(oe,de){if(Ne(oe,Uint8Array)&&(oe=s.from(oe,oe.offset,oe.byteLength)),Ne(de,Uint8Array)&&(de=s.from(de,de.offset,de.byteLength)),!s.isBuffer(oe)||!s.isBuffer(de))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(oe===de)return 0;for(var _e=oe.length,Me=de.length,Pe=0,Ue=Math.min(_e,Me);Pe<Ue;++Pe)if(oe[Pe]!==de[Pe]){_e=oe[Pe],Me=de[Pe];break}return _e<Me?-1:Me<_e?1:0},s.isEncoding=function(oe){switch(String(oe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(oe,de){if(!Array.isArray(oe))throw new TypeError('"list" argument must be an Array of Buffers');if(0===oe.length)return s.alloc(0);var _e;if(void 0===de)for(de=0,_e=0;_e<oe.length;++_e)de+=oe[_e].length;var Me=s.allocUnsafe(de),Pe=0;for(_e=0;_e<oe.length;++_e){var Ue=oe[_e];if(Ne(Ue,Uint8Array))Pe+Ue.length>Me.length?(s.isBuffer(Ue)||(Ue=s.from(Ue)),Ue.copy(Me,Pe)):Uint8Array.prototype.set.call(Me,Ue,Pe);else{if(!s.isBuffer(Ue))throw new TypeError('"list" argument must be an Array of Buffers');Ue.copy(Me,Pe)}Pe+=Ue.length}return Me},s.byteLength=w,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var oe=this.length;if(oe%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var de=0;de<oe;de+=2)b(this,de,de+1);return this},s.prototype.swap32=function(){var oe=this.length;if(oe%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var de=0;de<oe;de+=4)b(this,de,de+3),b(this,de+1,de+2);return this},s.prototype.swap64=function(){var oe=this.length;if(oe%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var de=0;de<oe;de+=8)b(this,de,de+7),b(this,de+1,de+6),b(this,de+2,de+5),b(this,de+3,de+4);return this},s.prototype.toString=function(){var oe=this.length;return 0===oe?"":0===arguments.length?B(this,0,oe):m.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(oe){if(!s.isBuffer(oe))throw new TypeError("Argument must be a Buffer");return this===oe||0===s.compare(this,oe)},s.prototype.inspect=function(){var oe="",de=z.INSPECT_MAX_BYTES;return oe=this.toString("hex",0,de).replace(/(.{2})/g,"$1 ").trim(),this.length>de&&(oe+=" ... "),"<Buffer "+oe+">"},a&&(s.prototype[a]=s.prototype.inspect),s.prototype.compare=function(oe,de,_e,Me,Pe){if(Ne(oe,Uint8Array)&&(oe=s.from(oe,oe.offset,oe.byteLength)),!s.isBuffer(oe))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+c(oe));if(void 0===de&&(de=0),void 0===_e&&(_e=oe?oe.length:0),void 0===Me&&(Me=0),void 0===Pe&&(Pe=this.length),de<0||_e>oe.length||Me<0||Pe>this.length)throw new RangeError("out of range index");if(Me>=Pe&&de>=_e)return 0;if(Me>=Pe)return-1;if(de>=_e)return 1;if(this===oe)return 0;for(var Ue=(Pe>>>=0)-(Me>>>=0),Be=(_e>>>=0)-(de>>>=0),Ve=Math.min(Ue,Be),ve=this.slice(Me,Pe),Te=oe.slice(de,_e),Ce=0;Ce<Ve;++Ce)if(ve[Ce]!==Te[Ce]){Ue=ve[Ce],Be=Te[Ce];break}return Ue<Be?-1:Be<Ue?1:0},s.prototype.includes=function(oe,de,_e){return-1!==this.indexOf(oe,de,_e)},s.prototype.indexOf=function(oe,de,_e){return k(this,oe,de,_e,!0)},s.prototype.lastIndexOf=function(oe,de,_e){return k(this,oe,de,_e,!1)},s.prototype.write=function(oe,de,_e,Me){if(void 0===de)Me="utf8",_e=this.length,de=0;else if(void 0===_e&&"string"==typeof de)Me=de,_e=this.length,de=0;else{if(!isFinite(de))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");de>>>=0,isFinite(_e)?(_e>>>=0,void 0===Me&&(Me="utf8")):(Me=_e,_e=void 0)}var Pe=this.length-de;if((void 0===_e||_e>Pe)&&(_e=Pe),oe.length>0&&(_e<0||de<0)||de>this.length)throw new RangeError("Attempt to write outside buffer bounds");Me||(Me="utf8");for(var Ue=!1;;)switch(Me){case"hex":return O(this,oe,de,_e);case"utf8":case"utf-8":return A(this,oe,de,_e);case"ascii":case"latin1":case"binary":return I(this,oe,de,_e);case"base64":return P(this,oe,de,_e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,oe,de,_e);default:if(Ue)throw new TypeError("Unknown encoding: "+Me);Me=(""+Me).toLowerCase(),Ue=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var W=4096;function j(oe,de,_e){var Me="";_e=Math.min(oe.length,_e);for(var Pe=de;Pe<_e;++Pe)Me+=String.fromCharCode(127&oe[Pe]);return Me}function Z(oe,de,_e){var Me="";_e=Math.min(oe.length,_e);for(var Pe=de;Pe<_e;++Pe)Me+=String.fromCharCode(oe[Pe]);return Me}function V(oe,de,_e){var Me=oe.length;(!de||de<0)&&(de=0),(!_e||_e<0||_e>Me)&&(_e=Me);for(var Pe="",Ue=de;Ue<_e;++Ue)Pe+=Ee[oe[Ue]];return Pe}function q(oe,de,_e){for(var Me=oe.slice(de,_e),Pe="",Ue=0;Ue<Me.length-1;Ue+=2)Pe+=String.fromCharCode(Me[Ue]+256*Me[Ue+1]);return Pe}function G(oe,de,_e){if(oe%1!=0||oe<0)throw new RangeError("offset is not uint");if(oe+de>_e)throw new RangeError("Trying to access beyond buffer length")}function H(oe,de,_e,Me,Pe,Ue){if(!s.isBuffer(oe))throw new TypeError('"buffer" argument must be a Buffer instance');if(de>Pe||de<Ue)throw new RangeError('"value" argument is out of bounds');if(_e+Me>oe.length)throw new RangeError("Index out of range")}function ne(oe,de,_e,Me,Pe){he(de,Me,Pe,oe,_e,7);var Ue=Number(de&BigInt(4294967295));oe[_e++]=Ue,oe[_e++]=Ue>>=8,oe[_e++]=Ue>>=8,oe[_e++]=Ue>>=8;var Be=Number(de>>BigInt(32)&BigInt(4294967295));return oe[_e++]=Be,oe[_e++]=Be>>=8,oe[_e++]=Be>>=8,oe[_e++]=Be>>=8,_e}function X(oe,de,_e,Me,Pe){he(de,Me,Pe,oe,_e,7);var Ue=Number(de&BigInt(4294967295));oe[_e+7]=Ue,oe[_e+6]=Ue>>=8,oe[_e+5]=Ue>>=8,oe[_e+4]=Ue>>=8;var Be=Number(de>>BigInt(32)&BigInt(4294967295));return oe[_e+3]=Be,oe[_e+2]=Be>>=8,oe[_e+1]=Be>>=8,oe[_e]=Be>>=8,_e+8}function $(oe,de,_e,Me,Pe,Ue){if(_e+Me>oe.length)throw new RangeError("Index out of range");if(_e<0)throw new RangeError("Index out of range")}function Q(oe,de,_e,Me,Pe){return de=+de,_e>>>=0,Pe||$(oe,0,_e,4),u.write(oe,de,_e,Me,23,4),_e+4}function te(oe,de,_e,Me,Pe){return de=+de,_e>>>=0,Pe||$(oe,0,_e,8),u.write(oe,de,_e,Me,52,8),_e+8}s.prototype.slice=function(oe,de){var _e=this.length;(oe=~~oe)<0?(oe+=_e)<0&&(oe=0):oe>_e&&(oe=_e),(de=void 0===de?_e:~~de)<0?(de+=_e)<0&&(de=0):de>_e&&(de=_e),de<oe&&(de=oe);var Me=this.subarray(oe,de);return Object.setPrototypeOf(Me,s.prototype),Me},s.prototype.readUintLE=s.prototype.readUIntLE=function(oe,de,_e){oe>>>=0,de>>>=0,_e||G(oe,de,this.length);for(var Me=this[oe],Pe=1,Ue=0;++Ue<de&&(Pe*=256);)Me+=this[oe+Ue]*Pe;return Me},s.prototype.readUintBE=s.prototype.readUIntBE=function(oe,de,_e){oe>>>=0,de>>>=0,_e||G(oe,de,this.length);for(var Me=this[oe+--de],Pe=1;de>0&&(Pe*=256);)Me+=this[oe+--de]*Pe;return Me},s.prototype.readUint8=s.prototype.readUInt8=function(oe,de){return oe>>>=0,de||G(oe,1,this.length),this[oe]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(oe,de){return oe>>>=0,de||G(oe,2,this.length),this[oe]|this[oe+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(oe,de){return oe>>>=0,de||G(oe,2,this.length),this[oe]<<8|this[oe+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(oe,de){return oe>>>=0,de||G(oe,4,this.length),(this[oe]|this[oe+1]<<8|this[oe+2]<<16)+16777216*this[oe+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(oe,de){return oe>>>=0,de||G(oe,4,this.length),16777216*this[oe]+(this[oe+1]<<16|this[oe+2]<<8|this[oe+3])},s.prototype.readBigUInt64LE=Oe(function(oe){ge(oe>>>=0,"offset");var de=this[oe],_e=this[oe+7];void 0!==de&&void 0!==_e||xe(oe,this.length-8);var Me=de+this[++oe]*Math.pow(2,8)+this[++oe]*Math.pow(2,16)+this[++oe]*Math.pow(2,24),Pe=this[++oe]+this[++oe]*Math.pow(2,8)+this[++oe]*Math.pow(2,16)+_e*Math.pow(2,24);return BigInt(Me)+(BigInt(Pe)<<BigInt(32))}),s.prototype.readBigUInt64BE=Oe(function(oe){ge(oe>>>=0,"offset");var de=this[oe],_e=this[oe+7];void 0!==de&&void 0!==_e||xe(oe,this.length-8);var Me=de*Math.pow(2,24)+this[++oe]*Math.pow(2,16)+this[++oe]*Math.pow(2,8)+this[++oe],Pe=this[++oe]*Math.pow(2,24)+this[++oe]*Math.pow(2,16)+this[++oe]*Math.pow(2,8)+_e;return(BigInt(Me)<<BigInt(32))+BigInt(Pe)}),s.prototype.readIntLE=function(oe,de,_e){oe>>>=0,de>>>=0,_e||G(oe,de,this.length);for(var Me=this[oe],Pe=1,Ue=0;++Ue<de&&(Pe*=256);)Me+=this[oe+Ue]*Pe;return Me>=(Pe*=128)&&(Me-=Math.pow(2,8*de)),Me},s.prototype.readIntBE=function(oe,de,_e){oe>>>=0,de>>>=0,_e||G(oe,de,this.length);for(var Me=de,Pe=1,Ue=this[oe+--Me];Me>0&&(Pe*=256);)Ue+=this[oe+--Me]*Pe;return Ue>=(Pe*=128)&&(Ue-=Math.pow(2,8*de)),Ue},s.prototype.readInt8=function(oe,de){return oe>>>=0,de||G(oe,1,this.length),128&this[oe]?-1*(255-this[oe]+1):this[oe]},s.prototype.readInt16LE=function(oe,de){oe>>>=0,de||G(oe,2,this.length);var _e=this[oe]|this[oe+1]<<8;return 32768&_e?4294901760|_e:_e},s.prototype.readInt16BE=function(oe,de){oe>>>=0,de||G(oe,2,this.length);var _e=this[oe+1]|this[oe]<<8;return 32768&_e?4294901760|_e:_e},s.prototype.readInt32LE=function(oe,de){return oe>>>=0,de||G(oe,4,this.length),this[oe]|this[oe+1]<<8|this[oe+2]<<16|this[oe+3]<<24},s.prototype.readInt32BE=function(oe,de){return oe>>>=0,de||G(oe,4,this.length),this[oe]<<24|this[oe+1]<<16|this[oe+2]<<8|this[oe+3]},s.prototype.readBigInt64LE=Oe(function(oe){ge(oe>>>=0,"offset");var de=this[oe],_e=this[oe+7];void 0!==de&&void 0!==_e||xe(oe,this.length-8);var Me=this[oe+4]+this[oe+5]*Math.pow(2,8)+this[oe+6]*Math.pow(2,16)+(_e<<24);return(BigInt(Me)<<BigInt(32))+BigInt(de+this[++oe]*Math.pow(2,8)+this[++oe]*Math.pow(2,16)+this[++oe]*Math.pow(2,24))}),s.prototype.readBigInt64BE=Oe(function(oe){ge(oe>>>=0,"offset");var de=this[oe],_e=this[oe+7];void 0!==de&&void 0!==_e||xe(oe,this.length-8);var Me=(de<<24)+this[++oe]*Math.pow(2,16)+this[++oe]*Math.pow(2,8)+this[++oe];return(BigInt(Me)<<BigInt(32))+BigInt(this[++oe]*Math.pow(2,24)+this[++oe]*Math.pow(2,16)+this[++oe]*Math.pow(2,8)+_e)}),s.prototype.readFloatLE=function(oe,de){return oe>>>=0,de||G(oe,4,this.length),u.read(this,oe,!0,23,4)},s.prototype.readFloatBE=function(oe,de){return oe>>>=0,de||G(oe,4,this.length),u.read(this,oe,!1,23,4)},s.prototype.readDoubleLE=function(oe,de){return oe>>>=0,de||G(oe,8,this.length),u.read(this,oe,!0,52,8)},s.prototype.readDoubleBE=function(oe,de){return oe>>>=0,de||G(oe,8,this.length),u.read(this,oe,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(oe,de,_e,Me){oe=+oe,de>>>=0,_e>>>=0,Me||H(this,oe,de,_e,Math.pow(2,8*_e)-1,0);var Pe=1,Ue=0;for(this[de]=255&oe;++Ue<_e&&(Pe*=256);)this[de+Ue]=oe/Pe&255;return de+_e},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(oe,de,_e,Me){oe=+oe,de>>>=0,_e>>>=0,Me||H(this,oe,de,_e,Math.pow(2,8*_e)-1,0);var Pe=_e-1,Ue=1;for(this[de+Pe]=255&oe;--Pe>=0&&(Ue*=256);)this[de+Pe]=oe/Ue&255;return de+_e},s.prototype.writeUint8=s.prototype.writeUInt8=function(oe,de,_e){return oe=+oe,de>>>=0,_e||H(this,oe,de,1,255,0),this[de]=255&oe,de+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(oe,de,_e){return oe=+oe,de>>>=0,_e||H(this,oe,de,2,65535,0),this[de]=255&oe,this[de+1]=oe>>>8,de+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(oe,de,_e){return oe=+oe,de>>>=0,_e||H(this,oe,de,2,65535,0),this[de]=oe>>>8,this[de+1]=255&oe,de+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(oe,de,_e){return oe=+oe,de>>>=0,_e||H(this,oe,de,4,4294967295,0),this[de+3]=oe>>>24,this[de+2]=oe>>>16,this[de+1]=oe>>>8,this[de]=255&oe,de+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(oe,de,_e){return oe=+oe,de>>>=0,_e||H(this,oe,de,4,4294967295,0),this[de]=oe>>>24,this[de+1]=oe>>>16,this[de+2]=oe>>>8,this[de+3]=255&oe,de+4},s.prototype.writeBigUInt64LE=Oe(function(oe){return ne(this,oe,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=Oe(function(oe){return X(this,oe,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(oe,de,_e,Me){if(oe=+oe,de>>>=0,!Me){var Pe=Math.pow(2,8*_e-1);H(this,oe,de,_e,Pe-1,-Pe)}var Ue=0,Be=1,Ve=0;for(this[de]=255&oe;++Ue<_e&&(Be*=256);)oe<0&&0===Ve&&0!==this[de+Ue-1]&&(Ve=1),this[de+Ue]=(oe/Be>>0)-Ve&255;return de+_e},s.prototype.writeIntBE=function(oe,de,_e,Me){if(oe=+oe,de>>>=0,!Me){var Pe=Math.pow(2,8*_e-1);H(this,oe,de,_e,Pe-1,-Pe)}var Ue=_e-1,Be=1,Ve=0;for(this[de+Ue]=255&oe;--Ue>=0&&(Be*=256);)oe<0&&0===Ve&&0!==this[de+Ue+1]&&(Ve=1),this[de+Ue]=(oe/Be>>0)-Ve&255;return de+_e},s.prototype.writeInt8=function(oe,de,_e){return oe=+oe,de>>>=0,_e||H(this,oe,de,1,127,-128),oe<0&&(oe=255+oe+1),this[de]=255&oe,de+1},s.prototype.writeInt16LE=function(oe,de,_e){return oe=+oe,de>>>=0,_e||H(this,oe,de,2,32767,-32768),this[de]=255&oe,this[de+1]=oe>>>8,de+2},s.prototype.writeInt16BE=function(oe,de,_e){return oe=+oe,de>>>=0,_e||H(this,oe,de,2,32767,-32768),this[de]=oe>>>8,this[de+1]=255&oe,de+2},s.prototype.writeInt32LE=function(oe,de,_e){return oe=+oe,de>>>=0,_e||H(this,oe,de,4,2147483647,-2147483648),this[de]=255&oe,this[de+1]=oe>>>8,this[de+2]=oe>>>16,this[de+3]=oe>>>24,de+4},s.prototype.writeInt32BE=function(oe,de,_e){return oe=+oe,de>>>=0,_e||H(this,oe,de,4,2147483647,-2147483648),oe<0&&(oe=4294967295+oe+1),this[de]=oe>>>24,this[de+1]=oe>>>16,this[de+2]=oe>>>8,this[de+3]=255&oe,de+4},s.prototype.writeBigInt64LE=Oe(function(oe){return ne(this,oe,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=Oe(function(oe){return X(this,oe,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeFloatLE=function(oe,de,_e){return Q(this,oe,de,!0,_e)},s.prototype.writeFloatBE=function(oe,de,_e){return Q(this,oe,de,!1,_e)},s.prototype.writeDoubleLE=function(oe,de,_e){return te(this,oe,de,!0,_e)},s.prototype.writeDoubleBE=function(oe,de,_e){return te(this,oe,de,!1,_e)},s.prototype.copy=function(oe,de,_e,Me){if(!s.isBuffer(oe))throw new TypeError("argument should be a Buffer");if(_e||(_e=0),Me||0===Me||(Me=this.length),de>=oe.length&&(de=oe.length),de||(de=0),Me>0&&Me<_e&&(Me=_e),Me===_e||0===oe.length||0===this.length)return 0;if(de<0)throw new RangeError("targetStart out of bounds");if(_e<0||_e>=this.length)throw new RangeError("Index out of range");if(Me<0)throw new RangeError("sourceEnd out of bounds");Me>this.length&&(Me=this.length),oe.length-de<Me-_e&&(Me=oe.length-de+_e);var Pe=Me-_e;return this===oe&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(de,_e,Me):Uint8Array.prototype.set.call(oe,this.subarray(_e,Me),de),Pe},s.prototype.fill=function(oe,de,_e,Me){if("string"==typeof oe){if("string"==typeof de?(Me=de,de=0,_e=this.length):"string"==typeof _e&&(Me=_e,_e=this.length),void 0!==Me&&"string"!=typeof Me)throw new TypeError("encoding must be a string");if("string"==typeof Me&&!s.isEncoding(Me))throw new TypeError("Unknown encoding: "+Me);if(1===oe.length){var Pe=oe.charCodeAt(0);("utf8"===Me&&Pe<128||"latin1"===Me)&&(oe=Pe)}}else"number"==typeof oe?oe&=255:"boolean"==typeof oe&&(oe=Number(oe));if(de<0||this.length<de||this.length<_e)throw new RangeError("Out of range index");if(_e<=de)return this;var Ue;if(de>>>=0,_e=void 0===_e?this.length:_e>>>0,oe||(oe=0),"number"==typeof oe)for(Ue=de;Ue<_e;++Ue)this[Ue]=oe;else{var Be=s.isBuffer(oe)?oe:s.from(oe,Me),Ve=Be.length;if(0===Ve)throw new TypeError('The value "'+oe+'" is invalid for argument "value"');for(Ue=0;Ue<_e-de;++Ue)this[Ue+de]=Be[Ue%Ve]}return this};var re={};function le(oe,de,_e){re[oe]=function(Me){!function(Ce,We){if("function"!=typeof We&&null!==We)throw new TypeError("Super expression must either be null or a function");Ce.prototype=Object.create(We&&We.prototype,{constructor:{value:Ce,writable:!0,configurable:!0}}),Object.defineProperty(Ce,"prototype",{writable:!1}),We&&f(Ce,We)}(Te,Me);var Pe,Ue,Be,Ve,ve=(Be=Te,Ve=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var Ce,We=v(Be);if(Ve){var Ke=v(this).constructor;Ce=Reflect.construct(We,arguments,Ke)}else Ce=We.apply(this,arguments);return S(this,Ce)});function Te(){var Ce;return C(this,Te),Ce=ve.call(this),Object.defineProperty(M(Ce),"message",{value:de.apply(M(Ce),arguments),writable:!0,configurable:!0}),Ce.name="".concat(Ce.name," [").concat(oe,"]"),delete Ce.name,Ce}return Pe=Te,(Ue=[{key:"code",get:function(){return oe},set:function(Ce){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ce,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(oe,"]: ").concat(this.message)}}])&&function E(oe,de){for(var _e=0;_e<de.length;_e++){var Me=de[_e];Me.enumerable=Me.enumerable||!1,Me.configurable=!0,"value"in Me&&(Me.writable=!0),Object.defineProperty(oe,Me.key,Me)}}(Pe.prototype,Ue),Object.defineProperty(Pe,"prototype",{writable:!1}),Te}(_e)}function ue(oe){for(var de="",_e=oe.length,Me="-"===oe[0]?1:0;_e>=Me+4;_e-=3)de="_".concat(oe.slice(_e-3,_e)).concat(de);return"".concat(oe.slice(0,_e)).concat(de)}function he(oe,de,_e,Me,Pe,Ue){if(oe>_e||oe<de){var Be,Ve="bigint"==typeof de?"n":"";throw Be=Ue>3?0===de||de===BigInt(0)?">= 0".concat(Ve," and < 2").concat(Ve," ** ").concat(8*(Ue+1)).concat(Ve):">= -(2".concat(Ve," ** ").concat(8*(Ue+1)-1).concat(Ve,") and < 2 ** ")+"".concat(8*(Ue+1)-1).concat(Ve):">= ".concat(de).concat(Ve," and <= ").concat(_e).concat(Ve),new re.ERR_OUT_OF_RANGE("value",Be,oe)}var ve,Te,Ce;ve=Me,Ce=Ue,ge(Te=Pe,"offset"),void 0!==ve[Te]&&void 0!==ve[Te+Ce]||xe(Te,ve.length-(Ce+1))}function ge(oe,de){if("number"!=typeof oe)throw new re.ERR_INVALID_ARG_TYPE(de,"number",oe)}function xe(oe,de,_e){throw Math.floor(oe)!==oe?(ge(oe,_e),new re.ERR_OUT_OF_RANGE(_e||"offset","an integer",oe)):de<0?new re.ERR_BUFFER_OUT_OF_BOUNDS:new re.ERR_OUT_OF_RANGE(_e||"offset",">= ".concat(_e?1:0," and <= ").concat(de),oe)}le("ERR_BUFFER_OUT_OF_BOUNDS",function(oe){return oe?"".concat(oe," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),le("ERR_INVALID_ARG_TYPE",function(oe,de){return'The "'.concat(oe,'" argument must be of type number. Received type ').concat(c(de))},TypeError),le("ERR_OUT_OF_RANGE",function(oe,de,_e){var Me='The value of "'.concat(oe,'" is out of range.'),Pe=_e;return Number.isInteger(_e)&&Math.abs(_e)>Math.pow(2,32)?Pe=ue(String(_e)):"bigint"==typeof _e&&(Pe=String(_e),(_e>Math.pow(BigInt(2),BigInt(32))||_e<-Math.pow(BigInt(2),BigInt(32)))&&(Pe=ue(Pe)),Pe+="n"),Me+" It must be ".concat(de,". Received ").concat(Pe)},RangeError);var ke=/[^+/0-9A-Za-z-_]/g;function Ae(oe,de){var _e;de=de||1/0;for(var Me=oe.length,Pe=null,Ue=[],Be=0;Be<Me;++Be){if((_e=oe.charCodeAt(Be))>55295&&_e<57344){if(!Pe){if(_e>56319){(de-=3)>-1&&Ue.push(239,191,189);continue}if(Be+1===Me){(de-=3)>-1&&Ue.push(239,191,189);continue}Pe=_e;continue}if(_e<56320){(de-=3)>-1&&Ue.push(239,191,189),Pe=_e;continue}_e=65536+(Pe-55296<<10|_e-56320)}else Pe&&(de-=3)>-1&&Ue.push(239,191,189);if(Pe=null,_e<128){if((de-=1)<0)break;Ue.push(_e)}else if(_e<2048){if((de-=2)<0)break;Ue.push(_e>>6|192,63&_e|128)}else if(_e<65536){if((de-=3)<0)break;Ue.push(_e>>12|224,_e>>6&63|128,63&_e|128)}else{if(!(_e<1114112))throw new Error("Invalid code point");if((de-=4)<0)break;Ue.push(_e>>18|240,_e>>12&63|128,_e>>6&63|128,63&_e|128)}}return Ue}function pe(oe){return i.toByteArray(function(de){if((de=(de=de.split("=")[0]).trim().replace(ke,"")).length<2)return"";for(;de.length%4!=0;)de+="=";return de}(oe))}function ye(oe,de,_e,Me){var Pe;for(Pe=0;Pe<Me&&!(Pe+_e>=de.length||Pe>=oe.length);++Pe)de[Pe+_e]=oe[Pe];return Pe}function Ne(oe,de){return oe instanceof de||null!=oe&&null!=oe.constructor&&null!=oe.constructor.name&&oe.constructor.name===de.name}function be(oe){return oe!=oe}var Ee=function(){for(var oe="0123456789abcdef",de=new Array(256),_e=0;_e<16;++_e)for(var Me=16*_e,Pe=0;Pe<16;++Pe)de[Me+Pe]=oe[_e]+oe[Pe];return de}();function Oe(oe){return typeof BigInt>"u"?De:oe}function De(){throw new Error("BigInt not supported")}},35791:function(ie){"use strict";ie.exports=E,ie.exports.isMobile=E,ie.exports.default=E;var z=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,r=/CrOS/,C=/android|ipad|playbook|silk/i;function E(f){f||(f={});var S=f.ua;if(S||typeof navigator>"u"||(S=navigator.userAgent),S&&S.headers&&"string"==typeof S.headers["user-agent"]&&(S=S.headers["user-agent"]),"string"!=typeof S)return!1;var M=z.test(S)&&!r.test(S)||!!f.tablet&&C.test(S);return!M&&f.tablet&&f.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==S.indexOf("Macintosh")&&-1!==S.indexOf("Safari")&&(M=!0),M}},86781:function(ie,z,r){"use strict";r.r(z),r.d(z,{sankeyCenter:function(){return a},sankeyCircular:function(){return I},sankeyJustify:function(){return u},sankeyLeft:function(){return c},sankeyRight:function(){return i}});var C=r(33064),E=r(15140),f=r(45879),S=r(2502),M=r.n(S);function v(pe){return pe.target.depth}function c(pe){return pe.depth}function i(pe,ye){return ye-1-pe.height}function u(pe,ye){return pe.sourceLinks.length?pe.depth:ye-1}function a(pe){return pe.targetLinks.length?pe.depth:pe.sourceLinks.length?(0,C.VV)(pe.sourceLinks,v)-1:0}function o(pe){return function(){return pe}}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(pe){return typeof pe}:function(pe){return pe&&"function"==typeof Symbol&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe};function s(pe,ye){return g(pe.source,ye.source)||pe.index-ye.index}function d(pe,ye){return g(pe.target,ye.target)||pe.index-ye.index}function g(pe,ye){return pe.partOfCycle===ye.partOfCycle?pe.y0-ye.y0:"top"===pe.circularLinkType||"bottom"===ye.circularLinkType?-1:1}function p(pe){return pe.value}function T(pe){return(pe.y0+pe.y1)/2}function _(pe){return T(pe.source)}function y(pe){return T(pe.target)}function w(pe){return pe.index}function m(pe){return pe.nodes}function b(pe){return pe.links}function k(pe,ye){var Ne=pe.get(ye);if(!Ne)throw new Error("missing: "+ye);return Ne}function h(pe,ye){return ye(pe)}var O=25,A=10;function I(){var pe,ye,Ne=0,be=0,Ee=1,Oe=1,De=24,oe=w,de=u,_e=m,Me=b,Pe=32,Ue=2,Be=null;function Ve(){var Je={nodes:_e.apply(null,arguments),links:Me.apply(null,arguments)};ve(Je),P(Je,0,Be),Te(Je),Ce(Je),L(Je,oe),We(Je,Pe,oe),Ke(Je);for(var ht=4,ft=0;ft<ht;ft++)ue(Je,Oe,oe),he(Je,0,oe),re(Je,be,Oe,oe),ue(Je,Oe,oe),he(Je,0,oe);return Ae(Je,be,Oe),Z(Je,Ue,Oe,oe),Je}function ve(Je){Je.nodes.forEach(function(ft,mt){ft.index=mt,ft.sourceLinks=[],ft.targetLinks=[]});var ht=(0,E.UI)(Je.nodes,oe);return Je.links.forEach(function(ft,mt){ft.index=mt;var At=ft.source,Rt=ft.target;"object"!==(void 0===At?"undefined":l(At))&&(At=ft.source=k(ht,At)),"object"!==(void 0===Rt?"undefined":l(Rt))&&(Rt=ft.target=k(ht,Rt)),At.sourceLinks.push(ft),Rt.targetLinks.push(ft)}),Je}function Te(Je){Je.nodes.forEach(function(ht){ht.partOfCycle=!1,ht.value=Math.max((0,C.Sm)(ht.sourceLinks,p),(0,C.Sm)(ht.targetLinks,p)),ht.sourceLinks.forEach(function(ft){ft.circular&&(ht.partOfCycle=!0,ht.circularLinkType=ft.circularLinkType)}),ht.targetLinks.forEach(function(ft){ft.circular&&(ht.partOfCycle=!0,ht.circularLinkType=ft.circularLinkType)})})}function Ce(Je){var ht,ft,mt;for(ht=Je.nodes,ft=[],mt=0;ht.length;++mt,ht=ft,ft=[])ht.forEach(function(At){At.depth=mt,At.sourceLinks.forEach(function(Rt){ft.indexOf(Rt.target)<0&&!Rt.circular&&ft.push(Rt.target)})});for(ht=Je.nodes,ft=[],mt=0;ht.length;++mt,ht=ft,ft=[])ht.forEach(function(At){At.height=mt,At.targetLinks.forEach(function(Rt){ft.indexOf(Rt.source)<0&&!Rt.circular&&ft.push(Rt.source)})});Je.nodes.forEach(function(At){At.column=Math.floor(de.call(null,At,mt))})}function We(Je,ht,ft){var mt=(0,E.b1)().key(function(Bt){return Bt.column}).sortKeys(C.j2).entries(Je.nodes).map(function(Bt){return Bt.values});(function(Bt){if(ye){var Ut=1/0;mt.forEach(function(et){var nt=Oe*ye/(et.length+1);Ut=nt<Ut?nt:Ut}),pe=Ut}var Vt=(0,C.VV)(mt,function(et){return(Oe-be-(et.length-1)*pe)/(0,C.Sm)(et,p)});Vt*=.3,Je.links.forEach(function(et){et.width=et.value*Vt});var et,nt,$e,ot,dt,Le,tn=(nt=0,$e=0,ot=0,dt=0,Le=(0,C.Fp)((et=Je).nodes,function(Ge){return Ge.column}),et.links.forEach(function(Ge){Ge.circular&&("top"==Ge.circularLinkType?nt+=Ge.width:$e+=Ge.width,0==Ge.target.column&&(dt+=Ge.width),Ge.source.column==Le&&(ot+=Ge.width))}),{top:nt=nt>0?nt+O+A:nt,bottom:$e=$e>0?$e+O+A:$e,left:dt=dt>0?dt+O+A:dt,right:ot=ot>0?ot+O+A:ot}),Gt=function(et,nt){var $e=(0,C.Fp)(et.nodes,function(st){return st.column}),ot=Ee-Ne,dt=Oe-be,Le=ot/(ot+nt.right+nt.left),Ge=dt/(dt+nt.top+nt.bottom);return Ne=Ne*Le+nt.left,Ee=0==nt.right?Ee:Ee*Le,be=be*Ge+nt.top,Oe*=Ge,et.nodes.forEach(function(st){st.x0=Ne+st.column*((Ee-Ne-De)/$e),st.x1=st.x0+De}),Ge}(Je,tn);Vt*=Gt,Je.links.forEach(function(et){et.width=et.value*Vt}),mt.forEach(function(et){var nt=et.length;et.forEach(function($e,ot){$e.depth==mt.length-1&&1==nt||0==$e.depth&&1==nt?($e.y0=Oe/2-$e.value*Vt,$e.y1=$e.y0+$e.value*Vt):$e.partOfCycle?0==B($e,Bt)?($e.y0=Oe/2+ot,$e.y1=$e.y0+$e.value*Vt):"top"==$e.circularLinkType?($e.y0=be+ot,$e.y1=$e.y0+$e.value*Vt):($e.y0=Oe-$e.value*Vt-ot,$e.y1=$e.y0+$e.value*Vt):0==tn.top||0==tn.bottom?($e.y0=(Oe-be)/nt*ot,$e.y1=$e.y0+$e.value*Vt):($e.y0=(Oe-be)/2-nt/2+ot,$e.y1=$e.y0+$e.value*Vt)})})})(ft),Pt();for(var At=1,Rt=ht;Rt>0;--Rt)It(At*=.99,ft),Pt();function It(Bt,Ut){var Vt=mt.length;mt.forEach(function(tn){var Gt=tn.length,et=tn[0].depth;tn.forEach(function(nt){var $e;if((nt.sourceLinks.length||nt.targetLinks.length)&&!(nt.partOfCycle&&B(nt,Ut)>0))if(0==et&&1==Gt)nt.y0=Oe/2-($e=nt.y1-nt.y0)/2,nt.y1=Oe/2+$e/2;else if(et==Vt-1&&1==Gt)nt.y0=Oe/2-($e=nt.y1-nt.y0)/2,nt.y1=Oe/2+$e/2;else{var ot=(0,C.J6)(nt.sourceLinks,y),dt=(0,C.J6)(nt.targetLinks,_),Le=((ot&&dt?(ot+dt)/2:ot||dt)-T(nt))*Bt;nt.y0+=Le,nt.y1+=Le}})})}function Pt(){mt.forEach(function(Bt){var Ut,Vt,tn,Gt=be,et=Bt.length;for(Bt.sort(g),tn=0;tn<et;++tn)(Vt=Gt-(Ut=Bt[tn]).y0)>0&&(Ut.y0+=Vt,Ut.y1+=Vt),Gt=Ut.y1+pe;if((Vt=Gt-pe-Oe)>0)for(Gt=Ut.y0-=Vt,Ut.y1-=Vt,tn=et-2;tn>=0;--tn)(Vt=(Ut=Bt[tn]).y1+pe-Gt)>0&&(Ut.y0-=Vt,Ut.y1-=Vt),Gt=Ut.y0})}}function Ke(Je){Je.nodes.forEach(function(ht){ht.sourceLinks.sort(d),ht.targetLinks.sort(s)}),Je.nodes.forEach(function(ht){var ft=ht.y0,mt=ft,At=ht.y1,Rt=At;ht.sourceLinks.forEach(function(It){It.circular?(It.y0=At-It.width/2,At-=It.width):(It.y0=ft+It.width/2,ft+=It.width)}),ht.targetLinks.forEach(function(It){It.circular?(It.y1=Rt-It.width/2,Rt-=It.width):(It.y1=mt+It.width/2,mt+=It.width)})})}return Ve.nodeId=function(Je){return arguments.length?(oe="function"==typeof Je?Je:o(Je),Ve):oe},Ve.nodeAlign=function(Je){return arguments.length?(de="function"==typeof Je?Je:o(Je),Ve):de},Ve.nodeWidth=function(Je){return arguments.length?(De=+Je,Ve):De},Ve.nodePadding=function(Je){return arguments.length?(pe=+Je,Ve):pe},Ve.nodes=function(Je){return arguments.length?(_e="function"==typeof Je?Je:o(Je),Ve):_e},Ve.links=function(Je){return arguments.length?(Me="function"==typeof Je?Je:o(Je),Ve):Me},Ve.size=function(Je){return arguments.length?(Ne=be=0,Ee=+Je[0],Oe=+Je[1],Ve):[Ee-Ne,Oe-be]},Ve.extent=function(Je){return arguments.length?(Ne=+Je[0][0],Ee=+Je[1][0],be=+Je[0][1],Oe=+Je[1][1],Ve):[[Ne,be],[Ee,Oe]]},Ve.iterations=function(Je){return arguments.length?(Pe=+Je,Ve):Pe},Ve.circularLinkGap=function(Je){return arguments.length?(Ue=+Je,Ve):Ue},Ve.nodePaddingRatio=function(Je){return arguments.length?(ye=+Je,Ve):ye},Ve.sortNodes=function(Je){return arguments.length?(Be=Je,Ve):Be},Ve.update=function(Je){return L(Je,oe),Ke(Je),Je.links.forEach(function(ht){ht.circular&&(ht.circularLinkType=ht.y0+ht.y1<Oe?"top":"bottom",ht.source.circularLinkType=ht.circularLinkType,ht.target.circularLinkType=ht.circularLinkType)}),ue(Je,Oe,oe,!1),he(Je,0,oe),Z(Je,Ue,Oe,oe),Je},Ve}function P(pe,ye,Ne){var be=0;if(null===Ne){for(var Ee=[],Oe=0;Oe<pe.links.length;Oe++){var De=pe.links[Oe],oe=De.source.index,de=De.target.index;Ee[oe]||(Ee[oe]=[]),Ee[de]||(Ee[de]=[]),-1===Ee[oe].indexOf(de)&&Ee[oe].push(de)}var _e=M()(Ee);_e.sort(function(Ue,Be){return Ue.length-Be.length});var Me={};for(Oe=0;Oe<_e.length;Oe++){var Pe=_e[Oe].slice(-2);Me[Pe[0]]||(Me[Pe[0]]={}),Me[Pe[0]][Pe[1]]=!0}pe.links.forEach(function(Ue){var Be=Ue.target.index,Ve=Ue.source.index;Be===Ve||Me[Ve]&&Me[Ve][Be]?(Ue.circular=!0,Ue.circularLinkID=be,be+=1):Ue.circular=!1})}else pe.links.forEach(function(Ue){Ue.source[Ne]<Ue.target[Ne]?Ue.circular=!1:(Ue.circular=!0,Ue.circularLinkID=be,be+=1)})}function L(pe,ye){var Ne=0,be=0;pe.links.forEach(function(Ee){Ee.circular&&(Ee.circularLinkType=Ee.source.circularLinkType||Ee.target.circularLinkType?Ee.source.circularLinkType?Ee.source.circularLinkType:Ee.target.circularLinkType:Ne<be?"top":"bottom","top"==Ee.circularLinkType?Ne+=1:be+=1,pe.nodes.forEach(function(Oe){h(Oe,ye)!=h(Ee.source,ye)&&h(Oe,ye)!=h(Ee.target,ye)||(Oe.circularLinkType=Ee.circularLinkType)}))}),pe.links.forEach(function(Ee){Ee.circular&&(Ee.source.circularLinkType==Ee.target.circularLinkType&&(Ee.circularLinkType=Ee.source.circularLinkType),ke(Ee,ye)&&(Ee.circularLinkType=Ee.source.circularLinkType))})}function N(pe){var ye=Math.abs(pe.y1-pe.y0),Ne=Math.abs(pe.target.x0-pe.source.x1);return Math.atan(Ne/ye)}function B(pe,ye){var Ne=0;pe.sourceLinks.forEach(function(Ee){Ne=Ee.circular&&!ke(Ee,ye)?Ne+1:Ne});var be=0;return pe.targetLinks.forEach(function(Ee){be=Ee.circular&&!ke(Ee,ye)?be+1:be}),Ne+be}function W(pe){var Ne=0;pe.source.sourceLinks.forEach(function(Oe){Ne=Oe.circular?Ne+1:Ne});var Ee=0;return pe.target.targetLinks.forEach(function(Oe){Ee=Oe.circular?Ee+1:Ee}),!(Ne>1||Ee>1)}function j(pe,ye,Ne){return pe.sort(V),pe.forEach(function(be,Ee){var Oe,De,oe=0;if(ke(be,Ne)&&W(be))be.circularPathData.verticalBuffer=oe+be.width/2;else{for(var de=0;de<Ee;de++)if(!((Oe=pe[Ee]).source.column<(De=pe[de]).target.column||Oe.target.column>De.source.column)){var _e=pe[de].circularPathData.verticalBuffer+pe[de].width/2+ye;oe=_e>oe?_e:oe}be.circularPathData.verticalBuffer=oe+be.width/2}}),pe}function Z(pe,ye,Ne,be){var Ee=(0,C.VV)(pe.links,function(Oe){return Oe.source.y0});pe.links.forEach(function(Oe){Oe.circular&&(Oe.circularPathData={})}),j(pe.links.filter(function(Oe){return"top"==Oe.circularLinkType}),ye,be),j(pe.links.filter(function(Oe){return"bottom"==Oe.circularLinkType}),ye,be),pe.links.forEach(function(Oe){if(Oe.circular){if(Oe.circularPathData.arcRadius=Oe.width+A,Oe.circularPathData.leftNodeBuffer=5,Oe.circularPathData.rightNodeBuffer=5,Oe.circularPathData.sourceWidth=Oe.source.x1-Oe.source.x0,Oe.circularPathData.sourceX=Oe.source.x0+Oe.circularPathData.sourceWidth,Oe.circularPathData.targetX=Oe.target.x0,Oe.circularPathData.sourceY=Oe.y0,Oe.circularPathData.targetY=Oe.y1,ke(Oe,be)&&W(Oe))Oe.circularPathData.leftSmallArcRadius=A+Oe.width/2,Oe.circularPathData.leftLargeArcRadius=A+Oe.width/2,Oe.circularPathData.rightSmallArcRadius=A+Oe.width/2,Oe.circularPathData.rightLargeArcRadius=A+Oe.width/2,"bottom"==Oe.circularLinkType?(Oe.circularPathData.verticalFullExtent=Oe.source.y1+O+Oe.circularPathData.verticalBuffer,Oe.circularPathData.verticalLeftInnerExtent=Oe.circularPathData.verticalFullExtent-Oe.circularPathData.leftLargeArcRadius,Oe.circularPathData.verticalRightInnerExtent=Oe.circularPathData.verticalFullExtent-Oe.circularPathData.rightLargeArcRadius):(Oe.circularPathData.verticalFullExtent=Oe.source.y0-O-Oe.circularPathData.verticalBuffer,Oe.circularPathData.verticalLeftInnerExtent=Oe.circularPathData.verticalFullExtent+Oe.circularPathData.leftLargeArcRadius,Oe.circularPathData.verticalRightInnerExtent=Oe.circularPathData.verticalFullExtent+Oe.circularPathData.rightLargeArcRadius);else{var De=Oe.source.column,oe=Oe.circularLinkType,de=pe.links.filter(function(Pe){return Pe.source.column==De&&Pe.circularLinkType==oe});de.sort("bottom"==Oe.circularLinkType?G:q);var _e=0;de.forEach(function(Pe,Ue){Pe.circularLinkID==Oe.circularLinkID&&(Oe.circularPathData.leftSmallArcRadius=A+Oe.width/2+_e,Oe.circularPathData.leftLargeArcRadius=A+Oe.width/2+Ue*ye+_e),_e+=Pe.width}),De=Oe.target.column,(de=pe.links.filter(function(Pe){return Pe.target.column==De&&Pe.circularLinkType==oe})).sort("bottom"==Oe.circularLinkType?ne:H),_e=0,de.forEach(function(Pe,Ue){Pe.circularLinkID==Oe.circularLinkID&&(Oe.circularPathData.rightSmallArcRadius=A+Oe.width/2+_e,Oe.circularPathData.rightLargeArcRadius=A+Oe.width/2+Ue*ye+_e),_e+=Pe.width}),"bottom"==Oe.circularLinkType?(Oe.circularPathData.verticalFullExtent=Math.max(Ne,Oe.source.y1,Oe.target.y1)+O+Oe.circularPathData.verticalBuffer,Oe.circularPathData.verticalLeftInnerExtent=Oe.circularPathData.verticalFullExtent-Oe.circularPathData.leftLargeArcRadius,Oe.circularPathData.verticalRightInnerExtent=Oe.circularPathData.verticalFullExtent-Oe.circularPathData.rightLargeArcRadius):(Oe.circularPathData.verticalFullExtent=Ee-O-Oe.circularPathData.verticalBuffer,Oe.circularPathData.verticalLeftInnerExtent=Oe.circularPathData.verticalFullExtent+Oe.circularPathData.leftLargeArcRadius,Oe.circularPathData.verticalRightInnerExtent=Oe.circularPathData.verticalFullExtent+Oe.circularPathData.rightLargeArcRadius)}Oe.circularPathData.leftInnerExtent=Oe.circularPathData.sourceX+Oe.circularPathData.leftNodeBuffer,Oe.circularPathData.rightInnerExtent=Oe.circularPathData.targetX-Oe.circularPathData.rightNodeBuffer,Oe.circularPathData.leftFullExtent=Oe.circularPathData.sourceX+Oe.circularPathData.leftLargeArcRadius+Oe.circularPathData.leftNodeBuffer,Oe.circularPathData.rightFullExtent=Oe.circularPathData.targetX-Oe.circularPathData.rightLargeArcRadius-Oe.circularPathData.rightNodeBuffer}if(Oe.circular)Oe.path="top"==(Pe=Oe).circularLinkType?"M"+Pe.circularPathData.sourceX+" "+Pe.circularPathData.sourceY+" L"+Pe.circularPathData.leftInnerExtent+" "+Pe.circularPathData.sourceY+" A"+Pe.circularPathData.leftLargeArcRadius+" "+Pe.circularPathData.leftSmallArcRadius+" 0 0 0 "+Pe.circularPathData.leftFullExtent+" "+(Pe.circularPathData.sourceY-Pe.circularPathData.leftSmallArcRadius)+" L"+Pe.circularPathData.leftFullExtent+" "+Pe.circularPathData.verticalLeftInnerExtent+" A"+Pe.circularPathData.leftLargeArcRadius+" "+Pe.circularPathData.leftLargeArcRadius+" 0 0 0 "+Pe.circularPathData.leftInnerExtent+" "+Pe.circularPathData.verticalFullExtent+" L"+Pe.circularPathData.rightInnerExtent+" "+Pe.circularPathData.verticalFullExtent+" A"+Pe.circularPathData.rightLargeArcRadius+" "+Pe.circularPathData.rightLargeArcRadius+" 0 0 0 "+Pe.circularPathData.rightFullExtent+" "+Pe.circularPathData.verticalRightInnerExtent+" L"+Pe.circularPathData.rightFullExtent+" "+(Pe.circularPathData.targetY-Pe.circularPathData.rightSmallArcRadius)+" A"+Pe.circularPathData.rightLargeArcRadius+" "+Pe.circularPathData.rightSmallArcRadius+" 0 0 0 "+Pe.circularPathData.rightInnerExtent+" "+Pe.circularPathData.targetY+" L"+Pe.circularPathData.targetX+" "+Pe.circularPathData.targetY:"M"+Pe.circularPathData.sourceX+" "+Pe.circularPathData.sourceY+" L"+Pe.circularPathData.leftInnerExtent+" "+Pe.circularPathData.sourceY+" A"+Pe.circularPathData.leftLargeArcRadius+" "+Pe.circularPathData.leftSmallArcRadius+" 0 0 1 "+Pe.circularPathData.leftFullExtent+" "+(Pe.circularPathData.sourceY+Pe.circularPathData.leftSmallArcRadius)+" L"+Pe.circularPathData.leftFullExtent+" "+Pe.circularPathData.verticalLeftInnerExtent+" A"+Pe.circularPathData.leftLargeArcRadius+" "+Pe.circularPathData.leftLargeArcRadius+" 0 0 1 "+Pe.circularPathData.leftInnerExtent+" "+Pe.circularPathData.verticalFullExtent+" L"+Pe.circularPathData.rightInnerExtent+" "+Pe.circularPathData.verticalFullExtent+" A"+Pe.circularPathData.rightLargeArcRadius+" "+Pe.circularPathData.rightLargeArcRadius+" 0 0 1 "+Pe.circularPathData.rightFullExtent+" "+Pe.circularPathData.verticalRightInnerExtent+" L"+Pe.circularPathData.rightFullExtent+" "+(Pe.circularPathData.targetY+Pe.circularPathData.rightSmallArcRadius)+" A"+Pe.circularPathData.rightLargeArcRadius+" "+Pe.circularPathData.rightSmallArcRadius+" 0 0 1 "+Pe.circularPathData.rightInnerExtent+" "+Pe.circularPathData.targetY+" L"+Pe.circularPathData.targetX+" "+Pe.circularPathData.targetY;else{var Me=(0,f.h5)().source(function(Pe){return[Pe.source.x0+(Pe.source.x1-Pe.source.x0),Pe.y0]}).target(function(Pe){return[Pe.target.x0,Pe.y1]});Oe.path=Me(Oe)}var Pe})}function V(pe,ye){return X(pe)==X(ye)?"bottom"==pe.circularLinkType?G(pe,ye):q(pe,ye):X(ye)-X(pe)}function q(pe,ye){return pe.y0-ye.y0}function G(pe,ye){return ye.y0-pe.y0}function H(pe,ye){return pe.y1-ye.y1}function ne(pe,ye){return ye.y1-pe.y1}function X(pe){return pe.target.column-pe.source.column}function $(pe){return pe.target.x0-pe.source.x1}function Q(pe,ye){var Ne=N(pe),be=$(ye)/Math.tan(Ne);return"up"==xe(pe)?pe.y1+be:pe.y1-be}function te(pe,ye){var Ne=N(pe),be=$(ye)/Math.tan(Ne);return"up"==xe(pe)?pe.y1-be:pe.y1+be}function re(pe,ye,Ne,be){pe.links.forEach(function(Ee){if(!Ee.circular&&Ee.target.column-Ee.source.column>1){var Oe=Ee.source.column+1,De=Ee.target.column-1,oe=1,de=De-Oe+1;for(oe=1;Oe<=De;Oe++,oe++)pe.nodes.forEach(function(_e){if(_e.column==Oe){var Me,Pe=oe/(de+1),Ue=Math.pow(1-Pe,3),Be=3*Pe*Math.pow(1-Pe,2),Ve=3*Math.pow(Pe,2)*(1-Pe),ve=Math.pow(Pe,3),Te=Ue*Ee.y0+Be*Ee.y0+Ve*Ee.y1+ve*Ee.y1,Ce=Te-Ee.width/2,We=Te+Ee.width/2;Ce>_e.y0&&Ce<_e.y1?(Me=_e.y1-Ce+10,_e=le(_e,Me="bottom"==_e.circularLinkType?Me:-Me,ye,Ne),pe.nodes.forEach(function(Ke){var Je,ht;h(Ke,be)!=h(_e,be)&&Ke.column==_e.column&&((Je=_e).y0>(ht=Ke).y0&&Je.y0<ht.y1||Je.y1>ht.y0&&Je.y1<ht.y1||Je.y0<ht.y0&&Je.y1>ht.y1)&&le(Ke,Me,ye,Ne)})):(We>_e.y0&&We<_e.y1||Ce<_e.y0&&We>_e.y1)&&(_e=le(_e,Me=We-_e.y0+10,ye,Ne),pe.nodes.forEach(function(Ke){h(Ke,be)!=h(_e,be)&&Ke.column==_e.column&&Ke.y0<_e.y1&&Ke.y1>_e.y1&&le(Ke,Me,ye,Ne)}))}})}})}function le(pe,ye,Ne,be){return pe.y0+ye>=Ne&&pe.y1+ye<=be&&(pe.y0=pe.y0+ye,pe.y1=pe.y1+ye,pe.targetLinks.forEach(function(Ee){Ee.y1=Ee.y1+ye}),pe.sourceLinks.forEach(function(Ee){Ee.y0=Ee.y0+ye})),pe}function ue(pe,ye,Ne,be){pe.nodes.forEach(function(Ee){be&&Ee.y+(Ee.y1-Ee.y0)>ye&&(Ee.y=Ee.y-(Ee.y+(Ee.y1-Ee.y0)-ye));var Oe=pe.links.filter(function(de){return h(de.source,Ne)==h(Ee,Ne)}),De=Oe.length;De>1&&Oe.sort(function(de,_e){if(!de.circular&&!_e.circular){if(de.target.column==_e.target.column||!ge(de,_e))return de.y1-_e.y1;if(de.target.column>_e.target.column){var Me=te(_e,de);return de.y1-Me}if(_e.target.column>de.target.column)return te(de,_e)-_e.y1}return de.circular&&!_e.circular?"top"==de.circularLinkType?-1:1:_e.circular&&!de.circular?"top"==_e.circularLinkType?1:-1:de.circular&&_e.circular?de.circularLinkType===_e.circularLinkType&&"top"==de.circularLinkType?de.target.column===_e.target.column?de.target.y1-_e.target.y1:_e.target.column-de.target.column:de.circularLinkType===_e.circularLinkType&&"bottom"==de.circularLinkType?de.target.column===_e.target.column?_e.target.y1-de.target.y1:de.target.column-_e.target.column:"top"==de.circularLinkType?-1:1:void 0});var oe=Ee.y0;Oe.forEach(function(de){de.y0=oe+de.width/2,oe+=de.width}),Oe.forEach(function(de,_e){if("bottom"==de.circularLinkType){for(var Me=_e+1,Pe=0;Me<De;Me++)Pe+=Oe[Me].width;de.y0=Ee.y1-Pe-de.width/2}})})}function he(pe,ye,Ne){pe.nodes.forEach(function(be){var Ee=pe.links.filter(function(oe){return h(oe.target,Ne)==h(be,Ne)}),Oe=Ee.length;Oe>1&&Ee.sort(function(oe,de){if(!oe.circular&&!de.circular){if(oe.source.column==de.source.column||!ge(oe,de))return oe.y0-de.y0;if(de.source.column<oe.source.column){var _e=Q(de,oe);return oe.y0-_e}if(oe.source.column<de.source.column)return Q(oe,de)-de.y0}return oe.circular&&!de.circular?"top"==oe.circularLinkType?-1:1:de.circular&&!oe.circular?"top"==de.circularLinkType?1:-1:oe.circular&&de.circular?oe.circularLinkType===de.circularLinkType&&"top"==oe.circularLinkType?oe.source.column===de.source.column?oe.source.y1-de.source.y1:oe.source.column-de.source.column:oe.circularLinkType===de.circularLinkType&&"bottom"==oe.circularLinkType?oe.source.column===de.source.column?oe.source.y1-de.source.y1:de.source.column-oe.source.column:"top"==oe.circularLinkType?-1:1:void 0});var De=be.y0;Ee.forEach(function(oe){oe.y1=De+oe.width/2,De+=oe.width}),Ee.forEach(function(oe,de){if("bottom"==oe.circularLinkType){for(var _e=de+1,Me=0;_e<Oe;_e++)Me+=Ee[_e].width;oe.y1=be.y1-Me-oe.width/2}})})}function ge(pe,ye){return xe(pe)==xe(ye)}function xe(pe){return pe.y0-pe.y1>0?"up":"down"}function ke(pe,ye){return h(pe.source,ye)==h(pe.target,ye)}function Ae(pe,ye,Ne){var be=pe.nodes,Ee=pe.links,Oe=!1,De=!1;if(Ee.forEach(function(_e){"top"==_e.circularLinkType?Oe=!0:"bottom"==_e.circularLinkType&&(De=!0)}),0==Oe||0==De){var oe=(0,C.VV)(be,function(_e){return _e.y0}),de=(Ne-ye)/((0,C.Fp)(be,function(_e){return _e.y1})-oe);be.forEach(function(_e){var Me=(_e.y1-_e.y0)*de;_e.y0=(_e.y0-oe)*de,_e.y1=_e.y0+Me}),Ee.forEach(function(_e){_e.y0=(_e.y0-oe)*de,_e.y1=(_e.y1-oe)*de,_e.width=_e.width*de})}}},30838:function(ie,z,r){"use strict";r.r(z),r.d(z,{sankey:function(){return w},sankeyCenter:function(){return c},sankeyJustify:function(){return v},sankeyLeft:function(){return S},sankeyLinkHorizontal:function(){return h},sankeyRight:function(){return M}});var C=r(33064),E=r(15140);function f(O){return O.target.depth}function S(O){return O.depth}function M(O,A){return A-1-O.height}function v(O,A){return O.sourceLinks.length?O.depth:A-1}function c(O){return O.targetLinks.length?O.depth:O.sourceLinks.length?(0,C.VV)(O.sourceLinks,f)-1:0}function i(O){return function(){return O}}function u(O,A){return o(O.source,A.source)||O.index-A.index}function a(O,A){return o(O.target,A.target)||O.index-A.index}function o(O,A){return O.y0-A.y0}function l(O){return O.value}function s(O){return(O.y0+O.y1)/2}function d(O){return s(O.source)*O.value}function g(O){return s(O.target)*O.value}function p(O){return O.index}function T(O){return O.nodes}function _(O){return O.links}function y(O,A){var I=O.get(A);if(!I)throw new Error("missing: "+A);return I}function w(){var O=0,A=0,I=1,P=1,L=24,N=8,B=p,W=v,j=T,Z=_,V=32;function q(){var Q={nodes:j.apply(null,arguments),links:Z.apply(null,arguments)};return G(Q),H(Q),ne(Q),X(Q),$(Q),Q}function G(Q){Q.nodes.forEach(function(re,le){re.index=le,re.sourceLinks=[],re.targetLinks=[]});var te=(0,E.UI)(Q.nodes,B);Q.links.forEach(function(re,le){re.index=le;var ue=re.source,he=re.target;"object"!=typeof ue&&(ue=re.source=y(te,ue)),"object"!=typeof he&&(he=re.target=y(te,he)),ue.sourceLinks.push(re),he.targetLinks.push(re)})}function H(Q){Q.nodes.forEach(function(te){te.value=Math.max((0,C.Sm)(te.sourceLinks,l),(0,C.Sm)(te.targetLinks,l))})}function ne(Q){var te,re,le;for(te=Q.nodes,re=[],le=0;te.length;++le,te=re,re=[])te.forEach(function(he){he.depth=le,he.sourceLinks.forEach(function(ge){re.indexOf(ge.target)<0&&re.push(ge.target)})});for(te=Q.nodes,re=[],le=0;te.length;++le,te=re,re=[])te.forEach(function(he){he.height=le,he.targetLinks.forEach(function(ge){re.indexOf(ge.source)<0&&re.push(ge.source)})});var ue=(I-O-L)/(le-1);Q.nodes.forEach(function(he){he.x1=(he.x0=O+Math.max(0,Math.min(le-1,Math.floor(W.call(null,he,le))))*ue)+L})}function X(Q){var te=(0,E.b1)().key(function(xe){return xe.x0}).sortKeys(C.j2).entries(Q.nodes).map(function(xe){return xe.values});(function(){var xe=(0,C.Fp)(te,function(pe){return pe.length}),ke=.6666666666666666*(P-A)/(xe-1);N>ke&&(N=ke);var Ae=(0,C.VV)(te,function(pe){return(P-A-(pe.length-1)*N)/(0,C.Sm)(pe,l)});te.forEach(function(pe){pe.forEach(function(ye,Ne){ye.y1=(ye.y0=Ne)+ye.value*Ae})}),Q.links.forEach(function(pe){pe.width=pe.value*Ae})})(),ge();for(var re=1,le=V;le>0;--le)he(re*=.99),ge(),ue(re),ge();function ue(xe){te.forEach(function(ke){ke.forEach(function(Ae){if(Ae.targetLinks.length){var pe=((0,C.Sm)(Ae.targetLinks,d)/(0,C.Sm)(Ae.targetLinks,l)-s(Ae))*xe;Ae.y0+=pe,Ae.y1+=pe}})})}function he(xe){te.slice().reverse().forEach(function(ke){ke.forEach(function(Ae){if(Ae.sourceLinks.length){var pe=((0,C.Sm)(Ae.sourceLinks,g)/(0,C.Sm)(Ae.sourceLinks,l)-s(Ae))*xe;Ae.y0+=pe,Ae.y1+=pe}})})}function ge(){te.forEach(function(xe){var ke,Ae,pe,ye=A,Ne=xe.length;for(xe.sort(o),pe=0;pe<Ne;++pe)(Ae=ye-(ke=xe[pe]).y0)>0&&(ke.y0+=Ae,ke.y1+=Ae),ye=ke.y1+N;if((Ae=ye-N-P)>0)for(ye=ke.y0-=Ae,ke.y1-=Ae,pe=Ne-2;pe>=0;--pe)(Ae=(ke=xe[pe]).y1+N-ye)>0&&(ke.y0-=Ae,ke.y1-=Ae),ye=ke.y0})}}function $(Q){Q.nodes.forEach(function(te){te.sourceLinks.sort(a),te.targetLinks.sort(u)}),Q.nodes.forEach(function(te){var re=te.y0,le=re;te.sourceLinks.forEach(function(ue){ue.y0=re+ue.width/2,re+=ue.width}),te.targetLinks.forEach(function(ue){ue.y1=le+ue.width/2,le+=ue.width})})}return q.update=function(Q){return $(Q),Q},q.nodeId=function(Q){return arguments.length?(B="function"==typeof Q?Q:i(Q),q):B},q.nodeAlign=function(Q){return arguments.length?(W="function"==typeof Q?Q:i(Q),q):W},q.nodeWidth=function(Q){return arguments.length?(L=+Q,q):L},q.nodePadding=function(Q){return arguments.length?(N=+Q,q):N},q.nodes=function(Q){return arguments.length?(j="function"==typeof Q?Q:i(Q),q):j},q.links=function(Q){return arguments.length?(Z="function"==typeof Q?Q:i(Q),q):Z},q.size=function(Q){return arguments.length?(O=A=0,I=+Q[0],P=+Q[1],q):[I-O,P-A]},q.extent=function(Q){return arguments.length?(O=+Q[0][0],I=+Q[1][0],A=+Q[0][1],P=+Q[1][1],q):[[O,A],[I,P]]},q.iterations=function(Q){return arguments.length?(V=+Q,q):V},q}var m=r(45879);function b(O){return[O.source.x1,O.y0]}function k(O){return[O.target.x0,O.y1]}function h(){return(0,m.h5)().source(b).target(k)}},39898:function(ie,z,r){var C,E;(function(){var f={version:"3.8.0"},S=[].slice,M=function(se){return S.call(se)},v=self.document;function c(se){return se&&(se.ownerDocument||se.document||se).documentElement}function i(se){return se&&(se.ownerDocument&&se.ownerDocument.defaultView||se.document&&se||se.defaultView)}if(v)try{M(v.documentElement.childNodes)}catch{M=function(me){for(var Ie=me.length,je=new Array(Ie);Ie--;)je[Ie]=me[Ie];return je}}if(Date.now||(Date.now=function(){return+new Date}),v)try{v.createElement("DIV").style.setProperty("opacity",0,"")}catch{var u=this.Element.prototype,a=u.setAttribute,o=u.setAttributeNS,l=this.CSSStyleDeclaration.prototype,s=l.setProperty;u.setAttribute=function(me,Ie){a.call(this,me,Ie+"")},u.setAttributeNS=function(me,Ie,je){o.call(this,me,Ie,je+"")},l.setProperty=function(me,Ie,je){s.call(this,me,Ie+"",je)}}function d(se,me){return se<me?-1:se>me?1:se>=me?0:NaN}function g(se){return null===se?NaN:+se}function p(se){return!isNaN(se)}function T(se){return{left:function(me,Ie,je,qe){for(arguments.length<3&&(je=0),arguments.length<4&&(qe=me.length);je<qe;){var Xe=je+qe>>>1;se(me[Xe],Ie)<0?je=Xe+1:qe=Xe}return je},right:function(me,Ie,je,qe){for(arguments.length<3&&(je=0),arguments.length<4&&(qe=me.length);je<qe;){var Xe=je+qe>>>1;se(me[Xe],Ie)>0?qe=Xe:je=Xe+1}return je}}}f.ascending=d,f.descending=function(se,me){return me<se?-1:me>se?1:me>=se?0:NaN},f.min=function(se,me){var Ie,je,qe=-1,Xe=se.length;if(1===arguments.length){for(;++qe<Xe;)if(null!=(je=se[qe])&&je>=je){Ie=je;break}for(;++qe<Xe;)null!=(je=se[qe])&&Ie>je&&(Ie=je)}else{for(;++qe<Xe;)if(null!=(je=me.call(se,se[qe],qe))&&je>=je){Ie=je;break}for(;++qe<Xe;)null!=(je=me.call(se,se[qe],qe))&&Ie>je&&(Ie=je)}return Ie},f.max=function(se,me){var Ie,je,qe=-1,Xe=se.length;if(1===arguments.length){for(;++qe<Xe;)if(null!=(je=se[qe])&&je>=je){Ie=je;break}for(;++qe<Xe;)null!=(je=se[qe])&&je>Ie&&(Ie=je)}else{for(;++qe<Xe;)if(null!=(je=me.call(se,se[qe],qe))&&je>=je){Ie=je;break}for(;++qe<Xe;)null!=(je=me.call(se,se[qe],qe))&&je>Ie&&(Ie=je)}return Ie},f.extent=function(se,me){var Ie,je,qe,Xe=-1,rt=se.length;if(1===arguments.length){for(;++Xe<rt;)if(null!=(je=se[Xe])&&je>=je){Ie=qe=je;break}for(;++Xe<rt;)null!=(je=se[Xe])&&(Ie>je&&(Ie=je),qe<je&&(qe=je))}else{for(;++Xe<rt;)if(null!=(je=me.call(se,se[Xe],Xe))&&je>=je){Ie=qe=je;break}for(;++Xe<rt;)null!=(je=me.call(se,se[Xe],Xe))&&(Ie>je&&(Ie=je),qe<je&&(qe=je))}return[Ie,qe]},f.sum=function(se,me){var Ie,je=0,qe=se.length,Xe=-1;if(1===arguments.length)for(;++Xe<qe;)p(Ie=+se[Xe])&&(je+=Ie);else for(;++Xe<qe;)p(Ie=+me.call(se,se[Xe],Xe))&&(je+=Ie);return je},f.mean=function(se,me){var Ie,je=0,qe=se.length,Xe=-1,rt=qe;if(1===arguments.length)for(;++Xe<qe;)p(Ie=g(se[Xe]))?je+=Ie:--rt;else for(;++Xe<qe;)p(Ie=g(me.call(se,se[Xe],Xe)))?je+=Ie:--rt;if(rt)return je/rt},f.quantile=function(se,me){var Ie=(se.length-1)*me+1,je=Math.floor(Ie),qe=+se[je-1],Xe=Ie-je;return Xe?qe+Xe*(se[je]-qe):qe},f.median=function(se,me){var Ie,je=[],qe=se.length,Xe=-1;if(1===arguments.length)for(;++Xe<qe;)p(Ie=g(se[Xe]))&&je.push(Ie);else for(;++Xe<qe;)p(Ie=g(me.call(se,se[Xe],Xe)))&&je.push(Ie);if(je.length)return f.quantile(je.sort(d),.5)},f.variance=function(se,me){var Ie,je,qe=se.length,Xe=0,rt=0,at=-1,pt=0;if(1===arguments.length)for(;++at<qe;)p(Ie=g(se[at]))&&(rt+=(je=Ie-Xe)*(Ie-(Xe+=je/++pt)));else for(;++at<qe;)p(Ie=g(me.call(se,se[at],at)))&&(rt+=(je=Ie-Xe)*(Ie-(Xe+=je/++pt)));if(pt>1)return rt/(pt-1)},f.deviation=function(){var se=f.variance.apply(this,arguments);return se&&Math.sqrt(se)};var _=T(d);function y(se){return se.length}f.bisectLeft=_.left,f.bisect=f.bisectRight=_.right,f.bisector=function(se){return T(1===se.length?function(me,Ie){return d(se(me),Ie)}:se)},f.shuffle=function(se,me,Ie){(Xe=arguments.length)<3&&(Ie=se.length,Xe<2&&(me=0));for(var je,qe,Xe=Ie-me;Xe;)qe=Math.random()*Xe--|0,je=se[Xe+me],se[Xe+me]=se[qe+me],se[qe+me]=je;return se},f.permute=function(se,me){for(var Ie=me.length,je=new Array(Ie);Ie--;)je[Ie]=se[me[Ie]];return je},f.pairs=function(se){for(var me=0,Ie=se.length-1,je=se[0],qe=new Array(Ie<0?0:Ie);me<Ie;)qe[me]=[je,je=se[++me]];return qe},f.transpose=function(se){if(!(qe=se.length))return[];for(var me=-1,Ie=f.min(se,y),je=new Array(Ie);++me<Ie;)for(var qe,Xe=-1,rt=je[me]=new Array(qe);++Xe<qe;)rt[Xe]=se[Xe][me];return je},f.zip=function(){return f.transpose(arguments)},f.keys=function(se){var me=[];for(var Ie in se)me.push(Ie);return me},f.values=function(se){var me=[];for(var Ie in se)me.push(se[Ie]);return me},f.entries=function(se){var me=[];for(var Ie in se)me.push({key:Ie,value:se[Ie]});return me},f.merge=function(se){for(var me,Ie,je,qe=se.length,Xe=-1,rt=0;++Xe<qe;)rt+=se[Xe].length;for(Ie=new Array(rt);--qe>=0;)for(me=(je=se[qe]).length;--me>=0;)Ie[--rt]=je[me];return Ie};var w=Math.abs;function m(se){for(var me=1;se*me%1;)me*=10;return me}function b(se,me){for(var Ie in me)Object.defineProperty(se.prototype,Ie,{value:me[Ie],enumerable:!1})}function k(){this._=Object.create(null)}function h(se){return"__proto__"==(se+="")||"\0"===se[0]?"\0"+se:se}function O(se){return"\0"===(se+="")[0]?se.slice(1):se}function A(se){return h(se)in this._}function I(se){return(se=h(se))in this._&&delete this._[se]}function P(){var se=[];for(var me in this._)se.push(O(me));return se}function L(){var se=0;for(var me in this._)++se;return se}function N(){for(var se in this._)return!1;return!0}function B(){this._=Object.create(null)}function W(se){return se}function j(se,me,Ie){return function(){var je=Ie.apply(me,arguments);return je===me?se:je}}function Z(se,me){if(me in se)return me;me=me.charAt(0).toUpperCase()+me.slice(1);for(var Ie=0,je=V.length;Ie<je;++Ie){var qe=V[Ie]+me;if(qe in se)return qe}}f.range=function(se,me,Ie){if(arguments.length<3&&(Ie=1,arguments.length<2&&(me=se,se=0)),(me-se)/Ie==1/0)throw new Error("infinite range");var je,qe=[],Xe=m(w(Ie)),rt=-1;if(se*=Xe,me*=Xe,(Ie*=Xe)<0)for(;(je=se+Ie*++rt)>me;)qe.push(je/Xe);else for(;(je=se+Ie*++rt)<me;)qe.push(je/Xe);return qe},f.map=function(se,me){var Ie=new k;if(se instanceof k)se.forEach(function(at,pt){Ie.set(at,pt)});else if(Array.isArray(se)){var je,qe=-1,Xe=se.length;if(1===arguments.length)for(;++qe<Xe;)Ie.set(qe,se[qe]);else for(;++qe<Xe;)Ie.set(me.call(se,je=se[qe],qe),je)}else for(var rt in se)Ie.set(rt,se[rt]);return Ie},b(k,{has:A,get:function(se){return this._[h(se)]},set:function(se,me){return this._[h(se)]=me},remove:I,keys:P,values:function(){var se=[];for(var me in this._)se.push(this._[me]);return se},entries:function(){var se=[];for(var me in this._)se.push({key:O(me),value:this._[me]});return se},size:L,empty:N,forEach:function(se){for(var me in this._)se.call(this,O(me),this._[me])}}),f.nest=function(){var se,me,Ie={},je=[],qe=[];function Xe(at,pt,yt){if(yt>=je.length)return me?me.call(Ie,pt):se?pt.sort(se):pt;for(var zt,$t,Yt,cn,Mn=-1,an=pt.length,hn=je[yt++],sn=new k;++Mn<an;)(cn=sn.get(zt=hn($t=pt[Mn])))?cn.push($t):sn.set(zt,[$t]);return at?($t=at(),Yt=function(Ln,Dn){$t.set(Ln,Xe(at,Dn,yt))}):($t={},Yt=function(Ln,Dn){$t[Ln]=Xe(at,Dn,yt)}),sn.forEach(Yt),$t}function rt(at,pt){if(pt>=je.length)return at;var yt=[],zt=qe[pt++];return at.forEach(function($t,Yt){yt.push({key:$t,values:rt(Yt,pt)})}),zt?yt.sort(function($t,Yt){return zt($t.key,Yt.key)}):yt}return Ie.map=function(at,pt){return Xe(pt,at,0)},Ie.entries=function(at){return rt(Xe(f.map,at,0),0)},Ie.key=function(at){return je.push(at),Ie},Ie.sortKeys=function(at){return qe[je.length-1]=at,Ie},Ie.sortValues=function(at){return se=at,Ie},Ie.rollup=function(at){return me=at,Ie},Ie},f.set=function(se){var me=new B;if(se)for(var Ie=0,je=se.length;Ie<je;++Ie)me.add(se[Ie]);return me},b(B,{has:A,add:function(se){return this._[h(se+="")]=!0,se},remove:I,values:P,size:L,empty:N,forEach:function(se){for(var me in this._)se.call(this,O(me))}}),f.behavior={},f.rebind=function(se,me){for(var Ie,je=1,qe=arguments.length;++je<qe;)se[Ie=arguments[je]]=j(se,me,me[Ie]);return se};var V=["webkit","ms","moz","Moz","o","O"];function q(){}function G(){}function H(se){var me=[],Ie=new k;function je(){for(var qe,Xe=me,rt=-1,at=Xe.length;++rt<at;)(qe=Xe[rt].on)&&qe.apply(this,arguments);return se}return je.on=function(qe,Xe){var rt,at=Ie.get(qe);return arguments.length<2?at&&at.on:(at&&(at.on=null,me=me.slice(0,rt=me.indexOf(at)).concat(me.slice(rt+1)),Ie.remove(qe)),Xe&&me.push(Ie.set(qe,{on:Xe})),se)},je}function ne(){f.event.preventDefault()}function X(){for(var se,me=f.event;se=me.sourceEvent;)me=se;return me}function $(se){for(var me=new G,Ie=0,je=arguments.length;++Ie<je;)me[arguments[Ie]]=H(me);return me.of=function(qe,Xe){return function(rt){try{var at=rt.sourceEvent=f.event;rt.target=se,f.event=rt,me[rt.type].apply(qe,Xe)}finally{f.event=at}}},me}f.dispatch=function(){for(var se=new G,me=-1,Ie=arguments.length;++me<Ie;)se[arguments[me]]=H(se);return se},G.prototype.on=function(se,me){var Ie=se.indexOf("."),je="";if(Ie>=0&&(je=se.slice(Ie+1),se=se.slice(0,Ie)),se)return arguments.length<2?this[se].on(je):this[se].on(je,me);if(2===arguments.length){if(null==me)for(se in this)this.hasOwnProperty(se)&&this[se].on(je,null);return this}},f.event=null,f.requote=function(se){return se.replace(Q,"\\$&")};var Q=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,te={}.__proto__?function(se,me){se.__proto__=me}:function(se,me){for(var Ie in me)se[Ie]=me[Ie]};function re(se){return te(se,ge),se}var le=function(se,me){return me.querySelector(se)},ue=function(se,me){return me.querySelectorAll(se)},he=function(se,me){var Ie=se.matches||se[Z(se,"matchesSelector")];return(he=function(je,qe){return Ie.call(je,qe)})(se,me)};"function"==typeof Sizzle&&(le=function(se,me){return Sizzle(se,me)[0]||null},ue=Sizzle,he=Sizzle.matchesSelector),f.selection=function(){return f.select(v.documentElement)};var ge=f.selection.prototype=[];function xe(se){return"function"==typeof se?se:function(){return le(se,this)}}function ke(se){return"function"==typeof se?se:function(){return ue(se,this)}}ge.select=function(se){var me,Ie,je,qe,Xe=[];se=xe(se);for(var rt=-1,at=this.length;++rt<at;){Xe.push(me=[]),me.parentNode=(je=this[rt]).parentNode;for(var pt=-1,yt=je.length;++pt<yt;)(qe=je[pt])?(me.push(Ie=se.call(qe,qe.__data__,pt,rt)),Ie&&"__data__"in qe&&(Ie.__data__=qe.__data__)):me.push(null)}return re(Xe)},ge.selectAll=function(se){var me,Ie,je=[];se=ke(se);for(var qe=-1,Xe=this.length;++qe<Xe;)for(var rt=this[qe],at=-1,pt=rt.length;++at<pt;)(Ie=rt[at])&&(je.push(me=M(se.call(Ie,Ie.__data__,at,qe))),me.parentNode=Ie);return re(je)};var Ae="http://www.w3.org/1999/xhtml",pe={svg:"http://www.w3.org/2000/svg",xhtml:Ae,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ye(se,me){return se=f.ns.qualify(se),null==me?se.local?function(){this.removeAttributeNS(se.space,se.local)}:function(){this.removeAttribute(se)}:"function"==typeof me?se.local?function(){var Ie=me.apply(this,arguments);null==Ie?this.removeAttributeNS(se.space,se.local):this.setAttributeNS(se.space,se.local,Ie)}:function(){var Ie=me.apply(this,arguments);null==Ie?this.removeAttribute(se):this.setAttribute(se,Ie)}:se.local?function(){this.setAttributeNS(se.space,se.local,me)}:function(){this.setAttribute(se,me)}}function Ne(se){return se.trim().replace(/\s+/g," ")}function be(se){return new RegExp("(?:^|\\s+)"+f.requote(se)+"(?:\\s+|$)","g")}function Ee(se){return(se+"").trim().split(/^|\s+/)}function Oe(se,me){var Ie=(se=Ee(se).map(De)).length;return"function"==typeof me?function(){for(var je=-1,qe=me.apply(this,arguments);++je<Ie;)se[je](this,qe)}:function(){for(var je=-1;++je<Ie;)se[je](this,me)}}function De(se){var me=be(se);return function(Ie,je){if(qe=Ie.classList)return je?qe.add(se):qe.remove(se);var qe=Ie.getAttribute("class")||"";je?(me.lastIndex=0,me.test(qe)||Ie.setAttribute("class",Ne(qe+" "+se))):Ie.setAttribute("class",Ne(qe.replace(me," ")))}}function oe(se,me,Ie){return null==me?function(){this.style.removeProperty(se)}:"function"==typeof me?function(){var je=me.apply(this,arguments);null==je?this.style.removeProperty(se):this.style.setProperty(se,je,Ie)}:function(){this.style.setProperty(se,me,Ie)}}function de(se,me){return null==me?function(){delete this[se]}:"function"==typeof me?function(){var Ie=me.apply(this,arguments);null==Ie?delete this[se]:this[se]=Ie}:function(){this[se]=me}}function _e(se){return"function"==typeof se?se:(se=f.ns.qualify(se)).local?function(){return this.ownerDocument.createElementNS(se.space,se.local)}:function(){var me=this.ownerDocument,Ie=this.namespaceURI;return Ie===Ae&&me.documentElement.namespaceURI===Ae?me.createElement(se):me.createElementNS(Ie,se)}}function Me(){var se=this.parentNode;se&&se.removeChild(this)}function Pe(se){return{__data__:se}}function Ue(se){return function(){return he(this,se)}}function Be(se){return arguments.length||(se=d),function(me,Ie){return me&&Ie?se(me.__data__,Ie.__data__):!me-!Ie}}function Ve(se,me){for(var Ie=0,je=se.length;Ie<je;Ie++)for(var qe,Xe=se[Ie],rt=0,at=Xe.length;rt<at;rt++)(qe=Xe[rt])&&me(qe,rt,Ie);return se}function ve(se){return te(se,Te),se}f.ns={prefix:pe,qualify:function(se){var me=se.indexOf(":"),Ie=se;return me>=0&&"xmlns"!==(Ie=se.slice(0,me))&&(se=se.slice(me+1)),pe.hasOwnProperty(Ie)?{space:pe[Ie],local:se}:se}},ge.attr=function(se,me){if(arguments.length<2){if("string"==typeof se){var Ie=this.node();return(se=f.ns.qualify(se)).local?Ie.getAttributeNS(se.space,se.local):Ie.getAttribute(se)}for(me in se)this.each(ye(me,se[me]));return this}return this.each(ye(se,me))},ge.classed=function(se,me){if(arguments.length<2){if("string"==typeof se){var Ie=this.node(),je=(se=Ee(se)).length,qe=-1;if(me=Ie.classList){for(;++qe<je;)if(!me.contains(se[qe]))return!1}else for(me=Ie.getAttribute("class");++qe<je;)if(!be(se[qe]).test(me))return!1;return!0}for(me in se)this.each(Oe(me,se[me]));return this}return this.each(Oe(se,me))},ge.style=function(se,me,Ie){var je=arguments.length;if(je<3){if("string"!=typeof se){for(Ie in je<2&&(me=""),se)this.each(oe(Ie,se[Ie],me));return this}if(je<2){var qe=this.node();return i(qe).getComputedStyle(qe,null).getPropertyValue(se)}Ie=""}return this.each(oe(se,me,Ie))},ge.property=function(se,me){if(arguments.length<2){if("string"==typeof se)return this.node()[se];for(me in se)this.each(de(me,se[me]));return this}return this.each(de(se,me))},ge.text=function(se){return arguments.length?this.each("function"==typeof se?function(){var me=se.apply(this,arguments);this.textContent=me??""}:null==se?function(){this.textContent=""}:function(){this.textContent=se}):this.node().textContent},ge.html=function(se){return arguments.length?this.each("function"==typeof se?function(){var me=se.apply(this,arguments);this.innerHTML=me??""}:null==se?function(){this.innerHTML=""}:function(){this.innerHTML=se}):this.node().innerHTML},ge.append=function(se){return se=_e(se),this.select(function(){return this.appendChild(se.apply(this,arguments))})},ge.insert=function(se,me){return se=_e(se),me=xe(me),this.select(function(){return this.insertBefore(se.apply(this,arguments),me.apply(this,arguments)||null)})},ge.remove=function(){return this.each(Me)},ge.data=function(se,me){var Ie,je,qe=-1,Xe=this.length;if(!arguments.length){for(se=new Array(Xe=(Ie=this[0]).length);++qe<Xe;)(je=Ie[qe])&&(se[qe]=je.__data__);return se}function rt(zt,$t){var Yt,cn,Mn,an=zt.length,hn=$t.length,sn=Math.min(an,hn),Ln=new Array(hn),Dn=new Array(hn),dn=new Array(an);if(me){var Xn,rr=new k,vr=new Array(an);for(Yt=-1;++Yt<an;)(cn=zt[Yt])&&(rr.has(Xn=me.call(cn,cn.__data__,Yt))?dn[Yt]=cn:rr.set(Xn,cn),vr[Yt]=Xn);for(Yt=-1;++Yt<hn;)(cn=rr.get(Xn=me.call($t,Mn=$t[Yt],Yt)))?!0!==cn&&(Ln[Yt]=cn,cn.__data__=Mn):Dn[Yt]=Pe(Mn),rr.set(Xn,!0);for(Yt=-1;++Yt<an;)Yt in vr&&!0!==rr.get(vr[Yt])&&(dn[Yt]=zt[Yt])}else{for(Yt=-1;++Yt<sn;)Mn=$t[Yt],(cn=zt[Yt])?(cn.__data__=Mn,Ln[Yt]=cn):Dn[Yt]=Pe(Mn);for(;Yt<hn;++Yt)Dn[Yt]=Pe($t[Yt]);for(;Yt<an;++Yt)dn[Yt]=zt[Yt]}Dn.update=Ln,Dn.parentNode=Ln.parentNode=dn.parentNode=zt.parentNode,at.push(Dn),pt.push(Ln),yt.push(dn)}var at=ve([]),pt=re([]),yt=re([]);if("function"==typeof se)for(;++qe<Xe;)rt(Ie=this[qe],se.call(Ie,Ie.parentNode.__data__,qe));else for(;++qe<Xe;)rt(Ie=this[qe],se);return pt.enter=function(){return at},pt.exit=function(){return yt},pt},ge.datum=function(se){return arguments.length?this.property("__data__",se):this.property("__data__")},ge.filter=function(se){var me,Ie,je,qe=[];"function"!=typeof se&&(se=Ue(se));for(var Xe=0,rt=this.length;Xe<rt;Xe++){qe.push(me=[]),me.parentNode=(Ie=this[Xe]).parentNode;for(var at=0,pt=Ie.length;at<pt;at++)(je=Ie[at])&&se.call(je,je.__data__,at,Xe)&&me.push(je)}return re(qe)},ge.order=function(){for(var se=-1,me=this.length;++se<me;)for(var Ie,je=this[se],qe=je.length-1,Xe=je[qe];--qe>=0;)(Ie=je[qe])&&(Xe&&Xe!==Ie.nextSibling&&Xe.parentNode.insertBefore(Ie,Xe),Xe=Ie);return this},ge.sort=function(se){se=Be.apply(this,arguments);for(var me=-1,Ie=this.length;++me<Ie;)this[me].sort(se);return this.order()},ge.each=function(se){return Ve(this,function(me,Ie,je){se.call(me,me.__data__,Ie,je)})},ge.call=function(se){var me=M(arguments);return se.apply(me[0]=this,me),this},ge.empty=function(){return!this.node()},ge.node=function(){for(var se=0,me=this.length;se<me;se++)for(var Ie=this[se],je=0,qe=Ie.length;je<qe;je++){var Xe=Ie[je];if(Xe)return Xe}return null},ge.size=function(){var se=0;return Ve(this,function(){++se}),se};var Te=[];function Ce(se){var me,Ie;return function(je,qe,Xe){var rt,at=se[Xe].update,pt=at.length;for(Xe!=Ie&&(Ie=Xe,me=0),qe>=me&&(me=qe+1);!(rt=at[me])&&++me<pt;);return rt}}function We(se,me,Ie){var je="__on"+se,qe=se.indexOf("."),Xe=Je;qe>0&&(se=se.slice(0,qe));var rt=Ke.get(se);function at(){var pt=this[je];pt&&(this.removeEventListener(se,pt,pt.$),delete this[je])}return rt&&(se=rt,Xe=ht),qe?me?function(){var pt=Xe(me,M(arguments));at.call(this),this.addEventListener(se,this[je]=pt,pt.$=Ie),pt._=me}:at:me?q:function(){var pt,yt=new RegExp("^__on([^.]+)"+f.requote(se)+"$");for(var zt in this)if(pt=zt.match(yt)){var $t=this[zt];this.removeEventListener(pt[1],$t,$t.$),delete this[zt]}}}f.selection.enter=ve,f.selection.enter.prototype=Te,Te.append=ge.append,Te.empty=ge.empty,Te.node=ge.node,Te.call=ge.call,Te.size=ge.size,Te.select=function(se){for(var me,Ie,je,qe,Xe,rt=[],at=-1,pt=this.length;++at<pt;){je=(qe=this[at]).update,rt.push(me=[]),me.parentNode=qe.parentNode;for(var yt=-1,zt=qe.length;++yt<zt;)(Xe=qe[yt])?(me.push(je[yt]=Ie=se.call(qe.parentNode,Xe.__data__,yt,at)),Ie.__data__=Xe.__data__):me.push(null)}return re(rt)},Te.insert=function(se,me){return arguments.length<2&&(me=Ce(this)),ge.insert.call(this,se,me)},f.select=function(se){var me;return"string"==typeof se?(me=[le(se,v)]).parentNode=v.documentElement:(me=[se]).parentNode=c(se),re([me])},f.selectAll=function(se){var me;return"string"==typeof se?(me=M(ue(se,v))).parentNode=v.documentElement:(me=M(se)).parentNode=null,re([me])},ge.on=function(se,me,Ie){var je=arguments.length;if(je<3){if("string"!=typeof se){for(Ie in je<2&&(me=!1),se)this.each(We(Ie,se[Ie],me));return this}if(je<2)return(je=this.node()["__on"+se])&&je._;Ie=!1}return this.each(We(se,me,Ie))};var Ke=f.map({mouseenter:"mouseover",mouseleave:"mouseout"});function Je(se,me){return function(Ie){var je=f.event;f.event=Ie,me[0]=this.__data__;try{se.apply(this,me)}finally{f.event=je}}}function ht(se,me){var Ie=Je(se,me);return function(je){var Xe=je.relatedTarget;Xe&&(Xe===this||8&Xe.compareDocumentPosition(this))||Ie.call(this,je)}}v&&Ke.forEach(function(se){"on"+se in v&&Ke.remove(se)});var ft,mt=0;function At(se){var me=".dragsuppress-"+ ++mt,Ie="click"+me,je=f.select(i(se)).on("touchmove"+me,ne).on("dragstart"+me,ne).on("selectstart"+me,ne);if(null==ft&&(ft=!("onselectstart"in se)&&Z(se.style,"userSelect")),ft){var qe=c(se).style,Xe=qe[ft];qe[ft]="none"}return function(rt){if(je.on(me,null),ft&&(qe[ft]=Xe),rt){var at=function(){je.on(Ie,null)};je.on(Ie,function(){ne(),at()},!0),setTimeout(at,0)}}}f.mouse=function(se){return It(se,X())};var Rt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function It(se,me){me.changedTouches&&(me=me.changedTouches[0]);var Ie=se.ownerSVGElement||se;if(Ie.createSVGPoint){var je=Ie.createSVGPoint();if(Rt<0){var qe=i(se);if(qe.scrollX||qe.scrollY){var Xe=(Ie=f.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Rt=!(Xe.f||Xe.e),Ie.remove()}}return Rt?(je.x=me.pageX,je.y=me.pageY):(je.x=me.clientX,je.y=me.clientY),[(je=je.matrixTransform(se.getScreenCTM().inverse())).x,je.y]}var rt=se.getBoundingClientRect();return[me.clientX-rt.left-se.clientLeft,me.clientY-rt.top-se.clientTop]}function Pt(){return f.event.changedTouches[0].identifier}f.touch=function(se,me,Ie){if(arguments.length<3&&(Ie=me,me=X().changedTouches),me)for(var je,qe=0,Xe=me.length;qe<Xe;++qe)if((je=me[qe]).identifier===Ie)return It(se,je)},f.behavior.drag=function(){var se=$(qe,"drag","dragstart","dragend"),me=null,Ie=Xe(q,f.mouse,i,"mousemove","mouseup"),je=Xe(Pt,f.touch,W,"touchmove","touchend");function qe(){this.on("mousedown.drag",Ie).on("touchstart.drag",je)}function Xe(rt,at,pt,yt,zt){return function(){var $t,Yt=this,cn=f.event.target.correspondingElement||f.event.target,Mn=Yt.parentNode,an=se.of(Yt,arguments),hn=0,sn=rt(),Ln=".drag"+(null==sn?"":"-"+sn),Dn=f.select(pt(cn)).on(yt+Ln,rr).on(zt+Ln,vr),dn=At(cn),Xn=at(Mn,sn);function rr(){var dr,Lr,jr=at(Mn,sn);jr&&(hn|=(dr=jr[0]-Xn[0])|(Lr=jr[1]-Xn[1]),Xn=jr,an({type:"drag",x:jr[0]+$t[0],y:jr[1]+$t[1],dx:dr,dy:Lr}))}function vr(){at(Mn,sn)&&(Dn.on(yt+Ln,null).on(zt+Ln,null),dn(hn),an({type:"dragend"}))}$t=me?[($t=me.apply(Yt,arguments)).x-Xn[0],$t.y-Xn[1]]:[0,0],an({type:"dragstart"})}}return qe.origin=function(rt){return arguments.length?(me=rt,qe):me},f.rebind(qe,se,"on")},f.touches=function(se,me){return arguments.length<2&&(me=X().touches),me?M(me).map(function(Ie){var je=It(se,Ie);return je.identifier=Ie.identifier,je}):[]};var Bt=1e-6,Ut=Math.PI,Vt=2*Ut,tn=Vt-Bt,Gt=Ut/2,et=Ut/180,nt=180/Ut;function $e(se){return se>1?Gt:se<-1?-Gt:Math.asin(se)}function ot(se){return((se=Math.exp(se))+1/se)/2}var dt=Math.SQRT2;f.interpolateZoom=function(se,me){var Ie,je,qe=se[0],Xe=se[1],rt=se[2],yt=me[2],zt=me[0]-qe,$t=me[1]-Xe,Yt=zt*zt+$t*$t;if(Yt<1e-12)je=Math.log(yt/rt)/dt,Ie=function(Ln){return[qe+Ln*zt,Xe+Ln*$t,rt*Math.exp(dt*Ln*je)]};else{var cn=Math.sqrt(Yt),Mn=(yt*yt-rt*rt+4*Yt)/(2*rt*2*cn),an=(yt*yt-rt*rt-4*Yt)/(2*yt*2*cn),hn=Math.log(Math.sqrt(Mn*Mn+1)-Mn),sn=Math.log(Math.sqrt(an*an+1)-an);je=(sn-hn)/dt,Ie=function(Ln){var Dn,vr,dn=Ln*je,Xn=ot(hn),rr=rt/(2*cn)*(Xn*(Dn=dt*dn+hn,((Dn=Math.exp(2*Dn))-1)/(Dn+1))-(vr=hn,((vr=Math.exp(vr))-1/vr)/2));return[qe+rr*zt,Xe+rr*$t,rt*Xn/ot(dt*dn+hn)]}}return Ie.duration=1e3*je,Ie},f.behavior.zoom=function(){var se,me,Ie,je,qe,Xe,rt,at,pt,yt={x:0,y:0,k:1},zt=[960,500],$t=st,Yt=250,cn=0,Mn="mousedown.zoom",an="mousemove.zoom",hn="mouseup.zoom",sn="touchstart.zoom",Ln=$(Dn,"zoomstart","zoom","zoomend");function Dn(Rr){Rr.on(Mn,Fr).on(Ge+".zoom",Ti).on("dblclick.zoom",ki).on(sn,Kr)}function dn(Rr){return[(Rr[0]-yt.x)/yt.k,(Rr[1]-yt.y)/yt.k]}function Xn(Rr){yt.k=Math.max($t[0],Math.min($t[1],Rr))}function rr(Rr,ei){var vi;yt.x+=Rr[0]-(ei=[(vi=ei)[0]*yt.k+yt.x,vi[1]*yt.k+yt.y])[0],yt.y+=Rr[1]-ei[1]}function vr(Rr,ei,vi,xi){Rr.__chart__={x:yt.x,y:yt.y,k:yt.k},Xn(Math.pow(2,xi)),rr(me=ei,vi),Rr=f.select(Rr),Yt>0&&(Rr=Rr.transition().duration(Yt)),Rr.call(Dn.event)}function dr(){rt&&rt.domain(Xe.range().map(function(Rr){return(Rr-yt.x)/yt.k}).map(Xe.invert)),pt&&pt.domain(at.range().map(function(Rr){return(Rr-yt.y)/yt.k}).map(at.invert))}function Lr(Rr){cn++||Rr({type:"zoomstart"})}function jr(Rr){dr(),Rr({type:"zoom",scale:yt.k,translate:[yt.x,yt.y]})}function Er(Rr){--cn||(Rr({type:"zoomend"}),me=null)}function Fr(){var Rr=this,ei=Ln.of(Rr,arguments),vi=0,xi=f.select(i(Rr)).on(an,oo).on(hn,So),Ji=dn(f.mouse(Rr)),Vi=At(Rr);function oo(){vi=1,rr(f.mouse(Rr),Ji),jr(ei)}function So(){xi.on(an,null).on(hn,null),Vi(vi),Er(ei)}gi.call(Rr),Lr(ei)}function Kr(){var Rr,ei=this,vi=Ln.of(ei,arguments),xi={},Ji=0,Vi=".zoom-"+f.event.changedTouches[0].identifier,oo="touchmove"+Vi,So="touchend"+Vi,xo=[],bo=f.select(ei),mo=At(ei);function ao(){var fa=f.touches(ei);return Rr=yt.k,fa.forEach(function(bi){bi.identifier in xi&&(xi[bi.identifier]=dn(bi))}),fa}function wo(){var fa=f.event.target;f.select(fa).on(oo,Bo).on(So,fl),xo.push(fa);for(var bi=f.event.changedTouches,ha=0,da=bi.length;ha<da;++ha)xi[bi[ha].identifier]=null;var $o=ao(),Ws=Date.now();if(1===$o.length){if(Ws-qe<500){var $i=$o[0];vr(ei,$i,xi[$i.identifier],Math.floor(Math.log(yt.k)/Math.LN2)+1),ne()}qe=Ws}else if($o.length>1){var pa=$o[1],jo=($i=$o[0])[0]-pa[0],uc=$i[1]-pa[1];Ji=jo*jo+uc*uc}}function Bo(){var fa,bi,ha,da,$o=f.touches(ei);gi.call(ei);for(var Ws=0,$i=$o.length;Ws<$i;++Ws,da=null)if(da=xi[(ha=$o[Ws]).identifier]){if(bi)break;fa=ha,bi=da}if(da){var pa=(pa=ha[0]-fa[0])*pa+(pa=ha[1]-fa[1])*pa,jo=Ji&&Math.sqrt(pa/Ji);fa=[(fa[0]+ha[0])/2,(fa[1]+ha[1])/2],bi=[(bi[0]+da[0])/2,(bi[1]+da[1])/2],Xn(jo*Rr)}qe=null,rr(fa,bi),jr(vi)}function fl(){if(f.event.touches.length){for(var fa=f.event.changedTouches,bi=0,ha=fa.length;bi<ha;++bi)delete xi[fa[bi].identifier];for(var da in xi)return void ao()}f.selectAll(xo).on(Vi,null),bo.on(Mn,Fr).on(sn,Kr),mo(),Er(vi)}wo(),Lr(vi),bo.on(Mn,null).on(sn,wo)}function Ti(){var Rr=Ln.of(this,arguments);je?clearTimeout(je):(gi.call(this),se=dn(me=Ie||f.mouse(this)),Lr(Rr)),je=setTimeout(function(){je=null,Er(Rr)},50),ne(),Xn(Math.pow(2,.002*Le())*yt.k),rr(me,se),jr(Rr)}function ki(){var Rr=f.mouse(this),ei=Math.log(yt.k)/Math.LN2;vr(this,Rr,dn(Rr),f.event.shiftKey?Math.ceil(ei)-1:Math.floor(ei)+1)}return Ge||(Ge="onwheel"in v?(Le=function(){return-f.event.deltaY*(f.event.deltaMode?120:1)},"wheel"):"onmousewheel"in v?(Le=function(){return f.event.wheelDelta},"mousewheel"):(Le=function(){return-f.event.detail},"MozMousePixelScroll")),Dn.event=function(Rr){Rr.each(function(){var ei=Ln.of(this,arguments),vi=yt;lt?f.select(this).transition().each("start.zoom",function(){yt=this.__chart__||{x:0,y:0,k:1},Lr(ei)}).tween("zoom:zoom",function(){var xi=zt[0],Vi=me?me[0]:xi/2,oo=me?me[1]:zt[1]/2,So=f.interpolateZoom([(Vi-yt.x)/yt.k,(oo-yt.y)/yt.k,xi/yt.k],[(Vi-vi.x)/vi.k,(oo-vi.y)/vi.k,xi/vi.k]);return function(xo){var bo=So(xo),mo=xi/bo[2];this.__chart__=yt={x:Vi-bo[0]*mo,y:oo-bo[1]*mo,k:mo},jr(ei)}}).each("interrupt.zoom",function(){Er(ei)}).each("end.zoom",function(){Er(ei)}):(this.__chart__=yt,Lr(ei),jr(ei),Er(ei))})},Dn.translate=function(Rr){return arguments.length?(yt={x:+Rr[0],y:+Rr[1],k:yt.k},dr(),Dn):[yt.x,yt.y]},Dn.scale=function(Rr){return arguments.length?(yt={x:yt.x,y:yt.y,k:null},Xn(+Rr),dr(),Dn):yt.k},Dn.scaleExtent=function(Rr){return arguments.length?($t=null==Rr?st:[+Rr[0],+Rr[1]],Dn):$t},Dn.center=function(Rr){return arguments.length?(Ie=Rr&&[+Rr[0],+Rr[1]],Dn):Ie},Dn.size=function(Rr){return arguments.length?(zt=Rr&&[+Rr[0],+Rr[1]],Dn):zt},Dn.duration=function(Rr){return arguments.length?(Yt=+Rr,Dn):Yt},Dn.x=function(Rr){return arguments.length?(rt=Rr,Xe=Rr.copy(),yt={x:0,y:0,k:1},Dn):rt},Dn.y=function(Rr){return arguments.length?(pt=Rr,at=Rr.copy(),yt={x:0,y:0,k:1},Dn):pt},f.rebind(Dn,Ln,"on")};var Le,Ge,st=[0,1/0];function vt(){}function bt(se,me,Ie){return this instanceof bt?(this.h=+se,this.s=+me,void(this.l=+Ie)):arguments.length<2?se instanceof bt?new bt(se.h,se.s,se.l):mn(""+se,En,bt):new bt(se,me,Ie)}f.color=vt,vt.prototype.toString=function(){return this.rgb()+""},f.hsl=bt;var Lt=bt.prototype=new vt;function jt(se,me,Ie){var je,qe;function Xe(rt){return Math.round(255*((at=rt)>360?at-=360:at<0&&(at+=360),at<60?je+(qe-je)*at/60:at<180?qe:at<240?je+(qe-je)*(240-at)/60:je));var at}return se=isNaN(se)?0:(se%=360)<0?se+360:se,me=isNaN(me)||me<0?0:me>1?1:me,je=2*(Ie=Ie<0?0:Ie>1?1:Ie)-(qe=Ie<=.5?Ie*(1+me):Ie+me-Ie*me),new Nn(Xe(se+120),Xe(se),Xe(se-120))}function Nt(se,me,Ie){return this instanceof Nt?(this.h=+se,this.c=+me,void(this.l=+Ie)):arguments.length<2?se instanceof Nt?new Nt(se.h,se.c,se.l):ln(se instanceof kt?se.l:(se=Fn((se=f.rgb(se)).r,se.g,se.b)).l,se.a,se.b):new Nt(se,me,Ie)}Lt.brighter=function(se){return se=Math.pow(.7,arguments.length?se:1),new bt(this.h,this.s,this.l/se)},Lt.darker=function(se){return se=Math.pow(.7,arguments.length?se:1),new bt(this.h,this.s,se*this.l)},Lt.rgb=function(){return jt(this.h,this.s,this.l)},f.hcl=Nt;var Tt=Nt.prototype=new vt;function Mt(se,me,Ie){return isNaN(se)&&(se=0),isNaN(me)&&(me=0),new kt(Ie,Math.cos(se*=et)*me,Math.sin(se)*me)}function kt(se,me,Ie){return this instanceof kt?(this.l=+se,this.a=+me,void(this.b=+Ie)):arguments.length<2?se instanceof kt?new kt(se.l,se.a,se.b):se instanceof Nt?Mt(se.h,se.c,se.l):Fn((se=Nn(se)).r,se.g,se.b):new kt(se,me,Ie)}Tt.brighter=function(se){return new Nt(this.h,this.c,Math.min(100,this.l+Ht*(arguments.length?se:1)))},Tt.darker=function(se){return new Nt(this.h,this.c,Math.max(0,this.l-Ht*(arguments.length?se:1)))},Tt.rgb=function(){return Mt(this.h,this.c,this.l).rgb()},f.lab=kt;var Ht=18,Jt=kt.prototype=new vt;function Kt(se,me,Ie){var je=(se+16)/116,qe=je+me/500,Xe=je-Ie/200;return new Nn(pn(3.2404542*(qe=.95047*Tn(qe))-1.5371385*(je=1*Tn(je))-.4985314*(Xe=1.08883*Tn(Xe))),pn(-.969266*qe+1.8760108*je+.041556*Xe),pn(.0556434*qe-.2040259*je+1.0572252*Xe))}function ln(se,me,Ie){return se>0?new Nt(Math.atan2(Ie,me)*nt,Math.sqrt(me*me+Ie*Ie),se):new Nt(NaN,NaN,se)}function Tn(se){return se>.206893034?se*se*se:(se-.13793103448275862)/7.787037}function An(se){return se>.008856?Math.pow(se,.3333333333333333):7.787037*se+.13793103448275862}function pn(se){return Math.round(255*(se<=.00304?12.92*se:1.055*Math.pow(se,.4166666666666667)-.055))}function Nn(se,me,Ie){return this instanceof Nn?(this.r=~~se,this.g=~~me,void(this.b=~~Ie)):arguments.length<2?se instanceof Nn?new Nn(se.r,se.g,se.b):mn(""+se,Nn,jt):new Nn(se,me,Ie)}function tr(se){return new Nn(se>>16,se>>8&255,255&se)}function On(se){return tr(se)+""}Jt.brighter=function(se){return new kt(Math.min(100,this.l+Ht*(arguments.length?se:1)),this.a,this.b)},Jt.darker=function(se){return new kt(Math.max(0,this.l-Ht*(arguments.length?se:1)),this.a,this.b)},Jt.rgb=function(){return Kt(this.l,this.a,this.b)},f.rgb=Nn;var wn=Nn.prototype=new vt;function Cn(se){return se<16?"0"+Math.max(0,se).toString(16):Math.min(255,se).toString(16)}function mn(se,me,Ie){var je,qe,Xe,rt=0,at=0,pt=0;if(je=/([a-z]+)\((.*)\)/.exec(se=se.toLowerCase()))switch(qe=je[2].split(","),je[1]){case"hsl":return Ie(parseFloat(qe[0]),parseFloat(qe[1])/100,parseFloat(qe[2])/100);case"rgb":return me(er(qe[0]),er(qe[1]),er(qe[2]))}return(Xe=Zn.get(se))?me(Xe.r,Xe.g,Xe.b):(null==se||"#"!==se.charAt(0)||isNaN(Xe=parseInt(se.slice(1),16))||(4===se.length?(rt=(3840&Xe)>>4,rt|=rt>>4,at=240&Xe,at|=at>>4,pt=15&Xe,pt|=pt<<4):7===se.length&&(rt=(16711680&Xe)>>16,at=(65280&Xe)>>8,pt=255&Xe)),me(rt,at,pt))}function En(se,me,Ie){var je,qe,Xe=Math.min(se/=255,me/=255,Ie/=255),rt=Math.max(se,me,Ie),at=rt-Xe,pt=(rt+Xe)/2;return at?(qe=pt<.5?at/(rt+Xe):at/(2-rt-Xe),je=se==rt?(me-Ie)/at+(me<Ie?6:0):me==rt?(Ie-se)/at+2:(se-me)/at+4,je*=60):(je=NaN,qe=pt>0&&pt<1?0:je),new bt(je,qe,pt)}function Fn(se,me,Ie){var je=An((.4124564*(se=jn(se))+.3575761*(me=jn(me))+.1804375*(Ie=jn(Ie)))/.95047),qe=An((.2126729*se+.7151522*me+.072175*Ie)/1);return kt(116*qe-16,500*(je-qe),200*(qe-An((.0193339*se+.119192*me+.9503041*Ie)/1.08883)))}function jn(se){return(se/=255)<=.04045?se/12.92:Math.pow((se+.055)/1.055,2.4)}function er(se){var me=parseFloat(se);return"%"===se.charAt(se.length-1)?Math.round(2.55*me):me}wn.brighter=function(se){se=Math.pow(.7,arguments.length?se:1);var me=this.r,Ie=this.g,je=this.b,qe=30;return me||Ie||je?(me&&me<qe&&(me=qe),Ie&&Ie<qe&&(Ie=qe),je&&je<qe&&(je=qe),new Nn(Math.min(255,me/se),Math.min(255,Ie/se),Math.min(255,je/se))):new Nn(qe,qe,qe)},wn.darker=function(se){return new Nn((se=Math.pow(.7,arguments.length?se:1))*this.r,se*this.g,se*this.b)},wn.hsl=function(){return En(this.r,this.g,this.b)},wn.toString=function(){return"#"+Cn(this.r)+Cn(this.g)+Cn(this.b)};var Zn=f.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function Gn(se){return"function"==typeof se?se:function(){return se}}function _r(se){return function(me,Ie,je){return 2===arguments.length&&"function"==typeof Ie&&(je=Ie,Ie=null),mr(me,Ie,se,je)}}function mr(se,me,Ie,je){var zt,qe={},Xe=f.dispatch("beforesend","progress","load","error"),rt={},at=new XMLHttpRequest,pt=null;function yt(){var zt,Yt,cn,$t=at.status;if(!$t&&((cn=(Yt=at).responseType)&&"text"!==cn?Yt.response:Yt.responseText)||$t>=200&&$t<300||304===$t){try{zt=Ie.call(qe,at)}catch(Yt){return void Xe.error.call(qe,Yt)}Xe.load.call(qe,zt)}else Xe.error.call(qe,at)}return self.XDomainRequest&&!("withCredentials"in at)&&/^(http(s)?:)?\/\//.test(se)&&(at=new XDomainRequest),"onload"in at?at.onload=at.onerror=yt:at.onreadystatechange=function(){at.readyState>3&&yt()},at.onprogress=function(zt){var $t=f.event;f.event=zt;try{Xe.progress.call(qe,at)}finally{f.event=$t}},qe.header=function(zt,$t){return zt=(zt+"").toLowerCase(),arguments.length<2?rt[zt]:(null==$t?delete rt[zt]:rt[zt]=$t+"",qe)},qe.mimeType=function(zt){return arguments.length?(me=null==zt?null:zt+"",qe):me},qe.responseType=function(zt){return arguments.length?(pt=zt,qe):pt},qe.response=function(zt){return Ie=zt,qe},["get","post"].forEach(function(zt){qe[zt]=function(){return qe.send.apply(qe,[zt].concat(M(arguments)))}}),qe.send=function(zt,$t,Yt){if(2===arguments.length&&"function"==typeof $t&&(Yt=$t,$t=null),at.open(zt,se,!0),null==me||"accept"in rt||(rt.accept=me+",*/*"),at.setRequestHeader)for(var cn in rt)at.setRequestHeader(cn,rt[cn]);return null!=me&&at.overrideMimeType&&at.overrideMimeType(me),null!=pt&&(at.responseType=pt),null!=Yt&&qe.on("error",Yt).on("load",function(Mn){Yt(null,Mn)}),Xe.beforesend.call(qe,at),at.send($t??null),qe},qe.abort=function(){return at.abort(),qe},f.rebind(qe,Xe,"on"),null==je?qe:qe.get(1===(zt=je).length?function($t,Yt){zt(null==$t?Yt:null)}:zt)}Zn.forEach(function(se,me){Zn.set(se,tr(me))}),f.functor=Gn,f.xhr=_r(W),f.dsv=function(se,me){var Ie=new RegExp('["'+se+"\n]"),je=se.charCodeAt(0);function qe(yt,zt,$t){arguments.length<3&&($t=zt,zt=null);var Yt=mr(yt,me,null==zt?Xe:rt(zt),$t);return Yt.row=function(cn){return arguments.length?Yt.response(null==(zt=cn)?Xe:rt(cn)):zt},Yt}function Xe(yt){return qe.parse(yt.responseText)}function rt(yt){return function(zt){return qe.parse(zt.responseText,yt)}}function at(yt){return yt.map(pt).join(se)}function pt(yt){return Ie.test(yt)?'"'+yt.replace(/\"/g,'""')+'"':yt}return qe.parse=function(yt,zt){var $t;return qe.parseRows(yt,function(Yt,cn){if($t)return $t(Yt,cn-1);var Mn=function(an){for(var hn={},sn=Yt.length,Ln=0;Ln<sn;++Ln)hn[Yt[Ln]]=an[Ln];return hn};$t=zt?function(an,hn){return zt(Mn(an),hn)}:Mn})},qe.parseRows=function(yt,zt){var $t,Yt,cn={},Mn={},an=[],hn=yt.length,sn=0,Ln=0;function Dn(){if(sn>=hn)return Mn;if(Yt)return Yt=!1,cn;var Xn=sn;if(34===yt.charCodeAt(Xn)){for(var rr=Xn;rr++<hn;)if(34===yt.charCodeAt(rr)){if(34!==yt.charCodeAt(rr+1))break;++rr}return sn=rr+2,13===(vr=yt.charCodeAt(rr+1))?(Yt=!0,10===yt.charCodeAt(rr+2)&&++sn):10===vr&&(Yt=!0),yt.slice(Xn+1,rr).replace(/""/g,'"')}for(;sn<hn;){var vr,dr=1;if(10===(vr=yt.charCodeAt(sn++)))Yt=!0;else if(13===vr)Yt=!0,10===yt.charCodeAt(sn)&&(++sn,++dr);else if(vr!==je)continue;return yt.slice(Xn,sn-dr)}return yt.slice(Xn)}for(;($t=Dn())!==Mn;){for(var dn=[];$t!==cn&&$t!==Mn;)dn.push($t),$t=Dn();zt&&null==(dn=zt(dn,Ln++))||an.push(dn)}return an},qe.format=function(yt){if(Array.isArray(yt[0]))return qe.formatRows(yt);var zt=new B,$t=[];return yt.forEach(function(Yt){for(var cn in Yt)zt.has(cn)||$t.push(zt.add(cn))}),[$t.map(pt).join(se)].concat(yt.map(function(Yt){return $t.map(function(cn){return pt(Yt[cn])}).join(se)})).join("\n")},qe.formatRows=function(yt){return yt.map(at).join("\n")},qe},f.csv=f.dsv(",","text/csv"),f.tsv=f.dsv("\t","text/tab-separated-values");var Vr,Dr,Un,ur,cr=this[Z(this,"requestAnimationFrame")]||function(se){setTimeout(se,17)};function on(se,me,Ie){var je=arguments.length;je<2&&(me=0),je<3&&(Ie=Date.now());var Xe={c:se,t:Ie+me,n:null};return Dr?Dr.n=Xe:Vr=Xe,Dr=Xe,Un||(ur=clearTimeout(ur),Un=1,cr(xn)),Xe}function xn(){var se=Wn(),me=Bn()-se;me>24?(isFinite(me)&&(clearTimeout(ur),ur=setTimeout(xn,me)),Un=0):(Un=1,cr(xn))}function Wn(){for(var se=Date.now(),me=Vr;me;)se>=me.t&&me.c(se-me.t)&&(me.c=null),me=me.n;return se}function Bn(){for(var se,me=Vr,Ie=1/0;me;)me.c?(me.t<Ie&&(Ie=me.t),me=(se=me).n):me=se?se.n=me.n:Vr=me.n;return Dr=se,Ie}function qn(se){return se[0]}function nr(se){return se[1]}function fr(se){for(var me,Ie,je,qe=se.length,Xe=[0,1],rt=2,at=2;at<qe;at++){for(;rt>1&&((Ie=se[Xe[rt-1]])[0]-(me=se[Xe[rt-2]])[0])*((je=se[at])[1]-me[1])-(Ie[1]-me[1])*(je[0]-me[0])<=0;)--rt;Xe[rt++]=at}return Xe.slice(0,rt)}function Sr(se,me){return se[0]-me[0]||se[1]-me[1]}f.timer=function(){on.apply(this,arguments)},f.timer.flush=function(){Wn(),Bn()},f.round=function(se,me){return me?Math.round(se*(me=Math.pow(10,me)))/me:Math.round(se)},f.geom={},f.geom.hull=function(se){var me=qn,Ie=nr;if(arguments.length)return je(se);function je(qe){if(qe.length<3)return[];var Xe,rt=Gn(me),at=Gn(Ie),pt=qe.length,yt=[],zt=[];for(Xe=0;Xe<pt;Xe++)yt.push([+rt.call(this,qe[Xe],Xe),+at.call(this,qe[Xe],Xe),Xe]);for(yt.sort(Sr),Xe=0;Xe<pt;Xe++)zt.push([yt[Xe][0],-yt[Xe][1]]);var $t=fr(yt),Yt=fr(zt),cn=Yt[0]===$t[0],Mn=Yt[Yt.length-1]===$t[$t.length-1],an=[];for(Xe=$t.length-1;Xe>=0;--Xe)an.push(qe[yt[$t[Xe]][2]]);for(Xe=+cn;Xe<Yt.length-Mn;++Xe)an.push(qe[yt[Yt[Xe]][2]]);return an}return je.x=function(qe){return arguments.length?(me=qe,je):me},je.y=function(qe){return arguments.length?(Ie=qe,je):Ie},je},f.geom.polygon=function(se){return te(se,Ur),se};var Ur=f.geom.polygon.prototype=[];function fn(se,me,Ie){return(Ie[0]-me[0])*(se[1]-me[1])<(Ie[1]-me[1])*(se[0]-me[0])}function Vn(se,me,Ie,je){var qe=se[0],Xe=Ie[0],rt=me[0]-qe,at=je[0]-Xe,pt=se[1],yt=Ie[1],zt=me[1]-pt,$t=je[1]-yt,Yt=(at*(pt-yt)-$t*(qe-Xe))/($t*rt-at*zt);return[qe+Yt*rt,pt+Yt*zt]}function Wt(se){var me=se[0],Ie=se[se.length-1];return!(me[0]-Ie[0]||me[1]-Ie[1])}Ur.area=function(){for(var se,me=-1,Ie=this.length,je=this[Ie-1],qe=0;++me<Ie;)qe+=(se=je)[1]*(je=this[me])[0]-se[0]*je[1];return.5*qe},Ur.centroid=function(se){var me,Ie,je=-1,qe=this.length,Xe=0,rt=0,at=this[qe-1];for(arguments.length||(se=-1/(6*this.area()));++je<qe;)Xe+=((me=at)[0]+(at=this[je])[0])*(Ie=me[0]*at[1]-at[0]*me[1]),rt+=(me[1]+at[1])*Ie;return[Xe*se,rt*se]},Ur.clip=function(se){for(var me,Ie,je,qe,Xe,rt,at=Wt(se),pt=-1,yt=this.length-Wt(this),zt=this[yt-1];++pt<yt;){for(me=se.slice(),se.length=0,qe=this[pt],Xe=me[(je=me.length-at)-1],Ie=-1;++Ie<je;)fn(rt=me[Ie],zt,qe)?(fn(Xe,zt,qe)||se.push(Vn(Xe,rt,zt,qe)),se.push(rt)):fn(Xe,zt,qe)&&se.push(Vn(Xe,rt,zt,qe)),Xe=rt;at&&se.push(se[0]),zt=qe}return se};var un,vn,$n,Hn,zn,bn=[],Sn=[];function gn(){po(this),this.edge=this.site=this.circle=null}function kn(se){var me=bn.pop()||new gn;return me.site=se,me}function In(se){Ir(se),$n.remove(se),bn.push(se),po(se)}function Yn(se){var me=se.circle,Ie=me.x,je=me.cy,qe={x:Ie,y:je},Xe=se.P,rt=se.N,at=[se];In(se);for(var pt=Xe;pt.circle&&w(Ie-pt.circle.x)<Bt&&w(je-pt.circle.cy)<Bt;)Xe=pt.P,at.unshift(pt),In(pt),pt=Xe;at.unshift(pt),Ir(pt);for(var yt=rt;yt.circle&&w(Ie-yt.circle.x)<Bt&&w(je-yt.circle.cy)<Bt;)rt=yt.N,at.push(yt),In(yt),yt=rt;at.push(yt),Ir(yt);var zt,$t=at.length;for(zt=1;zt<$t;++zt)Pr((yt=at[zt]).edge,(pt=at[zt-1]).site,yt.site,qe);(yt=at[$t-1]).edge=oi((pt=at[0]).site,yt.site,null,qe),Ar(pt),Ar(yt)}function Rn(se){for(var me,Ie,je,qe,Xe=se.x,rt=se.y,at=$n._;at;)if((je=hr(at,rt)-Xe)>Bt)at=at.L;else{if(!((qe=Xe-sr(at,rt))>Bt)){je>-Bt?(me=at.P,Ie=at):qe>-Bt?(me=at,Ie=at.N):me=Ie=at;break}if(!at.R){me=at;break}at=at.R}var pt=kn(se);if($n.insert(me,pt),me||Ie){if(me===Ie)return Ir(me),Ie=kn(me.site),$n.insert(pt,Ie),pt.edge=Ie.edge=oi(me.site,pt.site),Ar(me),void Ar(Ie);if(Ie){Ir(me),Ir(Ie);var yt=me.site,zt=yt.x,$t=yt.y,Yt=se.x-zt,cn=se.y-$t,Mn=Ie.site,an=Mn.x-zt,hn=Mn.y-$t,sn=2*(Yt*hn-cn*an),Ln=Yt*Yt+cn*cn,Dn=an*an+hn*hn,dn={x:(hn*Ln-cn*Dn)/sn+zt,y:(Yt*Dn-an*Ln)/sn+$t};Pr(Ie.edge,yt,Mn,dn),pt.edge=oi(yt,se,null,dn),Ie.edge=oi(se,Mn,null,dn),Ar(me),Ar(Ie)}else pt.edge=oi(me.site,pt.site)}}function hr(se,me){var Ie=se.site,je=Ie.x,qe=Ie.y,Xe=qe-me;if(!Xe)return je;var rt=se.P;if(!rt)return-1/0;var at=(Ie=rt.site).x,pt=Ie.y,yt=pt-me;if(!yt)return at;var zt=at-je,$t=1/Xe-1/yt,Yt=zt/yt;return $t?(-Yt+Math.sqrt(Yt*Yt-2*$t*(zt*zt/(-2*yt)-pt+yt/2+qe-Xe/2)))/$t+je:(je+at)/2}function sr(se,me){var Ie=se.N;if(Ie)return hr(Ie,me);var je=se.site;return je.y===me?je.x:1/0}function wr(se){this.site=se,this.edges=[]}function Tr(se,me){return me.angle-se.angle}function Cr(){po(this),this.x=this.y=this.arc=this.site=this.cy=null}function Ar(se){var me=se.P,Ie=se.N;if(me&&Ie){var je=me.site,qe=se.site,Xe=Ie.site;if(je!==Xe){var rt=qe.x,at=qe.y,pt=je.x-rt,yt=je.y-at,zt=Xe.x-rt,$t=2*(pt*(hn=Xe.y-at)-yt*zt);if(!($t>=-1e-12)){var Yt=pt*pt+yt*yt,cn=zt*zt+hn*hn,Mn=(hn*Yt-yt*cn)/$t,an=(pt*cn-zt*Yt)/$t,hn=an+at,sn=Sn.pop()||new Cr;sn.arc=se,sn.site=qe,sn.x=Mn+rt,sn.y=hn+Math.sqrt(Mn*Mn+an*an),sn.cy=hn,se.circle=sn;for(var Ln=null,Dn=zn._;Dn;)if(sn.y<Dn.y||sn.y===Dn.y&&sn.x<=Dn.x){if(!Dn.L){Ln=Dn.P;break}Dn=Dn.L}else{if(!Dn.R){Ln=Dn;break}Dn=Dn.R}zn.insert(Ln,sn),Ln||(Hn=sn)}}}}function Ir(se){var me=se.circle;me&&(me.P||(Hn=me.N),zn.remove(me),Sn.push(me),po(me),se.circle=null)}function Wr(se,me){var Ie=se.b;if(Ie)return!0;var je,qe,Xe=se.a,rt=me[0][0],at=me[1][0],pt=me[0][1],yt=me[1][1],zt=se.l,$t=se.r,Yt=zt.x,cn=zt.y,Mn=$t.x,an=$t.y,hn=(Yt+Mn)/2;if(an===cn){if(hn<rt||hn>=at)return;if(Yt>Mn){if(Xe){if(Xe.y>=yt)return}else Xe={x:hn,y:pt};Ie={x:hn,y:yt}}else{if(Xe){if(Xe.y<pt)return}else Xe={x:hn,y:yt};Ie={x:hn,y:pt}}}else if(qe=(cn+an)/2-(je=(Yt-Mn)/(an-cn))*hn,je<-1||je>1)if(Yt>Mn){if(Xe){if(Xe.y>=yt)return}else Xe={x:(pt-qe)/je,y:pt};Ie={x:(yt-qe)/je,y:yt}}else{if(Xe){if(Xe.y<pt)return}else Xe={x:(yt-qe)/je,y:yt};Ie={x:(pt-qe)/je,y:pt}}else if(cn<an){if(Xe){if(Xe.x>=at)return}else Xe={x:rt,y:je*rt+qe};Ie={x:at,y:je*at+qe}}else{if(Xe){if(Xe.x<rt)return}else Xe={x:at,y:je*at+qe};Ie={x:rt,y:je*rt+qe}}return se.a=Xe,se.b=Ie,!0}function Mi(se,me){this.l=se,this.r=me,this.a=this.b=null}function oi(se,me,Ie,je){var qe=new Mi(se,me);return un.push(qe),Ie&&Pr(qe,se,me,Ie),je&&Pr(qe,me,se,je),vn[se.i].edges.push(new li(qe,se,me)),vn[me.i].edges.push(new li(qe,me,se)),qe}function Pr(se,me,Ie,je){se.a||se.b?se.l===Ie?se.b=je:se.a=je:(se.a=je,se.l=me,se.r=Ie)}function li(se,me,Ie){var je=se.a,qe=se.b;this.edge=se,this.site=me,this.angle=Ie?Math.atan2(Ie.y-me.y,Ie.x-me.x):se.l===me?Math.atan2(qe.x-je.x,je.y-qe.y):Math.atan2(je.x-qe.x,qe.y-je.y)}function zr(){this._=null}function po(se){se.U=se.C=se.L=se.R=se.P=se.N=null}function qo(se,me){var Ie=me,je=me.R,qe=Ie.U;qe?qe.L===Ie?qe.L=je:qe.R=je:se._=je,je.U=qe,Ie.U=je,Ie.R=je.L,Ie.R&&(Ie.R.U=Ie),je.L=Ie}function ro(se,me){var Ie=me,je=me.L,qe=Ie.U;qe?qe.L===Ie?qe.L=je:qe.R=je:se._=je,je.U=qe,Ie.U=je,Ie.L=je.R,Ie.L&&(Ie.L.U=Ie),je.R=Ie}function As(se){for(;se.L;)se=se.L;return se}function Sa(se,me){var Ie,je,qe,Xe=se.sort(Ai).pop();for(un=[],vn=new Array(se.length),$n=new zr,zn=new zr;;)if(qe=Hn,Xe&&(!qe||Xe.y<qe.y||Xe.y===qe.y&&Xe.x<qe.x))Xe.x===Ie&&Xe.y===je||(vn[Xe.i]=new wr(Xe),Rn(Xe),Ie=Xe.x,je=Xe.y),Xe=se.pop();else{if(!qe)break;Yn(qe.arc)}me&&(function(at){for(var pt,yt,zt,$t,Yt,cn=un,Mn=(yt=at[0][0],zt=at[0][1],$t=at[1][0],Yt=at[1][1],function(hn){var sn,Ln=hn.a,Dn=hn.b,dn=Ln.x,Xn=Ln.y,rr=0,vr=1,dr=Dn.x-dn,Lr=Dn.y-Xn;if(sn=yt-dn,dr||!(sn>0)){if(sn/=dr,dr<0){if(sn<rr)return;sn<vr&&(vr=sn)}else if(dr>0){if(sn>vr)return;sn>rr&&(rr=sn)}if(sn=$t-dn,dr||!(sn<0)){if(sn/=dr,dr<0){if(sn>vr)return;sn>rr&&(rr=sn)}else if(dr>0){if(sn<rr)return;sn<vr&&(vr=sn)}if(sn=zt-Xn,Lr||!(sn>0)){if(sn/=Lr,Lr<0){if(sn<rr)return;sn<vr&&(vr=sn)}else if(Lr>0){if(sn>vr)return;sn>rr&&(rr=sn)}if(sn=Yt-Xn,Lr||!(sn<0)){if(sn/=Lr,Lr<0){if(sn>vr)return;sn>rr&&(rr=sn)}else if(Lr>0){if(sn<rr)return;sn<vr&&(vr=sn)}return rr>0&&(hn.a={x:dn+rr*dr,y:Xn+rr*Lr}),vr<1&&(hn.b={x:dn+vr*dr,y:Xn+vr*Lr}),hn}}}}}),an=cn.length;an--;)(!Wr(pt=cn[an],at)||!Mn(pt)||w(pt.a.x-pt.b.x)<Bt&&w(pt.a.y-pt.b.y)<Bt)&&(pt.a=pt.b=null,cn.splice(an,1))}(me),function(at){for(var pt,yt,zt,$t,Yt,cn,Mn,an,hn,sn,Ln=at[0][0],Dn=at[1][0],dn=at[0][1],Xn=at[1][1],rr=vn,vr=rr.length;vr--;)if((Yt=rr[vr])&&Yt.prepare())for(an=(Mn=Yt.edges).length,cn=0;cn<an;)zt=(sn=Mn[cn].end()).x,$t=sn.y,pt=(hn=Mn[++cn%an].start()).x,yt=hn.y,(w(zt-pt)>Bt||w($t-yt)>Bt)&&(Mn.splice(cn,0,new li((dr=Yt.site,Lr=sn,jr=w(zt-Ln)<Bt&&Xn-$t>Bt?{x:Ln,y:w(pt-Ln)<Bt?yt:Xn}:w($t-Xn)<Bt&&Dn-zt>Bt?{x:w(yt-Xn)<Bt?pt:Dn,y:Xn}:w(zt-Dn)<Bt&&$t-dn>Bt?{x:Dn,y:w(pt-Dn)<Bt?yt:dn}:w($t-dn)<Bt&&zt-Ln>Bt?{x:w(yt-dn)<Bt?pt:Ln,y:dn}:null,Er=void 0,(Er=new Mi(dr,null)).a=Lr,Er.b=jr,un.push(Er),Er),Yt.site,null)),++an);var dr,Lr,jr,Er}(me));var rt={cells:vn,edges:un};return $n=zn=un=vn=null,rt}function Ai(se,me){return me.y-se.y||me.x-se.x}wr.prototype.prepare=function(){for(var se,me=this.edges,Ie=me.length;Ie--;)(se=me[Ie].edge).b&&se.a||me.splice(Ie,1);return me.sort(Tr),me.length},li.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},zr.prototype={insert:function(se,me){var Ie,je,qe;if(se){if(me.P=se,me.N=se.N,se.N&&(se.N.P=me),se.N=me,se.R){for(se=se.R;se.L;)se=se.L;se.L=me}else se.R=me;Ie=se}else this._?(se=As(this._),me.P=null,me.N=se,se.P=se.L=me,Ie=se):(me.P=me.N=null,this._=me,Ie=null);for(me.L=me.R=null,me.U=Ie,me.C=!0,se=me;Ie&&Ie.C;)Ie===(je=Ie.U).L?(qe=je.R)&&qe.C?(Ie.C=qe.C=!1,je.C=!0,se=je):(se===Ie.R&&(qo(this,Ie),Ie=(se=Ie).U),Ie.C=!1,je.C=!0,ro(this,je)):(qe=je.L)&&qe.C?(Ie.C=qe.C=!1,je.C=!0,se=je):(se===Ie.L&&(ro(this,Ie),Ie=(se=Ie).U),Ie.C=!1,je.C=!0,qo(this,je)),Ie=se.U;this._.C=!1},remove:function(se){se.N&&(se.N.P=se.P),se.P&&(se.P.N=se.N),se.N=se.P=null;var me,Ie,je,qe=se.U,Xe=se.L,rt=se.R;if(Ie=Xe?rt?As(rt):Xe:rt,qe?qe.L===se?qe.L=Ie:qe.R=Ie:this._=Ie,Xe&&rt?(je=Ie.C,Ie.C=se.C,Ie.L=Xe,Xe.U=Ie,Ie!==rt?(qe=Ie.U,Ie.U=se.U,qe.L=se=Ie.R,Ie.R=rt,rt.U=Ie):(Ie.U=qe,qe=Ie,se=Ie.R)):(je=se.C,se=Ie),se&&(se.U=qe),!je)if(se&&se.C)se.C=!1;else{do{if(se===this._)break;if(se===qe.L){if((me=qe.R).C&&(me.C=!1,qe.C=!0,qo(this,qe),me=qe.R),me.L&&me.L.C||me.R&&me.R.C){me.R&&me.R.C||(me.L.C=!1,me.C=!0,ro(this,me),me=qe.R),me.C=qe.C,qe.C=me.R.C=!1,qo(this,qe),se=this._;break}}else if((me=qe.L).C&&(me.C=!1,qe.C=!0,ro(this,qe),me=qe.L),me.L&&me.L.C||me.R&&me.R.C){me.L&&me.L.C||(me.R.C=!1,me.C=!0,qo(this,me),me=qe.L),me.C=qe.C,qe.C=me.L.C=!1,ro(this,qe),se=this._;break}me.C=!0,se=qe,qe=qe.U}while(!se.C);se&&(se.C=!1)}}},f.geom.voronoi=function(se){var me=qn,Ie=nr,je=me,qe=Ie,Xe=el;if(se)return rt(se);function rt(pt){var yt=new Array(pt.length),zt=Xe[0][0],$t=Xe[0][1],Yt=Xe[1][0],cn=Xe[1][1];return Sa(at(pt),Xe).cells.forEach(function(Mn,an){var hn=Mn.edges,sn=Mn.site;(yt[an]=hn.length?hn.map(function(Ln){var Dn=Ln.start();return[Dn.x,Dn.y]}):sn.x>=zt&&sn.x<=Yt&&sn.y>=$t&&sn.y<=cn?[[zt,cn],[Yt,cn],[Yt,$t],[zt,$t]]:[]).point=pt[an]}),yt}function at(pt){return pt.map(function(yt,zt){return{x:Math.round(je(yt,zt)/Bt)*Bt,y:Math.round(qe(yt,zt)/Bt)*Bt,i:zt}})}return rt.links=function(pt){return Sa(at(pt)).edges.filter(function(yt){return yt.l&&yt.r}).map(function(yt){return{source:pt[yt.l.i],target:pt[yt.r.i]}})},rt.triangles=function(pt){var yt=[];return Sa(at(pt)).cells.forEach(function(zt,$t){for(var Yt,cn,Mn,an,hn=zt.site,sn=zt.edges.sort(Tr),Ln=-1,Dn=sn.length,dn=sn[Dn-1].edge,Xn=dn.l===hn?dn.r:dn.l;++Ln<Dn;)Yt=Xn,Xn=(dn=sn[Ln].edge).l===hn?dn.r:dn.l,$t<Yt.i&&$t<Xn.i&&((cn=hn).x-(an=Xn).x)*((Mn=Yt).y-cn.y)-(cn.x-Mn.x)*(an.y-cn.y)<0&&yt.push([pt[$t],pt[Yt.i],pt[Xn.i]])}),yt},rt.x=function(pt){return arguments.length?(je=Gn(me=pt),rt):me},rt.y=function(pt){return arguments.length?(qe=Gn(Ie=pt),rt):Ie},rt.clipExtent=function(pt){return arguments.length?(Xe=pt??el,rt):Xe===el?null:Xe},rt.size=function(pt){return arguments.length?rt.clipExtent(pt&&[[0,0],pt]):Xe===el?null:Xe&&Xe[1]},rt};var el=[[-1e6,-1e6],[1e6,1e6]];function Xl(se){return se.x}function ju(se){return se.y}function Tl(se,me,Ie,je,qe,Xe){if(!se(me,Ie,je,qe,Xe)){var rt=.5*(Ie+qe),at=.5*(je+Xe),pt=me.nodes;pt[0]&&Tl(se,pt[0],Ie,je,rt,at),pt[1]&&Tl(se,pt[1],rt,je,qe,at),pt[2]&&Tl(se,pt[2],Ie,at,rt,Xe),pt[3]&&Tl(se,pt[3],rt,at,qe,Xe)}}function ic(se,me,Ie,je,qe,Xe,rt){var at,pt=1/0;return function yt(zt,$t,Yt,cn,Mn){if(!($t>Xe||Yt>rt||cn<je||Mn<qe)){if(an=zt.point){var an,hn=me-zt.x,sn=Ie-zt.y,Ln=hn*hn+sn*sn;if(Ln<pt){var Dn=Math.sqrt(pt=Ln);je=me-Dn,qe=Ie-Dn,Xe=me+Dn,rt=Ie+Dn,at=an}}for(var dn=zt.nodes,Xn=.5*($t+cn),rr=.5*(Yt+Mn),vr=(Ie>=rr)<<1|me>=Xn,dr=vr+4;vr<dr;++vr)if(zt=dn[3&vr])switch(3&vr){case 0:yt(zt,$t,Yt,Xn,rr);break;case 1:yt(zt,Xn,Yt,cn,rr);break;case 2:yt(zt,$t,rr,Xn,Mn);break;case 3:yt(zt,Xn,rr,cn,Mn)}}}(se,je,qe,Xe,rt),at}function Mu(se,me){se=f.rgb(se),me=f.rgb(me);var Ie=se.r,je=se.g,qe=se.b,Xe=me.r-Ie,rt=me.g-je,at=me.b-qe;return function(pt){return"#"+Cn(Math.round(Ie+Xe*pt))+Cn(Math.round(je+rt*pt))+Cn(Math.round(qe+at*pt))}}function Au(se,me){var Ie,je={},qe={};for(Ie in se)Ie in me?je[Ie]=va(se[Ie],me[Ie]):qe[Ie]=se[Ie];for(Ie in me)Ie in se||(qe[Ie]=me[Ie]);return function(Xe){for(Ie in je)qe[Ie]=je[Ie](Xe);return qe}}function ks(se,me){return se=+se,me=+me,function(Ie){return se*(1-Ie)+me*Ie}}function Cc(se,me){var Ie,je,qe,Xe=na.lastIndex=Pl.lastIndex=0,rt=-1,at=[],pt=[];for(se+="",me+="";(Ie=na.exec(se))&&(je=Pl.exec(me));)(qe=je.index)>Xe&&(qe=me.slice(Xe,qe),at[rt]?at[rt]+=qe:at[++rt]=qe),(Ie=Ie[0])===(je=je[0])?at[rt]?at[rt]+=je:at[++rt]=je:(at[++rt]=null,pt.push({i:rt,x:ks(Ie,je)})),Xe=Pl.lastIndex;return Xe<me.length&&(qe=me.slice(Xe),at[rt]?at[rt]+=qe:at[++rt]=qe),at.length<2?pt[0]?(me=pt[0].x,function(yt){return me(yt)+""}):function(){return me}:(me=pt.length,function(yt){for(var zt,$t=0;$t<me;++$t)at[(zt=pt[$t]).i]=zt.x(yt);return at.join("")})}f.geom.delaunay=function(se){return f.geom.voronoi().triangles(se)},f.geom.quadtree=function(se,me,Ie,je,qe){var Xe,rt=qn,at=nr;if(Xe=arguments.length)return rt=Xl,at=ju,3===Xe&&(qe=Ie,je=me,Ie=me=0),pt(se);function pt(yt){var zt,$t,Yt,cn,Mn,an,hn,sn,Ln,Dn=Gn(rt),dn=Gn(at);if(null!=me)an=me,hn=Ie,sn=je,Ln=qe;else if(sn=Ln=-(an=hn=1/0),$t=[],Yt=[],Mn=yt.length,Xe)for(cn=0;cn<Mn;++cn)(zt=yt[cn]).x<an&&(an=zt.x),zt.y<hn&&(hn=zt.y),zt.x>sn&&(sn=zt.x),zt.y>Ln&&(Ln=zt.y),$t.push(zt.x),Yt.push(zt.y);else for(cn=0;cn<Mn;++cn){var Xn=+Dn(zt=yt[cn],cn),rr=+dn(zt,cn);Xn<an&&(an=Xn),rr<hn&&(hn=rr),Xn>sn&&(sn=Xn),rr>Ln&&(Ln=rr),$t.push(Xn),Yt.push(rr)}var vr=sn-an,dr=Ln-hn;function Lr(Fr,Kr,Ti,ki,Rr,ei,vi,xi){if(!isNaN(Ti)&&!isNaN(ki))if(Fr.leaf){var Ji=Fr.x,Vi=Fr.y;if(null!=Ji)if(w(Ji-Ti)+w(Vi-ki)<.01)jr(Fr,Kr,Ti,ki,Rr,ei,vi,xi);else{var oo=Fr.point;Fr.x=Fr.y=Fr.point=null,jr(Fr,oo,Ji,Vi,Rr,ei,vi,xi),jr(Fr,Kr,Ti,ki,Rr,ei,vi,xi)}else Fr.x=Ti,Fr.y=ki,Fr.point=Kr}else jr(Fr,Kr,Ti,ki,Rr,ei,vi,xi)}function jr(Fr,Kr,Ti,ki,Rr,ei,vi,xi){var Ji=.5*(Rr+vi),Vi=.5*(ei+xi),oo=Ti>=Ji,So=ki>=Vi,xo=So<<1|oo;Fr.leaf=!1,oo?Rr=Ji:vi=Ji,So?ei=Vi:xi=Vi,Lr(Fr=Fr.nodes[xo]||(Fr.nodes[xo]={leaf:!0,nodes:[],point:null,x:null,y:null}),Kr,Ti,ki,Rr,ei,vi,xi)}vr>dr?Ln=hn+vr:sn=an+dr;var Er={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(Fr){Lr(Er,Fr,+Dn(Fr,++cn),+dn(Fr,cn),an,hn,sn,Ln)},visit:function(Fr){Tl(Fr,Er,an,hn,sn,Ln)},find:function(Fr){return ic(Er,Fr[0],Fr[1],an,hn,sn,Ln)}};if(cn=-1,null==me){for(;++cn<Mn;)Lr(Er,yt[cn],$t[cn],Yt[cn],an,hn,sn,Ln);--cn}else yt.forEach(Er.add);return $t=Yt=yt=zt=null,Er}return pt.x=function(yt){return arguments.length?(rt=yt,pt):rt},pt.y=function(yt){return arguments.length?(at=yt,pt):at},pt.extent=function(yt){return arguments.length?(null==yt?me=Ie=je=qe=null:(me=+yt[0][0],Ie=+yt[0][1],je=+yt[1][0],qe=+yt[1][1]),pt):null==me?null:[[me,Ie],[je,qe]]},pt.size=function(yt){return arguments.length?(null==yt?me=Ie=je=qe=null:(me=Ie=0,je=+yt[0],qe=+yt[1]),pt):null==me?null:[je-me,qe-Ie]},pt},f.interpolateRgb=Mu,f.interpolateObject=Au,f.interpolateNumber=ks,f.interpolateString=Cc;var na=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Pl=new RegExp(na.source,"g");function va(se,me){for(var Ie,je=f.interpolators.length;--je>=0&&!(Ie=f.interpolators[je](se,me)););return Ie}function Ss(se,me){var Ie,je=[],qe=[],Xe=se.length,rt=me.length,at=Math.min(se.length,me.length);for(Ie=0;Ie<at;++Ie)je.push(va(se[Ie],me[Ie]));for(;Ie<Xe;++Ie)qe[Ie]=se[Ie];for(;Ie<rt;++Ie)qe[Ie]=me[Ie];return function(pt){for(Ie=0;Ie<at;++Ie)qe[Ie]=je[Ie](pt);return qe}}f.interpolate=va,f.interpolators=[function(se,me){var Ie=typeof me;return("string"===Ie?Zn.has(me.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(me)?Mu:Cc:me instanceof vt?Mu:Array.isArray(me)?Ss:"object"===Ie&&isNaN(me)?Au:ks)(se,me)}],f.interpolateArray=Ss;var $r=function(){return W},eo=f.map({linear:$r,poly:function(se){return function(me){return Math.pow(me,se)}},quad:function(){return Uu},cubic:function(){return Kc},sin:function(){return Ll},exp:function(){return Vs},circle:function(){return Zf},elastic:function(se,me){var Ie;return arguments.length<2&&(me=.45),arguments.length?Ie=me/Vt*Math.asin(1/se):(se=1,Ie=me/4),function(je){return 1+se*Math.pow(2,-10*je)*Math.sin((je-Ie)*Vt/me)}},back:function(se){return se||(se=1.70158),function(me){return me*me*((se+1)*me-se)}},bounce:function(){return Qc}}),Li=f.map({in:W,out:Cs,"in-out":hs,"out-in":function(se){return hs(Cs(se))}});function Ja(se){return function(me){return me<=0?0:me>=1?1:se(me)}}function Cs(se){return function(me){return 1-se(1-me)}}function hs(se){return function(me){return.5*(me<.5?se(2*me):2-se(2-2*me))}}function Uu(se){return se*se}function Kc(se){return se*se*se}function Rl(se){if(se<=0)return 0;if(se>=1)return 1;var me=se*se,Ie=me*se;return 4*(se<.5?Ie:3*(se-me)+Ie-.75)}function Ll(se){return 1-Math.cos(se*Gt)}function Vs(se){return Math.pow(2,10*(se-1))}function Zf(se){return 1-Math.sqrt(1-se*se)}function Qc(se){return se<.36363636363636365?7.5625*se*se:se<.7272727272727273?7.5625*(se-=.5454545454545454)*se+.75:se<.9090909090909091?7.5625*(se-=.8181818181818182)*se+.9375:7.5625*(se-=.9545454545454546)*se+.984375}function tl(se,me){return me-=se,function(Ie){return Math.round(se+me*Ie)}}function nl(se){var me,Ie,je,qe=[se.a,se.b],Xe=[se.c,se.d],rt=Hs(qe),at=Hi(qe,Xe),pt=Hs(((me=Xe)[0]+=(je=-at)*(Ie=qe)[0],me[1]+=je*Ie[1],me))||0;qe[0]*Xe[1]<Xe[0]*qe[1]&&(qe[0]*=-1,qe[1]*=-1,rt*=-1,at*=-1),this.rotate=(rt?Math.atan2(qe[1],qe[0]):Math.atan2(-Xe[0],Xe[1]))*nt,this.translate=[se.e,se.f],this.scale=[rt,pt],this.skew=pt?Math.atan2(at,pt)*nt:0}function Hi(se,me){return se[0]*me[0]+se[1]*me[1]}function Hs(se){var me=Math.sqrt(Hi(se,se));return me&&(se[0]/=me,se[1]/=me),me}f.ease=function(se){var me=se.indexOf("-"),Ie=me>=0?se.slice(0,me):se,je=me>=0?se.slice(me+1):"in";return Ie=eo.get(Ie)||$r,Ja((je=Li.get(je)||W)(Ie.apply(null,S.call(arguments,1))))},f.interpolateHcl=function(se,me){se=f.hcl(se),me=f.hcl(me);var Ie=se.h,je=se.c,qe=se.l,Xe=me.h-Ie,rt=me.c-je,at=me.l-qe;return isNaN(rt)&&(rt=0,je=isNaN(je)?me.c:je),isNaN(Xe)?(Xe=0,Ie=isNaN(Ie)?me.h:Ie):Xe>180?Xe-=360:Xe<-180&&(Xe+=360),function(pt){return Mt(Ie+Xe*pt,je+rt*pt,qe+at*pt)+""}},f.interpolateHsl=function(se,me){se=f.hsl(se),me=f.hsl(me);var Ie=se.h,je=se.s,qe=se.l,Xe=me.h-Ie,rt=me.s-je,at=me.l-qe;return isNaN(rt)&&(rt=0,je=isNaN(je)?me.s:je),isNaN(Xe)?(Xe=0,Ie=isNaN(Ie)?me.h:Ie):Xe>180?Xe-=360:Xe<-180&&(Xe+=360),function(pt){return jt(Ie+Xe*pt,je+rt*pt,qe+at*pt)+""}},f.interpolateLab=function(se,me){se=f.lab(se),me=f.lab(me);var Ie=se.l,je=se.a,qe=se.b,Xe=me.l-Ie,rt=me.a-je,at=me.b-qe;return function(pt){return Kt(Ie+Xe*pt,je+rt*pt,qe+at*pt)+""}},f.interpolateRound=tl,f.transform=function(se){var me=v.createElementNS(f.ns.prefix.svg,"g");return(f.transform=function(Ie){if(null!=Ie){me.setAttribute("transform",Ie);var je=me.transform.baseVal.consolidate()}return new nl(je?je.matrix:Jl)})(se)},nl.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Jl={a:1,b:0,c:0,d:1,e:0,f:0};function rl(se){return se.length?se.pop()+",":""}function oc(se,me){var qe,Xe,rt,Ie=[],je=[];return se=f.transform(se),me=f.transform(me),function(qe,Xe,rt,at){if(qe[0]!==Xe[0]||qe[1]!==Xe[1]){var pt=rt.push("translate(",null,",",null,")");at.push({i:pt-4,x:ks(qe[0],Xe[0])},{i:pt-2,x:ks(qe[1],Xe[1])})}else(Xe[0]||Xe[1])&&rt.push("translate("+Xe+")")}(se.translate,me.translate,Ie,je),rt=Ie,(qe=se.rotate)!==(Xe=me.rotate)?(qe-Xe>180?Xe+=360:Xe-qe>180&&(qe+=360),je.push({i:rt.push(rl(rt)+"rotate(",null,")")-2,x:ks(qe,Xe)})):Xe&&rt.push(rl(rt)+"rotate("+Xe+")"),function(qe,Xe,rt,at){qe!==Xe?at.push({i:rt.push(rl(rt)+"skewX(",null,")")-2,x:ks(qe,Xe)}):Xe&&rt.push(rl(rt)+"skewX("+Xe+")")}(se.skew,me.skew,Ie,je),function(qe,Xe,rt,at){if(qe[0]!==Xe[0]||qe[1]!==Xe[1]){var pt=rt.push(rl(rt)+"scale(",null,",",null,")");at.push({i:pt-4,x:ks(qe[0],Xe[0])},{i:pt-2,x:ks(qe[1],Xe[1])})}else 1===Xe[0]&&1===Xe[1]||rt.push(rl(rt)+"scale("+Xe+")")}(se.scale,me.scale,Ie,je),se=me=null,function(qe){for(var Xe,rt=-1,at=je.length;++rt<at;)Ie[(Xe=je[rt]).i]=Xe.x(qe);return Ie.join("")}}function il(se,me){return me=(me-=se=+se)||1/me,function(Ie){return(Ie-se)/me}}function ol(se,me){return me=(me-=se=+se)||1/me,function(Ie){return Math.max(0,Math.min(1,(Ie-se)/me))}}function ac(se){for(var me=se.source,Ie=se.target,je=function(rt,at){if(rt===at)return rt;for(var pt=yo(rt),yt=yo(at),zt=pt.pop(),$t=yt.pop(),Yt=null;zt===$t;)Yt=zt,zt=pt.pop(),$t=yt.pop();return Yt}(me,Ie),qe=[me];me!==je;)qe.push(me=me.parent);for(var Xe=qe.length;Ie!==je;)qe.splice(Xe,0,Ie),Ie=Ie.parent;return qe}function yo(se){for(var me=[],Ie=se.parent;null!=Ie;)me.push(se),se=Ie,Ie=Ie.parent;return me.push(se),me}function ku(se){se.fixed|=2}function Kl(se){se.fixed&=-7}function Ml(se){se.fixed|=4,se.px=se.x,se.py=se.y}function mi(se){se.fixed&=-5}function Ql(se,me,Ie){var je=0,qe=0;if(se.charge=0,!se.leaf)for(var Xe,rt=se.nodes,at=rt.length,pt=-1;++pt<at;)null!=(Xe=rt[pt])&&(Ql(Xe,me,Ie),se.charge+=Xe.charge,je+=Xe.charge*Xe.cx,qe+=Xe.charge*Xe.cy);if(se.point){se.leaf||(se.point.x+=Math.random()-.5,se.point.y+=Math.random()-.5);var yt=me*Ie[se.point.index];se.charge+=se.pointCharge=yt,je+=yt*se.point.x,qe+=yt*se.point.y}se.cx=je/se.charge,se.cy=qe/se.charge}f.interpolateTransform=oc,f.layout={},f.layout.bundle=function(){return function(se){for(var me=[],Ie=-1,je=se.length;++Ie<je;)me.push(ac(se[Ie]));return me}},f.layout.chord=function(){var se,me,Ie,je,qe,Xe,rt,at={},pt=0;function yt(){var $t,Yt,cn,Mn,an,hn={},sn=[],Ln=f.range(je),Dn=[];for(se=[],me=[],$t=0,Mn=-1;++Mn<je;){for(Yt=0,an=-1;++an<je;)Yt+=Ie[Mn][an];sn.push(Yt),Dn.push(f.range(je)),$t+=Yt}for(qe&&Ln.sort(function(Er,Fr){return qe(sn[Er],sn[Fr])}),Xe&&Dn.forEach(function(Er,Fr){Er.sort(function(Kr,Ti){return Xe(Ie[Fr][Kr],Ie[Fr][Ti])})}),$t=(Vt-pt*je)/$t,Yt=0,Mn=-1;++Mn<je;){for(cn=Yt,an=-1;++an<je;){var dn=Ln[Mn],Xn=Dn[dn][an],rr=Ie[dn][Xn],vr=Yt,dr=Yt+=rr*$t;hn[dn+"-"+Xn]={index:dn,subindex:Xn,startAngle:vr,endAngle:dr,value:rr}}me[dn]={index:dn,startAngle:cn,endAngle:Yt,value:sn[dn]},Yt+=pt}for(Mn=-1;++Mn<je;)for(an=Mn-1;++an<je;){var Lr=hn[Mn+"-"+an],jr=hn[an+"-"+Mn];(Lr.value||jr.value)&&se.push(Lr.value<jr.value?{source:jr,target:Lr}:{source:Lr,target:jr})}rt&&zt()}function zt(){se.sort(function($t,Yt){return rt(($t.source.value+$t.target.value)/2,(Yt.source.value+Yt.target.value)/2)})}return at.matrix=function($t){return arguments.length?(je=(Ie=$t)&&Ie.length,se=me=null,at):Ie},at.padding=function($t){return arguments.length?(pt=$t,se=me=null,at):pt},at.sortGroups=function($t){return arguments.length?(qe=$t,se=me=null,at):qe},at.sortSubgroups=function($t){return arguments.length?(Xe=$t,se=null,at):Xe},at.sortChords=function($t){return arguments.length?(rt=$t,se&&zt(),at):rt},at.chords=function(){return se||yt(),se},at.groups=function(){return me||yt(),me},at},f.layout.force=function(){var se,me,Ie,je,qe,Xe,rt={},at=f.dispatch("start","tick","end"),pt=[1,1],yt=.9,zt=ef,$t=ni,Yt=-30,cn=Ca,Mn=.1,an=.64,hn=[],sn=[];function Ln(dn){return function(Xn,rr,vr,dr){if(Xn.point!==dn){var Lr=Xn.cx-dn.x,jr=Xn.cy-dn.y,Er=dr-rr,Fr=Lr*Lr+jr*jr;if(Er*Er/an<Fr){if(Fr<cn){var Kr=Xn.charge/Fr;dn.px-=Lr*Kr,dn.py-=jr*Kr}return!0}Xn.point&&Fr&&Fr<cn&&(dn.px-=Lr*(Kr=Xn.pointCharge/Fr),dn.py-=jr*Kr)}return!Xn.charge}}function Dn(dn){dn.px=f.event.x,dn.py=f.event.y,rt.resume()}return rt.tick=function(){if((Ie*=.99)<.005)return se=null,at.end({type:"end",alpha:Ie=0}),!0;var dn,Xn,rr,vr,dr,Lr,jr,Er,Fr,Kr=hn.length,Ti=sn.length;for(Xn=0;Xn<Ti;++Xn)vr=(rr=sn[Xn]).source,(Lr=(Er=(dr=rr.target).x-vr.x)*Er+(Fr=dr.y-vr.y)*Fr)&&(Er*=Lr=Ie*qe[Xn]*((Lr=Math.sqrt(Lr))-je[Xn])/Lr,Fr*=Lr,dr.x-=Er*(jr=vr.weight+dr.weight?vr.weight/(vr.weight+dr.weight):.5),dr.y-=Fr*jr,vr.x+=Er*(jr=1-jr),vr.y+=Fr*jr);if((jr=Ie*Mn)&&(Er=pt[0]/2,Fr=pt[1]/2,Xn=-1,jr))for(;++Xn<Kr;)(rr=hn[Xn]).x+=(Er-rr.x)*jr,rr.y+=(Fr-rr.y)*jr;if(Yt)for(Ql(dn=f.geom.quadtree(hn),Ie,Xe),Xn=-1;++Xn<Kr;)(rr=hn[Xn]).fixed||dn.visit(Ln(rr));for(Xn=-1;++Xn<Kr;)(rr=hn[Xn]).fixed?(rr.x=rr.px,rr.y=rr.py):(rr.x-=(rr.px-(rr.px=rr.x))*yt,rr.y-=(rr.py-(rr.py=rr.y))*yt);at.tick({type:"tick",alpha:Ie})},rt.nodes=function(dn){return arguments.length?(hn=dn,rt):hn},rt.links=function(dn){return arguments.length?(sn=dn,rt):sn},rt.size=function(dn){return arguments.length?(pt=dn,rt):pt},rt.linkDistance=function(dn){return arguments.length?(zt="function"==typeof dn?dn:+dn,rt):zt},rt.distance=rt.linkDistance,rt.linkStrength=function(dn){return arguments.length?($t="function"==typeof dn?dn:+dn,rt):$t},rt.friction=function(dn){return arguments.length?(yt=+dn,rt):yt},rt.charge=function(dn){return arguments.length?(Yt="function"==typeof dn?dn:+dn,rt):Yt},rt.chargeDistance=function(dn){return arguments.length?(cn=dn*dn,rt):Math.sqrt(cn)},rt.gravity=function(dn){return arguments.length?(Mn=+dn,rt):Mn},rt.theta=function(dn){return arguments.length?(an=dn*dn,rt):Math.sqrt(an)},rt.alpha=function(dn){return arguments.length?(dn=+dn,Ie?dn>0?Ie=dn:(se.c=null,se.t=NaN,se=null,at.end({type:"end",alpha:Ie=0})):dn>0&&(at.start({type:"start",alpha:Ie=dn}),se=on(rt.tick)),rt):Ie},rt.start=function(){var dn,Xn,rr,vr=hn.length,dr=sn.length,Lr=pt[0],jr=pt[1];for(dn=0;dn<vr;++dn)(rr=hn[dn]).index=dn,rr.weight=0;for(dn=0;dn<dr;++dn)"number"==typeof(rr=sn[dn]).source&&(rr.source=hn[rr.source]),"number"==typeof rr.target&&(rr.target=hn[rr.target]),++rr.source.weight,++rr.target.weight;for(dn=0;dn<vr;++dn)rr=hn[dn],isNaN(rr.x)&&(rr.x=Er("x",Lr)),isNaN(rr.y)&&(rr.y=Er("y",jr)),isNaN(rr.px)&&(rr.px=rr.x),isNaN(rr.py)&&(rr.py=rr.y);if(je=[],"function"==typeof zt)for(dn=0;dn<dr;++dn)je[dn]=+zt.call(this,sn[dn],dn);else for(dn=0;dn<dr;++dn)je[dn]=zt;if(qe=[],"function"==typeof $t)for(dn=0;dn<dr;++dn)qe[dn]=+$t.call(this,sn[dn],dn);else for(dn=0;dn<dr;++dn)qe[dn]=$t;if(Xe=[],"function"==typeof Yt)for(dn=0;dn<vr;++dn)Xe[dn]=+Yt.call(this,hn[dn],dn);else for(dn=0;dn<vr;++dn)Xe[dn]=Yt;function Er(Fr,Kr){if(!Xn){for(Xn=new Array(vr),ei=0;ei<vr;++ei)Xn[ei]=[];for(ei=0;ei<dr;++ei){var Ti=sn[ei];Xn[Ti.source.index].push(Ti.target),Xn[Ti.target.index].push(Ti.source)}}for(var ki,Rr=Xn[dn],ei=-1,vi=Rr.length;++ei<vi;)if(!isNaN(ki=Rr[ei][Fr]))return ki;return Math.random()*Kr}return rt.resume()},rt.resume=function(){return rt.alpha(.1)},rt.stop=function(){return rt.alpha(0)},rt.drag=function(){if(me||(me=f.behavior.drag().origin(W).on("dragstart.force",ku).on("drag.force",Dn).on("dragend.force",Kl)),!arguments.length)return me;this.on("mouseover.force",Ml).on("mouseout.force",mi).call(me)},f.rebind(rt,at,"on")};var ef=20,ni=1,Ca=1/0;function Yi(se,me){return f.rebind(se,me,"sort","children","value"),se.nodes=se,se.links=ai,se}function ra(se,me){for(var Ie=[se];null!=(se=Ie.pop());)if(me(se),(qe=se.children)&&(je=qe.length))for(var je,qe;--je>=0;)Ie.push(qe[je])}function Io(se,me){for(var Ie=[se],je=[];null!=(se=Ie.pop());)if(je.push(se),(Xe=se.children)&&(qe=Xe.length))for(var qe,Xe,rt=-1;++rt<qe;)Ie.push(Xe[rt]);for(;null!=(se=je.pop());)me(se)}function eu(se){return se.children}function La(se){return se.value}function ds(se,me){return me.value-se.value}function ai(se){return f.merge(se.map(function(me){return(me.children||[]).map(function(Ie){return{source:me,target:Ie}})}))}f.layout.hierarchy=function(){var se=ds,me=eu,Ie=La;function je(qe){var Xe,rt=[qe],at=[];for(qe.depth=0;null!=(Xe=rt.pop());)if(at.push(Xe),(yt=me.call(je,Xe,Xe.depth))&&(pt=yt.length)){for(var pt,yt,zt;--pt>=0;)rt.push(zt=yt[pt]),zt.parent=Xe,zt.depth=Xe.depth+1;Ie&&(Xe.value=0),Xe.children=yt}else Ie&&(Xe.value=+Ie.call(je,Xe,Xe.depth)||0),delete Xe.children;return Io(qe,function($t){var Yt,cn;se&&(Yt=$t.children)&&Yt.sort(se),Ie&&(cn=$t.parent)&&(cn.value+=$t.value)}),at}return je.sort=function(qe){return arguments.length?(se=qe,je):se},je.children=function(qe){return arguments.length?(me=qe,je):me},je.value=function(qe){return arguments.length?(Ie=qe,je):Ie},je.revalue=function(qe){return Ie&&(ra(qe,function(Xe){Xe.children&&(Xe.value=0)}),Io(qe,function(Xe){var rt;Xe.children||(Xe.value=+Ie.call(je,Xe,Xe.depth)||0),(rt=Xe.parent)&&(rt.value+=Xe.value)})),qe},je},f.layout.partition=function(){var se=f.layout.hierarchy(),me=[1,1];function Ie(Xe,rt,at,pt){var yt=Xe.children;if(Xe.x=rt,Xe.y=Xe.depth*pt,Xe.dx=at,Xe.dy=pt,yt&&(zt=yt.length)){var zt,$t,Yt,cn=-1;for(at=Xe.value?at/Xe.value:0;++cn<zt;)Ie($t=yt[cn],rt,Yt=$t.value*at,pt),rt+=Yt}}function je(Xe){var rt=Xe.children,at=0;if(rt&&(pt=rt.length))for(var pt,yt=-1;++yt<pt;)at=Math.max(at,je(rt[yt]));return 1+at}function qe(Xe,rt){var at=se.call(this,Xe,rt);return Ie(at[0],0,me[0],me[1]/je(at[0])),at}return qe.size=function(Xe){return arguments.length?(me=Xe,qe):me},Yi(qe,se)},f.layout.pie=function(){var se=Number,me=Di,Ie=0,je=Vt,qe=0;function Xe(rt){var at,pt=rt.length,yt=rt.map(function(Ln,Dn){return+se.call(Xe,Ln,Dn)}),zt=+("function"==typeof Ie?Ie.apply(this,arguments):Ie),$t=("function"==typeof je?je.apply(this,arguments):je)-zt,Yt=Math.min(Math.abs($t)/pt,+("function"==typeof qe?qe.apply(this,arguments):qe)),cn=Yt*($t<0?-1:1),Mn=f.sum(yt),an=Mn?($t-pt*cn)/Mn:0,hn=f.range(pt),sn=[];return null!=me&&hn.sort(me===Di?function(Ln,Dn){return yt[Dn]-yt[Ln]}:function(Ln,Dn){return me(rt[Ln],rt[Dn])}),hn.forEach(function(Ln){sn[Ln]={data:rt[Ln],value:at=yt[Ln],startAngle:zt,endAngle:zt+=at*an+cn,padAngle:Yt}}),sn}return Xe.value=function(rt){return arguments.length?(se=rt,Xe):se},Xe.sort=function(rt){return arguments.length?(me=rt,Xe):me},Xe.startAngle=function(rt){return arguments.length?(Ie=rt,Xe):Ie},Xe.endAngle=function(rt){return arguments.length?(je=rt,Xe):je},Xe.padAngle=function(rt){return arguments.length?(qe=rt,Xe):qe},Xe};var Di={};function Ao(se){return se.x}function Ha(se){return se.y}function al(se,me,Ie){se.y0=me,se.y=Ie}f.layout.stack=function(){var se=W,me=Lo,Ie=tu,je=al,qe=Ao,Xe=Ha;function rt(at,pt){if(!(Yt=at.length))return at;var yt=at.map(function(Ln,Dn){return se.call(rt,Ln,Dn)}),zt=yt.map(function(Ln){return Ln.map(function(Dn,dn){return[qe.call(rt,Dn,dn),Xe.call(rt,Dn,dn)]})}),$t=me.call(rt,zt,pt);yt=f.permute(yt,$t),zt=f.permute(zt,$t);var Yt,cn,Mn,an,hn=Ie.call(rt,zt,pt),sn=yt[0].length;for(Mn=0;Mn<sn;++Mn)for(je.call(rt,yt[0][Mn],an=hn[Mn],zt[0][Mn][1]),cn=1;cn<Yt;++cn)je.call(rt,yt[cn][Mn],an+=zt[cn-1][Mn][1],zt[cn][Mn][1]);return at}return rt.values=function(at){return arguments.length?(se=at,rt):se},rt.order=function(at){return arguments.length?(me="function"==typeof at?at:ca.get(at)||Lo,rt):me},rt.offset=function(at){return arguments.length?(Ie="function"==typeof at?at:Na.get(at)||tu,rt):Ie},rt.x=function(at){return arguments.length?(qe=at,rt):qe},rt.y=function(at){return arguments.length?(Xe=at,rt):Xe},rt.out=function(at){return arguments.length?(je=at,rt):je},rt};var ca=f.map({"inside-out":function(se){var me,Ie,je=se.length,qe=se.map(Su),Xe=se.map(Oi),rt=f.range(je).sort(function($t,Yt){return qe[$t]-qe[Yt]}),at=0,pt=0,yt=[],zt=[];for(me=0;me<je;++me)Ie=rt[me],at<pt?(at+=Xe[Ie],yt.push(Ie)):(pt+=Xe[Ie],zt.push(Ie));return zt.reverse().concat(yt)},reverse:function(se){return f.range(se.length).reverse()},default:Lo}),Na=f.map({silhouette:function(se){var me,Ie,je,qe=se.length,Xe=se[0].length,rt=[],at=0,pt=[];for(Ie=0;Ie<Xe;++Ie){for(me=0,je=0;me<qe;me++)je+=se[me][Ie][1];je>at&&(at=je),rt.push(je)}for(Ie=0;Ie<Xe;++Ie)pt[Ie]=(at-rt[Ie])/2;return pt},wiggle:function(se){var me,Ie,je,qe,Xe,rt,at,pt,yt,zt=se.length,$t=se[0],Yt=$t.length,cn=[];for(cn[0]=pt=yt=0,Ie=1;Ie<Yt;++Ie){for(me=0,qe=0;me<zt;++me)qe+=se[me][Ie][1];for(me=0,Xe=0,at=$t[Ie][0]-$t[Ie-1][0];me<zt;++me){for(je=0,rt=(se[me][Ie][1]-se[me][Ie-1][1])/(2*at);je<me;++je)rt+=(se[je][Ie][1]-se[je][Ie-1][1])/at;Xe+=rt*se[me][Ie][1]}cn[Ie]=pt-=qe?Xe/qe*at:0,pt<yt&&(yt=pt)}for(Ie=0;Ie<Yt;++Ie)cn[Ie]-=yt;return cn},expand:function(se){var me,Ie,je,qe=se.length,Xe=se[0].length,rt=1/qe,at=[];for(Ie=0;Ie<Xe;++Ie){for(me=0,je=0;me<qe;me++)je+=se[me][Ie][1];if(je)for(me=0;me<qe;me++)se[me][Ie][1]/=je;else for(me=0;me<qe;me++)se[me][Ie][1]=rt}for(Ie=0;Ie<Xe;++Ie)at[Ie]=0;return at},zero:tu});function Lo(se){return f.range(se.length)}function tu(se){for(var me=-1,Ie=se[0].length,je=[];++me<Ie;)je[me]=0;return je}function Su(se){for(var me,Ie=1,je=0,qe=se[0][1],Xe=se.length;Ie<Xe;++Ie)(me=se[Ie][1])>qe&&(je=Ie,qe=me);return je}function Oi(se){return se.reduce(Cu,0)}function Cu(se,me){return se+me[1]}function Nl(se,me){return sc(se,Math.ceil(Math.log(me.length)/Math.LN2+1))}function sc(se,me){for(var Ie=-1,je=+se[0],qe=(se[1]-je)/me,Xe=[];++Ie<=me;)Xe[Ie]=qe*Ie+je;return Xe}function Al(se){return[f.min(se),f.max(se)]}function ia(se,me){return se.value-me.value}function sl(se,me){var Ie=se._pack_next;se._pack_next=me,me._pack_prev=se,me._pack_next=Ie,Ie._pack_prev=me}function Gs(se,me){se._pack_next=me,me._pack_prev=se}function Gi(se,me){var Ie=me.x-se.x,je=me.y-se.y,qe=se.r+me.r;return.999*qe*qe>Ie*Ie+je*je}function qs(se){if((me=se.children)&&(pt=me.length)){var me,Ie,je,qe,Xe,rt,at,pt,yt=1/0,zt=-1/0,$t=1/0,Yt=-1/0;if(me.forEach(Fl),(Ie=me[0]).x=-Ie.r,Ie.y=0,Dn(Ie),pt>1&&((je=me[1]).x=je.r,je.y=0,Dn(je),pt>2))for(Xi(Ie,je,qe=me[2]),Dn(qe),sl(Ie,qe),Ie._pack_prev=qe,sl(qe,je),je=Ie._pack_next,Xe=3;Xe<pt;Xe++){Xi(Ie,je,qe=me[Xe]);var cn=0,Mn=1,an=1;for(rt=je._pack_next;rt!==je;rt=rt._pack_next,Mn++)if(Gi(rt,qe)){cn=1;break}if(1==cn)for(at=Ie._pack_prev;at!==rt._pack_prev&&!Gi(at,qe);at=at._pack_prev,an++);cn?(Mn<an||Mn==an&&je.r<Ie.r?Gs(Ie,je=rt):Gs(Ie=at,je),Xe--):(sl(Ie,qe),je=qe,Dn(qe))}var hn=(yt+zt)/2,sn=($t+Yt)/2,Ln=0;for(Xe=0;Xe<pt;Xe++)(qe=me[Xe]).x-=hn,qe.y-=sn,Ln=Math.max(Ln,qe.r+Math.sqrt(qe.x*qe.x+qe.y*qe.y));se.r=Ln,me.forEach(Bi)}function Dn(dn){yt=Math.min(dn.x-dn.r,yt),zt=Math.max(dn.x+dn.r,zt),$t=Math.min(dn.y-dn.r,$t),Yt=Math.max(dn.y+dn.r,Yt)}}function Fl(se){se._pack_next=se._pack_prev=se}function Bi(se){delete se._pack_next,delete se._pack_prev}function to(se,me,Ie,je){var qe=se.children;if(se.x=me+=je*se.x,se.y=Ie+=je*se.y,se.r*=je,qe)for(var Xe=-1,rt=qe.length;++Xe<rt;)to(qe[Xe],me,Ie,je)}function Xi(se,me,Ie){var je=se.r+Ie.r,qe=me.x-se.x,Xe=me.y-se.y;if(je&&(qe||Xe)){var rt=me.r+Ie.r,at=qe*qe+Xe*Xe,pt=.5+((je*=je)-(rt*=rt))/(2*at),yt=Math.sqrt(Math.max(0,2*rt*(je+at)-(je-=at)*je-rt*rt))/(2*at);Ie.x=se.x+pt*qe+yt*Xe,Ie.y=se.y+pt*Xe-yt*qe}else Ie.x=se.x+je,Ie.y=se.y}function kl(se,me){return se.parent==me.parent?1:2}function Es(se){var me=se.children;return me.length?me[0]:se.t}function fu(se){var me,Ie=se.children;return(me=Ie.length)?Ie[me-1]:se.t}function nu(se,me,Ie){var je=Ie/(me.i-se.i);me.c-=je,me.s+=Ie,se.c+=je,me.z+=Ie,me.m+=Ie}function oa(se,me,Ie){return se.a.parent===me.parent?se.a:Ie}function tf(se){var me=se.children;return me&&me.length?tf(me[0]):se}function ya(se){var me,Ie=se.children;return Ie&&(me=Ie.length)?ya(Ie[me-1]):se}function _a(se){return{x:se.x,y:se.y,dx:se.dx,dy:se.dy}}function zl(se,me){var Ie=se.x+me[3],je=se.y+me[0],qe=se.dx-me[1]-me[3],Xe=se.dy-me[0]-me[2];return qe<0&&(Ie+=qe/2,qe=0),Xe<0&&(je+=Xe/2,Xe=0),{x:Ie,y:je,dx:qe,dy:Xe}}function go(se){var me=se[0],Ie=se[se.length-1];return me<Ie?[me,Ie]:[Ie,me]}function Ds(se){return se.rangeExtent?se.rangeExtent():go(se.range())}function Fa(se,me,Ie,je){var qe=Ie(se[0],se[1]),Xe=je(me[0],me[1]);return function(rt){return Xe(qe(rt))}}function aa(se,me){var Ie,je=0,qe=se.length-1,Xe=se[je],rt=se[qe];return rt<Xe&&(Ie=je,je=qe,qe=Ie,Ie=Xe,Xe=rt,rt=Ie),se[je]=me.floor(Xe),se[qe]=me.ceil(rt),se}function Ga(se){return se?{floor:function(me){return Math.floor(me/se)*se},ceil:function(me){return Math.ceil(me/se)*se}}:za}f.layout.histogram=function(){var se=!0,me=Number,Ie=Al,je=Nl;function qe(Xe,rt){for(var at,pt,yt=[],zt=Xe.map(me,this),$t=Ie.call(this,zt,rt),Yt=je.call(this,$t,zt,rt),cn=(rt=-1,zt.length),Mn=Yt.length-1,an=se?1:1/cn;++rt<Mn;)(at=yt[rt]=[]).dx=Yt[rt+1]-(at.x=Yt[rt]),at.y=0;if(Mn>0)for(rt=-1;++rt<cn;)(pt=zt[rt])>=$t[0]&&pt<=$t[1]&&((at=yt[f.bisect(Yt,pt,1,Mn)-1]).y+=an,at.push(Xe[rt]));return yt}return qe.value=function(Xe){return arguments.length?(me=Xe,qe):me},qe.range=function(Xe){return arguments.length?(Ie=Gn(Xe),qe):Ie},qe.bins=function(Xe){return arguments.length?(je="number"==typeof Xe?function(rt){return sc(rt,Xe)}:Gn(Xe),qe):je},qe.frequency=function(Xe){return arguments.length?(se=!!Xe,qe):se},qe},f.layout.pack=function(){var se,me=f.layout.hierarchy().sort(ia),Ie=0,je=[1,1];function qe(Xe,rt){var at=me.call(this,Xe,rt),pt=at[0],yt=je[0],zt=je[1],$t=null==se?Math.sqrt:"function"==typeof se?se:function(){return se};if(pt.x=pt.y=0,Io(pt,function(cn){cn.r=+$t(cn.value)}),Io(pt,qs),Ie){var Yt=Ie*(se?1:Math.max(2*pt.r/yt,2*pt.r/zt))/2;Io(pt,function(cn){cn.r+=Yt}),Io(pt,qs),Io(pt,function(cn){cn.r-=Yt})}return to(pt,yt/2,zt/2,se?1:1/Math.max(2*pt.r/yt,2*pt.r/zt)),at}return qe.size=function(Xe){return arguments.length?(je=Xe,qe):je},qe.radius=function(Xe){return arguments.length?(se=null==Xe||"function"==typeof Xe?Xe:+Xe,qe):se},qe.padding=function(Xe){return arguments.length?(Ie=+Xe,qe):Ie},Yi(qe,me)},f.layout.tree=function(){var se=f.layout.hierarchy().sort(null).value(null),me=kl,Ie=[1,1],je=null;function qe(pt,yt){var zt=se.call(this,pt,yt),$t=zt[0],Yt=function(Dn){for(var dn,Xn={A:null,children:[Dn]},rr=[Xn];null!=(dn=rr.pop());)for(var vr,dr=dn.children,Lr=0,jr=dr.length;Lr<jr;++Lr)rr.push((dr[Lr]=vr={_:dr[Lr],parent:dn,children:(vr=dr[Lr].children)&&vr.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Lr}).a=vr);return Xn.children[0]}($t);if(Io(Yt,Xe),Yt.parent.m=-Yt.z,ra(Yt,rt),je)ra($t,at);else{var cn=$t,Mn=$t,an=$t;ra($t,function(Dn){Dn.x<cn.x&&(cn=Dn),Dn.x>Mn.x&&(Mn=Dn),Dn.depth>an.depth&&(an=Dn)});var hn=me(cn,Mn)/2-cn.x,sn=Ie[0]/(Mn.x+me(Mn,cn)/2+hn),Ln=Ie[1]/(an.depth||1);ra($t,function(Dn){Dn.x=(Dn.x+hn)*sn,Dn.y=Dn.depth*Ln})}return zt}function Xe(pt){var yt=pt.children,zt=pt.parent.children,$t=pt.i?zt[pt.i-1]:null;if(yt.length){!function(cn){for(var Mn,an=0,hn=0,sn=cn.children,Ln=sn.length;--Ln>=0;)(Mn=sn[Ln]).z+=an,Mn.m+=an,an+=Mn.s+(hn+=Mn.c)}(pt);var Yt=(yt[0].z+yt[yt.length-1].z)/2;$t?(pt.z=$t.z+me(pt._,$t._),pt.m=pt.z-Yt):pt.z=Yt}else $t&&(pt.z=$t.z+me(pt._,$t._));pt.parent.A=function(cn,Mn,an){if(Mn){for(var hn,sn=cn,Ln=cn,Dn=Mn,dn=sn.parent.children[0],Xn=sn.m,rr=Ln.m,vr=Dn.m,dr=dn.m;Dn=fu(Dn),sn=Es(sn),Dn&&sn;)dn=Es(dn),(Ln=fu(Ln)).a=cn,(hn=Dn.z+vr-sn.z-Xn+me(Dn._,sn._))>0&&(nu(oa(Dn,cn,an),cn,hn),Xn+=hn,rr+=hn),vr+=Dn.m,Xn+=sn.m,dr+=dn.m,rr+=Ln.m;Dn&&!fu(Ln)&&(Ln.t=Dn,Ln.m+=vr-rr),sn&&!Es(dn)&&(dn.t=sn,dn.m+=Xn-dr,an=cn)}return an}(pt,$t,pt.parent.A||zt[0])}function rt(pt){pt._.x=pt.z+pt.parent.m,pt.m+=pt.parent.m}function at(pt){pt.x*=Ie[0],pt.y=pt.depth*Ie[1]}return qe.separation=function(pt){return arguments.length?(me=pt,qe):me},qe.size=function(pt){return arguments.length?(je=null==(Ie=pt)?at:null,qe):je?null:Ie},qe.nodeSize=function(pt){return arguments.length?(je=null==(Ie=pt)?null:at,qe):je?Ie:null},Yi(qe,se)},f.layout.cluster=function(){var se=f.layout.hierarchy().sort(null).value(null),me=kl,Ie=[1,1],je=!1;function qe(Xe,rt){var at,pt=se.call(this,Xe,rt),yt=pt[0],zt=0;Io(yt,function(an){var sn,hn=an.children;hn&&hn.length?(an.x=(sn=hn).reduce(function(Ln,Dn){return Ln+Dn.x},0)/sn.length,an.y=function(sn){return 1+f.max(sn,function(Ln){return Ln.y})}(hn)):(an.x=at?zt+=me(an,at):0,an.y=0,at=an)});var $t=tf(yt),Yt=ya(yt),cn=$t.x-me($t,Yt)/2,Mn=Yt.x+me(Yt,$t)/2;return Io(yt,je?function(an){an.x=(an.x-yt.x)*Ie[0],an.y=(yt.y-an.y)*Ie[1]}:function(an){an.x=(an.x-cn)/(Mn-cn)*Ie[0],an.y=(1-(yt.y?an.y/yt.y:1))*Ie[1]}),pt}return qe.separation=function(Xe){return arguments.length?(me=Xe,qe):me},qe.size=function(Xe){return arguments.length?(je=null==(Ie=Xe),qe):je?null:Ie},qe.nodeSize=function(Xe){return arguments.length?(je=null!=(Ie=Xe),qe):je?Ie:null},Yi(qe,se)},f.layout.treemap=function(){var se,me=f.layout.hierarchy(),Ie=Math.round,je=[1,1],qe=null,Xe=_a,rt=!1,at="squarify",pt=.5*(1+Math.sqrt(5));function yt(an,hn){for(var sn,Ln,Dn=-1,dn=an.length;++Dn<dn;)Ln=(sn=an[Dn]).value*(hn<0?0:hn),sn.area=isNaN(Ln)||Ln<=0?0:Ln}function zt(an){var hn=an.children;if(hn&&hn.length){var sn,Ln,Dn,dn=Xe(an),Xn=[],rr=hn.slice(),vr=1/0,dr="slice"===at?dn.dx:"dice"===at?dn.dy:"slice-dice"===at?1&an.depth?dn.dy:dn.dx:Math.min(dn.dx,dn.dy);for(yt(rr,dn.dx*dn.dy/an.value),Xn.area=0;(Dn=rr.length)>0;)Xn.push(sn=rr[Dn-1]),Xn.area+=sn.area,"squarify"!==at||(Ln=Yt(Xn,dr))<=vr?(rr.pop(),vr=Ln):(Xn.area-=Xn.pop().area,cn(Xn,dr,dn,!1),dr=Math.min(dn.dx,dn.dy),Xn.length=Xn.area=0,vr=1/0);Xn.length&&(cn(Xn,dr,dn,!0),Xn.length=Xn.area=0),hn.forEach(zt)}}function $t(an){var hn=an.children;if(hn&&hn.length){var sn,Ln=Xe(an),Dn=hn.slice(),dn=[];for(yt(Dn,Ln.dx*Ln.dy/an.value),dn.area=0;sn=Dn.pop();)dn.push(sn),dn.area+=sn.area,null!=sn.z&&(cn(dn,sn.z?Ln.dx:Ln.dy,Ln,!Dn.length),dn.length=dn.area=0);hn.forEach($t)}}function Yt(an,hn){for(var sn,Ln=an.area,Dn=0,dn=1/0,Xn=-1,rr=an.length;++Xn<rr;)(sn=an[Xn].area)&&(sn<dn&&(dn=sn),sn>Dn&&(Dn=sn));return hn*=hn,(Ln*=Ln)?Math.max(hn*Dn*pt/Ln,Ln/(hn*dn*pt)):1/0}function cn(an,hn,sn,Ln){var Dn,dn=-1,Xn=an.length,rr=sn.x,vr=sn.y,dr=hn?Ie(an.area/hn):0;if(hn==sn.dx){for((Ln||dr>sn.dy)&&(dr=sn.dy);++dn<Xn;)(Dn=an[dn]).x=rr,Dn.y=vr,Dn.dy=dr,rr+=Dn.dx=Math.min(sn.x+sn.dx-rr,dr?Ie(Dn.area/dr):0);Dn.z=!0,Dn.dx+=sn.x+sn.dx-rr,sn.y+=dr,sn.dy-=dr}else{for((Ln||dr>sn.dx)&&(dr=sn.dx);++dn<Xn;)(Dn=an[dn]).x=rr,Dn.y=vr,Dn.dx=dr,vr+=Dn.dy=Math.min(sn.y+sn.dy-vr,dr?Ie(Dn.area/dr):0);Dn.z=!1,Dn.dy+=sn.y+sn.dy-vr,sn.x+=dr,sn.dx-=dr}}function Mn(an){var hn=se||me(an),sn=hn[0];return sn.x=sn.y=0,sn.value?(sn.dx=je[0],sn.dy=je[1]):sn.dx=sn.dy=0,se&&me.revalue(sn),yt([sn],sn.dx*sn.dy/sn.value),(se?$t:zt)(sn),rt&&(se=hn),hn}return Mn.size=function(an){return arguments.length?(je=an,Mn):je},Mn.padding=function(an){if(!arguments.length)return qe;function hn(Dn){var dn=an.call(Mn,Dn,Dn.depth);return null==dn?_a(Dn):zl(Dn,"number"==typeof dn?[dn,dn,dn,dn]:dn)}function sn(Dn){return zl(Dn,an)}var Ln;return Xe=null==(qe=an)?_a:"function"==(Ln=typeof an)?hn:("number"===Ln&&(an=[an,an,an,an]),sn),Mn},Mn.round=function(an){return arguments.length?(Ie=an?Math.round:Number,Mn):Ie!=Number},Mn.sticky=function(an){return arguments.length?(rt=an,se=null,Mn):rt},Mn.ratio=function(an){return arguments.length?(pt=an,Mn):pt},Mn.mode=function(an){return arguments.length?(at=an+"",Mn):at},Yi(Mn,me)},f.random={normal:function(se,me){var Ie=arguments.length;return Ie<2&&(me=1),Ie<1&&(se=0),function(){var je,qe,Xe;do{Xe=(je=2*Math.random()-1)*je+(qe=2*Math.random()-1)*qe}while(!Xe||Xe>1);return se+me*je*Math.sqrt(-2*Math.log(Xe)/Xe)}},logNormal:function(){var se=f.random.normal.apply(f,arguments);return function(){return Math.exp(se())}},bates:function(se){var me=f.random.irwinHall(se);return function(){return me()/se}},irwinHall:function(se){return function(){for(var me=0,Ie=0;Ie<se;Ie++)me+=Math.random();return me}}},f.scale={};var za={floor:W,ceil:W};function Ea(se,me,Ie,je){var qe=[],Xe=[],rt=0,at=Math.min(se.length,me.length)-1;for(se[at]<se[0]&&(se=se.slice().reverse(),me=me.slice().reverse());++rt<=at;)qe.push(Ie(se[rt-1],se[rt])),Xe.push(je(me[rt-1],me[rt]));return function(pt){var yt=f.bisect(se,pt,1,at)-1;return Xe[yt](qe[yt](pt))}}function ps(se,me,Ie,je){var qe,Xe;function rt(){var pt=Math.min(se.length,me.length)>2?Ea:Fa,yt=je?ol:il;return qe=pt(se,me,yt,Ie),Xe=pt(me,se,yt,va),at}function at(pt){return qe(pt)}return at.invert=function(pt){return Xe(pt)},at.domain=function(pt){return arguments.length?(se=pt.map(Number),rt()):se},at.range=function(pt){return arguments.length?(me=pt,rt()):me},at.rangeRound=function(pt){return at.range(pt).interpolate(tl)},at.clamp=function(pt){return arguments.length?(je=pt,rt()):je},at.interpolate=function(pt){return arguments.length?(Ie=pt,rt()):Ie},at.ticks=function(pt){return Os(se,pt)},at.tickFormat=function(pt,yt){return d3_scale_linearTickFormat(se,pt,yt)},at.nice=function(pt){return ll(se,pt),rt()},at.copy=function(){return ps(se,me,Ie,je)},rt()}function hu(se,me){return f.rebind(se,me,"range","rangeRound","interpolate","clamp")}function ll(se,me){return aa(se,Ga(xa(se,me)[2])),aa(se,Ga(xa(se,me)[2])),se}function xa(se,me){null==me&&(me=10);var Ie=go(se),je=Ie[1]-Ie[0],qe=Math.pow(10,Math.floor(Math.log(je/me)/Math.LN10)),Xe=me/je*qe;return Xe<=.15?qe*=10:Xe<=.35?qe*=5:Xe<=.75&&(qe*=2),Ie[0]=Math.ceil(Ie[0]/qe)*qe,Ie[1]=Math.floor(Ie[1]/qe)*qe+.5*qe,Ie[2]=qe,Ie}function Os(se,me){return f.range.apply(f,xa(se,me))}function Ec(se,me,Ie,je){function qe(at){return(Ie?Math.log(at<0?0:at):-Math.log(at>0?0:-at))/Math.log(me)}function Xe(at){return Ie?Math.pow(me,at):-Math.pow(me,-at)}function rt(at){return se(qe(at))}return rt.invert=function(at){return Xe(se.invert(at))},rt.domain=function(at){return arguments.length?(Ie=at[0]>=0,se.domain((je=at.map(Number)).map(qe)),rt):je},rt.base=function(at){return arguments.length?(me=+at,se.domain(je.map(qe)),rt):me},rt.nice=function(){var at=aa(je.map(qe),Ie?Math:Dc);return se.domain(at),je=at.map(Xe),rt},rt.ticks=function(){var at=go(je),pt=[],yt=at[0],zt=at[1],$t=Math.floor(qe(yt)),Yt=Math.ceil(qe(zt)),cn=me%1?2:me;if(isFinite(Yt-$t)){if(Ie){for(;$t<Yt;$t++)for(var Mn=1;Mn<cn;Mn++)pt.push(Xe($t)*Mn);pt.push(Xe($t))}else for(pt.push(Xe($t));$t++<Yt;)for(Mn=cn-1;Mn>0;Mn--)pt.push(Xe($t)*Mn);for($t=0;pt[$t]<yt;$t++);for(Yt=pt.length;pt[Yt-1]>zt;Yt--);pt=pt.slice($t,Yt)}return pt},rt.copy=function(){return Ec(se.copy(),me,Ie,je)},hu(rt,se)}f.scale.linear=function(){return ps([0,1],[0,1],va,!1)},f.scale.log=function(){return Ec(f.scale.linear().domain([0,1]),10,!0,[1,10])};var Dc={floor:function(se){return-Math.ceil(-se)},ceil:function(se){return-Math.floor(-se)}};function Ka(se,me,Ie){var je=Yr(me),qe=Yr(1/me);function Xe(rt){return se(je(rt))}return Xe.invert=function(rt){return qe(se.invert(rt))},Xe.domain=function(rt){return arguments.length?(se.domain((Ie=rt.map(Number)).map(je)),Xe):Ie},Xe.ticks=function(rt){return Os(Ie,rt)},Xe.tickFormat=function(rt,at){return d3_scale_linearTickFormat(Ie,rt,at)},Xe.nice=function(rt){return Xe.domain(ll(Ie,rt))},Xe.exponent=function(rt){return arguments.length?(je=Yr(me=rt),qe=Yr(1/me),se.domain(Ie.map(je)),Xe):me},Xe.copy=function(){return Ka(se.copy(),me,Ie)},hu(Xe,se)}function Yr(se){return function(me){return me<0?-Math.pow(-me,se):Math.pow(me,se)}}function Eu(se,me){var Ie,je,qe;function Xe(at){return je[((Ie.get(at)||("range"===me.t?Ie.set(at,se.push(at)):NaN))-1)%je.length]}function rt(at,pt){return f.range(se.length).map(function(yt){return at+pt*yt})}return Xe.domain=function(at){if(!arguments.length)return se;se=[],Ie=new k;for(var pt,yt=-1,zt=at.length;++yt<zt;)Ie.has(pt=at[yt])||Ie.set(pt,se.push(pt));return Xe[me.t].apply(Xe,me.a)},Xe.range=function(at){return arguments.length?(je=at,qe=0,me={t:"range",a:arguments},Xe):je},Xe.rangePoints=function(at,pt){arguments.length<2&&(pt=0);var yt=at[0],zt=at[1],$t=se.length<2?(yt=(yt+zt)/2,0):(zt-yt)/(se.length-1+pt);return je=rt(yt+$t*pt/2,$t),qe=0,me={t:"rangePoints",a:arguments},Xe},Xe.rangeRoundPoints=function(at,pt){arguments.length<2&&(pt=0);var yt=at[0],zt=at[1],$t=se.length<2?(yt=zt=Math.round((yt+zt)/2),0):(zt-yt)/(se.length-1+pt)|0;return je=rt(yt+Math.round($t*pt/2+(zt-yt-(se.length-1+pt)*$t)/2),$t),qe=0,me={t:"rangeRoundPoints",a:arguments},Xe},Xe.rangeBands=function(at,pt,yt){arguments.length<2&&(pt=0),arguments.length<3&&(yt=pt);var zt=at[1]<at[0],$t=at[zt-0],cn=(at[1-zt]-$t)/(se.length-pt+2*yt);return je=rt($t+cn*yt,cn),zt&&je.reverse(),qe=cn*(1-pt),me={t:"rangeBands",a:arguments},Xe},Xe.rangeRoundBands=function(at,pt,yt){arguments.length<2&&(pt=0),arguments.length<3&&(yt=pt);var zt=at[1]<at[0],$t=at[zt-0],Yt=at[1-zt],cn=Math.floor((Yt-$t)/(se.length-pt+2*yt));return je=rt($t+Math.round((Yt-$t-(se.length-pt)*cn)/2),cn),zt&&je.reverse(),qe=Math.round(cn*(1-pt)),me={t:"rangeRoundBands",a:arguments},Xe},Xe.rangeBand=function(){return qe},Xe.rangeExtent=function(){return go(me.a[0])},Xe.copy=function(){return Eu(se,me)},Xe.domain(se)}f.scale.pow=function(){return Ka(f.scale.linear(),1,[0,1])},f.scale.sqrt=function(){return f.scale.pow().exponent(.5)},f.scale.ordinal=function(){return Eu([],{t:"range",a:[[]]})},f.scale.category10=function(){return f.scale.ordinal().range(gs)},f.scale.category20=function(){return f.scale.ordinal().range(Oc)},f.scale.category20b=function(){return f.scale.ordinal().range(du)},f.scale.category20c=function(){return f.scale.ordinal().range(pu)};var gs=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(On),Oc=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(On),du=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(On),pu=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(On);function Vu(se,me){var Ie;function je(){var Xe=0,rt=me.length;for(Ie=[];++Xe<rt;)Ie[Xe-1]=f.quantile(se,Xe/rt);return qe}function qe(Xe){if(!isNaN(Xe=+Xe))return me[f.bisect(Ie,Xe)]}return qe.domain=function(Xe){return arguments.length?(se=Xe.map(g).filter(p).sort(d),je()):se},qe.range=function(Xe){return arguments.length?(me=Xe,je()):me},qe.quantiles=function(){return Ie},qe.invertExtent=function(Xe){return(Xe=me.indexOf(Xe))<0?[NaN,NaN]:[Xe>0?Ie[Xe-1]:se[0],Xe<Ie.length?Ie[Xe]:se[se.length-1]]},qe.copy=function(){return Vu(se,me)},je()}function Jr(se,me,Ie){var je,qe;function Xe(at){return Ie[Math.max(0,Math.min(qe,Math.floor(je*(at-se))))]}function rt(){return je=Ie.length/(me-se),qe=Ie.length-1,Xe}return Xe.domain=function(at){return arguments.length?(se=+at[0],me=+at[at.length-1],rt()):[se,me]},Xe.range=function(at){return arguments.length?(Ie=at,rt()):Ie},Xe.invertExtent=function(at){return[at=(at=Ie.indexOf(at))<0?NaN:at/je+se,at+1/je]},Xe.copy=function(){return Jr(se,me,Ie)},rt()}function Hu(se,me){function Ie(je){if(je<=je)return me[f.bisect(se,je)]}return Ie.domain=function(je){return arguments.length?(se=je,Ie):se},Ie.range=function(je){return arguments.length?(me=je,Ie):me},Ie.invertExtent=function(je){return je=me.indexOf(je),[se[je-1],se[je]]},Ie.copy=function(){return Hu(se,me)},Ie}function Da(se){function me(Ie){return+Ie}return me.invert=me,me.domain=me.range=function(Ie){return arguments.length?(se=Ie.map(me),me):se},me.ticks=function(Ie){return Os(se,Ie)},me.tickFormat=function(Ie,je){return d3_scale_linearTickFormat(se,Ie,je)},me.copy=function(){return Da(se)},me}function lc(){return 0}f.scale.quantile=function(){return Vu([],[])},f.scale.quantize=function(){return Jr(0,1,[0,1])},f.scale.threshold=function(){return Hu([.5],[0,1])},f.scale.identity=function(){return Da([0,1])},f.svg={},f.svg.arc=function(){var se=Oa,me=gu,Ie=lc,je=Eo,qe=Bl,Xe=Qa,rt=jl;function at(){var yt=Math.max(0,+se.apply(this,arguments)),zt=Math.max(0,+me.apply(this,arguments)),$t=qe.apply(this,arguments)-Gt,Yt=Xe.apply(this,arguments)-Gt,cn=Math.abs(Yt-$t),Mn=$t>Yt?0:1;if(zt<yt&&(an=zt,zt=yt,yt=an),cn>=tn)return pt(zt,Mn)+(yt?pt(yt,1-Mn):"")+"Z";var an,hn,sn,Ln,Dn,dn,Xn,rr,vr,dr,Lr,jr,Er=0,Fr=0,Kr=[];if((Ln=(+rt.apply(this,arguments)||0)/2)&&(sn=je===Eo?Math.sqrt(yt*yt+zt*zt):+je.apply(this,arguments),Mn||(Fr*=-1),zt&&(Fr=$e(sn/zt*Math.sin(Ln))),yt&&(Er=$e(sn/yt*Math.sin(Ln)))),zt){Dn=zt*Math.cos($t+Fr),dn=zt*Math.sin($t+Fr),Xn=zt*Math.cos(Yt-Fr),rr=zt*Math.sin(Yt-Fr);var Ti=Math.abs(Yt-$t-2*Fr)<=Ut?0:1;if(Fr&&ul(Dn,dn,Xn,rr)===Mn^Ti){var ki=($t+Yt)/2;Dn=zt*Math.cos(ki),dn=zt*Math.sin(ki),Xn=rr=null}}else Dn=dn=0;if(yt){vr=yt*Math.cos(Yt-Er),dr=yt*Math.sin(Yt-Er),Lr=yt*Math.cos($t+Er),jr=yt*Math.sin($t+Er);var Rr=Math.abs($t-Yt+2*Er)<=Ut?0:1;if(Er&&ul(vr,dr,Lr,jr)===1-Mn^Rr){var ei=($t+Yt)/2;vr=yt*Math.cos(ei),dr=yt*Math.sin(ei),Lr=jr=null}}else vr=dr=0;if(cn>Bt&&(an=Math.min(Math.abs(zt-yt)/2,+Ie.apply(this,arguments)))>.001){hn=yt<zt^Mn?0:1;var vi=an,xi=an;if(cn<Ut){var Ji=null==Lr?[vr,dr]:null==Xn?[Dn,dn]:Vn([Dn,dn],[Lr,jr],[Xn,rr],[vr,dr]),Vi=Dn-Ji[0],oo=dn-Ji[1],So=Xn-Ji[0],xo=rr-Ji[1],bo=1/Math.sin(Math.acos((Vi*So+oo*xo)/(Math.sqrt(Vi*Vi+oo*oo)*Math.sqrt(So*So+xo*xo)))/2),mo=Math.sqrt(Ji[0]*Ji[0]+Ji[1]*Ji[1]);xi=Math.min(an,(yt-mo)/(bo-1)),vi=Math.min(an,(zt-mo)/(bo+1))}if(null!=Xn){var ao=ms(null==Lr?[vr,dr]:[Lr,jr],[Dn,dn],zt,vi,Mn),wo=ms([Xn,rr],[vr,dr],zt,vi,Mn);an===vi?Kr.push("M",ao[0],"A",vi,",",vi," 0 0,",hn," ",ao[1],"A",zt,",",zt," 0 ",1-Mn^ul(ao[1][0],ao[1][1],wo[1][0],wo[1][1]),",",Mn," ",wo[1],"A",vi,",",vi," 0 0,",hn," ",wo[0]):Kr.push("M",ao[0],"A",vi,",",vi," 0 1,",hn," ",wo[0])}else Kr.push("M",Dn,",",dn);if(null!=Lr){var Bo=ms([Dn,dn],[Lr,jr],yt,-xi,Mn),fl=ms([vr,dr],null==Xn?[Dn,dn]:[Xn,rr],yt,-xi,Mn);an===xi?Kr.push("L",fl[0],"A",xi,",",xi," 0 0,",hn," ",fl[1],"A",yt,",",yt," 0 ",Mn^ul(fl[1][0],fl[1][1],Bo[1][0],Bo[1][1]),",",1-Mn," ",Bo[1],"A",xi,",",xi," 0 0,",hn," ",Bo[0]):Kr.push("L",fl[0],"A",xi,",",xi," 0 0,",hn," ",Bo[0])}else Kr.push("L",vr,",",dr)}else Kr.push("M",Dn,",",dn),null!=Xn&&Kr.push("A",zt,",",zt," 0 ",Ti,",",Mn," ",Xn,",",rr),Kr.push("L",vr,",",dr),null!=Lr&&Kr.push("A",yt,",",yt," 0 ",Rr,",",1-Mn," ",Lr,",",jr);return Kr.push("Z"),Kr.join("")}function pt(yt,zt){return"M0,"+yt+"A"+yt+","+yt+" 0 1,"+zt+" 0,"+-yt+"A"+yt+","+yt+" 0 1,"+zt+" 0,"+yt}return at.innerRadius=function(yt){return arguments.length?(se=Gn(yt),at):se},at.outerRadius=function(yt){return arguments.length?(me=Gn(yt),at):me},at.cornerRadius=function(yt){return arguments.length?(Ie=Gn(yt),at):Ie},at.padRadius=function(yt){return arguments.length?(je=yt==Eo?Eo:Gn(yt),at):je},at.startAngle=function(yt){return arguments.length?(qe=Gn(yt),at):qe},at.endAngle=function(yt){return arguments.length?(Xe=Gn(yt),at):Xe},at.padAngle=function(yt){return arguments.length?(rt=Gn(yt),at):rt},at.centroid=function(){var yt=(+se.apply(this,arguments)+ +me.apply(this,arguments))/2,zt=(+qe.apply(this,arguments)+ +Xe.apply(this,arguments))/2-Gt;return[Math.cos(zt)*yt,Math.sin(zt)*yt]},at};var Eo="auto";function Oa(se){return se.innerRadius}function gu(se){return se.outerRadius}function Bl(se){return se.startAngle}function Qa(se){return se.endAngle}function jl(se){return se&&se.padAngle}function ul(se,me,Ie,je){return(se-Ie)*me-(me-je)*se>0?0:1}function ms(se,me,Ie,je,qe){var Xe=se[0]-me[0],rt=se[1]-me[1],at=(qe?je:-je)/Math.sqrt(Xe*Xe+rt*rt),pt=at*rt,yt=-at*Xe,zt=se[0]+pt,$t=se[1]+yt,Yt=me[0]+pt,cn=me[1]+yt,Mn=(zt+Yt)/2,an=($t+cn)/2,hn=Yt-zt,sn=cn-$t,Ln=hn*hn+sn*sn,Dn=Ie-je,dn=zt*cn-Yt*$t,Xn=(sn<0?-1:1)*Math.sqrt(Math.max(0,Dn*Dn*Ln-dn*dn)),rr=(dn*sn-hn*Xn)/Ln,vr=(-dn*hn-sn*Xn)/Ln,dr=(dn*sn+hn*Xn)/Ln,Lr=(-dn*hn+sn*Xn)/Ln,jr=rr-Mn,Er=vr-an,Fr=dr-Mn,Kr=Lr-an;return jr*jr+Er*Er>Fr*Fr+Kr*Kr&&(rr=dr,vr=Lr),[[rr-pt,vr-yt],[rr*Ie/Dn,vr*Ie/Dn]]}function mu(){return!0}function ko(se){var me=qn,Ie=nr,je=mu,qe=co,Xe=qe.key,rt=.7;function at(pt){var yt,zt=[],$t=[],Yt=-1,cn=pt.length,Mn=Gn(me),an=Gn(Ie);function hn(){zt.push("M",qe(se($t),rt))}for(;++Yt<cn;)je.call(this,yt=pt[Yt],Yt)?$t.push([+Mn.call(this,yt,Yt),+an.call(this,yt,Yt)]):$t.length&&(hn(),$t=[]);return $t.length&&hn(),zt.length?zt.join(""):null}return at.x=function(pt){return arguments.length?(me=pt,at):me},at.y=function(pt){return arguments.length?(Ie=pt,at):Ie},at.defined=function(pt){return arguments.length?(je=pt,at):je},at.interpolate=function(pt){return arguments.length?(Xe="function"==typeof pt?qe=pt:(qe=Is.get(pt)||co).key,at):Xe},at.tension=function(pt){return arguments.length?(rt=pt,at):rt},at}f.svg.line=function(){return ko(W)};var Is=f.map({linear:co,"linear-closed":sa,step:function(se){for(var me=0,Ie=se.length,je=se[0],qe=[je[0],",",je[1]];++me<Ie;)qe.push("H",(je[0]+(je=se[me])[0])/2,"V",je[1]);return Ie>1&&qe.push("H",je[0]),qe.join("")},"step-before":Ps,"step-after":es,basis:io,"basis-open":function(se){if(se.length<4)return co(se);for(var me,Ie=[],je=-1,qe=se.length,Xe=[0],rt=[0];++je<3;)Xe.push((me=se[je])[0]),rt.push(me[1]);for(Ie.push(zo(Rs,Xe)+","+zo(Rs,rt)),--je;++je<qe;)me=se[je],Xe.shift(),Xe.push(me[0]),rt.shift(),rt.push(me[1]),ru(Ie,Xe,rt);return Ie.join("")},"basis-closed":function(se){for(var me,Ie,je=-1,qe=se.length,Xe=qe+4,rt=[],at=[];++je<4;)rt.push((Ie=se[je%qe])[0]),at.push(Ie[1]);for(me=[zo(Rs,rt),",",zo(Rs,at)],--je;++je<Xe;)Ie=se[je%qe],rt.shift(),rt.push(Ie[0]),at.shift(),at.push(Ie[1]),ru(me,rt,at);return me.join("")},bundle:function(se,me){var Ie=se.length-1;if(Ie)for(var je,qe,Xe=se[0][0],rt=se[0][1],at=se[Ie][0]-Xe,pt=se[Ie][1]-rt,yt=-1;++yt<=Ie;)(je=se[yt])[0]=me*je[0]+(1-me)*(Xe+(qe=yt/Ie)*at),je[1]=me*je[1]+(1-me)*(rt+qe*pt);return io(se)},cardinal:function(se,me){return se.length<3?co(se):se[0]+Xo(se,ts(se,me))},"cardinal-open":function(se,me){return se.length<4?co(se):se[1]+Xo(se.slice(1,-1),ts(se,me))},"cardinal-closed":function(se,me){return se.length<3?sa(se):se[0]+Xo((se.push(se[0]),se),ts([se[se.length-2]].concat(se,[se[1]]),me))},monotone:function(se){return se.length<3?co(se):se[0]+Xo(se,function(me){for(var Ie,je,qe,Xe,rt=[],at=function(zt){for(var $t=0,Yt=zt.length-1,cn=[],Mn=zt[0],an=zt[1],hn=cn[0]=qa(Mn,an);++$t<Yt;)cn[$t]=(hn+(hn=qa(Mn=an,an=zt[$t+1])))/2;return cn[$t]=hn,cn}(me),pt=-1,yt=me.length-1;++pt<yt;)Ie=qa(me[pt],me[pt+1]),w(Ie)<Bt?at[pt]=at[pt+1]=0:(Xe=(je=at[pt]/Ie)*je+(qe=at[pt+1]/Ie)*qe)>9&&(Xe=3*Ie/Math.sqrt(Xe),at[pt]=Xe*je,at[pt+1]=Xe*qe);for(pt=-1;++pt<=yt;)Xe=(me[Math.min(yt,pt+1)][0]-me[Math.max(0,pt-1)][0])/(6*(1+at[pt]*at[pt])),rt.push([Xe||0,at[pt]*Xe||0]);return rt}(se))}});function co(se){return se.length>1?se.join("L"):se+"Z"}function sa(se){return se.join("L")+"Z"}function Ps(se){for(var me=0,Ie=se.length,je=se[0],qe=[je[0],",",je[1]];++me<Ie;)qe.push("V",(je=se[me])[1],"H",je[0]);return qe.join("")}function es(se){for(var me=0,Ie=se.length,je=se[0],qe=[je[0],",",je[1]];++me<Ie;)qe.push("H",(je=se[me])[0],"V",je[1]);return qe.join("")}function Xo(se,me){if(me.length<1||se.length!=me.length&&se.length!=me.length+2)return co(se);var Ie=se.length!=me.length,je="",qe=se[0],Xe=se[1],rt=me[0],at=rt,pt=1;if(Ie&&(je+="Q"+(Xe[0]-2*rt[0]/3)+","+(Xe[1]-2*rt[1]/3)+","+Xe[0]+","+Xe[1],qe=se[1],pt=2),me.length>1){Xe=se[pt],pt++,je+="C"+(qe[0]+rt[0])+","+(qe[1]+rt[1])+","+(Xe[0]-(at=me[1])[0])+","+(Xe[1]-at[1])+","+Xe[0]+","+Xe[1];for(var yt=2;yt<me.length;yt++,pt++)je+="S"+((Xe=se[pt])[0]-(at=me[yt])[0])+","+(Xe[1]-at[1])+","+Xe[0]+","+Xe[1]}if(Ie){var zt=se[pt];je+="Q"+(Xe[0]+2*at[0]/3)+","+(Xe[1]+2*at[1]/3)+","+zt[0]+","+zt[1]}return je}function ts(se,me){for(var Ie,je=[],qe=(1-me)/2,Xe=se[0],rt=se[1],at=1,pt=se.length;++at<pt;)Ie=Xe,Xe=rt,je.push([qe*((rt=se[at])[0]-Ie[0]),qe*(rt[1]-Ie[1])]);return je}function io(se){if(se.length<3)return co(se);var me=1,Ie=se.length,je=se[0],qe=je[0],Xe=je[1],rt=[qe,qe,qe,(je=se[1])[0]],at=[Xe,Xe,Xe,je[1]],pt=[qe,",",Xe,"L",zo(Rs,rt),",",zo(Rs,at)];for(se.push(se[Ie-1]);++me<=Ie;)je=se[me],rt.shift(),rt.push(je[0]),at.shift(),at.push(je[1]),ru(pt,rt,at);return se.pop(),pt.push("L",je),pt.join("")}function zo(se,me){return se[0]*me[0]+se[1]*me[1]+se[2]*me[2]+se[3]*me[3]}Is.forEach(function(se,me){me.key=se,me.closed=/-closed$/.test(se)});var Wo=[0,2/3,1/3,0],ns=[0,1/3,2/3,0],Rs=[0,1/6,2/3,1/6];function ru(se,me,Ie){se.push("C",zo(Wo,me),",",zo(Wo,Ie),",",zo(ns,me),",",zo(ns,Ie),",",zo(Rs,me),",",zo(Rs,Ie))}function qa(se,me){return(me[1]-se[1])/(me[0]-se[0])}function Ia(se){for(var me,Ie,je,qe=-1,Xe=se.length;++qe<Xe;)Ie=(me=se[qe])[0],je=me[1]-Gt,me[0]=Ie*Math.cos(je),me[1]=Ie*Math.sin(je);return se}function vs(se){var me=qn,Ie=qn,je=0,qe=nr,Xe=mu,rt=co,at=rt.key,pt=rt,yt="L",zt=.7;function $t(Yt){var cn,Mn,an,hn=[],sn=[],Ln=[],Dn=-1,dn=Yt.length,Xn=Gn(me),rr=Gn(je),vr=me===Ie?function(){return Mn}:Gn(Ie),dr=je===qe?function(){return an}:Gn(qe);function Lr(){hn.push("M",rt(se(Ln),zt),yt,pt(se(sn.reverse()),zt),"Z")}for(;++Dn<dn;)Xe.call(this,cn=Yt[Dn],Dn)?(sn.push([Mn=+Xn.call(this,cn,Dn),an=+rr.call(this,cn,Dn)]),Ln.push([+vr.call(this,cn,Dn),+dr.call(this,cn,Dn)])):sn.length&&(Lr(),sn=[],Ln=[]);return sn.length&&Lr(),hn.length?hn.join(""):null}return $t.x=function(Yt){return arguments.length?(me=Ie=Yt,$t):Ie},$t.x0=function(Yt){return arguments.length?(me=Yt,$t):me},$t.x1=function(Yt){return arguments.length?(Ie=Yt,$t):Ie},$t.y=function(Yt){return arguments.length?(je=qe=Yt,$t):qe},$t.y0=function(Yt){return arguments.length?(je=Yt,$t):je},$t.y1=function(Yt){return arguments.length?(qe=Yt,$t):qe},$t.defined=function(Yt){return arguments.length?(Xe=Yt,$t):Xe},$t.interpolate=function(Yt){return arguments.length?(at="function"==typeof Yt?rt=Yt:(rt=Is.get(Yt)||co).key,pt=rt.reverse||rt,yt=rt.closed?"M":"L",$t):at},$t.tension=function(Yt){return arguments.length?(zt=Yt,$t):zt},$t}function kr(se){return se.source}function pi(se){return se.target}function Gu(se){return se.radius}function Ul(se){return[se.x,se.y]}function cl(se){return function(){var me=se.apply(this,arguments),Ie=me[0],je=me[1]-Gt;return[Ie*Math.cos(je),Ie*Math.sin(je)]}}function Ba(){return 64}function qu(){return"circle"}function rs(se){var me=Math.sqrt(se/Ut);return"M0,"+me+"A"+me+","+me+" 0 1,1 0,"+-me+"A"+me+","+me+" 0 1,1 0,"+me+"Z"}f.svg.line.radial=function(){var se=ko(Ia);return se.radius=se.x,delete se.x,se.angle=se.y,delete se.y,se},Ps.reverse=es,es.reverse=Ps,f.svg.area=function(){return vs(W)},f.svg.area.radial=function(){var se=vs(Ia);return se.radius=se.x,delete se.x,se.innerRadius=se.x0,delete se.x0,se.outerRadius=se.x1,delete se.x1,se.angle=se.y,delete se.y,se.startAngle=se.y0,delete se.y0,se.endAngle=se.y1,delete se.y1,se},f.svg.chord=function(){var se=kr,me=pi,Ie=Gu,je=Bl,qe=Qa;function Xe(yt,zt){var $t,Yt,cn=rt(this,se,yt,zt),Mn=rt(this,me,yt,zt);return"M"+cn.p0+at(cn.r,cn.p1,cn.a1-cn.a0)+(($t=cn).a0==(Yt=Mn).a0&&$t.a1==Yt.a1?pt(0,0,0,cn.p0):pt(0,0,0,Mn.p0)+at(Mn.r,Mn.p1,Mn.a1-Mn.a0)+pt(0,0,0,cn.p0))+"Z"}function rt(yt,zt,$t,Yt){var cn=zt.call(yt,$t,Yt),Mn=Ie.call(yt,cn,Yt),an=je.call(yt,cn,Yt)-Gt,hn=qe.call(yt,cn,Yt)-Gt;return{r:Mn,a0:an,a1:hn,p0:[Mn*Math.cos(an),Mn*Math.sin(an)],p1:[Mn*Math.cos(hn),Mn*Math.sin(hn)]}}function at(yt,zt,$t){return"A"+yt+","+yt+" 0 "+ +($t>Ut)+",1 "+zt}function pt(yt,zt,$t,Yt){return"Q 0,0 "+Yt}return Xe.radius=function(yt){return arguments.length?(Ie=Gn(yt),Xe):Ie},Xe.source=function(yt){return arguments.length?(se=Gn(yt),Xe):se},Xe.target=function(yt){return arguments.length?(me=Gn(yt),Xe):me},Xe.startAngle=function(yt){return arguments.length?(je=Gn(yt),Xe):je},Xe.endAngle=function(yt){return arguments.length?(qe=Gn(yt),Xe):qe},Xe},f.svg.diagonal=function(){var se=kr,me=pi,Ie=Ul;function je(qe,Xe){var rt=se.call(this,qe,Xe),at=me.call(this,qe,Xe),pt=(rt.y+at.y)/2,yt=[rt,{x:rt.x,y:pt},{x:at.x,y:pt},at];return"M"+(yt=yt.map(Ie))[0]+"C"+yt[1]+" "+yt[2]+" "+yt[3]}return je.source=function(qe){return arguments.length?(se=Gn(qe),je):se},je.target=function(qe){return arguments.length?(me=Gn(qe),je):me},je.projection=function(qe){return arguments.length?(Ie=qe,je):Ie},je},f.svg.diagonal.radial=function(){var se=f.svg.diagonal(),me=Ul,Ie=se.projection;return se.projection=function(je){return arguments.length?Ie(cl(me=je)):me},se},f.svg.symbol=function(){var se=qu,me=Ba;function Ie(je,qe){return(Du.get(se.call(this,je,qe))||rs)(me.call(this,je,qe))}return Ie.type=function(je){return arguments.length?(se=Gn(je),Ie):se},Ie.size=function(je){return arguments.length?(me=Gn(je),Ie):me},Ie};var Du=f.map({circle:rs,cross:function(se){var me=Math.sqrt(se/5)/2;return"M"+-3*me+","+-me+"H"+-me+"V"+-3*me+"H"+me+"V"+-me+"H"+3*me+"V"+me+"H"+me+"V"+3*me+"H"+-me+"V"+me+"H"+-3*me+"Z"},diamond:function(se){var me=Math.sqrt(se/(2*hi)),Ie=me*hi;return"M0,"+-me+"L"+Ie+",0 0,"+me+" "+-Ie+",0Z"},square:function(se){var me=Math.sqrt(se)/2;return"M"+-me+","+-me+"L"+me+","+-me+" "+me+","+me+" "+-me+","+me+"Z"},"triangle-down":function(se){var me=Math.sqrt(se/Or),Ie=me*Or/2;return"M0,"+Ie+"L"+me+","+-Ie+" "+-me+","+-Ie+"Z"},"triangle-up":function(se){var me=Math.sqrt(se/Or),Ie=me*Or/2;return"M0,"+-Ie+"L"+me+","+Ie+" "+-me+","+Ie+"Z"}});f.svg.symbolTypes=Du.keys();var Or=Math.sqrt(3),hi=Math.tan(30*et);ge.transition=function(se){for(var me,Ie,je=lt||++Ot,qe=ee(se),Xe=[],rt=gt||{time:Date.now(),ease:Rl,delay:0,duration:250},at=-1,pt=this.length;++at<pt;){Xe.push(me=[]);for(var yt=this[at],zt=-1,$t=yt.length;++zt<$t;)(Ie=yt[zt])&&J(Ie,zt,qe,je,rt),me.push(Ie)}return it(Xe,qe,je)},ge.interrupt=function(se){return this.each(null==se?gi:Wi(ee(se)))};var gi=Wi(ee());function Wi(se){return function(){var me,Ie,je;(me=this[se])&&(je=me[Ie=me.active])&&(je.timer.c=null,je.timer.t=NaN,--me.count?delete me[Ie]:delete this[se],me.active+=.5,je.event&&je.event.interrupt.call(this,this.__data__,je.index))}}function it(se,me,Ie){return te(se,wt),se.namespace=me,se.id=Ie,se}var lt,gt,wt=[],Ot=0;function Et(se,me,Ie,je){var qe=se.id,Xe=se.namespace;return Ve(se,"function"==typeof Ie?function(rt,at,pt){rt[Xe][qe].tween.set(me,je(Ie.call(rt,rt.__data__,at,pt)))}:(Ie=je(Ie),function(rt){rt[Xe][qe].tween.set(me,Ie)}))}function U(se){return null==se&&(se=""),function(){this.textContent=se}}function ee(se){return null==se?"__transition__":"__transition_"+se+"__"}function J(se,me,Ie,je,qe){var Xe,rt,at,pt,yt,zt=se[Ie]||(se[Ie]={active:0,count:0}),$t=zt[je];function Yt(Mn){var an=zt.active,hn=zt[an];for(var sn in hn&&(hn.timer.c=null,hn.timer.t=NaN,--zt.count,delete zt[an],hn.event&&hn.event.interrupt.call(se,se.__data__,hn.index)),zt)if(+sn<je){var Ln=zt[sn];Ln.timer.c=null,Ln.timer.t=NaN,--zt.count,delete zt[sn]}rt.c=cn,on(function(){return rt.c&&cn(Mn||1)&&(rt.c=null,rt.t=NaN),1},0,Xe),zt.active=je,$t.event&&$t.event.start.call(se,se.__data__,me),yt=[],$t.tween.forEach(function(Dn,dn){(dn=dn.call(se,se.__data__,me))&&yt.push(dn)}),pt=$t.ease,at=$t.duration}function cn(Mn){for(var an=Mn/at,hn=pt(an),sn=yt.length;sn>0;)yt[--sn].call(se,hn);if(an>=1)return $t.event&&$t.event.end.call(se,se.__data__,me),--zt.count?delete zt[je]:delete se[Ie],1}$t||(rt=on(function(Mn){var an=$t.delay;if(rt.t=an+Xe,an<=Mn)return Yt(Mn-an);rt.c=Yt},0,Xe=qe.time),$t=zt[je]={tween:new k,time:Xe,timer:rt,delay:qe.delay,duration:qe.duration,ease:qe.ease,index:me},qe=null,++zt.count)}wt.call=ge.call,wt.empty=ge.empty,wt.node=ge.node,wt.size=ge.size,f.transition=function(se,me){return se&&se.transition?lt?se.transition(me):se:f.selection().transition(se)},f.transition.prototype=wt,wt.select=function(se){var me,Ie,je,qe=this.id,Xe=this.namespace,rt=[];se=xe(se);for(var at=-1,pt=this.length;++at<pt;){rt.push(me=[]);for(var yt=this[at],zt=-1,$t=yt.length;++zt<$t;)(je=yt[zt])&&(Ie=se.call(je,je.__data__,zt,at))?("__data__"in je&&(Ie.__data__=je.__data__),J(Ie,zt,Xe,qe,je[Xe][qe]),me.push(Ie)):me.push(null)}return it(rt,Xe,qe)},wt.selectAll=function(se){var me,Ie,je,qe,Xe,rt=this.id,at=this.namespace,pt=[];se=ke(se);for(var yt=-1,zt=this.length;++yt<zt;)for(var $t=this[yt],Yt=-1,cn=$t.length;++Yt<cn;)if(je=$t[Yt]){Xe=je[at][rt],Ie=se.call(je,je.__data__,Yt,yt),pt.push(me=[]);for(var Mn=-1,an=Ie.length;++Mn<an;)(qe=Ie[Mn])&&J(qe,Mn,at,rt,Xe),me.push(qe)}return it(pt,at,rt)},wt.filter=function(se){var me,Ie,je=[];"function"!=typeof se&&(se=Ue(se));for(var qe=0,Xe=this.length;qe<Xe;qe++){je.push(me=[]);for(var rt,at=0,pt=(rt=this[qe]).length;at<pt;at++)(Ie=rt[at])&&se.call(Ie,Ie.__data__,at,qe)&&me.push(Ie)}return it(je,this.namespace,this.id)},wt.tween=function(se,me){var Ie=this.id,je=this.namespace;return arguments.length<2?this.node()[je][Ie].tween.get(se):Ve(this,null==me?function(qe){qe[je][Ie].tween.remove(se)}:function(qe){qe[je][Ie].tween.set(se,me)})},wt.attr=function(se,me){if(arguments.length<2){for(me in se)this.attr(me,se[me]);return this}var Ie="transform"==se?oc:va,je=f.ns.qualify(se);function qe(){this.removeAttribute(je)}function Xe(){this.removeAttributeNS(je.space,je.local)}function rt(pt){return null==pt?qe:(pt+="",function(){var yt,zt=this.getAttribute(je);return zt!==pt&&(yt=Ie(zt,pt),function($t){this.setAttribute(je,yt($t))})})}function at(pt){return null==pt?Xe:(pt+="",function(){var yt,zt=this.getAttributeNS(je.space,je.local);return zt!==pt&&(yt=Ie(zt,pt),function($t){this.setAttributeNS(je.space,je.local,yt($t))})})}return Et(this,"attr."+se,me,je.local?at:rt)},wt.attrTween=function(se,me){var Ie=f.ns.qualify(se);return this.tween("attr."+se,Ie.local?function(je,qe){var Xe=me.call(this,je,qe,this.getAttributeNS(Ie.space,Ie.local));return Xe&&function(rt){this.setAttributeNS(Ie.space,Ie.local,Xe(rt))}}:function(je,qe){var Xe=me.call(this,je,qe,this.getAttribute(Ie));return Xe&&function(rt){this.setAttribute(Ie,Xe(rt))}})},wt.style=function(se,me,Ie){var je=arguments.length;if(je<3){if("string"!=typeof se){for(Ie in je<2&&(me=""),se)this.style(Ie,se[Ie],me);return this}Ie=""}function qe(){this.style.removeProperty(se)}function Xe(rt){return null==rt?qe:(rt+="",function(){var at,pt=i(this).getComputedStyle(this,null).getPropertyValue(se);return pt!==rt&&(at=va(pt,rt),function(yt){this.style.setProperty(se,at(yt),Ie)})})}return Et(this,"style."+se,me,Xe)},wt.styleTween=function(se,me,Ie){function je(qe,Xe){var rt=me.call(this,qe,Xe,i(this).getComputedStyle(this,null).getPropertyValue(se));return rt&&function(at){this.style.setProperty(se,rt(at),Ie)}}return arguments.length<3&&(Ie=""),this.tween("style."+se,je)},wt.text=function(se){return Et(this,"text",se,U)},wt.remove=function(){var se=this.namespace;return this.each("end.transition",function(){var me;this[se].count<2&&(me=this.parentNode)&&me.removeChild(this)})},wt.ease=function(se){var me=this.id,Ie=this.namespace;return arguments.length<1?this.node()[Ie][me].ease:("function"!=typeof se&&(se=f.ease.apply(f,arguments)),Ve(this,function(je){je[Ie][me].ease=se}))},wt.delay=function(se){var me=this.id,Ie=this.namespace;return arguments.length<1?this.node()[Ie][me].delay:Ve(this,"function"==typeof se?function(je,qe,Xe){je[Ie][me].delay=+se.call(je,je.__data__,qe,Xe)}:(se=+se,function(je){je[Ie][me].delay=se}))},wt.duration=function(se){var me=this.id,Ie=this.namespace;return arguments.length<1?this.node()[Ie][me].duration:Ve(this,"function"==typeof se?function(je,qe,Xe){je[Ie][me].duration=Math.max(1,se.call(je,je.__data__,qe,Xe))}:(se=Math.max(1,se),function(je){je[Ie][me].duration=se}))},wt.each=function(se,me){var Ie=this.id,je=this.namespace;if(arguments.length<2){var qe=gt,Xe=lt;try{lt=Ie,Ve(this,function(rt,at,pt){gt=rt[je][Ie],se.call(rt,rt.__data__,at,pt)})}finally{gt=qe,lt=Xe}}else Ve(this,function(rt){var at=rt[je][Ie];(at.event||(at.event=f.dispatch("start","end","interrupt"))).on(se,me)});return this},wt.transition=function(){for(var se,me,Ie,je=this.id,qe=++Ot,Xe=this.namespace,rt=[],at=0,pt=this.length;at<pt;at++){rt.push(se=[]);for(var yt,zt=0,$t=(yt=this[at]).length;zt<$t;zt++)(me=yt[zt])&&J(me,zt,Xe,qe,{time:(Ie=me[Xe][je]).time,ease:Ie.ease,delay:Ie.delay+Ie.duration,duration:Ie.duration}),se.push(me)}return it(rt,Xe,qe)},f.svg.axis=function(){var se,me=f.scale.linear(),Ie=ae,je=6,qe=6,Xe=3,rt=[10],at=null;function pt(yt){yt.each(function(){var zt,$t=f.select(this),Yt=this.__chart__||me,cn=this.__chart__=me.copy(),Mn=at??(cn.ticks?cn.ticks.apply(cn,rt):cn.domain()),an=se??(cn.tickFormat?cn.tickFormat.apply(cn,rt):W),hn=$t.selectAll(".tick").data(Mn,cn),sn=hn.enter().insert("g",".domain").attr("class","tick").style("opacity",Bt),Ln=f.transition(hn.exit()).style("opacity",Bt).remove(),Dn=f.transition(hn.order()).style("opacity",1),dn=Math.max(je,0)+Xe,Xn=Ds(cn),rr=$t.selectAll(".domain").data([0]),vr=(rr.enter().append("path").attr("class","domain"),f.transition(rr));sn.append("line"),sn.append("text");var dr,Lr,jr,Er,Fr=sn.select("line"),Kr=Dn.select("line"),Ti=hn.select("text").text(an),ki=sn.select("text"),Rr=Dn.select("text"),ei="top"===Ie||"left"===Ie?-1:1;if("bottom"===Ie||"top"===Ie?(zt=ze,dr="x",jr="y",Lr="x2",Er="y2",Ti.attr("dy",ei<0?"0em":".71em").style("text-anchor","middle"),vr.attr("d","M"+Xn[0]+","+ei*qe+"V0H"+Xn[1]+"V"+ei*qe)):(zt=Ze,dr="y",jr="x",Lr="y2",Er="x2",Ti.attr("dy",".32em").style("text-anchor",ei<0?"end":"start"),vr.attr("d","M"+ei*qe+","+Xn[0]+"H0V"+Xn[1]+"H"+ei*qe)),Fr.attr(Er,ei*je),ki.attr(jr,ei*dn),Kr.attr(Lr,0).attr(Er,ei*je),Rr.attr(dr,0).attr(jr,ei*dn),cn.rangeBand){var vi=cn,xi=vi.rangeBand()/2;Yt=cn=function(Ji){return vi(Ji)+xi}}else Yt.rangeBand?Yt=cn:Ln.call(zt,cn,Yt);sn.call(zt,Yt,cn),Dn.call(zt,cn,cn)})}return pt.scale=function(yt){return arguments.length?(me=yt,pt):me},pt.orient=function(yt){return arguments.length?(Ie=yt in we?yt+"":ae,pt):Ie},pt.ticks=function(){return arguments.length?(rt=M(arguments),pt):rt},pt.tickValues=function(yt){return arguments.length?(at=yt,pt):at},pt.tickFormat=function(yt){return arguments.length?(se=yt,pt):se},pt.tickSize=function(yt){var zt=arguments.length;return zt?(je=+yt,qe=+arguments[zt-1],pt):je},pt.innerTickSize=function(yt){return arguments.length?(je=+yt,pt):je},pt.outerTickSize=function(yt){return arguments.length?(qe=+yt,pt):qe},pt.tickPadding=function(yt){return arguments.length?(Xe=+yt,pt):Xe},pt.tickSubdivide=function(){return arguments.length&&pt},pt};var ae="bottom",we={top:1,right:1,bottom:1,left:1};function ze(se,me,Ie){se.attr("transform",function(je){var qe=me(je);return"translate("+(isFinite(qe)?qe:Ie(je))+",0)"})}function Ze(se,me,Ie){se.attr("transform",function(je){var qe=me(je);return"translate(0,"+(isFinite(qe)?qe:Ie(je))+")"})}f.svg.brush=function(){var se,me,Ie=$(zt,"brushstart","brush","brushend"),je=null,qe=null,Xe=[0,0],rt=[0,0],at=!0,pt=!0,yt=ct[0];function zt(an){an.each(function(){var hn=f.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",Mn).on("touchstart.brush",Mn),sn=hn.selectAll(".background").data([0]);sn.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),hn.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var Ln=hn.selectAll(".resize").data(yt,W);Ln.exit().remove(),Ln.enter().append("g").attr("class",function(rr){return"resize "+rr}).style("cursor",function(rr){return Qe[rr]}).append("rect").attr("x",function(rr){return/[ew]$/.test(rr)?-3:null}).attr("y",function(rr){return/^[ns]/.test(rr)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),Ln.style("display",zt.empty()?"none":null);var Dn,dn=f.transition(hn),Xn=f.transition(sn);je&&(Dn=Ds(je),Xn.attr("x",Dn[0]).attr("width",Dn[1]-Dn[0]),Yt(dn)),qe&&(Dn=Ds(qe),Xn.attr("y",Dn[0]).attr("height",Dn[1]-Dn[0]),cn(dn)),$t(dn)})}function $t(an){an.selectAll(".resize").attr("transform",function(hn){return"translate("+Xe[+/e$/.test(hn)]+","+rt[+/^s/.test(hn)]+")"})}function Yt(an){an.select(".extent").attr("x",Xe[0]),an.selectAll(".extent,.n>rect,.s>rect").attr("width",Xe[1]-Xe[0])}function cn(an){an.select(".extent").attr("y",rt[0]),an.selectAll(".extent,.e>rect,.w>rect").attr("height",rt[1]-rt[0])}function Mn(){var an,hn,sn=this,Ln=f.select(f.event.target),Dn=Ie.of(sn,arguments),dn=f.select(sn),Xn=Ln.datum(),rr=!/^(n|s)$/.test(Xn)&&je,vr=!/^(e|w)$/.test(Xn)&&qe,dr=Ln.classed("extent"),Lr=At(sn),jr=f.mouse(sn),Er=f.select(i(sn)).on("keydown.brush",Ti).on("keyup.brush",ki);if(f.event.changedTouches?Er.on("touchmove.brush",Rr).on("touchend.brush",vi):Er.on("mousemove.brush",Rr).on("mouseup.brush",vi),dn.interrupt().selectAll("*").interrupt(),dr)jr[0]=Xe[0]-jr[0],jr[1]=rt[0]-jr[1];else if(Xn){var Fr=+/w$/.test(Xn),Kr=+/^n/.test(Xn);hn=[Xe[1-Fr]-jr[0],rt[1-Kr]-jr[1]],jr[0]=Xe[Fr],jr[1]=rt[Kr]}else f.event.altKey&&(an=jr.slice());function Ti(){32==f.event.keyCode&&(dr||(an=null,jr[0]-=Xe[1],jr[1]-=rt[1],dr=2),ne())}function ki(){32==f.event.keyCode&&2==dr&&(jr[0]+=Xe[1],jr[1]+=rt[1],dr=0,ne())}function Rr(){var xi=f.mouse(sn),Ji=!1;hn&&(xi[0]+=hn[0],xi[1]+=hn[1]),dr||(f.event.altKey?(an||(an=[(Xe[0]+Xe[1])/2,(rt[0]+rt[1])/2]),jr[0]=Xe[+(xi[0]<an[0])],jr[1]=rt[+(xi[1]<an[1])]):an=null),rr&&ei(xi,je,0)&&(Yt(dn),Ji=!0),vr&&ei(xi,qe,1)&&(cn(dn),Ji=!0),Ji&&($t(dn),Dn({type:"brush",mode:dr?"move":"resize"}))}function ei(xi,Ji,Vi){var oo,So,xo=Ds(Ji),bo=xo[0],mo=xo[1],ao=jr[Vi],wo=Vi?rt:Xe,Bo=wo[1]-wo[0];if(dr&&(bo-=ao,mo-=Bo+ao),oo=(Vi?pt:at)?Math.max(bo,Math.min(mo,xi[Vi])):xi[Vi],dr?So=(oo+=ao)+Bo:(an&&(ao=Math.max(bo,Math.min(mo,2*an[Vi]-oo))),ao<oo?(So=oo,oo=ao):So=ao),wo[0]!=oo||wo[1]!=So)return Vi?me=null:se=null,wo[0]=oo,wo[1]=So,!0}function vi(){Rr(),dn.style("pointer-events","all").selectAll(".resize").style("display",zt.empty()?"none":null),f.select("body").style("cursor",null),Er.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),Lr(),Dn({type:"brushend"})}dn.style("pointer-events","none").selectAll(".resize").style("display",null),f.select("body").style("cursor",Ln.style("cursor")),Dn({type:"brushstart"}),Rr()}return zt.event=function(an){an.each(function(){var hn=Ie.of(this,arguments),sn={x:Xe,y:rt,i:se,j:me},Ln=this.__chart__||sn;this.__chart__=sn,lt?f.select(this).transition().each("start.brush",function(){se=Ln.i,me=Ln.j,Xe=Ln.x,rt=Ln.y,hn({type:"brushstart"})}).tween("brush:brush",function(){var Dn=Ss(Xe,sn.x),dn=Ss(rt,sn.y);return se=me=null,function(Xn){Xe=sn.x=Dn(Xn),rt=sn.y=dn(Xn),hn({type:"brush",mode:"resize"})}}).each("end.brush",function(){se=sn.i,me=sn.j,hn({type:"brush",mode:"resize"}),hn({type:"brushend"})}):(hn({type:"brushstart"}),hn({type:"brush",mode:"resize"}),hn({type:"brushend"}))})},zt.x=function(an){return arguments.length?(yt=ct[!(je=an)<<1|!qe],zt):je},zt.y=function(an){return arguments.length?(yt=ct[!je<<1|!(qe=an)],zt):qe},zt.clamp=function(an){return arguments.length?(je&&qe?(at=!!an[0],pt=!!an[1]):je?at=!!an:qe&&(pt=!!an),zt):je&&qe?[at,pt]:je?at:qe?pt:null},zt.extent=function(an){var hn,sn,Ln,Dn,dn;return arguments.length?(je&&(hn=an[0],sn=an[1],qe&&(hn=hn[0],sn=sn[0]),se=[hn,sn],je.invert&&(hn=je(hn),sn=je(sn)),sn<hn&&(dn=hn,hn=sn,sn=dn),hn==Xe[0]&&sn==Xe[1]||(Xe=[hn,sn])),qe&&(Ln=an[0],Dn=an[1],je&&(Ln=Ln[1],Dn=Dn[1]),me=[Ln,Dn],qe.invert&&(Ln=qe(Ln),Dn=qe(Dn)),Dn<Ln&&(dn=Ln,Ln=Dn,Dn=dn),Ln==rt[0]&&Dn==rt[1]||(rt=[Ln,Dn])),zt):(je&&(se?(hn=se[0],sn=se[1]):(hn=Xe[0],sn=Xe[1],je.invert&&(hn=je.invert(hn),sn=je.invert(sn)),sn<hn&&(dn=hn,hn=sn,sn=dn))),qe&&(me?(Ln=me[0],Dn=me[1]):(Ln=rt[0],Dn=rt[1],qe.invert&&(Ln=qe.invert(Ln),Dn=qe.invert(Dn)),Dn<Ln&&(dn=Ln,Ln=Dn,Dn=dn))),je&&qe?[[hn,Ln],[sn,Dn]]:je?[hn,sn]:qe&&[Ln,Dn])},zt.clear=function(){return zt.empty()||(Xe=[0,0],rt=[0,0],se=me=null),zt},zt.empty=function(){return!!je&&Xe[0]==Xe[1]||!!qe&&rt[0]==rt[1]},f.rebind(zt,Ie,"on")};var Qe={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ct=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function St(se){return JSON.parse(se.responseText)}function Dt(se){var me=v.createRange();return me.selectNode(v.body),me.createContextualFragment(se.responseText)}f.text=_r(function(se){return se.responseText}),f.json=function(se,me){return mr(se,"application/json",St,me)},f.html=function(se,me){return mr(se,"text/html",Dt,me)},f.xml=_r(function(se){return se.responseXML}),this.d3=f,void 0===(E="function"==typeof(C=f)?C.call(z,r,z,ie):C)||(ie.exports=E)}).apply(self)},88294:function(ie,z,r){"use strict";ie.exports=r(62849)},62849:function(ie,z,r){"use strict";var C=r(91358),E=r(53435),f=r(18863),S=r(21527),M=r(71299),v=r(46775),c=r(30120),i=r(64941),u=r(90660),a=r(27084);function o(l,s){for(var d=s[0],g=s[1],p=1/(s[2]-d),T=1/(s[3]-g),_=new Array(l.length),y=0,w=l.length/2;y<w;y++)_[2*y]=E((l[2*y]-d)*p,0,1),_[2*y+1]=E((l[2*y+1]-g)*T,0,1);return _}ie.exports=function(l,s){s||(s={}),l=c(l,"float64"),s=M(s,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var d=v(s.maxDepth,255),g=v(s.bounds,S(l,2));g[0]===g[2]&&g[2]++,g[1]===g[3]&&g[3]++;var p,T=o(l,g),_=l.length>>>1;s.dtype||(s.dtype="array"),"string"==typeof s.dtype?p=new(u(s.dtype))(_):s.dtype&&(p=s.dtype,Array.isArray(p)&&(p.length=_));for(var y=0;y<_;++y)p[y]=y;var w=[],m=[],b=[],k=[];!function W(j,Z,V,q,G,H){if(!q.length)return null;var ne=w[G]||(w[G]=[]),X=b[G]||(b[G]=[]),$=m[G]||(m[G]=[]),Q=ne.length;if(++G>d||H>1073741824){for(var te=0;te<q.length;te++)ne.push(q[te]),X.push(H),$.push(null,null,null,null);return Q}if(ne.push(q[0]),X.push(H),q.length<=1)return $.push(null,null,null,null),Q;for(var re=.5*V,le=j+re,ue=Z+re,he=[],ge=[],xe=[],ke=[],Ae=1,pe=q.length;Ae<pe;Ae++){var ye=q[Ae],be=T[2*ye+1];T[2*ye]<le?be<ue?he.push(ye):ge.push(ye):be<ue?xe.push(ye):ke.push(ye)}return $.push(W(j,Z,re,he,G,H<<=2),W(j,ue,re,ge,G,H+1),W(le,Z,re,xe,G,H+2),W(le,ue,re,ke,G,H+3)),Q}(0,0,1,p,0,1);for(var h=0,O=0;O<w.length;O++){var A=w[O];if(p.set)p.set(A,h);else for(var I=0,P=A.length;I<P;I++)p[I+h]=A[I];var L=h+w[O].length;k[O]=[h,L],h=L}return p.range=function(){for(var W,j=[],Z=arguments.length;Z--;)j[Z]=arguments[Z];if(i(j[j.length-1])){var V=j.pop();j.length||null==V.x&&null==V.l&&null==V.left||(j=[V],W={}),W=M(V,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else W={};j.length||(j=g);var q,G=f.apply(void 0,j),H=[Math.min(G.x,G.x+G.width),Math.min(G.y,G.y+G.height),Math.max(G.x,G.x+G.width),Math.max(G.y,G.y+G.height)],ne=H[0],X=H[1],$=H[2],Q=H[3],te=o([ne,X,$,Q],g),re=te[0],le=te[1],ue=te[2],he=te[3],ge=v(W.level,w.length);if(null!=W.d&&("number"==typeof W.d?q=[W.d,W.d]:W.d.length&&(q=W.d),ge=Math.min(Math.max(Math.ceil(-a(Math.abs(q[0])/(g[2]-g[0]))),Math.ceil(-a(Math.abs(q[1])/(g[3]-g[1])))),ge)),ge=Math.min(ge,w.length),W.lod)return N(re,le,ue,he,ge);var xe=[];function ke(pe,ye,Ne,be,Ee,Oe){if(null!==Ee&&null!==Oe&&!(re>pe+Ne||le>ye+Ne||ue<pe||he<ye||be>=ge||Ee===Oe)){var De=w[be];void 0===Oe&&(Oe=De.length);for(var oe=Ee;oe<Oe;oe++){var de=De[oe],_e=l[2*de],Me=l[2*de+1];_e>=ne&&_e<=$&&Me>=X&&Me<=Q&&xe.push(de)}var Pe=m[be],Ue=Pe[4*Ee+0],Be=Pe[4*Ee+1],Ve=Pe[4*Ee+2],ve=Pe[4*Ee+3],Te=Ae(Pe,Ee+1),Ce=.5*Ne,We=be+1;ke(pe,ye,Ce,We,Ue,Be||Ve||ve||Te),ke(pe,ye+Ce,Ce,We,Be,Ve||ve||Te),ke(pe+Ce,ye,Ce,We,Ve,ve||Te),ke(pe+Ce,ye+Ce,Ce,We,ve,Te)}}function Ae(pe,ye){for(var Ne=null,be=0;null===Ne;)if(Ne=pe[4*ye+be],++be>pe.length)return null;return Ne}return ke(0,0,1,0,0,1),xe},p;function N(W,j,Z,V,q){for(var G=[],H=0;H<q;H++){var ne=b[H],X=k[H][0],$=B(W,j,H),Q=B(Z,V,H),te=C.ge(ne,$),re=C.gt(ne,Q,te,ne.length-1);G[H]=[te+X,re+X]}return G}function B(W,j,Z){for(var V=1,q=.5,G=.5,H=.5,ne=0;ne<Z;ne++)V<<=2,V+=W<q?j<G?0:1:j<G?2:3,H*=.5,q+=W<q?-H:H,G+=j<G?-H:H;return V}}},30774:function(ie,z,r){"use strict";Object.defineProperty(z,"__esModule",{value:!0});var C=r(60302),E=6378137;function f(v){var c=0;if(v&&v.length>0){c+=Math.abs(S(v[0]));for(var i=1;i<v.length;i++)c-=Math.abs(S(v[i]))}return c}function S(v){var c,i,u,a,o,l,s=0,d=v.length;if(d>2){for(l=0;l<d;l++)l===d-2?(u=d-2,a=d-1,o=0):l===d-1?(u=d-1,a=0,o=1):(u=l,a=l+1,o=l+2),c=v[u],i=v[a],s+=(M(v[o][0])-M(c[0]))*Math.sin(M(i[1]));s=s*E*E/2}return s}function M(v){return v*Math.PI/180}z.default=function(v){return C.geomReduce(v,function(c,i){return c+function(u){var a,o=0;switch(u.type){case"Polygon":return f(u.coordinates);case"MultiPolygon":for(a=0;a<u.coordinates.length;a++)o+=f(u.coordinates[a]);return o;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(i)},0)}},23132:function(ie,z){"use strict";function r(l,s,d){void 0===d&&(d={});var g={type:"Feature"};return(0===d.id||d.id)&&(g.id=d.id),d.bbox&&(g.bbox=d.bbox),g.properties=s||{},g.geometry=l,g}function C(l,s,d){if(void 0===d&&(d={}),!l)throw new Error("coordinates is required");if(!Array.isArray(l))throw new Error("coordinates must be an Array");if(l.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!o(l[0])||!o(l[1]))throw new Error("coordinates must contain numbers");return r({type:"Point",coordinates:l},s,d)}function E(l,s,d){void 0===d&&(d={});for(var g=0,p=l;g<p.length;g++){var T=p[g];if(T.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var _=0;_<T[T.length-1].length;_++)if(T[T.length-1][_]!==T[0][_])throw new Error("First and last Position are not equivalent.")}return r({type:"Polygon",coordinates:l},s,d)}function f(l,s,d){if(void 0===d&&(d={}),l.length<2)throw new Error("coordinates must be an array of two or more positions");return r({type:"LineString",coordinates:l},s,d)}function S(l,s){void 0===s&&(s={});var d={type:"FeatureCollection"};return s.id&&(d.id=s.id),s.bbox&&(d.bbox=s.bbox),d.features=l,d}function M(l,s,d){return void 0===d&&(d={}),r({type:"MultiLineString",coordinates:l},s,d)}function v(l,s,d){return void 0===d&&(d={}),r({type:"MultiPoint",coordinates:l},s,d)}function c(l,s,d){return void 0===d&&(d={}),r({type:"MultiPolygon",coordinates:l},s,d)}function i(l,s){void 0===s&&(s="kilometers");var d=z.factors[s];if(!d)throw new Error(s+" units is invalid");return l*d}function u(l,s){void 0===s&&(s="kilometers");var d=z.factors[s];if(!d)throw new Error(s+" units is invalid");return l/d}function a(l){return l%(2*Math.PI)*180/Math.PI}function o(l){return!isNaN(l)&&null!==l&&!Array.isArray(l)}Object.defineProperty(z,"__esModule",{value:!0}),z.earthRadius=6371008.8,z.factors={centimeters:100*z.earthRadius,centimetres:100*z.earthRadius,degrees:z.earthRadius/111325,feet:3.28084*z.earthRadius,inches:39.37*z.earthRadius,kilometers:z.earthRadius/1e3,kilometres:z.earthRadius/1e3,meters:z.earthRadius,metres:z.earthRadius,miles:z.earthRadius/1609.344,millimeters:1e3*z.earthRadius,millimetres:1e3*z.earthRadius,nauticalmiles:z.earthRadius/1852,radians:1,yards:1.0936*z.earthRadius},z.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/z.earthRadius,yards:1.0936133},z.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},z.feature=r,z.geometry=function(l,s,d){switch(void 0===d&&(d={}),l){case"Point":return C(s).geometry;case"LineString":return f(s).geometry;case"Polygon":return E(s).geometry;case"MultiPoint":return v(s).geometry;case"MultiLineString":return M(s).geometry;case"MultiPolygon":return c(s).geometry;default:throw new Error(l+" is invalid")}},z.point=C,z.points=function(l,s,d){return void 0===d&&(d={}),S(l.map(function(g){return C(g,s)}),d)},z.polygon=E,z.polygons=function(l,s,d){return void 0===d&&(d={}),S(l.map(function(g){return E(g,s)}),d)},z.lineString=f,z.lineStrings=function(l,s,d){return void 0===d&&(d={}),S(l.map(function(g){return f(g,s)}),d)},z.featureCollection=S,z.multiLineString=M,z.multiPoint=v,z.multiPolygon=c,z.geometryCollection=function(l,s,d){return void 0===d&&(d={}),r({type:"GeometryCollection",geometries:l},s,d)},z.round=function(l,s){if(void 0===s&&(s=0),s&&!(s>=0))throw new Error("precision must be a positive number");var d=Math.pow(10,s||0);return Math.round(l*d)/d},z.radiansToLength=i,z.lengthToRadians=u,z.lengthToDegrees=function(l,s){return a(u(l,s))},z.bearingToAzimuth=function(l){var s=l%360;return s<0&&(s+=360),s},z.radiansToDegrees=a,z.degreesToRadians=function(l){return l%360*Math.PI/180},z.convertLength=function(l,s,d){if(void 0===s&&(s="kilometers"),void 0===d&&(d="kilometers"),!(l>=0))throw new Error("length must be a positive number");return i(u(l,s),d)},z.convertArea=function(l,s,d){if(void 0===s&&(s="meters"),void 0===d&&(d="kilometers"),!(l>=0))throw new Error("area must be a positive number");var g=z.areaFactors[s];if(!g)throw new Error("invalid original units");var p=z.areaFactors[d];if(!p)throw new Error("invalid final units");return l/g*p},z.isNumber=o,z.isObject=function(l){return!!l&&l.constructor===Object},z.validateBBox=function(l){if(!l)throw new Error("bbox is required");if(!Array.isArray(l))throw new Error("bbox must be an Array");if(4!==l.length&&6!==l.length)throw new Error("bbox must be an Array of 4 or 6 numbers");l.forEach(function(s){if(!o(s))throw new Error("bbox must only contain numbers")})},z.validateId=function(l){if(!l)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof l))throw new Error("id must be a number or a string")}},60302:function(ie,z,r){"use strict";Object.defineProperty(z,"__esModule",{value:!0});var C=r(23132);function E(u,a,o){if(null!==u)for(var l,s,d,g,p,T,_,y,w=0,m=0,b=u.type,k="FeatureCollection"===b,h="Feature"===b,O=k?u.features.length:1,A=0;A<O;A++){p=(y=!!(_=k?u.features[A].geometry:h?u.geometry:u)&&"GeometryCollection"===_.type)?_.geometries.length:1;for(var I=0;I<p;I++){var P=0,L=0;if(null!==(g=y?_.geometries[I]:_)){T=g.coordinates;var N=g.type;switch(w=!o||"Polygon"!==N&&"MultiPolygon"!==N?0:1,N){case null:break;case"Point":if(!1===a(T,m,A,P,L))return!1;m++,P++;break;case"LineString":case"MultiPoint":for(l=0;l<T.length;l++){if(!1===a(T[l],m,A,P,L))return!1;m++,"MultiPoint"===N&&P++}"LineString"===N&&P++;break;case"Polygon":case"MultiLineString":for(l=0;l<T.length;l++){for(s=0;s<T[l].length-w;s++){if(!1===a(T[l][s],m,A,P,L))return!1;m++}"MultiLineString"===N&&P++,"Polygon"===N&&L++}"Polygon"===N&&P++;break;case"MultiPolygon":for(l=0;l<T.length;l++){for(L=0,s=0;s<T[l].length;s++){for(d=0;d<T[l][s].length-w;d++){if(!1===a(T[l][s][d],m,A,P,L))return!1;m++}L++}P++}break;case"GeometryCollection":for(l=0;l<g.geometries.length;l++)if(!1===E(g.geometries[l],a,o))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function f(u,a){var o;switch(u.type){case"FeatureCollection":for(o=0;o<u.features.length&&!1!==a(u.features[o].properties,o);o++);break;case"Feature":a(u.properties,0)}}function S(u,a){if("Feature"===u.type)a(u,0);else if("FeatureCollection"===u.type)for(var o=0;o<u.features.length&&!1!==a(u.features[o],o);o++);}function M(u,a){var o,l,s,d,g,p,T,_,y,w,m=0,b="FeatureCollection"===u.type,k="Feature"===u.type,h=b?u.features.length:1;for(o=0;o<h;o++){for(_=b?u.features[o].properties:k?u.properties:{},y=b?u.features[o].bbox:k?u.bbox:void 0,w=b?u.features[o].id:k?u.id:void 0,g=(T=!!(p=b?u.features[o].geometry:k?u.geometry:u)&&"GeometryCollection"===p.type)?p.geometries.length:1,s=0;s<g;s++)if(null!==(d=T?p.geometries[s]:p))switch(d.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===a(d,m,_,y,w))return!1;break;case"GeometryCollection":for(l=0;l<d.geometries.length;l++)if(!1===a(d.geometries[l],m,_,y,w))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===a(null,m,_,y,w))return!1;m++}}function v(u,a){M(u,function(o,l,s,d,g){var p,T=null===o?null:o.type;switch(T){case null:case"Point":case"LineString":case"Polygon":return!1!==a(C.feature(o,s,{bbox:d,id:g}),l,0)&&void 0}switch(T){case"MultiPoint":p="Point";break;case"MultiLineString":p="LineString";break;case"MultiPolygon":p="Polygon"}for(var _=0;_<o.coordinates.length;_++)if(!1===a(C.feature({type:p,coordinates:o.coordinates[_]},s),l,_))return!1})}function c(u,a){v(u,function(o,l,s){var d=0;if(o.geometry){var g=o.geometry.type;if("Point"!==g&&"MultiPoint"!==g){var p,T=0,_=0,y=0;return!1!==E(o,function(w,m,b,k,h){if(void 0===p||l>T||k>_||h>y)return p=w,T=l,_=k,y=h,void(d=0);var O=C.lineString([p,w],o.properties);if(!1===a(O,l,s,h,d))return!1;d++,p=w})&&void 0}}})}function i(u,a){if(!u)throw new Error("geojson is required");v(u,function(o,l,s){if(null!==o.geometry){var g=o.geometry.coordinates;switch(o.geometry.type){case"LineString":if(!1===a(o,l,s,0,0))return!1;break;case"Polygon":for(var p=0;p<g.length;p++)if(!1===a(C.lineString(g[p],o.properties),l,s,p))return!1}}})}z.coordEach=E,z.coordReduce=function(u,a,o,l){var s=o;return E(u,function(d,g,p,T,_){s=0===g&&void 0===o?d:a(s,d,g,p,T,_)},l),s},z.propEach=f,z.propReduce=function(u,a,o){var l=o;return f(u,function(s,d){l=0===d&&void 0===o?s:a(l,s,d)}),l},z.featureEach=S,z.featureReduce=function(u,a,o){var l=o;return S(u,function(s,d){l=0===d&&void 0===o?s:a(l,s,d)}),l},z.coordAll=function(u){var a=[];return E(u,function(o){a.push(o)}),a},z.geomEach=M,z.geomReduce=function(u,a,o){var l=o;return M(u,function(s,d,g,p,T){l=0===d&&void 0===o?s:a(l,s,d,g,p,T)}),l},z.flattenEach=v,z.flattenReduce=function(u,a,o){var l=o;return v(u,function(s,d,g){l=0===d&&0===g&&void 0===o?s:a(l,s,d,g)}),l},z.segmentEach=c,z.segmentReduce=function(u,a,o){var l=o,s=!1;return c(u,function(d,g,p,T,_){l=!1===s&&void 0===o?d:a(l,d,g,p,T,_),s=!0}),l},z.lineEach=i,z.lineReduce=function(u,a,o){var l=o;return i(u,function(s,d,g,p){l=0===d&&void 0===o?s:a(l,s,d,g,p)}),l},z.findSegment=function(u,a){if(!C.isObject(a=a||{}))throw new Error("options is invalid");var o,l=a.featureIndex||0,s=a.multiFeatureIndex||0,d=a.geometryIndex||0,g=a.segmentIndex||0,p=a.properties;switch(u.type){case"FeatureCollection":l<0&&(l=u.features.length+l),p=p||u.features[l].properties,o=u.features[l].geometry;break;case"Feature":p=p||u.properties,o=u.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":o=u;break;default:throw new Error("geojson is invalid")}if(null===o)return null;var T=o.coordinates;switch(o.type){case"Point":case"MultiPoint":return null;case"LineString":return g<0&&(g=T.length+g-1),C.lineString([T[g],T[g+1]],p,a);case"Polygon":return d<0&&(d=T.length+d),g<0&&(g=T[d].length+g-1),C.lineString([T[d][g],T[d][g+1]],p,a);case"MultiLineString":return s<0&&(s=T.length+s),g<0&&(g=T[s].length+g-1),C.lineString([T[s][g],T[s][g+1]],p,a);case"MultiPolygon":return s<0&&(s=T.length+s),d<0&&(d=T[s].length+d),g<0&&(g=T[s][d].length-g-1),C.lineString([T[s][d][g],T[s][d][g+1]],p,a)}throw new Error("geojson is invalid")},z.findPoint=function(u,a){if(!C.isObject(a=a||{}))throw new Error("options is invalid");var o,l=a.featureIndex||0,s=a.multiFeatureIndex||0,d=a.geometryIndex||0,g=a.coordIndex||0,p=a.properties;switch(u.type){case"FeatureCollection":l<0&&(l=u.features.length+l),p=p||u.features[l].properties,o=u.features[l].geometry;break;case"Feature":p=p||u.properties,o=u.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":o=u;break;default:throw new Error("geojson is invalid")}if(null===o)return null;var T=o.coordinates;switch(o.type){case"Point":return C.point(T,p,a);case"MultiPoint":return s<0&&(s=T.length+s),C.point(T[s],p,a);case"LineString":return g<0&&(g=T.length+g),C.point(T[g],p,a);case"Polygon":return d<0&&(d=T.length+d),g<0&&(g=T[d].length+g),C.point(T[d][g],p,a);case"MultiLineString":return s<0&&(s=T.length+s),g<0&&(g=T[s].length+g),C.point(T[s][g],p,a);case"MultiPolygon":return s<0&&(s=T.length+s),d<0&&(d=T[s].length+d),g<0&&(g=T[s][d].length-g),C.point(T[s][d][g],p,a)}throw new Error("geojson is invalid")}},85268:function(ie,z,r){"use strict";Object.defineProperty(z,"__esModule",{value:!0});var C=r(27138);function E(f){var S=[1/0,1/0,-1/0,-1/0];return C.coordEach(f,function(M){S[0]>M[0]&&(S[0]=M[0]),S[1]>M[1]&&(S[1]=M[1]),S[2]<M[0]&&(S[2]=M[0]),S[3]<M[1]&&(S[3]=M[1])}),S}E.default=E,z.default=E},94228:function(ie,z){"use strict";function r(l,s,d){void 0===d&&(d={});var g={type:"Feature"};return(0===d.id||d.id)&&(g.id=d.id),d.bbox&&(g.bbox=d.bbox),g.properties=s||{},g.geometry=l,g}function C(l,s,d){if(void 0===d&&(d={}),!l)throw new Error("coordinates is required");if(!Array.isArray(l))throw new Error("coordinates must be an Array");if(l.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!o(l[0])||!o(l[1]))throw new Error("coordinates must contain numbers");return r({type:"Point",coordinates:l},s,d)}function E(l,s,d){void 0===d&&(d={});for(var g=0,p=l;g<p.length;g++){var T=p[g];if(T.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var _=0;_<T[T.length-1].length;_++)if(T[T.length-1][_]!==T[0][_])throw new Error("First and last Position are not equivalent.")}return r({type:"Polygon",coordinates:l},s,d)}function f(l,s,d){if(void 0===d&&(d={}),l.length<2)throw new Error("coordinates must be an array of two or more positions");return r({type:"LineString",coordinates:l},s,d)}function S(l,s){void 0===s&&(s={});var d={type:"FeatureCollection"};return s.id&&(d.id=s.id),s.bbox&&(d.bbox=s.bbox),d.features=l,d}function M(l,s,d){return void 0===d&&(d={}),r({type:"MultiLineString",coordinates:l},s,d)}function v(l,s,d){return void 0===d&&(d={}),r({type:"MultiPoint",coordinates:l},s,d)}function c(l,s,d){return void 0===d&&(d={}),r({type:"MultiPolygon",coordinates:l},s,d)}function i(l,s){void 0===s&&(s="kilometers");var d=z.factors[s];if(!d)throw new Error(s+" units is invalid");return l*d}function u(l,s){void 0===s&&(s="kilometers");var d=z.factors[s];if(!d)throw new Error(s+" units is invalid");return l/d}function a(l){return l%(2*Math.PI)*180/Math.PI}function o(l){return!isNaN(l)&&null!==l&&!Array.isArray(l)}Object.defineProperty(z,"__esModule",{value:!0}),z.earthRadius=6371008.8,z.factors={centimeters:100*z.earthRadius,centimetres:100*z.earthRadius,degrees:z.earthRadius/111325,feet:3.28084*z.earthRadius,inches:39.37*z.earthRadius,kilometers:z.earthRadius/1e3,kilometres:z.earthRadius/1e3,meters:z.earthRadius,metres:z.earthRadius,miles:z.earthRadius/1609.344,millimeters:1e3*z.earthRadius,millimetres:1e3*z.earthRadius,nauticalmiles:z.earthRadius/1852,radians:1,yards:1.0936*z.earthRadius},z.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/z.earthRadius,yards:1.0936133},z.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},z.feature=r,z.geometry=function(l,s,d){switch(void 0===d&&(d={}),l){case"Point":return C(s).geometry;case"LineString":return f(s).geometry;case"Polygon":return E(s).geometry;case"MultiPoint":return v(s).geometry;case"MultiLineString":return M(s).geometry;case"MultiPolygon":return c(s).geometry;default:throw new Error(l+" is invalid")}},z.point=C,z.points=function(l,s,d){return void 0===d&&(d={}),S(l.map(function(g){return C(g,s)}),d)},z.polygon=E,z.polygons=function(l,s,d){return void 0===d&&(d={}),S(l.map(function(g){return E(g,s)}),d)},z.lineString=f,z.lineStrings=function(l,s,d){return void 0===d&&(d={}),S(l.map(function(g){return f(g,s)}),d)},z.featureCollection=S,z.multiLineString=M,z.multiPoint=v,z.multiPolygon=c,z.geometryCollection=function(l,s,d){return void 0===d&&(d={}),r({type:"GeometryCollection",geometries:l},s,d)},z.round=function(l,s){if(void 0===s&&(s=0),s&&!(s>=0))throw new Error("precision must be a positive number");var d=Math.pow(10,s||0);return Math.round(l*d)/d},z.radiansToLength=i,z.lengthToRadians=u,z.lengthToDegrees=function(l,s){return a(u(l,s))},z.bearingToAzimuth=function(l){var s=l%360;return s<0&&(s+=360),s},z.radiansToDegrees=a,z.degreesToRadians=function(l){return l%360*Math.PI/180},z.convertLength=function(l,s,d){if(void 0===s&&(s="kilometers"),void 0===d&&(d="kilometers"),!(l>=0))throw new Error("length must be a positive number");return i(u(l,s),d)},z.convertArea=function(l,s,d){if(void 0===s&&(s="meters"),void 0===d&&(d="kilometers"),!(l>=0))throw new Error("area must be a positive number");var g=z.areaFactors[s];if(!g)throw new Error("invalid original units");var p=z.areaFactors[d];if(!p)throw new Error("invalid final units");return l/g*p},z.isNumber=o,z.isObject=function(l){return!!l&&l.constructor===Object},z.validateBBox=function(l){if(!l)throw new Error("bbox is required");if(!Array.isArray(l))throw new Error("bbox must be an Array");if(4!==l.length&&6!==l.length)throw new Error("bbox must be an Array of 4 or 6 numbers");l.forEach(function(s){if(!o(s))throw new Error("bbox must only contain numbers")})},z.validateId=function(l){if(!l)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof l))throw new Error("id must be a number or a string")}},27138:function(ie,z,r){"use strict";Object.defineProperty(z,"__esModule",{value:!0});var C=r(94228);function E(u,a,o){if(null!==u)for(var l,s,d,g,p,T,_,y,w=0,m=0,b=u.type,k="FeatureCollection"===b,h="Feature"===b,O=k?u.features.length:1,A=0;A<O;A++){p=(y=!!(_=k?u.features[A].geometry:h?u.geometry:u)&&"GeometryCollection"===_.type)?_.geometries.length:1;for(var I=0;I<p;I++){var P=0,L=0;if(null!==(g=y?_.geometries[I]:_)){T=g.coordinates;var N=g.type;switch(w=!o||"Polygon"!==N&&"MultiPolygon"!==N?0:1,N){case null:break;case"Point":if(!1===a(T,m,A,P,L))return!1;m++,P++;break;case"LineString":case"MultiPoint":for(l=0;l<T.length;l++){if(!1===a(T[l],m,A,P,L))return!1;m++,"MultiPoint"===N&&P++}"LineString"===N&&P++;break;case"Polygon":case"MultiLineString":for(l=0;l<T.length;l++){for(s=0;s<T[l].length-w;s++){if(!1===a(T[l][s],m,A,P,L))return!1;m++}"MultiLineString"===N&&P++,"Polygon"===N&&L++}"Polygon"===N&&P++;break;case"MultiPolygon":for(l=0;l<T.length;l++){for(L=0,s=0;s<T[l].length;s++){for(d=0;d<T[l][s].length-w;d++){if(!1===a(T[l][s][d],m,A,P,L))return!1;m++}L++}P++}break;case"GeometryCollection":for(l=0;l<g.geometries.length;l++)if(!1===E(g.geometries[l],a,o))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function f(u,a){var o;switch(u.type){case"FeatureCollection":for(o=0;o<u.features.length&&!1!==a(u.features[o].properties,o);o++);break;case"Feature":a(u.properties,0)}}function S(u,a){if("Feature"===u.type)a(u,0);else if("FeatureCollection"===u.type)for(var o=0;o<u.features.length&&!1!==a(u.features[o],o);o++);}function M(u,a){var o,l,s,d,g,p,T,_,y,w,m=0,b="FeatureCollection"===u.type,k="Feature"===u.type,h=b?u.features.length:1;for(o=0;o<h;o++){for(_=b?u.features[o].properties:k?u.properties:{},y=b?u.features[o].bbox:k?u.bbox:void 0,w=b?u.features[o].id:k?u.id:void 0,g=(T=!!(p=b?u.features[o].geometry:k?u.geometry:u)&&"GeometryCollection"===p.type)?p.geometries.length:1,s=0;s<g;s++)if(null!==(d=T?p.geometries[s]:p))switch(d.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===a(d,m,_,y,w))return!1;break;case"GeometryCollection":for(l=0;l<d.geometries.length;l++)if(!1===a(d.geometries[l],m,_,y,w))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===a(null,m,_,y,w))return!1;m++}}function v(u,a){M(u,function(o,l,s,d,g){var p,T=null===o?null:o.type;switch(T){case null:case"Point":case"LineString":case"Polygon":return!1!==a(C.feature(o,s,{bbox:d,id:g}),l,0)&&void 0}switch(T){case"MultiPoint":p="Point";break;case"MultiLineString":p="LineString";break;case"MultiPolygon":p="Polygon"}for(var _=0;_<o.coordinates.length;_++)if(!1===a(C.feature({type:p,coordinates:o.coordinates[_]},s),l,_))return!1})}function c(u,a){v(u,function(o,l,s){var d=0;if(o.geometry){var g=o.geometry.type;if("Point"!==g&&"MultiPoint"!==g){var p,T=0,_=0,y=0;return!1!==E(o,function(w,m,b,k,h){if(void 0===p||l>T||k>_||h>y)return p=w,T=l,_=k,y=h,void(d=0);var O=C.lineString([p,w],o.properties);if(!1===a(O,l,s,h,d))return!1;d++,p=w})&&void 0}}})}function i(u,a){if(!u)throw new Error("geojson is required");v(u,function(o,l,s){if(null!==o.geometry){var g=o.geometry.coordinates;switch(o.geometry.type){case"LineString":if(!1===a(o,l,s,0,0))return!1;break;case"Polygon":for(var p=0;p<g.length;p++)if(!1===a(C.lineString(g[p],o.properties),l,s,p))return!1}}})}z.coordEach=E,z.coordReduce=function(u,a,o,l){var s=o;return E(u,function(d,g,p,T,_){s=0===g&&void 0===o?d:a(s,d,g,p,T,_)},l),s},z.propEach=f,z.propReduce=function(u,a,o){var l=o;return f(u,function(s,d){l=0===d&&void 0===o?s:a(l,s,d)}),l},z.featureEach=S,z.featureReduce=function(u,a,o){var l=o;return S(u,function(s,d){l=0===d&&void 0===o?s:a(l,s,d)}),l},z.coordAll=function(u){var a=[];return E(u,function(o){a.push(o)}),a},z.geomEach=M,z.geomReduce=function(u,a,o){var l=o;return M(u,function(s,d,g,p,T){l=0===d&&void 0===o?s:a(l,s,d,g,p,T)}),l},z.flattenEach=v,z.flattenReduce=function(u,a,o){var l=o;return v(u,function(s,d,g){l=0===d&&0===g&&void 0===o?s:a(l,s,d,g)}),l},z.segmentEach=c,z.segmentReduce=function(u,a,o){var l=o,s=!1;return c(u,function(d,g,p,T,_){l=!1===s&&void 0===o?d:a(l,d,g,p,T,_),s=!0}),l},z.lineEach=i,z.lineReduce=function(u,a,o){var l=o;return i(u,function(s,d,g,p){l=0===d&&void 0===o?s:a(l,s,d,g,p)}),l},z.findSegment=function(u,a){if(!C.isObject(a=a||{}))throw new Error("options is invalid");var o,l=a.featureIndex||0,s=a.multiFeatureIndex||0,d=a.geometryIndex||0,g=a.segmentIndex||0,p=a.properties;switch(u.type){case"FeatureCollection":l<0&&(l=u.features.length+l),p=p||u.features[l].properties,o=u.features[l].geometry;break;case"Feature":p=p||u.properties,o=u.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":o=u;break;default:throw new Error("geojson is invalid")}if(null===o)return null;var T=o.coordinates;switch(o.type){case"Point":case"MultiPoint":return null;case"LineString":return g<0&&(g=T.length+g-1),C.lineString([T[g],T[g+1]],p,a);case"Polygon":return d<0&&(d=T.length+d),g<0&&(g=T[d].length+g-1),C.lineString([T[d][g],T[d][g+1]],p,a);case"MultiLineString":return s<0&&(s=T.length+s),g<0&&(g=T[s].length+g-1),C.lineString([T[s][g],T[s][g+1]],p,a);case"MultiPolygon":return s<0&&(s=T.length+s),d<0&&(d=T[s].length+d),g<0&&(g=T[s][d].length-g-1),C.lineString([T[s][d][g],T[s][d][g+1]],p,a)}throw new Error("geojson is invalid")},z.findPoint=function(u,a){if(!C.isObject(a=a||{}))throw new Error("options is invalid");var o,l=a.featureIndex||0,s=a.multiFeatureIndex||0,d=a.geometryIndex||0,g=a.coordIndex||0,p=a.properties;switch(u.type){case"FeatureCollection":l<0&&(l=u.features.length+l),p=p||u.features[l].properties,o=u.features[l].geometry;break;case"Feature":p=p||u.properties,o=u.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":o=u;break;default:throw new Error("geojson is invalid")}if(null===o)return null;var T=o.coordinates;switch(o.type){case"Point":return C.point(T,p,a);case"MultiPoint":return s<0&&(s=T.length+s),C.point(T[s],p,a);case"LineString":return g<0&&(g=T.length+g),C.point(T[g],p,a);case"Polygon":return d<0&&(d=T.length+d),g<0&&(g=T[d].length+g),C.point(T[d][g],p,a);case"MultiLineString":return s<0&&(s=T.length+s),g<0&&(g=T[s].length+g),C.point(T[s][g],p,a);case"MultiPolygon":return s<0&&(s=T.length+s),d<0&&(d=T[s].length+d),g<0&&(g=T[s][d].length-g),C.point(T[s][d][g],p,a)}throw new Error("geojson is invalid")}},29261:function(ie,z,r){"use strict";Object.defineProperty(z,"__esModule",{value:!0});var C=r(88553),E=r(64182);z.default=function(f,S){void 0===S&&(S={});var M=0,v=0,c=0;return C.coordEach(f,function(i){M+=i[0],v+=i[1],c++}),E.point([M/c,v/c],S.properties)}},64182:function(ie,z){"use strict";function r(l,s,d){void 0===d&&(d={});var g={type:"Feature"};return(0===d.id||d.id)&&(g.id=d.id),d.bbox&&(g.bbox=d.bbox),g.properties=s||{},g.geometry=l,g}function C(l,s,d){return void 0===d&&(d={}),r({type:"Point",coordinates:l},s,d)}function E(l,s,d){void 0===d&&(d={});for(var g=0,p=l;g<p.length;g++){var T=p[g];if(T.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var _=0;_<T[T.length-1].length;_++)if(T[T.length-1][_]!==T[0][_])throw new Error("First and last Position are not equivalent.")}return r({type:"Polygon",coordinates:l},s,d)}function f(l,s,d){if(void 0===d&&(d={}),l.length<2)throw new Error("coordinates must be an array of two or more positions");return r({type:"LineString",coordinates:l},s,d)}function S(l,s){void 0===s&&(s={});var d={type:"FeatureCollection"};return s.id&&(d.id=s.id),s.bbox&&(d.bbox=s.bbox),d.features=l,d}function M(l,s,d){return void 0===d&&(d={}),r({type:"MultiLineString",coordinates:l},s,d)}function v(l,s,d){return void 0===d&&(d={}),r({type:"MultiPoint",coordinates:l},s,d)}function c(l,s,d){return void 0===d&&(d={}),r({type:"MultiPolygon",coordinates:l},s,d)}function i(l,s){void 0===s&&(s="kilometers");var d=z.factors[s];if(!d)throw new Error(s+" units is invalid");return l*d}function u(l,s){void 0===s&&(s="kilometers");var d=z.factors[s];if(!d)throw new Error(s+" units is invalid");return l/d}function a(l){return l%(2*Math.PI)*180/Math.PI}function o(l){return!isNaN(l)&&null!==l&&!Array.isArray(l)&&!/^\s*$/.test(l)}Object.defineProperty(z,"__esModule",{value:!0}),z.earthRadius=6371008.8,z.factors={centimeters:100*z.earthRadius,centimetres:100*z.earthRadius,degrees:z.earthRadius/111325,feet:3.28084*z.earthRadius,inches:39.37*z.earthRadius,kilometers:z.earthRadius/1e3,kilometres:z.earthRadius/1e3,meters:z.earthRadius,metres:z.earthRadius,miles:z.earthRadius/1609.344,millimeters:1e3*z.earthRadius,millimetres:1e3*z.earthRadius,nauticalmiles:z.earthRadius/1852,radians:1,yards:z.earthRadius/1.0936},z.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/z.earthRadius,yards:.91441111923921},z.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},z.feature=r,z.geometry=function(l,s,d){switch(void 0===d&&(d={}),l){case"Point":return C(s).geometry;case"LineString":return f(s).geometry;case"Polygon":return E(s).geometry;case"MultiPoint":return v(s).geometry;case"MultiLineString":return M(s).geometry;case"MultiPolygon":return c(s).geometry;default:throw new Error(l+" is invalid")}},z.point=C,z.points=function(l,s,d){return void 0===d&&(d={}),S(l.map(function(g){return C(g,s)}),d)},z.polygon=E,z.polygons=function(l,s,d){return void 0===d&&(d={}),S(l.map(function(g){return E(g,s)}),d)},z.lineString=f,z.lineStrings=function(l,s,d){return void 0===d&&(d={}),S(l.map(function(g){return f(g,s)}),d)},z.featureCollection=S,z.multiLineString=M,z.multiPoint=v,z.multiPolygon=c,z.geometryCollection=function(l,s,d){return void 0===d&&(d={}),r({type:"GeometryCollection",geometries:l},s,d)},z.round=function(l,s){if(void 0===s&&(s=0),s&&!(s>=0))throw new Error("precision must be a positive number");var d=Math.pow(10,s||0);return Math.round(l*d)/d},z.radiansToLength=i,z.lengthToRadians=u,z.lengthToDegrees=function(l,s){return a(u(l,s))},z.bearingToAzimuth=function(l){var s=l%360;return s<0&&(s+=360),s},z.radiansToDegrees=a,z.degreesToRadians=function(l){return l%360*Math.PI/180},z.convertLength=function(l,s,d){if(void 0===s&&(s="kilometers"),void 0===d&&(d="kilometers"),!(l>=0))throw new Error("length must be a positive number");return i(u(l,s),d)},z.convertArea=function(l,s,d){if(void 0===s&&(s="meters"),void 0===d&&(d="kilometers"),!(l>=0))throw new Error("area must be a positive number");var g=z.areaFactors[s];if(!g)throw new Error("invalid original units");var p=z.areaFactors[d];if(!p)throw new Error("invalid final units");return l/g*p},z.isNumber=o,z.isObject=function(l){return!!l&&l.constructor===Object},z.validateBBox=function(l){if(!l)throw new Error("bbox is required");if(!Array.isArray(l))throw new Error("bbox must be an Array");if(4!==l.length&&6!==l.length)throw new Error("bbox must be an Array of 4 or 6 numbers");l.forEach(function(s){if(!o(s))throw new Error("bbox must only contain numbers")})},z.validateId=function(l){if(!l)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof l))throw new Error("id must be a number or a string")},z.radians2degrees=function(){throw new Error("method has been renamed to `radiansToDegrees`")},z.degrees2radians=function(){throw new Error("method has been renamed to `degreesToRadians`")},z.distanceToDegrees=function(){throw new Error("method has been renamed to `lengthToDegrees`")},z.distanceToRadians=function(){throw new Error("method has been renamed to `lengthToRadians`")},z.radiansToDistance=function(){throw new Error("method has been renamed to `radiansToLength`")},z.bearingToAngle=function(){throw new Error("method has been renamed to `bearingToAzimuth`")},z.convertDistance=function(){throw new Error("method has been renamed to `convertLength`")}},88553:function(ie,z,r){"use strict";Object.defineProperty(z,"__esModule",{value:!0});var C=r(64182);function E(u,a,o){if(null!==u)for(var l,s,d,g,p,T,_,y,w=0,m=0,b=u.type,k="FeatureCollection"===b,h="Feature"===b,O=k?u.features.length:1,A=0;A<O;A++){p=(y=!!(_=k?u.features[A].geometry:h?u.geometry:u)&&"GeometryCollection"===_.type)?_.geometries.length:1;for(var I=0;I<p;I++){var P=0,L=0;if(null!==(g=y?_.geometries[I]:_)){T=g.coordinates;var N=g.type;switch(w=!o||"Polygon"!==N&&"MultiPolygon"!==N?0:1,N){case null:break;case"Point":if(!1===a(T,m,A,P,L))return!1;m++,P++;break;case"LineString":case"MultiPoint":for(l=0;l<T.length;l++){if(!1===a(T[l],m,A,P,L))return!1;m++,"MultiPoint"===N&&P++}"LineString"===N&&P++;break;case"Polygon":case"MultiLineString":for(l=0;l<T.length;l++){for(s=0;s<T[l].length-w;s++){if(!1===a(T[l][s],m,A,P,L))return!1;m++}"MultiLineString"===N&&P++,"Polygon"===N&&L++}"Polygon"===N&&P++;break;case"MultiPolygon":for(l=0;l<T.length;l++){for(L=0,s=0;s<T[l].length;s++){for(d=0;d<T[l][s].length-w;d++){if(!1===a(T[l][s][d],m,A,P,L))return!1;m++}L++}P++}break;case"GeometryCollection":for(l=0;l<g.geometries.length;l++)if(!1===E(g.geometries[l],a,o))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function f(u,a){var o;switch(u.type){case"FeatureCollection":for(o=0;o<u.features.length&&!1!==a(u.features[o].properties,o);o++);break;case"Feature":a(u.properties,0)}}function S(u,a){if("Feature"===u.type)a(u,0);else if("FeatureCollection"===u.type)for(var o=0;o<u.features.length&&!1!==a(u.features[o],o);o++);}function M(u,a){var o,l,s,d,g,p,T,_,y,w,m=0,b="FeatureCollection"===u.type,k="Feature"===u.type,h=b?u.features.length:1;for(o=0;o<h;o++){for(_=b?u.features[o].properties:k?u.properties:{},y=b?u.features[o].bbox:k?u.bbox:void 0,w=b?u.features[o].id:k?u.id:void 0,g=(T=!!(p=b?u.features[o].geometry:k?u.geometry:u)&&"GeometryCollection"===p.type)?p.geometries.length:1,s=0;s<g;s++)if(null!==(d=T?p.geometries[s]:p))switch(d.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===a(d,m,_,y,w))return!1;break;case"GeometryCollection":for(l=0;l<d.geometries.length;l++)if(!1===a(d.geometries[l],m,_,y,w))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===a(null,m,_,y,w))return!1;m++}}function v(u,a){M(u,function(o,l,s,d,g){var p,T=null===o?null:o.type;switch(T){case null:case"Point":case"LineString":case"Polygon":return!1!==a(C.feature(o,s,{bbox:d,id:g}),l,0)&&void 0}switch(T){case"MultiPoint":p="Point";break;case"MultiLineString":p="LineString";break;case"MultiPolygon":p="Polygon"}for(var _=0;_<o.coordinates.length;_++)if(!1===a(C.feature({type:p,coordinates:o.coordinates[_]},s),l,_))return!1})}function c(u,a){v(u,function(o,l,s){var d=0;if(o.geometry){var g=o.geometry.type;if("Point"!==g&&"MultiPoint"!==g){var p,T=0,_=0,y=0;return!1!==E(o,function(w,m,b,k,h){if(void 0===p||l>T||k>_||h>y)return p=w,T=l,_=k,y=h,void(d=0);var O=C.lineString([p,w],o.properties);if(!1===a(O,l,s,h,d))return!1;d++,p=w})&&void 0}}})}function i(u,a){if(!u)throw new Error("geojson is required");v(u,function(o,l,s){if(null!==o.geometry){var g=o.geometry.coordinates;switch(o.geometry.type){case"LineString":if(!1===a(o,l,s,0,0))return!1;break;case"Polygon":for(var p=0;p<g.length;p++)if(!1===a(C.lineString(g[p],o.properties),l,s,p))return!1}}})}z.coordEach=E,z.coordReduce=function(u,a,o,l){var s=o;return E(u,function(d,g,p,T,_){s=0===g&&void 0===o?d:a(s,d,g,p,T,_)},l),s},z.propEach=f,z.propReduce=function(u,a,o){var l=o;return f(u,function(s,d){l=0===d&&void 0===o?s:a(l,s,d)}),l},z.featureEach=S,z.featureReduce=function(u,a,o){var l=o;return S(u,function(s,d){l=0===d&&void 0===o?s:a(l,s,d)}),l},z.coordAll=function(u){var a=[];return E(u,function(o){a.push(o)}),a},z.geomEach=M,z.geomReduce=function(u,a,o){var l=o;return M(u,function(s,d,g,p,T){l=0===d&&void 0===o?s:a(l,s,d,g,p,T)}),l},z.flattenEach=v,z.flattenReduce=function(u,a,o){var l=o;return v(u,function(s,d,g){l=0===d&&0===g&&void 0===o?s:a(l,s,d,g)}),l},z.segmentEach=c,z.segmentReduce=function(u,a,o){var l=o,s=!1;return c(u,function(d,g,p,T,_){l=!1===s&&void 0===o?d:a(l,d,g,p,T,_),s=!0}),l},z.lineEach=i,z.lineReduce=function(u,a,o){var l=o;return i(u,function(s,d,g,p){l=0===d&&void 0===o?s:a(l,s,d,g,p)}),l},z.findSegment=function(u,a){if(!C.isObject(a=a||{}))throw new Error("options is invalid");var o,l=a.featureIndex||0,s=a.multiFeatureIndex||0,d=a.geometryIndex||0,g=a.segmentIndex||0,p=a.properties;switch(u.type){case"FeatureCollection":l<0&&(l=u.features.length+l),p=p||u.features[l].properties,o=u.features[l].geometry;break;case"Feature":p=p||u.properties,o=u.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":o=u;break;default:throw new Error("geojson is invalid")}if(null===o)return null;var T=o.coordinates;switch(o.type){case"Point":case"MultiPoint":return null;case"LineString":return g<0&&(g=T.length+g-1),C.lineString([T[g],T[g+1]],p,a);case"Polygon":return d<0&&(d=T.length+d),g<0&&(g=T[d].length+g-1),C.lineString([T[d][g],T[d][g+1]],p,a);case"MultiLineString":return s<0&&(s=T.length+s),g<0&&(g=T[s].length+g-1),C.lineString([T[s][g],T[s][g+1]],p,a);case"MultiPolygon":return s<0&&(s=T.length+s),d<0&&(d=T[s].length+d),g<0&&(g=T[s][d].length-g-1),C.lineString([T[s][d][g],T[s][d][g+1]],p,a)}throw new Error("geojson is invalid")},z.findPoint=function(u,a){if(!C.isObject(a=a||{}))throw new Error("options is invalid");var o,l=a.featureIndex||0,s=a.multiFeatureIndex||0,d=a.geometryIndex||0,g=a.coordIndex||0,p=a.properties;switch(u.type){case"FeatureCollection":l<0&&(l=u.features.length+l),p=p||u.features[l].properties,o=u.features[l].geometry;break;case"Feature":p=p||u.properties,o=u.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":o=u;break;default:throw new Error("geojson is invalid")}if(null===o)return null;var T=o.coordinates;switch(o.type){case"Point":return C.point(T,p,a);case"MultiPoint":return s<0&&(s=T.length+s),C.point(T[s],p,a);case"LineString":return g<0&&(g=T.length+g),C.point(T[g],p,a);case"Polygon":return d<0&&(d=T.length+d),g<0&&(g=T[d].length+g),C.point(T[d][g],p,a);case"MultiLineString":return s<0&&(s=T.length+s),g<0&&(g=T[s].length+g),C.point(T[s][g],p,a);case"MultiPolygon":return s<0&&(s=T.length+s),d<0&&(d=T[s].length+d),g<0&&(g=T[s][d].length-g),C.point(T[s][d][g],p,a)}throw new Error("geojson is invalid")}},65185:function(ie){ie.exports=function(z){var r=0,C=0,E=0,f=0;return z.map(function(S){var M=(S=S.slice())[0],v=M.toUpperCase();if(M!=v)switch(S[0]=v,M){case"a":S[6]+=E,S[7]+=f;break;case"v":S[1]+=f;break;case"h":S[1]+=E;break;default:for(var c=1;c<S.length;)S[c++]+=E,S[c++]+=f}switch(v){case"Z":E=r,f=C;break;case"H":E=S[1];break;case"V":f=S[1];break;case"M":E=r=S[1],f=C=S[2];break;default:E=S[S.length-2],f=S[S.length-1]}return S})}},21527:function(ie){"use strict";ie.exports=function(z,r){if(!z||null==z.length)throw Error("Argument should be an array");r=null==r?1:Math.floor(r);for(var C=Array(2*r),E=0;E<r;E++){for(var f=-1/0,S=1/0,M=E,v=z.length;M<v;M+=r)z[M]>f&&(f=z[M]),z[M]<S&&(S=z[M]);C[E]=S,C[r+E]=f}return C}},24696:function(ie){ie.exports=function(r,C,E){if(r.filter)return r.filter(C,E);if(null==r)throw new TypeError;if("function"!=typeof C)throw new TypeError;for(var f=[],S=0;S<r.length;S++)if(z.call(r,S)){var M=r[S];C.call(E,M,S,r)&&f.push(M)}return f};var z=Object.prototype.hasOwnProperty},6851:function(ie){"use strict";ie.exports=function(z,r,C){if("function"==typeof Array.prototype.findIndex)return z.findIndex(r,C);if("function"!=typeof r)throw new TypeError("predicate must be a function");var E=Object(z),f=E.length;if(0===f)return-1;for(var S=0;S<f;S++)if(r.call(C,E[S],S,E))return S;return-1}},54:function(ie,z,r){"use strict";var C=r(21527);ie.exports=function(E,f,S){if(!E||null==E.length)throw Error("Argument should be an array");null==f&&(f=1),null==S&&(S=C(E,f));for(var M=0;M<f;M++){var v=S[f+M],c=S[M],i=M,u=E.length;if(v===1/0&&c===-1/0)for(i=M;i<u;i+=f)E[i]=E[i]===v?1:E[i]===c?0:.5;else if(v===1/0)for(i=M;i<u;i+=f)E[i]=E[i]===v?1:0;else if(c===-1/0)for(i=M;i<u;i+=f)E[i]=E[i]===c?0:1;else{var a=v-c;for(i=M;i<u;i+=f)isNaN(E[i])||(E[i]=0===a?.5:(E[i]-c)/a)}}return E}},57471:function(ie){ie.exports=function(z,r){var C="number"==typeof z,E="number"==typeof r;C&&!E?(r=z,z=0):C||E||(z=0,r=0);var f=(r|=0)-(z|=0);if(f<0)throw new Error("array length must be positive");for(var S=new Array(f),M=0,v=z;M<f;M++,v++)S[M]=v;return S}},32791:function(ie,z,r){"use strict";var C=r(90386);function E(Z){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(V){return typeof V}:function(V){return V&&"function"==typeof Symbol&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V})(Z)}var f,S,M=r(79616).codes,v=M.ERR_AMBIGUOUS_ARGUMENT,c=M.ERR_INVALID_ARG_TYPE,i=M.ERR_INVALID_ARG_VALUE,u=M.ERR_INVALID_RETURN_VALUE,a=M.ERR_MISSING_ARGS,o=r(73894),l=r(43827).inspect,s=r(43827).types,d=s.isPromise,g=s.isRegExp,p=Object.assign?Object.assign:r(73523).assign,T=Object.is?Object.is:r(64003);function _(){var Z=r(74061);f=Z.isDeepEqual,S=Z.isDeepStrictEqual}var y=!1,w=ie.exports=h,m={};function b(Z){throw Z.message instanceof Error?Z.message:new o(Z)}function k(Z,V,q,G){if(!q){var H=!1;if(0===V)H=!0,G="No value argument passed to `assert.ok()`";else if(G instanceof Error)throw G;var ne=new o({actual:q,expected:!0,message:G,operator:"==",stackStartFn:Z});throw ne.generatedMessage=H,ne}}function h(){for(var Z=arguments.length,V=new Array(Z),q=0;q<Z;q++)V[q]=arguments[q];k.apply(void 0,[h,V.length].concat(V))}w.fail=function Z(V,q,G,H,ne){var X,$=arguments.length;if(0===$?X="Failed":1===$?(G=V,V=void 0):(!1===y&&(y=!0,(C.emitWarning?C.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),2===$&&(H="!=")),G instanceof Error)throw G;var te={actual:V,expected:q,operator:void 0===H?"fail":H,stackStartFn:ne||Z};void 0!==G&&(te.message=G);var re=new o(te);throw X&&(re.message=X,re.generatedMessage=!0),re},w.AssertionError=o,w.ok=h,w.equal=function Z(V,q,G){if(arguments.length<2)throw new a("actual","expected");V!=q&&b({actual:V,expected:q,message:G,operator:"==",stackStartFn:Z})},w.notEqual=function Z(V,q,G){if(arguments.length<2)throw new a("actual","expected");V==q&&b({actual:V,expected:q,message:G,operator:"!=",stackStartFn:Z})},w.deepEqual=function Z(V,q,G){if(arguments.length<2)throw new a("actual","expected");void 0===f&&_(),f(V,q)||b({actual:V,expected:q,message:G,operator:"deepEqual",stackStartFn:Z})},w.notDeepEqual=function Z(V,q,G){if(arguments.length<2)throw new a("actual","expected");void 0===f&&_(),f(V,q)&&b({actual:V,expected:q,message:G,operator:"notDeepEqual",stackStartFn:Z})},w.deepStrictEqual=function Z(V,q,G){if(arguments.length<2)throw new a("actual","expected");void 0===f&&_(),S(V,q)||b({actual:V,expected:q,message:G,operator:"deepStrictEqual",stackStartFn:Z})},w.notDeepStrictEqual=function Z(V,q,G){if(arguments.length<2)throw new a("actual","expected");void 0===f&&_(),S(V,q)&&b({actual:V,expected:q,message:G,operator:"notDeepStrictEqual",stackStartFn:Z})},w.strictEqual=function Z(V,q,G){if(arguments.length<2)throw new a("actual","expected");T(V,q)||b({actual:V,expected:q,message:G,operator:"strictEqual",stackStartFn:Z})},w.notStrictEqual=function Z(V,q,G){if(arguments.length<2)throw new a("actual","expected");T(V,q)&&b({actual:V,expected:q,message:G,operator:"notStrictEqual",stackStartFn:Z})};var O=function Z(V,q,G){var H=this;(function(ne,X){if(!(ne instanceof X))throw new TypeError("Cannot call a class as a function")})(this,Z),q.forEach(function(ne){ne in V&&(H[ne]=void 0!==G&&"string"==typeof G[ne]&&g(V[ne])&&V[ne].test(G[ne])?G[ne]:V[ne])})};function A(Z,V,q,G,H,ne){if(!(q in Z)||!S(Z[q],V[q])){if(!G){var X=new O(Z,H),$=new O(V,H,Z),Q=new o({actual:X,expected:$,operator:"deepStrictEqual",stackStartFn:ne});throw Q.actual=Z,Q.expected=V,Q.operator=ne.name,Q}b({actual:Z,expected:V,message:G,operator:ne.name,stackStartFn:ne})}}function I(Z,V,q,G){if("function"!=typeof V){if(g(V))return V.test(Z);if(2===arguments.length)throw new c("expected",["Function","RegExp"],V);if("object"!==E(Z)||null===Z){var H=new o({actual:Z,expected:V,message:q,operator:"deepStrictEqual",stackStartFn:G});throw H.operator=G.name,H}var ne=Object.keys(V);if(V instanceof Error)ne.push("name","message");else if(0===ne.length)throw new i("error",V,"may not be an empty object");return void 0===f&&_(),ne.forEach(function(X){"string"==typeof Z[X]&&g(V[X])&&V[X].test(Z[X])||A(Z,V,X,q,ne,G)}),!0}return void 0!==V.prototype&&Z instanceof V||!Error.isPrototypeOf(V)&&!0===V.call({},Z)}function P(Z){if("function"!=typeof Z)throw new c("fn","Function",Z);try{Z()}catch(V){return V}return m}function L(Z){return d(Z)||null!==Z&&"object"===E(Z)&&"function"==typeof Z.then&&"function"==typeof Z.catch}function N(Z){return Promise.resolve().then(function(){var V;if("function"==typeof Z){if(!L(V=Z()))throw new u("instance of Promise","promiseFn",V)}else{if(!L(Z))throw new c("promiseFn",["Function","Promise"],Z);V=Z}return Promise.resolve().then(function(){return V}).then(function(){return m}).catch(function(q){return q})})}function B(Z,V,q,G){if("string"==typeof q){if(4===arguments.length)throw new c("error",["Object","Error","Function","RegExp"],q);if("object"===E(V)&&null!==V){if(V.message===q)throw new v("error/message",'The error message "'.concat(V.message,'" is identical to the message.'))}else if(V===q)throw new v("error/message",'The error "'.concat(V,'" is identical to the message.'));G=q,q=void 0}else if(null!=q&&"object"!==E(q)&&"function"!=typeof q)throw new c("error",["Object","Error","Function","RegExp"],q);if(V===m){var H="";q&&q.name&&(H+=" (".concat(q.name,")")),H+=G?": ".concat(G):".",b({actual:void 0,expected:q,operator:Z.name,message:"Missing expected ".concat("rejects"===Z.name?"rejection":"exception").concat(H),stackStartFn:Z})}if(q&&!I(V,q,G,Z))throw V}function W(Z,V,q,G){if(V!==m){if("string"==typeof q&&(G=q,q=void 0),!q||I(V,q)){var H=G?": ".concat(G):".";b({actual:V,expected:q,operator:Z.name,message:"Got unwanted ".concat("doesNotReject"===Z.name?"rejection":"exception").concat(H,"\n")+'Actual message: "'.concat(V&&V.message,'"'),stackStartFn:Z})}throw V}}function j(){for(var Z=arguments.length,V=new Array(Z),q=0;q<Z;q++)V[q]=arguments[q];k.apply(void 0,[j,V.length].concat(V))}w.throws=function Z(V){for(var q=arguments.length,G=new Array(q>1?q-1:0),H=1;H<q;H++)G[H-1]=arguments[H];B.apply(void 0,[Z,P(V)].concat(G))},w.rejects=function Z(V){for(var q=arguments.length,G=new Array(q>1?q-1:0),H=1;H<q;H++)G[H-1]=arguments[H];return N(V).then(function(ne){return B.apply(void 0,[Z,ne].concat(G))})},w.doesNotThrow=function Z(V){for(var q=arguments.length,G=new Array(q>1?q-1:0),H=1;H<q;H++)G[H-1]=arguments[H];W.apply(void 0,[Z,P(V)].concat(G))},w.doesNotReject=function Z(V){for(var q=arguments.length,G=new Array(q>1?q-1:0),H=1;H<q;H++)G[H-1]=arguments[H];return N(V).then(function(ne){return W.apply(void 0,[Z,ne].concat(G))})},w.ifError=function Z(V){if(null!=V){var q="ifError got unwanted exception: ";"object"===E(V)&&"string"==typeof V.message?q+=0===V.message.length&&V.constructor?V.constructor.name:V.message:q+=l(V);var G=new o({actual:V,expected:null,operator:"ifError",message:q,stackStartFn:Z}),H=V.stack;if("string"==typeof H){var ne=H.split("\n");ne.shift();for(var X=G.stack.split("\n"),$=0;$<ne.length;$++){var Q=X.indexOf(ne[$]);if(-1!==Q){X=X.slice(0,Q);break}}G.stack="".concat(X.join("\n"),"\n").concat(ne.join("\n"))}throw G}},w.strict=p(j,w,{equal:w.strictEqual,deepEqual:w.deepStrictEqual,notEqual:w.notStrictEqual,notDeepEqual:w.notDeepStrictEqual}),w.strict.strict=w.strict},73894:function(ie,z,r){"use strict";var C=r(90386);function E(k,h,O){return h in k?Object.defineProperty(k,h,{value:O,enumerable:!0,configurable:!0,writable:!0}):k[h]=O,k}function S(k,h){return!h||"object"!==o(h)&&"function"!=typeof h?M(k):h}function M(k){if(void 0===k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function v(k){var h="function"==typeof Map?new Map:void 0;return v=function(O){if(null===O||-1===Function.toString.call(O).indexOf("[native code]"))return O;if("function"!=typeof O)throw new TypeError("Super expression must either be null or a function");if(void 0!==h){if(h.has(O))return h.get(O);h.set(O,I)}function I(){return i(O,arguments,a(this).constructor)}return I.prototype=Object.create(O.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),u(I,O)},v(k)}function c(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function i(k,h,O){return(i=c()?Reflect.construct:function(A,I,P){var L=[null];L.push.apply(L,I);var N=new(Function.bind.apply(A,L));return P&&u(N,P.prototype),N}).apply(null,arguments)}function u(k,h){return(u=Object.setPrototypeOf||function(O,A){return O.__proto__=A,O})(k,h)}function a(k){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)})(k)}function o(k){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(k)}var l=r(43827).inspect,s=r(79616).codes.ERR_INVALID_ARG_TYPE;function d(k,h,O){return(void 0===O||O>k.length)&&(O=k.length),k.substring(O-h.length,O)===h}var g="",p="",T="",_="",y={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function w(k){var h=Object.keys(k),O=Object.create(Object.getPrototypeOf(k));return h.forEach(function(A){O[A]=k[A]}),Object.defineProperty(O,"message",{value:k.message}),O}function m(k){return l(k,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var b=function(k){function h(I){var P;if(function(X,$){if(!(X instanceof $))throw new TypeError("Cannot call a class as a function")}(this,h),"object"!==o(I)||null===I)throw new s("options","Object",I);var L=I.message,N=I.operator,B=I.stackStartFn,W=I.actual,j=I.expected,Z=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=L)P=S(this,a(h).call(this,String(L)));else if(C.stderr&&C.stderr.isTTY&&(C.stderr&&C.stderr.getColorDepth&&1!==C.stderr.getColorDepth()?(g="\x1b[34m",p="\x1b[32m",_="\x1b[39m",T="\x1b[31m"):(g="",p="",_="",T="")),"object"===o(W)&&null!==W&&"object"===o(j)&&null!==j&&"stack"in W&&W instanceof Error&&"stack"in j&&j instanceof Error&&(W=w(W),j=w(j)),"deepStrictEqual"===N||"strictEqual"===N)P=S(this,a(h).call(this,function(X,$,Q){var te="",re="",le=0,ue="",he=!1,ge=m(X),xe=ge.split("\n"),ke=m($).split("\n"),Ae=0,pe="";if("strictEqual"===Q&&"object"===o(X)&&"object"===o($)&&null!==X&&null!==$&&(Q="strictEqualObject"),1===xe.length&&1===ke.length&&xe[0]!==ke[0]){var ye=xe[0].length+ke[0].length;if(ye<=10){if(!("object"===o(X)&&null!==X||"object"===o($)&&null!==$||0===X&&0===$))return"".concat(y[Q],"\n\n")+"".concat(xe[0]," !== ").concat(ke[0],"\n")}else if("strictEqualObject"!==Q&&ye<(C.stderr&&C.stderr.isTTY?C.stderr.columns:80)){for(;xe[0][Ae]===ke[0][Ae];)Ae++;Ae>2&&(pe="\n  ".concat(function(Be,Ve){if(Ve=Math.floor(Ve),0==Be.length||0==Ve)return"";var ve=Be.length*Ve;for(Ve=Math.floor(Math.log(Ve)/Math.log(2));Ve;)Be+=Be,Ve--;return Be+Be.substring(0,ve-Be.length)}(" ",Ae),"^"),Ae=0)}}for(var Ne=xe[xe.length-1],be=ke[ke.length-1];Ne===be&&(Ae++<2?ue="\n  ".concat(Ne).concat(ue):te=Ne,xe.pop(),ke.pop(),0!==xe.length&&0!==ke.length);)Ne=xe[xe.length-1],be=ke[ke.length-1];var Ee=Math.max(xe.length,ke.length);if(0===Ee){var Oe=ge.split("\n");if(Oe.length>30)for(Oe[26]="".concat(g,"...").concat(_);Oe.length>27;)Oe.pop();return"".concat(y.notIdentical,"\n\n").concat(Oe.join("\n"),"\n")}Ae>3&&(ue="\n".concat(g,"...").concat(_).concat(ue),he=!0),""!==te&&(ue="\n  ".concat(te).concat(ue),te="");var De=0,oe=y[Q]+"\n".concat(p,"+ actual").concat(_," ").concat(T,"- expected").concat(_),de=" ".concat(g,"...").concat(_," Lines skipped");for(Ae=0;Ae<Ee;Ae++){var _e=Ae-le;if(xe.length<Ae+1)_e>1&&Ae>2&&(_e>4?(re+="\n".concat(g,"...").concat(_),he=!0):_e>3&&(re+="\n  ".concat(ke[Ae-2]),De++),re+="\n  ".concat(ke[Ae-1]),De++),le=Ae,te+="\n".concat(T,"-").concat(_," ").concat(ke[Ae]),De++;else if(ke.length<Ae+1)_e>1&&Ae>2&&(_e>4?(re+="\n".concat(g,"...").concat(_),he=!0):_e>3&&(re+="\n  ".concat(xe[Ae-2]),De++),re+="\n  ".concat(xe[Ae-1]),De++),le=Ae,re+="\n".concat(p,"+").concat(_," ").concat(xe[Ae]),De++;else{var Me=ke[Ae],Pe=xe[Ae],Ue=Pe!==Me&&(!d(Pe,",")||Pe.slice(0,-1)!==Me);Ue&&d(Me,",")&&Me.slice(0,-1)===Pe&&(Ue=!1,Pe+=","),Ue?(_e>1&&Ae>2&&(_e>4?(re+="\n".concat(g,"...").concat(_),he=!0):_e>3&&(re+="\n  ".concat(xe[Ae-2]),De++),re+="\n  ".concat(xe[Ae-1]),De++),le=Ae,re+="\n".concat(p,"+").concat(_," ").concat(Pe),te+="\n".concat(T,"-").concat(_," ").concat(Me),De+=2):(re+=te,te="",1!==_e&&0!==Ae||(re+="\n  ".concat(Pe),De++))}if(De>20&&Ae<Ee-2)return"".concat(oe).concat(de,"\n").concat(re,"\n").concat(g,"...").concat(_).concat(te,"\n")+"".concat(g,"...").concat(_)}return"".concat(oe).concat(he?de:"","\n").concat(re).concat(te).concat(ue).concat(pe)}(W,j,N)));else if("notDeepStrictEqual"===N||"notStrictEqual"===N){var V=y[N],q=m(W).split("\n");if("notStrictEqual"===N&&"object"===o(W)&&null!==W&&(V=y.notStrictEqualObject),q.length>30)for(q[26]="".concat(g,"...").concat(_);q.length>27;)q.pop();P=S(this,1===q.length?a(h).call(this,"".concat(V," ").concat(q[0])):a(h).call(this,"".concat(V,"\n\n").concat(q.join("\n"),"\n")))}else{var G=m(W),H="",ne=y[N];"notDeepEqual"===N||"notEqual"===N?(G="".concat(y[N],"\n\n").concat(G)).length>1024&&(G="".concat(G.slice(0,1021),"...")):(H="".concat(m(j)),G.length>512&&(G="".concat(G.slice(0,509),"...")),H.length>512&&(H="".concat(H.slice(0,509),"...")),"deepEqual"===N||"equal"===N?G="".concat(ne,"\n\n").concat(G,"\n\nshould equal\n\n"):H=" ".concat(N," ").concat(H)),P=S(this,a(h).call(this,"".concat(G).concat(H)))}return Error.stackTraceLimit=Z,P.generatedMessage=!L,Object.defineProperty(M(P),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),P.code="ERR_ASSERTION",P.actual=W,P.expected=j,P.operator=N,Error.captureStackTrace&&Error.captureStackTrace(M(P),B),P.name="AssertionError",S(P)}var A;return function(I,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(P&&P.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),P&&u(I,P)}(h,k),A=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:l.custom,value:function(I,P){return l(this,function(L){for(var N=1;N<arguments.length;N++){var B=null!=arguments[N]?arguments[N]:{},W=Object.keys(B);"function"==typeof Object.getOwnPropertySymbols&&(W=W.concat(Object.getOwnPropertySymbols(B).filter(function(j){return Object.getOwnPropertyDescriptor(B,j).enumerable}))),W.forEach(function(j){E(L,j,B[j])})}return L}({},P,{customInspect:!1,depth:0}))}}],A&&function f(k,h){for(var O=0;O<h.length;O++){var A=h[O];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(k,A.key,A)}}(h.prototype,A),h}(v(Error));ie.exports=b},79616:function(ie,z,r){"use strict";function C(u){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(u)}function E(u){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(u)}function f(u,a){return(f=Object.setPrototypeOf||function(o,l){return o.__proto__=l,o})(u,a)}var S,M,v={};function c(u,a,o){o||(o=Error);var l=function(s){function d(g,p,T){var _,y,w,m;return function(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")}(this,d),(_=function(y,w){return!w||"object"!==C(w)&&"function"!=typeof w?function(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(y):w}(this,E(d).call(this,(y=g,w=p,m=T,"string"==typeof a?a:a(y,w,m))))).code=u,_}return function(g,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),p&&f(g,p)}(d,s),d}(o);v[u]=l}function i(u,a){if(Array.isArray(u)){var o=u.length;return u=u.map(function(l){return String(l)}),o>2?"one of ".concat(a," ").concat(u.slice(0,o-1).join(", "),", or ")+u[o-1]:2===o?"one of ".concat(a," ").concat(u[0]," or ").concat(u[1]):"of ".concat(a," ").concat(u[0])}return"of ".concat(a," ").concat(String(u))}c("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),c("ERR_INVALID_ARG_TYPE",function(u,a,o){var l,d,g,p,_,w;if(void 0===S&&(S=r(32791)),S("string"==typeof u,"'name' must be a string"),"string"==typeof a&&"not "===a.substr(0,"not ".length)?(l="must not be",a=a.replace(/^not /,"")):l="must be",_=u,(void 0===w||w>_.length)&&(w=_.length)," argument"===_.substring(w-" argument".length,w))d="The ".concat(u," ").concat(l," ").concat(i(a,"type"));else{var T=("number"!=typeof p&&(p=0),p+1>(g=u).length||-1===g.indexOf(".",p)?"argument":"property");d='The "'.concat(u,'" ').concat(T," ").concat(l," ").concat(i(a,"type"))}return d+". Received type ".concat(C(o))},TypeError),c("ERR_INVALID_ARG_VALUE",function(u,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===M&&(M=r(43827));var l=M.inspect(a);return l.length>128&&(l="".concat(l.slice(0,128),"...")),"The argument '".concat(u,"' ").concat(o,". Received ").concat(l)},TypeError,RangeError),c("ERR_INVALID_RETURN_VALUE",function(u,a,o){var l;return l=o&&o.constructor&&o.constructor.name?"instance of ".concat(o.constructor.name):"type ".concat(C(o)),"Expected ".concat(u,' to be returned from the "').concat(a,'"')+" function but got ".concat(l,".")},TypeError),c("ERR_MISSING_ARGS",function(){for(var u=arguments.length,a=new Array(u),o=0;o<u;o++)a[o]=arguments[o];void 0===S&&(S=r(32791)),S(a.length>0,"At least one arg needs to be specified");var l="The ",s=a.length;switch(a=a.map(function(d){return'"'.concat(d,'"')}),s){case 1:l+="".concat(a[0]," argument");break;case 2:l+="".concat(a[0]," and ").concat(a[1]," arguments");break;default:l+=a.slice(0,s-1).join(", "),l+=", and ".concat(a[s-1]," arguments")}return"".concat(l," must be specified")},TypeError),ie.exports.codes=v},74061:function(ie,z,r){"use strict";function C($,Q){return function(te){if(Array.isArray(te))return te}($)||function(te,re){var le=[],ue=!0,he=!1,ge=void 0;try{for(var xe,ke=te[Symbol.iterator]();!(ue=(xe=ke.next()).done)&&(le.push(xe.value),!re||le.length!==re);ue=!0);}catch(Ae){he=!0,ge=Ae}finally{try{ue||null==ke.return||ke.return()}finally{if(he)throw ge}}return le}($,Q)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function E($){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Q){return typeof Q}:function(Q){return Q&&"function"==typeof Symbol&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q})($)}var f=void 0!==/a/g.flags,S=function($){var Q=[];return $.forEach(function(te){return Q.push(te)}),Q},M=function($){var Q=[];return $.forEach(function(te,re){return Q.push([re,te])}),Q},v=Object.is?Object.is:r(64003),c=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},i=Number.isNaN?Number.isNaN:r(15567);function u($){return $.call.bind($)}var a=u(Object.prototype.hasOwnProperty),o=u(Object.prototype.propertyIsEnumerable),l=u(Object.prototype.toString),s=r(43827).types,d=s.isAnyArrayBuffer,g=s.isArrayBufferView,p=s.isDate,T=s.isMap,_=s.isRegExp,y=s.isSet,w=s.isNativeError,m=s.isBoxedPrimitive,b=s.isNumberObject,k=s.isStringObject,h=s.isBooleanObject,O=s.isBigIntObject,A=s.isSymbolObject,I=s.isFloat32Array,P=s.isFloat64Array;function L($){if(0===$.length||$.length>10)return!0;for(var Q=0;Q<$.length;Q++){var te=$.charCodeAt(Q);if(te<48||te>57)return!0}return 10===$.length&&$>=Math.pow(2,32)}function N($){return Object.keys($).filter(L).concat(c($).filter(Object.prototype.propertyIsEnumerable.bind($)))}function B($,Q){if($===Q)return 0;for(var te=$.length,re=Q.length,le=0,ue=Math.min(te,re);le<ue;++le)if($[le]!==Q[le]){te=$[le],re=Q[le];break}return te<re?-1:re<te?1:0}function W($,Q,te,re){if($===Q)return 0!==$||!te||v($,Q);if(te){if("object"!==E($))return"number"==typeof $&&i($)&&i(Q);if("object"!==E(Q)||null===$||null===Q||Object.getPrototypeOf($)!==Object.getPrototypeOf(Q))return!1}else{if(null===$||"object"!==E($))return(null===Q||"object"!==E(Q))&&$==Q;if(null===Q||"object"!==E(Q))return!1}var le,ue,he,ge,Ne,be,xe=l($);if(xe!==l(Q))return!1;if(Array.isArray($)){if($.length!==Q.length)return!1;var ke=N($),Ae=N(Q);return ke.length===Ae.length&&Z($,Q,te,re,1,ke)}if("[object Object]"===xe&&(!T($)&&T(Q)||!y($)&&y(Q)))return!1;if(p($)){if(!p(Q)||Date.prototype.getTime.call($)!==Date.prototype.getTime.call(Q))return!1}else if(_($)){if(!_(Q)||(he=$,ge=Q,!(f?he.source===ge.source&&he.flags===ge.flags:RegExp.prototype.toString.call(he)===RegExp.prototype.toString.call(ge))))return!1}else if(w($)||$ instanceof Error){if($.message!==Q.message||$.name!==Q.name)return!1}else{if(g($)){if(te||!I($)&&!P($)){if((Ne=$).byteLength!==(be=Q).byteLength||0!==B(new Uint8Array(Ne.buffer,Ne.byteOffset,Ne.byteLength),new Uint8Array(be.buffer,be.byteOffset,be.byteLength)))return!1}else if(!function(Ne,be){if(Ne.byteLength!==be.byteLength)return!1;for(var Ee=0;Ee<Ne.byteLength;Ee++)if(Ne[Ee]!==be[Ee])return!1;return!0}($,Q))return!1;var pe=N($),ye=N(Q);return pe.length===ye.length&&Z($,Q,te,re,0,pe)}if(y($))return!(!y(Q)||$.size!==Q.size)&&Z($,Q,te,re,2);if(T($))return!(!T(Q)||$.size!==Q.size)&&Z($,Q,te,re,3);if(d($)){if((le=$).byteLength!==(ue=Q).byteLength||0!==B(new Uint8Array(le),new Uint8Array(ue)))return!1}else if(m($)&&!function(Ne,be){return b(Ne)?b(be)&&v(Number.prototype.valueOf.call(Ne),Number.prototype.valueOf.call(be)):k(Ne)?k(be)&&String.prototype.valueOf.call(Ne)===String.prototype.valueOf.call(be):h(Ne)?h(be)&&Boolean.prototype.valueOf.call(Ne)===Boolean.prototype.valueOf.call(be):O(Ne)?O(be)&&BigInt.prototype.valueOf.call(Ne)===BigInt.prototype.valueOf.call(be):A(be)&&Symbol.prototype.valueOf.call(Ne)===Symbol.prototype.valueOf.call(be)}($,Q))return!1}return Z($,Q,te,re,0)}function j($,Q){return Q.filter(function(te){return o($,te)})}function Z($,Q,te,re,le,ue){if(5===arguments.length){ue=Object.keys($);var he=Object.keys(Q);if(ue.length!==he.length)return!1}for(var ge=0;ge<ue.length;ge++)if(!a(Q,ue[ge]))return!1;if(te&&5===arguments.length){var xe=c($);if(0!==xe.length){var ke=0;for(ge=0;ge<xe.length;ge++){var Ae=xe[ge];if(o($,Ae)){if(!o(Q,Ae))return!1;ue.push(Ae),ke++}else if(o(Q,Ae))return!1}var pe=c(Q);if(xe.length!==pe.length&&j(Q,pe).length!==ke)return!1}else{var ye=c(Q);if(0!==ye.length&&0!==j(Q,ye).length)return!1}}if(0===ue.length&&(0===le||1===le&&0===$.length||0===$.size))return!0;if(void 0===re)re={val1:new Map,val2:new Map,position:0};else{var Ne=re.val1.get($);if(void 0!==Ne){var be=re.val2.get(Q);if(void 0!==be)return Ne===be}re.position++}re.val1.set($,re.position),re.val2.set(Q,re.position);var Ee=X($,Q,te,ue,re,le);return re.val1.delete($),re.val2.delete(Q),Ee}function V($,Q,te,re){for(var le=S($),ue=0;ue<le.length;ue++){var he=le[ue];if(W(Q,he,te,re))return $.delete(he),!0}return!1}function q($){switch(E($)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":$=+$;case"number":if(i($))return!1}return!0}function G($,Q,te){var re=q(te);return re??(Q.has(re)&&!$.has(re))}function H($,Q,te,re,le){var ue=q(te);if(null!=ue)return ue;var he=Q.get(ue);return!(void 0===he&&!Q.has(ue)||!W(re,he,!1,le))&&!$.has(ue)&&W(re,he,!1,le)}function ne($,Q,te,re,le,ue){for(var he=S($),ge=0;ge<he.length;ge++){var xe=he[ge];if(W(te,xe,le,ue)&&W(re,Q.get(xe),le,ue))return $.delete(xe),!0}return!1}function X($,Q,te,re,le,ue){var he=0;if(2===ue){if(!function(Ae,pe,ye,Ne){for(var be=null,Ee=S(Ae),Oe=0;Oe<Ee.length;Oe++){var De=Ee[Oe];if("object"===E(De)&&null!==De)null===be&&(be=new Set),be.add(De);else if(!pe.has(De)){if(ye||!G(Ae,pe,De))return!1;null===be&&(be=new Set),be.add(De)}}if(null!==be){for(var oe=S(pe),de=0;de<oe.length;de++){var _e=oe[de];if("object"===E(_e)&&null!==_e){if(!V(be,_e,ye,Ne))return!1}else if(!ye&&!Ae.has(_e)&&!V(be,_e,ye,Ne))return!1}return 0===be.size}return!0}($,Q,te,le))return!1}else if(3===ue){if(!function(Ae,pe,ye,Ne){for(var be=null,Ee=M(Ae),Oe=0;Oe<Ee.length;Oe++){var De=C(Ee[Oe],2),oe=De[0],de=De[1];if("object"===E(oe)&&null!==oe)null===be&&(be=new Set),be.add(oe);else{var _e=pe.get(oe);if(void 0===_e&&!pe.has(oe)||!W(de,_e,ye,Ne)){if(ye||!H(Ae,pe,oe,de,Ne))return!1;null===be&&(be=new Set),be.add(oe)}}}if(null!==be){for(var Me=M(pe),Pe=0;Pe<Me.length;Pe++){var Ue=C(Me[Pe],2),Be=(oe=Ue[0],Ue[1]);if("object"===E(oe)&&null!==oe){if(!ne(be,Ae,oe,Be,ye,Ne))return!1}else if(!(ye||Ae.has(oe)&&W(Ae.get(oe),Be,!1,Ne)||ne(be,Ae,oe,Be,!1,Ne)))return!1}return 0===be.size}return!0}($,Q,te,le))return!1}else if(1===ue)for(;he<$.length;he++){if(!a($,he)){if(a(Q,he))return!1;for(var ge=Object.keys($);he<ge.length;he++){var xe=ge[he];if(!a(Q,xe)||!W($[xe],Q[xe],te,le))return!1}return ge.length===Object.keys(Q).length}if(!a(Q,he)||!W($[he],Q[he],te,le))return!1}for(he=0;he<re.length;he++){var ke=re[he];if(!W($[ke],Q[ke],te,le))return!1}return!0}ie.exports={isDeepEqual:function($,Q){return W($,Q,!1)},isDeepStrictEqual:function($,Q){return W($,Q,!0)}}},95341:function(ie,z){"use strict";z.byteLength=function(i){var u=v(i),o=u[1];return 3*(u[0]+o)/4-o},z.toByteArray=function(i){var u,a,y,o=v(i),l=o[0],s=o[1],d=new E(3*(l+(y=s))/4-y),g=0,p=s>0?l-4:l;for(a=0;a<p;a+=4)u=C[i.charCodeAt(a)]<<18|C[i.charCodeAt(a+1)]<<12|C[i.charCodeAt(a+2)]<<6|C[i.charCodeAt(a+3)],d[g++]=u>>16&255,d[g++]=u>>8&255,d[g++]=255&u;return 2===s&&(u=C[i.charCodeAt(a)]<<2|C[i.charCodeAt(a+1)]>>4,d[g++]=255&u),1===s&&(u=C[i.charCodeAt(a)]<<10|C[i.charCodeAt(a+1)]<<4|C[i.charCodeAt(a+2)]>>2,d[g++]=u>>8&255,d[g++]=255&u),d},z.fromByteArray=function(i){for(var u,a=i.length,o=a%3,l=[],s=16383,d=0,g=a-o;d<g;d+=s)l.push(c(i,d,d+s>g?g:d+s));return 1===o?l.push(r[(u=i[a-1])>>2]+r[u<<4&63]+"=="):2===o&&l.push(r[(u=(i[a-2]<<8)+i[a-1])>>10]+r[u>>4&63]+r[u<<2&63]+"="),l.join("")};for(var r=[],C=[],E=typeof Uint8Array<"u"?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S=0,M=f.length;S<M;++S)r[S]=f[S],C[f.charCodeAt(S)]=S;function v(i){var u=i.length;if(u%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var a=i.indexOf("=");return-1===a&&(a=u),[a,a===u?0:4-a%4]}function c(i,u,a){for(var l,s=[],d=u;d<a;d+=3)s.push(r[(l=(i[d]<<16&16711680)+(i[d+1]<<8&65280)+(255&i[d+2]))>>18&63]+r[l>>12&63]+r[l>>6&63]+r[63&l]);return s.join("")}C["-".charCodeAt(0)]=62,C["_".charCodeAt(0)]=63},91358:function(ie){"use strict";function z(M,v,c,i,u){for(var a=u+1;i<=u;){var o=i+u>>>1,l=M[o];(void 0!==c?c(l,v):l-v)>=0?(a=o,u=o-1):i=o+1}return a}function r(M,v,c,i,u){for(var a=u+1;i<=u;){var o=i+u>>>1,l=M[o];(void 0!==c?c(l,v):l-v)>0?(a=o,u=o-1):i=o+1}return a}function C(M,v,c,i,u){for(var a=i-1;i<=u;){var o=i+u>>>1,l=M[o];(void 0!==c?c(l,v):l-v)<0?(a=o,i=o+1):u=o-1}return a}function E(M,v,c,i,u){for(var a=i-1;i<=u;){var o=i+u>>>1,l=M[o];(void 0!==c?c(l,v):l-v)<=0?(a=o,i=o+1):u=o-1}return a}function f(M,v,c,i,u){for(;i<=u;){var a=i+u>>>1,o=M[a],l=void 0!==c?c(o,v):o-v;if(0===l)return a;l<=0?i=a+1:u=a-1}return-1}function S(M,v,c,i,u,a){return"function"==typeof c?a(M,v,c,void 0===i?0:0|i,void 0===u?M.length-1:0|u):a(M,v,void 0,void 0===c?0:0|c,void 0===i?M.length-1:0|i)}ie.exports={ge:function(M,v,c,i,u){return S(M,v,c,i,u,z)},gt:function(M,v,c,i,u){return S(M,v,c,i,u,r)},lt:function(M,v,c,i,u){return S(M,v,c,i,u,C)},le:function(M,v,c,i,u){return S(M,v,c,i,u,E)},eq:function(M,v,c,i,u){return S(M,v,c,i,u,f)}}},13547:function(ie,z){"use strict";function r(E){var f=32;return(E&=-E)&&f--,65535&E&&(f-=16),16711935&E&&(f-=8),252645135&E&&(f-=4),858993459&E&&(f-=2),1431655765&E&&(f-=1),f}z.INT_BITS=32,z.INT_MAX=2147483647,z.INT_MIN=-2147483648,z.sign=function(E){return(E>0)-(E<0)},z.abs=function(E){var f=E>>31;return(E^f)-f},z.min=function(E,f){return f^(E^f)&-(E<f)},z.max=function(E,f){return E^(E^f)&-(E<f)},z.isPow2=function(E){return!(E&E-1||!E)},z.log2=function(E){var f,S;return f=(E>65535)<<4,f|=S=((E>>>=f)>255)<<3,f|=S=((E>>>=S)>15)<<2,(f|=S=((E>>>=S)>3)<<1)|(E>>>=S)>>1},z.log10=function(E){return E>=1e9?9:E>=1e8?8:E>=1e7?7:E>=1e6?6:E>=1e5?5:E>=1e4?4:E>=1e3?3:E>=100?2:E>=10?1:0},z.popCount=function(E){return 16843009*((E=(858993459&(E-=E>>>1&1431655765))+(E>>>2&858993459))+(E>>>4)&252645135)>>>24},z.countTrailingZeros=r,z.nextPow2=function(E){return E+=0===E,--E,E|=E>>>1,E|=E>>>2,E|=E>>>4,1+((E|=E>>>8)|E>>>16)},z.prevPow2=function(E){return E|=E>>>1,E|=E>>>2,E|=E>>>4,E|=E>>>8,(E|=E>>>16)-(E>>>1)},z.parity=function(E){return E^=E>>>16,E^=E>>>8,E^=E>>>4,27030>>>(E&=15)&1};var C=new Array(256);(function(E){for(var f=0;f<256;++f){var S=f,M=f,v=7;for(S>>>=1;S;S>>>=1)M<<=1,M|=1&S,--v;E[f]=M<<v&255}})(C),z.reverse=function(E){return C[255&E]<<24|C[E>>>8&255]<<16|C[E>>>16&255]<<8|C[E>>>24&255]},z.interleave2=function(E,f){return(E=1431655765&((E=858993459&((E=252645135&((E=16711935&((E&=65535)|E<<8))|E<<4))|E<<2))|E<<1))|(f=1431655765&((f=858993459&((f=252645135&((f=16711935&((f&=65535)|f<<8))|f<<4))|f<<2))|f<<1))<<1},z.deinterleave2=function(E,f){return(E=65535&((E=16711935&((E=252645135&((E=858993459&((E=E>>>f&1431655765)|E>>>1))|E>>>2))|E>>>4))|E>>>16))<<16>>16},z.interleave3=function(E,f,S){return E=1227133513&((E=3272356035&((E=251719695&((E=4278190335&((E&=1023)|E<<16))|E<<8))|E<<4))|E<<2),(E|=(f=1227133513&((f=3272356035&((f=251719695&((f=4278190335&((f&=1023)|f<<16))|f<<8))|f<<4))|f<<2))<<1)|(S=1227133513&((S=3272356035&((S=251719695&((S=4278190335&((S&=1023)|S<<16))|S<<8))|S<<4))|S<<2))<<2},z.deinterleave3=function(E,f){return(E=1023&((E=4278190335&((E=251719695&((E=3272356035&((E=E>>>f&1227133513)|E>>>2))|E>>>4))|E>>>8))|E>>>16))<<22>>22},z.nextCombination=function(E){var f=E|E-1;return f+1|(~f&-~f)-1>>>r(E)+1}},44781:function(ie,z,r){"use strict";var C=r(53435);ie.exports=function(M,v){v||(v={});var c,i,u,a,o,l,d,p,T,_=null==v.cutoff?.25:v.cutoff,y=null==v.radius?8:v.radius,w=v.channel||0;if(ArrayBuffer.isView(M)||Array.isArray(M)){if(!v.width||!v.height)throw Error("For raw data width and height should be provided by options");c=v.width,i=v.height,a=M,l=v.stride?v.stride:Math.floor(M.length/c/i)}else window.HTMLCanvasElement&&M instanceof window.HTMLCanvasElement?(a=(d=M).getContext("2d").getImageData(0,0,c=d.width,i=d.height).data,l=4):window.CanvasRenderingContext2D&&M instanceof window.CanvasRenderingContext2D?(c=(d=M.canvas).width,a=M.getImageData(0,0,c,i=d.height).data,l=4):window.ImageData&&M instanceof window.ImageData&&(c=M.width,i=M.height,a=M.data,l=4);if(u=Math.max(c,i),window.Uint8ClampedArray&&a instanceof window.Uint8ClampedArray||window.Uint8Array&&a instanceof window.Uint8Array)for(o=a,a=Array(c*i),p=0,T=o.length;p<T;p++)a[p]=o[p*l+w]/255;else if(1!==l)throw Error("Raw data can have only 1 value per pixel");var m=Array(c*i),b=Array(c*i),k=Array(u),h=Array(u),O=Array(u+1),A=Array(u);for(p=0,T=c*i;p<T;p++){var I=a[p];m[p]=1===I?0:0===I?E:Math.pow(Math.max(0,.5-I),2),b[p]=1===I?E:0===I?0:Math.pow(Math.max(0,I-.5),2)}f(m,c,i,k,h,A,O),f(b,c,i,k,h,A,O);var P=window.Float32Array?new Float32Array(c*i):new Array(c*i);for(p=0,T=c*i;p<T;p++)P[p]=C(1-((m[p]-b[p])/y+_),0,1);return P};var E=1e20;function f(M,v,c,i,u,a,o){for(var l=0;l<v;l++){for(var s=0;s<c;s++)i[s]=M[s*v+l];for(S(i,u,a,o,c),s=0;s<c;s++)M[s*v+l]=u[s]}for(s=0;s<c;s++){for(l=0;l<v;l++)i[l]=M[s*v+l];for(S(i,u,a,o,v),l=0;l<v;l++)M[s*v+l]=Math.sqrt(u[l])}}function S(M,v,c,i,u){c[0]=0,i[0]=-E,i[1]=+E;for(var a=1,o=0;a<u;a++){for(var l=(M[a]+a*a-(M[c[o]]+c[o]*c[o]))/(2*a-2*c[o]);l<=i[o];)o--,l=(M[a]+a*a-(M[c[o]]+c[o]*c[o]))/(2*a-2*c[o]);c[++o]=a,i[o]=l,i[o+1]=+E}for(a=0,o=0;a<u;a++){for(;i[o+1]<a;)o++;v[a]=(a-c[o])*(a-c[o])+M[c[o]]}}},68222:function(ie,z,r){"use strict";var C=r(77575),E=r(68318),f=E("%Function.prototype.apply%"),S=E("%Function.prototype.call%"),M=E("%Reflect.apply%",!0)||C.call(S,f),v=E("%Object.defineProperty%",!0);if(v)try{v({},"a",{value:1})}catch{v=null}ie.exports=function(){return M(C,S,arguments)};var c=function(){return M(C,f,arguments)};v?v(ie.exports,"apply",{value:c}):ie.exports.apply=c},53435:function(ie){ie.exports=function(z,r,C){return r<C?z<r?r:z>C?C:z:z<C?C:z>r?r:z}},6475:function(ie,z,r){"use strict";var C=r(53435);function E(f,S){null==S&&(S=!0);var M=f[0],v=f[1],c=f[2],i=f[3];return null==i&&(i=S?1:255),S&&(M*=255,v*=255,c*=255,i*=255),16777216*(M=255&C(M,0,255))+((v=255&C(v,0,255))<<16)+((c=255&C(c,0,255))<<8)+(255&C(i,0,255))}ie.exports=E,ie.exports.to=E,ie.exports.from=function(f,S){var M=(f=+f)>>>24,v=(16711680&f)>>>16,c=(65280&f)>>>8,i=255&f;return!1===S?[M,v,c,i]:[M/255,v/255,c/255,i/255]}},76857:function(ie){"use strict";ie.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},25075:function(ie,z,r){"use strict";var C=r(36652),E=r(53435),f=r(90660);ie.exports=function(S,M){"float"!==M&&M||(M="array"),"uint"===M&&(M="uint8"),"uint_clamped"===M&&(M="uint8_clamped");var i,v=new(f(M))(4),c="uint8"!==M&&"uint8_clamped"!==M;return S.length&&"string"!=typeof S||((S=C(S))[0]/=255,S[1]/=255,S[2]/=255),(i=S)instanceof Uint8Array||i instanceof Uint8ClampedArray||Array.isArray(i)&&(i[0]>1||0===i[0])&&(i[1]>1||0===i[1])&&(i[2]>1||0===i[2])&&(!i[3]||i[3]>1)?(v[0]=S[0],v[1]=S[1],v[2]=S[2],v[3]=null!=S[3]?S[3]:255,c&&(v[0]/=255,v[1]/=255,v[2]/=255,v[3]/=255),v):(c?(v[0]=S[0],v[1]=S[1],v[2]=S[2],v[3]=null!=S[3]?S[3]:1):(v[0]=E(Math.floor(255*S[0]),0,255),v[1]=E(Math.floor(255*S[1]),0,255),v[2]=E(Math.floor(255*S[2]),0,255),v[3]=null==S[3]?255:E(Math.floor(255*S[3]),0,255)),v)}},90736:function(ie,z,r){"use strict";var C=r(76857),E=r(10973),f=r(46775);ie.exports=function(M){var v,c,i=[],u=1;if("string"==typeof M)if(C[M])i=C[M].slice(),c="rgb";else if("transparent"===M)u=0,c="rgb",i=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(M)){var a=(s=M.slice(1)).length;u=1,a<=4?(i=[parseInt(s[0]+s[0],16),parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16)],4===a&&(u=parseInt(s[3]+s[3],16)/255)):(i=[parseInt(s[0]+s[1],16),parseInt(s[2]+s[3],16),parseInt(s[4]+s[5],16)],8===a&&(u=parseInt(s[6]+s[7],16)/255)),i[0]||(i[0]=0),i[1]||(i[1]=0),i[2]||(i[2]=0),c="rgb"}else if(v=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(M)){var o=v[1],l="rgb"===o,s=o.replace(/a$/,"");c=s,a="cmyk"===s?4:"gray"===s?1:3,i=v[2].trim().split(/\s*,\s*/).map(function(g,p){if(/%$/.test(g))return p===a?parseFloat(g)/100:"rgb"===s?255*parseFloat(g)/100:parseFloat(g);if("h"===s[p]){if(/deg$/.test(g))return parseFloat(g);if(void 0!==S[g])return S[g]}return parseFloat(g)}),o===s&&i.push(1),u=l||void 0===i[a]?1:i[a],i=i.slice(0,a)}else M.length>10&&/[0-9](?:\s|\/)/.test(M)&&(i=M.match(/([0-9]+)/g).map(function(g){return parseFloat(g)}),c=M.match(/([a-z])/gi).join("").toLowerCase());else if(isNaN(M))if(E(M)){var d=f(M.r,M.red,M.R,null);null!==d?(c="rgb",i=[d,f(M.g,M.green,M.G),f(M.b,M.blue,M.B)]):(c="hsl",i=[f(M.h,M.hue,M.H),f(M.s,M.saturation,M.S),f(M.l,M.lightness,M.L,M.b,M.brightness)]),u=f(M.a,M.alpha,M.opacity,1),null!=M.opacity&&(u/=100)}else(Array.isArray(M)||r.g.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(M))&&(i=[M[0],M[1],M[2]],c="rgb",u=4===M.length?M[3]:1);else c="rgb",i=[M>>>16,(65280&M)>>>8,255&M];return{space:c,values:i,alpha:u}};var S={red:0,orange:60,yellow:120,green:180,blue:240,purple:300}},36652:function(ie,z,r){"use strict";var C=r(90736),E=r(80009),f=r(53435);ie.exports=function(S){var M,v=C(S);return v.space?((M=Array(3))[0]=f(v.values[0],0,255),M[1]=f(v.values[1],0,255),M[2]=f(v.values[2],0,255),"h"===v.space[0]&&(M=E.rgb(M)),M.push(f(v.alpha,0,1)),M):[]}},80009:function(ie,z,r){"use strict";var C=r(6866);ie.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(E){var f,S,M,v,c,i=E[0]/360,u=E[1]/100,a=E[2]/100;if(0===u)return[c=255*a,c,c];f=2*a-(S=a<.5?a*(1+u):a+u-a*u),v=[0,0,0];for(var o=0;o<3;o++)(M=i+.3333333333333333*-(o-1))<0?M++:M>1&&M--,v[o]=255*(c=6*M<1?f+6*(S-f)*M:2*M<1?S:3*M<2?f+(S-f)*(.6666666666666666-M)*6:f);return v}},C.hsl=function(E){var f,S,M=E[0]/255,v=E[1]/255,c=E[2]/255,i=Math.min(M,v,c),u=Math.max(M,v,c),a=u-i;return u===i?f=0:M===u?f=(v-c)/a:v===u?f=2+(c-M)/a:c===u&&(f=4+(M-v)/a),(f=Math.min(60*f,360))<0&&(f+=360),S=(i+u)/2,[f,100*(u===i?0:S<=.5?a/(u+i):a/(2-u-i)),100*S]}},6866:function(ie){"use strict";ie.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},24138:function(ie){ie.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|\xe7)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|\xe9)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|\xe9)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|\xe3)o.?tom(e|\xe9)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},72791:function(ie,z,r){"use strict";ie.exports={parse:r(41004),stringify:r(53313)}},63625:function(ie,z,r){"use strict";var C=r(40402);ie.exports={isSize:function(E){return/^[\d\.]/.test(E)||-1!==E.indexOf("/")||-1!==C.indexOf(E)}}},41004:function(ie,z,r){"use strict";var C=r(90448),E=r(38732),f=r(41901),S=r(15659),M=r(96209),v=r(83794),c=r(99011),i=r(63625).isSize;ie.exports=a;var u=a.cache={};function a(l){if("string"!=typeof l)throw new Error("Font argument must be a string.");if(u[l])return u[l];if(""===l)throw new Error("Cannot parse an empty string.");if(-1!==f.indexOf(l))return u[l]={system:l};for(var s,d={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},g=c(l,/\s+/);s=g.shift();){if(-1!==E.indexOf(s))return["style","variant","weight","stretch"].forEach(function(T){d[T]=s}),u[l]=d;if(-1===M.indexOf(s))if("normal"!==s&&"small-caps"!==s)if(-1===v.indexOf(s)){if(-1===S.indexOf(s)){if(i(s)){var p=c(s,"/");if(d.size=p[0],null!=p[1]?d.lineHeight=o(p[1]):"/"===g[0]&&(g.shift(),d.lineHeight=o(g.shift())),!g.length)throw new Error("Missing required font-family.");return d.family=c(g.join(" "),/\s*,\s*/).map(C),u[l]=d}throw new Error("Unknown or unsupported font token: "+s)}d.weight=s}else d.stretch=s;else d.variant=s;else d.style=s}throw new Error("Missing required font-size.")}function o(l){var s=parseFloat(l);return s.toString()===l?s:l}},53313:function(ie,z,r){"use strict";var C=r(71299),E=r(63625).isSize,f=l(r(38732)),S=l(r(41901)),M=l(r(15659)),v=l(r(96209)),c=l(r(83794)),i={normal:1,"small-caps":1},u={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},a="serif";function o(s,d){if(s&&!d[s]&&!f[s])throw Error("Unknown keyword `"+s+"`");return s}function l(s){for(var d={},g=0;g<s.length;g++)d[s[g]]=1;return d}ie.exports=function(s){if((s=C(s,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"})).system)return s.system&&o(s.system,S),s.system;if(o(s.style,v),o(s.variant,i),o(s.weight,M),o(s.stretch,c),null==s.size&&(s.size="1rem"),"number"==typeof s.size&&(s.size+="px"),!E)throw Error("Bad size value `"+s.size+"`");s.family||(s.family=a),Array.isArray(s.family)&&(s.family.length||(s.family=[a]),s.family=s.family.map(function(g){return u[g]?g:'"'+g+'"'}).join(", "));var d=[];return d.push(s.style),s.variant!==s.style&&d.push(s.variant),s.weight!==s.variant&&s.weight!==s.style&&d.push(s.weight),s.stretch!==s.weight&&s.stretch!==s.variant&&s.stretch!==s.style&&d.push(s.stretch),d.push(s.size+(null==s.lineHeight||"normal"===s.lineHeight||s.lineHeight+""=="1"?"":"/"+s.lineHeight)),d.push(s.family),d.filter(Boolean).join(" ")}},55174:function(ie,z,r){"use strict";var C,E=r(24582),f=r(10424),S=r(82527),M=r(19012),v=r(21780),c=r(16906),i=Function.prototype.bind,u=Object.defineProperty,a=Object.prototype.hasOwnProperty;C=function(o,l,s){var d,g=f(l)&&S(l.value);return delete(d=M(l)).writable,delete d.value,d.get=function(){return!s.overwriteDefinition&&a.call(this,o)?g:(l.value=i.call(g,s.resolveContext?s.resolveContext(this):this),u(this,o,l),this[o])},d},ie.exports=function(o){var l=v(arguments[1]);return E(l.resolveContext)&&S(l.resolveContext),c(o,function(s,d){return C(d,s,l)})}},62072:function(ie,z,r){"use strict";var C=r(24582),E=r(84985),f=r(95879),S=r(21780),M=r(66741),v=ie.exports=function(c,i){var u,a,o,l,s;return arguments.length<2||"string"!=typeof c?(l=i,i=c,c=null):l=arguments[2],C(c)?(u=M.call(c,"c"),a=M.call(c,"e"),o=M.call(c,"w")):(u=o=!0,a=!1),s={value:i,configurable:u,enumerable:a,writable:o},l?f(S(l),s):s};v.gs=function(c,i,u){var a,o,l,s;return"string"!=typeof c?(l=u,u=i,i=c,c=null):l=arguments[3],C(i)?E(i)?C(u)?E(u)||(l=u,u=void 0):u=void 0:(l=i,i=u=void 0):i=void 0,C(c)?(a=M.call(c,"c"),o=M.call(c,"e")):(a=!0,o=!1),s={get:i,set:u,configurable:a,enumerable:o},l?f(S(l),s):s}},33064:function(ie,z,r){"use strict";function C(l,s){return l<s?-1:l>s?1:l>=s?0:NaN}var E,f;function M(l,s){var d,g,p=l.length,T=-1;if(null==s){for(;++T<p;)if(null!=(d=l[T])&&d>=d)for(g=d;++T<p;)null!=(d=l[T])&&d>g&&(g=d)}else for(;++T<p;)if(null!=(d=s(l[T],T,l))&&d>=d)for(g=d;++T<p;)null!=(d=s(l[T],T,l))&&d>g&&(g=d);return g}function v(l){return null===l?NaN:+l}function c(l,s){var d,g=l.length,p=g,T=-1,_=0;if(null==s)for(;++T<g;)isNaN(d=v(l[T]))?--p:_+=d;else for(;++T<g;)isNaN(d=v(s(l[T],T,l)))?--p:_+=d;if(p)return _/p}function i(l){for(var s,d,g,p=l.length,T=-1,_=0;++T<p;)_+=l[T].length;for(d=new Array(_);--p>=0;)for(s=(g=l[p]).length;--s>=0;)d[--_]=g[s];return d}function u(l,s){var d,g,p=l.length,T=-1;if(null==s){for(;++T<p;)if(null!=(d=l[T])&&d>=d)for(g=d;++T<p;)null!=(d=l[T])&&g>d&&(g=d)}else for(;++T<p;)if(null!=(d=s(l[T],T,l))&&d>=d)for(g=d;++T<p;)null!=(d=s(l[T],T,l))&&g>d&&(g=d);return g}function a(l,s,d){l=+l,s=+s,d=(p=arguments.length)<2?(s=l,l=0,1):p<3?1:+d;for(var g=-1,p=0|Math.max(0,Math.ceil((s-l)/d)),T=new Array(p);++g<p;)T[g]=l+g*d;return T}function o(l,s){var d,g=l.length,p=-1,T=0;if(null==s)for(;++p<g;)(d=+l[p])&&(T+=d);else for(;++p<g;)(d=+s(l[p],p,l))&&(T+=d);return T}r.d(z,{j2:function(){return C},Fp:function(){return M},J6:function(){return c},TS:function(){return i},VV:function(){return u},w6:function(){return a},Sm:function(){return o}}),1===(E=C).length&&(f=E,E=function(l,s){return C(f(l),s)}),Math.sqrt(50),Math.sqrt(10),Math.sqrt(2)},15140:function(ie,z,r){"use strict";r.d(z,{UI:function(){return S},b1:function(){return M}});var C="$";function E(){}function f(l,s){var d=new E;if(l instanceof E)l.each(function(y,w){d.set(w,y)});else if(Array.isArray(l)){var g,p=-1,T=l.length;if(null==s)for(;++p<T;)d.set(p,l[p]);else for(;++p<T;)d.set(s(g=l[p],p,l),g)}else if(l)for(var _ in l)d.set(_,l[_]);return d}E.prototype=f.prototype={constructor:E,has:function(l){return C+l in this},get:function(l){return this[C+l]},set:function(l,s){return this[C+l]=s,this},remove:function(l){var s=C+l;return s in this&&delete this[s]},clear:function(){for(var l in this)l[0]===C&&delete this[l]},keys:function(){var l=[];for(var s in this)s[0]===C&&l.push(s.slice(1));return l},values:function(){var l=[];for(var s in this)s[0]===C&&l.push(this[s]);return l},entries:function(){var l=[];for(var s in this)s[0]===C&&l.push({key:s.slice(1),value:this[s]});return l},size:function(){var l=0;for(var s in this)s[0]===C&&++l;return l},empty:function(){for(var l in this)if(l[0]===C)return!1;return!0},each:function(l){for(var s in this)s[0]===C&&l(this[s],s.slice(1),this)}};var S=f;function M(){var l,s,d,g=[],p=[];function T(y,w,m,b){if(w>=g.length)return null!=l&&y.sort(l),null!=s?s(y):y;for(var k,h,O,A=-1,I=y.length,P=g[w++],L=S(),N=m();++A<I;)(O=L.get(k=P(h=y[A])+""))?O.push(h):L.set(k,[h]);return L.each(function(B,W){b(N,W,T(B,w,m,b))}),N}function _(y,w){if(++w>g.length)return y;var m,b=p[w-1];return null!=s&&w>=g.length?m=y.entries():(m=[],y.each(function(k,h){m.push({key:h,values:_(k,w)})})),null!=b?m.sort(function(k,h){return b(k.key,h.key)}):m}return d={object:function(y){return T(y,0,v,c)},map:function(y){return T(y,0,i,u)},entries:function(y){return _(T(y,0,i,u),0)},key:function(y){return g.push(y),d},sortKeys:function(y){return p[g.length-1]=y,d},sortValues:function(y){return l=y,d},rollup:function(y){return s=y,d}}}function v(){return{}}function c(l,s,d){l[s]=d}function i(){return S()}function u(l,s,d){l.set(s,d)}function a(){}var o=S.prototype;a.prototype=function(l,s){var d=new a;if(l instanceof a)l.each(function(T){d.add(T)});else if(l){var g=-1,p=l.length;if(null==s)for(;++g<p;)d.add(l[g]);else for(;++g<p;)d.add(s(l[g],g,l))}return d}.prototype={constructor:a,has:o.has,add:function(l){return this[C+(l+="")]=l,this},remove:o.remove,clear:o.clear,values:o.keys,size:o.size,empty:o.empty,each:o.each}},49887:function(ie,z,r){"use strict";function C(Ae,pe){var ye;function Ne(){var be,Ee,Oe=ye.length,De=0,oe=0;for(be=0;be<Oe;++be)De+=(Ee=ye[be]).x,oe+=Ee.y;for(De=De/Oe-Ae,oe=oe/Oe-pe,be=0;be<Oe;++be)(Ee=ye[be]).x-=De,Ee.y-=oe}return null==Ae&&(Ae=0),null==pe&&(pe=0),Ne.initialize=function(be){ye=be},Ne.x=function(be){return arguments.length?(Ae=+be,Ne):Ae},Ne.y=function(be){return arguments.length?(pe=+be,Ne):pe},Ne}function E(Ae){return function(){return Ae}}function f(){return 1e-6*(Math.random()-.5)}function S(Ae,pe,ye,Ne){if(isNaN(pe)||isNaN(ye))return Ae;var be,Ee,Oe,De,oe,de,_e,Me,Pe,Ue=Ae._root,Be={data:Ne},Ve=Ae._x0,ve=Ae._y0,Te=Ae._x1,Ce=Ae._y1;if(!Ue)return Ae._root=Be,Ae;for(;Ue.length;)if((de=pe>=(Ee=(Ve+Te)/2))?Ve=Ee:Te=Ee,(_e=ye>=(Oe=(ve+Ce)/2))?ve=Oe:Ce=Oe,be=Ue,!(Ue=Ue[Me=_e<<1|de]))return be[Me]=Be,Ae;if(De=+Ae._x.call(null,Ue.data),oe=+Ae._y.call(null,Ue.data),pe===De&&ye===oe)return Be.next=Ue,be?be[Me]=Be:Ae._root=Be,Ae;do{be=be?be[Me]=new Array(4):Ae._root=new Array(4),(de=pe>=(Ee=(Ve+Te)/2))?Ve=Ee:Te=Ee,(_e=ye>=(Oe=(ve+Ce)/2))?ve=Oe:Ce=Oe}while((Me=_e<<1|de)==(Pe=(oe>=Oe)<<1|De>=Ee));return be[Pe]=Ue,be[Me]=Be,Ae}function M(Ae,pe,ye,Ne,be){this.node=Ae,this.x0=pe,this.y0=ye,this.x1=Ne,this.y1=be}function v(Ae){return Ae[0]}function c(Ae){return Ae[1]}function i(Ae,pe,ye){var Ne=new u(pe??v,ye??c,NaN,NaN,NaN,NaN);return null==Ae?Ne:Ne.addAll(Ae)}function u(Ae,pe,ye,Ne,be,Ee){this._x=Ae,this._y=pe,this._x0=ye,this._y0=Ne,this._x1=be,this._y1=Ee,this._root=void 0}function a(Ae){for(var pe={data:Ae.data},ye=pe;Ae=Ae.next;)ye=ye.next={data:Ae.data};return pe}r.r(z),r.d(z,{forceCenter:function(){return C},forceCollide:function(){return d},forceLink:function(){return _},forceManyBody:function(){return he},forceRadial:function(){return ge},forceSimulation:function(){return ue},forceX:function(){return xe},forceY:function(){return ke}});var o=i.prototype=u.prototype;function l(Ae){return Ae.x+Ae.vx}function s(Ae){return Ae.y+Ae.vy}function d(Ae){var pe,ye,Ne=1,be=1;function Ee(){for(var oe,de,_e,Me,Pe,Ue,Be,Ve=pe.length,ve=0;ve<be;++ve)for(de=i(pe,l,s).visitAfter(Oe),oe=0;oe<Ve;++oe)Be=(Ue=ye[(_e=pe[oe]).index])*Ue,Me=_e.x+_e.vx,Pe=_e.y+_e.vy,de.visit(Te);function Te(Ce,We,Ke,Je,ht){var ft=Ce.data,mt=Ce.r,At=Ue+mt;if(!ft)return We>Me+At||Je<Me-At||Ke>Pe+At||ht<Pe-At;if(ft.index>_e.index){var Rt=Me-ft.x-ft.vx,It=Pe-ft.y-ft.vy,Pt=Rt*Rt+It*It;Pt<At*At&&(0===Rt&&(Pt+=(Rt=f())*Rt),0===It&&(Pt+=(It=f())*It),Pt=(At-(Pt=Math.sqrt(Pt)))/Pt*Ne,_e.vx+=(Rt*=Pt)*(At=(mt*=mt)/(Be+mt)),_e.vy+=(It*=Pt)*At,ft.vx-=Rt*(At=1-At),ft.vy-=It*At)}}}function Oe(oe){if(oe.data)return oe.r=ye[oe.data.index];for(var de=oe.r=0;de<4;++de)oe[de]&&oe[de].r>oe.r&&(oe.r=oe[de].r)}function De(){if(pe){var oe,de,_e=pe.length;for(ye=new Array(_e),oe=0;oe<_e;++oe)ye[(de=pe[oe]).index]=+Ae(de,oe,pe)}}return"function"!=typeof Ae&&(Ae=E(null==Ae?1:+Ae)),Ee.initialize=function(oe){pe=oe,De()},Ee.iterations=function(oe){return arguments.length?(be=+oe,Ee):be},Ee.strength=function(oe){return arguments.length?(Ne=+oe,Ee):Ne},Ee.radius=function(oe){return arguments.length?(Ae="function"==typeof oe?oe:E(+oe),De(),Ee):Ae},Ee}o.copy=function(){var Ae,pe,ye=new u(this._x,this._y,this._x0,this._y0,this._x1,this._y1),Ne=this._root;if(!Ne)return ye;if(!Ne.length)return ye._root=a(Ne),ye;for(Ae=[{source:Ne,target:ye._root=new Array(4)}];Ne=Ae.pop();)for(var be=0;be<4;++be)(pe=Ne.source[be])&&(pe.length?Ae.push({source:pe,target:Ne.target[be]=new Array(4)}):Ne.target[be]=a(pe));return ye},o.add=function(Ae){var pe=+this._x.call(null,Ae),ye=+this._y.call(null,Ae);return S(this.cover(pe,ye),pe,ye,Ae)},o.addAll=function(Ae){var pe,ye,Ne,be,Ee=Ae.length,Oe=new Array(Ee),De=new Array(Ee),oe=1/0,de=1/0,_e=-1/0,Me=-1/0;for(ye=0;ye<Ee;++ye)isNaN(Ne=+this._x.call(null,pe=Ae[ye]))||isNaN(be=+this._y.call(null,pe))||(Oe[ye]=Ne,De[ye]=be,Ne<oe&&(oe=Ne),Ne>_e&&(_e=Ne),be<de&&(de=be),be>Me&&(Me=be));if(oe>_e||de>Me)return this;for(this.cover(oe,de).cover(_e,Me),ye=0;ye<Ee;++ye)S(this,Oe[ye],De[ye],Ae[ye]);return this},o.cover=function(Ae,pe){if(isNaN(Ae=+Ae)||isNaN(pe=+pe))return this;var ye=this._x0,Ne=this._y0,be=this._x1,Ee=this._y1;if(isNaN(ye))be=(ye=Math.floor(Ae))+1,Ee=(Ne=Math.floor(pe))+1;else{for(var Oe,De,oe=be-ye,de=this._root;ye>Ae||Ae>=be||Ne>pe||pe>=Ee;)switch(De=(pe<Ne)<<1|Ae<ye,(Oe=new Array(4))[De]=de,de=Oe,oe*=2,De){case 0:be=ye+oe,Ee=Ne+oe;break;case 1:ye=be-oe,Ee=Ne+oe;break;case 2:be=ye+oe,Ne=Ee-oe;break;case 3:ye=be-oe,Ne=Ee-oe}this._root&&this._root.length&&(this._root=de)}return this._x0=ye,this._y0=Ne,this._x1=be,this._y1=Ee,this},o.data=function(){var Ae=[];return this.visit(function(pe){if(!pe.length)do{Ae.push(pe.data)}while(pe=pe.next)}),Ae},o.extent=function(Ae){return arguments.length?this.cover(+Ae[0][0],+Ae[0][1]).cover(+Ae[1][0],+Ae[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},o.find=function(Ae,pe,ye){var Ne,be,Ee,Oe,De,oe,de,_e=this._x0,Me=this._y0,Pe=this._x1,Ue=this._y1,Be=[],Ve=this._root;for(Ve&&Be.push(new M(Ve,_e,Me,Pe,Ue)),null==ye?ye=1/0:(_e=Ae-ye,Me=pe-ye,Pe=Ae+ye,Ue=pe+ye,ye*=ye);oe=Be.pop();)if(!(!(Ve=oe.node)||(be=oe.x0)>Pe||(Ee=oe.y0)>Ue||(Oe=oe.x1)<_e||(De=oe.y1)<Me))if(Ve.length){var ve=(be+Oe)/2,Te=(Ee+De)/2;Be.push(new M(Ve[3],ve,Te,Oe,De),new M(Ve[2],be,Te,ve,De),new M(Ve[1],ve,Ee,Oe,Te),new M(Ve[0],be,Ee,ve,Te)),(de=(pe>=Te)<<1|Ae>=ve)&&(oe=Be[Be.length-1],Be[Be.length-1]=Be[Be.length-1-de],Be[Be.length-1-de]=oe)}else{var Ce=Ae-+this._x.call(null,Ve.data),We=pe-+this._y.call(null,Ve.data),Ke=Ce*Ce+We*We;if(Ke<ye){var Je=Math.sqrt(ye=Ke);_e=Ae-Je,Me=pe-Je,Pe=Ae+Je,Ue=pe+Je,Ne=Ve.data}}return Ne},o.remove=function(Ae){if(isNaN(Ee=+this._x.call(null,Ae))||isNaN(Oe=+this._y.call(null,Ae)))return this;var pe,ye,Ne,be,Ee,Oe,De,oe,de,_e,Me,Pe,Ue=this._root,Be=this._x0,Ve=this._y0,ve=this._x1,Te=this._y1;if(!Ue)return this;if(Ue.length)for(;;){if((de=Ee>=(De=(Be+ve)/2))?Be=De:ve=De,(_e=Oe>=(oe=(Ve+Te)/2))?Ve=oe:Te=oe,pe=Ue,!(Ue=Ue[Me=_e<<1|de]))return this;if(!Ue.length)break;(pe[Me+1&3]||pe[Me+2&3]||pe[Me+3&3])&&(ye=pe,Pe=Me)}for(;Ue.data!==Ae;)if(Ne=Ue,!(Ue=Ue.next))return this;return(be=Ue.next)&&delete Ue.next,Ne?(be?Ne.next=be:delete Ne.next,this):pe?(be?pe[Me]=be:delete pe[Me],(Ue=pe[0]||pe[1]||pe[2]||pe[3])&&Ue===(pe[3]||pe[2]||pe[1]||pe[0])&&!Ue.length&&(ye?ye[Pe]=Ue:this._root=Ue),this):(this._root=be,this)},o.removeAll=function(Ae){for(var pe=0,ye=Ae.length;pe<ye;++pe)this.remove(Ae[pe]);return this},o.root=function(){return this._root},o.size=function(){var Ae=0;return this.visit(function(pe){if(!pe.length)do{++Ae}while(pe=pe.next)}),Ae},o.visit=function(Ae){var pe,ye,Ne,be,Ee,Oe,De=[],oe=this._root;for(oe&&De.push(new M(oe,this._x0,this._y0,this._x1,this._y1));pe=De.pop();)if(!Ae(oe=pe.node,Ne=pe.x0,be=pe.y0,Ee=pe.x1,Oe=pe.y1)&&oe.length){var de=(Ne+Ee)/2,_e=(be+Oe)/2;(ye=oe[3])&&De.push(new M(ye,de,_e,Ee,Oe)),(ye=oe[2])&&De.push(new M(ye,Ne,_e,de,Oe)),(ye=oe[1])&&De.push(new M(ye,de,be,Ee,_e)),(ye=oe[0])&&De.push(new M(ye,Ne,be,de,_e))}return this},o.visitAfter=function(Ae){var pe,ye=[],Ne=[];for(this._root&&ye.push(new M(this._root,this._x0,this._y0,this._x1,this._y1));pe=ye.pop();){var be=pe.node;if(be.length){var Ee,Oe=pe.x0,De=pe.y0,oe=pe.x1,de=pe.y1,_e=(Oe+oe)/2,Me=(De+de)/2;(Ee=be[0])&&ye.push(new M(Ee,Oe,De,_e,Me)),(Ee=be[1])&&ye.push(new M(Ee,_e,De,oe,Me)),(Ee=be[2])&&ye.push(new M(Ee,Oe,Me,_e,de)),(Ee=be[3])&&ye.push(new M(Ee,_e,Me,oe,de))}Ne.push(pe)}for(;pe=Ne.pop();)Ae(pe.node,pe.x0,pe.y0,pe.x1,pe.y1);return this},o.x=function(Ae){return arguments.length?(this._x=Ae,this):this._x},o.y=function(Ae){return arguments.length?(this._y=Ae,this):this._y};var g=r(15140);function p(Ae){return Ae.index}function T(Ae,pe){var ye=Ae.get(pe);if(!ye)throw new Error("missing: "+pe);return ye}function _(Ae){var pe,ye,Ne,be,Ee,Oe=p,De=function(Be){return 1/Math.min(be[Be.source.index],be[Be.target.index])},oe=E(30),de=1;function _e(Be){for(var Ve=0,ve=Ae.length;Ve<de;++Ve)for(var Te,Ce,We,Ke,Je,ht,ft,mt=0;mt<ve;++mt)Ce=(Te=Ae[mt]).source,Ke=(We=Te.target).x+We.vx-Ce.x-Ce.vx||f(),Je=We.y+We.vy-Ce.y-Ce.vy||f(),Ke*=ht=((ht=Math.sqrt(Ke*Ke+Je*Je))-ye[mt])/ht*Be*pe[mt],Je*=ht,We.vx-=Ke*(ft=Ee[mt]),We.vy-=Je*ft,Ce.vx+=Ke*(ft=1-ft),Ce.vy+=Je*ft}function Me(){if(Ne){var Be,Ve,ve=Ne.length,Te=Ae.length,Ce=(0,g.UI)(Ne,Oe);for(Be=0,be=new Array(ve);Be<Te;++Be)(Ve=Ae[Be]).index=Be,"object"!=typeof Ve.source&&(Ve.source=T(Ce,Ve.source)),"object"!=typeof Ve.target&&(Ve.target=T(Ce,Ve.target)),be[Ve.source.index]=(be[Ve.source.index]||0)+1,be[Ve.target.index]=(be[Ve.target.index]||0)+1;for(Be=0,Ee=new Array(Te);Be<Te;++Be)Ee[Be]=be[(Ve=Ae[Be]).source.index]/(be[Ve.source.index]+be[Ve.target.index]);pe=new Array(Te),Pe(),ye=new Array(Te),Ue()}}function Pe(){if(Ne)for(var Be=0,Ve=Ae.length;Be<Ve;++Be)pe[Be]=+De(Ae[Be],Be,Ae)}function Ue(){if(Ne)for(var Be=0,Ve=Ae.length;Be<Ve;++Be)ye[Be]=+oe(Ae[Be],Be,Ae)}return null==Ae&&(Ae=[]),_e.initialize=function(Be){Ne=Be,Me()},_e.links=function(Be){return arguments.length?(Ae=Be,Me(),_e):Ae},_e.id=function(Be){return arguments.length?(Oe=Be,_e):Oe},_e.iterations=function(Be){return arguments.length?(de=+Be,_e):de},_e.strength=function(Be){return arguments.length?(De="function"==typeof Be?Be:E(+Be),Pe(),_e):De},_e.distance=function(Be){return arguments.length?(oe="function"==typeof Be?Be:E(+Be),Ue(),_e):oe},_e}var y={value:function(){}};function w(){for(var Ae,pe=0,ye=arguments.length,Ne={};pe<ye;++pe){if(!(Ae=arguments[pe]+"")||Ae in Ne||/[\s.]/.test(Ae))throw new Error("illegal type: "+Ae);Ne[Ae]=[]}return new m(Ne)}function m(Ae){this._=Ae}function b(Ae,pe){return Ae.trim().split(/^|\s+/).map(function(ye){var Ne="",be=ye.indexOf(".");if(be>=0&&(Ne=ye.slice(be+1),ye=ye.slice(0,be)),ye&&!pe.hasOwnProperty(ye))throw new Error("unknown type: "+ye);return{type:ye,name:Ne}})}function k(Ae,pe){for(var ye,Ne=0,be=Ae.length;Ne<be;++Ne)if((ye=Ae[Ne]).name===pe)return ye.value}function h(Ae,pe,ye){for(var Ne=0,be=Ae.length;Ne<be;++Ne)if(Ae[Ne].name===pe){Ae[Ne]=y,Ae=Ae.slice(0,Ne).concat(Ae.slice(Ne+1));break}return null!=ye&&Ae.push({name:pe,value:ye}),Ae}m.prototype=w.prototype={constructor:m,on:function(Ae,pe){var ye,Ne=this._,be=b(Ae+"",Ne),Ee=-1,Oe=be.length;if(!(arguments.length<2)){if(null!=pe&&"function"!=typeof pe)throw new Error("invalid callback: "+pe);for(;++Ee<Oe;)if(ye=(Ae=be[Ee]).type)Ne[ye]=h(Ne[ye],Ae.name,pe);else if(null==pe)for(ye in Ne)Ne[ye]=h(Ne[ye],Ae.name,null);return this}for(;++Ee<Oe;)if((ye=(Ae=be[Ee]).type)&&(ye=k(Ne[ye],Ae.name)))return ye},copy:function(){var Ae={},pe=this._;for(var ye in pe)Ae[ye]=pe[ye].slice();return new m(Ae)},call:function(Ae,pe){if((ye=arguments.length-2)>0)for(var ye,Ne,be=new Array(ye),Ee=0;Ee<ye;++Ee)be[Ee]=arguments[Ee+2];if(!this._.hasOwnProperty(Ae))throw new Error("unknown type: "+Ae);for(Ee=0,ye=(Ne=this._[Ae]).length;Ee<ye;++Ee)Ne[Ee].value.apply(pe,be)},apply:function(Ae,pe,ye){if(!this._.hasOwnProperty(Ae))throw new Error("unknown type: "+Ae);for(var Ne=this._[Ae],be=0,Ee=Ne.length;be<Ee;++be)Ne[be].value.apply(pe,ye)}};var O,A,I=w,P=0,L=0,N=0,B=0,W=0,j=0,Z="object"==typeof performance&&performance.now?performance:Date,V="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Ae){setTimeout(Ae,17)};function q(){return W||(V(G),W=Z.now()+j)}function G(){W=0}function H(){this._call=this._time=this._next=null}function ne(Ae,pe,ye){var Ne=new H;return Ne.restart(Ae,pe,ye),Ne}function X(){W=(B=Z.now())+j,P=L=0;try{!function(){q(),++P;for(var Ae,pe=O;pe;)(Ae=W-pe._time)>=0&&pe._call.call(null,Ae),pe=pe._next;--P}()}finally{P=0,function(){for(var Ae,pe,ye=O,Ne=1/0;ye;)ye._call?(Ne>ye._time&&(Ne=ye._time),Ae=ye,ye=ye._next):(pe=ye._next,ye._next=null,ye=Ae?Ae._next=pe:O=pe);A=Ae,Q(Ne)}(),W=0}}function $(){var Ae=Z.now(),pe=Ae-B;pe>1e3&&(j-=pe,B=Ae)}function Q(Ae){P||(L&&(L=clearTimeout(L)),Ae-W>24?(Ae<1/0&&(L=setTimeout(X,Ae-Z.now()-j)),N&&(N=clearInterval(N))):(N||(B=Z.now(),N=setInterval($,1e3)),P=1,V(X)))}function te(Ae){return Ae.x}function re(Ae){return Ae.y}H.prototype=ne.prototype={constructor:H,restart:function(Ae,pe,ye){if("function"!=typeof Ae)throw new TypeError("callback is not a function");ye=(null==ye?q():+ye)+(null==pe?0:+pe),this._next||A===this||(A?A._next=this:O=this,A=this),this._call=Ae,this._time=ye,Q()},stop:function(){this._call&&(this._call=null,this._time=1/0,Q())}};var le=Math.PI*(3-Math.sqrt(5));function ue(Ae){var pe,ye=1,Ne=.001,be=1-Math.pow(Ne,1/300),Ee=0,Oe=.6,De=(0,g.UI)(),oe=ne(_e),de=I("tick","end");function _e(){Me(),de.call("tick",pe),ye<Ne&&(oe.stop(),de.call("end",pe))}function Me(Be){var Ve,ve,Te=Ae.length;void 0===Be&&(Be=1);for(var Ce=0;Ce<Be;++Ce)for(ye+=(Ee-ye)*be,De.each(function(We){We(ye)}),Ve=0;Ve<Te;++Ve)null==(ve=Ae[Ve]).fx?ve.x+=ve.vx*=Oe:(ve.x=ve.fx,ve.vx=0),null==ve.fy?ve.y+=ve.vy*=Oe:(ve.y=ve.fy,ve.vy=0);return pe}function Pe(){for(var Be,Ve=0,ve=Ae.length;Ve<ve;++Ve){if((Be=Ae[Ve]).index=Ve,null!=Be.fx&&(Be.x=Be.fx),null!=Be.fy&&(Be.y=Be.fy),isNaN(Be.x)||isNaN(Be.y)){var Te=10*Math.sqrt(Ve),Ce=Ve*le;Be.x=Te*Math.cos(Ce),Be.y=Te*Math.sin(Ce)}(isNaN(Be.vx)||isNaN(Be.vy))&&(Be.vx=Be.vy=0)}}function Ue(Be){return Be.initialize&&Be.initialize(Ae),Be}return null==Ae&&(Ae=[]),Pe(),pe={tick:Me,restart:function(){return oe.restart(_e),pe},stop:function(){return oe.stop(),pe},nodes:function(Be){return arguments.length?(Ae=Be,Pe(),De.each(Ue),pe):Ae},alpha:function(Be){return arguments.length?(ye=+Be,pe):ye},alphaMin:function(Be){return arguments.length?(Ne=+Be,pe):Ne},alphaDecay:function(Be){return arguments.length?(be=+Be,pe):+be},alphaTarget:function(Be){return arguments.length?(Ee=+Be,pe):Ee},velocityDecay:function(Be){return arguments.length?(Oe=1-Be,pe):1-Oe},force:function(Be,Ve){return arguments.length>1?(null==Ve?De.remove(Be):De.set(Be,Ue(Ve)),pe):De.get(Be)},find:function(Be,Ve,ve){var Te,Ce,We,Ke,Je,ht=0,ft=Ae.length;for(null==ve?ve=1/0:ve*=ve,ht=0;ht<ft;++ht)(We=(Te=Be-(Ke=Ae[ht]).x)*Te+(Ce=Ve-Ke.y)*Ce)<ve&&(Je=Ke,ve=We);return Je},on:function(Be,Ve){return arguments.length>1?(de.on(Be,Ve),pe):de.on(Be)}}}function he(){var Ae,pe,ye,Ne,be=E(-30),Ee=1,Oe=1/0,De=.81;function oe(Pe){var Ue,Be=Ae.length,Ve=i(Ae,te,re).visitAfter(_e);for(ye=Pe,Ue=0;Ue<Be;++Ue)pe=Ae[Ue],Ve.visit(Me)}function de(){if(Ae){var Pe,Ue,Be=Ae.length;for(Ne=new Array(Be),Pe=0;Pe<Be;++Pe)Ne[(Ue=Ae[Pe]).index]=+be(Ue,Pe,Ae)}}function _e(Pe){var Ue,Be,Ve,ve,Te,Ce=0,We=0;if(Pe.length){for(Ve=ve=Te=0;Te<4;++Te)(Ue=Pe[Te])&&(Be=Math.abs(Ue.value))&&(Ce+=Ue.value,We+=Be,Ve+=Be*Ue.x,ve+=Be*Ue.y);Pe.x=Ve/We,Pe.y=ve/We}else{(Ue=Pe).x=Ue.data.x,Ue.y=Ue.data.y;do{Ce+=Ne[Ue.data.index]}while(Ue=Ue.next)}Pe.value=Ce}function Me(Pe,Ue,Be,Ve){if(!Pe.value)return!0;var ve=Pe.x-pe.x,Te=Pe.y-pe.y,Ce=Ve-Ue,We=ve*ve+Te*Te;if(Ce*Ce/De<We)return We<Oe&&(0===ve&&(We+=(ve=f())*ve),0===Te&&(We+=(Te=f())*Te),We<Ee&&(We=Math.sqrt(Ee*We)),pe.vx+=ve*Pe.value*ye/We,pe.vy+=Te*Pe.value*ye/We),!0;if(!(Pe.length||We>=Oe)){(Pe.data!==pe||Pe.next)&&(0===ve&&(We+=(ve=f())*ve),0===Te&&(We+=(Te=f())*Te),We<Ee&&(We=Math.sqrt(Ee*We)));do{Pe.data!==pe&&(pe.vx+=ve*(Ce=Ne[Pe.data.index]*ye/We),pe.vy+=Te*Ce)}while(Pe=Pe.next)}}return oe.initialize=function(Pe){Ae=Pe,de()},oe.strength=function(Pe){return arguments.length?(be="function"==typeof Pe?Pe:E(+Pe),de(),oe):be},oe.distanceMin=function(Pe){return arguments.length?(Ee=Pe*Pe,oe):Math.sqrt(Ee)},oe.distanceMax=function(Pe){return arguments.length?(Oe=Pe*Pe,oe):Math.sqrt(Oe)},oe.theta=function(Pe){return arguments.length?(De=Pe*Pe,oe):Math.sqrt(De)},oe}function ge(Ae,pe,ye){var Ne,be,Ee,Oe=E(.1);function De(de){for(var _e=0,Me=Ne.length;_e<Me;++_e){var Pe=Ne[_e],Ue=Pe.x-pe||1e-6,Be=Pe.y-ye||1e-6,Ve=Math.sqrt(Ue*Ue+Be*Be),ve=(Ee[_e]-Ve)*be[_e]*de/Ve;Pe.vx+=Ue*ve,Pe.vy+=Be*ve}}function oe(){if(Ne){var de,_e=Ne.length;for(be=new Array(_e),Ee=new Array(_e),de=0;de<_e;++de)Ee[de]=+Ae(Ne[de],de,Ne),be[de]=isNaN(Ee[de])?0:+Oe(Ne[de],de,Ne)}}return"function"!=typeof Ae&&(Ae=E(+Ae)),null==pe&&(pe=0),null==ye&&(ye=0),De.initialize=function(de){Ne=de,oe()},De.strength=function(de){return arguments.length?(Oe="function"==typeof de?de:E(+de),oe(),De):Oe},De.radius=function(de){return arguments.length?(Ae="function"==typeof de?de:E(+de),oe(),De):Ae},De.x=function(de){return arguments.length?(pe=+de,De):pe},De.y=function(de){return arguments.length?(ye=+de,De):ye},De}function xe(Ae){var pe,ye,Ne,be=E(.1);function Ee(De){for(var oe,de=0,_e=pe.length;de<_e;++de)(oe=pe[de]).vx+=(Ne[de]-oe.x)*ye[de]*De}function Oe(){if(pe){var De,oe=pe.length;for(ye=new Array(oe),Ne=new Array(oe),De=0;De<oe;++De)ye[De]=isNaN(Ne[De]=+Ae(pe[De],De,pe))?0:+be(pe[De],De,pe)}}return"function"!=typeof Ae&&(Ae=E(null==Ae?0:+Ae)),Ee.initialize=function(De){pe=De,Oe()},Ee.strength=function(De){return arguments.length?(be="function"==typeof De?De:E(+De),Oe(),Ee):be},Ee.x=function(De){return arguments.length?(Ae="function"==typeof De?De:E(+De),Oe(),Ee):Ae},Ee}function ke(Ae){var pe,ye,Ne,be=E(.1);function Ee(De){for(var oe,de=0,_e=pe.length;de<_e;++de)(oe=pe[de]).vy+=(Ne[de]-oe.y)*ye[de]*De}function Oe(){if(pe){var De,oe=pe.length;for(ye=new Array(oe),Ne=new Array(oe),De=0;De<oe;++De)ye[De]=isNaN(Ne[De]=+Ae(pe[De],De,pe))?0:+be(pe[De],De,pe)}}return"function"!=typeof Ae&&(Ae=E(null==Ae?0:+Ae)),Ee.initialize=function(De){pe=De,Oe()},Ee.strength=function(De){return arguments.length?(be="function"==typeof De?De:E(+De),Oe(),Ee):be},Ee.y=function(De){return arguments.length?(Ae="function"==typeof De?De:E(+De),Oe(),Ee):Ae},Ee}},60721:function(ie,z,r){"use strict";function C(d,g){if((p=(d=g?d.toExponential(g-1):d.toExponential()).indexOf("e"))<0)return null;var p,T=d.slice(0,p);return[T.length>1?T[0]+T.slice(2):T,+d.slice(p+1)]}r.d(z,{WU:function(){return a},FF:function(){return s}});var E,f=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function S(d){if(!(g=f.exec(d)))throw new Error("invalid format: "+d);var g;return new M({fill:g[1],align:g[2],sign:g[3],symbol:g[4],zero:g[5],width:g[6],comma:g[7],precision:g[8]&&g[8].slice(1),trim:g[9],type:g[10]})}function M(d){this.fill=void 0===d.fill?" ":d.fill+"",this.align=void 0===d.align?">":d.align+"",this.sign=void 0===d.sign?"-":d.sign+"",this.symbol=void 0===d.symbol?"":d.symbol+"",this.zero=!!d.zero,this.width=void 0===d.width?void 0:+d.width,this.comma=!!d.comma,this.precision=void 0===d.precision?void 0:+d.precision,this.trim=!!d.trim,this.type=void 0===d.type?"":d.type+""}function v(d,g){var p=C(d,g);if(!p)return d+"";var T=p[0],_=p[1];return _<0?"0."+new Array(-_).join("0")+T:T.length>_+1?T.slice(0,_+1)+"."+T.slice(_+1):T+new Array(_-T.length+2).join("0")}S.prototype=M.prototype,M.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var c={"%":function(d,g){return(100*d).toFixed(g)},b:function(d){return Math.round(d).toString(2)},c:function(d){return d+""},d:function(d){return Math.abs(d=Math.round(d))>=1e21?d.toLocaleString("en").replace(/,/g,""):d.toString(10)},e:function(d,g){return d.toExponential(g)},f:function(d,g){return d.toFixed(g)},g:function(d,g){return d.toPrecision(g)},o:function(d){return Math.round(d).toString(8)},p:function(d,g){return v(100*d,g)},r:v,s:function(d,g){var p=C(d,g);if(!p)return d+"";var T=p[0],_=p[1],y=_-(E=3*Math.max(-8,Math.min(8,Math.floor(_/3))))+1,w=T.length;return y===w?T:y>w?T+new Array(y-w+1).join("0"):y>0?T.slice(0,y)+"."+T.slice(y):"0."+new Array(1-y).join("0")+C(d,Math.max(0,g+y-1))[0]},X:function(d){return Math.round(d).toString(16).toUpperCase()},x:function(d){return Math.round(d).toString(16)}};function i(d){return d}var u,a,o=Array.prototype.map,l=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function s(d){var g,p,A,T=void 0===d.grouping||void 0===d.thousands?i:(g=o.call(d.grouping,Number),p=d.thousands+"",function(A,I){for(var P=A.length,L=[],N=0,B=g[0],W=0;P>0&&B>0&&(W+B+1>I&&(B=Math.max(1,I-W)),L.push(A.substring(P-=B,P+B)),!((W+=B+1)>I));)B=g[N=(N+1)%g.length];return L.reverse().join(p)}),_=void 0===d.currency?"":d.currency[0]+"",y=void 0===d.currency?"":d.currency[1]+"",w=void 0===d.decimal?".":d.decimal+"",m=void 0===d.numerals?i:(A=o.call(d.numerals,String),function(I){return I.replace(/[0-9]/g,function(P){return A[+P]})}),b=void 0===d.percent?"%":d.percent+"",k=void 0===d.minus?"-":d.minus+"",h=void 0===d.nan?"NaN":d.nan+"";function O(A){var I=(A=S(A)).fill,P=A.align,L=A.sign,N=A.symbol,B=A.zero,W=A.width,j=A.comma,Z=A.precision,V=A.trim,q=A.type;"n"===q?(j=!0,q="g"):c[q]||(void 0===Z&&(Z=12),V=!0,q="g"),(B||"0"===I&&"="===P)&&(B=!0,I="0",P="=");var G="$"===N?_:"#"===N&&/[boxX]/.test(q)?"0"+q.toLowerCase():"",H="$"===N?y:/[%p]/.test(q)?b:"",ne=c[q],X=/[defgprs%]/.test(q);function $(Q){var te,re,le,ue=G,he=H;if("c"===q)he=ne(Q)+he,Q="";else{var ge=(Q=+Q)<0||1/Q<0;if(Q=isNaN(Q)?h:ne(Math.abs(Q),Z),V&&(Q=function(Ae){e:for(var pe,ye=Ae.length,Ne=1,be=-1;Ne<ye;++Ne)switch(Ae[Ne]){case".":be=pe=Ne;break;case"0":0===be&&(be=Ne),pe=Ne;break;default:if(!+Ae[Ne])break e;be>0&&(be=0)}return be>0?Ae.slice(0,be)+Ae.slice(pe+1):Ae}(Q)),ge&&0==+Q&&"+"!==L&&(ge=!1),ue=(ge?"("===L?L:k:"-"===L||"("===L?"":L)+ue,he=("s"===q?l[8+E/3]:"")+he+(ge&&"("===L?")":""),X)for(te=-1,re=Q.length;++te<re;)if(48>(le=Q.charCodeAt(te))||le>57){he=(46===le?w+Q.slice(te+1):Q.slice(te))+he,Q=Q.slice(0,te);break}}j&&!B&&(Q=T(Q,1/0));var xe=ue.length+Q.length+he.length,ke=xe<W?new Array(W-xe+1).join(I):"";switch(j&&B&&(Q=T(ke+Q,ke.length?W-he.length:1/0),ke=""),P){case"<":Q=ue+Q+he+ke;break;case"=":Q=ue+ke+Q+he;break;case"^":Q=ke.slice(0,xe=ke.length>>1)+ue+Q+he+ke.slice(xe);break;default:Q=ke+ue+Q+he}return m(Q)}return Z=void 0===Z?6:/[gprs]/.test(q)?Math.max(1,Math.min(21,Z)):Math.max(0,Math.min(20,Z)),$.toString=function(){return A+""},$}return{format:O,formatPrefix:function(A,I){var P,L=O(((A=S(A)).type="f",A)),N=3*Math.max(-8,Math.min(8,Math.floor((P=I,((P=C(Math.abs(P)))?P[1]:NaN)/3)))),B=Math.pow(10,-N),W=l[8+N/3];return function(j){return L(B*j)+W}}}}u=s({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),a=u.format},65704:function(ie,z,r){"use strict";r.r(z),r.d(z,{geoAiry:function(){return j},geoAiryRaw:function(){return W},geoAitoff:function(){return V},geoAitoffRaw:function(){return Z},geoArmadillo:function(){return G},geoArmadilloRaw:function(){return q},geoAugust:function(){return ne},geoAugustRaw:function(){return H},geoBaker:function(){return te},geoBakerRaw:function(){return Q},geoBerghaus:function(){return ue},geoBerghausRaw:function(){return le},geoBertin1953:function(){return Ne},geoBertin1953Raw:function(){return ye},geoBoggs:function(){return Me},geoBoggsRaw:function(){return _e},geoBonne:function(){return ve},geoBonneRaw:function(){return Ve},geoBottomley:function(){return Ce},geoBottomleyRaw:function(){return Te},geoBromley:function(){return Ke},geoBromleyRaw:function(){return We},geoChamberlin:function(){return Bt},geoChamberlinAfrica:function(){return Pt},geoChamberlinRaw:function(){return Rt},geoCollignon:function(){return Vt},geoCollignonRaw:function(){return Ut},geoCraig:function(){return Gt},geoCraigRaw:function(){return tn},geoCraster:function(){return $e},geoCrasterRaw:function(){return nt},geoCylindricalEqualArea:function(){return dt},geoCylindricalEqualAreaRaw:function(){return ot},geoCylindricalStereographic:function(){return Ge},geoCylindricalStereographicRaw:function(){return Le},geoEckert1:function(){return vt},geoEckert1Raw:function(){return st},geoEckert2:function(){return Lt},geoEckert2Raw:function(){return bt},geoEckert3:function(){return Nt},geoEckert3Raw:function(){return jt},geoEckert4:function(){return Mt},geoEckert4Raw:function(){return Tt},geoEckert5:function(){return Ht},geoEckert5Raw:function(){return kt},geoEckert6:function(){return Qt},geoEckert6Raw:function(){return qt},geoEisenlohr:function(){return ln},geoEisenlohrRaw:function(){return Kt},geoFahey:function(){return pn},geoFaheyRaw:function(){return An},geoFoucaut:function(){return tr},geoFoucautRaw:function(){return Nn},geoFoucautSinusoidal:function(){return wn},geoFoucautSinusoidalRaw:function(){return On},geoGilbert:function(){return jn},geoGingery:function(){return _r},geoGingeryRaw:function(){return er},geoGinzburg4:function(){return Dr},geoGinzburg4Raw:function(){return Vr},geoGinzburg5:function(){return ur},geoGinzburg5Raw:function(){return Un},geoGinzburg6:function(){return on},geoGinzburg6Raw:function(){return cr},geoGinzburg8:function(){return Wn},geoGinzburg8Raw:function(){return xn},geoGinzburg9:function(){return qn},geoGinzburg9Raw:function(){return Bn},geoGringorten:function(){return Sr},geoGringortenQuincuncial:function(){return Ec},geoGringortenRaw:function(){return fr},geoGuyou:function(){return Wt},geoGuyouRaw:function(){return Vn},geoHammer:function(){return ke},geoHammerRaw:function(){return ge},geoHammerRetroazimuthal:function(){return Hn},geoHammerRetroazimuthalRaw:function(){return vn},geoHealpix:function(){return hr},geoHealpixRaw:function(){return kn},geoHill:function(){return wr},geoHillRaw:function(){return sr},geoHomolosine:function(){return Mi},geoHomolosineRaw:function(){return Wr},geoHufnagel:function(){return Pr},geoHufnagelRaw:function(){return oi},geoHyperelliptical:function(){return qo},geoHyperellipticalRaw:function(){return po},geoInterrupt:function(){return Ai},geoInterruptedBoggs:function(){return Xl},geoInterruptedHomolosine:function(){return Tl},geoInterruptedMollweide:function(){return Mu},geoInterruptedMollweideHemispheres:function(){return ks},geoInterruptedQuarticAuthalic:function(){return Ao},geoInterruptedSinuMollweide:function(){return na},geoInterruptedSinusoidal:function(){return va},geoKavrayskiy7:function(){return $r},geoKavrayskiy7Raw:function(){return Ss},geoLagrange:function(){return Li},geoLagrangeRaw:function(){return eo},geoLarrivee:function(){return hs},geoLarriveeRaw:function(){return Cs},geoLaskowski:function(){return Kc},geoLaskowskiRaw:function(){return Uu},geoLittrow:function(){return Ll},geoLittrowRaw:function(){return Rl},geoLoximuthal:function(){return Zf},geoLoximuthalRaw:function(){return Vs},geoMiller:function(){return tl},geoMillerRaw:function(){return Qc},geoModifiedStereographic:function(){return Kl},geoModifiedStereographicAlaska:function(){return il},geoModifiedStereographicGs48:function(){return ol},geoModifiedStereographicGs50:function(){return ac},geoModifiedStereographicLee:function(){return ku},geoModifiedStereographicMiller:function(){return yo},geoModifiedStereographicRaw:function(){return nl},geoMollweide:function(){return De},geoMollweideRaw:function(){return Oe},geoMtFlatPolarParabolic:function(){return ef},geoMtFlatPolarParabolicRaw:function(){return Ql},geoMtFlatPolarQuartic:function(){return Ca},geoMtFlatPolarQuarticRaw:function(){return ni},geoMtFlatPolarSinusoidal:function(){return ra},geoMtFlatPolarSinusoidalRaw:function(){return Yi},geoNaturalEarth:function(){return Io.Z},geoNaturalEarth2:function(){return La},geoNaturalEarth2Raw:function(){return eu},geoNaturalEarthRaw:function(){return Io.K},geoNellHammer:function(){return ai},geoNellHammerRaw:function(){return ds},geoNicolosi:function(){return al},geoNicolosiRaw:function(){return Ha},geoPatterson:function(){return Cu},geoPattersonRaw:function(){return Oi},geoPeirceQuincuncial:function(){return Dc},geoPierceQuincuncial:function(){return Dc},geoPolyconic:function(){return sc},geoPolyconicRaw:function(){return Nl},geoPolyhedral:function(){return qs},geoPolyhedralButterfly:function(){return fu},geoPolyhedralCollignon:function(){return tf},geoPolyhedralWaterman:function(){return ya},geoProject:function(){return Fa},geoQuantize:function(){return Ka},geoQuincuncial:function(){return Os},geoRectangularPolyconic:function(){return Eu},geoRectangularPolyconicRaw:function(){return Yr},geoRobinson:function(){return du},geoRobinsonRaw:function(){return Oc},geoSatellite:function(){return Vu},geoSatelliteRaw:function(){return pu},geoSinuMollweide:function(){return Ir},geoSinuMollweideRaw:function(){return Ar},geoSinusoidal:function(){return Be},geoSinusoidalRaw:function(){return Ue},geoStitch:function(){return mu},geoTimes:function(){return Is},geoTimesRaw:function(){return ko},geoTwoPointAzimuthal:function(){return es},geoTwoPointAzimuthalRaw:function(){return sa},geoTwoPointAzimuthalUsa:function(){return Ps},geoTwoPointEquidistant:function(){return io},geoTwoPointEquidistantRaw:function(){return Xo},geoTwoPointEquidistantUsa:function(){return ts},geoVanDerGrinten:function(){return Wo},geoVanDerGrinten2:function(){return Rs},geoVanDerGrinten2Raw:function(){return ns},geoVanDerGrinten3:function(){return qa},geoVanDerGrinten3Raw:function(){return ru},geoVanDerGrinten4:function(){return vs},geoVanDerGrinten4Raw:function(){return Ia},geoVanDerGrintenRaw:function(){return zo},geoWagner:function(){return pi},geoWagner4:function(){return qu},geoWagner4Raw:function(){return Ba},geoWagner6:function(){return Du},geoWagner6Raw:function(){return rs},geoWagner7:function(){return Gu},geoWagnerRaw:function(){return kr},geoWiechel:function(){return hi},geoWiechelRaw:function(){return Or},geoWinkel3:function(){return Wi},geoWinkel3Raw:function(){return gi}});var C=r(15002),E=Math.abs,f=Math.atan,S=Math.atan2,M=Math.cos,v=Math.exp,c=Math.floor,i=Math.log,u=Math.max,a=Math.min,o=Math.pow,l=Math.round,s=Math.sign||function(it){return it>0?1:it<0?-1:0},d=Math.sin,g=Math.tan,p=1e-6,T=1e-12,_=Math.PI,y=_/2,w=_/4,m=Math.SQRT1_2,b=L(2),k=L(_),h=2*_,O=180/_,A=_/180;function I(it){return it>1?y:it<-1?-y:Math.asin(it)}function P(it){return it>1?0:it<-1?_:Math.acos(it)}function L(it){return it>0?Math.sqrt(it):0}function N(it){return(v(it)-v(-it))/2}function B(it){return(v(it)+v(-it))/2}function W(it){var lt=g(it/2),gt=2*i(M(it/2))/(lt*lt);function wt(Ot,Et){var U=M(Ot),ee=M(Et),J=d(Et),ae=ee*U,we=-((1-ae?i((1+ae)/2)/(1-ae):-.5)+gt/(1+ae));return[we*ee*d(Ot),we*J]}return wt.invert=function(Ot,Et){var U,ee=L(Ot*Ot+Et*Et),J=-it/2,ae=50;if(!ee)return[0,0];do{var we=J/2,ze=M(we),Ze=d(we),Qe=Ze/ze,ct=-i(E(ze));J-=U=(2/Qe*ct-gt*Qe-ee)/(-ct/(Ze*Ze)+1-gt/(2*ze*ze))*(ze<0?.7:1)}while(E(U)>p&&--ae>0);var St=d(J);return[S(Ot*St,ee*M(J)),I(Et*St/ee)]},wt}function j(){var it=y,lt=(0,C.r)(W),gt=lt(it);return gt.radius=function(wt){return arguments.length?lt(it=wt*A):it*O},gt.scale(179.976).clipAngle(147)}function Z(it,lt){var Ot,gt=M(lt),wt=(Ot=P(gt*M(it/=2)))?Ot/Math.sin(Ot):1;return[2*gt*d(it)*wt,d(lt)*wt]}function V(){return(0,C.Z)(Z).scale(152.63)}function q(it){var lt=d(it),gt=M(it),wt=it>=0?1:-1,Ot=g(wt*it),Et=(1+lt-gt)/2;function U(ee,J){var ae=M(J),we=M(ee/=2);return[(1+ae)*d(ee),(wt*J>-S(we,Ot)-.001?0:10*-wt)+Et+d(J)*gt-(1+ae)*lt*we]}return U.invert=function(ee,J){var ae=0,we=0,ze=50;do{var Ze=M(ae),Qe=d(ae),ct=M(we),St=d(we),Dt=1+ct,se=Dt*Qe-ee,me=Et+St*gt-Dt*lt*Ze-J,Ie=Dt*Ze/2,je=-Qe*St,qe=lt*Dt*Qe/2,Xe=gt*ct+lt*Ze*St,rt=je*qe-Xe*Ie,at=(me*je-se*Xe)/rt/2,pt=(se*qe-me*Ie)/rt;E(pt)>2&&(pt/=2),ae-=at,we-=pt}while((E(at)>p||E(pt)>p)&&--ze>0);return wt*we>-S(M(ae),Ot)-.001?[2*ae,we]:null},U}function G(){var it=20*A,lt=it>=0?1:-1,gt=g(lt*it),wt=(0,C.r)(q),Ot=wt(it),Et=Ot.stream;return Ot.parallel=function(U){return arguments.length?(gt=g((lt=(it=U*A)>=0?1:-1)*it),wt(it)):it*O},Ot.stream=function(U){var ee=Ot.rotate(),J=Et(U),ae=(Ot.rotate([0,0]),Et(U)),we=Ot.precision();return Ot.rotate(ee),J.sphere=function(){ae.polygonStart(),ae.lineStart();for(var ze=-180*lt;lt*ze<180;ze+=90*lt)ae.point(ze,90*lt);if(it)for(;lt*(ze-=3*lt*we)>=-180;)ae.point(ze,lt*-S(M(ze*A/2),gt)*O);ae.lineEnd(),ae.polygonEnd()},J},Ot.scale(218.695).center([0,28.0974])}function H(it,lt){var gt=g(lt/2),wt=L(1-gt*gt),Ot=1+wt*M(it/=2),Et=d(it)*wt/Ot,U=gt/Ot,ee=Et*Et,J=U*U;return[1.3333333333333333*Et*(3+ee-3*J),1.3333333333333333*U*(3+3*ee-J)]}function ne(){return(0,C.Z)(H).scale(66.1603)}Z.invert=function(it,lt){if(!(it*it+4*lt*lt>_*_+p)){var gt=it,wt=lt,Ot=25;do{var Et,U=d(gt),ee=d(gt/2),J=M(gt/2),ae=d(wt),we=M(wt),ze=d(2*wt),Ze=ae*ae,Qe=we*we,ct=ee*ee,St=1-Qe*J*J,Dt=St?P(we*J)*L(Et=1/St):Et=0,se=2*Dt*we*ee-it,me=Dt*ae-lt,Ie=Et*(Qe*ct+Dt*we*J*Ze),je=Et*(.5*U*ze-2*Dt*ae*ee),qe=.25*Et*(ze*ee-Dt*ae*Qe*U),Xe=Et*(Ze*J+Dt*ct*we),rt=je*qe-Xe*Ie;if(!rt)break;var at=(me*je-se*Xe)/rt,pt=(se*qe-me*Ie)/rt;gt-=at,wt-=pt}while((E(at)>p||E(pt)>p)&&--Ot>0);return[gt,wt]}},H.invert=function(it,lt){if(lt*=.375,!(it*=.375)&&E(lt)>1)return null;var ae,gt=1+it*it+lt*lt,wt=L((gt-L(gt*gt-4*lt*lt))/2),Ot=I(wt)/3,Et=wt?(ae=E(lt/wt),i(ae+L(ae*ae-1))/3):function(ae){return i(ae+L(ae*ae+1))}(E(it))/3,U=M(Ot),ee=B(Et),J=ee*ee-U*U;return[2*s(it)*S(N(Et)*U,.25-J),2*s(lt)*S(ee*d(Ot),.25+J)]};var X=L(8),$=i(1+b);function Q(it,lt){var gt=E(lt);return gt<w?[it,i(g(w+lt/2))]:[it*M(gt)*(2*b-1/d(gt)),s(lt)*(2*b*(gt-w)-i(g(gt/2)))]}function te(){return(0,C.Z)(Q).scale(112.314)}Q.invert=function(it,lt){if((wt=E(lt))<$)return[it,2*f(v(lt))-y];var gt,wt,Ot=w,Et=25;do{var U=M(Ot/2),ee=g(Ot/2);Ot-=gt=(X*(Ot-w)-i(ee)-wt)/(X-U*U/(2*ee))}while(E(gt)>T&&--Et>0);return[it/(M(Ot)*(X-1/d(Ot))),s(lt)*Ot]};var re=r(17889);function le(it){var lt=2*_/it;function gt(wt,Ot){var Et=(0,re.N)(wt,Ot);if(E(wt)>y){var U=S(Et[1],Et[0]),ee=L(Et[0]*Et[0]+Et[1]*Et[1]),J=lt*l((U-y)/lt)+y,ae=S(d(U-=J),2-M(U));U=J+I(_/ee*d(ae))-ae,Et[0]=ee*M(U),Et[1]=ee*d(U)}return Et}return gt.invert=function(wt,Ot){var Et=L(wt*wt+Ot*Ot);if(Et>y){var U=S(Ot,wt),ee=lt*l((U-y)/lt)+y,J=U>ee?-1:1,ae=Et*M(ee-U),we=1/g(J*P((ae-_)/L(_*(_-2*ae)+Et*Et)));U=ee+2*f((we+J*L(we*we-3))/3),wt=Et*M(U),Ot=Et*d(U)}return re.N.invert(wt,Ot)},gt}function ue(){var it=5,lt=(0,C.r)(le),gt=lt(it),wt=gt.stream,Ot=.01,Et=-M(Ot*A),U=d(Ot*A);return gt.lobes=function(ee){return arguments.length?lt(it=+ee):it},gt.stream=function(ee){var J=gt.rotate(),ae=wt(ee),we=(gt.rotate([0,0]),wt(ee));return gt.rotate(J),ae.sphere=function(){we.polygonStart(),we.lineStart();for(var ze=0,Ze=360/it,Qe=2*_/it,ct=90-180/it,St=y;ze<it;++ze,ct-=Ze,St-=Qe)we.point(S(U*M(St),Et)*O,I(U*d(St))*O),ct<-90?(we.point(-90,-180-ct-Ot),we.point(-90,-180-ct+Ot)):(we.point(90,ct+Ot),we.point(90,ct-Ot));we.lineEnd(),we.polygonEnd()},ae},gt.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var he=r(12956);function ge(it,lt){if(arguments.length<2&&(lt=it),1===lt)return he.l;if(lt===1/0)return xe;function gt(wt,Ot){var Et=(0,he.l)(wt/lt,Ot);return Et[0]*=it,Et}return gt.invert=function(wt,Ot){var Et=he.l.invert(wt/it,Ot);return Et[0]*=lt,Et},gt}function xe(it,lt){return[it*M(lt)/M(lt/=2),2*d(lt)]}function ke(){var it=2,lt=(0,C.r)(ge),gt=lt(it);return gt.coefficient=function(wt){return arguments.length?lt(it=+wt):it},gt.scale(169.529)}function Ae(it,lt,gt){var wt,Ot,Et,U=100;gt=void 0===gt?0:+gt,lt=+lt;do{(Ot=it(gt))===(Et=it(gt+p))&&(Et=Ot+p),gt-=wt=-1e-6*(Ot-lt)/(Ot-Et)}while(U-- >0&&E(wt)>p);return U<0?NaN:gt}function pe(it,lt,gt){return void 0===lt&&(lt=40),void 0===gt&&(gt=T),function(wt,Ot,Et,U){var ee,J,ae;Et=void 0===Et?0:+Et,U=void 0===U?0:+U;for(var we=0;we<lt;we++){var ze=it(Et,U),Ze=ze[0]-wt,Qe=ze[1]-Ot;if(E(Ze)<gt&&E(Qe)<gt)break;var ct=Ze*Ze+Qe*Qe;if(ct>ee)Et-=J/=2,U-=ae/=2;else{ee=ct;var St=(Et>0?-1:1)*gt,Dt=(U>0?-1:1)*gt,se=it(Et+St,U),me=it(Et,U+Dt),Ie=(se[0]-ze[0])/St,je=(se[1]-ze[1])/St,qe=(me[0]-ze[0])/Dt,Xe=(me[1]-ze[1])/Dt,rt=Xe*Ie-je*qe,at=(E(rt)<.5?.5:1)/rt;if(Et+=J=(Qe*qe-Ze*Xe)*at,U+=ae=(Ze*je-Qe*Ie)*at,E(J)<gt&&E(ae)<gt)break}}return[Et,U]}}function ye(){var it=ge(1.68,2);function lt(gt,wt){if(gt+wt<-1.4){var Ot=(gt-wt+1.6)*(gt+wt+1.4)/8;gt+=Ot,wt-=.8*Ot*d(wt+_/2)}var Et=it(gt,wt),U=(1-M(gt*wt))/12;return Et[1]<0&&(Et[0]*=1+U),Et[1]>0&&(Et[1]*=1+U/1.5*Et[0]*Et[0]),Et}return lt.invert=pe(lt),lt}function Ne(){return(0,C.Z)(ye()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function be(it,lt){var gt,wt=it*d(lt),Ot=30;do{lt-=gt=(lt+d(lt)-wt)/(1+M(lt))}while(E(gt)>p&&--Ot>0);return lt/2}function Ee(it,lt,gt){function wt(Ot,Et){return[it*Ot*M(Et=be(gt,Et)),lt*d(Et)]}return wt.invert=function(Ot,Et){return Et=I(Et/lt),[Ot/(it*M(Et)),I((2*Et+d(2*Et))/gt)]},wt}xe.invert=function(it,lt){var gt=2*I(lt/2);return[it*M(gt/2)/M(gt),gt]};var Oe=Ee(b/y,b,_);function De(){return(0,C.Z)(Oe).scale(169.529)}var oe=2.00276;function _e(it,lt){var gt=be(_,lt);return[oe*it/(1/M(lt)+1.11072/M(gt)),(lt+b*d(gt))/oe]}function Me(){return(0,C.Z)(_e).scale(160.857)}function Pe(it){var lt=0,gt=(0,C.r)(it),wt=gt(lt);return wt.parallel=function(Ot){return arguments.length?gt(lt=Ot*A):lt*O},wt}function Ue(it,lt){return[it*M(lt),lt]}function Be(){return(0,C.Z)(Ue).scale(152.63)}function Ve(it){if(!it)return Ue;var lt=1/g(it);function gt(wt,Ot){var Et=lt+it-Ot,U=Et&&wt*M(Ot)/Et;return[Et*d(U),lt-Et*M(U)]}return gt.invert=function(wt,Ot){var Et=L(wt*wt+(Ot=lt-Ot)*Ot),U=lt+it-Et;return[Et/M(U)*S(wt,Ot),U]},gt}function ve(){return Pe(Ve).scale(123.082).center([0,26.1441]).parallel(45)}function Te(it){function lt(gt,wt){var Ot=y-wt,Et=Ot&&gt*it*d(Ot)/Ot;return[Ot*d(Et)/it,y-Ot*M(Et)]}return lt.invert=function(gt,wt){var Ot=gt*it,Et=y-wt,U=L(Ot*Ot+Et*Et),ee=S(Ot,Et);return[(U?U/d(U):1)*ee/it,y-U]},lt}function Ce(){var it=.5,lt=(0,C.r)(Te),gt=lt(it);return gt.fraction=function(wt){return arguments.length?lt(it=+wt):it},gt.scale(158.837)}_e.invert=function(it,lt){var gt,wt,Ot=oe*lt,Et=lt<0?-w:w,U=25;do{wt=Ot-b*d(Et),Et-=gt=(d(2*Et)+2*Et-_*d(wt))/(2*M(2*Et)+2+_*M(wt)*b*M(Et))}while(E(gt)>p&&--U>0);return wt=Ot-b*d(Et),[it*(1/M(wt)+1.11072/M(Et))/oe,wt]},Ue.invert=function(it,lt){return[it/M(lt),lt]};var We=Ee(1,4/_,_);function Ke(){return(0,C.Z)(We).scale(152.63)}var Je=r(66624),ht=r(49386);function ft(it,lt,gt,wt,Ot,Et){var U,ee=M(Et);if(E(it)>1||E(Et)>1)U=P(gt*Ot+lt*wt*ee);else{var J=d(it/2),ae=d(Et/2);U=2*I(L(J*J+lt*wt*ae*ae))}return E(U)>p?[U,S(wt*d(Et),lt*Ot-gt*wt*ee)]:[0,0]}function mt(it,lt,gt){return P((it*it+lt*lt-gt*gt)/(2*it*lt))}function At(it){return it-2*_*c((it+_)/(2*_))}function Rt(it,lt,gt){for(var wt,Ot=[[it[0],it[1],d(it[1]),M(it[1])],[lt[0],lt[1],d(lt[1]),M(lt[1])],[gt[0],gt[1],d(gt[1]),M(gt[1])]],Et=Ot[2],U=0;U<3;++U,Et=wt)Et.v=ft((wt=Ot[U])[1]-Et[1],Et[3],Et[2],wt[3],wt[2],wt[0]-Et[0]),Et.point=[0,0];var ee=mt(Ot[0].v[0],Ot[2].v[0],Ot[1].v[0]),J=mt(Ot[0].v[0],Ot[1].v[0],Ot[2].v[0]),ae=_-ee;Ot[2].point[1]=0,Ot[0].point[0]=-(Ot[1].point[0]=Ot[0].v[0]/2);var we=[Ot[2].point[0]=Ot[0].point[0]+Ot[2].v[0]*M(ee),2*(Ot[0].point[1]=Ot[1].point[1]=Ot[2].v[0]*d(ee))];return function(ze,Ze){var Qe,ct=d(Ze),St=M(Ze),Dt=new Array(3);for(Qe=0;Qe<3;++Qe){var se=Ot[Qe];if(Dt[Qe]=ft(Ze-se[1],se[3],se[2],St,ct,ze-se[0]),!Dt[Qe][0])return se.point;Dt[Qe][1]=At(Dt[Qe][1]-se.v[1])}var me=we.slice();for(Qe=0;Qe<3;++Qe){var je=mt(Ot[Qe].v[0],Dt[Qe][0],Dt[2==Qe?0:Qe+1][0]);Dt[Qe][1]<0&&(je=-je),Qe?1==Qe?(me[0]-=Dt[Qe][0]*M(je=J-je),me[1]-=Dt[Qe][0]*d(je)):(me[0]+=Dt[Qe][0]*M(je=ae-je),me[1]+=Dt[Qe][0]*d(je)):(me[0]+=Dt[Qe][0]*M(je),me[1]-=Dt[Qe][0]*d(je))}return me[0]/=3,me[1]/=3,me}}function It(it){return it[0]*=A,it[1]*=A,it}function Pt(){return Bt([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function Bt(it,lt,gt){var wt=(0,Je.Z)({type:"MultiPoint",coordinates:[it,lt,gt]}),Ot=[-wt[0],-wt[1]],Et=(0,ht.Z)(Ot),U=Rt(It(Et(it)),It(Et(lt)),It(Et(gt)));U.invert=pe(U);var ee=(0,C.Z)(U).rotate(Ot),J=ee.center;return delete ee.rotate,ee.center=function(ae){return arguments.length?J(Et(ae)):Et.invert(J())},ee.clipAngle(90)}function Ut(it,lt){var gt=L(1-d(lt));return[2/k*it*gt,k*(1-gt)]}function Vt(){return(0,C.Z)(Ut).scale(95.6464).center([0,30])}function tn(it){var lt=g(it);function gt(wt,Ot){return[wt,(wt?wt/d(wt):1)*(d(Ot)*M(wt)-lt*M(Ot))]}return gt.invert=lt?function(wt,Ot){wt&&(Ot*=d(wt)/wt);var Et=M(wt);return[wt,2*S(L(Et*Et+lt*lt-Ot*Ot)-Et,lt-Ot)]}:function(wt,Ot){return[wt,I(wt?Ot*g(wt)/wt:Ot)]},gt}function Gt(){return Pe(tn).scale(249.828).clipAngle(90)}Ut.invert=function(it,lt){var gt=(gt=lt/k-1)*gt;return[gt>0?it*L(_/gt)/2:0,I(1-gt)]};var et=L(3);function nt(it,lt){return[et*it*(2*M(2*lt/3)-1)/k,et*k*d(lt/3)]}function $e(){return(0,C.Z)(nt).scale(156.19)}function ot(it){var lt=M(it);function gt(wt,Ot){return[wt*lt,d(Ot)/lt]}return gt.invert=function(wt,Ot){return[wt/lt,I(Ot*lt)]},gt}function dt(){return Pe(ot).parallel(38.58).scale(195.044)}function Le(it){var lt=M(it);function gt(wt,Ot){return[wt*lt,(1+lt)*g(Ot/2)]}return gt.invert=function(wt,Ot){return[wt/lt,2*f(Ot/(1+lt))]},gt}function Ge(){return Pe(Le).scale(124.75)}function st(it,lt){var gt=L(8/(3*_));return[gt*it*(1-E(lt)/_),gt*lt]}function vt(){return(0,C.Z)(st).scale(165.664)}function bt(it,lt){var gt=L(4-3*d(E(lt)));return[2/L(6*_)*it*gt,s(lt)*L(2*_/3)*(2-gt)]}function Lt(){return(0,C.Z)(bt).scale(165.664)}function jt(it,lt){var gt=L(_*(4+_));return[2/gt*it*(1+L(1-4*lt*lt/(_*_))),4/gt*lt]}function Nt(){return(0,C.Z)(jt).scale(180.739)}function Tt(it,lt){var gt=(2+y)*d(lt);lt/=2;for(var wt=0,Ot=1/0;wt<10&&E(Ot)>p;wt++){var Et=M(lt);lt-=Ot=(lt+d(lt)*(Et+2)-gt)/(2*Et*(1+Et))}return[2/L(_*(4+_))*it*(1+M(lt)),2*L(_/(4+_))*d(lt)]}function Mt(){return(0,C.Z)(Tt).scale(180.739)}function kt(it,lt){return[it*(1+M(lt))/L(2+_),2*lt/L(2+_)]}function Ht(){return(0,C.Z)(kt).scale(173.044)}function qt(it,lt){for(var gt=(1+y)*d(lt),wt=0,Ot=1/0;wt<10&&E(Ot)>p;wt++)lt-=Ot=(lt+d(lt)-gt)/(1+M(lt));return gt=L(2+_),[it*(1+M(lt))/gt,2*lt/gt]}function Qt(){return(0,C.Z)(qt).scale(173.044)}nt.invert=function(it,lt){var gt=3*I(lt/(et*k));return[k*it/(et*(2*M(2*gt/3)-1)),gt]},st.invert=function(it,lt){var gt=L(8/(3*_)),wt=lt/gt;return[it/(gt*(1-E(wt)/_)),wt]},bt.invert=function(it,lt){var gt=2-E(lt)/L(2*_/3);return[it*L(6*_)/(2*gt),s(lt)*I((4-gt*gt)/3)]},jt.invert=function(it,lt){var gt=L(_*(4+_))/2;return[it*gt/(1+L(1-lt*lt*(4+_)/(4*_))),lt*gt/2]},Tt.invert=function(it,lt){var gt=lt*L((4+_)/_)/2,wt=I(gt),Ot=M(wt);return[it/(2/L(_*(4+_))*(1+Ot)),I((wt+gt*(Ot+2))/(2+y))]},kt.invert=function(it,lt){var gt=L(2+_),wt=lt*gt/2;return[gt*it/(1+M(wt)),wt]},qt.invert=function(it,lt){var gt=1+y,wt=L(gt/2);return[2*it*wt/(1+M(lt*=wt)),I((lt+d(lt))/gt)]};var Jt=3+2*b;function Kt(it,lt){var gt=d(it/=2),wt=M(it),Ot=L(M(lt)),Et=M(lt/=2),U=d(lt)/(Et+b*wt*Ot),ee=L(2/(1+U*U)),J=L((b*Et+(wt+gt)*Ot)/(b*Et+(wt-gt)*Ot));return[Jt*(ee*(J-1/J)-2*i(J)),Jt*(ee*U*(J+1/J)-2*f(U))]}function ln(){return(0,C.Z)(Kt).scale(62.5271)}Kt.invert=function(it,lt){if(!(gt=H.invert(it/1.2,1.065*lt)))return null;var gt,wt=gt[0],Ot=gt[1],Et=20;it/=Jt,lt/=Jt;do{var U=wt/2,ee=Ot/2,J=d(U),ae=M(U),we=d(ee),ze=M(ee),Ze=M(Ot),Qe=L(Ze),ct=we/(ze+b*ae*Qe),St=ct*ct,Dt=L(2/(1+St)),se=(b*ze+(ae+J)*Qe)/(b*ze+(ae-J)*Qe),me=L(se),Ie=me-1/me,je=me+1/me,qe=Dt*Ie-2*i(me)-it,Xe=Dt*ct*je-2*f(ct)-lt,rt=we&&m*Qe*J*St/we,at=(b*ae*ze+Qe)/(2*(ze+b*ae*Qe)*(ze+b*ae*Qe)*Qe),pt=-.5*ct*Dt*Dt*Dt,yt=pt*rt,zt=pt*at,$t=($t=2*ze+b*Qe*(ae-J))*$t*me,Yt=(b*ae*ze*Qe+Ze)/$t,cn=-b*J*we/(Qe*$t),Mn=Ie*yt-2*Yt/me+Dt*(Yt+Yt/se),an=Ie*zt-2*cn/me+Dt*(cn+cn/se),hn=ct*je*yt-2*rt/(1+St)+Dt*je*rt+Dt*ct*(Yt-Yt/se),sn=ct*je*zt-2*at/(1+St)+Dt*je*at+Dt*ct*(cn-cn/se),Ln=an*hn-sn*Mn;if(!Ln)break;var Dn=(Xe*an-qe*sn)/Ln,dn=(qe*hn-Xe*Mn)/Ln;wt-=Dn,Ot=u(-y,a(y,Ot-dn))}while((E(Dn)>p||E(dn)>p)&&--Et>0);return E(E(Ot)-y)<p?[0,Ot]:Et&&[wt,Ot]};var Tn=M(35*A);function An(it,lt){var gt=g(lt/2);return[it*Tn*L(1-gt*gt),(1+Tn)*gt]}function pn(){return(0,C.Z)(An).scale(137.152)}function Nn(it,lt){var gt=lt/2,wt=M(gt);return[2*it/k*M(lt)*wt*wt,k*g(gt)]}function tr(){return(0,C.Z)(Nn).scale(135.264)}function On(it){var lt=1-it,gt=Ot(_,0)[0]-Ot(-_,0)[0],wt=L(2*(Ot(0,y)[1]-Ot(0,-y)[1])/gt);function Ot(ee,J){var ae=M(J),we=d(J);return[ae/(lt+it*ae)*ee,lt*J+it*we]}function Et(ee,J){var ae=Ot(ee,J);return[ae[0]*wt,ae[1]/wt]}function U(ee){return Et(0,ee)[1]}return Et.invert=function(ee,J){var ae=Ae(U,J);return[ee/wt*(it+lt/M(ae)),ae]},Et}function wn(){var it=.5,lt=(0,C.r)(On),gt=lt(it);return gt.alpha=function(wt){return arguments.length?lt(it=+wt):it},gt.scale(168.725)}An.invert=function(it,lt){var gt=lt/(1+Tn);return[it&&it/(Tn*L(1-gt*gt)),2*f(gt)]},Nn.invert=function(it,lt){var gt=f(lt/k),wt=M(gt),Ot=2*gt;return[it*k/2/(M(Ot)*wt*wt),Ot]};var Cn=r(57962),mn=r(97492);function En(it){return[it[0]/2,I(g(it[1]/2*A))*O]}function Fn(it){return[2*it[0],2*f(d(it[1]*A))*O]}function jn(it){null==it&&(it=Cn.Z);var lt=it(),gt=(0,mn.Z)().scale(O).precision(0).clipAngle(null).translate([0,0]);function wt(Et){return lt(En(Et))}function Ot(Et){wt[Et]=function(){return arguments.length?(lt[Et].apply(lt,arguments),wt):lt[Et]()}}return lt.invert&&(wt.invert=function(Et){return Fn(lt.invert(Et))}),wt.stream=function(Et){var U=lt.stream(Et),ee=gt.stream({point:function(J,ae){U.point(J/2,I(g(-ae/2*A))*O)},lineStart:function(){U.lineStart()},lineEnd:function(){U.lineEnd()},polygonStart:function(){U.polygonStart()},polygonEnd:function(){U.polygonEnd()}});return ee.sphere=U.sphere,ee},wt.rotate=function(Et){return arguments.length?(gt.rotate(Et),wt):gt.rotate()},wt.center=function(Et){return arguments.length?(lt.center(En(Et)),wt):Fn(lt.center())},Ot("angle"),Ot("clipAngle"),Ot("clipExtent"),Ot("fitExtent"),Ot("fitHeight"),Ot("fitSize"),Ot("fitWidth"),Ot("scale"),Ot("translate"),Ot("precision"),wt.scale(249.5)}function er(it,lt){var gt=2*_/lt,wt=it*it;function Ot(Et,U){var ee=(0,re.N)(Et,U),J=ee[0],ae=ee[1],we=J*J+ae*ae;if(we>wt){var ze=L(we),Ze=S(ae,J),Qe=gt*l(Ze/gt),ct=Ze-Qe,St=it*M(ct),Dt=(it*d(ct)-ct*d(St))/(y-St),se=Zn(ct,Dt),me=(_-it)/Gn(se,St,_);J=ze;var Ie,je=50;do{J-=Ie=(it+Gn(se,St,J)*me-ze)/(se(J)*me)}while(E(Ie)>p&&--je>0);ae=ct*d(J),J<y&&(ae-=Dt*(J-y));var qe=d(Qe),Xe=M(Qe);ee[0]=J*Xe-ae*qe,ee[1]=J*qe+ae*Xe}return ee}return Ot.invert=function(Et,U){var ee=Et*Et+U*U;if(ee>wt){var J=L(ee),ae=S(U,Et),we=gt*l(ae/gt),ze=ae-we;Et=J*M(ze),U=J*d(ze);for(var Ze=Et-y,Qe=d(Et),ct=U/Qe,St=Et<y?1/0:0,Dt=10;;){var se=it*d(ct),me=it*M(ct),Ie=d(me),je=y-me,qe=(se-ct*Ie)/je,Xe=Zn(ct,qe);if(E(St)<T||!--Dt)break;ct-=St=(ct*Qe-qe*Ze-U)/(Qe-2*Ze*(je*(me+ct*se*M(me)-Ie)-se*(se-ct*Ie))/(je*je))}Et=(J=it+Gn(Xe,me,Et)*(_-it)/Gn(Xe,me,_))*M(ae=we+ct),U=J*d(ae)}return re.N.invert(Et,U)},Ot}function Zn(it,lt){return function(gt){var wt=it*M(gt);return gt<y&&(wt-=lt),L(1+wt*wt)}}function Gn(it,lt,gt){for(var wt=(gt-lt)/50,Ot=it(lt)+it(gt),Et=1,U=lt;Et<50;++Et)Ot+=2*it(U+=wt);return.5*Ot*wt}function _r(){var it=6,lt=30*A,gt=M(lt),wt=d(lt),Ot=(0,C.r)(er),Et=Ot(lt,it),U=Et.stream,ee=-M(.01*A),J=d(.01*A);return Et.radius=function(ae){return arguments.length?(gt=M(lt=ae*A),wt=d(lt),Ot(lt,it)):lt*O},Et.lobes=function(ae){return arguments.length?Ot(lt,it=+ae):it},Et.stream=function(ae){var we=Et.rotate(),ze=U(ae),Ze=(Et.rotate([0,0]),U(ae));return Et.rotate(we),ze.sphere=function(){Ze.polygonStart(),Ze.lineStart();for(var Qe=0,ct=2*_/it,St=0;Qe<it;++Qe,St-=ct)Ze.point(S(J*M(St),ee)*O,I(J*d(St))*O),Ze.point(S(wt*M(St-ct/2),gt)*O,I(wt*d(St-ct/2))*O);Ze.lineEnd(),Ze.polygonEnd()},ze},Et.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function mr(it,lt,gt,wt,Ot,Et,U,ee){function J(ae,we){if(!we)return[it*ae/_,0];var ze=we*we,Ze=it+ze*(lt+ze*(gt+ze*wt)),Qe=we*(Ot-1+ze*(Et-ee+ze*U)),ct=(Ze*Ze+Qe*Qe)/(2*Qe),St=ae*I(Ze/ct)/_;return[ct*d(St),we*(1+ze*ee)+ct*(1-M(St))]}return arguments.length<8&&(ee=0),J.invert=function(ae,we){var ze,Ze,Qe=_*ae/it,ct=we,St=50;do{var Dt=ct*ct,se=it+Dt*(lt+Dt*(gt+Dt*wt)),me=ct*(Ot-1+Dt*(Et-ee+Dt*U)),Ie=se*se+me*me,je=2*me,qe=Ie/je,Xe=qe*qe,rt=I(se/qe)/_,at=Qe*rt,pt=se*se,yt=(2*lt+Dt*(4*gt+6*Dt*wt))*ct,zt=Ot+Dt*(3*Et+5*Dt*U),$t=(2*(se*yt+me*(zt-1))*je-Ie*(2*(zt-1)))/(je*je),Yt=M(at),cn=d(at),Mn=qe*Yt,an=qe*cn,hn=Qe/_*(1/L(1-pt/Xe))*(yt*qe-se*$t)/Xe,sn=an-ae,Ln=ct*(1+Dt*ee)+qe-Mn-we,Dn=$t*cn+Mn*hn,dn=Mn*rt,Xn=1+$t-($t*Yt-an*hn),rr=an*rt,vr=Dn*rr-Xn*dn;if(!vr)break;Qe-=ze=(Ln*Dn-sn*Xn)/vr,ct-=Ze=(sn*rr-Ln*dn)/vr}while((E(ze)>p||E(Ze)>p)&&--St>0);return[Qe,ct]},J}var Vr=mr(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function Dr(){return(0,C.Z)(Vr).scale(149.995)}var Un=mr(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function ur(){return(0,C.Z)(Un).scale(153.93)}var cr=mr(5/6*_,-.62636,-.0344,0,1.3493,-.05524,0,.045);function on(){return(0,C.Z)(cr).scale(130.945)}function xn(it,lt){var gt=it*it,wt=lt*lt;return[it*(1-.162388*wt)*(.87-952426e-9*gt*gt),lt*(1+wt/12)]}function Wn(){return(0,C.Z)(xn).scale(131.747)}xn.invert=function(it,lt){var gt,wt=it,Ot=lt,Et=50;do{var U=Ot*Ot;Ot-=gt=(Ot*(1+U/12)-lt)/(1+U/4)}while(E(gt)>p&&--Et>0);Et=50,it/=1-.162388*U;do{var ee=(ee=wt*wt)*ee;wt-=gt=(wt*(.87-952426e-9*ee)-it)/(.87-.00476213*ee)}while(E(gt)>p&&--Et>0);return[wt,Ot]};var Bn=mr(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function qn(){return(0,C.Z)(Bn).scale(131.087)}function nr(it){var lt=it(y,0)[0]-it(-y,0)[0];function gt(wt,Ot){var Et=wt>0?-.5:.5,U=it(wt+Et*_,Ot);return U[0]-=Et*lt,U}return it.invert&&(gt.invert=function(wt,Ot){var Et=wt>0?-.5:.5,U=it.invert(wt+Et*lt,Ot),ee=U[0]-Et*_;return ee<-_?ee+=2*_:ee>_&&(ee-=2*_),U[0]=ee,U}),gt}function fr(it,lt){var gt=s(it),wt=s(lt),Ot=M(lt),Et=M(it)*Ot,U=d(it)*Ot,ee=d(wt*lt);it=E(S(U,ee)),lt=I(Et),E(it-y)>p&&(it%=y);var J=function(ae,we){if(we===y)return[0,0];var ze,Ze,Qe=d(we),ct=Qe*Qe,St=ct*ct,Dt=1+St,se=1+3*St,me=1-St,Ie=I(1/L(Dt)),je=me+ct*Dt*Ie,qe=(1-Qe)/je,Xe=L(qe),rt=qe*Dt,at=L(rt),pt=Xe*me;if(0===ae)return[0,-(pt+ct*at)];var yt,zt=M(we),$t=1/zt,Yt=2*Qe*zt,cn=(-je*zt-(-3*ct+Ie*se)*Yt*(1-Qe))/(je*je),Mn=-$t*Yt,an=-$t*(ct*Dt*cn+qe*se*Yt),hn=-2*$t*(me*(.5*cn/Xe)-2*ct*Xe*Yt),sn=4*ae/_;if(ae>.222*_||we<_/4&&ae>.175*_){if(ze=(pt+ct*L(rt*(1+St)-pt*pt))/(1+St),ae>_/4)return[ze,ze];var Ln=ze,Dn=.5*ze;ze=.5*(Dn+Ln),Ze=50;do{var dn=ze*(hn+Mn*L(rt-ze*ze))+an*I(ze/at)-sn;if(!dn)break;dn<0?Dn=ze:Ln=ze,ze=.5*(Dn+Ln)}while(E(Ln-Dn)>p&&--Ze>0)}else{ze=p,Ze=25;do{var Xn=ze*ze,rr=L(rt-Xn),vr=hn+Mn*rr,dr=ze*vr+an*I(ze/at)-sn;ze-=yt=rr?dr/(vr+(an-Mn*Xn)/rr):0}while(E(yt)>p&&--Ze>0)}return[ze,-pt-ct*L(rt-ze*ze)]}(it>_/4?y-it:it,lt);return it>_/4&&(ee=J[0],J[0]=-J[1],J[1]=-ee),J[0]*=gt,J[1]*=-wt,J}function Sr(){return(0,C.Z)(nr(fr)).scale(239.75)}function Ur(it,lt){var gt,wt,Ot,Et,U,ee;if(lt<p)return[(Et=d(it))-(gt=lt*(it-Et*(wt=M(it)))/4)*wt,wt+gt*Et,1-lt*Et*Et/2,it-gt];if(lt>=.999999)return gt=(1-lt)/4,Ot=1/(wt=B(it)),[(Et=((ee=v(2*(ee=it)))-1)/(ee+1))+gt*((U=wt*N(it))-it)/(wt*wt),Ot-gt*Et*Ot*(U-it),Ot+gt*Et*Ot*(U+it),2*f(v(it))-y+gt*(U-it)/wt];var J=[1,0,0,0,0,0,0,0,0],ae=[L(lt),0,0,0,0,0,0,0,0],we=0;for(wt=L(1-lt),U=1;E(ae[we]/J[we])>p&&we<8;)gt=J[we++],ae[we]=(gt-wt)/2,J[we]=(gt+wt)/2,wt=L(gt*wt),U*=2;Ot=U*J[we]*it;do{Ot=(I(Et=ae[we]*d(wt=Ot)/J[we])+Ot)/2}while(--we);return[d(Ot),Et=M(Ot),Et/M(Ot-wt),Ot]}function fn(it,lt){if(!lt)return it;if(1===lt)return i(g(it/2+w));for(var gt=1,wt=L(1-lt),Ot=L(lt),Et=0;E(Ot)>p;Et++){if(it%_){var U=f(wt*g(it)/gt);U<0&&(U+=_),it+=U+~~(it/_)*_}else it+=it;Ot=(gt+wt)/2,wt=L(gt*wt),Ot=((gt=Ot)-wt)/2}return it/(o(2,Et)*gt)}function Vn(it,lt){var ae,we,ze,Ze,Qe,gt=(b-1)/(b+1),wt=L(1-gt*gt),Ot=fn(y,wt*wt),Et=i(g(_/4+E(lt)/2)),U=v(-1*Et)/L(gt),ee=(ae=U*M(-1*it),Ze=(we=U*d(-1*it))+1,[.5*((ae>=0?y:-y)-S(Qe=1-(ze=ae*ae)-we*we,2*ae)),-.25*i(Qe*Qe+4*ze)+.5*i(Ze*Ze+ze)]),J=function(ae,we,ze){var Ze=E(ae),Qe=N(E(we));if(Ze){var ct=1/d(Ze),St=1/(g(Ze)*g(Ze)),Dt=-(St+ze*(Qe*Qe*ct*ct)-1+ze),se=(-Dt+L(Dt*Dt-(ze-1)*St*4))/2;return[fn(f(1/L(se)),ze)*s(ae),fn(f(L((se/St-1)/ze)),1-ze)*s(we)]}return[0,fn(f(Qe),1-ze)*s(we)]}(ee[0],ee[1],wt*wt);return[-J[1],(lt>=0?1:-1)*(.5*Ot-J[0])]}function Wt(){return(0,C.Z)(nr(Vn)).scale(151.496)}fr.invert=function(it,lt){E(it)>1&&(it=2*s(it)-it),E(lt)>1&&(lt=2*s(lt)-lt);var gt=s(it),wt=s(lt),Ot=-gt*it,Et=-wt*lt,U=Et/Ot<1,ee=function(ze,Ze){for(var Qe=0,ct=1,St=.5,Dt=50;;){var se=St*St,me=L(St),Ie=I(1/L(1+se)),je=1-se+St*(1+se)*Ie,qe=(1-me)/je,Xe=L(qe),rt=qe*(1+se),at=Xe*(1-se),pt=L(rt-ze*ze),yt=Ze+at+St*pt;if(E(ct-Qe)<T||0==--Dt||0===yt)break;yt>0?Qe=St:ct=St,St=.5*(Qe+ct)}if(!Dt)return null;var zt=I(me),$t=M(zt),Yt=1/$t,cn=2*me*$t,Mn=(-je*$t-(-3*St+Ie*(1+3*se))*cn*(1-me))/(je*je);return[_/4*(ze*(-2*Yt*(.5*Mn/Xe*(1-se)-2*St*Xe*cn)+-Yt*cn*pt)+-Yt*(St*(1+se)*Mn+qe*(1+3*se)*cn)*I(ze/L(rt))),zt]}(U?Et:Ot,U?Ot:Et),J=ee[0],ae=ee[1],we=M(ae);return U&&(J=-y-J),[gt*(S(d(J)*we,-d(ae))+_),wt*I(M(J)*we)]},Vn.invert=function(it,lt){var gt,wt,Ot,Et,U,ee,Ze,Qe,ct,J=(b-1)/(b+1),ae=L(1-J*J),we=(wt=-it,Ot=ae*ae,(gt=.5*fn(y,ae*ae)-lt)?(Et=Ur(gt,Ot),wt?(ee=(U=Ur(wt,1-Ot))[1]*U[1]+Ot*Et[0]*Et[0]*U[0]*U[0],[[Et[0]*U[2]/ee,Et[1]*Et[2]*U[0]*U[1]/ee],[Et[1]*U[1]/ee,-Et[0]*Et[2]*U[0]*U[2]/ee],[Et[2]*U[1]*U[2]/ee,-Ot*Et[0]*Et[1]*U[0]/ee]]):[[Et[0],0],[Et[1],0],[Et[2],0]]):[[0,(U=Ur(wt,1-Ot))[0]/U[1]],[1/U[1],0],[U[2]/U[1],0]]),ze=[((Ze=we[0])[0]*(Qe=we[1])[0]+Ze[1]*Qe[1])/(ct=Qe[0]*Qe[0]+Qe[1]*Qe[1]),(Ze[1]*Qe[0]-Ze[0]*Qe[1])/ct];return[S(ze[1],ze[0])/-1,2*f(v(-.5*i(J*ze[0]*ze[0]+J*ze[1]*ze[1])))-y]};var un=r(7613);function vn(it){var lt=d(it),gt=M(it),wt=$n(it);function Ot(Et,U){var ee=wt(Et,U);Et=ee[0];var J=d(U=ee[1]),ae=M(U),we=M(Et),ze=P(lt*J+gt*ae*we),Ze=d(ze),Qe=E(Ze)>p?ze/Ze:1;return[Qe*gt*d(Et),(E(Et)>y?Qe:-Qe)*(lt*ae-gt*J*we)]}return wt.invert=$n(-it),Ot.invert=function(Et,U){var ee=L(Et*Et+U*U),J=-d(ee),ae=M(ee),we=ee*ae,ze=-U*J,Ze=ee*lt,Qe=L(we*we+ze*ze-Ze*Ze),ct=S(we*Ze+ze*Qe,ze*Ze-we*Qe),St=(ee>y?-1:1)*S(Et*J,ee*M(ct)*ae+U*d(ct)*J);return wt.invert(St,ct)},Ot}function $n(it){var lt=d(it),gt=M(it);return function(wt,Ot){var Et=M(Ot),U=M(wt)*Et,ee=d(wt)*Et,J=d(Ot);return[S(ee,U*gt-J*lt),I(J*gt+U*lt)]}}function Hn(){var it=0,lt=(0,C.r)(vn),gt=lt(it),wt=gt.rotate,Ot=gt.stream,Et=(0,un.Z)();return gt.parallel=function(U){if(!arguments.length)return it*O;var ee=gt.rotate();return lt(it=U*A).rotate(ee)},gt.rotate=function(U){return arguments.length?(wt.call(gt,[U[0],U[1]-it*O]),Et.center([-U[0],-U[1]]),gt):((U=wt.call(gt))[1]+=it*O,U)},gt.stream=function(U){return(U=Ot(U)).sphere=function(){U.polygonStart();var ee,J=Et.radius(89.99)().coordinates[0],ae=J.length-1,we=-1;for(U.lineStart();++we<ae;)U.point((ee=J[we])[0],ee[1]);for(U.lineEnd(),ae=(J=Et.radius(90.01)().coordinates[0]).length-1,U.lineStart();--we>=0;)U.point((ee=J[we])[0],ee[1]);U.lineEnd(),U.polygonEnd()},U},gt.scale(79.4187).parallel(45).clipAngle(179.999)}var zn=r(33064),bn=r(72736),Sn=I(1-1/3)*O,gn=ot(0);function kn(it){var lt=Sn*A,gt=Ut(_,lt)[0]-Ut(-_,lt)[0],wt=gn(0,lt)[1],Ot=Ut(0,lt)[1],Et=k-Ot,U=h/it,ee=4/h,J=wt+Et*Et*4/h;function ae(we,ze){var Ze,Qe=E(ze);if(Qe>lt){var ct=a(it-1,u(0,c((we+_)/U)));(Ze=Ut(we+=_*(it-1)/it-ct*U,Qe))[0]=Ze[0]*h/gt-h*(it-1)/(2*it)+ct*h/it,Ze[1]=wt+4*(Ze[1]-Ot)*Et/h,ze<0&&(Ze[1]=-Ze[1])}else Ze=gn(we,ze);return Ze[0]*=ee,Ze[1]/=J,Ze}return ae.invert=function(we,ze){we/=ee;var Ze=E(ze*=J);if(Ze>wt){var Qe=a(it-1,u(0,c((we+_)/U))),ct=Ut.invert(we=(we+_*(it-1)/it-Qe*U)*gt/h,.25*(Ze-wt)*h/Et+Ot);return ct[0]-=_*(it-1)/it-Qe*U,ze<0&&(ct[1]=-ct[1]),ct}return gn.invert(we,ze)},ae}function In(it,lt){return[it,1&lt?89.999999:Sn]}function Yn(it,lt){return[it,1&lt?-89.999999:-Sn]}function Rn(it){return[.999999*it[0],it[1]]}function hr(){var it=4,lt=(0,C.r)(kn),gt=lt(it),wt=gt.stream;return gt.lobes=function(Ot){return arguments.length?lt(it=+Ot):it},gt.stream=function(Ot){var Et=gt.rotate(),U=wt(Ot),ee=(gt.rotate([0,0]),wt(Ot));return gt.rotate(Et),U.sphere=function(){var J,ae;(0,bn.Z)((ae=[].concat((0,zn.w6)(-180,180+(J=180/it)/2,J).map(In),(0,zn.w6)(180,-180-J/2,-J).map(Yn)),{type:"Polygon",coordinates:[180===J?ae.map(Rn):ae]}),ee)},U},gt.scale(239.75)}function sr(it){var lt,gt=1+it,wt=I(d(1/gt)),Ot=2*L(_/(lt=_+4*wt*gt)),Et=.5*Ot*(gt+L(it*(2+it))),U=it*it,ee=gt*gt;function J(ae,we){var ze,Ze,Qe=1-d(we);if(Qe&&Qe<2){var ct,St=y-we,Dt=25;do{var se=d(St),me=M(St),Ie=wt+S(se,gt-me),je=1+ee-2*gt*me;St-=ct=(St-U*wt-gt*se+je*Ie-.5*Qe*lt)/(2*gt*se*Ie)}while(E(ct)>T&&--Dt>0);ze=Ot*L(je),Ze=ae*Ie/_}else ze=Ot*(it+Qe),Ze=ae*wt/_;return[ze*d(Ze),Et-ze*M(Ze)]}return J.invert=function(ae,we){var ze=ae*ae+(we-=Et)*we,Ze=(1+ee-ze/(Ot*Ot))/(2*gt),Qe=P(Ze),ct=d(Qe),St=wt+S(ct,gt-Ze);return[I(ae/L(ze))*_/St,I(1-2*(Qe-U*wt-gt*ct+(1+ee-2*gt*Ze)*St)/lt)]},J}function wr(){var it=1,lt=(0,C.r)(sr),gt=lt(it);return gt.ratio=function(wt){return arguments.length?lt(it=+wt):it},gt.scale(167.774).center([0,18.67])}var Tr=.7109889596207567,Cr=.0528035274542;function Ar(it,lt){return lt>-Tr?((it=Oe(it,lt))[1]+=Cr,it):Ue(it,lt)}function Ir(){return(0,C.Z)(Ar).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function Wr(it,lt){return E(lt)>Tr?((it=Oe(it,lt))[1]-=lt>0?Cr:-Cr,it):Ue(it,lt)}function Mi(){return(0,C.Z)(Wr).scale(152.63)}function oi(it,lt,gt,wt){var Ot=L(4*_/(2*gt+(1+it-lt/2)*d(2*gt)+(it+lt)/2*d(4*gt)+lt/2*d(6*gt))),Et=L(wt*d(gt)*L((1+it*M(2*gt)+lt*M(4*gt))/(1+it+lt))),U=gt*J(1);function ee(ze){return L(1+it*M(2*ze)+lt*M(4*ze))}function J(ze){var Ze=ze*gt;return(2*Ze+(1+it-lt/2)*d(2*Ze)+(it+lt)/2*d(4*Ze)+lt/2*d(6*Ze))/gt}function ae(ze){return ee(ze)*d(ze)}var we=function(ze,Ze){var Qe=gt*Ae(J,U*d(Ze)/gt,Ze/_);isNaN(Qe)&&(Qe=gt*s(Ze));var ct=Ot*ee(Qe);return[ct*Et*ze/_*M(Qe),ct/Et*d(Qe)]};return we.invert=function(ze,Ze){var Qe=Ae(ae,Ze*Et/Ot);return[ze*_/(M(Qe)*Ot*Et*ee(Qe)),I(gt*J(Qe/gt)/U)]},0===gt&&(Ot=L(wt/_),(we=function(ze,Ze){return[ze*Ot,d(Ze)/Ot]}).invert=function(ze,Ze){return[ze/Ot,I(Ze*Ot)]}),we}function Pr(){var it=1,lt=0,gt=45*A,wt=2,Ot=(0,C.r)(oi),Et=Ot(it,lt,gt,wt);return Et.a=function(U){return arguments.length?Ot(it=+U,lt,gt,wt):it},Et.b=function(U){return arguments.length?Ot(it,lt=+U,gt,wt):lt},Et.psiMax=function(U){return arguments.length?Ot(it,lt,gt=+U*A,wt):gt*O},Et.ratio=function(U){return arguments.length?Ot(it,lt,gt,wt=+U):wt},Et.scale(180.739)}function li(it,lt,gt,wt,Ot,Et,U,ee,J,ae,we){if(we.nanEncountered)return NaN;var ze,Ze,Qe,ct,St,Dt,se,me,Ie,je;if(Ze=it(lt+.25*(ze=gt-lt)),Qe=it(gt-.25*ze),isNaN(Ze))we.nanEncountered=!0;else{if(!isNaN(Qe))return je=((Dt=(ct=ze*(wt+4*Ze+Ot)/12)+(St=ze*(Ot+4*Qe+Et)/12))-U)/15,ae>J?(we.maxDepthCount++,Dt+je):Math.abs(je)<ee?Dt+je:(me=li(it,lt,se=lt+.5*ze,wt,Ze,Ot,ct,.5*ee,J,ae+1,we),isNaN(me)?(we.nanEncountered=!0,NaN):(Ie=li(it,se,gt,Ot,Qe,Et,St,.5*ee,J,ae+1,we),isNaN(Ie)?(we.nanEncountered=!0,NaN):me+Ie));we.nanEncountered=!0}}function zr(it,lt,gt,wt,Ot){void 0===wt&&(wt=1e-8),void 0===Ot&&(Ot=20);var Et=it(lt),U=it(.5*(lt+gt)),ee=it(gt);return li(it,lt,gt,Et,U,ee,(Et+4*U+ee)*(gt-lt)/6,wt,Ot,1,{maxDepthCount:0,nanEncountered:!1})}function po(it,lt,gt){function wt(Qe){return it+(1-it)*o(1-o(Qe,lt),1/lt)}function Ot(Qe){return zr(wt,0,Qe,1e-4)}for(var Et=1/Ot(1),U=1e3,ee=1.00000001*Et,J=[],ae=0;ae<=U;ae++)J.push(Ot(ae/U)*ee);function we(Qe){var ct=0,St=U,Dt=500;do{J[Dt]>Qe?St=Dt:ct=Dt,Dt=ct+St>>1}while(Dt>ct);var se=J[Dt+1]-J[Dt];return se&&(se=(Qe-J[Dt+1])/se),(Dt+1+se)/U}var ze=2*we(1)/_*Et/gt,Ze=function(Qe,ct){var St=we(E(d(ct))),Dt=wt(St)*Qe;return St/=ze,[Dt,ct>=0?St:-St]};return Ze.invert=function(Qe,ct){var St;return E(ct*=ze)<1&&(St=s(ct)*I(Ot(E(ct))*Et)),[Qe/wt(E(ct)),St]},Ze}function qo(){var it=0,lt=2.5,gt=1.183136,wt=(0,C.r)(po),Ot=wt(it,lt,gt);return Ot.alpha=function(Et){return arguments.length?wt(it=+Et,lt,gt):it},Ot.k=function(Et){return arguments.length?wt(it,lt=+Et,gt):lt},Ot.gamma=function(Et){return arguments.length?wt(it,lt,gt=+Et):gt},Ot.scale(152.63)}function ro(it,lt){return E(it[0]-lt[0])<p&&E(it[1]-lt[1])<p}function As(it,lt){for(var gt,wt,Ot,Et=-1,U=it.length,ee=it[0],J=[];++Et<U;){wt=((gt=it[Et])[0]-ee[0])/lt,Ot=(gt[1]-ee[1])/lt;for(var ae=0;ae<lt;++ae)J.push([ee[0]+ae*wt,ee[1]+ae*Ot]);ee=gt}return J.push(gt),J}function Sa(it){var lt,gt,Ot,Et,ee,J=[],ae=it[0].length;for(ee=0;ee<ae;++ee)gt=(lt=it[0][ee])[0][0],J.push(As([[gt+p,lt[0][1]+p],[gt+p,(Ot=lt[1][1])-p],[(Et=lt[2][0])-p,Ot-p],[Et-p,lt[2][1]+p]],30));for(ee=it[1].length-1;ee>=0;--ee)gt=(lt=it[1][ee])[0][0],J.push(As([[(Et=lt[2][0])-p,lt[2][1]-p],[Et-p,(Ot=lt[1][1])+p],[gt+p,Ot+p],[gt+p,lt[0][1]-p]],30));return{type:"Polygon",coordinates:[(0,zn.TS)(J)]}}function Ai(it,lt,gt){var wt,Ot;function Et(J,ae){for(var we=ae<0?-1:1,ze=lt[+(ae<0)],Ze=0,Qe=ze.length-1;Ze<Qe&&J>ze[Ze][2][0];++Ze);var ct=it(J-ze[Ze][1][0],ae);return ct[0]+=it(ze[Ze][1][0],we*ae>we*ze[Ze][0][1]?ze[Ze][0][1]:ae)[0],ct}gt?Et.invert=gt(Et):it.invert&&(Et.invert=function(J,ae){for(var we=Ot[+(ae<0)],ze=lt[+(ae<0)],Ze=0,Qe=we.length;Ze<Qe;++Ze){var ct=we[Ze];if(ct[0][0]<=J&&J<ct[1][0]&&ct[0][1]<=ae&&ae<ct[1][1]){var St=it.invert(J-it(ze[Ze][1][0],0)[0],ae);return St[0]+=ze[Ze][1][0],ro(Et(St[0],St[1]),[J,ae])?St:null}}});var U=(0,C.Z)(Et),ee=U.stream;return U.stream=function(J){var ae=U.rotate(),we=ee(J),ze=(U.rotate([0,0]),ee(J));return U.rotate(ae),we.sphere=function(){(0,bn.Z)(wt,ze)},we},U.lobes=function(J){return arguments.length?(wt=Sa(J),lt=J.map(function(ae){return ae.map(function(we){return[[we[0][0]*A,we[0][1]*A],[we[1][0]*A,we[1][1]*A],[we[2][0]*A,we[2][1]*A]]})}),Ot=lt.map(function(ae){return ae.map(function(we){var ze,Ze=it(we[0][0],we[0][1])[0],Qe=it(we[2][0],we[2][1])[0],ct=it(we[1][0],we[0][1])[1],St=it(we[1][0],we[1][1])[1];return ct>St&&(ze=ct,ct=St,St=ze),[[Ze,ct],[Qe,St]]})}),U):lt.map(function(ae){return ae.map(function(we){return[[we[0][0]*O,we[0][1]*O],[we[1][0]*O,we[1][1]*O],[we[2][0]*O,we[2][1]*O]]})})},null!=lt&&U.lobes(lt),U}Ar.invert=function(it,lt){return lt>-Tr?Oe.invert(it,lt-Cr):Ue.invert(it,lt)},Wr.invert=function(it,lt){return E(lt)>Tr?Oe.invert(it,lt+(lt>0?Cr:-Cr)):Ue.invert(it,lt)};var el=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Xl(){return Ai(_e,el).scale(160.857)}var ju=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Tl(){return Ai(Wr,ju).scale(152.63)}var ic=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Mu(){return Ai(Oe,ic).scale(169.529)}var Au=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function ks(){return Ai(Oe,Au).scale(169.529).rotate([20,0])}var Cc=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function na(){return Ai(Ar,Cc,pe).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var Pl=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function va(){return Ai(Ue,Pl).scale(152.63).rotate([-20,0])}function Ss(it,lt){return[3/h*it*L(_*_/3-lt*lt),lt]}function $r(){return(0,C.Z)(Ss).scale(158.837)}function eo(it){function lt(gt,wt){if(E(E(wt)-y)<p)return[0,wt<0?-2:2];var Ot=d(wt),Et=o((1+Ot)/(1-Ot),it/2),U=.5*(Et+1/Et)+M(gt*=it);return[2*d(gt)/U,(Et-1/Et)/U]}return lt.invert=function(gt,wt){var Ot=E(wt);if(E(Ot-2)<p)return gt?null:[0,s(wt)*y];if(Ot>2)return null;var Et=(gt/=2)*gt,U=(wt/=2)*wt,ee=2*wt/(1+Et+U);return ee=o((1+ee)/(1-ee),1/it),[S(2*gt,1-Et-U)/it,I((ee-1)/(ee+1))]},lt}function Li(){var it=.5,lt=(0,C.r)(eo),gt=lt(it);return gt.spacing=function(wt){return arguments.length?lt(it=+wt):it},gt.scale(124.75)}Ss.invert=function(it,lt){return[h/3*it/L(_*_/3-lt*lt),lt]};var Ja=_/b;function Cs(it,lt){return[it*(1+L(M(lt)))/2,lt/(M(lt/2)*M(it/6))]}function hs(){return(0,C.Z)(Cs).scale(97.2672)}function Uu(it,lt){var gt=it*it,wt=lt*lt;return[it*(.975534+wt*(-.0143059*gt-.119161+-.0547009*wt)),lt*(1.00384+gt*(.0802894+-.02855*wt+199025e-9*gt)+wt*(.0998909+-.0491032*wt))]}function Kc(){return(0,C.Z)(Uu).scale(139.98)}function Rl(it,lt){return[d(it)/M(lt),g(lt)*M(it)]}function Ll(){return(0,C.Z)(Rl).scale(144.049).clipAngle(89.999)}function Vs(it){var lt=M(it),gt=g(w+it/2);function wt(Ot,Et){var U=Et-it,ee=E(U)<p?Ot*lt:E(ee=w+Et/2)<p||E(E(ee)-y)<p?0:Ot*U/i(g(ee)/gt);return[ee,U]}return wt.invert=function(Ot,Et){var U,ee=Et+it;return[E(Et)<p?Ot/lt:E(U=w+ee/2)<p||E(E(U)-y)<p?0:Ot*i(g(U)/gt)/Et,ee]},wt}function Zf(){return Pe(Vs).parallel(40).scale(158.837)}function Qc(it,lt){return[it,1.25*i(g(w+.4*lt))]}function tl(){return(0,C.Z)(Qc).scale(108.318)}function nl(it){var lt=it.length-1;function gt(wt,Ot){for(var Et,U=M(Ot),ee=2/(1+U*M(wt)),J=ee*U*d(wt),ae=ee*d(Ot),we=lt,ze=it[we],Ze=ze[0],Qe=ze[1];--we>=0;)Ze=(ze=it[we])[0]+J*(Et=Ze)-ae*Qe,Qe=ze[1]+J*Qe+ae*Et;return[Ze=J*(Et=Ze)-ae*Qe,Qe=J*Qe+ae*Et]}return gt.invert=function(wt,Ot){var Et=20,U=wt,ee=Ot;do{for(var J,ae=lt,we=it[ae],ze=we[0],Ze=we[1],Qe=0,ct=0;--ae>=0;)Qe=ze+U*(J=Qe)-ee*ct,ct=Ze+U*ct+ee*J,ze=(we=it[ae])[0]+U*(J=ze)-ee*Ze,Ze=we[1]+U*Ze+ee*J;var St,Dt,se=(Qe=ze+U*(J=Qe)-ee*ct)*Qe+(ct=Ze+U*ct+ee*J)*ct;U-=St=((ze=U*(J=ze)-ee*Ze-wt)*Qe+(Ze=U*Ze+ee*J-Ot)*ct)/se,ee-=Dt=(Ze*Qe-ze*ct)/se}while(E(St)+E(Dt)>1e-12&&--Et>0);if(Et){var me=L(U*U+ee*ee),Ie=2*f(.5*me),je=d(Ie);return[S(U*je,me*M(Ie)),me?I(ee*je/me):0]}},gt}Cs.invert=function(it,lt){var gt=E(it),wt=E(lt),Ot=p,Et=y;wt<Ja?Et*=wt/Ja:Ot+=6*P(Ja/wt);for(var U=0;U<25;U++){var ee=d(Et),J=L(M(Et)),ae=d(Et/2),we=M(Et/2),ze=d(Ot/6),Ze=M(Ot/6),Qe=.5*Ot*(1+J)-gt,ct=Et/(we*Ze)-wt,St=J?-.25*Ot*ee/J:0,Dt=.5*(1+J),se=(1+.5*Et*ae/we)/(we*Ze),me=Et/we*(ze/6)/(Ze*Ze),Ie=St*me-se*Dt,je=(Qe*me-ct*Dt)/Ie,qe=(ct*St-Qe*se)/Ie;if(Et-=je,Ot-=qe,E(je)<p&&E(qe)<p)break}return[it<0?-Ot:Ot,lt<0?-Et:Et]},Uu.invert=function(it,lt){var gt=s(it)*_,wt=lt/2,Ot=50;do{var Et=gt*gt,U=wt*wt,ee=gt*wt,J=gt*(.975534+U*(-.0143059*Et-.119161+-.0547009*U))-it,ae=wt*(1.00384+Et*(.0802894+-.02855*U+199025e-9*Et)+U*(.0998909+-.0491032*U))-lt,we=.975534-U*(.119161+3*Et*.0143059+.0547009*U),ze=-ee*(.238322+.2188036*U+.0286118*Et),Ze=ee*(.1605788+7961e-7*Et+-.0571*U),Qe=1.00384+Et*(.0802894+199025e-9*Et)+U*(3*(.0998909-.02855*Et)-.245516*U),ct=ze*Ze-Qe*we,St=(ae*ze-J*Qe)/ct,Dt=(J*Ze-ae*we)/ct;gt-=St,wt-=Dt}while((E(St)>p||E(Dt)>p)&&--Ot>0);return Ot&&[gt,wt]},Rl.invert=function(it,lt){var gt=it*it,wt=lt*lt+1,Ot=gt+wt,Et=it?m*L((Ot-L(Ot*Ot-4*gt))/gt):1/L(wt);return[I(it*Et),s(lt)*P(Et)]},Qc.invert=function(it,lt){return[it,2.5*f(v(.8*lt))-.625*_]};var Hi=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Hs=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],Jl=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],rl=[[.9245,0],[0,0],[.01943,0]],oc=[[.721316,0],[0,0],[-.00881625,-.00617325]];function il(){return Kl(Hi,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function ol(){return Kl(Hs,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function ac(){return Kl(Jl,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function yo(){return Kl(rl,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function ku(){return Kl(oc,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function Kl(it,lt){var gt=(0,C.Z)(nl(it)).rotate(lt).clipAngle(90),wt=(0,ht.Z)(lt),Ot=gt.center;return delete gt.rotate,gt.center=function(Et){return arguments.length?Ot(wt(Et)):wt.invert(Ot())},gt}var Ml=L(6),mi=L(7);function Ql(it,lt){var gt=I(7*d(lt)/(3*Ml));return[Ml*it*(2*M(2*gt/3)-1)/mi,9*d(gt/3)/mi]}function ef(){return(0,C.Z)(Ql).scale(164.859)}function ni(it,lt){for(var gt,wt=(1+m)*d(lt),Ot=lt,Et=0;Et<25&&(Ot-=gt=(d(Ot/2)+d(Ot)-wt)/(.5*M(Ot/2)+M(Ot)),!(E(gt)<p));Et++);return[it*(1+2*M(Ot)/M(Ot/2))/(3*b),2*L(3)*d(Ot/2)/L(2+b)]}function Ca(){return(0,C.Z)(ni).scale(188.209)}function Yi(it,lt){for(var gt,wt=L(6/(4+_)),Ot=(1+_/4)*d(lt),Et=lt/2,U=0;U<25&&(Et-=gt=(Et/2+d(Et)-Ot)/(.5+M(Et)),!(E(gt)<p));U++);return[wt*(.5+M(Et))*it/1.5,wt*Et]}function ra(){return(0,C.Z)(Yi).scale(166.518)}Ql.invert=function(it,lt){var gt=3*I(lt*mi/9);return[it*mi/(Ml*(2*M(2*gt/3)-1)),I(3*d(gt)*Ml/7)]},ni.invert=function(it,lt){var gt=lt*L(2+b)/(2*L(3)),wt=2*I(gt);return[3*b*it/(1+2*M(wt)/M(wt/2)),I((gt+d(wt))/(1+m))]},Yi.invert=function(it,lt){var gt=L(6/(4+_)),wt=lt/gt;return E(E(wt)-y)<p&&(wt=wt<0?-y:y),[1.5*it/(gt*(.5+M(wt))),I((wt/2+d(wt))/(1+_/4))]};var Io=r(26867);function eu(it,lt){var gt=lt*lt,wt=gt*gt,Ot=gt*wt;return[it*(.84719-.13063*gt+Ot*Ot*(.05494*gt-.04515-.02326*wt+.00331*Ot)),lt*(1.01183+wt*wt*(.01926*gt-.02625-.00396*wt))]}function La(){return(0,C.Z)(eu).scale(175.295)}function ds(it,lt){return[it*(1+M(lt))/2,2*(lt-g(lt/2))]}function ai(){return(0,C.Z)(ds).scale(152.63)}eu.invert=function(it,lt){var gt,wt,Ot,Et,U=lt,ee=25;do{U-=gt=(U*(1.01183+(Ot=(wt=U*U)*wt)*Ot*(.01926*wt-.02625-.00396*Ot))-lt)/(1.01183+Ot*Ot*(.21186*wt-.23625+-.05148*Ot))}while(E(gt)>T&&--ee>0);return[it/(.84719-.13063*(wt=U*U)+(Et=wt*(Ot=wt*wt))*Et*(.05494*wt-.04515-.02326*Ot+.00331*Et)),U]},ds.invert=function(it,lt){for(var gt=lt/2,wt=0,Ot=1/0;wt<10&&E(Ot)>p;++wt){var Et=M(lt/2);lt-=Ot=(lt-g(lt/2)-gt)/(1-.5/(Et*Et))}return[2*it/(1+M(lt)),lt]};var Di=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Ao(){return Ai(ge(1/0),Di).rotate([20,0]).scale(152.63)}function Ha(it,lt){var gt=d(lt),wt=M(lt),Ot=s(it);if(0===it||E(lt)===y)return[0,lt];if(0===lt)return[it,0];if(E(it)===y)return[it*wt,y*gt];var Et=_/(2*it)-2*it/_,U=2*lt/_,ee=(1-U*U)/(gt-U),J=Et*Et,ae=ee*ee,we=1+J/ae,ze=1+ae/J,Ze=(Et*gt/ee-Et/2)/we,Qe=(ae*gt/J+ee/2)/ze,ct=Qe*Qe-(ae*gt*gt/J+ee*gt-1)/ze;return[y*(Ze+L(Ze*Ze+wt*wt/we)*Ot),y*(Qe+L(ct<0?0:ct)*s(-lt*Et)*Ot)]}function al(){return(0,C.Z)(Ha).scale(127.267)}Ha.invert=function(it,lt){var gt=(it/=y)*it,wt=gt+(lt/=y)*lt,Ot=_*_;return[it?(wt-1+L((1-wt)*(1-wt)+4*gt))/(2*it)*y:0,Ae(function(Et){return wt*(_*d(Et)-2*Et)*_+4*Et*Et*(lt-d(Et))+2*_*Et-Ot*lt},0)]};var Su=1.790857183;function Oi(it,lt){var gt=lt*lt;return[it,lt*(1.0148+gt*gt*(.23185+gt*(.02406*gt-.14499)))]}function Cu(){return(0,C.Z)(Oi).scale(139.319)}function Nl(it,lt){if(E(lt)<p)return[it,0];var gt=g(lt),wt=it*d(lt);return[d(wt)/gt,lt+(1-M(wt))/gt]}function sc(){return(0,C.Z)(Nl).scale(103.74)}Oi.invert=function(it,lt){lt>Su?lt=Su:lt<-1.790857183&&(lt=-1.790857183);var gt,wt=lt;do{var Ot=wt*wt;wt-=gt=(wt*(1.0148+Ot*Ot*(.23185+Ot*(.02406*Ot-.14499)))-lt)/(1.0148+Ot*Ot*(1.1592500000000001+Ot*(.21654*Ot-1.01493)))}while(E(gt)>p);return[it,wt]},Nl.invert=function(it,lt){if(E(lt)<p)return[it,0];var gt,wt=it*it+lt*lt,Ot=.5*lt,Et=10;do{var U=g(Ot),ee=1/M(Ot),J=wt-2*lt*Ot+Ot*Ot;Ot-=gt=(U*J+2*(Ot-lt))/(2+J*ee*ee+2*(Ot-lt)*U)}while(E(gt)>p&&--Et>0);return U=g(Ot),[(E(lt)<E(Ot+1/U)?I(it*U):s(lt)*s(it)*(P(E(it*U))+y))/d(Ot),Ot]};var Al=r(77338),ia=r(83074);function sl(it,lt){return[it[0]*lt[0]+it[1]*lt[3],it[0]*lt[1]+it[1]*lt[4],it[0]*lt[2]+it[1]*lt[5]+it[2],it[3]*lt[0]+it[4]*lt[3],it[3]*lt[1]+it[4]*lt[4],it[3]*lt[2]+it[4]*lt[5]+it[5]]}function Gs(it,lt){return[it[0]-lt[0],it[1]-lt[1]]}function Gi(it){return L(it[0]*it[0]+it[1]*it[1])}function qs(it,lt,gt){function wt(ee,J){var ae,we=lt(ee,J),ze=we.project([ee*O,J*O]);return(ae=we.transform)?[ae[0]*ze[0]+ae[1]*ze[1]+ae[2],-(ae[3]*ze[0]+ae[4]*ze[1]+ae[5])]:(ze[1]=-ze[1],ze)}function Ot(ee,J){var Dt,se,ae=ee.project.invert,we=ee.transform,ze=J;if(we&&(ze=[(we=[(se=1/((Dt=we)[0]*Dt[4]-Dt[1]*Dt[3]))*Dt[4],-se*Dt[1],se*(Dt[1]*Dt[5]-Dt[2]*Dt[4]),-se*Dt[3],se*Dt[0],se*(Dt[2]*Dt[3]-Dt[0]*Dt[5])])[0]*ze[0]+we[1]*ze[1]+we[2],we[3]*ze[0]+we[4]*ze[1]+we[5]]),ae&&ee===function(Dt){return lt(Dt[0]*A,Dt[1]*A)}(Ze=ae(ze)))return Ze;for(var Ze,Qe=ee.children,ct=0,St=Qe&&Qe.length;ct<St;++ct)if(Ze=Ot(Qe[ct],J))return Ze}(function ee(J,ae){if(J.edges=function(qe){for(var Xe=qe.length,rt=[],at=qe[Xe-1],pt=0;pt<Xe;++pt)rt.push([at,at=qe[pt]]);return rt}(J.face),ae.face){var we=J.shared=function(qe,Xe){for(var rt,at,pt=qe.length,yt=null,zt=0;zt<pt;++zt){rt=qe[zt];for(var $t=Xe.length;--$t>=0;)if(rt[0]===(at=Xe[$t])[0]&&rt[1]===at[1]){if(yt)return[yt,rt];yt=rt}}}(J.face,ae.face),ze=(St=we.map(ae.project),Dt=we.map(J.project),se=Gs(St[1],St[0]),me=Gs(Dt[1],Dt[0]),Ie=S((qe=se)[0]*(Xe=me)[1]-qe[1]*Xe[0],qe[0]*Xe[0]+qe[1]*Xe[1]),je=Gi(se)/Gi(me),sl([1,0,St[0][0],0,1,St[0][1]],sl([je,0,0,0,je,0],sl([M(Ie),d(Ie),0,-d(Ie),M(Ie),0],[1,0,-Dt[0][0],0,1,-Dt[0][1]]))));J.transform=ae.transform?sl(ae.transform,ze):ze;for(var Ze=ae.edges,Qe=0,ct=Ze.length;Qe<ct;++Qe)Bi(we[0],Ze[Qe][1])&&Bi(we[1],Ze[Qe][0])&&(Ze[Qe]=J),Bi(we[0],Ze[Qe][0])&&Bi(we[1],Ze[Qe][1])&&(Ze[Qe]=J);for(Qe=0,ct=(Ze=J.edges).length;Qe<ct;++Qe)Bi(we[0],Ze[Qe][0])&&Bi(we[1],Ze[Qe][1])&&(Ze[Qe]=ae),Bi(we[0],Ze[Qe][1])&&Bi(we[1],Ze[Qe][0])&&(Ze[Qe]=ae)}else J.transform=ae.transform;var qe,Xe,St,Dt,se,me,Ie,je;return J.children&&J.children.forEach(function(qe){ee(qe,J)}),J})(it,{transform:null}),to(it)&&(wt.invert=function(ee,J){var ae=Ot(it,[ee,-J]);return ae&&(ae[0]*=A,ae[1]*=A,ae)});var Et=(0,C.Z)(wt),U=Et.stream;return Et.stream=function(ee){var J=Et.rotate(),ae=U(ee),we=(Et.rotate([0,0]),U(ee));return Et.rotate(J),ae.sphere=function(){we.polygonStart(),we.lineStart(),Fl(we,it),we.lineEnd(),we.polygonEnd()},ae},Et.angle(null==gt?-30:gt*O)}function Fl(it,lt,gt){var wt,Ot,Et=lt.edges,U=Et.length,ee={type:"MultiPoint",coordinates:lt.face},J=lt.face.filter(function(St){return 90!==E(St[1])}),ae=(0,Al.Z)({type:"MultiPoint",coordinates:J}),we=!1,ze=-1,Ze=ae[1][0]-ae[0][0],Qe=180===Ze||360===Ze?[(ae[0][0]+ae[1][0])/2,(ae[0][1]+ae[1][1])/2]:(0,Je.Z)(ee);if(gt)for(;++ze<U&&Et[ze]!==gt;);++ze;for(var ct=0;ct<U;++ct)Ot=Et[(ct+ze)%U],Array.isArray(Ot)?(we||(it.point((wt=(0,ia.Z)(Ot[0],Qe)(p))[0],wt[1]),we=!0),it.point((wt=(0,ia.Z)(Ot[1],Qe)(p))[0],wt[1])):(we=!1,Ot!==gt&&Fl(it,Ot,lt))}function Bi(it,lt){return it&&lt&&it[0]===lt[0]&&it[1]===lt[1]}function to(it){return it.project.invert||it.children&&it.children.some(to)}var Xi=r(98936),kl=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Es=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(it){return it.map(function(lt){return kl[lt]})});function fu(it){it=it||function(gt){var wt=(0,Je.Z)({type:"MultiPoint",coordinates:gt});return(0,Xi.Z)().scale(1).translate([0,0]).rotate([-wt[0],-wt[1]])};var lt=Es.map(function(gt){return{face:gt,project:it(gt)}});return[-1,0,0,1,0,1,4,5].forEach(function(gt,wt){var Ot=lt[gt];Ot&&(Ot.children||(Ot.children=[])).push(lt[wt])}),qs(lt[0],function(gt,wt){return lt[gt<-_/2?wt<0?6:4:gt<0?wt<0?2:0:gt<_/2?wt<0?3:1:wt<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var nu=2/L(3);function oa(it,lt){var gt=Ut(it,lt);return[gt[0]*nu,gt[1]]}function tf(it){it=it||function(gt){var wt=(0,Je.Z)({type:"MultiPoint",coordinates:gt});return(0,C.Z)(oa).translate([0,0]).scale(1).rotate(wt[1]>0?[-wt[0],0]:[180-wt[0],180])};var lt=Es.map(function(gt){return{face:gt,project:it(gt)}});return[-1,0,0,1,0,1,4,5].forEach(function(gt,wt){var Ot=lt[gt];Ot&&(Ot.children||(Ot.children=[])).push(lt[wt])}),qs(lt[0],function(gt,wt){return lt[gt<-_/2?wt<0?6:4:gt<0?wt<0?2:0:gt<_/2?wt<0?3:1:wt<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function ya(it){it=it||function(Et){var U=6===Et.length?(0,Je.Z)({type:"MultiPoint",coordinates:Et}):Et[0];return(0,Xi.Z)().scale(1).translate([0,0]).rotate([-U[0],-U[1]])};var lt=Es.map(function(Et){for(var U,ee=Et.map(go),J=ee.length,ae=ee[J-1],we=[],ze=0;ze<J;++ze)we.push(zl([.9486832980505138*ae[0]+.31622776601683794*(U=ee[ze])[0],.9486832980505138*ae[1]+.31622776601683794*U[1],.9486832980505138*ae[2]+.31622776601683794*U[2]]),zl([.9486832980505138*U[0]+.31622776601683794*ae[0],.9486832980505138*U[1]+.31622776601683794*ae[1],.9486832980505138*U[2]+.31622776601683794*ae[2]])),ae=U;return we}),gt=[],wt=[-1,0,0,1,0,1,4,5];lt.forEach(function(Et,U){for(var ee,J,ae=Es[U],we=ae.length,ze=gt[U]=[],Ze=0;Ze<we;++Ze)lt.push([ae[Ze],Et[(2*Ze+2)%(2*we)],Et[(2*Ze+1)%(2*we)]]),wt.push(U),ze.push((ee=go(Et[(2*Ze+2)%(2*we)]),J=go(Et[(2*Ze+1)%(2*we)]),[ee[1]*J[2]-ee[2]*J[1],ee[2]*J[0]-ee[0]*J[2],ee[0]*J[1]-ee[1]*J[0]]))});var Ot=lt.map(function(Et){return{project:it(Et),face:Et}});return wt.forEach(function(Et,U){var ee=Ot[Et];ee&&(ee.children||(ee.children=[])).push(Ot[U])}),qs(Ot[0],function(Et,U){var ee=M(U),J=[ee*M(Et),ee*d(Et),d(U)],ae=Et<-_/2?U<0?6:4:Et<0?U<0?2:0:Et<_/2?U<0?3:1:U<0?7:5,we=gt[ae];return Ot[_a(we[0],J)<0?8+3*ae:_a(we[1],J)<0?8+3*ae+1:_a(we[2],J)<0?8+3*ae+2:ae]}).angle(-30).scale(110.625).center([0,45])}function _a(it,lt){for(var gt=0,wt=it.length,Ot=0;gt<wt;++gt)Ot+=it[gt]*lt[gt];return Ot}function zl(it){return[S(it[1],it[0])*O,I(u(-1,a(1,it[2])))*O]}function go(it){var lt=it[0]*A,gt=it[1]*A,wt=M(gt);return[wt*M(lt),wt*d(lt),d(gt)]}function Ds(){}function Fa(it,lt){var gt,wt=lt.stream;if(!wt)throw new Error("invalid projection");switch(it&&it.type){case"Feature":gt=Ga;break;case"FeatureCollection":gt=aa;break;default:gt=za}return gt(it,wt)}function aa(it,lt){return{type:"FeatureCollection",features:it.features.map(function(gt){return Ga(gt,lt)})}}function Ga(it,lt){return{type:"Feature",id:it.id,properties:it.properties,geometry:za(it.geometry,lt)}}function za(it,lt){if(!it)return null;if("GeometryCollection"===it.type)return Ot=lt,{type:"GeometryCollection",geometries:it.geometries.map(function(Et){return za(Et,Ot)})};var Ot,gt;switch(it.type){case"Point":case"MultiPoint":gt=hu;break;case"LineString":case"MultiLineString":gt=ll;break;case"Polygon":case"MultiPolygon":case"Sphere":gt=xa;break;default:return null}return(0,bn.Z)(it,lt(gt)),gt.result()}oa.invert=function(it,lt){return Ut.invert(it/nu,lt)};var Ea=[],ps=[],hu={point:function(it,lt){Ea.push([it,lt])},result:function(){var it=Ea.length?Ea.length<2?{type:"Point",coordinates:Ea[0]}:{type:"MultiPoint",coordinates:Ea}:null;return Ea=[],it}},ll={lineStart:Ds,point:function(it,lt){Ea.push([it,lt])},lineEnd:function(){Ea.length&&(ps.push(Ea),Ea=[])},result:function(){var it=ps.length?ps.length<2?{type:"LineString",coordinates:ps[0]}:{type:"MultiLineString",coordinates:ps}:null;return ps=[],it}},xa={polygonStart:Ds,lineStart:Ds,point:function(it,lt){Ea.push([it,lt])},lineEnd:function(){var it=Ea.length;if(it){do{Ea.push(Ea[0].slice())}while(++it<4);ps.push(Ea),Ea=[]}},polygonEnd:Ds,result:function(){if(!ps.length)return null;var it=[],lt=[];return ps.forEach(function(gt){!function(wt){if((Ot=wt.length)<4)return!1;for(var Ot,Et=0,U=wt[Ot-1][1]*wt[0][0]-wt[Ot-1][0]*wt[0][1];++Et<Ot;)U+=wt[Et-1][1]*wt[Et][0]-wt[Et-1][0]*wt[Et][1];return U<=0}(gt)?lt.push(gt):it.push([gt])}),lt.forEach(function(gt){var wt=gt[0];it.some(function(Ot){if(function(Et,U){for(var ee=U[0],J=U[1],ae=!1,we=0,ze=Et.length,Ze=ze-1;we<ze;Ze=we++){var Qe=Et[we],ct=Qe[0],St=Qe[1],Dt=Et[Ze],me=Dt[1];St>J^me>J&&ee<(Dt[0]-ct)*(J-St)/(me-St)+ct&&(ae=!ae)}return ae}(Ot[0],wt))return Ot.push(gt),!0})||it.push([gt])}),ps=[],it.length?it.length>1?{type:"MultiPolygon",coordinates:it}:{type:"Polygon",coordinates:it[0]}:null}};function Os(it){var lt=it(y,0)[0]-it(-y,0)[0];function gt(wt,Ot){var Et=E(wt)<y,U=it(Et?wt:wt>0?wt-_:wt+_,Ot),ee=(U[0]-U[1])*m,J=(U[0]+U[1])*m;if(Et)return[ee,J];var ae=lt*m,we=ee>0^J>0?-1:1;return[we*ee-s(J)*ae,we*J-s(ee)*ae]}return it.invert&&(gt.invert=function(wt,Ot){var Et=(wt+Ot)*m,U=(Ot-wt)*m,ee=E(Et)<.5*lt&&E(U)<.5*lt;if(!ee){var J=lt*m,ae=Et>0^U>0?-1:1,we=-ae*wt+(U>0?1:-1)*J,ze=-ae*Ot+(Et>0?1:-1)*J;Et=(-we-ze)*m,U=(we-ze)*m}var Ze=it.invert(Et,U);return ee||(Ze[0]+=Et>0?_:-_),Ze}),(0,C.Z)(gt).rotate([-90,-90,45]).clipAngle(179.999)}function Ec(){return Os(fr).scale(176.423)}function Dc(){return Os(Vn).scale(111.48)}function Ka(it,lt){if(!(0<=(lt=+lt)&&lt<=20))throw new Error("invalid digits");function gt(ae){var we=ae.length,ze=2,Ze=new Array(we);for(Ze[0]=+ae[0].toFixed(lt),Ze[1]=+ae[1].toFixed(lt);ze<we;)Ze[ze]=ae[ze],++ze;return Ze}function wt(ae){return ae.map(gt)}function Ot(ae){for(var we=gt(ae[0]),ze=[we],Ze=1;Ze<ae.length;Ze++){var Qe=gt(ae[Ze]);(Qe.length>2||Qe[0]!=we[0]||Qe[1]!=we[1])&&(ze.push(Qe),we=Qe)}return 1===ze.length&&ae.length>1&&ze.push(gt(ae[ae.length-1])),ze}function Et(ae){return ae.map(Ot)}function U(ae){if(null==ae)return ae;var we;switch(ae.type){case"GeometryCollection":we={type:"GeometryCollection",geometries:ae.geometries.map(U)};break;case"Point":we={type:"Point",coordinates:gt(ae.coordinates)};break;case"MultiPoint":we={type:ae.type,coordinates:wt(ae.coordinates)};break;case"LineString":we={type:ae.type,coordinates:Ot(ae.coordinates)};break;case"MultiLineString":case"Polygon":we={type:ae.type,coordinates:Et(ae.coordinates)};break;case"MultiPolygon":we={type:"MultiPolygon",coordinates:ae.coordinates.map(Et)};break;default:return ae}return null!=ae.bbox&&(we.bbox=ae.bbox),we}function ee(ae){var we={type:"Feature",properties:ae.properties,geometry:U(ae.geometry)};return null!=ae.id&&(we.id=ae.id),null!=ae.bbox&&(we.bbox=ae.bbox),we}if(null!=it)switch(it.type){case"Feature":return ee(it);case"FeatureCollection":var J={type:"FeatureCollection",features:it.features.map(ee)};return null!=it.bbox&&(J.bbox=it.bbox),J;default:return U(it)}return it}function Yr(it){var lt=d(it);function gt(wt,Ot){var Et=lt?g(wt*lt/2)/lt:wt/2;if(!Ot)return[2*Et,-it];var U=2*f(Et*d(Ot)),ee=1/g(Ot);return[d(U)*ee,Ot+(1-M(U))*ee-it]}return gt.invert=function(wt,Ot){if(E(Ot+=it)<p)return[lt?2*f(lt*wt/2)/lt:wt,0];var Et,U=wt*wt+Ot*Ot,ee=0,J=10;do{var ae=g(ee),we=1/M(ee),ze=U-2*Ot*ee+ee*ee;ee-=Et=(ae*ze+2*(ee-Ot))/(2+ze*we*we+2*(ee-Ot)*ae)}while(E(Et)>p&&--J>0);var Ze=wt*(ae=g(ee)),Qe=g(E(Ot)<E(ee+1/ae)?.5*I(Ze):.5*P(Ze)+_/4)/d(ee);return[lt?2*f(lt*Qe)/lt:2*Qe,ee]},gt}function Eu(){return Pe(Yr).scale(131.215)}var gs=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function Oc(it,lt){var gt,wt=a(18,36*E(lt)/_),Ot=c(wt),Et=wt-Ot,U=(gt=gs[Ot])[0],ee=gt[1],J=(gt=gs[++Ot])[0],ae=gt[1],we=(gt=gs[a(19,++Ot)])[0],ze=gt[1];return[it*(J+Et*(we-U)/2+Et*Et*(we-2*J+U)/2),(lt>0?y:-y)*(ae+Et*(ze-ee)/2+Et*Et*(ze-2*ae+ee)/2)]}function du(){return(0,C.Z)(Oc).scale(152.63)}function pu(it,lt){var gt=function(U){function ee(J,ae){var we=M(ae),ze=(U-1)/(U-we*M(J));return[ze*we*d(J),ze*d(ae)]}return ee.invert=function(J,ae){var we=J*J+ae*ae,ze=L(we),Ze=(U-L(1-we*(U+1)/(U-1)))/((U-1)/ze+ze/(U-1));return[S(J*Ze,ze*L(1-Ze*Ze)),ze?I(ae*Ze/ze):0]},ee}(it);if(!lt)return gt;var wt=M(lt),Ot=d(lt);function Et(U,ee){var J=gt(U,ee),ae=J[1],we=ae*Ot/(it-1)+wt;return[J[0]*wt/we,ae/we]}return Et.invert=function(U,ee){var J=(it-1)/(it-1-ee*Ot);return gt.invert(J*U,J*ee*wt)},Et}function Vu(){var it=2,lt=0,gt=(0,C.r)(pu),wt=gt(it,lt);return wt.distance=function(Ot){return arguments.length?gt(it=+Ot,lt):it},wt.tilt=function(Ot){return arguments.length?gt(it,lt=Ot*A):lt*O},wt.scale(432.147).clipAngle(P(1/it)*O-1e-6)}gs.forEach(function(it){it[1]*=1.0144}),Oc.invert=function(it,lt){var gt=lt/y,wt=90*gt,Ot=a(18,E(wt/5)),Et=u(0,c(Ot));do{var U=gs[Et][1],ee=gs[Et+1][1],J=gs[a(19,Et+2)][1],ae=J-U,we=J-2*ee+U,ze=2*(E(gt)-ee)/ae,Ze=we/ae,Qe=ze*(1-Ze*ze*(1-2*Ze*ze));if(Qe>=0||1===Et){wt=(lt>=0?5:-5)*(Qe+Ot);var ct,St=50;do{Qe=(Ot=a(18,E(wt)/5))-(Et=c(Ot)),U=gs[Et][1],ee=gs[Et+1][1],J=gs[a(19,Et+2)][1],wt-=(ct=(lt>=0?y:-y)*(ee+Qe*(J-U)/2+Qe*Qe*(J-2*ee+U)/2)-lt)*O}while(E(ct)>T&&--St>0);break}}while(--Et>=0);var Dt=gs[Et][0],se=gs[Et+1][0],me=gs[a(19,Et+2)][0];return[it/(se+Qe*(me-Dt)/2+Qe*Qe*(me-2*se+Dt)/2),wt*A]};var Jr=-179.9999,Hu=179.9999,Da=-89.9999,lc=89.9999;function Eo(it){return it.length>0}function Oa(it){return-90===it||90===it?[0,it]:[-180,(lt=it,Math.floor(1e4*lt)/1e4)];var lt}function gu(it){var lt=it[0],gt=it[1],wt=!1;return lt<=Jr?(lt=-180,wt=!0):lt>=Hu&&(lt=180,wt=!0),gt<=Da?(gt=-90,wt=!0):gt>=lc&&(gt=90,wt=!0),wt?[lt,gt]:it}function Bl(it){return it.map(gu)}function Qa(it,lt,gt){for(var wt=0,Ot=it.length;wt<Ot;++wt){var Et=it[wt].slice();gt.push({index:-1,polygon:lt,ring:Et});for(var U=0,ee=Et.length;U<ee;++U){var J=Et[U],ae=J[0],we=J[1];if(ae<=Jr||ae>=Hu||we<=Da||we>=lc){Et[U]=gu(J);for(var ze=U+1;ze<ee;++ze){var Ze=Et[ze],Qe=Ze[0],ct=Ze[1];if(Qe>Jr&&Qe<Hu&&ct>Da&&ct<lc)break}if(ze===U+1)continue;if(U){var St={index:-1,polygon:lt,ring:Et.slice(0,U+1)};St.ring[St.ring.length-1]=Oa(we),gt[gt.length-1]=St}else gt.pop();if(ze>=ee)break;gt.push({index:-1,polygon:lt,ring:Et=Et.slice(ze-1)}),Et[0]=Oa(Et[0][1]),U=-1,ee=Et.length}}}}function jl(it){var lt,gt,wt,Ot,Et,U,ee=it.length,J={},ae={};for(lt=0;lt<ee;++lt)(wt=(gt=it[lt]).ring[0])[0]!==(Et=gt.ring[gt.ring.length-1])[0]||wt[1]!==Et[1]?(gt.index=lt,J[wt]=ae[Et]=gt):(gt.polygon.push(gt.ring),it[lt]=null);for(lt=0;lt<ee;++lt)if(gt=it[lt]){if(Ot=ae[wt=gt.ring[0]],U=J[Et=gt.ring[gt.ring.length-1]],delete J[wt],delete ae[Et],wt[0]===Et[0]&&wt[1]===Et[1]){gt.polygon.push(gt.ring);continue}Ot?(delete ae[wt],delete J[Ot.ring[0]],Ot.ring.pop(),it[Ot.index]=null,gt={index:-1,polygon:Ot.polygon,ring:Ot.ring.concat(gt.ring)},Ot===U?gt.polygon.push(gt.ring):(gt.index=ee++,it.push(J[gt.ring[0]]=ae[gt.ring[gt.ring.length-1]]=gt))):U?(delete J[Et],delete ae[U.ring[U.ring.length-1]],gt.ring.pop(),gt={index:ee++,polygon:U.polygon,ring:gt.ring.concat(U.ring)},it[U.index]=null,it.push(J[gt.ring[0]]=ae[gt.ring[gt.ring.length-1]]=gt)):(gt.ring.push(gt.ring[0]),gt.polygon.push(gt.ring))}}function ul(it){var lt={type:"Feature",geometry:ms(it.geometry)};return null!=it.id&&(lt.id=it.id),null!=it.bbox&&(lt.bbox=it.bbox),null!=it.properties&&(lt.properties=it.properties),lt}function ms(it){if(null==it)return it;var lt,gt,wt,Ot;switch(it.type){case"GeometryCollection":lt={type:"GeometryCollection",geometries:it.geometries.map(ms)};break;case"Point":lt={type:"Point",coordinates:gu(it.coordinates)};break;case"MultiPoint":case"LineString":lt={type:it.type,coordinates:Bl(it.coordinates)};break;case"MultiLineString":lt={type:"MultiLineString",coordinates:it.coordinates.map(Bl)};break;case"Polygon":var Et=[];Qa(it.coordinates,Et,gt=[]),jl(gt),lt={type:"Polygon",coordinates:Et};break;case"MultiPolygon":gt=[],wt=-1,Ot=it.coordinates.length;for(var U=new Array(Ot);++wt<Ot;)Qa(it.coordinates[wt],U[wt]=[],gt);jl(gt),lt={type:"MultiPolygon",coordinates:U.filter(Eo)};break;default:return it}return null!=it.bbox&&(lt.bbox=it.bbox),lt}function mu(it){if(null==it)return it;switch(it.type){case"Feature":return ul(it);case"FeatureCollection":var lt={type:"FeatureCollection",features:it.features.map(ul)};return null!=it.bbox&&(lt.bbox=it.bbox),lt;default:return ms(it)}}function ko(it,lt){var gt=g(lt/2),wt=d(w*gt);return[it*(.74482-.34588*wt*wt),1.70711*gt]}function Is(){return(0,C.Z)(ko).scale(146.153)}function co(it,lt,gt){var wt=(0,ia.Z)(lt,gt),Ot=wt(.5),Et=(0,ht.Z)([-Ot[0],-Ot[1]])(lt),U=wt.distance/2,ee=-I(d(Et[1]*A)/d(U)),J=[-Ot[0],-Ot[1],-(Et[0]>0?_-ee:ee)*O],ae=(0,C.Z)(it(U)).rotate(J),we=(0,ht.Z)(J),ze=ae.center;return delete ae.rotate,ae.center=function(Ze){return arguments.length?ze(we(Ze)):we.invert(ze())},ae.clipAngle(90)}function sa(it){var lt=M(it);function gt(wt,Ot){var Et=(0,Xi.M)(wt,Ot);return Et[0]*=lt,Et}return gt.invert=function(wt,Ot){return Xi.M.invert(wt/lt,Ot)},gt}function Ps(){return es([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function es(it,lt){return co(sa,it,lt)}function Xo(it){if(!(it*=2))return re.N;var lt=-it/2,gt=-lt,wt=it*it,Ot=g(gt),Et=.5/d(gt);function U(ee,J){var ae=P(M(J)*M(ee-lt)),we=P(M(J)*M(ee-gt));return[((ae*=ae)-(we*=we))/(2*it),(J<0?-1:1)*L(4*wt*we-(wt-ae+we)*(wt-ae+we))/(2*it)]}return U.invert=function(ee,J){var ae,we,ze=J*J,Ze=M(L(ze+(ae=ee+lt)*ae)),Qe=M(L(ze+(ae=ee+gt)*ae));return[S(we=Ze-Qe,ae=(Ze+Qe)*Ot),(J<0?-1:1)*P(L(ae*ae+we*we)*Et)]},U}function ts(){return io([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function io(it,lt){return co(Xo,it,lt)}function zo(it,lt){if(E(lt)<p)return[it,0];var gt=E(lt/y),wt=I(gt);if(E(it)<p||E(E(lt)-y)<p)return[0,s(lt)*_*g(wt/2)];var Ot=M(wt),Et=E(_/it-it/_)/2,U=Et*Et,ee=Ot/(gt+Ot-1),J=ee*(2/gt-1),ae=J*J,we=ae+U,ze=ee-ae,Ze=U+ee;return[s(it)*_*(Et*ze+L(U*ze*ze-we*(ee*ee-ae)))/we,s(lt)*_*(J*Ze-Et*L((U+1)*we-Ze*Ze))/we]}function Wo(){return(0,C.Z)(zo).scale(79.4183)}function ns(it,lt){if(E(lt)<p)return[it,0];var gt=E(lt/y),wt=I(gt);if(E(it)<p||E(E(lt)-y)<p)return[0,s(lt)*_*g(wt/2)];var Ot=M(wt),Et=E(_/it-it/_)/2,U=Et*Et,ee=Ot*(L(1+U)-Et*Ot)/(1+U*gt*gt);return[s(it)*_*ee,s(lt)*_*L(1-ee*(2*Et+ee))]}function Rs(){return(0,C.Z)(ns).scale(79.4183)}function ru(it,lt){if(E(lt)<p)return[it,0];var gt=lt/y,wt=I(gt);if(E(it)<p||E(E(lt)-y)<p)return[0,_*g(wt/2)];var Ot=(_/it-it/_)/2,Et=gt/(1+M(wt));return[_*(s(it)*L(Ot*Ot+1-Et*Et)-Ot),_*Et]}function qa(){return(0,C.Z)(ru).scale(79.4183)}function Ia(it,lt){if(!lt)return[it,0];var gt=E(lt);if(!it||gt===y)return[0,lt];var wt=gt/y,Ot=wt*wt,Et=(8*wt-Ot*(Ot+2)-5)/(2*Ot*(wt-1)),U=Et*Et,ee=wt*Et,J=Ot+U+2*ee,ae=wt+3*Et,we=it/y,ze=we+1/we,Ze=s(E(it)-y)*L(ze*ze-4),Qe=Ze*Ze,ct=(Ze*(J+U-1)+2*L(J*(Ot+U*Qe-1)+(1-Ot)*(Ot*(ae*ae+4*U)+12*ee*U+4*U*U)))/(4*J+Qe);return[s(it)*y*ct,s(lt)*y*L(1+Ze*E(ct)-ct*ct)]}function vs(){return(0,C.Z)(Ia).scale(127.16)}function kr(it,lt,gt,wt){var Ot=_/3;it=u(it,p),lt=u(lt,p),it=a(it,y),lt=a(lt,_-p),gt=u(gt,0),gt=a(gt,99.999999);var Et=(wt=u(wt,p))/100,U=P((gt/100+1)*M(Ot))/Ot,ee=d(it)/d(U*y),J=lt/_,ae=L(Et*d(it/2)/d(lt/2));return function(we,ze,Ze,Qe,ct){function St(Dt,se){var me=Ze*d(Qe*se),Ie=L(1-me*me),je=L(2/(1+Ie*M(Dt*=ct)));return[we*Ie*je*d(Dt),ze*me*je]}return St.invert=function(Dt,se){var me=Dt/we,Ie=se/ze,je=L(me*me+Ie*Ie),qe=2*I(je/2);return[S(Dt*g(qe),we*je)/ct,je&&I(se*d(qe)/(ze*Ze*je))/Qe]},St}(ae/L(J*ee*U),1/(ae*L(J*ee*U)),ee,U,J)}function pi(){var it=65*A,lt=60*A,gt=20,wt=200,Ot=(0,C.r)(kr),Et=Ot(it,lt,gt,wt);return Et.poleline=function(U){return arguments.length?Ot(it=+U*A,lt,gt,wt):it*O},Et.parallels=function(U){return arguments.length?Ot(it,lt=+U*A,gt,wt):lt*O},Et.inflation=function(U){return arguments.length?Ot(it,lt,gt=+U,wt):gt},Et.ratio=function(U){return arguments.length?Ot(it,lt,gt,wt=+U):wt},Et.scale(163.775)}function Gu(){return pi().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}ko.invert=function(it,lt){var gt=lt/1.70711,wt=d(w*gt);return[it/(.74482-.34588*wt*wt),2*f(gt)]},zo.invert=function(it,lt){if(E(lt)<p)return[it,0];if(E(it)<p)return[0,y*d(2*f(lt/_))];var gt=(it/=_)*it,wt=(lt/=_)*lt,Ot=gt+wt,Et=Ot*Ot,U=-E(lt)*(1+Ot),ee=U-2*wt+gt,J=-2*U+1+2*wt+Et,ae=wt/J+(2*ee*ee*ee/(J*J*J)-9*U*ee/(J*J))/27,we=(U-ee*ee/(3*J))/J,ze=2*L(-we/3),Ze=P(3*ae/(we*ze))/3;return[_*(Ot-1+L(1+2*(gt-wt)+Et))/(2*it),s(lt)*_*(-ze*M(Ze+_/3)-ee/(3*J))]},ns.invert=function(it,lt){if(!it)return[0,y*d(2*f(lt/_))];var gt=E(it/_),wt=(1-gt*gt-(lt/=_)*lt)/(2*gt),Ot=L(wt*wt+1);return[s(it)*_*(Ot-wt),s(lt)*y*d(2*S(L((1-2*wt*gt)*(wt+Ot)-gt),L(Ot+wt+gt)))]},ru.invert=function(it,lt){if(!lt)return[it,0];var gt=lt/_,wt=(_*_*(1-gt*gt)-it*it)/(2*_*it);return[it?_*(s(it)*L(wt*wt+1)-wt):0,y*d(2*f(gt))]},Ia.invert=function(it,lt){var gt;if(!it||!lt)return[it,lt];lt/=_;var wt=s(it)*it/y,Ot=(wt*wt-1+4*lt*lt)/E(wt),Et=Ot*Ot,U=2*lt,ee=50;do{var J=U*U,ae=(8*U-J*(J+2)-5)/(2*J*(U-1)),we=(3*U-J*U-10)/(2*J*U),ze=ae*ae,Ze=U*ae,Qe=U+ae,ct=Qe*Qe,St=U+3*ae,Dt=-2*Qe*(4*Ze*ze+(1-4*J+3*J*J)*(1+we)+ze*(14*J-6-Et+(8*J-8-2*Et)*we)+Ze*(12*J-8+(10*J-10-Et)*we)),se=L(ct*(J+ze*Et-1)+(1-J)*(J*(St*St+4*ze)+ze*(12*Ze+4*ze)));U-=gt=(Ot*(ct+ze-1)+2*se-wt*(4*ct+Et))/(Ot*(2*ae*we+2*Qe*(1+we))+Dt/se-8*Qe*(Ot*(-1+ze+ct)+2*se)*(1+we)/(Et+4*ct))}while(gt>p&&--ee>0);return[s(it)*(L(Ot*Ot+4)+Ot)*_/4,y*U]};var Ul=4*_+3*L(3),cl=2*L(2*_*L(3)/Ul),Ba=Ee(cl*L(3)/_,cl,Ul/6);function qu(){return(0,C.Z)(Ba).scale(176.84)}function rs(it,lt){return[it*L(1-3*lt*lt/(_*_)),lt]}function Du(){return(0,C.Z)(rs).scale(152.63)}function Or(it,lt){var gt=M(lt),wt=M(it)*gt,Ot=1-wt,Et=M(it=S(d(it)*gt,-d(lt))),U=d(it);return[U*(gt=L(1-wt*wt))-Et*Ot,-Et*gt-U*Ot]}function hi(){return(0,C.Z)(Or).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function gi(it,lt){var gt=Z(it,lt);return[(gt[0]+it/y)/2,(gt[1]+lt)/2]}function Wi(){return(0,C.Z)(gi).scale(158.837)}rs.invert=function(it,lt){return[it/L(1-3*lt*lt/(_*_)),lt]},Or.invert=function(it,lt){var gt=(it*it+lt*lt)/-2,wt=L(-gt*(2+gt)),Ot=lt*gt+it*wt,Et=it*gt-lt*wt,U=L(Et*Et+Ot*Ot);return[S(wt*Ot,U*(1+gt)),U?-I(wt*Et/U):0]},gi.invert=function(it,lt){var gt=it,wt=lt,Ot=25;do{var Et,U=M(wt),ee=d(wt),J=d(2*wt),ae=ee*ee,we=U*U,ze=d(gt),Ze=M(gt/2),Qe=d(gt/2),ct=Qe*Qe,St=1-we*Ze*Ze,Dt=St?P(U*Ze)*L(Et=1/St):Et=0,se=.5*(2*Dt*U*Qe+gt/y)-it,me=.5*(Dt*ee+wt)-lt,Ie=.5*Et*(we*ct+Dt*U*Ze*ae)+.5/y,je=Et*(ze*J/4-Dt*ee*Qe),qe=.125*Et*(J*Qe-Dt*ee*we*ze),Xe=.5*Et*(ae*Ze+Dt*ct*U)+.5,rt=je*qe-Xe*Ie,at=(me*je-se*Xe)/rt,pt=(se*qe-me*Ie)/rt;gt-=at,wt-=pt}while((E(at)>p||E(pt)>p)&&--Ot>0);return[gt,wt]}},33940:function(ie,z,r){"use strict";function C(){return new E}function E(){this.reset()}r.d(z,{Z:function(){return C}}),E.prototype={constructor:E,reset:function(){this.s=this.t=0},add:function(M){S(f,M,this.t),S(this,f.s,this.s),this.s?this.t+=f.t:this.s=f.t},valueOf:function(){return this.s}};var f=new E;function S(M,v,c){var i=M.s=v+c,u=i-v;M.t=v-(i-u)+(c-u)}},97860:function(ie,z,r){"use strict";r.d(z,{L9:function(){return a},ZP:function(){return T},gL:function(){return l}});var C,E,f,S,M,v=r(33940),c=r(39695),i=r(73182),u=r(72736),a=(0,v.Z)(),o=(0,v.Z)(),l={point:i.Z,lineStart:i.Z,lineEnd:i.Z,polygonStart:function(){a.reset(),l.lineStart=s,l.lineEnd=d},polygonEnd:function(){var _=+a;o.add(_<0?c.BZ+_:_),this.lineStart=this.lineEnd=this.point=i.Z},sphere:function(){o.add(c.BZ)}};function s(){l.point=g}function d(){p(C,E)}function g(_,y){l.point=p,C=_,E=y,f=_*=c.uR,S=(0,c.mC)(y=(y*=c.uR)/2+c.pu),M=(0,c.O$)(y)}function p(_,y){y=(y*=c.uR)/2+c.pu;var w=(_*=c.uR)-f,m=w>=0?1:-1,b=m*w,k=(0,c.mC)(y),h=(0,c.O$)(y),O=M*h,A=S*k+O*(0,c.mC)(b),I=O*m*(0,c.O$)(b);a.add((0,c.fv)(I,A)),f=_,S=k,M=h}function T(_){return o.reset(),(0,u.Z)(_,l),2*o}},77338:function(ie,z,r){"use strict";r.d(z,{Z:function(){return P}});var C,E,f,S,M,v,c,i,u,a,o=r(33940),l=r(97860),s=r(7620),d=r(39695),g=r(72736),p=(0,o.Z)(),T={point:_,lineStart:w,lineEnd:m,polygonStart:function(){T.point=b,T.lineStart=k,T.lineEnd=h,p.reset(),l.gL.polygonStart()},polygonEnd:function(){l.gL.polygonEnd(),T.point=_,T.lineStart=w,T.lineEnd=m,l.L9<0?(C=-(f=180),E=-(S=90)):p>d.Ho?S=90:p<-d.Ho&&(E=-90),a[0]=C,a[1]=f},sphere:function(){C=-(f=180),E=-(S=90)}};function _(L,N){u.push(a=[C=L,f=L]),N<E&&(E=N),N>S&&(S=N)}function y(L,N){var B=(0,s.Og)([L*d.uR,N*d.uR]);if(i){var W=(0,s.T5)(i,B),Z=(0,s.T5)([W[1],-W[0],0],W);(0,s.iJ)(Z),Z=(0,s.Y1)(Z);var V,q=L-M,G=q>0?1:-1,H=Z[0]*d.RW*G,ne=(0,d.Wn)(q)>180;ne^(G*M<H&&H<G*L)?(V=Z[1]*d.RW)>S&&(S=V):ne^(G*M<(H=(H+360)%360-180)&&H<G*L)?(V=-Z[1]*d.RW)<E&&(E=V):(N<E&&(E=N),N>S&&(S=N)),ne?L<M?O(C,L)>O(C,f)&&(f=L):O(L,f)>O(C,f)&&(C=L):f>=C?(L<C&&(C=L),L>f&&(f=L)):L>M?O(C,L)>O(C,f)&&(f=L):O(L,f)>O(C,f)&&(C=L)}else u.push(a=[C=L,f=L]);N<E&&(E=N),N>S&&(S=N),i=B,M=L}function w(){T.point=y}function m(){a[0]=C,a[1]=f,T.point=_,i=null}function b(L,N){if(i){var B=L-M;p.add((0,d.Wn)(B)>180?B+(B>0?360:-360):B)}else v=L,c=N;l.gL.point(L,N),y(L,N)}function k(){l.gL.lineStart()}function h(){b(v,c),l.gL.lineEnd(),(0,d.Wn)(p)>d.Ho&&(C=-(f=180)),a[0]=C,a[1]=f,i=null}function O(L,N){return(N-=L)<0?N+360:N}function A(L,N){return L[0]-N[0]}function I(L,N){return L[0]<=L[1]?L[0]<=N&&N<=L[1]:N<L[0]||L[1]<N}function P(L){var N,B,W,j,Z,V,q;if(S=f=-(C=E=1/0),u=[],(0,g.Z)(L,T),B=u.length){for(u.sort(A),N=1,Z=[W=u[0]];N<B;++N)I(W,(j=u[N])[0])||I(W,j[1])?(O(W[0],j[1])>O(W[0],W[1])&&(W[1]=j[1]),O(j[0],W[1])>O(W[0],W[1])&&(W[0]=j[0])):Z.push(W=j);for(V=-1/0,N=0,W=Z[B=Z.length-1];N<=B;W=j,++N)(q=O(W[1],(j=Z[N])[0]))>V&&(V=q,C=j[0],f=W[1])}return u=a=null,C===1/0||E===1/0?[[NaN,NaN],[NaN,NaN]]:[[C,E],[f,S]]}},7620:function(ie,z,r){"use strict";r.d(z,{Og:function(){return f},T:function(){return c},T5:function(){return M},Y1:function(){return E},iJ:function(){return i},j9:function(){return S},s0:function(){return v}});var C=r(39695);function E(u){return[(0,C.fv)(u[1],u[0]),(0,C.ZR)(u[2])]}function f(u){var a=u[0],o=u[1],l=(0,C.mC)(o);return[l*(0,C.mC)(a),l*(0,C.O$)(a),(0,C.O$)(o)]}function S(u,a){return u[0]*a[0]+u[1]*a[1]+u[2]*a[2]}function M(u,a){return[u[1]*a[2]-u[2]*a[1],u[2]*a[0]-u[0]*a[2],u[0]*a[1]-u[1]*a[0]]}function v(u,a){u[0]+=a[0],u[1]+=a[1],u[2]+=a[2]}function c(u,a){return[u[0]*a,u[1]*a,u[2]*a]}function i(u){var a=(0,C._b)(u[0]*u[0]+u[1]*u[1]+u[2]*u[2]);u[0]/=a,u[1]/=a,u[2]/=a}},66624:function(ie,z,r){"use strict";r.d(z,{Z:function(){return B}});var C,E,f,S,M,v,c,i,u,a,o,l,s,d,g,p,T=r(39695),_=r(73182),y=r(72736),w={sphere:_.Z,point:m,lineStart:k,lineEnd:A,polygonStart:function(){w.lineStart=I,w.lineEnd=P},polygonEnd:function(){w.lineStart=k,w.lineEnd=A}};function m(W,j){W*=T.uR;var Z=(0,T.mC)(j*=T.uR);b(Z*(0,T.mC)(W),Z*(0,T.O$)(W),(0,T.O$)(j))}function b(W,j,Z){++C,f+=(W-f)/C,S+=(j-S)/C,M+=(Z-M)/C}function k(){w.point=h}function h(W,j){W*=T.uR;var Z=(0,T.mC)(j*=T.uR);d=Z*(0,T.mC)(W),g=Z*(0,T.O$)(W),p=(0,T.O$)(j),w.point=O,b(d,g,p)}function O(W,j){W*=T.uR;var Z=(0,T.mC)(j*=T.uR),V=Z*(0,T.mC)(W),q=Z*(0,T.O$)(W),G=(0,T.O$)(j),H=(0,T.fv)((0,T._b)((H=g*G-p*q)*H+(H=p*V-d*G)*H+(H=d*q-g*V)*H),d*V+g*q+p*G);E+=H,v+=H*(d+(d=V)),c+=H*(g+(g=q)),i+=H*(p+(p=G)),b(d,g,p)}function A(){w.point=m}function I(){w.point=L}function P(){N(l,s),w.point=m}function L(W,j){l=W,s=j,W*=T.uR,j*=T.uR,w.point=N;var Z=(0,T.mC)(j);d=Z*(0,T.mC)(W),g=Z*(0,T.O$)(W),p=(0,T.O$)(j),b(d,g,p)}function N(W,j){W*=T.uR;var Z=(0,T.mC)(j*=T.uR),V=Z*(0,T.mC)(W),q=Z*(0,T.O$)(W),G=(0,T.O$)(j),H=g*G-p*q,ne=p*V-d*G,X=d*q-g*V,$=(0,T._b)(H*H+ne*ne+X*X),Q=(0,T.ZR)($),te=$&&-Q/$;u+=te*H,a+=te*ne,o+=te*X,E+=Q,v+=Q*(d+(d=V)),c+=Q*(g+(g=q)),i+=Q*(p+(p=G)),b(d,g,p)}function B(W){C=E=f=S=M=v=c=i=u=a=o=0,(0,y.Z)(W,w);var j=u,Z=a,V=o,q=j*j+Z*Z+V*V;return q<T.aW&&(j=v,Z=c,V=i,E<T.Ho&&(j=f,Z=S,V=M),(q=j*j+Z*Z+V*V)<T.aW)?[NaN,NaN]:[(0,T.fv)(Z,j)*T.RW,(0,T.ZR)(V/(0,T._b)(q))*T.RW]}},7613:function(ie,z,r){"use strict";r.d(z,{m:function(){return M},Z:function(){return c}});var C=r(7620);function E(i){return function(){return i}}var f=r(39695),S=r(49386);function M(i,u,a,o,l,s){if(a){var d=(0,f.mC)(u),g=(0,f.O$)(u),p=o*a;null==l?(l=u+o*f.BZ,s=u-p/2):(l=v(d,l),s=v(d,s),(o>0?l<s:l>s)&&(l+=o*f.BZ));for(var T,_=l;o>0?_>s:_<s;_-=p)T=(0,C.Y1)([d,-g*(0,f.mC)(_),-g*(0,f.O$)(_)]),i.point(T[0],T[1])}}function v(i,u){(u=(0,C.Og)(u))[0]-=i,(0,C.iJ)(u);var a=(0,f.Kh)(-u[1]);return((-u[2]<0?-a:a)+f.BZ-f.Ho)%f.BZ}function c(){var i,u,a=E([0,0]),o=E(90),l=E(6),s={point:function(g,p){i.push(g=u(g,p)),g[0]*=f.RW,g[1]*=f.RW}};function d(){var g=a.apply(this,arguments),p=o.apply(this,arguments)*f.uR,T=l.apply(this,arguments)*f.uR;return i=[],u=(0,S.I)(-g[0]*f.uR,-g[1]*f.uR,0).invert,M(s,p,T,1),g={type:"Polygon",coordinates:[i]},i=u=null,g}return d.center=function(g){return arguments.length?(a="function"==typeof g?g:E([+g[0],+g[1]]),d):a},d.radius=function(g){return arguments.length?(o="function"==typeof g?g:E(+g),d):o},d.precision=function(g){return arguments.length?(l="function"==typeof g?g:E(+g),d):l},d}},87070:function(ie,z,r){"use strict";var C=r(97023),E=r(39695);z.Z=(0,C.Z)(function(){return!0},function(f){var S,M=NaN,v=NaN,c=NaN;return{lineStart:function(){f.lineStart(),S=1},point:function(i,u){var l,s,d,g,p,T,_,a=i>0?E.pi:-E.pi,o=(0,E.Wn)(i-M);(0,E.Wn)(o-E.pi)<E.Ho?(f.point(M,v=(v+u)/2>0?E.ou:-E.ou),f.point(c,v),f.lineEnd(),f.lineStart(),f.point(a,v),f.point(i,v),S=0):c!==a&&o>=E.pi&&((0,E.Wn)(M-c)<E.Ho&&(M-=c*E.Ho),(0,E.Wn)(i-a)<E.Ho&&(i-=a*E.Ho),s=v,g=u,_=(0,E.O$)((l=M)-(d=i)),v=(0,E.Wn)(_)>E.Ho?(0,E.z4)(((0,E.O$)(s)*(T=(0,E.mC)(g))*(0,E.O$)(d)-(0,E.O$)(g)*(p=(0,E.mC)(s))*(0,E.O$)(l))/(p*T*_)):(s+g)/2,f.point(c,v),f.lineEnd(),f.lineStart(),f.point(a,v),S=0),f.point(M=i,v=u),c=a},lineEnd:function(){f.lineEnd(),M=v=NaN},clean:function(){return 2-S}}},function(f,S,M,v){var c;if(null==f)v.point(-E.pi,c=M*E.ou),v.point(0,c),v.point(E.pi,c),v.point(E.pi,0),v.point(E.pi,-c),v.point(0,-c),v.point(-E.pi,-c),v.point(-E.pi,0),v.point(-E.pi,c);else if((0,E.Wn)(f[0]-S[0])>E.Ho){var i=f[0]<S[0]?E.pi:-E.pi;v.point(-i,c=M*i/2),v.point(0,c),v.point(i,c)}else v.point(S[0],S[1])},[-E.pi,-E.ou])},85272:function(ie,z,r){"use strict";r.d(z,{Z:function(){return E}});var C=r(73182);function E(){var f,S=[];return{point:function(M,v,c){f.push([M,v,c])},lineStart:function(){S.push(f=[])},lineEnd:C.Z,rejoin:function(){S.length>1&&S.push(S.pop().concat(S.shift()))},result:function(){var M=S;return S=[],f=null,M}}}},1457:function(ie,z,r){"use strict";r.d(z,{Z:function(){return v}});var C=r(7620),E=r(7613),f=r(39695),S=r(67108),M=r(97023);function v(c){var i=(0,f.mC)(c),u=6*f.uR,a=i>0,o=(0,f.Wn)(i)>f.Ho;function l(g,p){return(0,f.mC)(g)*(0,f.mC)(p)>i}function s(g,p,T){var _=(0,C.Og)(g),y=(0,C.Og)(p),w=[1,0,0],m=(0,C.T5)(_,y),b=(0,C.j9)(m,m),k=m[0],h=b-k*k;if(!h)return!T&&g;var O=i*b/h,A=-i*k/h,I=(0,C.T5)(w,m),P=(0,C.T)(w,O),L=(0,C.T)(m,A);(0,C.s0)(P,L);var N=I,B=(0,C.j9)(P,N),W=(0,C.j9)(N,N),j=B*B-W*((0,C.j9)(P,P)-1);if(!(j<0)){var Z=(0,f._b)(j),V=(0,C.T)(N,(-B-Z)/W);if((0,C.s0)(V,P),V=(0,C.Y1)(V),!T)return V;var q,G=g[0],H=p[0],ne=g[1],X=p[1];H<G&&(q=G,G=H,H=q);var $=H-G,Q=(0,f.Wn)($-f.pi)<f.Ho;if(!Q&&X<ne&&(q=ne,ne=X,X=q),Q||$<f.Ho?Q?ne+X>0^V[1]<((0,f.Wn)(V[0]-G)<f.Ho?ne:X):ne<=V[1]&&V[1]<=X:$>f.pi^(G<=V[0]&&V[0]<=H)){var te=(0,C.T)(N,(-B+Z)/W);return(0,C.s0)(te,P),[V,(0,C.Y1)(te)]}}}function d(g,p){var T=a?c:f.pi-c,_=0;return g<-T?_|=1:g>T&&(_|=2),p<-T?_|=4:p>T&&(_|=8),_}return(0,M.Z)(l,function(g){var p,T,_,y,w;return{lineStart:function(){y=_=!1,w=1},point:function(m,b){var k,h=[m,b],O=l(m,b),A=a?O?0:d(m,b):O?d(m+(m<0?f.pi:-f.pi),b):0;if(!p&&(y=_=O)&&g.lineStart(),O!==_&&(!(k=s(p,h))||(0,S.Z)(p,k)||(0,S.Z)(h,k))&&(h[2]=1),O!==_)w=0,O?(g.lineStart(),k=s(h,p),g.point(k[0],k[1])):(k=s(p,h),g.point(k[0],k[1],2),g.lineEnd()),p=k;else if(o&&p&&a^O){var I;A&T||!(I=s(h,p,!0))||(w=0,a?(g.lineStart(),g.point(I[0][0],I[0][1]),g.point(I[1][0],I[1][1]),g.lineEnd()):(g.point(I[1][0],I[1][1]),g.lineEnd(),g.lineStart(),g.point(I[0][0],I[0][1],3)))}!O||p&&(0,S.Z)(p,h)||g.point(h[0],h[1]),p=h,_=O,T=A},lineEnd:function(){_&&g.lineEnd(),p=null},clean:function(){return w|(y&&_)<<1}}},function(g,p,T,_){(0,E.m)(_,c,u,T,g,p)},a?[0,-c]:[-f.pi,c-f.pi])}},97023:function(ie,z,r){"use strict";r.d(z,{Z:function(){return v}});var C=r(85272),E=r(46225),f=r(39695),S=r(23071),M=r(33064);function v(u,a,o,l){return function(s){var d,g,p,T=a(s),_=(0,C.Z)(),y=a(_),w=!1,m={point:b,lineStart:h,lineEnd:O,polygonStart:function(){m.point=A,m.lineStart=I,m.lineEnd=P,g=[],d=[]},polygonEnd:function(){m.point=b,m.lineStart=h,m.lineEnd=O,g=(0,M.TS)(g);var L=(0,S.Z)(d,l);g.length?(w||(s.polygonStart(),w=!0),(0,E.Z)(g,i,L,o,s)):L&&(w||(s.polygonStart(),w=!0),s.lineStart(),o(null,null,1,s),s.lineEnd()),w&&(s.polygonEnd(),w=!1),g=d=null},sphere:function(){s.polygonStart(),s.lineStart(),o(null,null,1,s),s.lineEnd(),s.polygonEnd()}};function b(L,N){u(L,N)&&s.point(L,N)}function k(L,N){T.point(L,N)}function h(){m.point=k,T.lineStart()}function O(){m.point=b,T.lineEnd()}function A(L,N){p.push([L,N]),y.point(L,N)}function I(){y.lineStart(),p=[]}function P(){A(p[0][0],p[0][1]),y.lineEnd();var L,N,B,W,j=y.clean(),Z=_.result(),V=Z.length;if(p.pop(),d.push(p),p=null,V)if(1&j){if((N=(B=Z[0]).length-1)>0){for(w||(s.polygonStart(),w=!0),s.lineStart(),L=0;L<N;++L)s.point((W=B[L])[0],W[1]);s.lineEnd()}}else V>1&&2&j&&Z.push(Z.pop().concat(Z.shift())),g.push(Z.filter(c))}return m}}function c(u){return u.length>1}function i(u,a){return((u=u.x)[0]<0?u[1]-f.ou-f.Ho:f.ou-u[1])-((a=a.x)[0]<0?a[1]-f.ou-f.Ho:f.ou-a[1])}},87605:function(ie,z,r){"use strict";r.d(z,{Z:function(){return c}});var C=r(39695),E=r(85272),f=r(46225),S=r(33064),M=1e9,v=-M;function c(i,u,a,o){function l(T,_){return i<=T&&T<=a&&u<=_&&_<=o}function s(T,_,y,w){var m=0,b=0;if(null==T||(m=d(T,y))!==(b=d(_,y))||p(T,_)<0^y>0)do{w.point(0===m||3===m?i:a,m>1?o:u)}while((m=(m+y+4)%4)!==b);else w.point(_[0],_[1])}function d(T,_){return(0,C.Wn)(T[0]-i)<C.Ho?_>0?0:3:(0,C.Wn)(T[0]-a)<C.Ho?_>0?2:1:(0,C.Wn)(T[1]-u)<C.Ho?_>0?1:0:_>0?3:2}function g(T,_){return p(T.x,_.x)}function p(T,_){var y=d(T,1),w=d(_,1);return y!==w?y-w:0===y?_[1]-T[1]:1===y?T[0]-_[0]:2===y?T[1]-_[1]:_[0]-T[0]}return function(T){var _,y,w,m,b,k,h,O,A,I,P,L=T,N=(0,E.Z)(),B={point:W,lineStart:function(){B.point=j,y&&y.push(w=[]),I=!0,A=!1,h=O=NaN},lineEnd:function(){_&&(j(m,b),k&&A&&N.rejoin(),_.push(N.result())),B.point=W,A&&L.lineEnd()},polygonStart:function(){L=N,_=[],y=[],P=!0},polygonEnd:function(){var Z=function(){for(var G=0,H=0,ne=y.length;H<ne;++H)for(var X,$,Q=y[H],te=1,re=Q.length,le=Q[0],ue=le[0],he=le[1];te<re;++te)X=ue,$=he,ue=(le=Q[te])[0],he=le[1],$<=o?he>o&&(ue-X)*(o-$)>(he-$)*(i-X)&&++G:he<=o&&(ue-X)*(o-$)<(he-$)*(i-X)&&--G;return G}(),V=P&&Z,q=(_=(0,S.TS)(_)).length;(V||q)&&(T.polygonStart(),V&&(T.lineStart(),s(null,null,1,T),T.lineEnd()),q&&(0,f.Z)(_,g,Z,s,T),T.polygonEnd()),L=T,_=y=w=null}};function W(Z,V){l(Z,V)&&L.point(Z,V)}function j(Z,V){var q=l(Z,V);if(y&&w.push([Z,V]),I)m=Z,b=V,k=q,I=!1,q&&(L.lineStart(),L.point(Z,V));else if(q&&A)L.point(Z,V);else{var G=[h=Math.max(v,Math.min(M,h)),O=Math.max(v,Math.min(M,O))],H=[Z=Math.max(v,Math.min(M,Z)),V=Math.max(v,Math.min(M,V))];!function(ne,X,$,Q,te,re){var le,ue=ne[0],he=ne[1],ge=0,xe=1,ke=X[0]-ue,Ae=X[1]-he;if(le=$-ue,ke||!(le>0)){if(le/=ke,ke<0){if(le<ge)return;le<xe&&(xe=le)}else if(ke>0){if(le>xe)return;le>ge&&(ge=le)}if(le=te-ue,ke||!(le<0)){if(le/=ke,ke<0){if(le>xe)return;le>ge&&(ge=le)}else if(ke>0){if(le<ge)return;le<xe&&(xe=le)}if(le=Q-he,Ae||!(le>0)){if(le/=Ae,Ae<0){if(le<ge)return;le<xe&&(xe=le)}else if(Ae>0){if(le>xe)return;le>ge&&(ge=le)}if(le=re-he,Ae||!(le<0)){if(le/=Ae,Ae<0){if(le>xe)return;le>ge&&(ge=le)}else if(Ae>0){if(le<ge)return;le<xe&&(xe=le)}return ge>0&&(ne[0]=ue+ge*ke,ne[1]=he+ge*Ae),xe<1&&(X[0]=ue+xe*ke,X[1]=he+xe*Ae),!0}}}}}(G,H,i,u,a,o)?q&&(L.lineStart(),L.point(Z,V),P=!1):(A||(L.lineStart(),L.point(G[0],G[1])),L.point(H[0],H[1]),q||L.lineEnd(),P=!1)}h=Z,O=V,A=q}return B}}},46225:function(ie,z,r){"use strict";r.d(z,{Z:function(){return S}});var C=r(67108),E=r(39695);function f(v,c,i,u){this.x=v,this.z=c,this.o=i,this.e=u,this.v=!1,this.n=this.p=null}function S(v,c,i,u,a){var o,l,s=[],d=[];if(v.forEach(function(w){if(!((m=w.length-1)<=0)){var m,b,k=w[0],h=w[m];if((0,C.Z)(k,h)){if(!k[2]&&!h[2]){for(a.lineStart(),o=0;o<m;++o)a.point((k=w[o])[0],k[1]);return void a.lineEnd()}h[0]+=2*E.Ho}s.push(b=new f(k,w,null,!0)),d.push(b.o=new f(k,null,b,!1)),s.push(b=new f(h,w,null,!1)),d.push(b.o=new f(h,null,b,!0))}}),s.length){for(d.sort(c),M(s),M(d),o=0,l=d.length;o<l;++o)d[o].e=i=!i;for(var g,p,T=s[0];;){for(var _=T,y=!0;_.v;)if((_=_.n)===T)return;g=_.z,a.lineStart();do{if(_.v=_.o.v=!0,_.e){if(y)for(o=0,l=g.length;o<l;++o)a.point((p=g[o])[0],p[1]);else u(_.x,_.n.x,1,a);_=_.n}else{if(y)for(o=(g=_.p.z).length-1;o>=0;--o)a.point((p=g[o])[0],p[1]);else u(_.x,_.p.x,-1,a);_=_.p}g=(_=_.o).z,y=!y}while(!_.v);a.lineEnd()}}}function M(v){if(c=v.length){for(var c,i,u=0,a=v[0];++u<c;)a.n=i=v[u],i.p=a,a=i;a.n=i=v[0],i.p=a}}},96059:function(ie,z,r){"use strict";function C(E,f){function S(M,v){return M=E(M,v),f(M[0],M[1])}return E.invert&&f.invert&&(S.invert=function(M,v){return(M=f.invert(M,v))&&E.invert(M[0],M[1])}),S}r.d(z,{Z:function(){return C}})},8593:function(ie,z,r){"use strict";function C(E){return E}r.d(z,{Z:function(){return C}})},27362:function(ie,z,r){"use strict";r.r(z),r.d(z,{geoAlbers:function(){return Nt},geoAlbersUsa:function(){return Mt},geoArea:function(){return C.ZP},geoAzimuthalEqualArea:function(){return kt.Z},geoAzimuthalEqualAreaRaw:function(){return kt.l},geoAzimuthalEquidistant:function(){return Ht.Z},geoAzimuthalEquidistantRaw:function(){return Ht.N},geoBounds:function(){return E.Z},geoCentroid:function(){return f.Z},geoCircle:function(){return S.Z},geoClipAntimeridian:function(){return M.Z},geoClipCircle:function(){return v.Z},geoClipExtent:function(){return i},geoClipRectangle:function(){return c.Z},geoConicConformal:function(){return An},geoConicConformalRaw:function(){return Tn},geoConicEqualArea:function(){return jt},geoConicEqualAreaRaw:function(){return Lt},geoConicEquidistant:function(){return tr},geoConicEquidistantRaw:function(){return Nn},geoContains:function(){return Z},geoDistance:function(){return O},geoEqualEarth:function(){return jn},geoEqualEarthRaw:function(){return Fn},geoEquirectangular:function(){return pn.Z},geoEquirectangularRaw:function(){return pn.k},geoGnomonic:function(){return er.Z},geoGnomonicRaw:function(){return er.M},geoGraticule:function(){return H},geoGraticule10:function(){return ne},geoIdentity:function(){return Gn},geoInterpolate:function(){return re.Z},geoLength:function(){return b},geoMercator:function(){return Jt},geoMercatorRaw:function(){return Qt},geoNaturalEarth1:function(){return _r.Z},geoNaturalEarth1Raw:function(){return _r.K},geoOrthographic:function(){return mr.Z},geoOrthographicRaw:function(){return mr.I},geoPath:function(){return st},geoProjection:function(){return vt.Z},geoProjectionMutator:function(){return vt.r},geoRotation:function(){return qt.Z},geoStereographic:function(){return Un},geoStereographicRaw:function(){return Dr},geoStream:function(){return p.Z},geoTransform:function(){return Zn.Z},geoTransverseMercator:function(){return cr},geoTransverseMercatorRaw:function(){return ur}});var C=r(97860),E=r(77338),f=r(66624),S=r(7613),M=r(87070),v=r(1457),c=r(87605);function i(){var on,xn,Wn,Bn=0,qn=0,nr=960,fr=500;return Wn={stream:function(Sr){return on&&xn===Sr?on:on=(0,c.Z)(Bn,qn,nr,fr)(xn=Sr)},extent:function(Sr){return arguments.length?(Bn=+Sr[0][0],qn=+Sr[0][1],nr=+Sr[1][0],fr=+Sr[1][1],on=xn=null,Wn):[[Bn,qn],[nr,fr]]}}}var u,a,o,l=r(23071),s=r(33940),d=r(39695),g=r(73182),p=r(72736),T=(0,s.Z)(),_={sphere:g.Z,point:g.Z,lineStart:function(){_.point=w,_.lineEnd=y},lineEnd:g.Z,polygonStart:g.Z,polygonEnd:g.Z};function y(){_.point=_.lineEnd=g.Z}function w(on,xn){u=on*=d.uR,a=(0,d.O$)(xn*=d.uR),o=(0,d.mC)(xn),_.point=m}function m(on,xn){on*=d.uR;var Wn=(0,d.O$)(xn*=d.uR),Bn=(0,d.mC)(xn),qn=(0,d.Wn)(on-u),nr=(0,d.mC)(qn),fr=Bn*(0,d.O$)(qn),Sr=o*Wn-a*Bn*nr,Ur=a*Wn+o*Bn*nr;T.add((0,d.fv)((0,d._b)(fr*fr+Sr*Sr),Ur)),u=on,a=Wn,o=Bn}function b(on){return T.reset(),(0,p.Z)(on,_),+T}var k=[null,null],h={type:"LineString",coordinates:k};function O(on,xn){return k[0]=on,k[1]=xn,b(h)}var A={Feature:function(on,xn){return P(on.geometry,xn)},FeatureCollection:function(on,xn){for(var Wn=on.features,Bn=-1,qn=Wn.length;++Bn<qn;)if(P(Wn[Bn].geometry,xn))return!0;return!1}},I={Sphere:function(){return!0},Point:function(on,xn){return L(on.coordinates,xn)},MultiPoint:function(on,xn){for(var Wn=on.coordinates,Bn=-1,qn=Wn.length;++Bn<qn;)if(L(Wn[Bn],xn))return!0;return!1},LineString:function(on,xn){return N(on.coordinates,xn)},MultiLineString:function(on,xn){for(var Wn=on.coordinates,Bn=-1,qn=Wn.length;++Bn<qn;)if(N(Wn[Bn],xn))return!0;return!1},Polygon:function(on,xn){return B(on.coordinates,xn)},MultiPolygon:function(on,xn){for(var Wn=on.coordinates,Bn=-1,qn=Wn.length;++Bn<qn;)if(B(Wn[Bn],xn))return!0;return!1},GeometryCollection:function(on,xn){for(var Wn=on.geometries,Bn=-1,qn=Wn.length;++Bn<qn;)if(P(Wn[Bn],xn))return!0;return!1}};function P(on,xn){return!(!on||!I.hasOwnProperty(on.type))&&I[on.type](on,xn)}function L(on,xn){return 0===O(on,xn)}function N(on,xn){for(var Wn,Bn,qn,nr=0,fr=on.length;nr<fr;nr++){if(0===(Bn=O(on[nr],xn))||nr>0&&(qn=O(on[nr],on[nr-1]))>0&&Wn<=qn&&Bn<=qn&&(Wn+Bn-qn)*(1-Math.pow((Wn-Bn)/qn,2))<d.aW*qn)return!0;Wn=Bn}return!1}function B(on,xn){return!!(0,l.Z)(on.map(W),j(xn))}function W(on){return(on=on.map(j)).pop(),on}function j(on){return[on[0]*d.uR,on[1]*d.uR]}function Z(on,xn){return(on&&A.hasOwnProperty(on.type)?A[on.type]:P)(on,xn)}var V=r(33064);function q(on,xn,Wn){var Bn=(0,V.w6)(on,xn-d.Ho,Wn).concat(xn);return function(qn){return Bn.map(function(nr){return[qn,nr]})}}function G(on,xn,Wn){var Bn=(0,V.w6)(on,xn-d.Ho,Wn).concat(xn);return function(qn){return Bn.map(function(nr){return[nr,qn]})}}function H(){var on,xn,Wn,Bn,qn,nr,fr,Sr,Ur,fn,Vn,Wt,un=10,vn=un,$n=90,Hn=360,zn=2.5;function bn(){return{type:"MultiLineString",coordinates:Sn()}}function Sn(){return(0,V.w6)((0,d.mD)(Bn/$n)*$n,Wn,$n).map(Vn).concat((0,V.w6)((0,d.mD)(Sr/Hn)*Hn,fr,Hn).map(Wt)).concat((0,V.w6)((0,d.mD)(xn/un)*un,on,un).filter(function(gn){return(0,d.Wn)(gn%$n)>d.Ho}).map(Ur)).concat((0,V.w6)((0,d.mD)(nr/vn)*vn,qn,vn).filter(function(gn){return(0,d.Wn)(gn%Hn)>d.Ho}).map(fn))}return bn.lines=function(){return Sn().map(function(gn){return{type:"LineString",coordinates:gn}})},bn.outline=function(){return{type:"Polygon",coordinates:[Vn(Bn).concat(Wt(fr).slice(1),Vn(Wn).reverse().slice(1),Wt(Sr).reverse().slice(1))]}},bn.extent=function(gn){return arguments.length?bn.extentMajor(gn).extentMinor(gn):bn.extentMinor()},bn.extentMajor=function(gn){return arguments.length?(Sr=+gn[0][1],fr=+gn[1][1],(Bn=+gn[0][0])>(Wn=+gn[1][0])&&(gn=Bn,Bn=Wn,Wn=gn),Sr>fr&&(gn=Sr,Sr=fr,fr=gn),bn.precision(zn)):[[Bn,Sr],[Wn,fr]]},bn.extentMinor=function(gn){return arguments.length?(nr=+gn[0][1],qn=+gn[1][1],(xn=+gn[0][0])>(on=+gn[1][0])&&(gn=xn,xn=on,on=gn),nr>qn&&(gn=nr,nr=qn,qn=gn),bn.precision(zn)):[[xn,nr],[on,qn]]},bn.step=function(gn){return arguments.length?bn.stepMajor(gn).stepMinor(gn):bn.stepMinor()},bn.stepMajor=function(gn){return arguments.length?($n=+gn[0],Hn=+gn[1],bn):[$n,Hn]},bn.stepMinor=function(gn){return arguments.length?(un=+gn[0],vn=+gn[1],bn):[un,vn]},bn.precision=function(gn){return arguments.length?(zn=+gn,Ur=q(nr,qn,90),fn=G(xn,on,zn),Vn=q(Sr,fr,90),Wt=G(Bn,Wn,zn),bn):zn},bn.extentMajor([[-180,-90+d.Ho],[180,90-d.Ho]]).extentMinor([[-180,-80-d.Ho],[180,80+d.Ho]])}function ne(){return H()()}var X,$,Q,te,re=r(83074),le=r(8593),ue=(0,s.Z)(),he=(0,s.Z)(),ge={point:g.Z,lineStart:g.Z,lineEnd:g.Z,polygonStart:function(){ge.lineStart=xe,ge.lineEnd=pe},polygonEnd:function(){ge.lineStart=ge.lineEnd=ge.point=g.Z,ue.add((0,d.Wn)(he)),he.reset()},result:function(){var on=ue/2;return ue.reset(),on}};function xe(){ge.point=ke}function ke(on,xn){ge.point=Ae,X=Q=on,$=te=xn}function Ae(on,xn){he.add(te*on-Q*xn),Q=on,te=xn}function pe(){Ae(X,$)}var ye,Ne,be,Ee,Oe=ge,De=r(3559),oe=0,de=0,_e=0,Me=0,Pe=0,Ue=0,Be=0,Ve=0,ve=0,Te={point:Ce,lineStart:We,lineEnd:ht,polygonStart:function(){Te.lineStart=ft,Te.lineEnd=mt},polygonEnd:function(){Te.point=Ce,Te.lineStart=We,Te.lineEnd=ht},result:function(){var on=ve?[Be/ve,Ve/ve]:Ue?[Me/Ue,Pe/Ue]:_e?[oe/_e,de/_e]:[NaN,NaN];return oe=de=_e=Me=Pe=Ue=Be=Ve=ve=0,on}};function Ce(on,xn){oe+=on,de+=xn,++_e}function We(){Te.point=Ke}function Ke(on,xn){Te.point=Je,Ce(be=on,Ee=xn)}function Je(on,xn){var Wn=on-be,Bn=xn-Ee,qn=(0,d._b)(Wn*Wn+Bn*Bn);Me+=qn*(be+on)/2,Pe+=qn*(Ee+xn)/2,Ue+=qn,Ce(be=on,Ee=xn)}function ht(){Te.point=Ce}function ft(){Te.point=At}function mt(){Rt(ye,Ne)}function At(on,xn){Te.point=Rt,Ce(ye=be=on,Ne=Ee=xn)}function Rt(on,xn){var Wn=on-be,Bn=xn-Ee,qn=(0,d._b)(Wn*Wn+Bn*Bn);Me+=qn*(be+on)/2,Pe+=qn*(Ee+xn)/2,Ue+=qn,Be+=(qn=Ee*on-be*xn)*(be+on),Ve+=qn*(Ee+xn),ve+=3*qn,Ce(be=on,Ee=xn)}var It=Te;function Pt(on){this._context=on}Pt.prototype={_radius:4.5,pointRadius:function(on){return this._radius=on,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(on,xn){switch(this._point){case 0:this._context.moveTo(on,xn),this._point=1;break;case 1:this._context.lineTo(on,xn);break;default:this._context.moveTo(on+this._radius,xn),this._context.arc(on,xn,this._radius,0,d.BZ)}},result:g.Z};var Bt,Ut,Vt,tn,Gt,et=(0,s.Z)(),nt={point:g.Z,lineStart:function(){nt.point=$e},lineEnd:function(){Bt&&ot(Ut,Vt),nt.point=g.Z},polygonStart:function(){Bt=!0},polygonEnd:function(){Bt=null},result:function(){var on=+et;return et.reset(),on}};function $e(on,xn){nt.point=ot,Ut=tn=on,Vt=Gt=xn}function ot(on,xn){et.add((0,d._b)((tn-=on)*tn+(Gt-=xn)*Gt)),tn=on,Gt=xn}var dt=nt;function Le(){this._string=[]}function Ge(on){return"m0,"+on+"a"+on+","+on+" 0 1,1 0,"+-2*on+"a"+on+","+on+" 0 1,1 0,"+2*on+"z"}function st(on,xn){var Wn,Bn,qn=4.5;function nr(fr){return fr&&("function"==typeof qn&&Bn.pointRadius(+qn.apply(this,arguments)),(0,p.Z)(fr,Wn(Bn))),Bn.result()}return nr.area=function(fr){return(0,p.Z)(fr,Wn(Oe)),Oe.result()},nr.measure=function(fr){return(0,p.Z)(fr,Wn(dt)),dt.result()},nr.bounds=function(fr){return(0,p.Z)(fr,Wn(De.Z)),De.Z.result()},nr.centroid=function(fr){return(0,p.Z)(fr,Wn(It)),It.result()},nr.projection=function(fr){return arguments.length?(Wn=null==fr?(on=null,le.Z):(on=fr).stream,nr):on},nr.context=function(fr){return arguments.length?(Bn=null==fr?(xn=null,new Le):new Pt(xn=fr),"function"!=typeof qn&&Bn.pointRadius(qn),nr):xn},nr.pointRadius=function(fr){return arguments.length?(qn="function"==typeof fr?fr:(Bn.pointRadius(+fr),+fr),nr):qn},nr.projection(on).context(xn)}Le.prototype={_radius:4.5,_circle:Ge(4.5),pointRadius:function(on){return(on=+on)!==this._radius&&(this._radius=on,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(on,xn){switch(this._point){case 0:this._string.push("M",on,",",xn),this._point=1;break;case 1:this._string.push("L",on,",",xn);break;default:null==this._circle&&(this._circle=Ge(this._radius)),this._string.push("M",on,",",xn,this._circle)}},result:function(){if(this._string.length){var on=this._string.join("");return this._string=[],on}return null}};var vt=r(15002);function bt(on){var xn=0,Wn=d.pi/3,Bn=(0,vt.r)(on),qn=Bn(xn,Wn);return qn.parallels=function(nr){return arguments.length?Bn(xn=nr[0]*d.uR,Wn=nr[1]*d.uR):[xn*d.RW,Wn*d.RW]},qn}function Lt(on,xn){var Wn=(0,d.O$)(on),Bn=(Wn+(0,d.O$)(xn))/2;if((0,d.Wn)(Bn)<d.Ho)return function(Sr){var Ur=(0,d.mC)(Sr);function fn(Vn,Wt){return[Vn*Ur,(0,d.O$)(Wt)/Ur]}return fn.invert=function(Vn,Wt){return[Vn/Ur,(0,d.ZR)(Wt*Ur)]},fn}(on);var qn=1+Wn*(2*Bn-Wn),nr=(0,d._b)(qn)/Bn;function fr(Sr,Ur){var fn=(0,d._b)(qn-2*Bn*(0,d.O$)(Ur))/Bn;return[fn*(0,d.O$)(Sr*=Bn),nr-fn*(0,d.mC)(Sr)]}return fr.invert=function(Sr,Ur){var fn=nr-Ur,Vn=(0,d.fv)(Sr,(0,d.Wn)(fn))*(0,d.Xx)(fn);return fn*Bn<0&&(Vn-=d.pi*(0,d.Xx)(Sr)*(0,d.Xx)(fn)),[Vn/Bn,(0,d.ZR)((qn-(Sr*Sr+fn*fn)*Bn*Bn)/(2*Bn))]},fr}function jt(){return bt(Lt).scale(155.424).center([0,33.6442])}function Nt(){return jt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var Tt=r(47589);function Mt(){var on,xn,Wn,Bn,qn,nr,fr=Nt(),Sr=jt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),Ur=jt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),fn={point:function(un,vn){nr=[un,vn]}};function Vn(un){var vn=un[0],$n=un[1];return nr=null,Wn.point(vn,$n),nr||(Bn.point(vn,$n),nr)||(qn.point(vn,$n),nr)}function Wt(){return on=xn=null,Vn}return Vn.invert=function(un){var vn=fr.scale(),$n=fr.translate(),Hn=(un[0]-$n[0])/vn,zn=(un[1]-$n[1])/vn;return(zn>=.12&&zn<.234&&Hn>=-.425&&Hn<-.214?Sr:zn>=.166&&zn<.234&&Hn>=-.214&&Hn<-.115?Ur:fr).invert(un)},Vn.stream=function(un){return on&&xn===un?on:(vn=[fr.stream(xn=un),Sr.stream(un),Ur.stream(un)],$n=vn.length,on={point:function(Hn,zn){for(var bn=-1;++bn<$n;)vn[bn].point(Hn,zn)},sphere:function(){for(var Hn=-1;++Hn<$n;)vn[Hn].sphere()},lineStart:function(){for(var Hn=-1;++Hn<$n;)vn[Hn].lineStart()},lineEnd:function(){for(var Hn=-1;++Hn<$n;)vn[Hn].lineEnd()},polygonStart:function(){for(var Hn=-1;++Hn<$n;)vn[Hn].polygonStart()},polygonEnd:function(){for(var Hn=-1;++Hn<$n;)vn[Hn].polygonEnd()}});var vn,$n},Vn.precision=function(un){return arguments.length?(fr.precision(un),Sr.precision(un),Ur.precision(un),Wt()):fr.precision()},Vn.scale=function(un){return arguments.length?(fr.scale(un),Sr.scale(.35*un),Ur.scale(un),Vn.translate(fr.translate())):fr.scale()},Vn.translate=function(un){if(!arguments.length)return fr.translate();var vn=fr.scale(),$n=+un[0],Hn=+un[1];return Wn=fr.translate(un).clipExtent([[$n-.455*vn,Hn-.238*vn],[$n+.455*vn,Hn+.238*vn]]).stream(fn),Bn=Sr.translate([$n-.307*vn,Hn+.201*vn]).clipExtent([[$n-.425*vn+d.Ho,Hn+.12*vn+d.Ho],[$n-.214*vn-d.Ho,Hn+.234*vn-d.Ho]]).stream(fn),qn=Ur.translate([$n-.205*vn,Hn+.212*vn]).clipExtent([[$n-.214*vn+d.Ho,Hn+.166*vn+d.Ho],[$n-.115*vn-d.Ho,Hn+.234*vn-d.Ho]]).stream(fn),Wt()},Vn.fitExtent=function(un,vn){return(0,Tt.qg)(Vn,un,vn)},Vn.fitSize=function(un,vn){return(0,Tt.mF)(Vn,un,vn)},Vn.fitWidth=function(un,vn){return(0,Tt.V6)(Vn,un,vn)},Vn.fitHeight=function(un,vn){return(0,Tt.rf)(Vn,un,vn)},Vn.scale(1070)}var kt=r(12956),Ht=r(17889),qt=r(49386);function Qt(on,xn){return[on,(0,d.cM)((0,d.OR)((d.ou+xn)/2))]}function Jt(){return Kt(Qt).scale(961/d.BZ)}function Kt(on){var xn,Wn,Bn,qn=(0,vt.Z)(on),nr=qn.center,fr=qn.scale,Sr=qn.translate,Ur=qn.clipExtent,fn=null;function Vn(){var Wt=d.pi*fr(),un=qn((0,qt.Z)(qn.rotate()).invert([0,0]));return Ur(null==fn?[[un[0]-Wt,un[1]-Wt],[un[0]+Wt,un[1]+Wt]]:on===Qt?[[Math.max(un[0]-Wt,fn),xn],[Math.min(un[0]+Wt,Wn),Bn]]:[[fn,Math.max(un[1]-Wt,xn)],[Wn,Math.min(un[1]+Wt,Bn)]])}return qn.scale=function(Wt){return arguments.length?(fr(Wt),Vn()):fr()},qn.translate=function(Wt){return arguments.length?(Sr(Wt),Vn()):Sr()},qn.center=function(Wt){return arguments.length?(nr(Wt),Vn()):nr()},qn.clipExtent=function(Wt){return arguments.length?(null==Wt?fn=xn=Wn=Bn=null:(fn=+Wt[0][0],xn=+Wt[0][1],Wn=+Wt[1][0],Bn=+Wt[1][1]),Vn()):null==fn?null:[[fn,xn],[Wn,Bn]]},Vn()}function ln(on){return(0,d.OR)((d.ou+on)/2)}function Tn(on,xn){var Wn=(0,d.mC)(on),Bn=on===xn?(0,d.O$)(on):(0,d.cM)(Wn/(0,d.mC)(xn))/(0,d.cM)(ln(xn)/ln(on)),qn=Wn*(0,d.sQ)(ln(on),Bn)/Bn;if(!Bn)return Qt;function nr(fr,Sr){qn>0?Sr<-d.ou+d.Ho&&(Sr=-d.ou+d.Ho):Sr>d.ou-d.Ho&&(Sr=d.ou-d.Ho);var Ur=qn/(0,d.sQ)(ln(Sr),Bn);return[Ur*(0,d.O$)(Bn*fr),qn-Ur*(0,d.mC)(Bn*fr)]}return nr.invert=function(fr,Sr){var Ur=qn-Sr,fn=(0,d.Xx)(Bn)*(0,d._b)(fr*fr+Ur*Ur),Vn=(0,d.fv)(fr,(0,d.Wn)(Ur))*(0,d.Xx)(Ur);return Ur*Bn<0&&(Vn-=d.pi*(0,d.Xx)(fr)*(0,d.Xx)(Ur)),[Vn/Bn,2*(0,d.z4)((0,d.sQ)(qn/fn,1/Bn))-d.ou]},nr}function An(){return bt(Tn).scale(109.5).parallels([30,30])}Qt.invert=function(on,xn){return[on,2*(0,d.z4)((0,d.Qq)(xn))-d.ou]};var pn=r(97492);function Nn(on,xn){var Wn=(0,d.mC)(on),Bn=on===xn?(0,d.O$)(on):(Wn-(0,d.mC)(xn))/(xn-on),qn=Wn/Bn+on;if((0,d.Wn)(Bn)<d.Ho)return pn.k;function nr(fr,Sr){var Ur=qn-Sr,fn=Bn*fr;return[Ur*(0,d.O$)(fn),qn-Ur*(0,d.mC)(fn)]}return nr.invert=function(fr,Sr){var Ur=qn-Sr,fn=(0,d.fv)(fr,(0,d.Wn)(Ur))*(0,d.Xx)(Ur);return Ur*Bn<0&&(fn-=d.pi*(0,d.Xx)(fr)*(0,d.Xx)(Ur)),[fn/Bn,qn-(0,d.Xx)(Bn)*(0,d._b)(fr*fr+Ur*Ur)]},nr}function tr(){return bt(Nn).scale(131.154).center([0,13.9389])}var On=1.340264,wn=-.081106,Cn=893e-6,mn=.003796,En=(0,d._b)(3)/2;function Fn(on,xn){var Wn=(0,d.ZR)(En*(0,d.O$)(xn)),Bn=Wn*Wn,qn=Bn*Bn*Bn;return[on*(0,d.mC)(Wn)/(En*(On+3*wn*Bn+qn*(7*Cn+9*mn*Bn))),Wn*(On+wn*Bn+qn*(Cn+mn*Bn))]}function jn(){return(0,vt.Z)(Fn).scale(177.158)}Fn.invert=function(on,xn){for(var Wn,Bn=xn,qn=Bn*Bn,nr=qn*qn*qn,fr=0;fr<12&&(nr=(qn=(Bn-=Wn=(Bn*(On+wn*qn+nr*(Cn+mn*qn))-xn)/(On+3*wn*qn+nr*(7*Cn+9*mn*qn)))*Bn)*qn*qn,!((0,d.Wn)(Wn)<d.aW));++fr);return[En*on*(On+3*wn*qn+nr*(7*Cn+9*mn*qn))/(0,d.mC)(Bn),(0,d.ZR)((0,d.O$)(Bn)/En)]};var er=r(98936),Zn=r(64684);function Gn(){var on,xn,Wn,Bn,qn,nr,fr,Sr=1,Ur=0,fn=0,Vn=1,Wt=1,un=0,vn=null,$n=1,Hn=1,zn=(0,Zn.l)({point:function(kn,In){var Yn=gn([kn,In]);this.stream.point(Yn[0],Yn[1])}}),bn=le.Z;function Sn(){return $n=Sr*Vn,Hn=Sr*Wt,nr=fr=null,gn}function gn(kn){var In=kn[0]*$n,Yn=kn[1]*Hn;if(un){var Rn=Yn*on-In*xn;In=In*on+Yn*xn,Yn=Rn}return[In+Ur,Yn+fn]}return gn.invert=function(kn){var In=kn[0]-Ur,Yn=kn[1]-fn;if(un){var Rn=Yn*on+In*xn;In=In*on-Yn*xn,Yn=Rn}return[In/$n,Yn/Hn]},gn.stream=function(kn){return nr&&fr===kn?nr:nr=zn(bn(fr=kn))},gn.postclip=function(kn){return arguments.length?(bn=kn,vn=Wn=Bn=qn=null,Sn()):bn},gn.clipExtent=function(kn){return arguments.length?(bn=null==kn?(vn=Wn=Bn=qn=null,le.Z):(0,c.Z)(vn=+kn[0][0],Wn=+kn[0][1],Bn=+kn[1][0],qn=+kn[1][1]),Sn()):null==vn?null:[[vn,Wn],[Bn,qn]]},gn.scale=function(kn){return arguments.length?(Sr=+kn,Sn()):Sr},gn.translate=function(kn){return arguments.length?(Ur=+kn[0],fn=+kn[1],Sn()):[Ur,fn]},gn.angle=function(kn){return arguments.length?(xn=(0,d.O$)(un=kn%360*d.uR),on=(0,d.mC)(un),Sn()):un*d.RW},gn.reflectX=function(kn){return arguments.length?(Vn=kn?-1:1,Sn()):Vn<0},gn.reflectY=function(kn){return arguments.length?(Wt=kn?-1:1,Sn()):Wt<0},gn.fitExtent=function(kn,In){return(0,Tt.qg)(gn,kn,In)},gn.fitSize=function(kn,In){return(0,Tt.mF)(gn,kn,In)},gn.fitWidth=function(kn,In){return(0,Tt.V6)(gn,kn,In)},gn.fitHeight=function(kn,In){return(0,Tt.rf)(gn,kn,In)},gn}var _r=r(26867),mr=r(57962),Vr=r(25382);function Dr(on,xn){var Wn=(0,d.mC)(xn),Bn=1+(0,d.mC)(on)*Wn;return[Wn*(0,d.O$)(on)/Bn,(0,d.O$)(xn)/Bn]}function Un(){return(0,vt.Z)(Dr).scale(250).clipAngle(142)}function ur(on,xn){return[(0,d.cM)((0,d.OR)((d.ou+xn)/2)),-on]}function cr(){var on=Kt(ur),xn=on.center,Wn=on.rotate;return on.center=function(Bn){return arguments.length?xn([-Bn[1],Bn[0]]):[(Bn=xn())[1],-Bn[0]]},on.rotate=function(Bn){return arguments.length?Wn([Bn[0],Bn[1],Bn.length>2?Bn[2]+90:90]):[(Bn=Wn())[0],Bn[1],Bn[2]-90]},Wn([0,0,90]).scale(159.155)}Dr.invert=(0,Vr.O)(function(on){return 2*(0,d.z4)(on)}),ur.invert=function(on,xn){return[-xn,2*(0,d.z4)((0,d.Qq)(on))-d.ou]}},83074:function(ie,z,r){"use strict";r.d(z,{Z:function(){return E}});var C=r(39695);function E(f,S){var M=f[0]*C.uR,v=f[1]*C.uR,c=S[0]*C.uR,i=S[1]*C.uR,u=(0,C.mC)(v),a=(0,C.O$)(v),o=(0,C.mC)(i),l=(0,C.O$)(i),s=u*(0,C.mC)(M),d=u*(0,C.O$)(M),g=o*(0,C.mC)(c),p=o*(0,C.O$)(c),T=2*(0,C.ZR)((0,C._b)((0,C.Jy)(i-v)+u*o*(0,C.Jy)(c-M))),_=(0,C.O$)(T),y=T?function(w){var m=(0,C.O$)(w*=T)/_,b=(0,C.O$)(T-w)/_,k=b*s+m*g,h=b*d+m*p,O=b*a+m*l;return[(0,C.fv)(h,k)*C.RW,(0,C.fv)(O,(0,C._b)(k*k+h*h))*C.RW]}:function(){return[M*C.RW,v*C.RW]};return y.distance=T,y}},39695:function(ie,z,r){"use strict";r.d(z,{BZ:function(){return v},Ho:function(){return C},Jy:function(){return k},Kh:function(){return m},O$:function(){return T},OR:function(){return w},Qq:function(){return d},RW:function(){return c},Wn:function(){return u},Xx:function(){return _},ZR:function(){return b},_b:function(){return y},aW:function(){return E},cM:function(){return g},fv:function(){return o},mC:function(){return l},mD:function(){return s},ou:function(){return S},pi:function(){return f},pu:function(){return M},sQ:function(){return p},uR:function(){return i},z4:function(){return a}});var C=1e-6,E=1e-12,f=Math.PI,S=f/2,M=f/4,v=2*f,c=180/f,i=f/180,u=Math.abs,a=Math.atan,o=Math.atan2,l=Math.cos,s=Math.ceil,d=Math.exp,g=Math.log,p=Math.pow,T=Math.sin,_=Math.sign||function(h){return h>0?1:h<0?-1:0},y=Math.sqrt,w=Math.tan;function m(h){return h>1?0:h<-1?f:Math.acos(h)}function b(h){return h>1?S:h<-1?-S:Math.asin(h)}function k(h){return(h=T(h/2))*h}},73182:function(ie,z,r){"use strict";function C(){}r.d(z,{Z:function(){return C}})},3559:function(ie,z,r){"use strict";var C=r(73182),E=1/0,f=E,S=-E,M=S;z.Z={point:function(c,i){c<E&&(E=c),c>S&&(S=c),i<f&&(f=i),i>M&&(M=i)},lineStart:C.Z,lineEnd:C.Z,polygonStart:C.Z,polygonEnd:C.Z,result:function(){var c=[[E,f],[S,M]];return S=M=-(f=E=1/0),c}}},67108:function(ie,z,r){"use strict";r.d(z,{Z:function(){return E}});var C=r(39695);function E(f,S){return(0,C.Wn)(f[0]-S[0])<C.Ho&&(0,C.Wn)(f[1]-S[1])<C.Ho}},23071:function(ie,z,r){"use strict";r.d(z,{Z:function(){return v}});var C=r(33940),E=r(7620),f=r(39695),S=(0,C.Z)();function M(c){return(0,f.Wn)(c[0])<=f.pi?c[0]:(0,f.Xx)(c[0])*(((0,f.Wn)(c[0])+f.pi)%f.BZ-f.pi)}function v(c,i){var u=M(i),a=i[1],o=(0,f.O$)(a),l=[(0,f.O$)(u),-(0,f.mC)(u),0],s=0,d=0;S.reset(),1===o?a=f.ou+f.Ho:-1===o&&(a=-f.ou-f.Ho);for(var g=0,p=c.length;g<p;++g)if(_=(T=c[g]).length)for(var T,_,y=T[_-1],w=M(y),m=y[1]/2+f.pu,b=(0,f.O$)(m),k=(0,f.mC)(m),h=0;h<_;++h,w=A,b=P,k=L,y=O){var O=T[h],A=M(O),I=O[1]/2+f.pu,P=(0,f.O$)(I),L=(0,f.mC)(I),N=A-w,B=N>=0?1:-1,W=B*N,j=W>f.pi,Z=b*P;if(S.add((0,f.fv)(Z*B*(0,f.O$)(W),k*L+Z*(0,f.mC)(W))),s+=j?N+B*f.BZ:N,j^w>=u^A>=u){var V=(0,E.T5)((0,E.Og)(y),(0,E.Og)(O));(0,E.iJ)(V);var q=(0,E.T5)(l,V);(0,E.iJ)(q);var G=(j^N>=0?-1:1)*(0,f.ZR)(q[2]);(a>G||a===G&&(V[0]||V[1]))&&(d+=j^N>=0?1:-1)}}return(s<-f.Ho||s<f.Ho&&S<-f.Ho)^1&d}},25382:function(ie,z,r){"use strict";r.d(z,{O:function(){return f},W:function(){return E}});var C=r(39695);function E(S){return function(M,v){var c=(0,C.mC)(M),i=(0,C.mC)(v),u=S(c*i);return[u*i*(0,C.O$)(M),u*(0,C.O$)(v)]}}function f(S){return function(M,v){var c=(0,C._b)(M*M+v*v),i=S(c),u=(0,C.O$)(i),a=(0,C.mC)(i);return[(0,C.fv)(M*u,c*a),(0,C.ZR)(c&&v*u/c)]}}},12956:function(ie,z,r){"use strict";r.d(z,{Z:function(){return M},l:function(){return S}});var C=r(39695),E=r(25382),f=r(15002),S=(0,E.W)(function(v){return(0,C._b)(2/(1+v))});function M(){return(0,f.Z)(S).scale(124.75).clipAngle(179.999)}S.invert=(0,E.O)(function(v){return 2*(0,C.ZR)(v/2)})},17889:function(ie,z,r){"use strict";r.d(z,{N:function(){return S},Z:function(){return M}});var C=r(39695),E=r(25382),f=r(15002),S=(0,E.W)(function(v){return(v=(0,C.Kh)(v))&&v/(0,C.O$)(v)});function M(){return(0,f.Z)(S).scale(79.4188).clipAngle(179.999)}S.invert=(0,E.O)(function(v){return v})},97492:function(ie,z,r){"use strict";r.d(z,{Z:function(){return f},k:function(){return E}});var C=r(15002);function E(S,M){return[S,M]}function f(){return(0,C.Z)(E).scale(152.63)}E.invert=E},47589:function(ie,z,r){"use strict";r.d(z,{V6:function(){return v},mF:function(){return M},qg:function(){return S},rf:function(){return c}});var C=r(72736),E=r(3559);function f(i,u,a){var o=i.clipExtent&&i.clipExtent();return i.scale(150).translate([0,0]),null!=o&&i.clipExtent(null),(0,C.Z)(a,i.stream(E.Z)),u(E.Z.result()),null!=o&&i.clipExtent(o),i}function S(i,u,a){return f(i,function(o){var l=u[1][0]-u[0][0],s=u[1][1]-u[0][1],d=Math.min(l/(o[1][0]-o[0][0]),s/(o[1][1]-o[0][1])),g=+u[0][0]+(l-d*(o[1][0]+o[0][0]))/2,p=+u[0][1]+(s-d*(o[1][1]+o[0][1]))/2;i.scale(150*d).translate([g,p])},a)}function M(i,u,a){return S(i,[[0,0],u],a)}function v(i,u,a){return f(i,function(o){var l=+u,s=l/(o[1][0]-o[0][0]),d=(l-s*(o[1][0]+o[0][0]))/2,g=-s*o[0][1];i.scale(150*s).translate([d,g])},a)}function c(i,u,a){return f(i,function(o){var l=+u,s=l/(o[1][1]-o[0][1]),d=-s*o[0][0],g=(l-s*(o[1][1]+o[0][1]))/2;i.scale(150*s).translate([d,g])},a)}},98936:function(ie,z,r){"use strict";r.d(z,{M:function(){return S},Z:function(){return M}});var C=r(39695),E=r(25382),f=r(15002);function S(v,c){var i=(0,C.mC)(c),u=(0,C.mC)(v)*i;return[i*(0,C.O$)(v)/u,(0,C.O$)(c)/u]}function M(){return(0,f.Z)(S).scale(144.049).clipAngle(60)}S.invert=(0,E.O)(C.z4)},15002:function(ie,z,r){"use strict";r.d(z,{Z:function(){return p},r:function(){return T}});var C=r(87070),E=r(1457),f=r(87605),S=r(96059),M=r(8593),v=r(39695),c=r(49386),i=r(64684),u=r(47589),a=r(7620),o=(0,v.mC)(30*v.uR);function l(_,y){return+y?function(w,m){function b(k,h,O,A,I,P,L,N,B,W,j,Z,V,q){var G=L-k,H=N-h,ne=G*G+H*H;if(ne>4*m&&V--){var X=A+W,$=I+j,Q=P+Z,te=(0,v._b)(X*X+$*$+Q*Q),re=(0,v.ZR)(Q/=te),le=(0,v.Wn)((0,v.Wn)(Q)-1)<v.Ho||(0,v.Wn)(O-B)<v.Ho?(O+B)/2:(0,v.fv)($,X),ue=w(le,re),he=ue[0],ge=ue[1],xe=he-k,ke=ge-h,Ae=H*xe-G*ke;(Ae*Ae/ne>m||(0,v.Wn)((G*xe+H*ke)/ne-.5)>.3||A*W+I*j+P*Z<o)&&(b(k,h,O,A,I,P,he,ge,le,X/=te,$/=te,Q,V,q),q.point(he,ge),b(he,ge,le,X,$,Q,L,N,B,W,j,Z,V,q))}}return function(k){var h,O,A,I,P,L,N,B,W,j,Z,V,q={point:G,lineStart:H,lineEnd:X,polygonStart:function(){k.polygonStart(),q.lineStart=$},polygonEnd:function(){k.polygonEnd(),q.lineStart=H}};function G(re,le){re=w(re,le),k.point(re[0],re[1])}function H(){B=NaN,q.point=ne,k.lineStart()}function ne(re,le){var ue=(0,a.Og)([re,le]),he=w(re,le);b(B,W,N,j,Z,V,B=he[0],W=he[1],N=re,j=ue[0],Z=ue[1],V=ue[2],16,k),k.point(B,W)}function X(){q.point=G,k.lineEnd()}function $(){H(),q.point=Q,q.lineEnd=te}function Q(re,le){ne(h=re,le),O=B,A=W,I=j,P=Z,L=V,q.point=ne}function te(){b(B,W,N,j,Z,V,O,A,h,I,P,L,16,k),q.lineEnd=X,X()}return q}}(_,y):(w=_,(0,i.l)({point:function(m,b){m=w(m,b),this.stream.point(m[0],m[1])}}));var w}var s=(0,i.l)({point:function(_,y){this.stream.point(_*v.uR,y*v.uR)}});function d(_,y,w,m,b){function k(h,O){return[y+_*(h*=m),w-_*(O*=b)]}return k.invert=function(h,O){return[(h-y)/_*m,(w-O)/_*b]},k}function g(_,y,w,m,b,k){var h=(0,v.mC)(k),O=(0,v.O$)(k),A=h*_,I=O*_,P=h/_,L=O/_,N=(O*w-h*y)/_,B=(O*y+h*w)/_;function W(j,Z){return[A*(j*=m)-I*(Z*=b)+y,w-I*j-A*Z]}return W.invert=function(j,Z){return[m*(P*j-L*Z+N),b*(B-L*j-P*Z)]},W}function p(_){return T(function(){return _})()}function T(_){var y,w,m,b,k,h,O,A,I,P,L=150,N=480,B=250,W=0,j=0,Z=0,V=0,q=0,G=0,H=1,ne=1,X=null,$=C.Z,Q=null,te=M.Z,re=.5;function le(xe){return A(xe[0]*v.uR,xe[1]*v.uR)}function ue(xe){return(xe=A.invert(xe[0],xe[1]))&&[xe[0]*v.RW,xe[1]*v.RW]}function he(){var xe=g(L,0,0,H,ne,G).apply(null,y(W,j)),ke=(G?g:d)(L,N-xe[0],B-xe[1],H,ne,G);return w=(0,c.I)(Z,V,q),O=(0,S.Z)(y,ke),A=(0,S.Z)(w,O),h=l(O,re),ge()}function ge(){return I=P=null,le}return le.stream=function(xe){return I&&P===xe?I:I=s((ke=w,(0,i.l)({point:function(Ae,pe){var ye=ke(Ae,pe);return this.stream.point(ye[0],ye[1])}}))($(h(te(P=xe)))));var ke},le.preclip=function(xe){return arguments.length?($=xe,X=void 0,ge()):$},le.postclip=function(xe){return arguments.length?(te=xe,Q=m=b=k=null,ge()):te},le.clipAngle=function(xe){return arguments.length?($=+xe?(0,E.Z)(X=xe*v.uR):(X=null,C.Z),ge()):X*v.RW},le.clipExtent=function(xe){return arguments.length?(te=null==xe?(Q=m=b=k=null,M.Z):(0,f.Z)(Q=+xe[0][0],m=+xe[0][1],b=+xe[1][0],k=+xe[1][1]),ge()):null==Q?null:[[Q,m],[b,k]]},le.scale=function(xe){return arguments.length?(L=+xe,he()):L},le.translate=function(xe){return arguments.length?(N=+xe[0],B=+xe[1],he()):[N,B]},le.center=function(xe){return arguments.length?(W=xe[0]%360*v.uR,j=xe[1]%360*v.uR,he()):[W*v.RW,j*v.RW]},le.rotate=function(xe){return arguments.length?(Z=xe[0]%360*v.uR,V=xe[1]%360*v.uR,q=xe.length>2?xe[2]%360*v.uR:0,he()):[Z*v.RW,V*v.RW,q*v.RW]},le.angle=function(xe){return arguments.length?(G=xe%360*v.uR,he()):G*v.RW},le.reflectX=function(xe){return arguments.length?(H=xe?-1:1,he()):H<0},le.reflectY=function(xe){return arguments.length?(ne=xe?-1:1,he()):ne<0},le.precision=function(xe){return arguments.length?(h=l(O,re=xe*xe),ge()):(0,v._b)(re)},le.fitExtent=function(xe,ke){return(0,u.qg)(le,xe,ke)},le.fitSize=function(xe,ke){return(0,u.mF)(le,xe,ke)},le.fitWidth=function(xe,ke){return(0,u.V6)(le,xe,ke)},le.fitHeight=function(xe,ke){return(0,u.rf)(le,xe,ke)},function(){return y=_.apply(this,arguments),le.invert=y.invert&&ue,he()}}},26867:function(ie,z,r){"use strict";r.d(z,{K:function(){return f},Z:function(){return S}});var C=r(15002),E=r(39695);function f(M,v){var c=v*v,i=c*c;return[M*(.8707-.131979*c+i*(i*(.003971*c-.001529*i)-.013791)),v*(1.007226+c*(.015085+i*(.028874*c-.044475-.005916*i)))]}function S(){return(0,C.Z)(f).scale(175.295)}f.invert=function(M,v){var c,i=v,u=25;do{var a=i*i,o=a*a;i-=c=(i*(1.007226+a*(.015085+o*(.028874*a-.044475-.005916*o)))-v)/(1.007226+a*(.045255+o*(.259866*a-.311325-.06507600000000001*o)))}while((0,E.Wn)(c)>E.Ho&&--u>0);return[M/(.8707+(a=i*i)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),i]}},57962:function(ie,z,r){"use strict";r.d(z,{I:function(){return S},Z:function(){return M}});var C=r(39695),E=r(25382),f=r(15002);function S(v,c){return[(0,C.mC)(c)*(0,C.O$)(v),(0,C.O$)(c)]}function M(){return(0,f.Z)(S).scale(249.5).clipAngle(90+C.Ho)}S.invert=(0,E.O)(C.ZR)},49386:function(ie,z,r){"use strict";r.d(z,{I:function(){return S},Z:function(){return i}});var C=r(96059),E=r(39695);function f(u,a){return[(0,E.Wn)(u)>E.pi?u+Math.round(-u/E.BZ)*E.BZ:u,a]}function S(u,a,o){return(u%=E.BZ)?a||o?(0,C.Z)(v(u),c(a,o)):v(u):a||o?c(a,o):f}function M(u){return function(a,o){return[(a+=u)>E.pi?a-E.BZ:a<-E.pi?a+E.BZ:a,o]}}function v(u){var a=M(u);return a.invert=M(-u),a}function c(u,a){var o=(0,E.mC)(u),l=(0,E.O$)(u),s=(0,E.mC)(a),d=(0,E.O$)(a);function g(p,T){var _=(0,E.mC)(T),y=(0,E.mC)(p)*_,w=(0,E.O$)(p)*_,m=(0,E.O$)(T),b=m*o+y*l;return[(0,E.fv)(w*s-b*d,y*o-m*l),(0,E.ZR)(b*s+w*d)]}return g.invert=function(p,T){var _=(0,E.mC)(T),y=(0,E.mC)(p)*_,w=(0,E.O$)(p)*_,m=(0,E.O$)(T),b=m*s-w*d;return[(0,E.fv)(w*s+m*d,y*o+b*l),(0,E.ZR)(b*o-y*l)]},g}function i(u){function a(o){return(o=u(o[0]*E.uR,o[1]*E.uR))[0]*=E.RW,o[1]*=E.RW,o}return u=S(u[0]*E.uR,u[1]*E.uR,u.length>2?u[2]*E.uR:0),a.invert=function(o){return(o=u.invert(o[0]*E.uR,o[1]*E.uR))[0]*=E.RW,o[1]*=E.RW,o},a}f.invert=f},72736:function(ie,z,r){"use strict";function C(c,i){c&&f.hasOwnProperty(c.type)&&f[c.type](c,i)}r.d(z,{Z:function(){return v}});var E={Feature:function(c,i){C(c.geometry,i)},FeatureCollection:function(c,i){for(var u=c.features,a=-1,o=u.length;++a<o;)C(u[a].geometry,i)}},f={Sphere:function(c,i){i.sphere()},Point:function(c,i){i.point((c=c.coordinates)[0],c[1],c[2])},MultiPoint:function(c,i){for(var u=c.coordinates,a=-1,o=u.length;++a<o;)i.point((c=u[a])[0],c[1],c[2])},LineString:function(c,i){S(c.coordinates,i,0)},MultiLineString:function(c,i){for(var u=c.coordinates,a=-1,o=u.length;++a<o;)S(u[a],i,0)},Polygon:function(c,i){M(c.coordinates,i)},MultiPolygon:function(c,i){for(var u=c.coordinates,a=-1,o=u.length;++a<o;)M(u[a],i)},GeometryCollection:function(c,i){for(var u=c.geometries,a=-1,o=u.length;++a<o;)C(u[a],i)}};function S(c,i,u){var a,o=-1,l=c.length-u;for(i.lineStart();++o<l;)i.point((a=c[o])[0],a[1],a[2]);i.lineEnd()}function M(c,i){var u=-1,a=c.length;for(i.polygonStart();++u<a;)S(c[u],i,1);i.polygonEnd()}function v(c,i){c&&E.hasOwnProperty(c.type)?E[c.type](c,i):C(c,i)}},64684:function(ie,z,r){"use strict";function C(S){return{stream:E(S)}}function E(S){return function(M){var v=new f;for(var c in S)v[c]=S[c];return v.stream=M,v}}function f(){}r.d(z,{Z:function(){return C},l:function(){return E}}),f.prototype={constructor:f,point:function(S,M){this.stream.point(S,M)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},674:function(ie,z,r){"use strict";function C(De,oe){return De.parent===oe.parent?1:2}function E(De,oe){return De+oe.x}function f(De,oe){return Math.max(De,oe.y)}function S(){var De=C,oe=1,de=1,_e=!1;function Me(Pe){var Ue,Be=0;Pe.eachAfter(function(We){var Je,Ke=We.children;Ke?(We.x=(Je=Ke).reduce(E,0)/Je.length,We.y=function(Je){return 1+Je.reduce(f,0)}(Ke)):(We.x=Ue?Be+=De(We,Ue):0,We.y=0,Ue=We)});var Ve=function(We){for(var Ke;Ke=We.children;)We=Ke[0];return We}(Pe),ve=function(We){for(var Ke;Ke=We.children;)We=Ke[Ke.length-1];return We}(Pe),Te=Ve.x-De(Ve,ve)/2,Ce=ve.x+De(ve,Ve)/2;return Pe.eachAfter(_e?function(We){We.x=(We.x-Pe.x)*oe,We.y=(Pe.y-We.y)*de}:function(We){We.x=(We.x-Te)/(Ce-Te)*oe,We.y=(1-(Pe.y?We.y/Pe.y:1))*de})}return Me.separation=function(Pe){return arguments.length?(De=Pe,Me):De},Me.size=function(Pe){return arguments.length?(_e=!1,oe=+Pe[0],de=+Pe[1],Me):_e?null:[oe,de]},Me.nodeSize=function(Pe){return arguments.length?(_e=!0,oe=+Pe[0],de=+Pe[1],Me):_e?[oe,de]:null},Me}function M(De){var oe=0,de=De.children,_e=de&&de.length;if(_e)for(;--_e>=0;)oe+=de[_e].value;else oe=1;De.value=oe}function v(De,oe){var de,_e,Me,Pe,Ue,Be=new a(De),Ve=+De.value&&(Be.value=De.value),ve=[Be];for(null==oe&&(oe=c);de=ve.pop();)if(Ve&&(de.value=+de.data.value),(Me=oe(de.data))&&(Ue=Me.length))for(de.children=new Array(Ue),Pe=Ue-1;Pe>=0;--Pe)ve.push(_e=de.children[Pe]=new a(Me[Pe])),_e.parent=de,_e.depth=de.depth+1;return Be.eachBefore(u)}function c(De){return De.children}function i(De){De.data=De.data.data}function u(De){var oe=0;do{De.height=oe}while((De=De.parent)&&De.height<++oe)}function a(De){this.data=De,this.depth=this.height=0,this.parent=null}r.r(z),r.d(z,{cluster:function(){return S},hierarchy:function(){return v},pack:function(){return B},packEnclose:function(){return l},packSiblings:function(){return O},partition:function(){return G},stratify:function(){return Q},tree:function(){return xe},treemap:function(){return Ne},treemapBinary:function(){return be},treemapDice:function(){return q},treemapResquarify:function(){return Oe},treemapSlice:function(){return ke},treemapSliceDice:function(){return Ee},treemapSquarify:function(){return ye}}),a.prototype=v.prototype={constructor:a,count:function(){return this.eachAfter(M)},each:function(De){var oe,de,_e,Me,Pe=this,Ue=[Pe];do{for(oe=Ue.reverse(),Ue=[];Pe=oe.pop();)if(De(Pe),de=Pe.children)for(_e=0,Me=de.length;_e<Me;++_e)Ue.push(de[_e])}while(Ue.length);return this},eachAfter:function(De){for(var oe,de,_e,Me=this,Pe=[Me],Ue=[];Me=Pe.pop();)if(Ue.push(Me),oe=Me.children)for(de=0,_e=oe.length;de<_e;++de)Pe.push(oe[de]);for(;Me=Ue.pop();)De(Me);return this},eachBefore:function(De){for(var oe,de,_e=this,Me=[_e];_e=Me.pop();)if(De(_e),oe=_e.children)for(de=oe.length-1;de>=0;--de)Me.push(oe[de]);return this},sum:function(De){return this.eachAfter(function(oe){for(var de=+De(oe.data)||0,_e=oe.children,Me=_e&&_e.length;--Me>=0;)de+=_e[Me].value;oe.value=de})},sort:function(De){return this.eachBefore(function(oe){oe.children&&oe.children.sort(De)})},path:function(De){for(var oe=this,de=function(Pe,Ue){if(Pe===Ue)return Pe;var Be=Pe.ancestors(),Ve=Ue.ancestors(),ve=null;for(Pe=Be.pop(),Ue=Ve.pop();Pe===Ue;)ve=Pe,Pe=Be.pop(),Ue=Ve.pop();return ve}(oe,De),_e=[oe];oe!==de;)_e.push(oe=oe.parent);for(var Me=_e.length;De!==de;)_e.splice(Me,0,De),De=De.parent;return _e},ancestors:function(){for(var De=this,oe=[De];De=De.parent;)oe.push(De);return oe},descendants:function(){var De=[];return this.each(function(oe){De.push(oe)}),De},leaves:function(){var De=[];return this.eachBefore(function(oe){oe.children||De.push(oe)}),De},links:function(){var De=this,oe=[];return De.each(function(de){de!==De&&oe.push({source:de.parent,target:de})}),oe},copy:function(){return v(this).eachBefore(i)}};var o=Array.prototype.slice;function l(De){for(var oe,de,_e=0,Me=(De=function(Ue){for(var Be,Ve,ve=Ue.length;ve;)Ve=Math.random()*ve--|0,Be=Ue[ve],Ue[ve]=Ue[Ve],Ue[Ve]=Be;return Ue}(o.call(De))).length,Pe=[];_e<Me;)oe=De[_e],de&&g(de,oe)?++_e:(de=T(Pe=s(Pe,oe)),_e=0);return de}function s(De,oe){var de,_e;if(p(oe,De))return[oe];for(de=0;de<De.length;++de)if(d(oe,De[de])&&p(_(De[de],oe),De))return[De[de],oe];for(de=0;de<De.length-1;++de)for(_e=de+1;_e<De.length;++_e)if(d(_(De[de],De[_e]),oe)&&d(_(De[de],oe),De[_e])&&d(_(De[_e],oe),De[de])&&p(y(De[de],De[_e],oe),De))return[De[de],De[_e],oe];throw new Error}function d(De,oe){var de=De.r-oe.r,_e=oe.x-De.x,Me=oe.y-De.y;return de<0||de*de<_e*_e+Me*Me}function g(De,oe){var de=De.r-oe.r+1e-6,_e=oe.x-De.x,Me=oe.y-De.y;return de>0&&de*de>_e*_e+Me*Me}function p(De,oe){for(var de=0;de<oe.length;++de)if(!g(De,oe[de]))return!1;return!0}function T(De){switch(De.length){case 1:return{x:(oe=De[0]).x,y:oe.y,r:oe.r};case 2:return _(De[0],De[1]);case 3:return y(De[0],De[1],De[2])}var oe}function _(De,oe){var de=De.x,_e=De.y,Me=De.r,Pe=oe.x,Ue=oe.y,Be=oe.r,Ve=Pe-de,ve=Ue-_e,Te=Be-Me,Ce=Math.sqrt(Ve*Ve+ve*ve);return{x:(de+Pe+Ve/Ce*Te)/2,y:(_e+Ue+ve/Ce*Te)/2,r:(Ce+Me+Be)/2}}function y(De,oe,de){var _e=De.x,Me=De.y,Pe=De.r,Ue=oe.x,Be=oe.y,Ve=oe.r,ve=de.x,Te=de.y,Ce=de.r,We=_e-Ue,Ke=_e-ve,Je=Me-Be,ht=Me-Te,ft=Ve-Pe,mt=Ce-Pe,At=_e*_e+Me*Me-Pe*Pe,Rt=At-Ue*Ue-Be*Be+Ve*Ve,It=At-ve*ve-Te*Te+Ce*Ce,Pt=Ke*Je-We*ht,Bt=(Je*It-ht*Rt)/(2*Pt)-_e,Ut=(ht*ft-Je*mt)/Pt,Vt=(Ke*Rt-We*It)/(2*Pt)-Me,tn=(We*mt-Ke*ft)/Pt,Gt=Ut*Ut+tn*tn-1,et=2*(Pe+Bt*Ut+Vt*tn),nt=Bt*Bt+Vt*Vt-Pe*Pe,$e=-(Gt?(et+Math.sqrt(et*et-4*Gt*nt))/(2*Gt):nt/et);return{x:_e+Bt+Ut*$e,y:Me+Vt+tn*$e,r:$e}}function w(De,oe,de){var _e,Me,Pe,Ue,Be=De.x-oe.x,Ve=De.y-oe.y,ve=Be*Be+Ve*Ve;ve?(Me=oe.r+de.r,Ue=De.r+de.r,(Me*=Me)>(Ue*=Ue)?(_e=(ve+Ue-Me)/(2*ve),Pe=Math.sqrt(Math.max(0,Ue/ve-_e*_e)),de.x=De.x-_e*Be-Pe*Ve,de.y=De.y-_e*Ve+Pe*Be):(_e=(ve+Me-Ue)/(2*ve),Pe=Math.sqrt(Math.max(0,Me/ve-_e*_e)),de.x=oe.x+_e*Be-Pe*Ve,de.y=oe.y+_e*Ve+Pe*Be)):(de.x=oe.x+de.r,de.y=oe.y)}function m(De,oe){var de=De.r+oe.r-1e-6,_e=oe.x-De.x,Me=oe.y-De.y;return de>0&&de*de>_e*_e+Me*Me}function b(De){var oe=De._,de=De.next._,_e=oe.r+de.r,Me=(oe.x*de.r+de.x*oe.r)/_e,Pe=(oe.y*de.r+de.y*oe.r)/_e;return Me*Me+Pe*Pe}function k(De){this._=De,this.next=null,this.previous=null}function h(De){if(!(Me=De.length))return 0;var oe,de,_e,Me,Pe,Ue,Be,Ve,ve,Te,Ce;if((oe=De[0]).x=0,oe.y=0,!(Me>1))return oe.r;if(oe.x=-(de=De[1]).r,de.x=oe.r,de.y=0,!(Me>2))return oe.r+de.r;w(de,oe,_e=De[2]),oe=new k(oe),de=new k(de),_e=new k(_e),oe.next=_e.previous=de,de.next=oe.previous=_e,_e.next=de.previous=oe;e:for(Be=3;Be<Me;++Be){w(oe._,de._,_e=De[Be]),_e=new k(_e),Ve=de.next,ve=oe.previous,Te=de._.r,Ce=oe._.r;do{if(Te<=Ce){if(m(Ve._,_e._)){oe.next=de=Ve,de.previous=oe,--Be;continue e}Te+=Ve._.r,Ve=Ve.next}else{if(m(ve._,_e._)){(oe=ve).next=de,de.previous=oe,--Be;continue e}Ce+=ve._.r,ve=ve.previous}}while(Ve!==ve.next);for(_e.previous=oe,_e.next=de,oe.next=de.previous=de=_e,Pe=b(oe);(_e=_e.next)!==de;)(Ue=b(_e))<Pe&&(oe=_e,Pe=Ue);de=oe.next}for(oe=[de._],_e=de;(_e=_e.next)!==de;)oe.push(_e._);for(_e=l(oe),Be=0;Be<Me;++Be)(oe=De[Be]).x-=_e.x,oe.y-=_e.y;return _e.r}function O(De){return h(De),De}function A(De){return null==De?null:I(De)}function I(De){if("function"!=typeof De)throw new Error;return De}function P(){return 0}function L(De){return function(){return De}}function N(De){return Math.sqrt(De.value)}function B(){var De=null,oe=1,de=1,_e=P;function Me(Pe){return Pe.x=oe/2,Pe.y=de/2,De?Pe.eachBefore(W(De)).eachAfter(j(_e,.5)).eachBefore(Z(1)):Pe.eachBefore(W(N)).eachAfter(j(P,1)).eachAfter(j(_e,Pe.r/Math.min(oe,de))).eachBefore(Z(Math.min(oe,de)/(2*Pe.r))),Pe}return Me.radius=function(Pe){return arguments.length?(De=A(Pe),Me):De},Me.size=function(Pe){return arguments.length?(oe=+Pe[0],de=+Pe[1],Me):[oe,de]},Me.padding=function(Pe){return arguments.length?(_e="function"==typeof Pe?Pe:L(+Pe),Me):_e},Me}function W(De){return function(oe){oe.children||(oe.r=Math.max(0,+De(oe)||0))}}function j(De,oe){return function(de){if(_e=de.children){var _e,Me,Pe,Ue=_e.length,Be=De(de)*oe||0;if(Be)for(Me=0;Me<Ue;++Me)_e[Me].r+=Be;if(Pe=h(_e),Be)for(Me=0;Me<Ue;++Me)_e[Me].r-=Be;de.r=Pe+Be}}}function Z(De){return function(oe){var de=oe.parent;oe.r*=De,de&&(oe.x=de.x+De*oe.x,oe.y=de.y+De*oe.y)}}function V(De){De.x0=Math.round(De.x0),De.y0=Math.round(De.y0),De.x1=Math.round(De.x1),De.y1=Math.round(De.y1)}function q(De,oe,de,_e,Me){for(var Pe,Ue=De.children,Be=-1,Ve=Ue.length,ve=De.value&&(_e-oe)/De.value;++Be<Ve;)(Pe=Ue[Be]).y0=de,Pe.y1=Me,Pe.x0=oe,Pe.x1=oe+=Pe.value*ve}function G(){var De=1,oe=1,de=0,_e=!1;function Me(Pe){var Be,Ve,Ue=Pe.height+1;return Pe.x0=Pe.y0=de,Pe.x1=De,Pe.y1=oe/Ue,Pe.eachBefore((Be=oe,Ve=Ue,function(ve){ve.children&&q(ve,ve.x0,Be*(ve.depth+1)/Ve,ve.x1,Be*(ve.depth+2)/Ve);var Te=ve.x0,Ce=ve.y0,We=ve.x1-de,Ke=ve.y1-de;We<Te&&(Te=We=(Te+We)/2),Ke<Ce&&(Ce=Ke=(Ce+Ke)/2),ve.x0=Te,ve.y0=Ce,ve.x1=We,ve.y1=Ke})),_e&&Pe.eachBefore(V),Pe}return Me.round=function(Pe){return arguments.length?(_e=!!Pe,Me):_e},Me.size=function(Pe){return arguments.length?(De=+Pe[0],oe=+Pe[1],Me):[De,oe]},Me.padding=function(Pe){return arguments.length?(de=+Pe,Me):de},Me}var H={depth:-1},ne={};function X(De){return De.id}function $(De){return De.parentId}function Q(){var De=X,oe=$;function de(_e){var Me,Pe,Ue,Be,Ve,ve,Te,Ce=_e.length,We=new Array(Ce),Ke={};for(Pe=0;Pe<Ce;++Pe)Ve=We[Pe]=new a(Me=_e[Pe]),null!=(ve=De(Me,Pe,_e))&&(ve+="")&&(Ke[Te="$"+(Ve.id=ve)]=Te in Ke?ne:Ve);for(Pe=0;Pe<Ce;++Pe)if(Ve=We[Pe],null!=(ve=oe(_e[Pe],Pe,_e))&&(ve+="")){if(!(Be=Ke["$"+ve]))throw new Error("missing: "+ve);if(Be===ne)throw new Error("ambiguous: "+ve);Be.children?Be.children.push(Ve):Be.children=[Ve],Ve.parent=Be}else{if(Ue)throw new Error("multiple roots");Ue=Ve}if(!Ue)throw new Error("no root");if(Ue.parent=H,Ue.eachBefore(function(Je){Je.depth=Je.parent.depth+1,--Ce}).eachBefore(u),Ue.parent=null,Ce>0)throw new Error("cycle");return Ue}return de.id=function(_e){return arguments.length?(De=I(_e),de):De},de.parentId=function(_e){return arguments.length?(oe=I(_e),de):oe},de}function te(De,oe){return De.parent===oe.parent?1:2}function re(De){var oe=De.children;return oe?oe[0]:De.t}function le(De){var oe=De.children;return oe?oe[oe.length-1]:De.t}function ue(De,oe,de){var _e=de/(oe.i-De.i);oe.c-=_e,oe.s+=de,De.c+=_e,oe.z+=de,oe.m+=de}function he(De,oe,de){return De.a.parent===oe.parent?De.a:de}function ge(De,oe){this._=De,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=oe}function xe(){var De=te,oe=1,de=1,_e=null;function Me(Ve){var ve=function(mt){for(var At,Rt,It,Pt,Bt,Ut=new ge(mt,0),Vt=[Ut];At=Vt.pop();)if(It=At._.children)for(At.children=new Array(Bt=It.length),Pt=Bt-1;Pt>=0;--Pt)Vt.push(Rt=At.children[Pt]=new ge(It[Pt],Pt)),Rt.parent=At;return(Ut.parent=new ge(null,0)).children=[Ut],Ut}(Ve);if(ve.eachAfter(Pe),ve.parent.m=-ve.z,ve.eachBefore(Ue),_e)Ve.eachBefore(Be);else{var Te=Ve,Ce=Ve,We=Ve;Ve.eachBefore(function(mt){mt.x<Te.x&&(Te=mt),mt.x>Ce.x&&(Ce=mt),mt.depth>We.depth&&(We=mt)});var Ke=Te===Ce?1:De(Te,Ce)/2,Je=Ke-Te.x,ht=oe/(Ce.x+Ke+Je),ft=de/(We.depth||1);Ve.eachBefore(function(mt){mt.x=(mt.x+Je)*ht,mt.y=mt.depth*ft})}return Ve}function Pe(Ve){var ve=Ve.children,Te=Ve.parent.children,Ce=Ve.i?Te[Ve.i-1]:null;if(ve){!function(Ke){for(var Je,ht=0,ft=0,mt=Ke.children,At=mt.length;--At>=0;)(Je=mt[At]).z+=ht,Je.m+=ht,ht+=Je.s+(ft+=Je.c)}(Ve);var We=(ve[0].z+ve[ve.length-1].z)/2;Ce?(Ve.z=Ce.z+De(Ve._,Ce._),Ve.m=Ve.z-We):Ve.z=We}else Ce&&(Ve.z=Ce.z+De(Ve._,Ce._));Ve.parent.A=function(Ke,Je,ht){if(Je){for(var ft,mt=Ke,At=Ke,Rt=Je,It=mt.parent.children[0],Pt=mt.m,Bt=At.m,Ut=Rt.m,Vt=It.m;Rt=le(Rt),mt=re(mt),Rt&&mt;)It=re(It),(At=le(At)).a=Ke,(ft=Rt.z+Ut-mt.z-Pt+De(Rt._,mt._))>0&&(ue(he(Rt,Ke,ht),Ke,ft),Pt+=ft,Bt+=ft),Ut+=Rt.m,Pt+=mt.m,Vt+=It.m,Bt+=At.m;Rt&&!le(At)&&(At.t=Rt,At.m+=Ut-Bt),mt&&!re(It)&&(It.t=mt,It.m+=Pt-Vt,ht=Ke)}return ht}(Ve,Ce,Ve.parent.A||Te[0])}function Ue(Ve){Ve._.x=Ve.z+Ve.parent.m,Ve.m+=Ve.parent.m}function Be(Ve){Ve.x*=oe,Ve.y=Ve.depth*de}return Me.separation=function(Ve){return arguments.length?(De=Ve,Me):De},Me.size=function(Ve){return arguments.length?(_e=!1,oe=+Ve[0],de=+Ve[1],Me):_e?null:[oe,de]},Me.nodeSize=function(Ve){return arguments.length?(_e=!0,oe=+Ve[0],de=+Ve[1],Me):_e?[oe,de]:null},Me}function ke(De,oe,de,_e,Me){for(var Pe,Ue=De.children,Be=-1,Ve=Ue.length,ve=De.value&&(Me-de)/De.value;++Be<Ve;)(Pe=Ue[Be]).x0=oe,Pe.x1=_e,Pe.y0=de,Pe.y1=de+=Pe.value*ve}ge.prototype=Object.create(a.prototype);var Ae=(1+Math.sqrt(5))/2;function pe(De,oe,de,_e,Me,Pe){for(var Ue,Be,Ve,ve,Te,Ce,We,Ke,Je,ht,ft,mt=[],At=oe.children,Rt=0,It=0,Pt=At.length,Bt=oe.value;Rt<Pt;){Ve=Me-de,ve=Pe-_e;do{Te=At[It++].value}while(!Te&&It<Pt);for(Ce=We=Te,ft=Te*Te*(ht=Math.max(ve/Ve,Ve/ve)/(Bt*De)),Je=Math.max(We/ft,ft/Ce);It<Pt;++It){if(Te+=Be=At[It].value,Be<Ce&&(Ce=Be),Be>We&&(We=Be),ft=Te*Te*ht,(Ke=Math.max(We/ft,ft/Ce))>Je){Te-=Be;break}Je=Ke}mt.push(Ue={value:Te,dice:Ve<ve,children:At.slice(Rt,It)}),Ue.dice?q(Ue,de,_e,Me,Bt?_e+=ve*Te/Bt:Pe):ke(Ue,de,_e,Bt?de+=Ve*Te/Bt:Me,Pe),Bt-=Te,Rt=It}return mt}var ye=function De(oe){function de(_e,Me,Pe,Ue,Be){pe(oe,_e,Me,Pe,Ue,Be)}return de.ratio=function(_e){return De((_e=+_e)>1?_e:1)},de}(Ae);function Ne(){var De=ye,oe=!1,de=1,_e=1,Me=[0],Pe=P,Ue=P,Be=P,Ve=P,ve=P;function Te(We){return We.x0=We.y0=0,We.x1=de,We.y1=_e,We.eachBefore(Ce),Me=[0],oe&&We.eachBefore(V),We}function Ce(We){var Ke=Me[We.depth],Je=We.x0+Ke,ht=We.y0+Ke,ft=We.x1-Ke,mt=We.y1-Ke;ft<Je&&(Je=ft=(Je+ft)/2),mt<ht&&(ht=mt=(ht+mt)/2),We.x0=Je,We.y0=ht,We.x1=ft,We.y1=mt,We.children&&(Ke=Me[We.depth+1]=Pe(We)/2,Je+=ve(We)-Ke,ht+=Ue(We)-Ke,(ft-=Be(We)-Ke)<Je&&(Je=ft=(Je+ft)/2),(mt-=Ve(We)-Ke)<ht&&(ht=mt=(ht+mt)/2),De(We,Je,ht,ft,mt))}return Te.round=function(We){return arguments.length?(oe=!!We,Te):oe},Te.size=function(We){return arguments.length?(de=+We[0],_e=+We[1],Te):[de,_e]},Te.tile=function(We){return arguments.length?(De=I(We),Te):De},Te.padding=function(We){return arguments.length?Te.paddingInner(We).paddingOuter(We):Te.paddingInner()},Te.paddingInner=function(We){return arguments.length?(Pe="function"==typeof We?We:L(+We),Te):Pe},Te.paddingOuter=function(We){return arguments.length?Te.paddingTop(We).paddingRight(We).paddingBottom(We).paddingLeft(We):Te.paddingTop()},Te.paddingTop=function(We){return arguments.length?(Ue="function"==typeof We?We:L(+We),Te):Ue},Te.paddingRight=function(We){return arguments.length?(Be="function"==typeof We?We:L(+We),Te):Be},Te.paddingBottom=function(We){return arguments.length?(Ve="function"==typeof We?We:L(+We),Te):Ve},Te.paddingLeft=function(We){return arguments.length?(ve="function"==typeof We?We:L(+We),Te):ve},Te}function be(De,oe,de,_e,Me){var Pe,Ue,Be=De.children,Ve=Be.length,ve=new Array(Ve+1);for(ve[0]=Ue=Pe=0;Pe<Ve;++Pe)ve[Pe+1]=Ue+=Be[Pe].value;!function Te(Ce,We,Ke,Je,ht,ft,mt){if(Ce>=We-1){var At=Be[Ce];return At.x0=Je,At.y0=ht,At.x1=ft,void(At.y1=mt)}for(var Rt=ve[Ce],It=Ke/2+Rt,Pt=Ce+1,Bt=We-1;Pt<Bt;){var Ut=Pt+Bt>>>1;ve[Ut]<It?Pt=Ut+1:Bt=Ut}It-ve[Pt-1]<ve[Pt]-It&&Ce+1<Pt&&--Pt;var Vt=ve[Pt]-Rt,tn=Ke-Vt;if(ft-Je>mt-ht){var Gt=(Je*tn+ft*Vt)/Ke;Te(Ce,Pt,Vt,Je,ht,Gt,mt),Te(Pt,We,tn,Gt,ht,ft,mt)}else{var et=(ht*tn+mt*Vt)/Ke;Te(Ce,Pt,Vt,Je,ht,ft,et),Te(Pt,We,tn,Je,et,ft,mt)}}(0,Ve,De.value,oe,de,_e,Me)}function Ee(De,oe,de,_e,Me){(1&De.depth?ke:q)(De,oe,de,_e,Me)}var Oe=function De(oe){function de(_e,Me,Pe,Ue,Be){if((Ve=_e._squarify)&&Ve.ratio===oe)for(var Ve,ve,Te,Ce,We,Ke=-1,Je=Ve.length,ht=_e.value;++Ke<Je;){for(Te=(ve=Ve[Ke]).children,Ce=ve.value=0,We=Te.length;Ce<We;++Ce)ve.value+=Te[Ce].value;ve.dice?q(ve,Me,Pe,Ue,Pe+=(Be-Pe)*ve.value/ht):ke(ve,Me,Pe,Me+=(Ue-Me)*ve.value/ht,Be),ht-=ve.value}else _e._squarify=Ve=pe(oe,_e,Me,Pe,Ue,Be),Ve.ratio=oe}return de.ratio=function(_e){return De((_e=+_e)>1?_e:1)},de}(Ae)},45879:function(ie,z,r){"use strict";r.d(z,{h5:function(){return g}});var C=Math.PI,E=2*C,f=1e-6,S=E-f;function M(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function v(){return new M}M.prototype=v.prototype={constructor:M,moveTo:function(p,T){this._+="M"+(this._x0=this._x1=+p)+","+(this._y0=this._y1=+T)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(p,T){this._+="L"+(this._x1=+p)+","+(this._y1=+T)},quadraticCurveTo:function(p,T,_,y){this._+="Q"+ +p+","+ +T+","+(this._x1=+_)+","+(this._y1=+y)},bezierCurveTo:function(p,T,_,y,w,m){this._+="C"+ +p+","+ +T+","+ +_+","+ +y+","+(this._x1=+w)+","+(this._y1=+m)},arcTo:function(p,T,_,y,w){var m=this._x1,b=this._y1,k=(_=+_)-(p=+p),h=(y=+y)-(T=+T),O=m-p,A=b-T,I=O*O+A*A;if((w=+w)<0)throw new Error("negative radius: "+w);if(null===this._x1)this._+="M"+(this._x1=p)+","+(this._y1=T);else if(I>f)if(Math.abs(A*k-h*O)>f&&w){var P=_-m,L=y-b,N=k*k+h*h,B=P*P+L*L,W=Math.sqrt(N),j=Math.sqrt(I),Z=w*Math.tan((C-Math.acos((N+I-B)/(2*W*j)))/2),V=Z/j,q=Z/W;Math.abs(V-1)>f&&(this._+="L"+(p+V*O)+","+(T+V*A)),this._+="A"+w+","+w+",0,0,"+ +(A*P>O*L)+","+(this._x1=p+q*k)+","+(this._y1=T+q*h)}else this._+="L"+(this._x1=p)+","+(this._y1=T)},arc:function(p,T,_,y,w,m){p=+p,T=+T,m=!!m;var b=(_=+_)*Math.cos(y),k=_*Math.sin(y),h=p+b,O=T+k,A=1^m,I=m?y-w:w-y;if(_<0)throw new Error("negative radius: "+_);null===this._x1?this._+="M"+h+","+O:(Math.abs(this._x1-h)>f||Math.abs(this._y1-O)>f)&&(this._+="L"+h+","+O),_&&(I<0&&(I=I%E+E),I>S?this._+="A"+_+","+_+",0,1,"+A+","+(p-b)+","+(T-k)+"A"+_+","+_+",0,1,"+A+","+(this._x1=h)+","+(this._y1=O):I>f&&(this._+="A"+_+","+_+",0,"+ +(I>=C)+","+A+","+(this._x1=p+_*Math.cos(w))+","+(this._y1=T+_*Math.sin(w))))},rect:function(p,T,_,y){this._+="M"+(this._x0=this._x1=+p)+","+(this._y0=this._y1=+T)+"h"+ +_+"v"+ +y+"h"+-_+"Z"},toString:function(){return this._}};var c=v,i=Array.prototype.slice;function u(p){return function(){return p}}function a(p){return p[0]}function o(p){return p[1]}function l(p){return p.source}function s(p){return p.target}function d(p,T,_,y,w){p.moveTo(T,_),p.bezierCurveTo(T=(T+y)/2,_,T,w,y,w)}function g(){return function(p){var T=l,_=s,y=a,w=o,m=null;function b(){var k,h=i.call(arguments),O=T.apply(this,h),A=_.apply(this,h);if(m||(m=k=c()),p(m,+y.apply(this,(h[0]=O,h)),+w.apply(this,h),+y.apply(this,(h[0]=A,h)),+w.apply(this,h)),k)return m=null,k+""||null}return b.source=function(k){return arguments.length?(T=k,b):T},b.target=function(k){return arguments.length?(_=k,b):_},b.x=function(k){return arguments.length?(y="function"==typeof k?k:u(+k),b):y},b.y=function(k){return arguments.length?(w="function"==typeof k?k:u(+k),b):w},b.context=function(k){return arguments.length?(m=k??null,b):m},b}(d)}},84096:function(ie,z,r){"use strict";r.d(z,{i$:function(){return l},Dq:function(){return a},g0:function(){return s}});var C=r(58176),E=r(48480),f=r(59879),S=r(82301),M=r(34823),v=r(79791);function c(Pt){if(0<=Pt.y&&Pt.y<100){var Bt=new Date(-1,Pt.m,Pt.d,Pt.H,Pt.M,Pt.S,Pt.L);return Bt.setFullYear(Pt.y),Bt}return new Date(Pt.y,Pt.m,Pt.d,Pt.H,Pt.M,Pt.S,Pt.L)}function i(Pt){if(0<=Pt.y&&Pt.y<100){var Bt=new Date(Date.UTC(-1,Pt.m,Pt.d,Pt.H,Pt.M,Pt.S,Pt.L));return Bt.setUTCFullYear(Pt.y),Bt}return new Date(Date.UTC(Pt.y,Pt.m,Pt.d,Pt.H,Pt.M,Pt.S,Pt.L))}function u(Pt,Bt,Ut){return{y:Pt,m:Bt,d:Ut,H:0,M:0,S:0,L:0}}function a(Pt){var Bt=Pt.dateTime,Ut=Pt.date,Vt=Pt.time,tn=Pt.periods,Gt=Pt.days,et=Pt.shortDays,nt=Pt.months,$e=Pt.shortMonths,ot=w(tn),dt=m(tn),Le=w(Gt),Ge=m(Gt),st=w(et),vt=m(et),bt=w(nt),Lt=m(nt),jt=w($e),Nt=m($e),Tt={a:function(Jt){return et[Jt.getDay()]},A:function(Jt){return Gt[Jt.getDay()]},b:function(Jt){return $e[Jt.getMonth()]},B:function(Jt){return nt[Jt.getMonth()]},c:null,d:Q,e:Q,f:he,H:te,I:re,j:le,L:ue,m:ge,M:xe,p:function(Jt){return tn[+(Jt.getHours()>=12)]},q:function(Jt){return 1+~~(Jt.getMonth()/3)},Q:Rt,s:It,S:ke,u:Ae,U:pe,V:ye,w:Ne,W:be,x:null,X:null,y:Ee,Y:Oe,Z:De,"%":At},Mt={a:function(Jt){return et[Jt.getUTCDay()]},A:function(Jt){return Gt[Jt.getUTCDay()]},b:function(Jt){return $e[Jt.getUTCMonth()]},B:function(Jt){return nt[Jt.getUTCMonth()]},c:null,d:oe,e:oe,f:Ue,H:de,I:_e,j:Me,L:Pe,m:Be,M:Ve,p:function(Jt){return tn[+(Jt.getUTCHours()>=12)]},q:function(Jt){return 1+~~(Jt.getUTCMonth()/3)},Q:Rt,s:It,S:ve,u:Te,U:Ce,V:We,w:Ke,W:Je,x:null,X:null,y:ht,Y:ft,Z:mt,"%":At},kt={a:function(Jt,Kt,ln){var Tn=st.exec(Kt.slice(ln));return Tn?(Jt.w=vt[Tn[0].toLowerCase()],ln+Tn[0].length):-1},A:function(Jt,Kt,ln){var Tn=Le.exec(Kt.slice(ln));return Tn?(Jt.w=Ge[Tn[0].toLowerCase()],ln+Tn[0].length):-1},b:function(Jt,Kt,ln){var Tn=jt.exec(Kt.slice(ln));return Tn?(Jt.m=Nt[Tn[0].toLowerCase()],ln+Tn[0].length):-1},B:function(Jt,Kt,ln){var Tn=bt.exec(Kt.slice(ln));return Tn?(Jt.m=Lt[Tn[0].toLowerCase()],ln+Tn[0].length):-1},c:function(Jt,Kt,ln){return Qt(Jt,Bt,Kt,ln)},d:W,e:W,f:H,H:Z,I:Z,j,L:G,m:B,M:V,p:function(Jt,Kt,ln){var Tn=ot.exec(Kt.slice(ln));return Tn?(Jt.p=dt[Tn[0].toLowerCase()],ln+Tn[0].length):-1},q:N,Q:X,s:$,S:q,u:k,U:h,V:O,w:b,W:A,x:function(Jt,Kt,ln){return Qt(Jt,Ut,Kt,ln)},X:function(Jt,Kt,ln){return Qt(Jt,Vt,Kt,ln)},y:P,Y:I,Z:L,"%":ne};function Ht(Jt,Kt){return function(ln){var Tn,An,pn,Nn=[],tr=-1,On=0,wn=Jt.length;for(ln instanceof Date||(ln=new Date(+ln));++tr<wn;)37===Jt.charCodeAt(tr)&&(Nn.push(Jt.slice(On,tr)),null!=(An=d[Tn=Jt.charAt(++tr)])?Tn=Jt.charAt(++tr):An="e"===Tn?" ":"0",(pn=Kt[Tn])&&(Tn=pn(ln,An)),Nn.push(Tn),On=tr+1);return Nn.push(Jt.slice(On,tr)),Nn.join("")}}function qt(Jt,Kt){return function(ln){var Tn,An,pn=u(1900,void 0,1);if(Qt(pn,Jt,ln+="",0)!=ln.length)return null;if("Q"in pn)return new Date(pn.Q);if("s"in pn)return new Date(1e3*pn.s+("L"in pn?pn.L:0));if(Kt&&!("Z"in pn)&&(pn.Z=0),"p"in pn&&(pn.H=pn.H%12+12*pn.p),void 0===pn.m&&(pn.m="q"in pn?pn.q:0),"V"in pn){if(pn.V<1||pn.V>53)return null;"w"in pn||(pn.w=1),"Z"in pn?(An=(Tn=i(u(pn.y,0,1))).getUTCDay(),Tn=An>4||0===An?C.l6.ceil(Tn):(0,C.l6)(Tn),Tn=E.Z.offset(Tn,7*(pn.V-1)),pn.y=Tn.getUTCFullYear(),pn.m=Tn.getUTCMonth(),pn.d=Tn.getUTCDate()+(pn.w+6)%7):(An=(Tn=c(u(pn.y,0,1))).getDay(),Tn=An>4||0===An?f.wA.ceil(Tn):(0,f.wA)(Tn),Tn=S.Z.offset(Tn,7*(pn.V-1)),pn.y=Tn.getFullYear(),pn.m=Tn.getMonth(),pn.d=Tn.getDate()+(pn.w+6)%7)}else("W"in pn||"U"in pn)&&("w"in pn||(pn.w="u"in pn?pn.u%7:"W"in pn?1:0),An="Z"in pn?i(u(pn.y,0,1)).getUTCDay():c(u(pn.y,0,1)).getDay(),pn.m=0,pn.d="W"in pn?(pn.w+6)%7+7*pn.W-(An+5)%7:pn.w+7*pn.U-(An+6)%7);return"Z"in pn?(pn.H+=pn.Z/100|0,pn.M+=pn.Z%100,i(pn)):c(pn)}}function Qt(Jt,Kt,ln,Tn){for(var An,pn,Nn=0,tr=Kt.length,On=ln.length;Nn<tr;){if(Tn>=On)return-1;if(37===(An=Kt.charCodeAt(Nn++))){if(An=Kt.charAt(Nn++),!(pn=kt[An in d?Kt.charAt(Nn++):An])||(Tn=pn(Jt,ln,Tn))<0)return-1}else if(An!=ln.charCodeAt(Tn++))return-1}return Tn}return Tt.x=Ht(Ut,Tt),Tt.X=Ht(Vt,Tt),Tt.c=Ht(Bt,Tt),Mt.x=Ht(Ut,Mt),Mt.X=Ht(Vt,Mt),Mt.c=Ht(Bt,Mt),{format:function(Jt){var Kt=Ht(Jt+="",Tt);return Kt.toString=function(){return Jt},Kt},parse:function(Jt){var Kt=qt(Jt+="",!1);return Kt.toString=function(){return Jt},Kt},utcFormat:function(Jt){var Kt=Ht(Jt+="",Mt);return Kt.toString=function(){return Jt},Kt},utcParse:function(Jt){var Kt=qt(Jt+="",!0);return Kt.toString=function(){return Jt},Kt}}}var o,l,s,d={"-":"",_:" ",0:"0"},g=/^\s*\d+/,p=/^%/,T=/[\\^$*+?|[\]().{}]/g;function _(Pt,Bt,Ut){var Vt=Pt<0?"-":"",tn=(Vt?-Pt:Pt)+"",Gt=tn.length;return Vt+(Gt<Ut?new Array(Ut-Gt+1).join(Bt)+tn:tn)}function y(Pt){return Pt.replace(T,"\\$&")}function w(Pt){return new RegExp("^(?:"+Pt.map(y).join("|")+")","i")}function m(Pt){for(var Bt={},Ut=-1,Vt=Pt.length;++Ut<Vt;)Bt[Pt[Ut].toLowerCase()]=Ut;return Bt}function b(Pt,Bt,Ut){var Vt=g.exec(Bt.slice(Ut,Ut+1));return Vt?(Pt.w=+Vt[0],Ut+Vt[0].length):-1}function k(Pt,Bt,Ut){var Vt=g.exec(Bt.slice(Ut,Ut+1));return Vt?(Pt.u=+Vt[0],Ut+Vt[0].length):-1}function h(Pt,Bt,Ut){var Vt=g.exec(Bt.slice(Ut,Ut+2));return Vt?(Pt.U=+Vt[0],Ut+Vt[0].length):-1}function O(Pt,Bt,Ut){var Vt=g.exec(Bt.slice(Ut,Ut+2));return Vt?(Pt.V=+Vt[0],Ut+Vt[0].length):-1}function A(Pt,Bt,Ut){var Vt=g.exec(Bt.slice(Ut,Ut+2));return Vt?(Pt.W=+Vt[0],Ut+Vt[0].length):-1}function I(Pt,Bt,Ut){var Vt=g.exec(Bt.slice(Ut,Ut+4));return Vt?(Pt.y=+Vt[0],Ut+Vt[0].length):-1}function P(Pt,Bt,Ut){var Vt=g.exec(Bt.slice(Ut,Ut+2));return Vt?(Pt.y=+Vt[0]+(+Vt[0]>68?1900:2e3),Ut+Vt[0].length):-1}function L(Pt,Bt,Ut){var Vt=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Bt.slice(Ut,Ut+6));return Vt?(Pt.Z=Vt[1]?0:-(Vt[2]+(Vt[3]||"00")),Ut+Vt[0].length):-1}function N(Pt,Bt,Ut){var Vt=g.exec(Bt.slice(Ut,Ut+1));return Vt?(Pt.q=3*Vt[0]-3,Ut+Vt[0].length):-1}function B(Pt,Bt,Ut){var Vt=g.exec(Bt.slice(Ut,Ut+2));return Vt?(Pt.m=Vt[0]-1,Ut+Vt[0].length):-1}function W(Pt,Bt,Ut){var Vt=g.exec(Bt.slice(Ut,Ut+2));return Vt?(Pt.d=+Vt[0],Ut+Vt[0].length):-1}function j(Pt,Bt,Ut){var Vt=g.exec(Bt.slice(Ut,Ut+3));return Vt?(Pt.m=0,Pt.d=+Vt[0],Ut+Vt[0].length):-1}function Z(Pt,Bt,Ut){var Vt=g.exec(Bt.slice(Ut,Ut+2));return Vt?(Pt.H=+Vt[0],Ut+Vt[0].length):-1}function V(Pt,Bt,Ut){var Vt=g.exec(Bt.slice(Ut,Ut+2));return Vt?(Pt.M=+Vt[0],Ut+Vt[0].length):-1}function q(Pt,Bt,Ut){var Vt=g.exec(Bt.slice(Ut,Ut+2));return Vt?(Pt.S=+Vt[0],Ut+Vt[0].length):-1}function G(Pt,Bt,Ut){var Vt=g.exec(Bt.slice(Ut,Ut+3));return Vt?(Pt.L=+Vt[0],Ut+Vt[0].length):-1}function H(Pt,Bt,Ut){var Vt=g.exec(Bt.slice(Ut,Ut+6));return Vt?(Pt.L=Math.floor(Vt[0]/1e3),Ut+Vt[0].length):-1}function ne(Pt,Bt,Ut){var Vt=p.exec(Bt.slice(Ut,Ut+1));return Vt?Ut+Vt[0].length:-1}function X(Pt,Bt,Ut){var Vt=g.exec(Bt.slice(Ut));return Vt?(Pt.Q=+Vt[0],Ut+Vt[0].length):-1}function $(Pt,Bt,Ut){var Vt=g.exec(Bt.slice(Ut));return Vt?(Pt.s=+Vt[0],Ut+Vt[0].length):-1}function Q(Pt,Bt){return _(Pt.getDate(),Bt,2)}function te(Pt,Bt){return _(Pt.getHours(),Bt,2)}function re(Pt,Bt){return _(Pt.getHours()%12||12,Bt,2)}function le(Pt,Bt){return _(1+S.Z.count((0,M.Z)(Pt),Pt),Bt,3)}function ue(Pt,Bt){return _(Pt.getMilliseconds(),Bt,3)}function he(Pt,Bt){return ue(Pt,Bt)+"000"}function ge(Pt,Bt){return _(Pt.getMonth()+1,Bt,2)}function xe(Pt,Bt){return _(Pt.getMinutes(),Bt,2)}function ke(Pt,Bt){return _(Pt.getSeconds(),Bt,2)}function Ae(Pt){var Bt=Pt.getDay();return 0===Bt?7:Bt}function pe(Pt,Bt){return _(f.OM.count((0,M.Z)(Pt)-1,Pt),Bt,2)}function ye(Pt,Bt){var Ut=Pt.getDay();return Pt=Ut>=4||0===Ut?(0,f.bL)(Pt):f.bL.ceil(Pt),_(f.bL.count((0,M.Z)(Pt),Pt)+(4===(0,M.Z)(Pt).getDay()),Bt,2)}function Ne(Pt){return Pt.getDay()}function be(Pt,Bt){return _(f.wA.count((0,M.Z)(Pt)-1,Pt),Bt,2)}function Ee(Pt,Bt){return _(Pt.getFullYear()%100,Bt,2)}function Oe(Pt,Bt){return _(Pt.getFullYear()%1e4,Bt,4)}function De(Pt){var Bt=Pt.getTimezoneOffset();return(Bt>0?"-":(Bt*=-1,"+"))+_(Bt/60|0,"0",2)+_(Bt%60,"0",2)}function oe(Pt,Bt){return _(Pt.getUTCDate(),Bt,2)}function de(Pt,Bt){return _(Pt.getUTCHours(),Bt,2)}function _e(Pt,Bt){return _(Pt.getUTCHours()%12||12,Bt,2)}function Me(Pt,Bt){return _(1+E.Z.count((0,v.Z)(Pt),Pt),Bt,3)}function Pe(Pt,Bt){return _(Pt.getUTCMilliseconds(),Bt,3)}function Ue(Pt,Bt){return Pe(Pt,Bt)+"000"}function Be(Pt,Bt){return _(Pt.getUTCMonth()+1,Bt,2)}function Ve(Pt,Bt){return _(Pt.getUTCMinutes(),Bt,2)}function ve(Pt,Bt){return _(Pt.getUTCSeconds(),Bt,2)}function Te(Pt){var Bt=Pt.getUTCDay();return 0===Bt?7:Bt}function Ce(Pt,Bt){return _(C.Ox.count((0,v.Z)(Pt)-1,Pt),Bt,2)}function We(Pt,Bt){var Ut=Pt.getUTCDay();return Pt=Ut>=4||0===Ut?(0,C.hB)(Pt):C.hB.ceil(Pt),_(C.hB.count((0,v.Z)(Pt),Pt)+(4===(0,v.Z)(Pt).getUTCDay()),Bt,2)}function Ke(Pt){return Pt.getUTCDay()}function Je(Pt,Bt){return _(C.l6.count((0,v.Z)(Pt)-1,Pt),Bt,2)}function ht(Pt,Bt){return _(Pt.getUTCFullYear()%100,Bt,2)}function ft(Pt,Bt){return _(Pt.getUTCFullYear()%1e4,Bt,4)}function mt(){return"+0000"}function At(){return"%"}function Rt(Pt){return+Pt}function It(Pt){return Math.floor(+Pt/1e3)}o=a({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),l=o.format,s=o.utcFormat},82301:function(ie,z,r){"use strict";r.d(z,{a:function(){return S}});var C=r(30052),E=r(54263),f=(0,C.Z)(function(M){M.setHours(0,0,0,0)},function(M,v){M.setDate(M.getDate()+v)},function(M,v){return(v-M-(v.getTimezoneOffset()-M.getTimezoneOffset())*E.yB)/E.UD},function(M){return M.getDate()-1});z.Z=f;var S=f.range},54263:function(ie,z,r){"use strict";r.d(z,{UD:function(){return S},Y2:function(){return f},Ym:function(){return C},iM:function(){return M},yB:function(){return E}});var C=1e3,E=6e4,f=36e5,S=864e5,M=6048e5},81041:function(ie,z,r){"use strict";r.r(z),r.d(z,{timeDay:function(){return g.Z},timeDays:function(){return g.a},timeFriday:function(){return p.mC},timeFridays:function(){return p.b$},timeHour:function(){return s},timeHours:function(){return d},timeInterval:function(){return C.Z},timeMillisecond:function(){return f},timeMilliseconds:function(){return S},timeMinute:function(){return a},timeMinutes:function(){return o},timeMonday:function(){return p.wA},timeMondays:function(){return p.bJ},timeMonth:function(){return _},timeMonths:function(){return y},timeSaturday:function(){return p.EY},timeSaturdays:function(){return p.Ff},timeSecond:function(){return c},timeSeconds:function(){return i},timeSunday:function(){return p.OM},timeSundays:function(){return p.vm},timeThursday:function(){return p.bL},timeThursdays:function(){return p.$t},timeTuesday:function(){return p.sy},timeTuesdays:function(){return p.aU},timeWednesday:function(){return p.zg},timeWednesdays:function(){return p.Ld},timeWeek:function(){return p.OM},timeWeeks:function(){return p.vm},timeYear:function(){return w.Z},timeYears:function(){return w.g},utcDay:function(){return I.Z},utcDays:function(){return I.y},utcFriday:function(){return P.QQ},utcFridays:function(){return P.fz},utcHour:function(){return O},utcHours:function(){return A},utcMillisecond:function(){return f},utcMilliseconds:function(){return S},utcMinute:function(){return b},utcMinutes:function(){return k},utcMonday:function(){return P.l6},utcMondays:function(){return P.$3},utcMonth:function(){return N},utcMonths:function(){return B},utcSaturday:function(){return P.g4},utcSaturdays:function(){return P.Q_},utcSecond:function(){return c},utcSeconds:function(){return i},utcSunday:function(){return P.Ox},utcSundays:function(){return P.SU},utcThursday:function(){return P.hB},utcThursdays:function(){return P.xj},utcTuesday:function(){return P.J1},utcTuesdays:function(){return P.DK},utcWednesday:function(){return P.b3},utcWednesdays:function(){return P.uy},utcWeek:function(){return P.Ox},utcWeeks:function(){return P.SU},utcYear:function(){return W.Z},utcYears:function(){return W.D}});var C=r(30052),E=(0,C.Z)(function(){},function(j,Z){j.setTime(+j+Z)},function(j,Z){return Z-j});E.every=function(j){return j=Math.floor(j),isFinite(j)&&j>0?j>1?(0,C.Z)(function(Z){Z.setTime(Math.floor(Z/j)*j)},function(Z,V){Z.setTime(+Z+V*j)},function(Z,V){return(V-Z)/j}):E:null};var f=E,S=E.range,M=r(54263),v=(0,C.Z)(function(j){j.setTime(j-j.getMilliseconds())},function(j,Z){j.setTime(+j+Z*M.Ym)},function(j,Z){return(Z-j)/M.Ym},function(j){return j.getUTCSeconds()}),c=v,i=v.range,u=(0,C.Z)(function(j){j.setTime(j-j.getMilliseconds()-j.getSeconds()*M.Ym)},function(j,Z){j.setTime(+j+Z*M.yB)},function(j,Z){return(Z-j)/M.yB},function(j){return j.getMinutes()}),a=u,o=u.range,l=(0,C.Z)(function(j){j.setTime(j-j.getMilliseconds()-j.getSeconds()*M.Ym-j.getMinutes()*M.yB)},function(j,Z){j.setTime(+j+Z*M.Y2)},function(j,Z){return(Z-j)/M.Y2},function(j){return j.getHours()}),s=l,d=l.range,g=r(82301),p=r(59879),T=(0,C.Z)(function(j){j.setDate(1),j.setHours(0,0,0,0)},function(j,Z){j.setMonth(j.getMonth()+Z)},function(j,Z){return Z.getMonth()-j.getMonth()+12*(Z.getFullYear()-j.getFullYear())},function(j){return j.getMonth()}),_=T,y=T.range,w=r(34823),m=(0,C.Z)(function(j){j.setUTCSeconds(0,0)},function(j,Z){j.setTime(+j+Z*M.yB)},function(j,Z){return(Z-j)/M.yB},function(j){return j.getUTCMinutes()}),b=m,k=m.range,h=(0,C.Z)(function(j){j.setUTCMinutes(0,0,0)},function(j,Z){j.setTime(+j+Z*M.Y2)},function(j,Z){return(Z-j)/M.Y2},function(j){return j.getUTCHours()}),O=h,A=h.range,I=r(48480),P=r(58176),L=(0,C.Z)(function(j){j.setUTCDate(1),j.setUTCHours(0,0,0,0)},function(j,Z){j.setUTCMonth(j.getUTCMonth()+Z)},function(j,Z){return Z.getUTCMonth()-j.getUTCMonth()+12*(Z.getUTCFullYear()-j.getUTCFullYear())},function(j){return j.getUTCMonth()}),N=L,B=L.range,W=r(79791)},30052:function(ie,z,r){"use strict";r.d(z,{Z:function(){return f}});var C=new Date,E=new Date;function f(S,M,v,c){function i(u){return S(u=0===arguments.length?new Date:new Date(+u)),u}return i.floor=function(u){return S(u=new Date(+u)),u},i.ceil=function(u){return S(u=new Date(u-1)),M(u,1),S(u),u},i.round=function(u){var a=i(u),o=i.ceil(u);return u-a<o-u?a:o},i.offset=function(u,a){return M(u=new Date(+u),null==a?1:Math.floor(a)),u},i.range=function(u,a,o){var l,s=[];if(u=i.ceil(u),o=null==o?1:Math.floor(o),!(u<a&&o>0))return s;do{s.push(l=new Date(+u)),M(u,o),S(u)}while(l<u&&u<a);return s},i.filter=function(u){return f(function(a){if(a>=a)for(;S(a),!u(a);)a.setTime(a-1)},function(a,o){if(a>=a)if(o<0)for(;++o<=0;)for(;M(a,-1),!u(a););else for(;--o>=0;)for(;M(a,1),!u(a););})},v&&(i.count=function(u,a){return C.setTime(+u),E.setTime(+a),S(C),S(E),Math.floor(v(C,E))},i.every=function(u){return u=Math.floor(u),isFinite(u)&&u>0?u>1?i.filter(c?function(a){return c(a)%u==0}:function(a){return i.count(0,a)%u==0}):i:null}),i}},48480:function(ie,z,r){"use strict";r.d(z,{y:function(){return S}});var C=r(30052),E=r(54263),f=(0,C.Z)(function(M){M.setUTCHours(0,0,0,0)},function(M,v){M.setUTCDate(M.getUTCDate()+v)},function(M,v){return(v-M)/E.UD},function(M){return M.getUTCDate()-1});z.Z=f;var S=f.range},58176:function(ie,z,r){"use strict";r.d(z,{$3:function(){return l},DK:function(){return s},J1:function(){return v},Ox:function(){return S},QQ:function(){return u},Q_:function(){return T},SU:function(){return o},b3:function(){return c},fz:function(){return p},g4:function(){return a},hB:function(){return i},l6:function(){return M},uy:function(){return d},xj:function(){return g}});var C=r(30052),E=r(54263);function f(_){return(0,C.Z)(function(y){y.setUTCDate(y.getUTCDate()-(y.getUTCDay()+7-_)%7),y.setUTCHours(0,0,0,0)},function(y,w){y.setUTCDate(y.getUTCDate()+7*w)},function(y,w){return(w-y)/E.iM})}var S=f(0),M=f(1),v=f(2),c=f(3),i=f(4),u=f(5),a=f(6),o=S.range,l=M.range,s=v.range,d=c.range,g=i.range,p=u.range,T=a.range},79791:function(ie,z,r){"use strict";r.d(z,{D:function(){return f}});var C=r(30052),E=(0,C.Z)(function(S){S.setUTCMonth(0,1),S.setUTCHours(0,0,0,0)},function(S,M){S.setUTCFullYear(S.getUTCFullYear()+M)},function(S,M){return M.getUTCFullYear()-S.getUTCFullYear()},function(S){return S.getUTCFullYear()});E.every=function(S){return isFinite(S=Math.floor(S))&&S>0?(0,C.Z)(function(M){M.setUTCFullYear(Math.floor(M.getUTCFullYear()/S)*S),M.setUTCMonth(0,1),M.setUTCHours(0,0,0,0)},function(M,v){M.setUTCFullYear(M.getUTCFullYear()+v*S)}):null},z.Z=E;var f=E.range},59879:function(ie,z,r){"use strict";r.d(z,{$t:function(){return g},EY:function(){return a},Ff:function(){return T},Ld:function(){return d},OM:function(){return S},aU:function(){return s},b$:function(){return p},bJ:function(){return l},bL:function(){return i},mC:function(){return u},sy:function(){return v},vm:function(){return o},wA:function(){return M},zg:function(){return c}});var C=r(30052),E=r(54263);function f(_){return(0,C.Z)(function(y){y.setDate(y.getDate()-(y.getDay()+7-_)%7),y.setHours(0,0,0,0)},function(y,w){y.setDate(y.getDate()+7*w)},function(y,w){return(w-y-(w.getTimezoneOffset()-y.getTimezoneOffset())*E.yB)/E.iM})}var S=f(0),M=f(1),v=f(2),c=f(3),i=f(4),u=f(5),a=f(6),o=S.range,l=M.range,s=v.range,d=c.range,g=i.range,p=u.range,T=a.range},34823:function(ie,z,r){"use strict";r.d(z,{g:function(){return f}});var C=r(30052),E=(0,C.Z)(function(S){S.setMonth(0,1),S.setHours(0,0,0,0)},function(S,M){S.setFullYear(S.getFullYear()+M)},function(S,M){return M.getFullYear()-S.getFullYear()},function(S){return S.getFullYear()});E.every=function(S){return isFinite(S=Math.floor(S))&&S>0?(0,C.Z)(function(M){M.setFullYear(Math.floor(M.getFullYear()/S)*S),M.setMonth(0,1),M.setHours(0,0,0,0)},function(M,v){M.setFullYear(M.getFullYear()+v*S)}):null},z.Z=E;var f=E.range},17045:function(ie,z,r){"use strict";var C=r(8709),E="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),f=Object.prototype.toString,S=Array.prototype.concat,M=Object.defineProperty,v=M&&function(){var u={};try{for(var a in M(u,"x",{enumerable:!1,value:u}),u)return!1;return u.x===u}catch{return!1}}(),c=function(u,a,o,l){var s;(!(a in u)||"function"==typeof(s=l)&&"[object Function]"===f.call(s)&&l())&&(v?M(u,a,{configurable:!0,enumerable:!1,value:o,writable:!0}):u[a]=o)},i=function(u,a){var o=arguments.length>2?arguments[2]:{},l=C(a);E&&(l=S.call(l,Object.getOwnPropertySymbols(a)));for(var s=0;s<l.length;s+=1)c(u,l[s],a[l[s]],o[l[s]])};i.supportsDescriptors=!!v,ie.exports=i},46775:function(ie){ie.exports=function(){for(var z=0;z<arguments.length;z++)if(void 0!==arguments[z])return arguments[z]}},53545:function(ie){"use strict";ie.exports=C;var z=(C.canvas=document.createElement("canvas")).getContext("2d"),r=E([32,126]);function C(f,S){Array.isArray(f)&&(f=f.join(", "));var M,v={},c=16,i=.05;S&&(2===S.length&&"number"==typeof S[0]?M=E(S):Array.isArray(S)?M=S:(S.o?M=E(S.o):S.pairs&&(M=S.pairs),S.fontSize&&(c=S.fontSize),null!=S.threshold&&(i=S.threshold))),M||(M=r),z.font=c+"px "+f;for(var u=0;u<M.length;u++){var a=M[u],o=z.measureText(a[0]).width+z.measureText(a[1]).width,l=z.measureText(a).width;Math.abs(o-l)>c*i&&(v[a]=(l-o)/c*1e3)}return v}function E(f){for(var S=[],M=f[0];M<=f[1];M++)for(var v=String.fromCharCode(M),c=f[0];c<f[1];c++){var i=v+String.fromCharCode(c);S.push(i)}return S}C.createPairs=E,C.ascii=r},31457:function(ie,z,r){var C=r(65185),E=r(18625),f={M:"moveTo",C:"bezierCurveTo"};ie.exports=function(S,M){S.beginPath(),E(C(M)).forEach(function(v){var c=v[0],i=v.slice(1);S[f[c]].apply(S,i)}),S.closePath()}},90660:function(ie){ie.exports=function(z){switch(z){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},12129:function(ie){"use strict";function z(r,C,E){var f=0|r[E];if(f<=0)return[];var S,M=new Array(f);if(E===r.length-1)for(S=0;S<f;++S)M[S]=C;else for(S=0;S<f;++S)M[S]=z(r,C,E+1);return M}ie.exports=function(r,C){switch(void 0===C&&(C=0),typeof r){case"number":if(r>0)return function(E,f){var S,M;for(S=new Array(E),M=0;M<E;++M)S[M]=f;return S}(0|r,C);break;case"object":if("number"==typeof r.length)return z(r,C,0)}return[]}},11474:function(ie){"use strict";function z(O,A,I){I=I||2;var P,L,N,B,W,j,Z,V=A&&A.length,q=V?A[0]*I:O.length,G=r(O,0,q,I,!0),H=[];if(!G||G.next===G.prev)return H;if(V&&(G=function(X,$,Q,te){var re,le,ue,he=[];for(re=0,le=$.length;re<le;re++)(ue=r(X,$[re]*te,re<le-1?$[re+1]*te:X.length,te,!1))===ue.next&&(ue.steiner=!0),he.push(o(ue));for(he.sort(c),re=0;re<he.length;re++)i(he[re],Q),Q=C(Q,Q.next);return Q}(O,A,G,I)),O.length>80*I){P=N=O[0],L=B=O[1];for(var ne=I;ne<q;ne+=I)(W=O[ne])<P&&(P=W),(j=O[ne+1])<L&&(L=j),W>N&&(N=W),j>B&&(B=j);Z=0!==(Z=Math.max(N-P,B-L))?1/Z:0}return E(G,H,I,P,L,Z),H}function r(O,A,I,P,L){var N,B;if(L===h(O,A,I,P)>0)for(N=A;N<I;N+=P)B=m(N,O[N],O[N+1],B);else for(N=I-P;N>=A;N-=P)B=m(N,O[N],O[N+1],B);return B&&g(B,B.next)&&(b(B),B=B.next),B}function C(O,A){if(!O)return O;A||(A=O);var I,P=O;do{if(I=!1,P.steiner||!g(P,P.next)&&0!==d(P.prev,P,P.next))P=P.next;else{if(b(P),(P=A=P.prev)===P.next)break;I=!0}}while(I||P!==A);return A}function E(O,A,I,P,L,N,B){if(O){!B&&N&&function(V,q,G,H){var ne=V;do{null===ne.z&&(ne.z=a(ne.x,ne.y,q,G,H)),ne.prevZ=ne.prev,ne.nextZ=ne.next,ne=ne.next}while(ne!==V);ne.prevZ.nextZ=null,ne.prevZ=null,function(X){var $,Q,te,re,le,ue,he,ge,xe=1;do{for(Q=X,X=null,le=null,ue=0;Q;){for(ue++,te=Q,he=0,$=0;$<xe&&(he++,te=te.nextZ);$++);for(ge=xe;he>0||ge>0&&te;)0!==he&&(0===ge||!te||Q.z<=te.z)?(re=Q,Q=Q.nextZ,he--):(re=te,te=te.nextZ,ge--),le?le.nextZ=re:X=re,re.prevZ=le,le=re;Q=te}le.nextZ=null,xe*=2}while(ue>1)}(ne)}(O,P,L,N);for(var W,j,Z=O;O.prev!==O.next;)if(W=O.prev,j=O.next,N?S(O,P,L,N):f(O))A.push(W.i/I),A.push(O.i/I),A.push(j.i/I),b(O),O=j.next,Z=j.next;else if((O=j)===Z){B?1===B?E(O=M(C(O),A,I),A,I,P,L,N,2):2===B&&v(O,A,I,P,L,N):E(C(O),A,I,P,L,N,1);break}}}function f(O){var A=O.prev,I=O,P=O.next;if(d(A,I,P)>=0)return!1;for(var L=O.next.next;L!==O.prev;){if(l(A.x,A.y,I.x,I.y,P.x,P.y,L.x,L.y)&&d(L.prev,L,L.next)>=0)return!1;L=L.next}return!0}function S(O,A,I,P){var L=O.prev,N=O,B=O.next;if(d(L,N,B)>=0)return!1;for(var Z=L.x>N.x?L.x>B.x?L.x:B.x:N.x>B.x?N.x:B.x,V=L.y>N.y?L.y>B.y?L.y:B.y:N.y>B.y?N.y:B.y,q=a(L.x<N.x?L.x<B.x?L.x:B.x:N.x<B.x?N.x:B.x,L.y<N.y?L.y<B.y?L.y:B.y:N.y<B.y?N.y:B.y,A,I,P),G=a(Z,V,A,I,P),H=O.prevZ,ne=O.nextZ;H&&H.z>=q&&ne&&ne.z<=G;){if(H!==O.prev&&H!==O.next&&l(L.x,L.y,N.x,N.y,B.x,B.y,H.x,H.y)&&d(H.prev,H,H.next)>=0||(H=H.prevZ,ne!==O.prev&&ne!==O.next&&l(L.x,L.y,N.x,N.y,B.x,B.y,ne.x,ne.y)&&d(ne.prev,ne,ne.next)>=0))return!1;ne=ne.nextZ}for(;H&&H.z>=q;){if(H!==O.prev&&H!==O.next&&l(L.x,L.y,N.x,N.y,B.x,B.y,H.x,H.y)&&d(H.prev,H,H.next)>=0)return!1;H=H.prevZ}for(;ne&&ne.z<=G;){if(ne!==O.prev&&ne!==O.next&&l(L.x,L.y,N.x,N.y,B.x,B.y,ne.x,ne.y)&&d(ne.prev,ne,ne.next)>=0)return!1;ne=ne.nextZ}return!0}function M(O,A,I){var P=O;do{var L=P.prev,N=P.next.next;!g(L,N)&&p(L,P,P.next,N)&&y(L,N)&&y(N,L)&&(A.push(L.i/I),A.push(P.i/I),A.push(N.i/I),b(P),b(P.next),P=O=N),P=P.next}while(P!==O);return C(P)}function v(O,A,I,P,L,N){var B=O;do{for(var W=B.next.next;W!==B.prev;){if(B.i!==W.i&&s(B,W)){var j=w(B,W);return B=C(B,B.next),j=C(j,j.next),E(B,A,I,P,L,N),void E(j,A,I,P,L,N)}W=W.next}B=B.next}while(B!==O)}function c(O,A){return O.x-A.x}function i(O,A){if(A=function(P,L){var N,B=L,W=P.x,j=P.y,Z=-1/0;do{if(j<=B.y&&j>=B.next.y&&B.next.y!==B.y){var V=B.x+(j-B.y)*(B.next.x-B.x)/(B.next.y-B.y);if(V<=W&&V>Z){if(Z=V,V===W){if(j===B.y)return B;if(j===B.next.y)return B.next}N=B.x<B.next.x?B:B.next}}B=B.next}while(B!==L);if(!N)return null;if(W===Z)return N;var q,G=N,H=N.x,ne=N.y,X=1/0;B=N;do{W>=B.x&&B.x>=H&&W!==B.x&&l(j<ne?W:Z,j,H,ne,j<ne?Z:W,j,B.x,B.y)&&(q=Math.abs(j-B.y)/(W-B.x),y(B,P)&&(q<X||q===X&&(B.x>N.x||B.x===N.x&&u(N,B)))&&(N=B,X=q)),B=B.next}while(B!==G);return N}(O,A)){var I=w(A,O);C(A,A.next),C(I,I.next)}}function u(O,A){return d(O.prev,O,A.prev)<0&&d(A.next,O,O.next)<0}function a(O,A,I,P,L){return(O=1431655765&((O=858993459&((O=252645135&((O=16711935&((O=32767*(O-I)*L)|O<<8))|O<<4))|O<<2))|O<<1))|(A=1431655765&((A=858993459&((A=252645135&((A=16711935&((A=32767*(A-P)*L)|A<<8))|A<<4))|A<<2))|A<<1))<<1}function o(O){var A=O,I=O;do{(A.x<I.x||A.x===I.x&&A.y<I.y)&&(I=A),A=A.next}while(A!==O);return I}function l(O,A,I,P,L,N,B,W){return(L-B)*(A-W)-(O-B)*(N-W)>=0&&(O-B)*(P-W)-(I-B)*(A-W)>=0&&(I-B)*(N-W)-(L-B)*(P-W)>=0}function s(O,A){return O.next.i!==A.i&&O.prev.i!==A.i&&!function(I,P){var L=I;do{if(L.i!==I.i&&L.next.i!==I.i&&L.i!==P.i&&L.next.i!==P.i&&p(L,L.next,I,P))return!0;L=L.next}while(L!==I);return!1}(O,A)&&(y(O,A)&&y(A,O)&&function(I,P){var L=I,N=!1,B=(I.x+P.x)/2,W=(I.y+P.y)/2;do{L.y>W!=L.next.y>W&&L.next.y!==L.y&&B<(L.next.x-L.x)*(W-L.y)/(L.next.y-L.y)+L.x&&(N=!N),L=L.next}while(L!==I);return N}(O,A)&&(d(O.prev,O,A.prev)||d(O,A.prev,A))||g(O,A)&&d(O.prev,O,O.next)>0&&d(A.prev,A,A.next)>0)}function d(O,A,I){return(A.y-O.y)*(I.x-A.x)-(A.x-O.x)*(I.y-A.y)}function g(O,A){return O.x===A.x&&O.y===A.y}function p(O,A,I,P){var L=_(d(O,A,I)),N=_(d(O,A,P)),B=_(d(I,P,O)),W=_(d(I,P,A));return L!==N&&B!==W||!(0!==L||!T(O,I,A))||!(0!==N||!T(O,P,A))||!(0!==B||!T(I,O,P))||!(0!==W||!T(I,A,P))}function T(O,A,I){return A.x<=Math.max(O.x,I.x)&&A.x>=Math.min(O.x,I.x)&&A.y<=Math.max(O.y,I.y)&&A.y>=Math.min(O.y,I.y)}function _(O){return O>0?1:O<0?-1:0}function y(O,A){return d(O.prev,O,O.next)<0?d(O,A,O.next)>=0&&d(O,O.prev,A)>=0:d(O,A,O.prev)<0||d(O,O.next,A)<0}function w(O,A){var I=new k(O.i,O.x,O.y),P=new k(A.i,A.x,A.y),L=O.next,N=A.prev;return O.next=A,A.prev=O,I.next=L,L.prev=I,P.next=I,I.prev=P,N.next=P,P.prev=N,P}function m(O,A,I,P){var L=new k(O,A,I);return P?(L.next=P.next,L.prev=P,P.next.prev=L,P.next=L):(L.prev=L,L.next=L),L}function b(O){O.next.prev=O.prev,O.prev.next=O.next,O.prevZ&&(O.prevZ.nextZ=O.nextZ),O.nextZ&&(O.nextZ.prevZ=O.prevZ)}function k(O,A,I){this.i=O,this.x=A,this.y=I,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function h(O,A,I,P){for(var L=0,N=A,B=I-P;N<I;N+=P)L+=(O[B]-O[N])*(O[N+1]+O[B+1]),B=N;return L}ie.exports=z,ie.exports.default=z,z.deviation=function(O,A,I,P){var L=A&&A.length,B=Math.abs(h(O,0,L?A[0]*I:O.length,I));if(L)for(var W=0,j=A.length;W<j;W++)B-=Math.abs(h(O,A[W]*I,W<j-1?A[W+1]*I:O.length,I));var q=0;for(W=0;W<P.length;W+=3){var G=P[W]*I,H=P[W+1]*I,ne=P[W+2]*I;q+=Math.abs((O[G]-O[ne])*(O[H+1]-O[G+1])-(O[G]-O[H])*(O[ne+1]-O[G+1]))}return 0===B&&0===q?0:Math.abs((q-B)/B)},z.flatten=function(O){for(var A=O[0][0].length,I={vertices:[],holes:[],dimensions:A},P=0,L=0;L<O.length;L++){for(var N=0;N<O[L].length;N++)for(var B=0;B<A;B++)I.vertices.push(O[L][N][B]);L>0&&I.holes.push(P+=O[L-1].length)}return I}},2502:function(ie,z,r){var C=r(68664);ie.exports=function(E,f){var S,M=[],v=[],c=[],i={},u=[];function a(y){c[y]=!1,i.hasOwnProperty(y)&&Object.keys(i[y]).forEach(function(w){delete i[y][w],c[w]&&a(w)})}function o(y){var w,m,b=!1;for(v.push(y),c[y]=!0,w=0;w<u[y].length;w++)(m=u[y][w])===S?(l(S,v),b=!0):c[m]||(b=o(m));if(b)a(y);else for(w=0;w<u[y].length;w++){var k=i[m=u[y][w]];k||(i[m]=k={}),k[m]=!0}return v.pop(),b}function l(y,w){var m=[].concat(w).concat(y);f?f(o):M.push(m)}function s(y){!function(I){for(var P=0;P<E.length;P++)P<I&&(E[P]=[]),E[P]=E[P].filter(function(L){return L>=I})}(y);for(var w,m=C(E).components.filter(function(I){return I.length>1}),b=1/0,k=0;k<m.length;k++)for(var h=0;h<m[k].length;h++)m[k][h]<b&&(b=m[k][h],w=k);var O=m[w];return!!O&&{leastVertex:b,adjList:E.map(function(I,P){return-1===O.indexOf(P)?[]:I.filter(function(L){return-1!==O.indexOf(L)})})}}S=0;for(var d=E.length;S<d;){var g=s(S);if(S=g.leastVertex,u=g.adjList){for(var p=0;p<u.length;p++)for(var T=0;T<u[p].length;T++){var _=u[p][T];c[+_]=!1,i[_]={}}o(S),S+=1}else S=d}return f?void 0:M}},72943:function(ie,z,r){"use strict";var C,E=TypeError,f=Object.getOwnPropertyDescriptor;if(f)try{f({},"")}catch{f=null}var S=function(){throw new E},M=f?function(){try{return S}catch{try{return f(arguments,"callee").get}catch{return S}}}():S,v=r(57877)(),c=Object.getPrototypeOf||function(p){return p.__proto__},i=C,u=typeof Uint8Array>"u"?C:c(Uint8Array),a={"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?C:ArrayBuffer,"%ArrayBufferPrototype%":typeof ArrayBuffer>"u"?C:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":v?c([][Symbol.iterator]()):C,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":C,"%AsyncFunction%":void 0,"%AsyncFunctionPrototype%":C,"%AsyncGenerator%":C,"%AsyncGeneratorFunction%":void 0,"%AsyncGeneratorPrototype%":C,"%AsyncIteratorPrototype%":i&&v&&Symbol.asyncIterator?i[Symbol.asyncIterator]():C,"%Atomics%":typeof Atomics>"u"?C:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":typeof DataView>"u"?C:DataView,"%DataViewPrototype%":typeof DataView>"u"?C:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":typeof Float32Array>"u"?C:Float32Array,"%Float32ArrayPrototype%":typeof Float32Array>"u"?C:Float32Array.prototype,"%Float64Array%":typeof Float64Array>"u"?C:Float64Array,"%Float64ArrayPrototype%":typeof Float64Array>"u"?C:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":C,"%GeneratorFunction%":void 0,"%GeneratorPrototype%":C,"%Int8Array%":typeof Int8Array>"u"?C:Int8Array,"%Int8ArrayPrototype%":typeof Int8Array>"u"?C:Int8Array.prototype,"%Int16Array%":typeof Int16Array>"u"?C:Int16Array,"%Int16ArrayPrototype%":typeof Int16Array>"u"?C:Int8Array.prototype,"%Int32Array%":typeof Int32Array>"u"?C:Int32Array,"%Int32ArrayPrototype%":typeof Int32Array>"u"?C:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":v?c(c([][Symbol.iterator]())):C,"%JSON%":"object"==typeof JSON?JSON:C,"%JSONParse%":"object"==typeof JSON?JSON.parse:C,"%Map%":typeof Map>"u"?C:Map,"%MapIteratorPrototype%":typeof Map<"u"&&v?c((new Map)[Symbol.iterator]()):C,"%MapPrototype%":typeof Map>"u"?C:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?C:Promise,"%PromisePrototype%":typeof Promise>"u"?C:Promise.prototype,"%PromiseProto_then%":typeof Promise>"u"?C:Promise.prototype.then,"%Promise_all%":typeof Promise>"u"?C:Promise.all,"%Promise_reject%":typeof Promise>"u"?C:Promise.reject,"%Promise_resolve%":typeof Promise>"u"?C:Promise.resolve,"%Proxy%":typeof Proxy>"u"?C:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":typeof Reflect>"u"?C:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":typeof Set>"u"?C:Set,"%SetIteratorPrototype%":typeof Set<"u"&&v?c((new Set)[Symbol.iterator]()):C,"%SetPrototype%":typeof Set>"u"?C:Set.prototype,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?C:SharedArrayBuffer,"%SharedArrayBufferPrototype%":typeof SharedArrayBuffer>"u"?C:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":v?c(""[Symbol.iterator]()):C,"%StringPrototype%":String.prototype,"%Symbol%":v?Symbol:C,"%SymbolPrototype%":v?Symbol.prototype:C,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":M,"%TypedArray%":u,"%TypedArrayPrototype%":u?u.prototype:C,"%TypeError%":E,"%TypeErrorPrototype%":E.prototype,"%Uint8Array%":typeof Uint8Array>"u"?C:Uint8Array,"%Uint8ArrayPrototype%":typeof Uint8Array>"u"?C:Uint8Array.prototype,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?C:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":typeof Uint8ClampedArray>"u"?C:Uint8ClampedArray.prototype,"%Uint16Array%":typeof Uint16Array>"u"?C:Uint16Array,"%Uint16ArrayPrototype%":typeof Uint16Array>"u"?C:Uint16Array.prototype,"%Uint32Array%":typeof Uint32Array>"u"?C:Uint32Array,"%Uint32ArrayPrototype%":typeof Uint32Array>"u"?C:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":typeof WeakMap>"u"?C:WeakMap,"%WeakMapPrototype%":typeof WeakMap>"u"?C:WeakMap.prototype,"%WeakSet%":typeof WeakSet>"u"?C:WeakSet,"%WeakSetPrototype%":typeof WeakSet>"u"?C:WeakSet.prototype},o=r(77575).call(Function.call,String.prototype.replace),l=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,s=/\\(\\)?/g,d=function(p){var T=[];return o(p,l,function(_,y,w,m){T[T.length]=w?o(m,s,"$1"):y||_}),T},g=function(p,T){if(!(p in a))throw new SyntaxError("intrinsic "+p+" does not exist!");if(void 0===a[p]&&!T)throw new E("intrinsic "+p+" exists, but is not available. Please file an issue!");return a[p]};ie.exports=function(p,T){if("string"!=typeof p||0===p.length)throw new TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof T)throw new TypeError('"allowMissing" argument must be a boolean');for(var _=d(p),y=g("%"+(_.length>0?_[0]:"")+"%",T),w=1;w<_.length;w+=1)if(null!=y)if(f&&w+1>=_.length){var m=f(y,_[w]);if(!T&&!(_[w]in y))throw new E("base intrinsic for "+p+" exists, but the property is not available.");y=m?m.get||m.value:y[_[w]]}else y=y[_[w]];return y}},84671:function(ie,z,r){"use strict";var C=r(77575),E=r(72943)("%Function%"),f=E.apply,S=E.call;ie.exports=function(){return C.apply(S,arguments)},ie.exports.apply=function(){return C.apply(f,arguments)}},92978:function(ie,z,r){"use strict";var C=r(72943),E=r(84671),f=E(C("String.prototype.indexOf"));ie.exports=function(S,M){var v=C(S,!!M);return"function"==typeof v&&f(S,".prototype.")?E(v):v}},67295:function(ie,z,r){"use strict";var C=r(72943)("%Object.getOwnPropertyDescriptor%");if(C)try{C([],"length")}catch{C=null}ie.exports=C},16134:function(ie,z,r){"use strict";var C=r(36672);ie.exports=function(){return C(this).length=0,this}},4892:function(ie,z,r){"use strict";ie.exports=r(64404)()?Array.from:r(49441)},64404:function(ie){"use strict";ie.exports=function(){var z,r,C=Array.from;return"function"==typeof C&&(r=C(z=["raz","dwa"]),Boolean(r&&r!==z&&"dwa"===r[1]))}},49441:function(ie,z,r){"use strict";var C=r(8260).iterator,E=r(73051),f=r(33717),S=r(35976),M=r(78513),v=r(36672),c=r(95296),i=r(87963),u=Array.isArray,a=Function.prototype.call,o={configurable:!0,enumerable:!0,writable:!0,value:null},l=Object.defineProperty;ie.exports=function(s){var d,g,p,T,_,y,w,m,b,k,h=arguments[1],O=arguments[2];if(s=Object(v(s)),c(h)&&M(h),this&&this!==Array&&f(this))d=this;else{if(!h){if(E(s))return 1!==(_=s.length)?Array.apply(null,s):((T=new Array(1))[0]=s[0],T);if(u(s)){for(T=new Array(_=s.length),g=0;g<_;++g)T[g]=s[g];return T}}T=[]}if(!u(s))if(void 0!==(b=s[C])){for(w=M(b).call(s),d&&(T=new d),m=w.next(),g=0;!m.done;)k=h?a.call(h,O,m.value,g):m.value,d?(o.value=k,l(T,g,o)):T[g]=k,m=w.next(),++g;_=g}else if(i(s)){for(_=s.length,d&&(T=new d),g=0,p=0;g<_;++g)k=s[g],g+1<_&&(y=k.charCodeAt(0))>=55296&&y<=56319&&(k+=s[++g]),k=h?a.call(h,O,k,p):k,d?(o.value=k,l(T,p,o)):T[p]=k,++p;_=p}if(void 0===_)for(_=S(s.length),d&&(T=new d(_)),g=0;g<_;++g)k=h?a.call(h,O,s[g],g):s[g],d?(o.value=k,l(T,g,o)):T[g]=k;return d&&(o.value=null,T.length=_),T}},73051:function(ie){"use strict";var z=Object.prototype.toString,r=z.call(function(){return arguments}());ie.exports=function(C){return z.call(C)===r}},33717:function(ie){"use strict";var z=Object.prototype.toString,r=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);ie.exports=function(C){return"function"==typeof C&&r(z.call(C))}},52345:function(ie){"use strict";ie.exports=function(){}},9953:function(ie,z,r){"use strict";ie.exports=r(90436)()?Math.sign:r(6069)},90436:function(ie){"use strict";ie.exports=function(){var z=Math.sign;return"function"==typeof z&&1===z(10)&&-1===z(-20)}},6069:function(ie){"use strict";ie.exports=function(z){return z=Number(z),isNaN(z)||0===z?z:z>0?1:-1}},56247:function(ie,z,r){"use strict";var C=r(9953),E=Math.abs,f=Math.floor;ie.exports=function(S){return isNaN(S)?0:0!==(S=Number(S))&&isFinite(S)?C(S)*f(E(S)):S}},35976:function(ie,z,r){"use strict";var C=r(56247),E=Math.max;ie.exports=function(f){return E(0,C(f))}},67260:function(ie,z,r){"use strict";var C=r(78513),E=r(36672),f=Function.prototype.bind,S=Function.prototype.call,M=Object.keys,v=Object.prototype.propertyIsEnumerable;ie.exports=function(c,i){return function(u,a){var o,l=arguments[2],s=arguments[3];return u=Object(E(u)),C(a),o=M(u),s&&o.sort("function"==typeof s?f.call(s,u):void 0),"function"!=typeof c&&(c=o[c]),S.call(c,o,function(d,g){return v.call(u,d)?S.call(a,l,u[d],d,u,g):i})}}},95879:function(ie,z,r){"use strict";ie.exports=r(73583)()?Object.assign:r(34205)},73583:function(ie){"use strict";ie.exports=function(){var z,r=Object.assign;return"function"==typeof r&&(r(z={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),z.foo+z.bar+z.trzy==="razdwatrzy")}},34205:function(ie,z,r){"use strict";var C=r(68700),E=r(36672),f=Math.max;ie.exports=function(S,M){var v,c,i,u=f(arguments.length,2);for(S=Object(E(S)),i=function(a){try{S[a]=M[a]}catch(o){v||(v=o)}},c=1;c<u;++c)C(M=arguments[c]).forEach(i);if(void 0!==v)throw v;return S}},19012:function(ie,z,r){"use strict";var C=r(4892),E=r(95879),f=r(36672);ie.exports=function(S){var M=Object(f(S)),v=arguments[1],c=Object(arguments[2]);if(M!==S&&!v)return M;var i={};return v?C(v,function(u){(c.ensure||u in S)&&(i[u]=S[u])}):E(i,S),i}},52818:function(ie,z,r){"use strict";var C,E,f,S,M=Object.create;r(33247)()||(C=r(51882)),ie.exports=C?1!==C.level?M:(E={},f={},S={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(v){f[v]="__proto__"!==v?S:{configurable:!0,enumerable:!1,writable:!0,value:void 0}}),Object.defineProperties(E,f),Object.defineProperty(C,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:E}),function(v,c){return M(null===v?E:v,c)}):M},96437:function(ie,z,r){"use strict";ie.exports=r(67260)("forEach")},99611:function(ie,z,r){"use strict";var C=r(95296),E={function:!0,object:!0};ie.exports=function(f){return C(f)&&E[typeof f]||!1}},95296:function(ie,z,r){"use strict";var C=r(52345)();ie.exports=function(E){return E!==C&&null!==E}},68700:function(ie,z,r){"use strict";ie.exports=r(13895)()?Object.keys:r(25217)},13895:function(ie){"use strict";ie.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},25217:function(ie,z,r){"use strict";var C=r(95296),E=Object.keys;ie.exports=function(f){return E(C(f)?Object(f):f)}},16906:function(ie,z,r){"use strict";var C=r(78513),E=r(96437),f=Function.prototype.call;ie.exports=function(S,M){var v={},c=arguments[2];return C(M),E(S,function(i,u,a,o){v[u]=f.call(M,c,i,u,a,o)}),v}},21780:function(ie,z,r){"use strict";var C=r(95296),E=Array.prototype.forEach,f=Object.create,S=function(M,v){var c;for(c in M)v[c]=M[c]};ie.exports=function(M){var v=f(null);return E.call(arguments,function(c){C(c)&&S(Object(c),v)}),v}},1496:function(ie,z,r){"use strict";ie.exports=r(33247)()?Object.setPrototypeOf:r(51882)},33247:function(ie){"use strict";var z=Object.create,r=Object.getPrototypeOf,C={};ie.exports=function(){var E=Object.setPrototypeOf;return"function"==typeof E&&r(E((arguments[0]||z)(null),C))===C}},51882:function(ie,z,r){"use strict";var C,E,f,S,M=r(99611),v=r(36672),c=Object.prototype.isPrototypeOf,i=Object.defineProperty,u={configurable:!0,enumerable:!1,writable:!0,value:void 0};C=function(a,o){if(v(a),null===o||M(o))return a;throw new TypeError("Prototype must be null or an object")},ie.exports=(E=function(){var a,o=Object.create(null),l={},s=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(s){try{(a=s.set).call(o,l)}catch{}if(Object.getPrototypeOf(o)===l)return{set:a,level:2}}return o.__proto__=l,Object.getPrototypeOf(o)===l?{level:2}:((o={}).__proto__=l,Object.getPrototypeOf(o)===l&&{level:1})}())?(2===E.level?E.set?(S=E.set,f=function(a,o){return S.call(C(a,o),o),a}):f=function(a,o){return C(a,o).__proto__=o,a}:f=function a(o,l){var s;return C(o,l),(s=c.call(a.nullPolyfill,o))&&delete a.nullPolyfill.__proto__,null===l&&(l=a.nullPolyfill),o.__proto__=l,s&&i(a.nullPolyfill,"__proto__",u),o},Object.defineProperty(f,"level",{configurable:!1,enumerable:!1,writable:!1,value:E.level})):null,r(52818)},78513:function(ie){"use strict";ie.exports=function(z){if("function"!=typeof z)throw new TypeError(z+" is not a function");return z}},98976:function(ie,z,r){"use strict";var C=r(99611);ie.exports=function(E){if(!C(E))throw new TypeError(E+" is not an Object");return E}},36672:function(ie,z,r){"use strict";var C=r(95296);ie.exports=function(E){if(!C(E))throw new TypeError("Cannot use null or undefined");return E}},66741:function(ie,z,r){"use strict";ie.exports=r(17557)()?String.prototype.contains:r(60381)},17557:function(ie){"use strict";var z="razdwatrzy";ie.exports=function(){return"function"==typeof z.contains&&!0===z.contains("dwa")&&!1===z.contains("foo")}},60381:function(ie){"use strict";var z=String.prototype.indexOf;ie.exports=function(r){return z.call(this,r,arguments[1])>-1}},87963:function(ie){"use strict";var z=Object.prototype.toString,r=z.call("");ie.exports=function(C){return"string"==typeof C||C&&"object"==typeof C&&(C instanceof String||z.call(C)===r)||!1}},43043:function(ie){"use strict";var z=Object.create(null),r=Math.random;ie.exports=function(){var C;do{C=r().toString(36).slice(2)}while(z[C]);return C}},32411:function(ie,z,r){"use strict";var C,E=r(1496),f=r(66741),S=r(62072),M=r(8260),v=r(95426),c=Object.defineProperty;C=ie.exports=function(i,u){if(!(this instanceof C))throw new TypeError("Constructor requires 'new'");v.call(this,i),u=u?f.call(u,"key+value")?"key+value":f.call(u,"key")?"key":"value":"value",c(this,"__kind__",S("",u))},E&&E(C,v),delete C.prototype.constructor,C.prototype=Object.create(v.prototype,{_resolve:S(function(i){return"value"===this.__kind__?this.__list__[i]:"key+value"===this.__kind__?[i,this.__list__[i]]:i})}),c(C.prototype,M.toStringTag,S("c","Array Iterator"))},27515:function(ie,z,r){"use strict";var C=r(73051),E=r(78513),f=r(87963),S=r(66661),M=Array.isArray,v=Function.prototype.call,c=Array.prototype.some;ie.exports=function(i,u){var a,o,l,s,d,g,p,T,_=arguments[2];if(M(i)||C(i)?a="array":f(i)?a="string":i=S(i),E(u),l=function(){s=!0},"array"!==a)if("string"!==a)for(o=i.next();!o.done;){if(v.call(u,_,o.value,l),s)return;o=i.next()}else for(g=i.length,d=0;d<g&&(p=i[d],d+1<g&&(T=p.charCodeAt(0))>=55296&&T<=56319&&(p+=i[++d]),v.call(u,_,p,l),!s);++d);else c.call(i,function(y){return v.call(u,_,y,l),s})}},66661:function(ie,z,r){"use strict";var C=r(73051),E=r(87963),f=r(32411),S=r(259),M=r(58095),v=r(8260).iterator;ie.exports=function(c){return"function"==typeof M(c)[v]?c[v]():C(c)?new f(c):E(c)?new S(c):new f(c)}},95426:function(ie,z,r){"use strict";var C,E=r(16134),f=r(95879),S=r(78513),M=r(36672),v=r(62072),c=r(55174),i=r(8260),u=Object.defineProperty,a=Object.defineProperties;ie.exports=C=function(o,l){if(!(this instanceof C))throw new TypeError("Constructor requires 'new'");a(this,{__list__:v("w",M(o)),__context__:v("w",l),__nextIndex__:v("w",0)}),l&&(S(l.on),l.on("_add",this._onAdd),l.on("_delete",this._onDelete),l.on("_clear",this._onClear))},delete C.prototype.constructor,a(C.prototype,f({_next:v(function(){var o;if(this.__list__)return this.__redo__&&void 0!==(o=this.__redo__.shift())?o:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:v(function(){return this._createResult(this._next())}),_createResult:v(function(o){return void 0===o?{done:!0,value:void 0}:{done:!1,value:this._resolve(o)}}),_resolve:v(function(o){return this.__list__[o]}),_unBind:v(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:v(function(){return"[object "+(this[i.toStringTag]||"Object")+"]"})},c({_onAdd:v(function(o){o>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach(function(l,s){l>=o&&(this.__redo__[s]=++l)},this),this.__redo__.push(o)):u(this,"__redo__",v("c",[o])))}),_onDelete:v(function(o){var l;o>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(l=this.__redo__.indexOf(o))&&this.__redo__.splice(l,1),this.__redo__.forEach(function(s,d){s>o&&(this.__redo__[d]=--s)},this)))}),_onClear:v(function(){this.__redo__&&E.call(this.__redo__),this.__nextIndex__=0})}))),u(C.prototype,i.iterator,v(function(){return this}))},35940:function(ie,z,r){"use strict";var C=r(73051),E=r(95296),f=r(87963),S=r(8260).iterator,M=Array.isArray;ie.exports=function(v){return!(!E(v)||!M(v)&&!f(v)&&!C(v)&&"function"!=typeof v[S])}},259:function(ie,z,r){"use strict";var C,E=r(1496),f=r(62072),S=r(8260),M=r(95426),v=Object.defineProperty;C=ie.exports=function(c){if(!(this instanceof C))throw new TypeError("Constructor requires 'new'");c=String(c),M.call(this,c),v(this,"__length__",f("",c.length))},E&&E(C,M),delete C.prototype.constructor,C.prototype=Object.create(M.prototype,{_next:f(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:f(function(c){var i,u=this.__list__[c];return this.__nextIndex__===this.__length__?u:(i=u.charCodeAt(0))>=55296&&i<=56319?u+this.__list__[this.__nextIndex__++]:u})}),v(C.prototype,S.toStringTag,f("c","String Iterator"))},58095:function(ie,z,r){"use strict";var C=r(35940);ie.exports=function(E){if(!C(E))throw new TypeError(E+" is not iterable");return E}},73523:function(ie){"use strict";function z(r,C){if(null==r)throw new TypeError("Cannot convert first argument to object");for(var E=Object(r),f=1;f<arguments.length;f++){var S=arguments[f];if(null!=S)for(var M=Object.keys(Object(S)),v=0,c=M.length;v<c;v++){var i=M[v],u=Object.getOwnPropertyDescriptor(S,i);void 0!==u&&u.enumerable&&(E[i]=S[i])}}return E}ie.exports={assign:z,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:z})}}},8260:function(ie,z,r){"use strict";ie.exports=r(69711)()?r(94908).Symbol:r(18415)},69711:function(ie,z,r){"use strict";var C=r(94908),E={object:!0,symbol:!0};ie.exports=function(){var f,S=C.Symbol;if("function"!=typeof S)return!1;f=S("test symbol");try{String(f)}catch{return!1}return!!E[typeof S.iterator]&&!!E[typeof S.toPrimitive]&&!!E[typeof S.toStringTag]}},82276:function(ie){"use strict";ie.exports=function(z){return!!z&&("symbol"==typeof z||!!z.constructor&&"Symbol"===z.constructor.name&&"Symbol"===z[z.constructor.toStringTag])}},29366:function(ie,z,r){"use strict";var C=r(62072),f=Object.defineProperty,S=Object.prototype,M=(0,Object.create)(null);ie.exports=function(v){for(var c,i,u=0;M[v+(u||"")];)++u;return M[v+=u||""]=!0,f(S,c="@@"+v,C.gs(null,function(a){i||(i=!0,f(this,c,C(a)),i=!1)})),c}},92842:function(ie,z,r){"use strict";var C=r(62072),E=r(94908).Symbol;ie.exports=function(f){return Object.defineProperties(f,{hasInstance:C("",E&&E.hasInstance||f("hasInstance")),isConcatSpreadable:C("",E&&E.isConcatSpreadable||f("isConcatSpreadable")),iterator:C("",E&&E.iterator||f("iterator")),match:C("",E&&E.match||f("match")),replace:C("",E&&E.replace||f("replace")),search:C("",E&&E.search||f("search")),species:C("",E&&E.species||f("species")),split:C("",E&&E.split||f("split")),toPrimitive:C("",E&&E.toPrimitive||f("toPrimitive")),toStringTag:C("",E&&E.toStringTag||f("toStringTag")),unscopables:C("",E&&E.unscopables||f("unscopables"))})}},13304:function(ie,z,r){"use strict";var C=r(62072),E=r(53308),f=Object.create(null);ie.exports=function(S){return Object.defineProperties(S,{for:C(function(M){return f[M]?f[M]:f[M]=S(String(M))}),keyFor:C(function(M){var v;for(v in E(M),f)if(f[v]===M)return v})})}},18415:function(ie,z,r){"use strict";var C,E,f,S=r(62072),M=r(53308),v=r(94908).Symbol,c=r(29366),i=r(92842),u=r(13304),a=Object.create,o=Object.defineProperties,l=Object.defineProperty;if("function"==typeof v)try{String(v()),f=!0}catch{}else v=null;E=function(s){if(this instanceof E)throw new TypeError("Symbol is not a constructor");return C(s)},ie.exports=C=function s(d){var g;if(this instanceof s)throw new TypeError("Symbol is not a constructor");return f?v(d):(g=a(E.prototype),d=void 0===d?"":String(d),o(g,{__description__:S("",d),__name__:S("",c(d))}))},i(C),u(C),o(E.prototype,{constructor:S(C),toString:S("",function(){return this.__name__})}),o(C.prototype,{toString:S(function(){return"Symbol ("+M(this).__description__+")"}),valueOf:S(function(){return M(this)})}),l(C.prototype,C.toPrimitive,S("",function(){var s=M(this);return"symbol"==typeof s?s:s.toString()})),l(C.prototype,C.toStringTag,S("c","Symbol")),l(E.prototype,C.toStringTag,S("c",C.prototype[C.toStringTag])),l(E.prototype,C.toPrimitive,S("c",C.prototype[C.toPrimitive]))},53308:function(ie,z,r){"use strict";var C=r(82276);ie.exports=function(E){if(!C(E))throw new TypeError(E+" is not a symbol");return E}},83522:function(ie,z,r){"use strict";ie.exports=r(96402)()?WeakMap:r(329)},96402:function(ie){"use strict";ie.exports=function(){var z,r;if("function"!=typeof WeakMap)return!1;try{z=new WeakMap([[r={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return"[object WeakMap]"===String(z)&&"function"==typeof z.set&&z.set({},1)===z&&"function"==typeof z.delete&&"function"==typeof z.has&&"one"===z.get(r)}},96416:function(ie){"use strict";ie.exports="function"==typeof WeakMap&&"[object WeakMap]"===Object.prototype.toString.call(new WeakMap)},329:function(ie,z,r){"use strict";var C,E=r(95296),f=r(1496),S=r(98976),M=r(36672),v=r(43043),c=r(62072),i=r(66661),u=r(27515),a=r(8260).toStringTag,o=r(96416),l=Array.isArray,s=Object.defineProperty,d=Object.prototype.hasOwnProperty,g=Object.getPrototypeOf;ie.exports=C=function(){var p,T=arguments[0];if(!(this instanceof C))throw new TypeError("Constructor requires 'new'");return p=o&&f&&WeakMap!==C?f(new WeakMap,g(this)):this,E(T)&&(l(T)||(T=i(T))),s(p,"__weakMapData__",c("c","$weakMap$"+v())),T&&u(T,function(_){M(_),p.set(_[0],_[1])}),p},o&&(f&&f(C,WeakMap),C.prototype=Object.create(WeakMap.prototype,{constructor:c(C)})),Object.defineProperties(C.prototype,{delete:c(function(p){return!!d.call(S(p),this.__weakMapData__)&&(delete p[this.__weakMapData__],!0)}),get:c(function(p){if(d.call(S(p),this.__weakMapData__))return p[this.__weakMapData__]}),has:c(function(p){return d.call(S(p),this.__weakMapData__)}),set:c(function(p,T){return s(S(p),this.__weakMapData__,c("c",T)),this}),toString:c(function(){return"[object WeakMap]"})}),s(C.prototype,a,c("c","WeakMap"))},15398:function(ie){"use strict";var z,r="object"==typeof Reflect?Reflect:null,C=r&&"function"==typeof r.apply?r.apply:function(d,g,p){return Function.prototype.apply.call(d,g,p)};z=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(d){return Object.getOwnPropertyNames(d).concat(Object.getOwnPropertySymbols(d))}:function(d){return Object.getOwnPropertyNames(d)};var E=Number.isNaN||function(d){return d!=d};function f(){f.init.call(this)}ie.exports=f,ie.exports.once=function(d,g){return new Promise(function(p,T){function _(w){d.removeListener(g,y),T(w)}function y(){"function"==typeof d.removeListener&&d.removeListener("error",_),p([].slice.call(arguments))}var w;s(d,g,y,{once:!0}),"error"!==g&&("function"==typeof(w=d).on&&s(w,"error",_,{once:!0}))})},f.EventEmitter=f,f.prototype._events=void 0,f.prototype._eventsCount=0,f.prototype._maxListeners=void 0;var S=10;function M(d){if("function"!=typeof d)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof d)}function v(d){return void 0===d._maxListeners?f.defaultMaxListeners:d._maxListeners}function c(d,g,p,T){var _,y,w;if(M(p),void 0===(y=d._events)?(y=d._events=Object.create(null),d._eventsCount=0):(void 0!==y.newListener&&(d.emit("newListener",g,p.listener?p.listener:p),y=d._events),w=y[g]),void 0===w)w=y[g]=p,++d._eventsCount;else if("function"==typeof w?w=y[g]=T?[p,w]:[w,p]:T?w.unshift(p):w.push(p),(_=v(d))>0&&w.length>_&&!w.warned){w.warned=!0;var b=new Error("Possible EventEmitter memory leak detected. "+w.length+" "+String(g)+" listeners added. Use emitter.setMaxListeners() to increase limit");b.name="MaxListenersExceededWarning",b.emitter=d,b.type=g,b.count=w.length,console&&console.warn&&console.warn(b)}return d}function i(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(d,g,p){var T={fired:!1,wrapFn:void 0,target:d,type:g,listener:p},_=i.bind(T);return _.listener=p,T.wrapFn=_,_}function a(d,g,p){var T=d._events;if(void 0===T)return[];var _=T[g];return void 0===_?[]:"function"==typeof _?p?[_.listener||_]:[_]:p?function(y){for(var w=new Array(y.length),m=0;m<w.length;++m)w[m]=y[m].listener||y[m];return w}(_):l(_,_.length)}function o(d){var g=this._events;if(void 0!==g){var p=g[d];if("function"==typeof p)return 1;if(void 0!==p)return p.length}return 0}function l(d,g){for(var p=new Array(g),T=0;T<g;++T)p[T]=d[T];return p}function s(d,g,p,T){if("function"==typeof d.on)T.once?d.once(g,p):d.on(g,p);else{if("function"!=typeof d.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof d);d.addEventListener(g,function _(y){T.once&&d.removeEventListener(g,_),p(y)})}}Object.defineProperty(f,"defaultMaxListeners",{enumerable:!0,get:function(){return S},set:function(d){if("number"!=typeof d||d<0||E(d))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+d+".");S=d}}),f.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},f.prototype.setMaxListeners=function(d){if("number"!=typeof d||d<0||E(d))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+d+".");return this._maxListeners=d,this},f.prototype.getMaxListeners=function(){return v(this)},f.prototype.emit=function(d){for(var g=[],p=1;p<arguments.length;p++)g.push(arguments[p]);var T="error"===d,_=this._events;if(void 0!==_)T=T&&void 0===_.error;else if(!T)return!1;if(T){var y;if(g.length>0&&(y=g[0]),y instanceof Error)throw y;var w=new Error("Unhandled error."+(y?" ("+y.message+")":""));throw w.context=y,w}var m=_[d];if(void 0===m)return!1;if("function"==typeof m)C(m,this,g);else{var b=m.length,k=l(m,b);for(p=0;p<b;++p)C(k[p],this,g)}return!0},f.prototype.on=f.prototype.addListener=function(d,g){return c(this,d,g,!1)},f.prototype.prependListener=function(d,g){return c(this,d,g,!0)},f.prototype.once=function(d,g){return M(g),this.on(d,u(this,d,g)),this},f.prototype.prependOnceListener=function(d,g){return M(g),this.prependListener(d,u(this,d,g)),this},f.prototype.off=f.prototype.removeListener=function(d,g){var p,T,_,y,w;if(M(g),void 0===(T=this._events))return this;if(void 0===(p=T[d]))return this;if(p===g||p.listener===g)0==--this._eventsCount?this._events=Object.create(null):(delete T[d],T.removeListener&&this.emit("removeListener",d,p.listener||g));else if("function"!=typeof p){for(_=-1,y=p.length-1;y>=0;y--)if(p[y]===g||p[y].listener===g){w=p[y].listener,_=y;break}if(_<0)return this;0===_?p.shift():function(m,b){for(;b+1<m.length;b++)m[b]=m[b+1];m.pop()}(p,_),1===p.length&&(T[d]=p[0]),void 0!==T.removeListener&&this.emit("removeListener",d,w||g)}return this},f.prototype.removeAllListeners=function(d){var g,p,T;if(void 0===(p=this._events))return this;if(void 0===p.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==p[d]&&(0==--this._eventsCount?this._events=Object.create(null):delete p[d]),this;if(0===arguments.length){var _,y=Object.keys(p);for(T=0;T<y.length;++T)"removeListener"!==(_=y[T])&&this.removeAllListeners(_);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(g=p[d]))this.removeListener(d,g);else if(void 0!==g)for(T=g.length-1;T>=0;T--)this.removeListener(d,g[T]);return this},f.prototype.listeners=function(d){return a(this,d,!0)},f.prototype.rawListeners=function(d){return a(this,d,!1)},f.listenerCount=function(d,g){return"function"==typeof d.listenerCount?d.listenerCount(g):o.call(d,g)},f.prototype.listenerCount=o,f.prototype.eventNames=function(){return this._eventsCount>0?z(this._events):[]}},60774:function(ie){var z=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};ie.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return z()}try{return __global__||z()}finally{delete Object.prototype.__global__}}()},94908:function(ie,z,r){"use strict";ie.exports=r(51152)()?globalThis:r(60774)},51152:function(ie){"use strict";ie.exports=function(){return"object"==typeof globalThis&&!!globalThis&&globalThis.Array===Array}},92770:function(ie,z,r){"use strict";var C=r(18546);ie.exports=function(E){var f=typeof E;if("string"===f){var S=E;if(0==(E=+E)&&C(S))return!1}else if("number"!==f)return!1;return E-E<1}},30120:function(ie,z,r){var C=r(90660);ie.exports=function(E,f,S){if(!E)throw new TypeError("must specify data as first parameter");if(S=0|+(S||0),Array.isArray(E)&&E[0]&&"number"==typeof E[0][0]){var M,v,c,i,u=E[0].length,a=E.length*u;f&&"string"!=typeof f||(f=new(C(f||"float32"))(a+S));var o=f.length-S;if(a!==o)throw new Error("source length "+a+" ("+u+"x"+E.length+") does not match destination length "+o);for(M=0,c=S;M<E.length;M++)for(v=0;v<u;v++)f[c++]=null===E[M][v]?NaN:E[M][v]}else if(f&&"string"!=typeof f)f.set(E,S);else{var l=C(f||"float32");if(Array.isArray(E)||"array"===f)for(M=0,c=S,i=(f=new l(E.length+S)).length;c<i;c++,M++)f[c]=null===E[M]?NaN:E[M];else 0===S?f=new l(E):(f=new l(E.length+S)).set(E,S)}return f}},68016:function(ie,z,r){"use strict";var C=r(53313),E=[32,126];ie.exports=function(f){var S=(f=f||{}).shape?f.shape:f.canvas?[f.canvas.width,f.canvas.height]:[512,512],M=f.canvas||document.createElement("canvas"),v=f.font,c="number"==typeof f.step?[f.step,f.step]:f.step||[32,32],i=f.chars||E;if(v&&"string"!=typeof v&&(v=C(v)),Array.isArray(i)){if(2===i.length&&"number"==typeof i[0]&&"number"==typeof i[1]){for(var u=[],a=i[0],o=0;a<=i[1];a++)u[o++]=String.fromCharCode(a);i=u}}else i=String(i).split("");S=S.slice(),M.width=S[0],M.height=S[1];var l=M.getContext("2d");l.fillStyle="#000",l.fillRect(0,0,M.width,M.height),l.font=v,l.textAlign="center",l.textBaseline="middle",l.fillStyle="#fff";var s=c[0]/2,d=c[1]/2;for(a=0;a<i.length;a++)l.fillText(i[a],s,d),(s+=c[0])>S[0]-c[0]/2&&(s=c[0]/2,d+=c[1]);return M}},32879:function(ie){"use strict";function z(f,S){S||(S={}),("string"==typeof f||Array.isArray(f))&&(S.family=f);var M=Array.isArray(S.family)?S.family.join(", "):S.family;if(!M)throw Error("`family` must be defined");var v=S.size||S.fontSize||S.em||48,i=(f=[S.style||S.fontStyle||"",S.weight||S.fontWeight||"",v].join(" ")+"px "+M,S.origin||"top");if(z.cache[M]&&v<=z.cache[M].em)return r(z.cache[M],i);var u=S.canvas||z.canvas,a=u.getContext("2d"),o={upper:void 0!==S.upper?S.upper:"H",lower:void 0!==S.lower?S.lower:"x",descent:void 0!==S.descent?S.descent:"p",ascent:void 0!==S.ascent?S.ascent:"h",tittle:void 0!==S.tittle?S.tittle:"i",overshoot:void 0!==S.overshoot?S.overshoot:"O"},l=Math.ceil(1.5*v);u.height=l,u.width=.5*l,a.font=f;var s="H",d={top:0};a.clearRect(0,0,l,l),a.textBaseline="top",a.fillStyle="black",a.fillText(s,0,0);var g=C(a.getImageData(0,0,l,l));a.clearRect(0,0,l,l),a.textBaseline="bottom",a.fillText(s,0,l);var p=C(a.getImageData(0,0,l,l));d.lineHeight=d.bottom=l-p+g,a.clearRect(0,0,l,l),a.textBaseline="alphabetic",a.fillText(s,0,l);var T=l-C(a.getImageData(0,0,l,l))-1+g;d.baseline=d.alphabetic=T,a.clearRect(0,0,l,l),a.textBaseline="middle",a.fillText(s,0,.5*l);var _=C(a.getImageData(0,0,l,l));d.median=d.middle=l-_-1+g-.5*l,a.clearRect(0,0,l,l),a.textBaseline="hanging",a.fillText(s,0,.5*l);var y=C(a.getImageData(0,0,l,l));d.hanging=l-y-1+g-.5*l,a.clearRect(0,0,l,l),a.textBaseline="ideographic",a.fillText(s,0,l);var w=C(a.getImageData(0,0,l,l));if(d.ideographic=l-w-1+g,o.upper&&(a.clearRect(0,0,l,l),a.textBaseline="top",a.fillText(o.upper,0,0),d.upper=C(a.getImageData(0,0,l,l)),d.capHeight=d.baseline-d.upper),o.lower&&(a.clearRect(0,0,l,l),a.textBaseline="top",a.fillText(o.lower,0,0),d.lower=C(a.getImageData(0,0,l,l)),d.xHeight=d.baseline-d.lower),o.tittle&&(a.clearRect(0,0,l,l),a.textBaseline="top",a.fillText(o.tittle,0,0),d.tittle=C(a.getImageData(0,0,l,l))),o.ascent&&(a.clearRect(0,0,l,l),a.textBaseline="top",a.fillText(o.ascent,0,0),d.ascent=C(a.getImageData(0,0,l,l))),o.descent&&(a.clearRect(0,0,l,l),a.textBaseline="top",a.fillText(o.descent,0,0),d.descent=E(a.getImageData(0,0,l,l))),o.overshoot){a.clearRect(0,0,l,l),a.textBaseline="top",a.fillText(o.overshoot,0,0);var m=E(a.getImageData(0,0,l,l));d.overshoot=m-T}for(var b in d)d[b]/=v;return d.em=v,z.cache[M]=d,r(d,i)}function r(f,S){var M={};for(var v in"string"==typeof S&&(S=f[S]),f)"em"!==v&&(M[v]=f[v]-S);return M}function C(f){for(var S=f.height,M=f.data,v=3;v<M.length;v+=4)if(0!==M[v])return Math.floor(.25*(v-3)/S)}function E(f){for(var S=f.height,M=f.data,v=M.length-1;v>0;v-=4)if(0!==M[v])return Math.floor(.25*(v-3)/S)}ie.exports=z,z.canvas=document.createElement("canvas"),z.cache={}},86165:function(ie){var z=Object.prototype.hasOwnProperty,r=Object.prototype.toString;ie.exports=function(C,E,f){if("[object Function]"!==r.call(E))throw new TypeError("iterator must be a function");var S=C.length;if(S===+S)for(var M=0;M<S;M++)E.call(f,C[M],M,C);else for(var v in C)z.call(C,v)&&E.call(f,C[v],v,C)}},73047:function(ie){"use strict";var z="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,C=Object.prototype.toString,E="[object Function]";ie.exports=function(f){var S=this;if("function"!=typeof S||C.call(S)!==E)throw new TypeError(z+S);for(var M,v=r.call(arguments,1),c=function(){if(this instanceof M){var l=S.apply(this,v.concat(r.call(arguments)));return Object(l)===l?l:this}return S.apply(f,v.concat(r.call(arguments)))},i=Math.max(0,S.length-v.length),u=[],a=0;a<i;a++)u.push("$"+a);if(M=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(c),S.prototype){var o=function(){};o.prototype=S.prototype,M.prototype=new o,o.prototype=null}return M}},77575:function(ie,z,r){"use strict";var C=r(73047);ie.exports=Function.prototype.bind||C},86249:function(ie){ie.exports=function(z,r){if("string"!=typeof z)throw new TypeError("must specify type string");if(r=r||{},typeof document>"u"&&!r.canvas)return null;var C=r.canvas||document.createElement("canvas");"number"==typeof r.width&&(C.width=r.width),"number"==typeof r.height&&(C.height=r.height);var E,f=r;try{var S=[z];0===z.indexOf("webgl")&&S.push("experimental-"+z);for(var M=0;M<S.length;M++)if(E=C.getContext(S[M],f))return E}catch{E=null}return E||null}},68318:function(ie,z,r){"use strict";var C,E=SyntaxError,f=Function,S=TypeError,M=function(I){try{return Function('"use strict"; return ('+I+").constructor;")()}catch{}},v=Object.getOwnPropertyDescriptor;if(v)try{v({},"")}catch{v=null}var c=function(){throw new S},i=v?function(){try{return c}catch{try{return v(arguments,"callee").get}catch{return c}}}():c,u=r(57877)(),a=Object.getPrototypeOf||function(I){return I.__proto__},o=M("async function* () {}"),l=o?o.prototype:C,s=l?l.prototype:C,d=typeof Uint8Array>"u"?C:a(Uint8Array),g={"%AggregateError%":typeof AggregateError>"u"?C:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?C:ArrayBuffer,"%ArrayIteratorPrototype%":u?a([][Symbol.iterator]()):C,"%AsyncFromSyncIteratorPrototype%":C,"%AsyncFunction%":M("async function () {}"),"%AsyncGenerator%":l,"%AsyncGeneratorFunction%":o,"%AsyncIteratorPrototype%":s?a(s):C,"%Atomics%":typeof Atomics>"u"?C:Atomics,"%BigInt%":typeof BigInt>"u"?C:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?C:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?C:Float32Array,"%Float64Array%":typeof Float64Array>"u"?C:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?C:FinalizationRegistry,"%Function%":f,"%GeneratorFunction%":M("function* () {}"),"%Int8Array%":typeof Int8Array>"u"?C:Int8Array,"%Int16Array%":typeof Int16Array>"u"?C:Int16Array,"%Int32Array%":typeof Int32Array>"u"?C:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u?a(a([][Symbol.iterator]())):C,"%JSON%":"object"==typeof JSON?JSON:C,"%Map%":typeof Map>"u"?C:Map,"%MapIteratorPrototype%":typeof Map<"u"&&u?a((new Map)[Symbol.iterator]()):C,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?C:Promise,"%Proxy%":typeof Proxy>"u"?C:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?C:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?C:Set,"%SetIteratorPrototype%":typeof Set<"u"&&u?a((new Set)[Symbol.iterator]()):C,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?C:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":u?a(""[Symbol.iterator]()):C,"%Symbol%":u?Symbol:C,"%SyntaxError%":E,"%ThrowTypeError%":i,"%TypedArray%":d,"%TypeError%":S,"%Uint8Array%":typeof Uint8Array>"u"?C:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?C:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?C:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?C:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?C:WeakMap,"%WeakRef%":typeof WeakRef>"u"?C:WeakRef,"%WeakSet%":typeof WeakSet>"u"?C:WeakSet},p={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},T=r(77575),_=r(35065),y=T.call(Function.call,Array.prototype.concat),w=T.call(Function.apply,Array.prototype.splice),m=T.call(Function.call,String.prototype.replace),b=T.call(Function.call,String.prototype.slice),k=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,h=/\\(\\)?/g,O=function(I){var P=b(I,0,1),L=b(I,-1);if("%"===P&&"%"!==L)throw new E("invalid intrinsic syntax, expected closing `%`");if("%"===L&&"%"!==P)throw new E("invalid intrinsic syntax, expected opening `%`");var N=[];return m(I,k,function(B,W,j,Z){N[N.length]=j?m(Z,h,"$1"):W||B}),N},A=function(I,P){var L,N=I;if(_(p,N)&&(N="%"+(L=p[N])[0]+"%"),_(g,N)){var B=g[N];if(void 0===B&&!P)throw new S("intrinsic "+I+" exists, but is not available. Please file an issue!");return{alias:L,name:N,value:B}}throw new E("intrinsic "+I+" does not exist!")};ie.exports=function(I,P){if("string"!=typeof I||0===I.length)throw new S("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof P)throw new S('"allowMissing" argument must be a boolean');var L=O(I),N=L.length>0?L[0]:"",B=A("%"+N+"%",P),W=B.name,j=B.value,Z=!1,V=B.alias;V&&(N=V[0],w(L,y([0,1],V)));for(var q=1,G=!0;q<L.length;q+=1){var H=L[q],ne=b(H,0,1),X=b(H,-1);if(('"'===ne||"'"===ne||"`"===ne||'"'===X||"'"===X||"`"===X)&&ne!==X)throw new E("property names with quotes must have matching quotes");if("constructor"!==H&&G||(Z=!0),_(g,W="%"+(N+="."+H)+"%"))j=g[W];else if(null!=j){if(!(H in j)){if(!P)throw new S("base intrinsic for "+I+" exists, but the property is not available.");return}if(v&&q+1>=L.length){var $=v(j,H);j=(G=!!$)&&"get"in $&&!("originalValue"in $.get)?$.get:j[H]}else G=_(j,H),j=j[H];G&&!Z&&(g[W]=j)}}return j}},85400:function(ie){ie.exports=function(z,r){var C=r[0],E=r[1],f=r[2],S=r[3],M=r[4],v=r[5],c=r[6],i=r[7],u=r[8],a=r[9],o=r[10],l=r[11],s=r[12],d=r[13],g=r[14],p=r[15];return z[0]=v*(o*p-l*g)-a*(c*p-i*g)+d*(c*l-i*o),z[1]=-(E*(o*p-l*g)-a*(f*p-S*g)+d*(f*l-S*o)),z[2]=E*(c*p-i*g)-v*(f*p-S*g)+d*(f*i-S*c),z[3]=-(E*(c*l-i*o)-v*(f*l-S*o)+a*(f*i-S*c)),z[4]=-(M*(o*p-l*g)-u*(c*p-i*g)+s*(c*l-i*o)),z[5]=C*(o*p-l*g)-u*(f*p-S*g)+s*(f*l-S*o),z[6]=-(C*(c*p-i*g)-M*(f*p-S*g)+s*(f*i-S*c)),z[7]=C*(c*l-i*o)-M*(f*l-S*o)+u*(f*i-S*c),z[8]=M*(a*p-l*d)-u*(v*p-i*d)+s*(v*l-i*a),z[9]=-(C*(a*p-l*d)-u*(E*p-S*d)+s*(E*l-S*a)),z[10]=C*(v*p-i*d)-M*(E*p-S*d)+s*(E*i-S*v),z[11]=-(C*(v*l-i*a)-M*(E*l-S*a)+u*(E*i-S*v)),z[12]=-(M*(a*g-o*d)-u*(v*g-c*d)+s*(v*o-c*a)),z[13]=C*(a*g-o*d)-u*(E*g-f*d)+s*(E*o-f*a),z[14]=-(C*(v*g-c*d)-M*(E*g-f*d)+s*(E*c-f*v)),z[15]=C*(v*o-c*a)-M*(E*o-f*a)+u*(E*c-f*v),z}},42331:function(ie){ie.exports=function(z){var r=new Float32Array(16);return r[0]=z[0],r[1]=z[1],r[2]=z[2],r[3]=z[3],r[4]=z[4],r[5]=z[5],r[6]=z[6],r[7]=z[7],r[8]=z[8],r[9]=z[9],r[10]=z[10],r[11]=z[11],r[12]=z[12],r[13]=z[13],r[14]=z[14],r[15]=z[15],r}},31042:function(ie){ie.exports=function(z,r){return z[0]=r[0],z[1]=r[1],z[2]=r[2],z[3]=r[3],z[4]=r[4],z[5]=r[5],z[6]=r[6],z[7]=r[7],z[8]=r[8],z[9]=r[9],z[10]=r[10],z[11]=r[11],z[12]=r[12],z[13]=r[13],z[14]=r[14],z[15]=r[15],z}},11902:function(ie){ie.exports=function(){var z=new Float32Array(16);return z[0]=1,z[1]=0,z[2]=0,z[3]=0,z[4]=0,z[5]=1,z[6]=0,z[7]=0,z[8]=0,z[9]=0,z[10]=1,z[11]=0,z[12]=0,z[13]=0,z[14]=0,z[15]=1,z}},89887:function(ie){ie.exports=function(z){var r=z[0],C=z[1],E=z[2],f=z[3],S=z[4],M=z[5],v=z[6],c=z[7],i=z[8],u=z[9],a=z[10],o=z[11],l=z[12],s=z[13],d=z[14],g=z[15];return(r*M-C*S)*(a*g-o*d)-(r*v-E*S)*(u*g-o*s)+(r*c-f*S)*(u*d-a*s)+(C*v-E*M)*(i*g-o*l)-(C*c-f*M)*(i*d-a*l)+(E*c-f*v)*(i*s-u*l)}},27812:function(ie){ie.exports=function(z,r){var C=r[0],E=r[1],f=r[2],S=r[3],M=C+C,v=E+E,c=f+f,i=C*M,u=E*M,a=E*v,o=f*M,l=f*v,s=f*c,d=S*M,g=S*v,p=S*c;return z[0]=1-a-s,z[1]=u+p,z[2]=o-g,z[3]=0,z[4]=u-p,z[5]=1-i-s,z[6]=l+d,z[7]=0,z[8]=o+g,z[9]=l-d,z[10]=1-i-a,z[11]=0,z[12]=0,z[13]=0,z[14]=0,z[15]=1,z}},34045:function(ie){ie.exports=function(z,r,C){var E,f,S,M=C[0],v=C[1],c=C[2],i=Math.sqrt(M*M+v*v+c*c);return Math.abs(i)<1e-6?null:(M*=i=1/i,v*=i,c*=i,E=Math.sin(r),S=1-(f=Math.cos(r)),z[0]=M*M*S+f,z[1]=v*M*S+c*E,z[2]=c*M*S-v*E,z[3]=0,z[4]=M*v*S-c*E,z[5]=v*v*S+f,z[6]=c*v*S+M*E,z[7]=0,z[8]=M*c*S+v*E,z[9]=v*c*S-M*E,z[10]=c*c*S+f,z[11]=0,z[12]=0,z[13]=0,z[14]=0,z[15]=1,z)}},45973:function(ie){ie.exports=function(z,r,C){var E=r[0],f=r[1],S=r[2],M=r[3],v=E+E,c=f+f,i=S+S,u=E*v,a=E*c,o=E*i,l=f*c,s=f*i,d=S*i,g=M*v,p=M*c,T=M*i;return z[0]=1-(l+d),z[1]=a+T,z[2]=o-p,z[3]=0,z[4]=a-T,z[5]=1-(u+d),z[6]=s+g,z[7]=0,z[8]=o+p,z[9]=s-g,z[10]=1-(u+l),z[11]=0,z[12]=C[0],z[13]=C[1],z[14]=C[2],z[15]=1,z}},81472:function(ie){ie.exports=function(z,r){return z[0]=r[0],z[1]=0,z[2]=0,z[3]=0,z[4]=0,z[5]=r[1],z[6]=0,z[7]=0,z[8]=0,z[9]=0,z[10]=r[2],z[11]=0,z[12]=0,z[13]=0,z[14]=0,z[15]=1,z}},14669:function(ie){ie.exports=function(z,r){return z[0]=1,z[1]=0,z[2]=0,z[3]=0,z[4]=0,z[5]=1,z[6]=0,z[7]=0,z[8]=0,z[9]=0,z[10]=1,z[11]=0,z[12]=r[0],z[13]=r[1],z[14]=r[2],z[15]=1,z}},75262:function(ie){ie.exports=function(z,r){var C=Math.sin(r),E=Math.cos(r);return z[0]=1,z[1]=0,z[2]=0,z[3]=0,z[4]=0,z[5]=E,z[6]=C,z[7]=0,z[8]=0,z[9]=-C,z[10]=E,z[11]=0,z[12]=0,z[13]=0,z[14]=0,z[15]=1,z}},331:function(ie){ie.exports=function(z,r){var C=Math.sin(r),E=Math.cos(r);return z[0]=E,z[1]=0,z[2]=-C,z[3]=0,z[4]=0,z[5]=1,z[6]=0,z[7]=0,z[8]=C,z[9]=0,z[10]=E,z[11]=0,z[12]=0,z[13]=0,z[14]=0,z[15]=1,z}},11049:function(ie){ie.exports=function(z,r){var C=Math.sin(r),E=Math.cos(r);return z[0]=E,z[1]=C,z[2]=0,z[3]=0,z[4]=-C,z[5]=E,z[6]=0,z[7]=0,z[8]=0,z[9]=0,z[10]=1,z[11]=0,z[12]=0,z[13]=0,z[14]=0,z[15]=1,z}},75195:function(ie){ie.exports=function(z,r,C,E,f,S,M){var v=1/(C-r),c=1/(f-E),i=1/(S-M);return z[0]=2*S*v,z[1]=0,z[2]=0,z[3]=0,z[4]=0,z[5]=2*S*c,z[6]=0,z[7]=0,z[8]=(C+r)*v,z[9]=(f+E)*c,z[10]=(M+S)*i,z[11]=-1,z[12]=0,z[13]=0,z[14]=M*S*2*i,z[15]=0,z}},71551:function(ie){ie.exports=function(z){return z[0]=1,z[1]=0,z[2]=0,z[3]=0,z[4]=0,z[5]=1,z[6]=0,z[7]=0,z[8]=0,z[9]=0,z[10]=1,z[11]=0,z[12]=0,z[13]=0,z[14]=0,z[15]=1,z}},79576:function(ie,z,r){ie.exports={create:r(11902),clone:r(42331),copy:r(31042),identity:r(71551),transpose:r(88654),invert:r(95874),adjoint:r(85400),determinant:r(89887),multiply:r(91362),translate:r(31283),scale:r(10789),rotate:r(65074),rotateX:r(35545),rotateY:r(94918),rotateZ:r(15692),fromRotation:r(34045),fromRotationTranslation:r(45973),fromScaling:r(81472),fromTranslation:r(14669),fromXRotation:r(75262),fromYRotation:r(331),fromZRotation:r(11049),fromQuat:r(27812),frustum:r(75195),perspective:r(7864),perspectiveFromFieldOfView:r(35279),ortho:r(60378),lookAt:r(65551),str:r(6726)}},95874:function(ie){ie.exports=function(z,r){var C=r[0],E=r[1],f=r[2],S=r[3],M=r[4],v=r[5],c=r[6],i=r[7],u=r[8],a=r[9],o=r[10],l=r[11],s=r[12],d=r[13],g=r[14],p=r[15],T=C*v-E*M,_=C*c-f*M,y=C*i-S*M,w=E*c-f*v,m=E*i-S*v,b=f*i-S*c,k=u*d-a*s,h=u*g-o*s,O=u*p-l*s,A=a*g-o*d,I=a*p-l*d,P=o*p-l*g,L=T*P-_*I+y*A+w*O-m*h+b*k;return L?(z[0]=(v*P-c*I+i*A)*(L=1/L),z[1]=(f*I-E*P-S*A)*L,z[2]=(d*b-g*m+p*w)*L,z[3]=(o*m-a*b-l*w)*L,z[4]=(c*O-M*P-i*h)*L,z[5]=(C*P-f*O+S*h)*L,z[6]=(g*y-s*b-p*_)*L,z[7]=(u*b-o*y+l*_)*L,z[8]=(M*I-v*O+i*k)*L,z[9]=(E*O-C*I-S*k)*L,z[10]=(s*m-d*y+p*T)*L,z[11]=(a*y-u*m-l*T)*L,z[12]=(v*h-M*A-c*k)*L,z[13]=(C*A-E*h+f*k)*L,z[14]=(d*_-s*w-g*T)*L,z[15]=(u*w-a*_+o*T)*L,z):null}},65551:function(ie,z,r){var C=r(71551);ie.exports=function(E,f,S,M){var v,c,i,u,a,o,l,s,d,g,p=f[0],T=f[1],_=f[2],y=M[0],w=M[1],m=M[2],b=S[0],k=S[1],h=S[2];return Math.abs(p-b)<1e-6&&Math.abs(T-k)<1e-6&&Math.abs(_-h)<1e-6?C(E):(l=p-b,s=T-k,d=_-h,v=w*(d*=g=1/Math.sqrt(l*l+s*s+d*d))-m*(s*=g),c=m*(l*=g)-y*d,i=y*s-w*l,(g=Math.sqrt(v*v+c*c+i*i))?(v*=g=1/g,c*=g,i*=g):(v=0,c=0,i=0),u=s*i-d*c,a=d*v-l*i,o=l*c-s*v,(g=Math.sqrt(u*u+a*a+o*o))?(u*=g=1/g,a*=g,o*=g):(u=0,a=0,o=0),E[0]=v,E[1]=u,E[2]=l,E[3]=0,E[4]=c,E[5]=a,E[6]=s,E[7]=0,E[8]=i,E[9]=o,E[10]=d,E[11]=0,E[12]=-(v*p+c*T+i*_),E[13]=-(u*p+a*T+o*_),E[14]=-(l*p+s*T+d*_),E[15]=1,E)}},91362:function(ie){ie.exports=function(z,r,C){var E=r[0],f=r[1],S=r[2],M=r[3],v=r[4],c=r[5],i=r[6],u=r[7],a=r[8],o=r[9],l=r[10],s=r[11],d=r[12],g=r[13],p=r[14],T=r[15],_=C[0],y=C[1],w=C[2],m=C[3];return z[0]=_*E+y*v+w*a+m*d,z[1]=_*f+y*c+w*o+m*g,z[2]=_*S+y*i+w*l+m*p,z[3]=_*M+y*u+w*s+m*T,z[4]=(_=C[4])*E+(y=C[5])*v+(w=C[6])*a+(m=C[7])*d,z[5]=_*f+y*c+w*o+m*g,z[6]=_*S+y*i+w*l+m*p,z[7]=_*M+y*u+w*s+m*T,z[8]=(_=C[8])*E+(y=C[9])*v+(w=C[10])*a+(m=C[11])*d,z[9]=_*f+y*c+w*o+m*g,z[10]=_*S+y*i+w*l+m*p,z[11]=_*M+y*u+w*s+m*T,z[12]=(_=C[12])*E+(y=C[13])*v+(w=C[14])*a+(m=C[15])*d,z[13]=_*f+y*c+w*o+m*g,z[14]=_*S+y*i+w*l+m*p,z[15]=_*M+y*u+w*s+m*T,z}},60378:function(ie){ie.exports=function(z,r,C,E,f,S,M){var v=1/(r-C),c=1/(E-f),i=1/(S-M);return z[0]=-2*v,z[1]=0,z[2]=0,z[3]=0,z[4]=0,z[5]=-2*c,z[6]=0,z[7]=0,z[8]=0,z[9]=0,z[10]=2*i,z[11]=0,z[12]=(r+C)*v,z[13]=(f+E)*c,z[14]=(M+S)*i,z[15]=1,z}},7864:function(ie){ie.exports=function(z,r,C,E,f){var S=1/Math.tan(r/2),M=1/(E-f);return z[0]=S/C,z[1]=0,z[2]=0,z[3]=0,z[4]=0,z[5]=S,z[6]=0,z[7]=0,z[8]=0,z[9]=0,z[10]=(f+E)*M,z[11]=-1,z[12]=0,z[13]=0,z[14]=2*f*E*M,z[15]=0,z}},35279:function(ie){ie.exports=function(z,r,C,E){var f=Math.tan(r.upDegrees*Math.PI/180),S=Math.tan(r.downDegrees*Math.PI/180),M=Math.tan(r.leftDegrees*Math.PI/180),v=Math.tan(r.rightDegrees*Math.PI/180),c=2/(M+v),i=2/(f+S);return z[0]=c,z[1]=0,z[2]=0,z[3]=0,z[4]=0,z[5]=i,z[6]=0,z[7]=0,z[8]=-(M-v)*c*.5,z[9]=(f-S)*i*.5,z[10]=E/(C-E),z[11]=-1,z[12]=0,z[13]=0,z[14]=E*C/(C-E),z[15]=0,z}},65074:function(ie){ie.exports=function(z,r,C,E){var f,S,M,v,c,i,u,a,o,l,s,d,g,p,T,_,y,w,m,b,k,h,O,A,I=E[0],P=E[1],L=E[2],N=Math.sqrt(I*I+P*P+L*L);return Math.abs(N)<1e-6?null:(I*=N=1/N,P*=N,L*=N,f=Math.sin(C),M=1-(S=Math.cos(C)),c=r[1],i=r[2],u=r[3],o=r[5],l=r[6],s=r[7],g=r[9],p=r[10],T=r[11],m=I*P*M-L*f,b=P*P*M+S,k=L*P*M+I*f,h=I*L*M+P*f,O=P*L*M-I*f,A=L*L*M+S,z[0]=(v=r[0])*(_=I*I*M+S)+(a=r[4])*(y=P*I*M+L*f)+(d=r[8])*(w=L*I*M-P*f),z[1]=c*_+o*y+g*w,z[2]=i*_+l*y+p*w,z[3]=u*_+s*y+T*w,z[4]=v*m+a*b+d*k,z[5]=c*m+o*b+g*k,z[6]=i*m+l*b+p*k,z[7]=u*m+s*b+T*k,z[8]=v*h+a*O+d*A,z[9]=c*h+o*O+g*A,z[10]=i*h+l*O+p*A,z[11]=u*h+s*O+T*A,r!==z&&(z[12]=r[12],z[13]=r[13],z[14]=r[14],z[15]=r[15]),z)}},35545:function(ie){ie.exports=function(z,r,C){var E=Math.sin(C),f=Math.cos(C),S=r[4],M=r[5],v=r[6],c=r[7],i=r[8],u=r[9],a=r[10],o=r[11];return r!==z&&(z[0]=r[0],z[1]=r[1],z[2]=r[2],z[3]=r[3],z[12]=r[12],z[13]=r[13],z[14]=r[14],z[15]=r[15]),z[4]=S*f+i*E,z[5]=M*f+u*E,z[6]=v*f+a*E,z[7]=c*f+o*E,z[8]=i*f-S*E,z[9]=u*f-M*E,z[10]=a*f-v*E,z[11]=o*f-c*E,z}},94918:function(ie){ie.exports=function(z,r,C){var E=Math.sin(C),f=Math.cos(C),S=r[0],M=r[1],v=r[2],c=r[3],i=r[8],u=r[9],a=r[10],o=r[11];return r!==z&&(z[4]=r[4],z[5]=r[5],z[6]=r[6],z[7]=r[7],z[12]=r[12],z[13]=r[13],z[14]=r[14],z[15]=r[15]),z[0]=S*f-i*E,z[1]=M*f-u*E,z[2]=v*f-a*E,z[3]=c*f-o*E,z[8]=S*E+i*f,z[9]=M*E+u*f,z[10]=v*E+a*f,z[11]=c*E+o*f,z}},15692:function(ie){ie.exports=function(z,r,C){var E=Math.sin(C),f=Math.cos(C),S=r[0],M=r[1],v=r[2],c=r[3],i=r[4],u=r[5],a=r[6],o=r[7];return r!==z&&(z[8]=r[8],z[9]=r[9],z[10]=r[10],z[11]=r[11],z[12]=r[12],z[13]=r[13],z[14]=r[14],z[15]=r[15]),z[0]=S*f+i*E,z[1]=M*f+u*E,z[2]=v*f+a*E,z[3]=c*f+o*E,z[4]=i*f-S*E,z[5]=u*f-M*E,z[6]=a*f-v*E,z[7]=o*f-c*E,z}},10789:function(ie){ie.exports=function(z,r,C){var E=C[0],f=C[1],S=C[2];return z[0]=r[0]*E,z[1]=r[1]*E,z[2]=r[2]*E,z[3]=r[3]*E,z[4]=r[4]*f,z[5]=r[5]*f,z[6]=r[6]*f,z[7]=r[7]*f,z[8]=r[8]*S,z[9]=r[9]*S,z[10]=r[10]*S,z[11]=r[11]*S,z[12]=r[12],z[13]=r[13],z[14]=r[14],z[15]=r[15],z}},6726:function(ie){ie.exports=function(z){return"mat4("+z[0]+", "+z[1]+", "+z[2]+", "+z[3]+", "+z[4]+", "+z[5]+", "+z[6]+", "+z[7]+", "+z[8]+", "+z[9]+", "+z[10]+", "+z[11]+", "+z[12]+", "+z[13]+", "+z[14]+", "+z[15]+")"}},31283:function(ie){ie.exports=function(z,r,C){var E,f,S,M,v,c,i,u,a,o,l,s,d=C[0],g=C[1],p=C[2];return r===z?(z[12]=r[0]*d+r[4]*g+r[8]*p+r[12],z[13]=r[1]*d+r[5]*g+r[9]*p+r[13],z[14]=r[2]*d+r[6]*g+r[10]*p+r[14],z[15]=r[3]*d+r[7]*g+r[11]*p+r[15]):(f=r[1],S=r[2],M=r[3],v=r[4],c=r[5],i=r[6],u=r[7],a=r[8],o=r[9],l=r[10],s=r[11],z[0]=E=r[0],z[1]=f,z[2]=S,z[3]=M,z[4]=v,z[5]=c,z[6]=i,z[7]=u,z[8]=a,z[9]=o,z[10]=l,z[11]=s,z[12]=E*d+v*g+a*p+r[12],z[13]=f*d+c*g+o*p+r[13],z[14]=S*d+i*g+l*p+r[14],z[15]=M*d+u*g+s*p+r[15]),z}},88654:function(ie){ie.exports=function(z,r){if(z===r){var C=r[1],E=r[2],f=r[3],S=r[6],M=r[7],v=r[11];z[1]=r[4],z[2]=r[8],z[3]=r[12],z[4]=C,z[6]=r[9],z[7]=r[13],z[8]=E,z[9]=S,z[11]=r[14],z[12]=f,z[13]=M,z[14]=v}else z[0]=r[0],z[1]=r[4],z[2]=r[8],z[3]=r[12],z[4]=r[1],z[5]=r[5],z[6]=r[9],z[7]=r[13],z[8]=r[2],z[9]=r[6],z[10]=r[10],z[11]=r[14],z[12]=r[3],z[13]=r[7],z[14]=r[11],z[15]=r[15];return z}},42505:function(ie,z,r){"use strict";var C=r(72791),E=r(71299),f=r(98580),S=r(12018),M=r(83522),v=r(25075),c=r(68016),i=r(58404),u=r(18863),a=r(10973),o=r(25677),l=r(75686),s=r(53545),d=r(56131),g=r(32879),p=r(30120),T=r(13547).nextPow2,_=new M,y=!1;if(document.body){var w=document.body.appendChild(document.createElement("div"));w.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(w).fontStretch&&(y=!0),document.body.removeChild(w)}var m=function(b){var k;this.gl="function"==typeof(k=b)&&k._gl&&k.prop&&k.texture&&k.buffer?(b={regl:b}).regl._gl:S(b),this.shader=_.get(this.gl),this.regl=this.shader?this.shader.regl:b.regl||f({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),_.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(a(b)?b:{})};m.prototype.createShader=function(){var b=this.regl,k=b({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:b.prop("count"),offset:b.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:b.this("sizeBuffer")},width:{offset:0,stride:8,buffer:b.this("sizeBuffer")},char:b.this("charBuffer"),position:b.this("position")},uniforms:{atlasSize:function(h,O){return[O.atlas.width,O.atlas.height]},atlasDim:function(h,O){return[O.atlas.cols,O.atlas.rows]},atlas:function(h,O){return O.atlas.texture},charStep:function(h,O){return O.atlas.step},em:function(h,O){return O.atlas.em},color:b.prop("color"),opacity:b.prop("opacity"),viewport:b.this("viewportArray"),scale:b.this("scale"),align:b.prop("align"),baseline:b.prop("baseline"),translate:b.this("translate"),positionOffset:b.prop("positionOffset")},primitive:"points",viewport:b.this("viewport"),vert:"\n\t\t\tprecision highp float;\n\t\t\tattribute float width, charOffset, char;\n\t\t\tattribute vec2 position;\n\t\t\tuniform float fontSize, charStep, em, align, baseline;\n\t\t\tuniform vec4 viewport;\n\t\t\tuniform vec4 color;\n\t\t\tuniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;\n\t\t\tvarying vec2 charCoord, charId;\n\t\t\tvarying float charWidth;\n\t\t\tvarying vec4 fontColor;\n\t\t\tvoid main () {\n\t\t\t\tvec2 offset = floor(em * (vec2(align + charOffset, baseline)\n\t\t\t\t\t+ vec2(positionOffset.x, -positionOffset.y)))\n\t\t\t\t\t/ (viewport.zw * scale.xy);\n\n\t\t\t\tvec2 position = (position + translate) * scale;\n\t\t\t\tposition += offset * scale;\n\n\t\t\t\tcharCoord = position * viewport.zw + viewport.xy;\n\n\t\t\t\tgl_Position = vec4(position * 2. - 1., 0, 1);\n\n\t\t\t\tgl_PointSize = charStep;\n\n\t\t\t\tcharId.x = mod(char, atlasDim.x);\n\t\t\t\tcharId.y = floor(char / atlasDim.x);\n\n\t\t\t\tcharWidth = width * em;\n\n\t\t\t\tfontColor = color / 255.;\n\t\t\t}",frag:"\n\t\t\tprecision highp float;\n\t\t\tuniform float fontSize, charStep, opacity;\n\t\t\tuniform vec2 atlasSize;\n\t\t\tuniform vec4 viewport;\n\t\t\tuniform sampler2D atlas;\n\t\t\tvarying vec4 fontColor;\n\t\t\tvarying vec2 charCoord, charId;\n\t\t\tvarying float charWidth;\n\n\t\t\tfloat lightness(vec4 color) {\n\t\t\t\treturn color.r * 0.299 + color.g * 0.587 + color.b * 0.114;\n\t\t\t}\n\n\t\t\tvoid main () {\n\t\t\t\tvec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;\n\t\t\t\tfloat halfCharStep = floor(charStep * .5 + .5);\n\n\t\t\t\t// invert y and shift by 1px (FF expecially needs that)\n\t\t\t\tuv.y = charStep - uv.y;\n\n\t\t\t\t// ignore points outside of character bounding box\n\t\t\t\tfloat halfCharWidth = ceil(charWidth * .5);\n\t\t\t\tif (floor(uv.x) > halfCharStep + halfCharWidth ||\n\t\t\t\t\tfloor(uv.x) < halfCharStep - halfCharWidth) return;\n\n\t\t\t\tuv += charId * charStep;\n\t\t\t\tuv = uv / atlasSize;\n\n\t\t\t\tvec4 color = fontColor;\n\t\t\t\tvec4 mask = texture2D(atlas, uv);\n\n\t\t\t\tfloat maskY = lightness(mask);\n\t\t\t\t// float colorY = lightness(color);\n\t\t\t\tcolor.a *= maskY;\n\t\t\t\tcolor.a *= opacity;\n\n\t\t\t\t// color.a += .1;\n\n\t\t\t\t// antialiasing, see yiq color space y-channel formula\n\t\t\t\t// color.rgb += (1. - color.rgb) * (1. - mask.rgb);\n\n\t\t\t\tgl_FragColor = color;\n\t\t\t}"});return{regl:b,draw:k,atlas:{}}},m.prototype.update=function(b){var k=this;if("string"==typeof b)b={text:b};else if(!b)return;null!=(b=E(b,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0)).opacity&&(this.opacity=Array.isArray(b.opacity)?b.opacity.map(function(oe){return parseFloat(oe)}):parseFloat(b.opacity)),null!=b.viewport&&(this.viewport=u(b.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),null==this.viewport&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),null!=b.kerning&&(this.kerning=b.kerning),null!=b.offset&&("number"==typeof b.offset&&(b.offset=[b.offset,0]),this.positionOffset=p(b.offset)),b.direction&&(this.direction=b.direction),b.range&&(this.range=b.range,this.scale=[1/(b.range[2]-b.range[0]),1/(b.range[3]-b.range[1])],this.translate=[-b.range[0],-b.range[1]]),b.scale&&(this.scale=b.scale),b.translate&&(this.translate=b.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),this.font.length||b.font||(b.font=m.baseFontSize+"px sans-serif");var h,O=!1,A=!1;if(b.font&&(Array.isArray(b.font)?b.font:[b.font]).forEach(function(oe,de){if("string"==typeof oe)try{oe=C.parse(oe)}catch{oe=C.parse(m.baseFontSize+"px "+oe)}else oe=C.parse(C.stringify(oe));var _e=C.stringify({size:m.baseFontSize,family:oe.family,stretch:y?oe.stretch:void 0,variant:oe.variant,weight:oe.weight,style:oe.style}),Me=o(oe.size),Pe=Math.round(Me[0]*l(Me[1]));if(Pe!==k.fontSize[de]&&(A=!0,k.fontSize[de]=Pe),!(k.font[de]&&_e==k.font[de].baseString||(O=!0,k.font[de]=m.fonts[_e],k.font[de]))){var Ue=oe.family.join(", "),Be=[oe.style];oe.style!=oe.variant&&Be.push(oe.variant),oe.variant!=oe.weight&&Be.push(oe.weight),y&&oe.weight!=oe.stretch&&Be.push(oe.stretch),k.font[de]={baseString:_e,family:Ue,weight:oe.weight,stretch:oe.stretch,style:oe.style,variant:oe.variant,width:{},kerning:{},metrics:g(Ue,{origin:"top",fontSize:m.baseFontSize,fontStyle:Be.join(" ")})},m.fonts[_e]=k.font[de]}}),(O||A)&&this.font.forEach(function(oe,de){var _e=C.stringify({size:k.fontSize[de],family:oe.family,stretch:y?oe.stretch:void 0,variant:oe.variant,weight:oe.weight,style:oe.style});k.fontAtlas[de]=k.shader.atlas[_e],k.fontAtlas[de]||(k.shader.atlas[_e]=k.fontAtlas[de]={fontString:_e,step:2*Math.ceil(k.fontSize[de]*oe.metrics.bottom*.5),em:k.fontSize[de],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:k.regl.texture()}),null==b.text&&(b.text=k.text)}),"string"==typeof b.text&&b.position&&b.position.length>2){for(var I=Array(.5*b.position.length),P=0;P<I.length;P++)I[P]=b.text;b.text=I}if(null!=b.text||O){if(this.textOffsets=[0],Array.isArray(b.text)){this.count=b.text[0].length,this.counts=[this.count];for(var L=1;L<b.text.length;L++)this.textOffsets[L]=this.textOffsets[L-1]+b.text[L-1].length,this.count+=b.text[L].length,this.counts.push(b.text[L].length);this.text=b.text.join("")}else this.text=b.text,this.count=this.text.length,this.counts=[this.count];h=[],this.font.forEach(function(oe,de){m.atlasContext.font=oe.baseString;for(var _e=k.fontAtlas[de],Me=0;Me<k.text.length;Me++){var Pe=k.text.charAt(Me);if(null==_e.ids[Pe]&&(_e.ids[Pe]=_e.chars.length,_e.chars.push(Pe),h.push(Pe)),null==oe.width[Pe]&&(oe.width[Pe]=m.atlasContext.measureText(Pe).width/m.baseFontSize,k.kerning)){var Ue=[];for(var Be in oe.width)Ue.push(Be+Pe,Pe+Be);d(oe.kerning,s(oe.family,{pairs:Ue}))}}})}if(b.position)if(b.position.length>2){for(var N=!b.position[0].length,B=i.mallocFloat(2*this.count),W=0,j=0;W<this.counts.length;W++){var Z=this.counts[W];if(N)for(var V=0;V<Z;V++)B[j++]=b.position[2*W],B[j++]=b.position[2*W+1];else for(var q=0;q<Z;q++)B[j++]=b.position[W][0],B[j++]=b.position[W][1]}this.position.call?this.position({type:"float",data:B}):this.position=this.regl.buffer({type:"float",data:B}),i.freeFloat(B)}else this.position.destroy&&this.position.destroy(),this.position={constant:b.position};if(b.text||O){var G=i.mallocUint8(this.count),H=i.mallocFloat(2*this.count);this.textWidth=[];for(var ne=0,X=0;ne<this.counts.length;ne++){for(var $=this.counts[ne],Q=this.font[ne]||this.font[0],te=this.fontAtlas[ne]||this.fontAtlas[0],re=0;re<$;re++){var le=this.text.charAt(X),ue=this.text.charAt(X-1);if(G[X]=te.ids[le],H[2*X]=Q.width[le],re){var xe=H[2*X-1]+.5*H[2*X-2]+.5*H[2*X];if(this.kerning){var ke=Q.kerning[ue+le];ke&&(xe+=.001*ke)}H[2*X+1]=xe}else H[2*X+1]=.5*H[2*X];X++}this.textWidth.push(H.length?.5*H[2*X-2]+H[2*X-1]:0)}b.align||(b.align=this.align),this.charBuffer({data:G,type:"uint8",usage:"stream"}),this.sizeBuffer({data:H,type:"float",usage:"stream"}),i.freeUint8(G),i.freeFloat(H),h.length&&this.font.forEach(function(oe,de){var _e=k.fontAtlas[de],Me=_e.step,Pe=Math.floor(m.maxAtlasSize/Me),Ue=Math.min(Pe,_e.chars.length),Be=Math.ceil(_e.chars.length/Ue),Ve=T(Ue*Me),ve=T(Be*Me);_e.width=Ve,_e.height=ve,_e.rows=Be,_e.cols=Ue,_e.em&&_e.texture({data:c({canvas:m.atlasCanvas,font:_e.fontString,chars:_e.chars,shape:[Ve,ve],step:[Me,Me]})})})}if(b.align&&(this.align=b.align,this.alignOffset=this.textWidth.map(function(oe,de){var _e=Array.isArray(k.align)?k.align.length>1?k.align[de]:k.align[0]:k.align;if("number"==typeof _e)return _e;switch(_e){case"right":case"end":return-oe;case"center":case"centre":case"middle":return.5*-oe}return 0})),null==this.baseline&&null==b.baseline&&(b.baseline=0),null!=b.baseline&&(this.baseline=b.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(oe,de){var _e=(k.font[de]||k.font[0]).metrics,Me=0;return-1*((Me+=.5*_e.bottom)+("number"==typeof oe?oe-_e.baseline:-_e[oe]))})),null!=b.color)if(b.color||(b.color="transparent"),"string"!=typeof b.color&&isNaN(b.color)){var Ae;if("number"==typeof b.color[0]&&b.color.length>this.counts.length){var pe=b.color.length;Ae=i.mallocUint8(pe);for(var ye=(b.color.subarray||b.color.slice).bind(b.color),Ne=0;Ne<pe;Ne+=4)Ae.set(v(ye(Ne,Ne+4),"uint8"),Ne)}else{var be=b.color.length;Ae=i.mallocUint8(4*be);for(var Ee=0;Ee<be;Ee++)Ae.set(v(b.color[Ee]||0,"uint8"),4*Ee)}this.color=Ae}else this.color=v(b.color,"uint8");if(b.position||b.text||b.color||b.baseline||b.align||b.font||b.offset||b.opacity)if(this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2){var Oe=Math.max(.5*this.position.length||0,.25*this.color.length||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,.5*this.positionOffset.length||0);this.batch=Array(Oe);for(var De=0;De<this.batch.length;De++)this.batch[De]={count:this.counts.length>1?this.counts[De]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[De]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(4*De,4*De+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[De]:this.opacity,baseline:null!=this.baselineOffset[De]?this.baselineOffset[De]:this.baselineOffset[0],align:this.align?null!=this.alignOffset[De]?this.alignOffset[De]:this.alignOffset[0]:0,atlas:this.fontAtlas[De]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(2*De,2*De+2):this.positionOffset}}else this.batch=this.count?[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:[]},m.prototype.destroy=function(){},m.prototype.kerning=!0,m.prototype.position={constant:new Float32Array(2)},m.prototype.translate=null,m.prototype.scale=null,m.prototype.font=null,m.prototype.text="",m.prototype.positionOffset=[0,0],m.prototype.opacity=1,m.prototype.color=new Uint8Array([0,0,0,255]),m.prototype.alignOffset=[0,0],m.maxAtlasSize=1024,m.atlasCanvas=document.createElement("canvas"),m.atlasContext=m.atlasCanvas.getContext("2d",{alpha:!1}),m.baseFontSize=64,m.fonts={},ie.exports=m},12018:function(ie,z,r){"use strict";var C=r(71299);function E(M){if(M.container)if(M.container==document.body)document.body.style.width||(M.canvas.width=M.width||M.pixelRatio*r.g.innerWidth),document.body.style.height||(M.canvas.height=M.height||M.pixelRatio*r.g.innerHeight);else{var v=M.container.getBoundingClientRect();M.canvas.width=M.width||v.right-v.left,M.canvas.height=M.height||v.bottom-v.top}}function f(M){return"function"==typeof M.getContext&&"width"in M&&"height"in M}function S(){var M=document.createElement("canvas");return M.style.position="absolute",M.style.top=0,M.style.left=0,M}ie.exports=function(M){var v,i;if(M?"string"==typeof M&&(M={container:M}):M={},(M=f(M)||"string"==typeof(v=M).nodeName&&"function"==typeof v.appendChild&&"function"==typeof v.getBoundingClientRect?{container:M}:(i=M,"function"==typeof i.drawArrays||"function"==typeof i.drawElements?{gl:M}:C(M,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0))).pixelRatio||(M.pixelRatio=r.g.pixelRatio||1),M.gl)return M.gl;if(M.canvas&&(M.container=M.canvas.parentNode),M.container){if("string"==typeof M.container){var c=document.querySelector(M.container);if(!c)throw Error("Element "+M.container+" is not found");M.container=c}f(M.container)?(M.canvas=M.container,M.container=M.canvas.parentNode):M.canvas||(M.canvas=S(),M.container.appendChild(M.canvas),E(M))}else if(!M.canvas){if(typeof document>"u")throw Error("Not DOM environment. Use headless-gl.");M.container=document.body||document.documentElement,M.canvas=S(),M.container.appendChild(M.canvas),E(M)}return M.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(i){try{M.gl=M.canvas.getContext(i,M.attrs)}catch{}return M.gl}),M.gl}},56068:function(ie){ie.exports=function(z){"string"==typeof z&&(z=[z]);for(var r=[].slice.call(arguments,1),C=[],E=0;E<z.length-1;E++)C.push(z[E],r[E]||"");return C.push(z[E]),C.join("")}},57035:function(ie,z,r){"use strict";var C,E=r(54404);C="function"==typeof r.g.matchMedia?!r.g.matchMedia("(hover: none)").matches:E,ie.exports=C},38520:function(ie,z,r){"use strict";var C=r(54404);ie.exports=C&&function(){var E=!1;try{var f=Object.defineProperty({},"passive",{get:function(){E=!0}});window.addEventListener("test",null,f),window.removeEventListener("test",null,f)}catch{E=!1}return E}()},57877:function(ie,z,r){"use strict";var C=typeof Symbol<"u"&&Symbol,E=r(35638);ie.exports=function(){return"function"==typeof C&&"function"==typeof Symbol&&"symbol"==typeof C("foo")&&"symbol"==typeof Symbol("bar")&&E()}},35638:function(ie){"use strict";ie.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var z={},r=Symbol("test"),C=Object(r);if("string"==typeof r||"[object Symbol]"!==Object.prototype.toString.call(r)||"[object Symbol]"!==Object.prototype.toString.call(C))return!1;for(r in z[r]=42,z)return!1;if("function"==typeof Object.keys&&0!==Object.keys(z).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(z).length)return!1;var E=Object.getOwnPropertySymbols(z);if(1!==E.length||E[0]!==r||!Object.prototype.propertyIsEnumerable.call(z,r))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var f=Object.getOwnPropertyDescriptor(z,r);if(42!==f.value||!0!==f.enumerable)return!1}return!0}},84543:function(ie,z,r){"use strict";var C=r(35638);ie.exports=function(){return C()&&!!Symbol.toStringTag}},35065:function(ie,z,r){"use strict";var C=r(77575);ie.exports=C.call(Function.call,Object.prototype.hasOwnProperty)},95280:function(ie,z){z.read=function(r,C,E,f,S){var M,v,c=8*S-f-1,i=(1<<c)-1,u=i>>1,a=-7,o=E?S-1:0,l=E?-1:1,s=r[C+o];for(o+=l,M=s&(1<<-a)-1,s>>=-a,a+=c;a>0;M=256*M+r[C+o],o+=l,a-=8);for(v=M&(1<<-a)-1,M>>=-a,a+=f;a>0;v=256*v+r[C+o],o+=l,a-=8);if(0===M)M=1-u;else{if(M===i)return v?NaN:1/0*(s?-1:1);v+=Math.pow(2,f),M-=u}return(s?-1:1)*v*Math.pow(2,M-f)},z.write=function(r,C,E,f,S,M){var v,c,i,u=8*M-S-1,a=(1<<u)-1,o=a>>1,l=23===S?Math.pow(2,-24)-Math.pow(2,-77):0,s=f?0:M-1,d=f?1:-1,g=C<0||0===C&&1/C<0?1:0;for(C=Math.abs(C),isNaN(C)||C===1/0?(c=isNaN(C)?1:0,v=a):(v=Math.floor(Math.log(C)/Math.LN2),C*(i=Math.pow(2,-v))<1&&(v--,i*=2),(C+=v+o>=1?l/i:l*Math.pow(2,1-o))*i>=2&&(v++,i/=2),v+o>=a?(c=0,v=a):v+o>=1?(c=(C*i-1)*Math.pow(2,S),v+=o):(c=C*Math.pow(2,o-1)*Math.pow(2,S),v=0));S>=8;r[E+s]=255&c,s+=d,c/=256,S-=8);for(v=v<<S|c,u+=S;u>0;r[E+s]=255&v,s+=d,v/=256,u-=8);r[E+s-d]|=128*g}},42018:function(ie){ie.exports="function"==typeof Object.create?function(z,r){r&&(z.super_=r,z.prototype=Object.create(r.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}))}:function(z,r){if(r){z.super_=r;var C=function(){};C.prototype=r.prototype,z.prototype=new C,z.prototype.constructor=z}}},47216:function(ie){"use strict";var z="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,r=Object.prototype.toString,C=function(S){return!(z&&S&&"object"==typeof S&&Symbol.toStringTag in S)&&"[object Arguments]"===r.call(S)},E=function(S){return!!C(S)||null!==S&&"object"==typeof S&&"number"==typeof S.length&&S.length>=0&&"[object Array]"!==r.call(S)&&"[object Function]"===r.call(S.callee)},f=function(){return C(arguments)}();C.isLegacyArguments=E,ie.exports=f?C:E},54404:function(ie){ie.exports=!0},65481:function(ie,z,r){"use strict";var C,E=Object.prototype.toString,f=Function.prototype.toString,S=/^\s*(?:function)?\*/,M=r(84543)(),v=Object.getPrototypeOf;ie.exports=function(c){if("function"!=typeof c)return!1;if(S.test(f.call(c)))return!0;if(!M)return"[object GeneratorFunction]"===E.call(c);if(!v)return!1;if(void 0===C){var i=function(){if(!M)return!1;try{return Function("return function*() {}")()}catch{}}();C=!!i&&v(i)}return v(c)===C}},62683:function(ie){"use strict";ie.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},64274:function(ie){"use strict";ie.exports=function(z){return z!=z}},15567:function(ie,z,r){"use strict";var C=r(68222),E=r(17045),f=r(64274),S=r(14922),M=r(22442),v=C(S(),Number);E(v,{getPolyfill:S,implementation:f,shim:M}),ie.exports=v},14922:function(ie,z,r){"use strict";var C=r(64274);ie.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:C}},22442:function(ie,z,r){"use strict";var C=r(17045),E=r(14922);ie.exports=function(){var f=E();return C(Number,{isNaN:f},{isNaN:function(){return Number.isNaN!==f}}),f}},64941:function(ie){"use strict";ie.exports=function(z){var r=typeof z;return null!==z&&("object"===r||"function"===r)}},10973:function(ie){"use strict";var z=Object.prototype.toString;ie.exports=function(r){var C;return"[object Object]"===z.call(r)&&(null===(C=Object.getPrototypeOf(r))||C===Object.getPrototypeOf({}))}},18546:function(ie){"use strict";ie.exports=function(z){for(var r,C=z.length,E=0;E<C;E++)if(((r=z.charCodeAt(E))<9||r>13)&&32!==r&&133!==r&&160!==r&&5760!==r&&6158!==r&&(r<8192||r>8205)&&8232!==r&&8233!==r&&8239!==r&&8287!==r&&8288!==r&&12288!==r&&65279!==r)return!1;return!0}},89546:function(ie){"use strict";ie.exports=function(z){return"string"==typeof z&&(z=z.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(z)&&/[\dz]$/i.test(z)&&z.length>4))}},9187:function(ie,z,r){"use strict";var C=r(86165),E=r(72077),f=r(92978),S=f("Object.prototype.toString"),M=r(57877)()&&"symbol"==typeof Symbol.toStringTag,v=E(),c=f("Array.prototype.indexOf",!0)||function(l,s){for(var d=0;d<l.length;d+=1)if(l[d]===s)return d;return-1},i=f("String.prototype.slice"),u={},a=r(67295),o=Object.getPrototypeOf;M&&a&&o&&C(v,function(l){var s=new r.g[l];if(!(Symbol.toStringTag in s))throw new EvalError("this engine has support for Symbol.toStringTag, but "+l+" does not have the property! Please report this.");var d=o(s),g=a(d,Symbol.toStringTag);if(!g){var p=o(d);g=a(p,Symbol.toStringTag)}u[l]=g.get}),ie.exports=function(l){if(!l||"object"!=typeof l)return!1;if(!M){var s=i(S(l),8,-1);return c(v,s)>-1}return!!a&&(d=l,g=!1,C(u,function(p,T){if(!g)try{g=p.call(d)===T}catch{}}),g);var d,g}},44517:function(ie){ie.exports=function(){"use strict";var z,r,C;function E(f,S){if(z)if(r){var M="var sharedChunk = {}; ("+z+")(sharedChunk); ("+r+")(sharedChunk);",v={};z(v),(C=S(v)).workerUrl=window.URL.createObjectURL(new Blob([M],{type:"text/javascript"}))}else r=S;else z=S}return E(0,function(f){function S(D,F){return D(F={exports:{}},F.exports),F.exports}var M="1.10.1",v=c;function c(D,F,K,fe){this.cx=3*D,this.bx=3*(K-D)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*F,this.by=3*(fe-F)-this.cy,this.ay=1-this.cy-this.by,this.p1x=D,this.p1y=fe,this.p2x=K,this.p2y=fe}c.prototype.sampleCurveX=function(D){return((this.ax*D+this.bx)*D+this.cx)*D},c.prototype.sampleCurveY=function(D){return((this.ay*D+this.by)*D+this.cy)*D},c.prototype.sampleCurveDerivativeX=function(D){return(3*this.ax*D+2*this.bx)*D+this.cx},c.prototype.solveCurveX=function(D,F){var K,fe,Se,Fe,Ye;for(void 0===F&&(F=1e-6),Se=D,Ye=0;Ye<8;Ye++){if(Fe=this.sampleCurveX(Se)-D,Math.abs(Fe)<F)return Se;var ut=this.sampleCurveDerivativeX(Se);if(Math.abs(ut)<1e-6)break;Se-=Fe/ut}if((Se=D)<(K=0))return K;if(Se>(fe=1))return fe;for(;K<fe;){if(Fe=this.sampleCurveX(Se),Math.abs(Fe-D)<F)return Se;D>Fe?K=Se:fe=Se,Se=.5*(fe-K)+K}return Se},c.prototype.solve=function(D,F){return this.sampleCurveY(this.solveCurveX(D,F))};var i=u;function u(D,F){this.x=D,this.y=F}function a(D,F,K,fe){var Se=new v(D,F,K,fe);return function(Fe){return Se.solve(Fe)}}u.prototype={clone:function(){return new u(this.x,this.y)},add:function(D){return this.clone()._add(D)},sub:function(D){return this.clone()._sub(D)},multByPoint:function(D){return this.clone()._multByPoint(D)},divByPoint:function(D){return this.clone()._divByPoint(D)},mult:function(D){return this.clone()._mult(D)},div:function(D){return this.clone()._div(D)},rotate:function(D){return this.clone()._rotate(D)},rotateAround:function(D,F){return this.clone()._rotateAround(D,F)},matMult:function(D){return this.clone()._matMult(D)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(D){return this.x===D.x&&this.y===D.y},dist:function(D){return Math.sqrt(this.distSqr(D))},distSqr:function(D){var F=D.x-this.x,K=D.y-this.y;return F*F+K*K},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(D){return Math.atan2(this.y-D.y,this.x-D.x)},angleWith:function(D){return this.angleWithSep(D.x,D.y)},angleWithSep:function(D,F){return Math.atan2(this.x*F-this.y*D,this.x*D+this.y*F)},_matMult:function(D){var K=D[2]*this.x+D[3]*this.y;return this.x=D[0]*this.x+D[1]*this.y,this.y=K,this},_add:function(D){return this.x+=D.x,this.y+=D.y,this},_sub:function(D){return this.x-=D.x,this.y-=D.y,this},_mult:function(D){return this.x*=D,this.y*=D,this},_div:function(D){return this.x/=D,this.y/=D,this},_multByPoint:function(D){return this.x*=D.x,this.y*=D.y,this},_divByPoint:function(D){return this.x/=D.x,this.y/=D.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var D=this.y;return this.y=this.x,this.x=-D,this},_rotate:function(D){var F=Math.cos(D),K=Math.sin(D),Se=K*this.x+F*this.y;return this.x=F*this.x-K*this.y,this.y=Se,this},_rotateAround:function(D,F){var K=Math.cos(D),fe=Math.sin(D),Fe=F.y+fe*(this.x-F.x)+K*(this.y-F.y);return this.x=F.x+K*(this.x-F.x)-fe*(this.y-F.y),this.y=Fe,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},u.convert=function(D){return D instanceof u?D:Array.isArray(D)?new u(D[0],D[1]):D};var o=a(.25,.1,.25,1);function l(D,F,K){return Math.min(K,Math.max(F,D))}function s(D,F,K){var fe=K-F,Se=((D-F)%fe+fe)%fe+F;return Se===F?K:Se}function d(D){for(var F=[],K=arguments.length-1;K-- >0;)F[K]=arguments[K+1];for(var fe=0,Se=F;fe<Se.length;fe+=1){var Fe=Se[fe];for(var Ye in Fe)D[Ye]=Fe[Ye]}return D}var g=1;function p(){return g++}function T(){return function D(F){return F?(F^16*Math.random()>>F/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,D)}()}function _(D){return!!D&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(D)}function y(D,F){D.forEach(function(K){F[K]&&(F[K]=F[K].bind(F))})}function w(D,F){return-1!==D.indexOf(F,D.length-F.length)}function m(D,F,K){var fe={};for(var Se in D)fe[Se]=F.call(K||this,D[Se],Se,D);return fe}function b(D,F,K){var fe={};for(var Se in D)F.call(K||this,D[Se],Se,D)&&(fe[Se]=D[Se]);return fe}function k(D){return Array.isArray(D)?D.map(k):"object"==typeof D&&D?m(D,k):D}var h={};function O(D){h[D]||(typeof console<"u"&&console.warn(D),h[D]=!0)}function A(D,F,K){return(K.y-D.y)*(F.x-D.x)>(F.y-D.y)*(K.x-D.x)}function I(D){for(var F=0,K=0,fe=D.length,Se=fe-1,Fe=void 0,Ye=void 0;K<fe;Se=K++)F+=((Ye=D[Se]).x-(Fe=D[K]).x)*(Fe.y+Ye.y);return F}function P(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function L(D){var F={};if(D.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(fe,Se,Fe,Ye){var ut=Fe||Ye;return F[Se]=!ut||ut.toLowerCase(),""}),F["max-age"]){var K=parseInt(F["max-age"],10);isNaN(K)?delete F["max-age"]:F["max-age"]=K}return F}var N=null;function B(D){if(null==N){var F=D.navigator?D.navigator.userAgent:null;N=!!D.safari||!(!F||!(/\b(iPad|iPhone|iPod)\b/.test(F)||F.match("Safari")&&!F.match("Chrome")))}return N}function W(D){try{var F=self[D];return F.setItem("_mapbox_test_",1),F.removeItem("_mapbox_test_"),!0}catch{return!1}}var j,Z,V,q,G=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),H=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,ne=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,X={now:G,frame:function(D){var F=H(D);return{cancel:function(){return ne(F)}}},getImageData:function(D,F){void 0===F&&(F=0);var K=self.document.createElement("canvas"),fe=K.getContext("2d");if(!fe)throw new Error("failed to create canvas 2d context");return K.width=D.width,K.height=D.height,fe.drawImage(D,0,0,D.width,D.height),fe.getImageData(-F,-F,D.width+2*F,D.height+2*F)},resolveURL:function(D){return j||(j=self.document.createElement("a")),j.href=D,j.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},get prefersReducedMotion(){return!!self.matchMedia&&(null==Z&&(Z=self.matchMedia("(prefers-reduced-motion: reduce)")),Z.matches)}},$={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},Q={supported:!1,testSupport:function(D){!te&&q&&(re?le(D):V=D)}},te=!1,re=!1;function le(D){var F=D.createTexture();D.bindTexture(D.TEXTURE_2D,F);try{if(D.texImage2D(D.TEXTURE_2D,0,D.RGBA,D.RGBA,D.UNSIGNED_BYTE,q),D.isContextLost())return;Q.supported=!0}catch{}D.deleteTexture(F),te=!0}self.document&&((q=self.document.createElement("img")).onload=function(){V&&le(V),V=null,re=!0},q.onerror=function(){te=!0,V=null},q.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var ue="01",he=function(D,F){this._transformRequestFn=D,this._customAccessToken=F,this._createSkuToken()};function ge(D){return 0===D.indexOf("mapbox:")}he.prototype._createSkuToken=function(){var D=function(){for(var F="",K=0;K<10;K++)F+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",ue,F].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=D.token,this._skuTokenExpiresAt=D.tokenExpiresAt},he.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},he.prototype.transformRequest=function(D,F){return this._transformRequestFn&&this._transformRequestFn(D,F)||{url:D}},he.prototype.normalizeStyleURL=function(D,F){if(!ge(D))return D;var K=pe(D);return K.path="/styles/v1"+K.path,this._makeAPIURL(K,this._customAccessToken||F)},he.prototype.normalizeGlyphsURL=function(D,F){if(!ge(D))return D;var K=pe(D);return K.path="/fonts/v1"+K.path,this._makeAPIURL(K,this._customAccessToken||F)},he.prototype.normalizeSourceURL=function(D,F){if(!ge(D))return D;var K=pe(D);return K.path="/v4/"+K.authority+".json",K.params.push("secure"),this._makeAPIURL(K,this._customAccessToken||F)},he.prototype.normalizeSpriteURL=function(D,F,K,fe){var Se=pe(D);return ge(D)?(Se.path="/styles/v1"+Se.path+"/sprite"+F+K,this._makeAPIURL(Se,this._customAccessToken||fe)):(Se.path+=""+F+K,ye(Se))},he.prototype.normalizeTileURL=function(D,F){if(this._isSkuTokenExpired()&&this._createSkuToken(),D&&!ge(D))return D;var K=pe(D);K.path=K.path.replace(/(\.(png|jpg)\d*)(?=$)/,(X.devicePixelRatio>=2||512===F?"@2x":"")+(Q.supported?".webp":"$1")),K.path=K.path.replace(/^.+\/v4\//,"/"),K.path="/v4"+K.path;var Fe=this._customAccessToken||function(Ye){for(var ut=0,_t=Ye;ut<_t.length;ut+=1){var Ct=_t[ut].match(/^access_token=(.*)$/);if(Ct)return Ct[1]}return null}(K.params)||$.ACCESS_TOKEN;return $.REQUIRE_ACCESS_TOKEN&&Fe&&this._skuToken&&K.params.push("sku="+this._skuToken),this._makeAPIURL(K,Fe)},he.prototype.canonicalizeTileURL=function(D,F){var K=pe(D);if(!K.path.match(/(^\/v4\/)/)||!K.path.match(/\.[\w]+$/))return D;var fe="mapbox://tiles/";fe+=K.path.replace("/v4/","");var Se=K.params;return F&&(Se=Se.filter(function(Fe){return!Fe.match(/^access_token=/)})),Se.length&&(fe+="?"+Se.join("&")),fe},he.prototype.canonicalizeTileset=function(D,F){for(var K=!!F&&ge(F),fe=[],Se=0,Fe=D.tiles||[];Se<Fe.length;Se+=1){var Ye=Fe[Se];ke(Ye)?fe.push(this.canonicalizeTileURL(Ye,K)):fe.push(Ye)}return fe},he.prototype._makeAPIURL=function(D,F){var K="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",fe=pe($.API_URL);if(D.protocol=fe.protocol,D.authority=fe.authority,"/"!==fe.path&&(D.path=""+fe.path+D.path),!$.REQUIRE_ACCESS_TOKEN)return ye(D);if(!(F=F||$.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+K);if("s"===F[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+K);return D.params=D.params.filter(function(Se){return-1===Se.indexOf("access_token")}),D.params.push("access_token="+F),ye(D)};var xe=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function ke(D){return xe.test(D)}var Ae=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function pe(D){var F=D.match(Ae);if(!F)throw new Error("Unable to parse URL object");return{protocol:F[1],authority:F[2],path:F[3]||"/",params:F[4]?F[4].split("&"):[]}}function ye(D){var F=D.params.length?"?"+D.params.join("&"):"";return D.protocol+"://"+D.authority+D.path+F}var Ne="mapbox.eventData";function be(D){if(!D)return null;var K=D.split(".");if(!K||3!==K.length)return null;try{return JSON.parse(decodeURIComponent(self.atob(K[1]).split("").map(function(fe){return"%"+("00"+fe.charCodeAt(0).toString(16)).slice(-2)}).join("")))}catch{return null}}var Ee=function(D){this.type=D,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};Ee.prototype.getStorageKey=function(D){var F,fe=be($.ACCESS_TOKEN);return F=fe&&fe.u?self.btoa(encodeURIComponent(fe.u).replace(/%([0-9A-F]{2})/g,function(Se,Fe){return String.fromCharCode(Number("0x"+Fe))})):$.ACCESS_TOKEN||"",D?Ne+"."+D+":"+F:Ne+":"+F},Ee.prototype.fetchEventData=function(){var D=W("localStorage"),F=this.getStorageKey(),K=this.getStorageKey("uuid");if(D)try{var fe=self.localStorage.getItem(F);fe&&(this.eventData=JSON.parse(fe));var Se=self.localStorage.getItem(K);Se&&(this.anonId=Se)}catch{O("Unable to read from LocalStorage")}},Ee.prototype.saveEventData=function(){var D=W("localStorage"),F=this.getStorageKey(),K=this.getStorageKey("uuid");if(D)try{self.localStorage.setItem(K,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(F,JSON.stringify(this.eventData))}catch{O("Unable to write to LocalStorage")}},Ee.prototype.processRequests=function(D){},Ee.prototype.postEvent=function(D,F,K,fe){var Se=this;if($.EVENTS_URL){var Fe=pe($.EVENTS_URL);Fe.params.push("access_token="+(fe||$.ACCESS_TOKEN||""));var Ye={event:this.type,created:new Date(D).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:M,skuId:ue,userId:this.anonId},ut=F?d(Ye,F):Ye,_t={url:ye(Fe),headers:{"Content-Type":"text/plain"},body:JSON.stringify([ut])};this.pendingRequest=Ut(_t,function(Ct){Se.pendingRequest=null,K(Ct),Se.saveEventData(),Se.processRequests(fe)})}},Ee.prototype.queueRequest=function(D,F){this.queue.push(D),this.processRequests(F)};var Oe,De,oe=function(D){function F(){D.call(this,"map.load"),this.success={},this.skuToken=""}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.postMapLoadEvent=function(K,fe,Se,Fe){this.skuToken=Se,($.EVENTS_URL&&Fe||$.ACCESS_TOKEN&&Array.isArray(K)&&K.some(function(Ye){return ge(Ye)||ke(Ye)}))&&this.queueRequest({id:fe,timestamp:Date.now()},Fe)},F.prototype.processRequests=function(K){var fe=this;if(!this.pendingRequest&&0!==this.queue.length){var Se=this.queue.shift(),Fe=Se.id,Ye=Se.timestamp;Fe&&this.success[Fe]||(this.anonId||this.fetchEventData(),_(this.anonId)||(this.anonId=T()),this.postEvent(Ye,{skuToken:this.skuToken},function(ut){ut||Fe&&(fe.success[Fe]=!0)},K))}},F}(Ee),de=function(D){function F(K){D.call(this,"appUserTurnstile"),this._customAccessToken=K}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.postTurnstileEvent=function(K,fe){$.EVENTS_URL&&$.ACCESS_TOKEN&&Array.isArray(K)&&K.some(function(Se){return ge(Se)||ke(Se)})&&this.queueRequest(Date.now(),fe)},F.prototype.processRequests=function(K){var fe=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var Se=be($.ACCESS_TOKEN),Fe=Se?Se.u:$.ACCESS_TOKEN,Ye=Fe!==this.eventData.tokenU;_(this.anonId)||(this.anonId=T(),Ye=!0);var ut=this.queue.shift();if(this.eventData.lastSuccess){var _t=new Date(this.eventData.lastSuccess),Ct=new Date(ut),Ft=(ut-this.eventData.lastSuccess)/864e5;Ye=Ye||Ft>=1||Ft<-1||_t.getDate()!==Ct.getDate()}else Ye=!0;if(!Ye)return this.processRequests();this.postEvent(ut,{"enabled.telemetry":!1},function(Xt){Xt||(fe.eventData.lastSuccess=ut,fe.eventData.tokenU=Fe)},K)}},F}(Ee),_e=new de,Me=_e.postTurnstileEvent.bind(_e),Pe=new oe,Ue=Pe.postMapLoadEvent.bind(Pe),Be="mapbox-tiles",Ve=500,ve=50;function Te(){self.caches&&!Oe&&(Oe=self.caches.open(Be))}function We(D){var F=D.indexOf("?");return F<0?D:D.slice(0,F)}var Je,ht=1/0;function ft(){return null==Je&&(Je=self.OffscreenCanvas&&new self.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof self.createImageBitmap),Je}var mt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(mt);var At=function(D){function F(K,fe,Se){401===fe&&ke(Se)&&(K+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),D.call(this,K),this.status=fe,this.url=Se,this.name=this.constructor.name,this.message=K}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},F}(Error),Rt=P()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===self.location.protocol?self.parent:self).location.href};function It(D,F){var K,fe=new self.AbortController,Se=new self.Request(D.url,{method:D.method||"GET",body:D.body,credentials:D.credentials,headers:D.headers,referrer:Rt(),signal:fe.signal}),Fe=!1,Ye=!1,ut=(K=Se.url).indexOf("sku=")>0&&ke(K);"json"===D.type&&Se.headers.set("Accept","application/json");var _t=function(Ft,Xt,nn){if(!Ye){if(Ft&&"SecurityError"!==Ft.message&&O(Ft),Xt&&nn)return Ct(Xt);var en=Date.now();self.fetch(Se).then(function(_n){if(_n.ok){var Pn=ut?_n.clone():null;return Ct(_n,Pn,en)}return F(new At(_n.statusText,_n.status,D.url))}).catch(function(_n){20!==_n.code&&F(new Error(_n.message))})}},Ct=function(Ft,Xt,nn){("arrayBuffer"===D.type?Ft.arrayBuffer():"json"===D.type?Ft.json():Ft.text()).then(function(en){Ye||(Xt&&nn&&function Ce(D,F,K){if(Te(),Oe){var fe={status:F.status,statusText:F.statusText,headers:new self.Headers};F.headers.forEach(function(Fe,Ye){return fe.headers.set(Ye,Fe)});var Se=L(F.headers.get("Cache-Control")||"");Se["no-store"]||(Se["max-age"]&&fe.headers.set("Expires",new Date(K+1e3*Se["max-age"]).toUTCString()),new Date(fe.headers.get("Expires")).getTime()-K<42e4||function(Fe,Ye){if(void 0===De)try{new Response(new ReadableStream),De=!0}catch{De=!1}De?Ye(Fe.body):Fe.blob().then(Ye)}(F,function(Fe){var Ye=new self.Response(Fe,fe);Te(),Oe&&Oe.then(function(ut){return ut.put(We(D.url),Ye)}).catch(function(ut){return O(ut.message)})}))}}(Se,Xt,nn),Fe=!0,F(null,en,Ft.headers.get("Cache-Control"),Ft.headers.get("Expires")))}).catch(function(en){Ye||F(new Error(en.message))})};return ut?function Ke(D,F){if(Te(),!Oe)return F(null);var K=We(D.url);Oe.then(function(fe){fe.match(K).then(function(Se){var Fe=function(Ye){if(!Ye)return!1;var ut=new Date(Ye.headers.get("Expires")||0),_t=L(Ye.headers.get("Cache-Control")||"");return ut>Date.now()&&!_t["no-cache"]}(Se);fe.delete(K),Fe&&fe.put(K,Se.clone()),F(null,Se,Fe)}).catch(F)}).catch(F)}(Se,_t):_t(null,null),{cancel:function(){Ye=!0,Fe||fe.abort()}}}var Vt,tn,Pt=function(D,F){if(!(/^file:/.test(K=D.url)||/^file:/.test(Rt())&&!/^\w+:/.test(K))){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"))return It(D,F);if(P()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",D,F,void 0,!0)}var K;return function(fe,Se){var Fe=new self.XMLHttpRequest;for(var Ye in Fe.open(fe.method||"GET",fe.url,!0),"arrayBuffer"===fe.type&&(Fe.responseType="arraybuffer"),fe.headers)Fe.setRequestHeader(Ye,fe.headers[Ye]);return"json"===fe.type&&(Fe.responseType="text",Fe.setRequestHeader("Accept","application/json")),Fe.withCredentials="include"===fe.credentials,Fe.onerror=function(){Se(new Error(Fe.statusText))},Fe.onload=function(){if((Fe.status>=200&&Fe.status<300||0===Fe.status)&&null!==Fe.response){var ut=Fe.response;if("json"===fe.type)try{ut=JSON.parse(Fe.response)}catch(_t){return Se(_t)}Se(null,ut,Fe.getResponseHeader("Cache-Control"),Fe.getResponseHeader("Expires"))}else Se(new At(Fe.statusText,Fe.status,fe.url))},Fe.send(fe.body),{cancel:function(){return Fe.abort()}}}(D,F)},Bt=function(D,F){return Pt(d(D,{type:"arrayBuffer"}),F)},Ut=function(D,F){return Pt(d(D,{method:"POST"}),F)};Vt=[],tn=0;var Gt=function(D,F){if(Q.supported&&(D.headers||(D.headers={}),D.headers.accept="image/webp,*/*"),tn>=$.MAX_PARALLEL_IMAGE_REQUESTS){var K={requestParameters:D,callback:F,cancelled:!1,cancel:function(){this.cancelled=!0}};return Vt.push(K),K}tn++;var fe=!1,Se=function(){if(!fe)for(fe=!0,tn--;Vt.length&&tn<$.MAX_PARALLEL_IMAGE_REQUESTS;){var Ye=Vt.shift();Ye.cancelled||(Ye.cancel=Gt(Ye.requestParameters,Ye.callback).cancel)}},Fe=Bt(D,function(Ye,ut,_t,Ct){var Xt,nn;Se(),Ye?F(Ye):ut&&(ft()?(Xt=F,nn=new self.Blob([new Uint8Array(ut)],{type:"image/png"}),self.createImageBitmap(nn).then(function(en){Xt(null,en)}).catch(function(en){Xt(new Error("Could not load image because of "+en.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})):function(Ft,Xt,nn,en){var _n=new self.Image,Pn=self.URL;_n.onload=function(){Xt(null,_n),Pn.revokeObjectURL(_n.src)},_n.onerror=function(){return Xt(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Qn=new self.Blob([new Uint8Array(Ft)],{type:"image/png"});_n.cacheControl=nn,_n.expires=en,_n.src=Ft.byteLength?Pn.createObjectURL(Qn):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}(ut,F,_t,Ct))});return{cancel:function(){Fe.cancel(),Se()}}};function et(D,F,K){K[D]&&-1!==K[D].indexOf(F)||(K[D]=K[D]||[],K[D].push(F))}function nt(D,F,K){if(K&&K[D]){var fe=K[D].indexOf(F);-1!==fe&&K[D].splice(fe,1)}}var $e=function(D,F){void 0===F&&(F={}),d(this,F),this.type=D},ot=function(D){function F(K,fe){void 0===fe&&(fe={}),D.call(this,"error",d({error:K},fe))}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F}($e),dt=function(){};dt.prototype.on=function(D,F){return this._listeners=this._listeners||{},et(D,F,this._listeners),this},dt.prototype.off=function(D,F){return nt(D,F,this._listeners),nt(D,F,this._oneTimeListeners),this},dt.prototype.once=function(D,F){return this._oneTimeListeners=this._oneTimeListeners||{},et(D,F,this._oneTimeListeners),this},dt.prototype.fire=function(D,F){"string"==typeof D&&(D=new $e(D,F||{}));var K=D.type;if(this.listens(K)){D.target=this;for(var fe=0,Se=this._listeners&&this._listeners[K]?this._listeners[K].slice():[];fe<Se.length;fe+=1)Se[fe].call(this,D);for(var Fe=0,Ye=this._oneTimeListeners&&this._oneTimeListeners[K]?this._oneTimeListeners[K].slice():[];Fe<Ye.length;Fe+=1){var ut=Ye[Fe];nt(K,ut,this._oneTimeListeners),ut.call(this,D)}var _t=this._eventedParent;_t&&(d(D,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),_t.fire(D))}else D instanceof ot&&console.error(D.error);return this},dt.prototype.listens=function(D){return this._listeners&&this._listeners[D]&&this._listeners[D].length>0||this._oneTimeListeners&&this._oneTimeListeners[D]&&this._oneTimeListeners[D].length>0||this._eventedParent&&this._eventedParent.listens(D)},dt.prototype.setEventedParent=function(D,F){return this._eventedParent=D,this._eventedParentData=F,this};var Le={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},Ge=function(D,F,K,fe){this.message=(D?D+": ":"")+K,fe&&(this.identifier=fe),null!=F&&F.__line__&&(this.line=F.__line__)};function st(D){var K=D.value;return K?[new Ge(D.key,K,"constants have been deprecated as of v8")]:[]}function vt(D){for(var F=[],K=arguments.length-1;K-- >0;)F[K]=arguments[K+1];for(var fe=0,Se=F;fe<Se.length;fe+=1){var Fe=Se[fe];for(var Ye in Fe)D[Ye]=Fe[Ye]}return D}function bt(D){return D instanceof Number||D instanceof String||D instanceof Boolean?D.valueOf():D}function Lt(D){if(Array.isArray(D))return D.map(Lt);if(D instanceof Object&&!(D instanceof Number||D instanceof String||D instanceof Boolean)){var F={};for(var K in D)F[K]=Lt(D[K]);return F}return bt(D)}var jt=function(D){function F(K,fe){D.call(this,fe),this.message=fe,this.key=K}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F}(Error),Nt=function(D,F){void 0===F&&(F=[]),this.parent=D,this.bindings={};for(var K=0,fe=F;K<fe.length;K+=1){var Se=fe[K];this.bindings[Se[0]]=Se[1]}};Nt.prototype.concat=function(D){return new Nt(this,D)},Nt.prototype.get=function(D){if(this.bindings[D])return this.bindings[D];if(this.parent)return this.parent.get(D);throw new Error(D+" not found in scope.")},Nt.prototype.has=function(D){return!!this.bindings[D]||!!this.parent&&this.parent.has(D)};var Tt={kind:"null"},Mt={kind:"number"},kt={kind:"string"},Ht={kind:"boolean"},qt={kind:"color"},Qt={kind:"object"},Jt={kind:"value"},Kt={kind:"collator"},ln={kind:"formatted"},Tn={kind:"resolvedImage"};function An(D,F){return{kind:"array",itemType:D,N:F}}function pn(D){if("array"===D.kind){var F=pn(D.itemType);return"number"==typeof D.N?"array<"+F+", "+D.N+">":"value"===D.itemType.kind?"array":"array<"+F+">"}return D.kind}var Nn=[Tt,Mt,kt,Ht,qt,ln,Qt,An(Jt),Tn];function tr(D,F){if("error"===F.kind)return null;if("array"===D.kind){if("array"===F.kind&&(0===F.N&&"value"===F.itemType.kind||!tr(D.itemType,F.itemType))&&("number"!=typeof D.N||D.N===F.N))return null}else{if(D.kind===F.kind)return null;if("value"===D.kind)for(var K=0,fe=Nn;K<fe.length;K+=1)if(!tr(fe[K],F))return null}return"Expected "+pn(D)+" but found "+pn(F)+" instead."}function On(D,F){return F.some(function(K){return K.kind===D.kind})}function wn(D,F){return F.some(function(K){return"null"===K?null===D:"array"===K?Array.isArray(D):"object"===K?D&&!Array.isArray(D)&&"object"==typeof D:K===typeof D})}var mn=S(function(D,F){var K={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function fe(_t){return(_t=Math.round(_t))<0?0:_t>255?255:_t}function Fe(_t){return fe("%"===_t[_t.length-1]?parseFloat(_t)/100*255:parseInt(_t))}function Ye(_t){return function Se(_t){return _t<0?0:_t>1?1:_t}("%"===_t[_t.length-1]?parseFloat(_t)/100:parseFloat(_t))}function ut(_t,Ct,Ft){return Ft<0?Ft+=1:Ft>1&&(Ft-=1),6*Ft<1?_t+(Ct-_t)*Ft*6:2*Ft<1?Ct:3*Ft<2?_t+(Ct-_t)*(2/3-Ft)*6:_t}try{F.parseCSSColor=function(_t){var Ct,Ft=_t.replace(/ /g,"").toLowerCase();if(Ft in K)return K[Ft].slice();if("#"===Ft[0])return 4===Ft.length?(Ct=parseInt(Ft.substr(1),16))>=0&&Ct<=4095?[(3840&Ct)>>4|(3840&Ct)>>8,240&Ct|(240&Ct)>>4,15&Ct|(15&Ct)<<4,1]:null:7===Ft.length&&(Ct=parseInt(Ft.substr(1),16))>=0&&Ct<=16777215?[(16711680&Ct)>>16,(65280&Ct)>>8,255&Ct,1]:null;var Xt=Ft.indexOf("("),nn=Ft.indexOf(")");if(-1!==Xt&&nn+1===Ft.length){var en=Ft.substr(0,Xt),_n=Ft.substr(Xt+1,nn-(Xt+1)).split(","),Pn=1;switch(en){case"rgba":if(4!==_n.length)return null;Pn=Ye(_n.pop());case"rgb":return 3!==_n.length?null:[Fe(_n[0]),Fe(_n[1]),Fe(_n[2]),Pn];case"hsla":if(4!==_n.length)return null;Pn=Ye(_n.pop());case"hsl":if(3!==_n.length)return null;var Qn=(parseFloat(_n[0])%360+360)%360/360,Kn=Ye(_n[1]),or=Ye(_n[2]),lr=or<=.5?or*(Kn+1):or+Kn-or*Kn,pr=2*or-lr;return[fe(255*ut(pr,lr,Qn+1/3)),fe(255*ut(pr,lr,Qn)),fe(255*ut(pr,lr,Qn-1/3)),Pn];default:return null}}return null}}catch{}}).parseCSSColor,En=function(D,F,K,fe){void 0===fe&&(fe=1),this.r=D,this.g=F,this.b=K,this.a=fe};En.parse=function(D){if(D){if(D instanceof En)return D;if("string"==typeof D){var F=mn(D);if(F)return new En(F[0]/255*F[3],F[1]/255*F[3],F[2]/255*F[3],F[3])}}},En.prototype.toString=function(){var D=this.toArray(),K=D[1],fe=D[2],Se=D[3];return"rgba("+Math.round(D[0])+","+Math.round(K)+","+Math.round(fe)+","+Se+")"},En.prototype.toArray=function(){var D=this,Se=D.a;return 0===Se?[0,0,0,0]:[255*D.r/Se,255*D.g/Se,255*D.b/Se,Se]},En.black=new En(0,0,0,1),En.white=new En(1,1,1,1),En.transparent=new En(0,0,0,0),En.red=new En(1,0,0,1);var Fn=function(D,F,K){this.sensitivity=D?F?"variant":"case":F?"accent":"base",this.locale=K,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Fn.prototype.compare=function(D,F){return this.collator.compare(D,F)},Fn.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var jn=function(D,F,K,fe,Se){this.text=D,this.image=F,this.scale=K,this.fontStack=fe,this.textColor=Se},er=function(D){this.sections=D};er.fromString=function(D){return new er([new jn(D,null,null,null,null)])},er.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some(function(D){return 0!==D.text.length||D.image&&0!==D.image.name.length})},er.factory=function(D){return D instanceof er?D:er.fromString(D)},er.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map(function(D){return D.text}).join("")},er.prototype.serialize=function(){for(var D=["format"],F=0,K=this.sections;F<K.length;F+=1){var fe=K[F];if(fe.image)D.push(["image",fe.image.name]);else{D.push(fe.text);var Se={};fe.fontStack&&(Se["text-font"]=["literal",fe.fontStack.split(",")]),fe.scale&&(Se["font-scale"]=fe.scale),fe.textColor&&(Se["text-color"]=["rgba"].concat(fe.textColor.toArray())),D.push(Se)}}return D};var Zn=function(D){this.name=D.name,this.available=D.available};function Gn(D,F,K,fe){return"number"==typeof D&&D>=0&&D<=255&&"number"==typeof F&&F>=0&&F<=255&&"number"==typeof K&&K>=0&&K<=255?void 0===fe||"number"==typeof fe&&fe>=0&&fe<=1?null:"Invalid rgba value ["+[D,F,K,fe].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof fe?[D,F,K,fe]:[D,F,K]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function _r(D){if(null===D||"string"==typeof D||"boolean"==typeof D||"number"==typeof D||D instanceof En||D instanceof Fn||D instanceof er||D instanceof Zn)return!0;if(Array.isArray(D)){for(var F=0,K=D;F<K.length;F+=1)if(!_r(K[F]))return!1;return!0}if("object"==typeof D){for(var fe in D)if(!_r(D[fe]))return!1;return!0}return!1}function mr(D){if(null===D)return Tt;if("string"==typeof D)return kt;if("boolean"==typeof D)return Ht;if("number"==typeof D)return Mt;if(D instanceof En)return qt;if(D instanceof Fn)return Kt;if(D instanceof er)return ln;if(D instanceof Zn)return Tn;if(Array.isArray(D)){for(var F,K=D.length,fe=0,Se=D;fe<Se.length;fe+=1){var Fe=mr(Se[fe]);if(F){if(F===Fe)continue;F=Jt;break}F=Fe}return An(F||Jt,K)}return Qt}function Vr(D){var F=typeof D;return null===D?"":"string"===F||"number"===F||"boolean"===F?String(D):D instanceof En||D instanceof er||D instanceof Zn?D.toString():JSON.stringify(D)}Zn.prototype.toString=function(){return this.name},Zn.fromString=function(D){return D?new Zn({name:D,available:!1}):null},Zn.prototype.serialize=function(){return["image",this.name]};var Dr=function(D,F){this.type=D,this.value=F};Dr.parse=function(D,F){if(2!==D.length)return F.error("'literal' expression requires exactly one argument, but found "+(D.length-1)+" instead.");if(!_r(D[1]))return F.error("invalid value");var K=D[1],fe=mr(K),Se=F.expectedType;return"array"!==fe.kind||0!==fe.N||!Se||"array"!==Se.kind||"number"==typeof Se.N&&0!==Se.N||(fe=Se),new Dr(fe,K)},Dr.prototype.evaluate=function(){return this.value},Dr.prototype.eachChild=function(){},Dr.prototype.outputDefined=function(){return!0},Dr.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof En?["rgba"].concat(this.value.toArray()):this.value instanceof er?this.value.serialize():this.value};var Un=function(D){this.name="ExpressionEvaluationError",this.message=D};Un.prototype.toJSON=function(){return this.message};var ur={string:kt,number:Mt,boolean:Ht,object:Qt},cr=function(D,F){this.type=D,this.args=F};cr.parse=function(D,F){if(D.length<2)return F.error("Expected at least one argument.");var K,fe=1,Se=D[0];if("array"===Se){var Fe,Ye;if(D.length>2){var ut=D[1];if("string"!=typeof ut||!(ut in ur)||"object"===ut)return F.error('The item type argument of "array" must be one of string, number, boolean',1);Fe=ur[ut],fe++}else Fe=Jt;if(D.length>3){if(null!==D[2]&&("number"!=typeof D[2]||D[2]<0||D[2]!==Math.floor(D[2])))return F.error('The length argument to "array" must be a positive integer literal',2);Ye=D[2],fe++}K=An(Fe,Ye)}else K=ur[Se];for(var _t=[];fe<D.length;fe++){var Ct=F.parse(D[fe],fe,Jt);if(!Ct)return null;_t.push(Ct)}return new cr(K,_t)},cr.prototype.evaluate=function(D){for(var F=0;F<this.args.length;F++){var K=this.args[F].evaluate(D);if(!tr(this.type,mr(K)))return K;if(F===this.args.length-1)throw new Un("Expected value to be of type "+pn(this.type)+", but found "+pn(mr(K))+" instead.")}return null},cr.prototype.eachChild=function(D){this.args.forEach(D)},cr.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},cr.prototype.serialize=function(){var D=this.type,F=[D.kind];if("array"===D.kind){var K=D.itemType;if("string"===K.kind||"number"===K.kind||"boolean"===K.kind){F.push(K.kind);var fe=D.N;("number"==typeof fe||this.args.length>1)&&F.push(fe)}}return F.concat(this.args.map(function(Se){return Se.serialize()}))};var on=function(D){this.type=ln,this.sections=D};on.parse=function(D,F){if(D.length<2)return F.error("Expected at least one argument.");var K=D[1];if(!Array.isArray(K)&&"object"==typeof K)return F.error("First argument must be an image or text section.");for(var fe=[],Se=!1,Fe=1;Fe<=D.length-1;++Fe){var Ye=D[Fe];if(Se&&"object"==typeof Ye&&!Array.isArray(Ye)){Se=!1;var ut=null;if(Ye["font-scale"]&&!(ut=F.parse(Ye["font-scale"],1,Mt)))return null;var _t=null;if(Ye["text-font"]&&!(_t=F.parse(Ye["text-font"],1,An(kt))))return null;var Ct=null;if(Ye["text-color"]&&!(Ct=F.parse(Ye["text-color"],1,qt)))return null;var Ft=fe[fe.length-1];Ft.scale=ut,Ft.font=_t,Ft.textColor=Ct}else{var Xt=F.parse(D[Fe],1,Jt);if(!Xt)return null;var nn=Xt.type.kind;if("string"!==nn&&"value"!==nn&&"null"!==nn&&"resolvedImage"!==nn)return F.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Se=!0,fe.push({content:Xt,scale:null,font:null,textColor:null})}}return new on(fe)},on.prototype.evaluate=function(D){return new er(this.sections.map(function(F){var K=F.content.evaluate(D);return mr(K)===Tn?new jn("",K,null,null,null):new jn(Vr(K),null,F.scale?F.scale.evaluate(D):null,F.font?F.font.evaluate(D).join(","):null,F.textColor?F.textColor.evaluate(D):null)}))},on.prototype.eachChild=function(D){for(var F=0,K=this.sections;F<K.length;F+=1){var fe=K[F];D(fe.content),fe.scale&&D(fe.scale),fe.font&&D(fe.font),fe.textColor&&D(fe.textColor)}},on.prototype.outputDefined=function(){return!1},on.prototype.serialize=function(){for(var D=["format"],F=0,K=this.sections;F<K.length;F+=1){var fe=K[F];D.push(fe.content.serialize());var Se={};fe.scale&&(Se["font-scale"]=fe.scale.serialize()),fe.font&&(Se["text-font"]=fe.font.serialize()),fe.textColor&&(Se["text-color"]=fe.textColor.serialize()),D.push(Se)}return D};var xn=function(D){this.type=Tn,this.input=D};xn.parse=function(D,F){if(2!==D.length)return F.error("Expected two arguments.");var K=F.parse(D[1],1,kt);return K?new xn(K):F.error("No image name provided.")},xn.prototype.evaluate=function(D){var F=this.input.evaluate(D),K=Zn.fromString(F);return K&&D.availableImages&&(K.available=D.availableImages.indexOf(F)>-1),K},xn.prototype.eachChild=function(D){D(this.input)},xn.prototype.outputDefined=function(){return!1},xn.prototype.serialize=function(){return["image",this.input.serialize()]};var Wn={"to-boolean":Ht,"to-color":qt,"to-number":Mt,"to-string":kt},Bn=function(D,F){this.type=D,this.args=F};Bn.parse=function(D,F){if(D.length<2)return F.error("Expected at least one argument.");var K=D[0];if(("to-boolean"===K||"to-string"===K)&&2!==D.length)return F.error("Expected one argument.");for(var fe=Wn[K],Se=[],Fe=1;Fe<D.length;Fe++){var Ye=F.parse(D[Fe],Fe,Jt);if(!Ye)return null;Se.push(Ye)}return new Bn(fe,Se)},Bn.prototype.evaluate=function(D){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(D));if("color"===this.type.kind){for(var F,K,fe=0,Se=this.args;fe<Se.length;fe+=1){if(K=null,(F=Se[fe].evaluate(D))instanceof En)return F;if("string"==typeof F){var Fe=D.parseColor(F);if(Fe)return Fe}else if(Array.isArray(F)&&!(K=F.length<3||F.length>4?"Invalid rbga value "+JSON.stringify(F)+": expected an array containing either three or four numeric values.":Gn(F[0],F[1],F[2],F[3])))return new En(F[0]/255,F[1]/255,F[2]/255,F[3])}throw new Un(K||"Could not parse color from value '"+("string"==typeof F?F:String(JSON.stringify(F)))+"'")}if("number"===this.type.kind){for(var Ye=null,ut=0,_t=this.args;ut<_t.length;ut+=1){if(null===(Ye=_t[ut].evaluate(D)))return 0;var Ct=Number(Ye);if(!isNaN(Ct))return Ct}throw new Un("Could not convert "+JSON.stringify(Ye)+" to number.")}return"formatted"===this.type.kind?er.fromString(Vr(this.args[0].evaluate(D))):"resolvedImage"===this.type.kind?Zn.fromString(Vr(this.args[0].evaluate(D))):Vr(this.args[0].evaluate(D))},Bn.prototype.eachChild=function(D){this.args.forEach(D)},Bn.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},Bn.prototype.serialize=function(){if("formatted"===this.type.kind)return new on([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new xn(this.args[0]).serialize();var D=["to-"+this.type.kind];return this.eachChild(function(F){D.push(F.serialize())}),D};var qn=["Unknown","Point","LineString","Polygon"],nr=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};nr.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},nr.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?qn[this.feature.type]:this.feature.type:null},nr.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},nr.prototype.canonicalID=function(){return this.canonical},nr.prototype.properties=function(){return this.feature&&this.feature.properties||{}},nr.prototype.parseColor=function(D){var F=this._parseColorCache[D];return F||(F=this._parseColorCache[D]=En.parse(D)),F};var fr=function(D,F,K,fe){this.name=D,this.type=F,this._evaluate=K,this.args=fe};fr.prototype.evaluate=function(D){return this._evaluate(D,this.args)},fr.prototype.eachChild=function(D){this.args.forEach(D)},fr.prototype.outputDefined=function(){return!1},fr.prototype.serialize=function(){return[this.name].concat(this.args.map(function(D){return D.serialize()}))},fr.parse=function(D,F){var K,fe=D[0],Se=fr.definitions[fe];if(!Se)return F.error('Unknown expression "'+fe+'". If you wanted a literal array, use ["literal", [...]].',0);for(var Fe=Array.isArray(Se)?Se[0]:Se.type,Ye=Array.isArray(Se)?[[Se[1],Se[2]]]:Se.overloads,ut=Ye.filter(function(Ci){var ci=Ci[0];return!Array.isArray(ci)||ci.length===D.length-1}),_t=null,Ct=0,Ft=ut;Ct<Ft.length;Ct+=1){var Xt=Ft[Ct],nn=Xt[0],en=Xt[1];_t=new Ar(F.registry,F.path,null,F.scope);for(var _n=[],Pn=!1,Qn=1;Qn<D.length;Qn++){var Kn=D[Qn],or=Array.isArray(nn)?nn[Qn-1]:nn.type,lr=_t.parse(Kn,1+_n.length,or);if(!lr){Pn=!0;break}_n.push(lr)}if(!Pn)if(Array.isArray(nn)&&nn.length!==_n.length)_t.error("Expected "+nn.length+" arguments, but found "+_n.length+" instead.");else{for(var pr=0;pr<_n.length;pr++){var yr=Array.isArray(nn)?nn[pr]:nn.type,br=_n[pr];_t.concat(pr+1).checkSubtype(yr,br.type)}if(0===_t.errors.length)return new fr(fe,Fe,en,_n)}}if(1===ut.length)(K=F.errors).push.apply(K,_t.errors);else{for(var Gr=(ut.length?ut:Ye).map(function(Ci){return ci=Ci[0],Array.isArray(ci)?"("+ci.map(pn).join(", ")+")":"("+pn(ci.type)+"...)";var ci}).join(" | "),Nr=[],Xr=1;Xr<D.length;Xr++){var si=F.parse(D[Xr],1+Nr.length);if(!si)return null;Nr.push(pn(si.type))}F.error("Expected arguments of type "+Gr+", but found ("+Nr.join(", ")+") instead.")}return null},fr.register=function(D,F){for(var K in fr.definitions=F,F)D[K]=fr};var Sr=function(D,F,K){this.type=Kt,this.locale=K,this.caseSensitive=D,this.diacriticSensitive=F};Sr.parse=function(D,F){if(2!==D.length)return F.error("Expected one argument.");var K=D[1];if("object"!=typeof K||Array.isArray(K))return F.error("Collator options argument must be an object.");var fe=F.parse(void 0!==K["case-sensitive"]&&K["case-sensitive"],1,Ht);if(!fe)return null;var Se=F.parse(void 0!==K["diacritic-sensitive"]&&K["diacritic-sensitive"],1,Ht);if(!Se)return null;var Fe=null;return K.locale&&!(Fe=F.parse(K.locale,1,kt))?null:new Sr(fe,Se,Fe)},Sr.prototype.evaluate=function(D){return new Fn(this.caseSensitive.evaluate(D),this.diacriticSensitive.evaluate(D),this.locale?this.locale.evaluate(D):null)},Sr.prototype.eachChild=function(D){D(this.caseSensitive),D(this.diacriticSensitive),this.locale&&D(this.locale)},Sr.prototype.outputDefined=function(){return!1},Sr.prototype.serialize=function(){var D={};return D["case-sensitive"]=this.caseSensitive.serialize(),D["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(D.locale=this.locale.serialize()),["collator",D]};var Ur=8192;function fn(D,F){D[0]=Math.min(D[0],F[0]),D[1]=Math.min(D[1],F[1]),D[2]=Math.max(D[2],F[0]),D[3]=Math.max(D[3],F[1])}function Vn(D,F){return!(D[0]<=F[0]||D[2]>=F[2]||D[1]<=F[1]||D[3]>=F[3])}function Wt(D,F){var fe=(180+D[0])/360,Se=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+D[1]*Math.PI/360)))/360,Fe=Math.pow(2,F.z);return[Math.round(fe*Fe*Ur),Math.round(Se*Fe*Ur)]}function un(D,F,K){return F[1]>D[1]!=K[1]>D[1]&&D[0]<(K[0]-F[0])*(D[1]-F[1])/(K[1]-F[1])+F[0]}function vn(D,F){for(var K=!1,fe=0,Se=F.length;fe<Se;fe++)for(var Fe=F[fe],Ye=0,ut=Fe.length;Ye<ut-1;Ye++){if(void 0,void 0,void 0,void 0,(Xt=(_t=D)[0]-(Ct=Fe[Ye])[0])*(_n=_t[1]-(Ft=Fe[Ye+1])[1])-(en=_t[0]-Ft[0])*(nn=_t[1]-Ct[1])==0&&Xt*en<=0&&nn*_n<=0)return!1;un(D,Fe[Ye],Fe[Ye+1])&&(K=!K)}var _t,Ct,Ft,Xt,nn,en,_n;return K}function $n(D,F){for(var K=0;K<F.length;K++)if(vn(D,F[K]))return!0;return!1}function Hn(D,F,K,fe){var _t=fe[0]-K[0],Ct=fe[1]-K[1],Ft=(D[0]-K[0])*Ct-_t*(D[1]-K[1]),Xt=(F[0]-K[0])*Ct-_t*(F[1]-K[1]);return Ft>0&&Xt<0||Ft<0&&Xt>0}function zn(D,F,K){for(var fe=0,Se=K;fe<Se.length;fe+=1)for(var Fe=Se[fe],Ye=0;Ye<Fe.length-1;++Ye)if(void 0,void 0,(Xt=[(Ft=Fe[Ye+1])[0]-(Ct=Fe[Ye])[0],Ft[1]-Ct[1]])[0]*(nn=[(_t=F)[0]-(ut=D)[0],_t[1]-ut[1]])[1]-Xt[1]*nn[0]!=0&&Hn(ut,_t,Ct,Ft)&&Hn(Ct,Ft,ut,_t))return!0;var ut,_t,Ct,Ft,Xt,nn;return!1}function bn(D,F){for(var K=0;K<D.length;++K)if(!vn(D[K],F))return!1;for(var fe=0;fe<D.length-1;++fe)if(zn(D[fe],D[fe+1],F))return!1;return!0}function Sn(D,F){for(var K=0;K<F.length;K++)if(bn(D,F[K]))return!0;return!1}function gn(D,F,K){for(var fe=[],Se=0;Se<D.length;Se++){for(var Fe=[],Ye=0;Ye<D[Se].length;Ye++){var ut=Wt(D[Se][Ye],K);fn(F,ut),Fe.push(ut)}fe.push(Fe)}return fe}function kn(D,F,K){for(var fe=[],Se=0;Se<D.length;Se++){var Fe=gn(D[Se],F,K);fe.push(Fe)}return fe}function In(D,F,K,fe){if(D[0]<K[0]||D[0]>K[2]){var Se=.5*fe,Fe=D[0]-K[0]>Se?-fe:K[0]-D[0]>Se?fe:0;0===Fe&&(Fe=D[0]-K[2]>Se?-fe:K[2]-D[0]>Se?fe:0),D[0]+=Fe}fn(F,D)}function Yn(D,F,K,fe){for(var Se=Math.pow(2,fe.z)*Ur,Fe=[fe.x*Ur,fe.y*Ur],Ye=[],ut=0,_t=D;ut<_t.length;ut+=1)for(var Ct=0,Ft=_t[ut];Ct<Ft.length;Ct+=1){var Xt=Ft[Ct],nn=[Xt.x+Fe[0],Xt.y+Fe[1]];In(nn,F,K,Se),Ye.push(nn)}return Ye}function Rn(D,F,K,fe){for(var Se=Math.pow(2,fe.z)*Ur,Fe=[fe.x*Ur,fe.y*Ur],Ye=[],ut=0,_t=D;ut<_t.length;ut+=1){for(var Ct=[],Ft=0,Xt=_t[ut];Ft<Xt.length;Ft+=1){var nn=Xt[Ft],en=[nn.x+Fe[0],nn.y+Fe[1]];fn(F,en),Ct.push(en)}Ye.push(Ct)}if(F[2]-F[0]<=Se/2){(or=F)[0]=or[1]=1/0,or[2]=or[3]=-1/0;for(var _n=0,Pn=Ye;_n<Pn.length;_n+=1)for(var Qn=0,Kn=Pn[_n];Qn<Kn.length;Qn+=1)In(Kn[Qn],F,K,Se)}var or;return Ye}var hr=function(D,F){this.type=Ht,this.geojson=D,this.geometries=F};function sr(D){if(D instanceof fr&&("get"===D.name&&1===D.args.length||"feature-state"===D.name||"has"===D.name&&1===D.args.length||"properties"===D.name||"geometry-type"===D.name||"id"===D.name||/^filter-/.test(D.name))||D instanceof hr)return!1;var F=!0;return D.eachChild(function(K){F&&!sr(K)&&(F=!1)}),F}function wr(D){if(D instanceof fr&&"feature-state"===D.name)return!1;var F=!0;return D.eachChild(function(K){F&&!wr(K)&&(F=!1)}),F}function Tr(D,F){if(D instanceof fr&&F.indexOf(D.name)>=0)return!1;var K=!0;return D.eachChild(function(fe){K&&!Tr(fe,F)&&(K=!1)}),K}hr.parse=function(D,F){if(2!==D.length)return F.error("'within' expression requires exactly one argument, but found "+(D.length-1)+" instead.");if(_r(D[1])){var K=D[1];if("FeatureCollection"===K.type)for(var fe=0;fe<K.features.length;++fe){var Se=K.features[fe].geometry.type;if("Polygon"===Se||"MultiPolygon"===Se)return new hr(K,K.features[fe].geometry)}else if("Feature"===K.type){var Fe=K.geometry.type;if("Polygon"===Fe||"MultiPolygon"===Fe)return new hr(K,K.geometry)}else if("Polygon"===K.type||"MultiPolygon"===K.type)return new hr(K,K)}return F.error("'within' expression requires valid geojson object that contains polygon geometry type.")},hr.prototype.evaluate=function(D){if(null!=D.geometry()&&null!=D.canonicalID()){if("Point"===D.geometryType())return function(F,K){var fe=[1/0,1/0,-1/0,-1/0],Se=[1/0,1/0,-1/0,-1/0],Fe=F.canonicalID();if("Polygon"===K.type){var Ye=gn(K.coordinates,Se,Fe),ut=Yn(F.geometry(),fe,Se,Fe);if(!Vn(fe,Se))return!1;for(var _t=0,Ct=ut;_t<Ct.length;_t+=1)if(!vn(Ct[_t],Ye))return!1}if("MultiPolygon"===K.type){var Ft=kn(K.coordinates,Se,Fe),Xt=Yn(F.geometry(),fe,Se,Fe);if(!Vn(fe,Se))return!1;for(var nn=0,en=Xt;nn<en.length;nn+=1)if(!$n(en[nn],Ft))return!1}return!0}(D,this.geometries);if("LineString"===D.geometryType())return function(F,K){var fe=[1/0,1/0,-1/0,-1/0],Se=[1/0,1/0,-1/0,-1/0],Fe=F.canonicalID();if("Polygon"===K.type){var Ye=gn(K.coordinates,Se,Fe),ut=Rn(F.geometry(),fe,Se,Fe);if(!Vn(fe,Se))return!1;for(var _t=0,Ct=ut;_t<Ct.length;_t+=1)if(!bn(Ct[_t],Ye))return!1}if("MultiPolygon"===K.type){var Ft=kn(K.coordinates,Se,Fe),Xt=Rn(F.geometry(),fe,Se,Fe);if(!Vn(fe,Se))return!1;for(var nn=0,en=Xt;nn<en.length;nn+=1)if(!Sn(en[nn],Ft))return!1}return!0}(D,this.geometries)}return!1},hr.prototype.eachChild=function(){},hr.prototype.outputDefined=function(){return!0},hr.prototype.serialize=function(){return["within",this.geojson]};var Cr=function(D,F){this.type=F.type,this.name=D,this.boundExpression=F};Cr.parse=function(D,F){if(2!==D.length||"string"!=typeof D[1])return F.error("'var' expression requires exactly one string literal argument.");var K=D[1];return F.scope.has(K)?new Cr(K,F.scope.get(K)):F.error('Unknown variable "'+K+'". Make sure "'+K+'" has been bound in an enclosing "let" expression before using it.',1)},Cr.prototype.evaluate=function(D){return this.boundExpression.evaluate(D)},Cr.prototype.eachChild=function(){},Cr.prototype.outputDefined=function(){return!1},Cr.prototype.serialize=function(){return["var",this.name]};var Ar=function(D,F,K,fe,Se){void 0===F&&(F=[]),void 0===fe&&(fe=new Nt),void 0===Se&&(Se=[]),this.registry=D,this.path=F,this.key=F.map(function(Fe){return"["+Fe+"]"}).join(""),this.scope=fe,this.errors=Se,this.expectedType=K};function Ir(D){if(D instanceof Cr)return Ir(D.boundExpression);if(D instanceof fr&&"error"===D.name||D instanceof Sr||D instanceof hr)return!1;var F=D instanceof Bn||D instanceof cr,K=!0;return D.eachChild(function(fe){K=F?K&&Ir(fe):K&&fe instanceof Dr}),!!K&&sr(D)&&Tr(D,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Wr(D,F){for(var K,Se=D.length-1,Fe=0,Ye=Se,ut=0;Fe<=Ye;)if((K=D[ut=Math.floor((Fe+Ye)/2)])<=F){if(ut===Se||F<D[ut+1])return ut;Fe=ut+1}else{if(!(K>F))throw new Un("Input is not a number.");Ye=ut-1}return 0}Ar.prototype.parse=function(D,F,K,fe,Se){return void 0===Se&&(Se={}),F?this.concat(F,K,fe)._parse(D,Se):this._parse(D,Se)},Ar.prototype._parse=function(D,F){function K(Ct,Ft,Xt){return"assert"===Xt?new cr(Ft,[Ct]):"coerce"===Xt?new Bn(Ft,[Ct]):Ct}if(null!==D&&"string"!=typeof D&&"boolean"!=typeof D&&"number"!=typeof D||(D=["literal",D]),Array.isArray(D)){if(0===D.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var fe=D[0];if("string"!=typeof fe)return this.error("Expression name must be a string, but found "+typeof fe+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var Se=this.registry[fe];if(Se){var Fe=Se.parse(D,this);if(!Fe)return null;if(this.expectedType){var Ye=this.expectedType,ut=Fe.type;if("string"!==Ye.kind&&"number"!==Ye.kind&&"boolean"!==Ye.kind&&"object"!==Ye.kind&&"array"!==Ye.kind||"value"!==ut.kind)if("color"!==Ye.kind&&"formatted"!==Ye.kind&&"resolvedImage"!==Ye.kind||"value"!==ut.kind&&"string"!==ut.kind){if(this.checkSubtype(Ye,ut))return null}else Fe=K(Fe,Ye,F.typeAnnotation||"coerce");else Fe=K(Fe,Ye,F.typeAnnotation||"assert")}if(!(Fe instanceof Dr)&&"resolvedImage"!==Fe.type.kind&&Ir(Fe)){var _t=new nr;try{Fe=new Dr(Fe.type,Fe.evaluate(_t))}catch(Ct){return this.error(Ct.message),null}}return Fe}return this.error('Unknown expression "'+fe+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(void 0===D?"'undefined' value invalid. Use null instead.":"object"==typeof D?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof D+" instead.")},Ar.prototype.concat=function(D,F,K){var fe="number"==typeof D?this.path.concat(D):this.path,Se=K?this.scope.concat(K):this.scope;return new Ar(this.registry,fe,F||null,Se,this.errors)},Ar.prototype.error=function(D){for(var F=[],K=arguments.length-1;K-- >0;)F[K]=arguments[K+1];var fe=""+this.key+F.map(function(Se){return"["+Se+"]"}).join("");this.errors.push(new jt(fe,D))},Ar.prototype.checkSubtype=function(D,F){var K=tr(D,F);return K&&this.error(K),K};var Mi=function(D,F,K){this.type=D,this.input=F,this.labels=[],this.outputs=[];for(var fe=0,Se=K;fe<Se.length;fe+=1){var Fe=Se[fe],ut=Fe[1];this.labels.push(Fe[0]),this.outputs.push(ut)}};function oi(D,F,K){return D*(1-K)+F*K}Mi.parse=function(D,F){if(D.length-1<4)return F.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if((D.length-1)%2!=0)return F.error("Expected an even number of arguments.");var K=F.parse(D[1],1,Mt);if(!K)return null;var fe=[],Se=null;F.expectedType&&"value"!==F.expectedType.kind&&(Se=F.expectedType);for(var Fe=1;Fe<D.length;Fe+=2){var Ye=1===Fe?-1/0:D[Fe],ut=D[Fe+1],_t=Fe,Ct=Fe+1;if("number"!=typeof Ye)return F.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',_t);if(fe.length&&fe[fe.length-1][0]>=Ye)return F.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',_t);var Ft=F.parse(ut,Ct,Se);if(!Ft)return null;Se=Se||Ft.type,fe.push([Ye,Ft])}return new Mi(Se,K,fe)},Mi.prototype.evaluate=function(D){var F=this.labels,K=this.outputs;if(1===F.length)return K[0].evaluate(D);var fe=this.input.evaluate(D);if(fe<=F[0])return K[0].evaluate(D);var Se=F.length;return fe>=F[Se-1]?K[Se-1].evaluate(D):K[Wr(F,fe)].evaluate(D)},Mi.prototype.eachChild=function(D){D(this.input);for(var F=0,K=this.outputs;F<K.length;F+=1)D(K[F])},Mi.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})},Mi.prototype.serialize=function(){for(var D=["step",this.input.serialize()],F=0;F<this.labels.length;F++)F>0&&D.push(this.labels[F]),D.push(this.outputs[F].serialize());return D};var Pr=Object.freeze({__proto__:null,number:oi,color:function(D,F,K){return new En(oi(D.r,F.r,K),oi(D.g,F.g,K),oi(D.b,F.b,K),oi(D.a,F.a,K))},array:function(D,F,K){return D.map(function(fe,Se){return oi(fe,F[Se],K)})}}),po=4/29,qo=6/29,ro=3*qo*qo,As=Math.PI/180,Sa=180/Math.PI;function Ai(D){return D>.008856451679035631?Math.pow(D,.3333333333333333):D/ro+po}function el(D){return D>qo?D*D*D:ro*(D-po)}function Xl(D){return 255*(D<=.0031308?12.92*D:1.055*Math.pow(D,.4166666666666667)-.055)}function ju(D){return(D/=255)<=.04045?D/12.92:Math.pow((D+.055)/1.055,2.4)}function Tl(D){var F=ju(D.r),K=ju(D.g),fe=ju(D.b),Se=Ai((.4124564*F+.3575761*K+.1804375*fe)/.95047),Fe=Ai((.2126729*F+.7151522*K+.072175*fe)/1);return{l:116*Fe-16,a:500*(Se-Fe),b:200*(Fe-Ai((.0193339*F+.119192*K+.9503041*fe)/1.08883)),alpha:D.a}}function ic(D){var F=(D.l+16)/116,K=isNaN(D.a)?F:F+D.a/500,fe=isNaN(D.b)?F:F-D.b/200;return F=1*el(F),K=.95047*el(K),fe=1.08883*el(fe),new En(Xl(3.2404542*K-1.5371385*F-.4985314*fe),Xl(-.969266*K+1.8760108*F+.041556*fe),Xl(.0556434*K-.2040259*F+1.0572252*fe),D.alpha)}function Mu(D,F,K){var fe=F-D;return D+K*(fe>180||fe<-180?fe-360*Math.round(fe/360):fe)}var Au={forward:Tl,reverse:ic,interpolate:function(D,F,K){return{l:oi(D.l,F.l,K),a:oi(D.a,F.a,K),b:oi(D.b,F.b,K),alpha:oi(D.alpha,F.alpha,K)}}},ks={forward:function(D){var F=Tl(D),K=F.l,fe=F.a,Se=F.b,Fe=Math.atan2(Se,fe)*Sa;return{h:Fe<0?Fe+360:Fe,c:Math.sqrt(fe*fe+Se*Se),l:K,alpha:D.a}},reverse:function(D){var F=D.h*As,K=D.c;return ic({l:D.l,a:Math.cos(F)*K,b:Math.sin(F)*K,alpha:D.alpha})},interpolate:function(D,F,K){return{h:Mu(D.h,F.h,K),c:oi(D.c,F.c,K),l:oi(D.l,F.l,K),alpha:oi(D.alpha,F.alpha,K)}}},Cc=Object.freeze({__proto__:null,lab:Au,hcl:ks}),na=function(D,F,K,fe,Se){this.type=D,this.operator=F,this.interpolation=K,this.input=fe,this.labels=[],this.outputs=[];for(var Fe=0,Ye=Se;Fe<Ye.length;Fe+=1){var ut=Ye[Fe],Ct=ut[1];this.labels.push(ut[0]),this.outputs.push(Ct)}};function Pl(D,F,K,fe){var Se=fe-K,Fe=D-K;return 0===Se?0:1===F?Fe/Se:(Math.pow(F,Fe)-1)/(Math.pow(F,Se)-1)}na.interpolationFactor=function(D,F,K,fe){var Se=0;if("exponential"===D.name)Se=Pl(F,D.base,K,fe);else if("linear"===D.name)Se=Pl(F,1,K,fe);else if("cubic-bezier"===D.name){var Fe=D.controlPoints;Se=new v(Fe[0],Fe[1],Fe[2],Fe[3]).solve(Pl(F,1,K,fe))}return Se},na.parse=function(D,F){var K=D[0],fe=D[1],Se=D[2],Fe=D.slice(3);if(!Array.isArray(fe)||0===fe.length)return F.error("Expected an interpolation type expression.",1);if("linear"===fe[0])fe={name:"linear"};else if("exponential"===fe[0]){var Ye=fe[1];if("number"!=typeof Ye)return F.error("Exponential interpolation requires a numeric base.",1,1);fe={name:"exponential",base:Ye}}else{if("cubic-bezier"!==fe[0])return F.error("Unknown interpolation type "+String(fe[0]),1,0);var ut=fe.slice(1);if(4!==ut.length||ut.some(function(Qn){return"number"!=typeof Qn||Qn<0||Qn>1}))return F.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);fe={name:"cubic-bezier",controlPoints:ut}}if(D.length-1<4)return F.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if((D.length-1)%2!=0)return F.error("Expected an even number of arguments.");if(!(Se=F.parse(Se,2,Mt)))return null;var _t=[],Ct=null;"interpolate-hcl"===K||"interpolate-lab"===K?Ct=qt:F.expectedType&&"value"!==F.expectedType.kind&&(Ct=F.expectedType);for(var Ft=0;Ft<Fe.length;Ft+=2){var Xt=Fe[Ft],nn=Fe[Ft+1],en=Ft+3,_n=Ft+4;if("number"!=typeof Xt)return F.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',en);if(_t.length&&_t[_t.length-1][0]>=Xt)return F.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',en);var Pn=F.parse(nn,_n,Ct);if(!Pn)return null;Ct=Ct||Pn.type,_t.push([Xt,Pn])}return"number"===Ct.kind||"color"===Ct.kind||"array"===Ct.kind&&"number"===Ct.itemType.kind&&"number"==typeof Ct.N?new na(Ct,K,fe,Se,_t):F.error("Type "+pn(Ct)+" is not interpolatable.")},na.prototype.evaluate=function(D){var F=this.labels,K=this.outputs;if(1===F.length)return K[0].evaluate(D);var fe=this.input.evaluate(D);if(fe<=F[0])return K[0].evaluate(D);var Se=F.length;if(fe>=F[Se-1])return K[Se-1].evaluate(D);var Fe=Wr(F,fe),_t=na.interpolationFactor(this.interpolation,fe,F[Fe],F[Fe+1]),Ct=K[Fe].evaluate(D),Ft=K[Fe+1].evaluate(D);return"interpolate"===this.operator?Pr[this.type.kind.toLowerCase()](Ct,Ft,_t):"interpolate-hcl"===this.operator?ks.reverse(ks.interpolate(ks.forward(Ct),ks.forward(Ft),_t)):Au.reverse(Au.interpolate(Au.forward(Ct),Au.forward(Ft),_t))},na.prototype.eachChild=function(D){D(this.input);for(var F=0,K=this.outputs;F<K.length;F+=1)D(K[F])},na.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})},na.prototype.serialize=function(){var D;D="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var F=[this.operator,D,this.input.serialize()],K=0;K<this.labels.length;K++)F.push(this.labels[K],this.outputs[K].serialize());return F};var va=function(D,F){this.type=D,this.args=F};va.parse=function(D,F){if(D.length<2)return F.error("Expectected at least one argument.");var K=null,fe=F.expectedType;fe&&"value"!==fe.kind&&(K=fe);for(var Se=[],Fe=0,Ye=D.slice(1);Fe<Ye.length;Fe+=1){var _t=F.parse(Ye[Fe],1+Se.length,K,void 0,{typeAnnotation:"omit"});if(!_t)return null;K=K||_t.type,Se.push(_t)}var Ct=fe&&Se.some(function(Ft){return tr(fe,Ft.type)});return new va(Ct?Jt:K,Se)},va.prototype.evaluate=function(D){for(var F,K=null,fe=0,Se=0,Fe=this.args;Se<Fe.length&&(fe++,(K=Fe[Se].evaluate(D))&&K instanceof Zn&&!K.available&&(F||(F=K.name),K=null,fe===this.args.length&&(K=F)),null===K);Se+=1);return K},va.prototype.eachChild=function(D){this.args.forEach(D)},va.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},va.prototype.serialize=function(){var D=["coalesce"];return this.eachChild(function(F){D.push(F.serialize())}),D};var Ss=function(D,F){this.type=F.type,this.bindings=[].concat(D),this.result=F};Ss.prototype.evaluate=function(D){return this.result.evaluate(D)},Ss.prototype.eachChild=function(D){for(var F=0,K=this.bindings;F<K.length;F+=1)D(K[F][1]);D(this.result)},Ss.parse=function(D,F){if(D.length<4)return F.error("Expected at least 3 arguments, but found "+(D.length-1)+" instead.");for(var K=[],fe=1;fe<D.length-1;fe+=2){var Se=D[fe];if("string"!=typeof Se)return F.error("Expected string, but found "+typeof Se+" instead.",fe);if(/[^a-zA-Z0-9_]/.test(Se))return F.error("Variable names must contain only alphanumeric characters or '_'.",fe);var Fe=F.parse(D[fe+1],fe+1);if(!Fe)return null;K.push([Se,Fe])}var Ye=F.parse(D[D.length-1],D.length-1,F.expectedType,K);return Ye?new Ss(K,Ye):null},Ss.prototype.outputDefined=function(){return this.result.outputDefined()},Ss.prototype.serialize=function(){for(var D=["let"],F=0,K=this.bindings;F<K.length;F+=1){var fe=K[F];D.push(fe[0],fe[1].serialize())}return D.push(this.result.serialize()),D};var $r=function(D,F,K){this.type=D,this.index=F,this.input=K};$r.parse=function(D,F){if(3!==D.length)return F.error("Expected 2 arguments, but found "+(D.length-1)+" instead.");var K=F.parse(D[1],1,Mt),fe=F.parse(D[2],2,An(F.expectedType||Jt));return K&&fe?new $r(fe.type.itemType,K,fe):null},$r.prototype.evaluate=function(D){var F=this.index.evaluate(D),K=this.input.evaluate(D);if(F<0)throw new Un("Array index out of bounds: "+F+" < 0.");if(F>=K.length)throw new Un("Array index out of bounds: "+F+" > "+(K.length-1)+".");if(F!==Math.floor(F))throw new Un("Array index must be an integer, but found "+F+" instead.");return K[F]},$r.prototype.eachChild=function(D){D(this.index),D(this.input)},$r.prototype.outputDefined=function(){return!1},$r.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var eo=function(D,F){this.type=Ht,this.needle=D,this.haystack=F};eo.parse=function(D,F){if(3!==D.length)return F.error("Expected 2 arguments, but found "+(D.length-1)+" instead.");var K=F.parse(D[1],1,Jt),fe=F.parse(D[2],2,Jt);return K&&fe?On(K.type,[Ht,kt,Mt,Tt,Jt])?new eo(K,fe):F.error("Expected first argument to be of type boolean, string, number or null, but found "+pn(K.type)+" instead"):null},eo.prototype.evaluate=function(D){var F=this.needle.evaluate(D),K=this.haystack.evaluate(D);if(!K)return!1;if(!wn(F,["boolean","string","number","null"]))throw new Un("Expected first argument to be of type boolean, string, number or null, but found "+pn(mr(F))+" instead.");if(!wn(K,["string","array"]))throw new Un("Expected second argument to be of type array or string, but found "+pn(mr(K))+" instead.");return K.indexOf(F)>=0},eo.prototype.eachChild=function(D){D(this.needle),D(this.haystack)},eo.prototype.outputDefined=function(){return!0},eo.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var Li=function(D,F,K){this.type=Mt,this.needle=D,this.haystack=F,this.fromIndex=K};Li.parse=function(D,F){if(D.length<=2||D.length>=5)return F.error("Expected 3 or 4 arguments, but found "+(D.length-1)+" instead.");var K=F.parse(D[1],1,Jt),fe=F.parse(D[2],2,Jt);if(!K||!fe)return null;if(!On(K.type,[Ht,kt,Mt,Tt,Jt]))return F.error("Expected first argument to be of type boolean, string, number or null, but found "+pn(K.type)+" instead");if(4===D.length){var Se=F.parse(D[3],3,Mt);return Se?new Li(K,fe,Se):null}return new Li(K,fe)},Li.prototype.evaluate=function(D){var F=this.needle.evaluate(D),K=this.haystack.evaluate(D);if(!wn(F,["boolean","string","number","null"]))throw new Un("Expected first argument to be of type boolean, string, number or null, but found "+pn(mr(F))+" instead.");if(!wn(K,["string","array"]))throw new Un("Expected second argument to be of type array or string, but found "+pn(mr(K))+" instead.");if(this.fromIndex){var fe=this.fromIndex.evaluate(D);return K.indexOf(F,fe)}return K.indexOf(F)},Li.prototype.eachChild=function(D){D(this.needle),D(this.haystack),this.fromIndex&&D(this.fromIndex)},Li.prototype.outputDefined=function(){return!1},Li.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var D=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),D]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var Ja=function(D,F,K,fe,Se,Fe){this.inputType=D,this.type=F,this.input=K,this.cases=fe,this.outputs=Se,this.otherwise=Fe};Ja.parse=function(D,F){if(D.length<5)return F.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if(D.length%2!=1)return F.error("Expected an even number of arguments.");var K,fe;F.expectedType&&"value"!==F.expectedType.kind&&(fe=F.expectedType);for(var Se={},Fe=[],Ye=2;Ye<D.length-1;Ye+=2){var ut=D[Ye],_t=D[Ye+1];Array.isArray(ut)||(ut=[ut]);var Ct=F.concat(Ye);if(0===ut.length)return Ct.error("Expected at least one branch label.");for(var Ft=0,Xt=ut;Ft<Xt.length;Ft+=1){var nn=Xt[Ft];if("number"!=typeof nn&&"string"!=typeof nn)return Ct.error("Branch labels must be numbers or strings.");if("number"==typeof nn&&Math.abs(nn)>Number.MAX_SAFE_INTEGER)return Ct.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof nn&&Math.floor(nn)!==nn)return Ct.error("Numeric branch labels must be integer values.");if(K){if(Ct.checkSubtype(K,mr(nn)))return null}else K=mr(nn);if(void 0!==Se[String(nn)])return Ct.error("Branch labels must be unique.");Se[String(nn)]=Fe.length}var en=F.parse(_t,Ye,fe);if(!en)return null;fe=fe||en.type,Fe.push(en)}var _n=F.parse(D[1],1,Jt);if(!_n)return null;var Pn=F.parse(D[D.length-1],D.length-1,fe);return Pn?"value"!==_n.type.kind&&F.concat(1).checkSubtype(K,_n.type)?null:new Ja(K,fe,_n,Se,Fe,Pn):null},Ja.prototype.evaluate=function(D){var F=this.input.evaluate(D);return(mr(F)===this.inputType&&this.outputs[this.cases[F]]||this.otherwise).evaluate(D)},Ja.prototype.eachChild=function(D){D(this.input),this.outputs.forEach(D),D(this.otherwise)},Ja.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})&&this.otherwise.outputDefined()},Ja.prototype.serialize=function(){for(var D=this,F=["match",this.input.serialize()],K=[],fe={},Se=0,Fe=Object.keys(this.cases).sort();Se<Fe.length;Se+=1){var Ye=Fe[Se];void 0===(Xt=fe[this.cases[Ye]])?(fe[this.cases[Ye]]=K.length,K.push([this.cases[Ye],[Ye]])):K[Xt][1].push(Ye)}for(var ut=function(en){return"number"===D.inputType.kind?Number(en):en},_t=0,Ct=K;_t<Ct.length;_t+=1){var Ft=Ct[_t],Xt=Ft[0],nn=Ft[1];F.push(1===nn.length?ut(nn[0]):nn.map(ut)),F.push(this.outputs[outputIndex$1].serialize())}return F.push(this.otherwise.serialize()),F};var Cs=function(D,F,K){this.type=D,this.branches=F,this.otherwise=K};Cs.parse=function(D,F){if(D.length<4)return F.error("Expected at least 3 arguments, but found only "+(D.length-1)+".");if(D.length%2!=0)return F.error("Expected an odd number of arguments.");var K;F.expectedType&&"value"!==F.expectedType.kind&&(K=F.expectedType);for(var fe=[],Se=1;Se<D.length-1;Se+=2){var Fe=F.parse(D[Se],Se,Ht);if(!Fe)return null;var Ye=F.parse(D[Se+1],Se+1,K);if(!Ye)return null;fe.push([Fe,Ye]),K=K||Ye.type}var ut=F.parse(D[D.length-1],D.length-1,K);return ut?new Cs(K,fe,ut):null},Cs.prototype.evaluate=function(D){for(var F=0,K=this.branches;F<K.length;F+=1){var fe=K[F],Fe=fe[1];if(fe[0].evaluate(D))return Fe.evaluate(D)}return this.otherwise.evaluate(D)},Cs.prototype.eachChild=function(D){for(var F=0,K=this.branches;F<K.length;F+=1){var fe=K[F],Fe=fe[1];D(fe[0]),D(Fe)}D(this.otherwise)},Cs.prototype.outputDefined=function(){return this.branches.every(function(D){return D[1].outputDefined()})&&this.otherwise.outputDefined()},Cs.prototype.serialize=function(){var D=["case"];return this.eachChild(function(F){D.push(F.serialize())}),D};var hs=function(D,F,K,fe){this.type=D,this.input=F,this.beginIndex=K,this.endIndex=fe};function Uu(D,F){return"=="===D||"!="===D?"boolean"===F.kind||"string"===F.kind||"number"===F.kind||"null"===F.kind||"value"===F.kind:"string"===F.kind||"number"===F.kind||"value"===F.kind}function Kc(D,F,K,fe){return 0===fe.compare(F,K)}function Rl(D,F,K){var fe="=="!==D&&"!="!==D;return function(){function Se(Fe,Ye,ut){this.type=Ht,this.lhs=Fe,this.rhs=Ye,this.collator=ut,this.hasUntypedArgument="value"===Fe.type.kind||"value"===Ye.type.kind}return Se.parse=function(Fe,Ye){if(3!==Fe.length&&4!==Fe.length)return Ye.error("Expected two or three arguments.");var ut=Fe[0],_t=Ye.parse(Fe[1],1,Jt);if(!_t)return null;if(!Uu(ut,_t.type))return Ye.concat(1).error('"'+ut+"\" comparisons are not supported for type '"+pn(_t.type)+"'.");var Ct=Ye.parse(Fe[2],2,Jt);if(!Ct)return null;if(!Uu(ut,Ct.type))return Ye.concat(2).error('"'+ut+"\" comparisons are not supported for type '"+pn(Ct.type)+"'.");if(_t.type.kind!==Ct.type.kind&&"value"!==_t.type.kind&&"value"!==Ct.type.kind)return Ye.error("Cannot compare types '"+pn(_t.type)+"' and '"+pn(Ct.type)+"'.");fe&&("value"===_t.type.kind&&"value"!==Ct.type.kind?_t=new cr(Ct.type,[_t]):"value"!==_t.type.kind&&"value"===Ct.type.kind&&(Ct=new cr(_t.type,[Ct])));var Ft=null;if(4===Fe.length){if("string"!==_t.type.kind&&"string"!==Ct.type.kind&&"value"!==_t.type.kind&&"value"!==Ct.type.kind)return Ye.error("Cannot use collator to compare non-string types.");if(!(Ft=Ye.parse(Fe[3],3,Kt)))return null}return new Se(_t,Ct,Ft)},Se.prototype.evaluate=function(Fe){var Ye=this.lhs.evaluate(Fe),ut=this.rhs.evaluate(Fe);if(fe&&this.hasUntypedArgument){var _t=mr(Ye),Ct=mr(ut);if(_t.kind!==Ct.kind||"string"!==_t.kind&&"number"!==_t.kind)throw new Un('Expected arguments for "'+D+'" to be (string, string) or (number, number), but found ('+_t.kind+", "+Ct.kind+") instead.")}if(this.collator&&!fe&&this.hasUntypedArgument){var Ft=mr(Ye),Xt=mr(ut);if("string"!==Ft.kind||"string"!==Xt.kind)return F(Fe,Ye,ut)}return this.collator?K(Fe,Ye,ut,this.collator.evaluate(Fe)):F(Fe,Ye,ut)},Se.prototype.eachChild=function(Fe){Fe(this.lhs),Fe(this.rhs),this.collator&&Fe(this.collator)},Se.prototype.outputDefined=function(){return!0},Se.prototype.serialize=function(){var Fe=[D];return this.eachChild(function(Ye){Fe.push(Ye.serialize())}),Fe},Se}()}hs.parse=function(D,F){if(D.length<=2||D.length>=5)return F.error("Expected 3 or 4 arguments, but found "+(D.length-1)+" instead.");var K=F.parse(D[1],1,Jt),fe=F.parse(D[2],2,Mt);if(!K||!fe)return null;if(!On(K.type,[An(Jt),kt,Jt]))return F.error("Expected first argument to be of type array or string, but found "+pn(K.type)+" instead");if(4===D.length){var Se=F.parse(D[3],3,Mt);return Se?new hs(K.type,K,fe,Se):null}return new hs(K.type,K,fe)},hs.prototype.evaluate=function(D){var F=this.input.evaluate(D),K=this.beginIndex.evaluate(D);if(!wn(F,["string","array"]))throw new Un("Expected first argument to be of type array or string, but found "+pn(mr(F))+" instead.");if(this.endIndex){var fe=this.endIndex.evaluate(D);return F.slice(K,fe)}return F.slice(K)},hs.prototype.eachChild=function(D){D(this.input),D(this.beginIndex),this.endIndex&&D(this.endIndex)},hs.prototype.outputDefined=function(){return!1},hs.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var D=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),D]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var Ll=Rl("==",function(D,F,K){return F===K},Kc),Vs=Rl("!=",function(D,F,K){return F!==K},function(D,F,K,fe){return!Kc(0,F,K,fe)}),Zf=Rl("<",function(D,F,K){return F<K},function(D,F,K,fe){return fe.compare(F,K)<0}),Qc=Rl(">",function(D,F,K){return F>K},function(D,F,K,fe){return fe.compare(F,K)>0}),tl=Rl("<=",function(D,F,K){return F<=K},function(D,F,K,fe){return fe.compare(F,K)<=0}),nl=Rl(">=",function(D,F,K){return F>=K},function(D,F,K,fe){return fe.compare(F,K)>=0}),Hi=function(D,F,K,fe,Se){this.type=kt,this.number=D,this.locale=F,this.currency=K,this.minFractionDigits=fe,this.maxFractionDigits=Se};Hi.parse=function(D,F){if(3!==D.length)return F.error("Expected two arguments.");var K=F.parse(D[1],1,Mt);if(!K)return null;var fe=D[2];if("object"!=typeof fe||Array.isArray(fe))return F.error("NumberFormat options argument must be an object.");var Se=null;if(fe.locale&&!(Se=F.parse(fe.locale,1,kt)))return null;var Fe=null;if(fe.currency&&!(Fe=F.parse(fe.currency,1,kt)))return null;var Ye=null;if(fe["min-fraction-digits"]&&!(Ye=F.parse(fe["min-fraction-digits"],1,Mt)))return null;var ut=null;return fe["max-fraction-digits"]&&!(ut=F.parse(fe["max-fraction-digits"],1,Mt))?null:new Hi(K,Se,Fe,Ye,ut)},Hi.prototype.evaluate=function(D){return new Intl.NumberFormat(this.locale?this.locale.evaluate(D):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(D):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(D):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(D):void 0}).format(this.number.evaluate(D))},Hi.prototype.eachChild=function(D){D(this.number),this.locale&&D(this.locale),this.currency&&D(this.currency),this.minFractionDigits&&D(this.minFractionDigits),this.maxFractionDigits&&D(this.maxFractionDigits)},Hi.prototype.outputDefined=function(){return!1},Hi.prototype.serialize=function(){var D={};return this.locale&&(D.locale=this.locale.serialize()),this.currency&&(D.currency=this.currency.serialize()),this.minFractionDigits&&(D["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(D["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),D]};var Hs=function(D){this.type=Mt,this.input=D};Hs.parse=function(D,F){if(2!==D.length)return F.error("Expected 1 argument, but found "+(D.length-1)+" instead.");var K=F.parse(D[1],1);return K?"array"!==K.type.kind&&"string"!==K.type.kind&&"value"!==K.type.kind?F.error("Expected argument of type string or array, but found "+pn(K.type)+" instead."):new Hs(K):null},Hs.prototype.evaluate=function(D){var F=this.input.evaluate(D);if("string"==typeof F||Array.isArray(F))return F.length;throw new Un("Expected value to be of type string or array, but found "+pn(mr(F))+" instead.")},Hs.prototype.eachChild=function(D){D(this.input)},Hs.prototype.outputDefined=function(){return!1},Hs.prototype.serialize=function(){var D=["length"];return this.eachChild(function(F){D.push(F.serialize())}),D};var Jl={"==":Ll,"!=":Vs,">":Qc,"<":Zf,">=":nl,"<=":tl,array:cr,at:$r,boolean:cr,case:Cs,coalesce:va,collator:Sr,format:on,image:xn,in:eo,"index-of":Li,interpolate:na,"interpolate-hcl":na,"interpolate-lab":na,length:Hs,let:Ss,literal:Dr,match:Ja,number:cr,"number-format":Hi,object:cr,slice:hs,step:Mi,string:cr,"to-boolean":Bn,"to-color":Bn,"to-number":Bn,"to-string":Bn,var:Cr,within:hr};function rl(D,F){var K=F[0],fe=F[1],Se=F[2],Fe=F[3];K=K.evaluate(D),fe=fe.evaluate(D),Se=Se.evaluate(D);var Ye=Fe?Fe.evaluate(D):1,ut=Gn(K,fe,Se,Ye);if(ut)throw new Un(ut);return new En(K/255*Ye,fe/255*Ye,Se/255*Ye,Ye)}function oc(D,F){return D in F}function il(D,F){var K=F[D];return void 0===K?null:K}function ol(D){return{type:D}}function ac(D){return{result:"success",value:D}}function yo(D){return{result:"error",value:D}}function ku(D){return"data-driven"===D["property-type"]||"cross-faded-data-driven"===D["property-type"]}function Kl(D){return!!D.expression&&D.expression.parameters.indexOf("zoom")>-1}function Ml(D){return!!D.expression&&D.expression.interpolated}function mi(D){return D instanceof Number?"number":D instanceof String?"string":D instanceof Boolean?"boolean":Array.isArray(D)?"array":null===D?"null":typeof D}function Ql(D){return"object"==typeof D&&null!==D&&!Array.isArray(D)}function ef(D){return D}function ni(D,F){var K,fe,Se,Fe="color"===F.type,Ye=D.stops&&"object"==typeof D.stops[0][0],_t=Ye||!(Ye||void 0!==D.property),Ct=D.type||(Ml(F)?"exponential":"interval");if(Fe&&((D=vt({},D)).stops&&(D.stops=D.stops.map(function(Nr){return[Nr[0],En.parse(Nr[1])]})),D.default=En.parse(D.default?D.default:F.default)),D.colorSpace&&"rgb"!==D.colorSpace&&!Cc[D.colorSpace])throw new Error("Unknown color space: "+D.colorSpace);if("exponential"===Ct)K=Io;else if("interval"===Ct)K=ra;else if("categorical"===Ct){K=Yi,fe=Object.create(null);for(var Ft=0,Xt=D.stops;Ft<Xt.length;Ft+=1){var nn=Xt[Ft];fe[nn[0]]=nn[1]}Se=typeof D.stops[0][0]}else{if("identity"!==Ct)throw new Error('Unknown function type "'+Ct+'"');K=eu}if(Ye){for(var en={},_n=[],Pn=0;Pn<D.stops.length;Pn++){var Qn=D.stops[Pn],Kn=Qn[0].zoom;void 0===en[Kn]&&(en[Kn]={zoom:Kn,type:D.type,property:D.property,default:D.default,stops:[]},_n.push(Kn)),en[Kn].stops.push([Qn[0].value,Qn[1]])}for(var or=[],lr=0,pr=_n;lr<pr.length;lr+=1){var yr=pr[lr];or.push([en[yr].zoom,ni(en[yr],F)])}var br={name:"linear"};return{kind:"composite",interpolationType:br,interpolationFactor:na.interpolationFactor.bind(void 0,br),zoomStops:or.map(function(Nr){return Nr[0]}),evaluate:function(Nr,Xr){var si=Nr.zoom;return Io({stops:or,base:D.base},F,si).evaluate(si,Xr)}}}if(_t){var Gr="exponential"===Ct?{name:"exponential",base:void 0!==D.base?D.base:1}:null;return{kind:"camera",interpolationType:Gr,interpolationFactor:na.interpolationFactor.bind(void 0,Gr),zoomStops:D.stops.map(function(Nr){return Nr[0]}),evaluate:function(Nr){return K(D,F,Nr.zoom,fe,Se)}}}return{kind:"source",evaluate:function(Nr,Xr){var si=Xr&&Xr.properties?Xr.properties[D.property]:void 0;return void 0===si?Ca(D.default,F.default):K(D,F,si,fe,Se)}}}function Ca(D,F,K){return void 0!==D?D:void 0!==F?F:void 0!==K?K:void 0}function Yi(D,F,K,fe,Se){return Ca(typeof K===Se?fe[K]:void 0,D.default,F.default)}function ra(D,F,K){if("number"!==mi(K))return Ca(D.default,F.default);var fe=D.stops.length;if(1===fe||K<=D.stops[0][0])return D.stops[0][1];if(K>=D.stops[fe-1][0])return D.stops[fe-1][1];var Se=Wr(D.stops.map(function(Fe){return Fe[0]}),K);return D.stops[Se][1]}function Io(D,F,K){var fe=void 0!==D.base?D.base:1;if("number"!==mi(K))return Ca(D.default,F.default);var Se=D.stops.length;if(1===Se||K<=D.stops[0][0])return D.stops[0][1];if(K>=D.stops[Se-1][0])return D.stops[Se-1][1];var nn,en,Pn,Qn,Fe=Wr(D.stops.map(function(Xt){return Xt[0]}),K),Ye=(nn=fe,Qn=K-(en=D.stops[Fe][0]),0==(Pn=D.stops[Fe+1][0]-en)?0:1===nn?Qn/Pn:(Math.pow(nn,Qn)-1)/(Math.pow(nn,Pn)-1)),ut=D.stops[Fe][1],_t=D.stops[Fe+1][1],Ct=Pr[F.type]||ef;if(D.colorSpace&&"rgb"!==D.colorSpace){var Ft=Cc[D.colorSpace];Ct=function(Xt,nn){return Ft.reverse(Ft.interpolate(Ft.forward(Xt),Ft.forward(nn),Ye))}}return"function"==typeof ut.evaluate?{evaluate:function(){for(var Xt=[],nn=arguments.length;nn--;)Xt[nn]=arguments[nn];var en=ut.evaluate.apply(void 0,Xt),_n=_t.evaluate.apply(void 0,Xt);if(void 0!==en&&void 0!==_n)return Ct(en,_n,Ye)}}:Ct(ut,_t,Ye)}function eu(D,F,K){return"color"===F.type?K=En.parse(K):"formatted"===F.type?K=er.fromString(K.toString()):"resolvedImage"===F.type?K=Zn.fromString(K.toString()):mi(K)===F.type||"enum"===F.type&&F.values[K]||(K=void 0),Ca(K,D.default,F.default)}fr.register(Jl,{error:[{kind:"error"},[kt],function(D,F){throw new Un(F[0].evaluate(D))}],typeof:[kt,[Jt],function(D,F){return pn(mr(F[0].evaluate(D)))}],"to-rgba":[An(Mt,4),[qt],function(D,F){return F[0].evaluate(D).toArray()}],rgb:[qt,[Mt,Mt,Mt],rl],rgba:[qt,[Mt,Mt,Mt,Mt],rl],has:{type:Ht,overloads:[[[kt],function(D,F){return oc(F[0].evaluate(D),D.properties())}],[[kt,Qt],function(D,F){var fe=F[1];return oc(F[0].evaluate(D),fe.evaluate(D))}]]},get:{type:Jt,overloads:[[[kt],function(D,F){return il(F[0].evaluate(D),D.properties())}],[[kt,Qt],function(D,F){var fe=F[1];return il(F[0].evaluate(D),fe.evaluate(D))}]]},"feature-state":[Jt,[kt],function(D,F){return il(F[0].evaluate(D),D.featureState||{})}],properties:[Qt,[],function(D){return D.properties()}],"geometry-type":[kt,[],function(D){return D.geometryType()}],id:[Jt,[],function(D){return D.id()}],zoom:[Mt,[],function(D){return D.globals.zoom}],"heatmap-density":[Mt,[],function(D){return D.globals.heatmapDensity||0}],"line-progress":[Mt,[],function(D){return D.globals.lineProgress||0}],accumulated:[Jt,[],function(D){return void 0===D.globals.accumulated?null:D.globals.accumulated}],"+":[Mt,ol(Mt),function(D,F){for(var K=0,fe=0,Se=F;fe<Se.length;fe+=1)K+=Se[fe].evaluate(D);return K}],"*":[Mt,ol(Mt),function(D,F){for(var K=1,fe=0,Se=F;fe<Se.length;fe+=1)K*=Se[fe].evaluate(D);return K}],"-":{type:Mt,overloads:[[[Mt,Mt],function(D,F){var fe=F[1];return F[0].evaluate(D)-fe.evaluate(D)}],[[Mt],function(D,F){return-F[0].evaluate(D)}]]},"/":[Mt,[Mt,Mt],function(D,F){var fe=F[1];return F[0].evaluate(D)/fe.evaluate(D)}],"%":[Mt,[Mt,Mt],function(D,F){var fe=F[1];return F[0].evaluate(D)%fe.evaluate(D)}],ln2:[Mt,[],function(){return Math.LN2}],pi:[Mt,[],function(){return Math.PI}],e:[Mt,[],function(){return Math.E}],"^":[Mt,[Mt,Mt],function(D,F){var fe=F[1];return Math.pow(F[0].evaluate(D),fe.evaluate(D))}],sqrt:[Mt,[Mt],function(D,F){return Math.sqrt(F[0].evaluate(D))}],log10:[Mt,[Mt],function(D,F){return Math.log(F[0].evaluate(D))/Math.LN10}],ln:[Mt,[Mt],function(D,F){return Math.log(F[0].evaluate(D))}],log2:[Mt,[Mt],function(D,F){return Math.log(F[0].evaluate(D))/Math.LN2}],sin:[Mt,[Mt],function(D,F){return Math.sin(F[0].evaluate(D))}],cos:[Mt,[Mt],function(D,F){return Math.cos(F[0].evaluate(D))}],tan:[Mt,[Mt],function(D,F){return Math.tan(F[0].evaluate(D))}],asin:[Mt,[Mt],function(D,F){return Math.asin(F[0].evaluate(D))}],acos:[Mt,[Mt],function(D,F){return Math.acos(F[0].evaluate(D))}],atan:[Mt,[Mt],function(D,F){return Math.atan(F[0].evaluate(D))}],min:[Mt,ol(Mt),function(D,F){return Math.min.apply(Math,F.map(function(K){return K.evaluate(D)}))}],max:[Mt,ol(Mt),function(D,F){return Math.max.apply(Math,F.map(function(K){return K.evaluate(D)}))}],abs:[Mt,[Mt],function(D,F){return Math.abs(F[0].evaluate(D))}],round:[Mt,[Mt],function(D,F){var K=F[0].evaluate(D);return K<0?-Math.round(-K):Math.round(K)}],floor:[Mt,[Mt],function(D,F){return Math.floor(F[0].evaluate(D))}],ceil:[Mt,[Mt],function(D,F){return Math.ceil(F[0].evaluate(D))}],"filter-==":[Ht,[kt,Jt],function(D,F){var K=F[0],fe=F[1];return D.properties()[K.value]===fe.value}],"filter-id-==":[Ht,[Jt],function(D,F){var K=F[0];return D.id()===K.value}],"filter-type-==":[Ht,[kt],function(D,F){var K=F[0];return D.geometryType()===K.value}],"filter-<":[Ht,[kt,Jt],function(D,F){var K=F[0],fe=F[1],Se=D.properties()[K.value],Fe=fe.value;return typeof Se==typeof Fe&&Se<Fe}],"filter-id-<":[Ht,[Jt],function(D,F){var K=F[0],fe=D.id(),Se=K.value;return typeof fe==typeof Se&&fe<Se}],"filter->":[Ht,[kt,Jt],function(D,F){var K=F[0],fe=F[1],Se=D.properties()[K.value],Fe=fe.value;return typeof Se==typeof Fe&&Se>Fe}],"filter-id->":[Ht,[Jt],function(D,F){var K=F[0],fe=D.id(),Se=K.value;return typeof fe==typeof Se&&fe>Se}],"filter-<=":[Ht,[kt,Jt],function(D,F){var K=F[0],fe=F[1],Se=D.properties()[K.value],Fe=fe.value;return typeof Se==typeof Fe&&Se<=Fe}],"filter-id-<=":[Ht,[Jt],function(D,F){var K=F[0],fe=D.id(),Se=K.value;return typeof fe==typeof Se&&fe<=Se}],"filter->=":[Ht,[kt,Jt],function(D,F){var K=F[0],fe=F[1],Se=D.properties()[K.value],Fe=fe.value;return typeof Se==typeof Fe&&Se>=Fe}],"filter-id->=":[Ht,[Jt],function(D,F){var K=F[0],fe=D.id(),Se=K.value;return typeof fe==typeof Se&&fe>=Se}],"filter-has":[Ht,[Jt],function(D,F){return F[0].value in D.properties()}],"filter-has-id":[Ht,[],function(D){return null!==D.id()&&void 0!==D.id()}],"filter-type-in":[Ht,[An(kt)],function(D,F){return F[0].value.indexOf(D.geometryType())>=0}],"filter-id-in":[Ht,[An(Jt)],function(D,F){return F[0].value.indexOf(D.id())>=0}],"filter-in-small":[Ht,[kt,An(Jt)],function(D,F){var K=F[0];return F[1].value.indexOf(D.properties()[K.value])>=0}],"filter-in-large":[Ht,[kt,An(Jt)],function(D,F){var K=F[0],fe=F[1];return function(Se,Fe,Ye,ut){for(;Ye<=ut;){var _t=Ye+ut>>1;if(Fe[_t]===Se)return!0;Fe[_t]>Se?ut=_t-1:Ye=_t+1}return!1}(D.properties()[K.value],fe.value,0,fe.value.length-1)}],all:{type:Ht,overloads:[[[Ht,Ht],function(D,F){var fe=F[1];return F[0].evaluate(D)&&fe.evaluate(D)}],[ol(Ht),function(D,F){for(var K=0,fe=F;K<fe.length;K+=1)if(!fe[K].evaluate(D))return!1;return!0}]]},any:{type:Ht,overloads:[[[Ht,Ht],function(D,F){var fe=F[1];return F[0].evaluate(D)||fe.evaluate(D)}],[ol(Ht),function(D,F){for(var K=0,fe=F;K<fe.length;K+=1)if(fe[K].evaluate(D))return!0;return!1}]]},"!":[Ht,[Ht],function(D,F){return!F[0].evaluate(D)}],"is-supported-script":[Ht,[kt],function(D,F){var fe=D.globals&&D.globals.isSupportedScript;return!fe||fe(F[0].evaluate(D))}],upcase:[kt,[kt],function(D,F){return F[0].evaluate(D).toUpperCase()}],downcase:[kt,[kt],function(D,F){return F[0].evaluate(D).toLowerCase()}],concat:[kt,ol(Jt),function(D,F){return F.map(function(K){return Vr(K.evaluate(D))}).join("")}],"resolved-locale":[kt,[Kt],function(D,F){return F[0].evaluate(D).resolvedLocale()}]});var La=function(D,F){var K;this.expression=D,this._warningHistory={},this._evaluator=new nr,this._defaultValue=F?"color"===(K=F).type&&Ql(K.default)?new En(0,0,0,0):"color"===K.type?En.parse(K.default)||null:void 0===K.default?null:K.default:null,this._enumValues=F&&"enum"===F.type?F.values:null};function ds(D){return Array.isArray(D)&&D.length>0&&"string"==typeof D[0]&&D[0]in Jl}function ai(D,F){var Se,Fe,K=new Ar(Jl,[],F?(Fe={color:qt,string:kt,number:Mt,enum:kt,boolean:Ht,formatted:ln,resolvedImage:Tn},"array"===(Se=F).type?An(Fe[Se.value]||Jt,Se.length):Fe[Se.type]):void 0),fe=K.parse(D,void 0,void 0,void 0,F&&"string"===F.type?{typeAnnotation:"coerce"}:void 0);return fe?ac(new La(fe,F)):yo(K.errors)}La.prototype.evaluateWithoutErrorHandling=function(D,F,K,fe,Se,Fe){return this._evaluator.globals=D,this._evaluator.feature=F,this._evaluator.featureState=K,this._evaluator.canonical=fe,this._evaluator.availableImages=Se||null,this._evaluator.formattedSection=Fe,this.expression.evaluate(this._evaluator)},La.prototype.evaluate=function(D,F,K,fe,Se,Fe){this._evaluator.globals=D,this._evaluator.feature=F||null,this._evaluator.featureState=K||null,this._evaluator.canonical=fe,this._evaluator.availableImages=Se||null,this._evaluator.formattedSection=Fe||null;try{var Ye=this.expression.evaluate(this._evaluator);if(null==Ye||"number"==typeof Ye&&Ye!=Ye)return this._defaultValue;if(this._enumValues&&!(Ye in this._enumValues))throw new Un("Expected value to be one of "+Object.keys(this._enumValues).map(function(ut){return JSON.stringify(ut)}).join(", ")+", but found "+JSON.stringify(Ye)+" instead.");return Ye}catch(ut){return this._warningHistory[ut.message]||(this._warningHistory[ut.message]=!0,typeof console<"u"&&console.warn(ut.message)),this._defaultValue}};var Di=function(D,F){this.kind=D,this._styleExpression=F,this.isStateDependent="constant"!==D&&!wr(F.expression)};Di.prototype.evaluateWithoutErrorHandling=function(D,F,K,fe,Se,Fe){return this._styleExpression.evaluateWithoutErrorHandling(D,F,K,fe,Se,Fe)},Di.prototype.evaluate=function(D,F,K,fe,Se,Fe){return this._styleExpression.evaluate(D,F,K,fe,Se,Fe)};var Ao=function(D,F,K,fe){this.kind=D,this.zoomStops=K,this._styleExpression=F,this.isStateDependent="camera"!==D&&!wr(F.expression),this.interpolationType=fe};function Ha(D,F){if("error"===(D=ai(D,F)).result)return D;var K=D.value.expression,fe=sr(K);if(!fe&&!ku(F))return yo([new jt("","data expressions not supported")]);var Se=Tr(K,["zoom"]);if(!Se&&!Kl(F))return yo([new jt("","zoom expressions not supported")]);var Fe=ca(K);return Fe||Se?Fe instanceof jt?yo([Fe]):Fe instanceof na&&!Ml(F)?yo([new jt("",'"interpolate" expressions cannot be used with this property')]):ac(Fe?new Ao(fe?"camera":"composite",D.value,Fe.labels,Fe instanceof na?Fe.interpolation:void 0):new Di(fe?"constant":"source",D.value)):yo([new jt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}Ao.prototype.evaluateWithoutErrorHandling=function(D,F,K,fe,Se,Fe){return this._styleExpression.evaluateWithoutErrorHandling(D,F,K,fe,Se,Fe)},Ao.prototype.evaluate=function(D,F,K,fe,Se,Fe){return this._styleExpression.evaluate(D,F,K,fe,Se,Fe)},Ao.prototype.interpolationFactor=function(D,F,K){return this.interpolationType?na.interpolationFactor(this.interpolationType,D,F,K):0};var al=function(D,F){this._parameters=D,this._specification=F,vt(this,ni(this._parameters,this._specification))};function ca(D){var F=null;if(D instanceof Ss)F=ca(D.result);else if(D instanceof va)for(var K=0,fe=D.args;K<fe.length&&!(F=ca(fe[K]));K+=1);else(D instanceof Mi||D instanceof na)&&D.input instanceof fr&&"zoom"===D.input.name&&(F=D);return F instanceof jt||D.eachChild(function(Fe){var Ye=ca(Fe);Ye instanceof jt?F=Ye:!F&&Ye?F=new jt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):F&&Ye&&F!==Ye&&(F=new jt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),F}function Na(D){var F=D.key,K=D.value,fe=D.valueSpec||{},Se=D.objectElementValidators||{},Fe=D.style,Ye=D.styleSpec,ut=[],_t=mi(K);if("object"!==_t)return[new Ge(F,K,"object expected, "+_t+" found")];for(var Ct in K){var Ft=Ct.split(".")[0],Xt=fe[Ft]||fe["*"],nn=void 0;if(Se[Ft])nn=Se[Ft];else if(fe[Ft])nn=go;else if(Se["*"])nn=Se["*"];else{if(!fe["*"]){ut.push(new Ge(F,K[Ct],'unknown property "'+Ct+'"'));continue}nn=go}ut=ut.concat(nn({key:(F&&F+".")+Ct,value:K[Ct],valueSpec:Xt,style:Fe,styleSpec:Ye,object:K,objectKey:Ct},K))}for(var en in fe)Se[en]||fe[en].required&&void 0===fe[en].default&&void 0===K[en]&&ut.push(new Ge(F,K,'missing required property "'+en+'"'));return ut}function Lo(D){var F=D.value,K=D.valueSpec,fe=D.style,Se=D.styleSpec,Fe=D.key,Ye=D.arrayElementValidator||go;if("array"!==mi(F))return[new Ge(Fe,F,"array expected, "+mi(F)+" found")];if(K.length&&F.length!==K.length)return[new Ge(Fe,F,"array length "+K.length+" expected, length "+F.length+" found")];if(K["min-length"]&&F.length<K["min-length"])return[new Ge(Fe,F,"array length at least "+K["min-length"]+" expected, length "+F.length+" found")];var ut={type:K.value,values:K.values};Se.$version<7&&(ut.function=K.function),"object"===mi(K.value)&&(ut=K.value);for(var _t=[],Ct=0;Ct<F.length;Ct++)_t=_t.concat(Ye({array:F,arrayIndex:Ct,value:F[Ct],valueSpec:ut,style:fe,styleSpec:Se,key:Fe+"["+Ct+"]"}));return _t}function tu(D){var F=D.key,K=D.value,fe=D.valueSpec,Se=mi(K);return"number"===Se&&K!=K&&(Se="NaN"),"number"!==Se?[new Ge(F,K,"number expected, "+Se+" found")]:"minimum"in fe&&K<fe.minimum?[new Ge(F,K,K+" is less than the minimum value "+fe.minimum)]:"maximum"in fe&&K>fe.maximum?[new Ge(F,K,K+" is greater than the maximum value "+fe.maximum)]:[]}function Su(D){var F,K,fe,Se=D.valueSpec,Fe=bt(D.value.type),Ye={},ut="categorical"!==Fe&&void 0===D.value.property,_t=!ut,Ct="array"===mi(D.value.stops)&&"array"===mi(D.value.stops[0])&&"object"===mi(D.value.stops[0][0]),Ft=Na({key:D.key,value:D.value,valueSpec:D.styleSpec.function,style:D.style,styleSpec:D.styleSpec,objectElementValidators:{stops:function(en){if("identity"===Fe)return[new Ge(en.key,en.value,'identity function may not have a "stops" property')];var _n=[],Pn=en.value;return _n=_n.concat(Lo({key:en.key,value:Pn,valueSpec:en.valueSpec,style:en.style,styleSpec:en.styleSpec,arrayElementValidator:Xt})),"array"===mi(Pn)&&0===Pn.length&&_n.push(new Ge(en.key,Pn,"array must have at least one stop")),_n},default:function(en){return go({key:en.key,value:en.value,valueSpec:Se,style:en.style,styleSpec:en.styleSpec})}}});return"identity"===Fe&&ut&&Ft.push(new Ge(D.key,D.value,'missing required property "property"')),"identity"===Fe||D.value.stops||Ft.push(new Ge(D.key,D.value,'missing required property "stops"')),"exponential"===Fe&&D.valueSpec.expression&&!Ml(D.valueSpec)&&Ft.push(new Ge(D.key,D.value,"exponential functions not supported")),D.styleSpec.$version>=8&&(_t&&!ku(D.valueSpec)?Ft.push(new Ge(D.key,D.value,"property functions not supported")):ut&&!Kl(D.valueSpec)&&Ft.push(new Ge(D.key,D.value,"zoom functions not supported"))),"categorical"!==Fe&&!Ct||void 0!==D.value.property||Ft.push(new Ge(D.key,D.value,'"property" property is required')),Ft;function Xt(en){var _n=[],Pn=en.value,Qn=en.key;if("array"!==mi(Pn))return[new Ge(Qn,Pn,"array expected, "+mi(Pn)+" found")];if(2!==Pn.length)return[new Ge(Qn,Pn,"array length 2 expected, length "+Pn.length+" found")];if(Ct){if("object"!==mi(Pn[0]))return[new Ge(Qn,Pn,"object expected, "+mi(Pn[0])+" found")];if(void 0===Pn[0].zoom)return[new Ge(Qn,Pn,"object stop key must have zoom")];if(void 0===Pn[0].value)return[new Ge(Qn,Pn,"object stop key must have value")];if(fe&&fe>bt(Pn[0].zoom))return[new Ge(Qn,Pn[0].zoom,"stop zoom values must appear in ascending order")];bt(Pn[0].zoom)!==fe&&(fe=bt(Pn[0].zoom),K=void 0,Ye={}),_n=_n.concat(Na({key:Qn+"[0]",value:Pn[0],valueSpec:{zoom:{}},style:en.style,styleSpec:en.styleSpec,objectElementValidators:{zoom:tu,value:nn}}))}else _n=_n.concat(nn({key:Qn+"[0]",value:Pn[0],valueSpec:{},style:en.style,styleSpec:en.styleSpec},Pn));return ds(Lt(Pn[1]))?_n.concat([new Ge(Qn+"[1]",Pn[1],"expressions are not allowed in function stops.")]):_n.concat(go({key:Qn+"[1]",value:Pn[1],valueSpec:Se,style:en.style,styleSpec:en.styleSpec}))}function nn(en,_n){var Pn=mi(en.value),Qn=bt(en.value),Kn=null!==en.value?en.value:_n;if(F){if(Pn!==F)return[new Ge(en.key,Kn,Pn+" stop domain type must match previous stop domain type "+F)]}else F=Pn;if("number"!==Pn&&"string"!==Pn&&"boolean"!==Pn)return[new Ge(en.key,Kn,"stop domain value must be a number, string, or boolean")];if("number"!==Pn&&"categorical"!==Fe){var or="number expected, "+Pn+" found";return ku(Se)&&void 0===Fe&&(or+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ge(en.key,Kn,or)]}return"categorical"!==Fe||"number"!==Pn||isFinite(Qn)&&Math.floor(Qn)===Qn?"categorical"!==Fe&&"number"===Pn&&void 0!==K&&Qn<K?[new Ge(en.key,Kn,"stop domain values must appear in ascending order")]:(K=Qn,"categorical"===Fe&&Qn in Ye?[new Ge(en.key,Kn,"stop domain values must be unique")]:(Ye[Qn]=!0,[])):[new Ge(en.key,Kn,"integer expected, found "+Qn)]}}function Oi(D){var F=("property"===D.expressionContext?Ha:ai)(Lt(D.value),D.valueSpec);if("error"===F.result)return F.value.map(function(fe){return new Ge(""+D.key+fe.key,D.value,fe.message)});var K=F.value.expression||F.value._styleExpression.expression;if("property"===D.expressionContext&&"text-font"===D.propertyKey&&!K.outputDefined())return[new Ge(D.key,D.value,'Invalid data expression for "'+D.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===D.expressionContext&&"layout"===D.propertyType&&!wr(K))return[new Ge(D.key,D.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===D.expressionContext&&!wr(K))return[new Ge(D.key,D.value,'"feature-state" data expressions are not supported with filters.')];if(D.expressionContext&&0===D.expressionContext.indexOf("cluster")){if(!Tr(K,["zoom","feature-state"]))return[new Ge(D.key,D.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===D.expressionContext&&!sr(K))return[new Ge(D.key,D.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Cu(D){var F=D.key,K=D.value,fe=D.valueSpec,Se=[];return Array.isArray(fe.values)?-1===fe.values.indexOf(bt(K))&&Se.push(new Ge(F,K,"expected one of ["+fe.values.join(", ")+"], "+JSON.stringify(K)+" found")):-1===Object.keys(fe.values).indexOf(bt(K))&&Se.push(new Ge(F,K,"expected one of ["+Object.keys(fe.values).join(", ")+"], "+JSON.stringify(K)+" found")),Se}function Nl(D){if(!0===D||!1===D)return!0;if(!Array.isArray(D)||0===D.length)return!1;switch(D[0]){case"has":return D.length>=2&&"$id"!==D[1]&&"$type"!==D[1];case"in":return D.length>=3&&("string"!=typeof D[1]||Array.isArray(D[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==D.length||Array.isArray(D[1])||Array.isArray(D[2]);case"any":case"all":for(var F=0,K=D.slice(1);F<K.length;F+=1){var fe=K[F];if(!Nl(fe)&&"boolean"!=typeof fe)return!1}return!0;default:return!0}}al.deserialize=function(D){return new al(D._parameters,D._specification)},al.serialize=function(D){return{_parameters:D._parameters,_specification:D._specification}};var sc={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Al(D){if(null==D)return{filter:function(){return!0},needGeometry:!1};Nl(D)||(D=Gs(D));var F=ai(D,sc);if("error"===F.result)throw new Error(F.value.map(function(K){return K.key+": "+K.message}).join(", "));return{filter:function(K,fe,Se){return F.value.evaluate(K,fe,{},Se)},needGeometry:sl(D)}}function ia(D,F){return D<F?-1:D>F?1:0}function sl(D){if(!Array.isArray(D))return!1;if("within"===D[0])return!0;for(var F=1;F<D.length;F++)if(sl(D[F]))return!0;return!1}function Gs(D){if(!D)return!0;var F,K=D[0];return D.length<=1?"any"!==K:"=="===K?Gi(D[1],D[2],"=="):"!="===K?Bi(Gi(D[1],D[2],"==")):"<"===K||">"===K||"<="===K||">="===K?Gi(D[1],D[2],K):"any"===K?(F=D.slice(1),["any"].concat(F.map(Gs))):"all"===K?["all"].concat(D.slice(1).map(Gs)):"none"===K?["all"].concat(D.slice(1).map(Gs).map(Bi)):"in"===K?qs(D[1],D.slice(2)):"!in"===K?Bi(qs(D[1],D.slice(2))):"has"===K?Fl(D[1]):"!has"===K?Bi(Fl(D[1])):"within"!==K||D}function Gi(D,F,K){switch(D){case"$type":return["filter-type-"+K,F];case"$id":return["filter-id-"+K,F];default:return["filter-"+K,D,F]}}function qs(D,F){if(0===F.length)return!1;switch(D){case"$type":return["filter-type-in",["literal",F]];case"$id":return["filter-id-in",["literal",F]];default:return F.length>200&&!F.some(function(K){return typeof K!=typeof F[0]})?["filter-in-large",D,["literal",F.sort(ia)]]:["filter-in-small",D,["literal",F]]}}function Fl(D){switch(D){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",D]}}function Bi(D){return["!",D]}function to(D){return Nl(Lt(D.value))?Oi(vt({},D,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Xi(D)}function Xi(D){var F=D.value,K=D.key;if("array"!==mi(F))return[new Ge(K,F,"array expected, "+mi(F)+" found")];var fe,Se=D.styleSpec,Fe=[];if(F.length<1)return[new Ge(K,F,"filter array must have at least 1 element")];switch(Fe=Fe.concat(Cu({key:K+"[0]",value:F[0],valueSpec:Se.filter_operator,style:D.style,styleSpec:D.styleSpec})),bt(F[0])){case"<":case"<=":case">":case">=":F.length>=2&&"$type"===bt(F[1])&&Fe.push(new Ge(K,F,'"$type" cannot be use with operator "'+F[0]+'"'));case"==":case"!=":3!==F.length&&Fe.push(new Ge(K,F,'filter array for operator "'+F[0]+'" must have 3 elements'));case"in":case"!in":F.length>=2&&"string"!==(fe=mi(F[1]))&&Fe.push(new Ge(K+"[1]",F[1],"string expected, "+fe+" found"));for(var Ye=2;Ye<F.length;Ye++)fe=mi(F[Ye]),"$type"===bt(F[1])?Fe=Fe.concat(Cu({key:K+"["+Ye+"]",value:F[Ye],valueSpec:Se.geometry_type,style:D.style,styleSpec:D.styleSpec})):"string"!==fe&&"number"!==fe&&"boolean"!==fe&&Fe.push(new Ge(K+"["+Ye+"]",F[Ye],"string, number, or boolean expected, "+fe+" found"));break;case"any":case"all":case"none":for(var ut=1;ut<F.length;ut++)Fe=Fe.concat(Xi({key:K+"["+ut+"]",value:F[ut],style:D.style,styleSpec:D.styleSpec}));break;case"has":case"!has":fe=mi(F[1]),2!==F.length?Fe.push(new Ge(K,F,'filter array for "'+F[0]+'" operator must have 2 elements')):"string"!==fe&&Fe.push(new Ge(K+"[1]",F[1],"string expected, "+fe+" found"));break;case"within":fe=mi(F[1]),2!==F.length?Fe.push(new Ge(K,F,'filter array for "'+F[0]+'" operator must have 2 elements')):"object"!==fe&&Fe.push(new Ge(K+"[1]",F[1],"object expected, "+fe+" found"))}return Fe}function kl(D,F){var K=D.key,fe=D.style,Se=D.styleSpec,Fe=D.value,Ye=D.objectKey,ut=Se[F+"_"+D.layerType];if(!ut)return[];var _t=Ye.match(/^(.*)-transition$/);if("paint"===F&&_t&&ut[_t[1]]&&ut[_t[1]].transition)return go({key:K,value:Fe,valueSpec:Se.transition,style:fe,styleSpec:Se});var Ct,Ft=D.valueSpec||ut[Ye];if(!Ft)return[new Ge(K,Fe,'unknown property "'+Ye+'"')];if("string"===mi(Fe)&&ku(Ft)&&!Ft.tokens&&(Ct=/^{([^}]+)}$/.exec(Fe)))return[new Ge(K,Fe,'"'+Ye+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Ct[1])+" }`.")];var Xt=[];return"symbol"===D.layerType&&("text-field"===Ye&&fe&&!fe.glyphs&&Xt.push(new Ge(K,Fe,'use of "text-field" requires a style "glyphs" property')),"text-font"===Ye&&Ql(Lt(Fe))&&"identity"===bt(Fe.type)&&Xt.push(new Ge(K,Fe,'"text-font" does not support identity functions'))),Xt.concat(go({key:D.key,value:Fe,valueSpec:Ft,style:fe,styleSpec:Se,expressionContext:"property",propertyType:F,propertyKey:Ye}))}function Es(D){return kl(D,"paint")}function fu(D){return kl(D,"layout")}function nu(D){var F=[],K=D.value,fe=D.key,Se=D.style,Fe=D.styleSpec;K.type||K.ref||F.push(new Ge(fe,K,'either "type" or "ref" is required'));var Ye,ut=bt(K.type),_t=bt(K.ref);if(K.id)for(var Ct=bt(K.id),Ft=0;Ft<D.arrayIndex;Ft++){var Xt=Se.layers[Ft];bt(Xt.id)===Ct&&F.push(new Ge(fe,K.id,'duplicate layer id "'+K.id+'", previously used at line '+Xt.id.__line__))}if("ref"in K)["type","source","source-layer","filter","layout"].forEach(function(_n){_n in K&&F.push(new Ge(fe,K[_n],'"'+_n+'" is prohibited for ref layers'))}),Se.layers.forEach(function(_n){bt(_n.id)===_t&&(Ye=_n)}),Ye?Ye.ref?F.push(new Ge(fe,K.ref,"ref cannot reference another ref layer")):ut=bt(Ye.type):F.push(new Ge(fe,K.ref,'ref layer "'+_t+'" not found'));else if("background"!==ut)if(K.source){var nn=Se.sources&&Se.sources[K.source],en=nn&&bt(nn.type);nn?"vector"===en&&"raster"===ut?F.push(new Ge(fe,K.source,'layer "'+K.id+'" requires a raster source')):"raster"===en&&"raster"!==ut?F.push(new Ge(fe,K.source,'layer "'+K.id+'" requires a vector source')):"vector"!==en||K["source-layer"]?"raster-dem"===en&&"hillshade"!==ut?F.push(new Ge(fe,K.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==ut||!K.paint||!K.paint["line-gradient"]||"geojson"===en&&nn.lineMetrics||F.push(new Ge(fe,K,'layer "'+K.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):F.push(new Ge(fe,K,'layer "'+K.id+'" must specify a "source-layer"')):F.push(new Ge(fe,K.source,'source "'+K.source+'" not found'))}else F.push(new Ge(fe,K,'missing required property "source"'));return F=F.concat(Na({key:fe,value:K,valueSpec:Fe.layer,style:D.style,styleSpec:D.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return go({key:fe+".type",value:K.type,valueSpec:Fe.layer.type,style:D.style,styleSpec:D.styleSpec,object:K,objectKey:"type"})},filter:to,layout:function(_n){return Na({layer:K,key:_n.key,value:_n.value,style:_n.style,styleSpec:_n.styleSpec,objectElementValidators:{"*":function(Pn){return fu(vt({layerType:ut},Pn))}}})},paint:function(_n){return Na({layer:K,key:_n.key,value:_n.value,style:_n.style,styleSpec:_n.styleSpec,objectElementValidators:{"*":function(Pn){return Es(vt({layerType:ut},Pn))}}})}}}))}function oa(D){var F=D.value,K=D.key,fe=mi(F);return"string"!==fe?[new Ge(K,F,"string expected, "+fe+" found")]:[]}var tf={promoteId:function(D){var F=D.key,K=D.value;if("string"===mi(K))return oa({key:F,value:K});var fe=[];for(var Se in K)fe.push.apply(fe,oa({key:F+"."+Se,value:K[Se]}));return fe}};function ya(D){var F=D.value,K=D.key,fe=D.styleSpec,Se=D.style;if(!F.type)return[new Ge(K,F,'"type" is required')];var Fe,Ye=bt(F.type);switch(Ye){case"vector":case"raster":case"raster-dem":return Na({key:K,value:F,valueSpec:fe["source_"+Ye.replace("-","_")],style:D.style,styleSpec:fe,objectElementValidators:tf});case"geojson":if(Fe=Na({key:K,value:F,valueSpec:fe.source_geojson,style:Se,styleSpec:fe,objectElementValidators:tf}),F.cluster)for(var ut in F.clusterProperties){var _t=F.clusterProperties[ut],Ct=_t[0],Xt="string"==typeof Ct?[Ct,["accumulated"],["get",ut]]:Ct;Fe.push.apply(Fe,Oi({key:K+"."+ut+".map",value:_t[1],expressionContext:"cluster-map"})),Fe.push.apply(Fe,Oi({key:K+"."+ut+".reduce",value:Xt,expressionContext:"cluster-reduce"}))}return Fe;case"video":return Na({key:K,value:F,valueSpec:fe.source_video,style:Se,styleSpec:fe});case"image":return Na({key:K,value:F,valueSpec:fe.source_image,style:Se,styleSpec:fe});case"canvas":return[new Ge(K,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Cu({key:K+".type",value:F.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:Se,styleSpec:fe})}}function _a(D){var F=D.value,K=D.styleSpec,fe=K.light,Se=D.style,Fe=[],Ye=mi(F);if(void 0===F)return Fe;if("object"!==Ye)return Fe.concat([new Ge("light",F,"object expected, "+Ye+" found")]);for(var ut in F){var _t=ut.match(/^(.*)-transition$/);Fe=Fe.concat(_t&&fe[_t[1]]&&fe[_t[1]].transition?go({key:ut,value:F[ut],valueSpec:K.transition,style:Se,styleSpec:K}):fe[ut]?go({key:ut,value:F[ut],valueSpec:fe[ut],style:Se,styleSpec:K}):[new Ge(ut,F[ut],'unknown property "'+ut+'"')])}return Fe}var zl={"*":function(){return[]},array:Lo,boolean:function(D){var F=D.value,K=D.key,fe=mi(F);return"boolean"!==fe?[new Ge(K,F,"boolean expected, "+fe+" found")]:[]},number:tu,color:function(D){var F=D.key,K=D.value,fe=mi(K);return"string"!==fe?[new Ge(F,K,"color expected, "+fe+" found")]:null===mn(K)?[new Ge(F,K,'color expected, "'+K+'" found')]:[]},constants:st,enum:Cu,filter:to,function:Su,layer:nu,object:Na,source:ya,light:_a,string:oa,formatted:function(D){return 0===oa(D).length?[]:Oi(D)},resolvedImage:function(D){return 0===oa(D).length?[]:Oi(D)}};function go(D){var F=D.value,K=D.valueSpec,fe=D.styleSpec;return K.expression&&Ql(bt(F))?Su(D):K.expression&&ds(Lt(F))?Oi(D):K.type&&zl[K.type]?zl[K.type](D):Na(vt({},D,{valueSpec:K.type?fe[K.type]:K}))}function Ds(D){var F=D.value,K=D.key,fe=oa(D);return fe.length||(-1===F.indexOf("{fontstack}")&&fe.push(new Ge(K,F,'"glyphs" url must include a "{fontstack}" token')),-1===F.indexOf("{range}")&&fe.push(new Ge(K,F,'"glyphs" url must include a "{range}" token'))),fe}function Fa(D,F){void 0===F&&(F=Le);var K=[];return K=K.concat(go({key:"",value:D,valueSpec:F.$root,styleSpec:F,style:D,objectElementValidators:{glyphs:Ds,"*":function(){return[]}}})),D.constants&&(K=K.concat(st({key:"constants",value:D.constants,style:D,styleSpec:F}))),aa(K)}function aa(D){return[].concat(D).sort(function(F,K){return F.line-K.line})}function Ga(D){return function(){for(var F=[],K=arguments.length;K--;)F[K]=arguments[K];return aa(D.apply(this,F))}}Fa.source=Ga(ya),Fa.light=Ga(_a),Fa.layer=Ga(nu),Fa.filter=Ga(to),Fa.paintProperty=Ga(Es),Fa.layoutProperty=Ga(fu);var za=Fa,Ea=za.light,ps=za.paintProperty,hu=za.layoutProperty;function ll(D,F){var K=!1;if(F&&F.length)for(var fe=0,Se=F;fe<Se.length;fe+=1)D.fire(new ot(new Error(Se[fe].message))),K=!0;return K}var xa=Os;function Os(D,F,K){var fe=this.cells=[];if(D instanceof ArrayBuffer){this.arrayBuffer=D;var Se=new Int32Array(this.arrayBuffer);D=Se[0],this.d=(F=Se[1])+2*(K=Se[2]);for(var Fe=0;Fe<this.d*this.d;Fe++){var Ye=Se[3+Fe],ut=Se[3+Fe+1];fe.push(Ye===ut?null:Se.subarray(Ye,ut))}var Ct=Se[3+fe.length+1];this.keys=Se.subarray(Se[3+fe.length],Ct),this.bboxes=Se.subarray(Ct),this.insert=this._insertReadonly}else{this.d=F+2*K;for(var Ft=0;Ft<this.d*this.d;Ft++)fe.push([]);this.keys=[],this.bboxes=[]}this.n=F,this.extent=D,this.padding=K,this.scale=F/D,this.uid=0;var Xt=K/F*D;this.min=-Xt,this.max=D+Xt}Os.prototype.insert=function(D,F,K,fe,Se){this._forEachCell(F,K,fe,Se,this._insertCell,this.uid++),this.keys.push(D),this.bboxes.push(F),this.bboxes.push(K),this.bboxes.push(fe),this.bboxes.push(Se)},Os.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Os.prototype._insertCell=function(D,F,K,fe,Se,Fe){this.cells[Se].push(Fe)},Os.prototype.query=function(D,F,K,fe,Se){var Fe=this.min,Ye=this.max;if(D<=Fe&&F<=Fe&&Ye<=K&&Ye<=fe&&!Se)return Array.prototype.slice.call(this.keys);var ut=[];return this._forEachCell(D,F,K,fe,this._queryCell,ut,{},Se),ut},Os.prototype._queryCell=function(D,F,K,fe,Se,Fe,Ye,ut){var _t=this.cells[Se];if(null!==_t)for(var Ct=this.keys,Ft=this.bboxes,Xt=0;Xt<_t.length;Xt++){var nn=_t[Xt];if(void 0===Ye[nn]){var en=4*nn;(ut?ut(Ft[en+0],Ft[en+1],Ft[en+2],Ft[en+3]):D<=Ft[en+2]&&F<=Ft[en+3]&&K>=Ft[en+0]&&fe>=Ft[en+1])?(Ye[nn]=!0,Fe.push(Ct[nn])):Ye[nn]=!1}}},Os.prototype._forEachCell=function(D,F,K,fe,Se,Fe,Ye,ut){for(var _t=this._convertToCellCoord(D),Ct=this._convertToCellCoord(F),Ft=this._convertToCellCoord(K),Xt=this._convertToCellCoord(fe),nn=_t;nn<=Ft;nn++)for(var en=Ct;en<=Xt;en++){var _n=this.d*en+nn;if((!ut||ut(this._convertFromCellCoord(nn),this._convertFromCellCoord(en),this._convertFromCellCoord(nn+1),this._convertFromCellCoord(en+1)))&&Se.call(this,D,F,K,fe,_n,Fe,Ye,ut))return}},Os.prototype._convertFromCellCoord=function(D){return(D-this.padding)/this.scale},Os.prototype._convertToCellCoord=function(D){return Math.max(0,Math.min(this.d-1,Math.floor(D*this.scale)+this.padding))},Os.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var D=this.cells,F=3+this.cells.length+1+1,K=0,fe=0;fe<this.cells.length;fe++)K+=this.cells[fe].length;var Se=new Int32Array(F+K+this.keys.length+this.bboxes.length);Se[0]=this.extent,Se[1]=this.n,Se[2]=this.padding;for(var Fe=F,Ye=0;Ye<D.length;Ye++){var ut=D[Ye];Se[3+Ye]=Fe,Se.set(ut,Fe),Fe+=ut.length}return Se[3+D.length]=Fe,Se.set(this.keys,Fe),Se[3+D.length+1]=Fe+=this.keys.length,Se.set(this.bboxes,Fe),Fe+=this.bboxes.length,Se.buffer};var Ec=self.ImageData,Dc=self.ImageBitmap,Ka={};function Yr(D,F,K){void 0===K&&(K={}),Object.defineProperty(F,"_classRegistryKey",{value:D,writeable:!1}),Ka[D]={klass:F,omit:K.omit||[],shallow:K.shallow||[]}}for(var Eu in Yr("Object",Object),xa.serialize=function(D,F){var K=D.toArrayBuffer();return F&&F.push(K),{buffer:K}},xa.deserialize=function(D){return new xa(D.buffer)},Yr("Grid",xa),Yr("Color",En),Yr("Error",Error),Yr("ResolvedImage",Zn),Yr("StylePropertyFunction",al),Yr("StyleExpression",La,{omit:["_evaluator"]}),Yr("ZoomDependentExpression",Ao),Yr("ZoomConstantExpression",Di),Yr("CompoundExpression",fr,{omit:["_evaluate"]}),Jl)Jl[Eu]._classRegistryKey||Yr("Expression_"+Eu,Jl[Eu]);function gs(D){return D&&typeof ArrayBuffer<"u"&&(D instanceof ArrayBuffer||D.constructor&&"ArrayBuffer"===D.constructor.name)}function Oc(D){return Dc&&D instanceof Dc}function du(D,F){if(null==D||"boolean"==typeof D||"number"==typeof D||"string"==typeof D||D instanceof Boolean||D instanceof Number||D instanceof String||D instanceof Date||D instanceof RegExp)return D;if(gs(D)||Oc(D))return F&&F.push(D),D;if(ArrayBuffer.isView(D)){var K=D;return F&&F.push(K.buffer),K}if(D instanceof Ec)return F&&F.push(D.data.buffer),D;if(Array.isArray(D)){for(var fe=[],Se=0,Fe=D;Se<Fe.length;Se+=1)fe.push(du(Fe[Se],F));return fe}if("object"==typeof D){var ut=D.constructor,_t=ut._classRegistryKey;if(!_t)throw new Error("can't serialize object of unregistered class");var Ct=ut.serialize?ut.serialize(D,F):{};if(!ut.serialize){for(var Ft in D)if(D.hasOwnProperty(Ft)&&!(Ka[_t].omit.indexOf(Ft)>=0)){var Xt=D[Ft];Ct[Ft]=Ka[_t].shallow.indexOf(Ft)>=0?Xt:du(Xt,F)}D instanceof Error&&(Ct.message=D.message)}if(Ct.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==_t&&(Ct.$name=_t),Ct}throw new Error("can't serialize object of type "+typeof D)}function pu(D){if(null==D||"boolean"==typeof D||"number"==typeof D||"string"==typeof D||D instanceof Boolean||D instanceof Number||D instanceof String||D instanceof Date||D instanceof RegExp||gs(D)||Oc(D)||ArrayBuffer.isView(D)||D instanceof Ec)return D;if(Array.isArray(D))return D.map(pu);if("object"==typeof D){var F=D.$name||"Object",K=Ka[F].klass;if(!K)throw new Error("can't deserialize unregistered class "+F);if(K.deserialize)return K.deserialize(D);for(var fe=Object.create(K.prototype),Se=0,Fe=Object.keys(D);Se<Fe.length;Se+=1){var Ye=Fe[Se];if("$name"!==Ye){var ut=D[Ye];fe[Ye]=Ka[F].shallow.indexOf(Ye)>=0?ut:pu(ut)}}return fe}throw new Error("can't deserialize object of type "+typeof D)}var Vu=function(){this.first=!0};Vu.prototype.update=function(D,F){var K=Math.floor(D);return this.first?(this.first=!1,this.lastIntegerZoom=K,this.lastIntegerZoomTime=0,this.lastZoom=D,this.lastFloorZoom=K,!0):(this.lastFloorZoom>K?(this.lastIntegerZoom=K+1,this.lastIntegerZoomTime=F):this.lastFloorZoom<K&&(this.lastIntegerZoom=K,this.lastIntegerZoomTime=F),D!==this.lastZoom&&(this.lastZoom=D,this.lastFloorZoom=K,!0))};var Jr={"Latin-1 Supplement":function(D){return D>=128&&D<=255},Arabic:function(D){return D>=1536&&D<=1791},"Arabic Supplement":function(D){return D>=1872&&D<=1919},"Arabic Extended-A":function(D){return D>=2208&&D<=2303},"Hangul Jamo":function(D){return D>=4352&&D<=4607},"Unified Canadian Aboriginal Syllabics":function(D){return D>=5120&&D<=5759},Khmer:function(D){return D>=6016&&D<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(D){return D>=6320&&D<=6399},"General Punctuation":function(D){return D>=8192&&D<=8303},"Letterlike Symbols":function(D){return D>=8448&&D<=8527},"Number Forms":function(D){return D>=8528&&D<=8591},"Miscellaneous Technical":function(D){return D>=8960&&D<=9215},"Control Pictures":function(D){return D>=9216&&D<=9279},"Optical Character Recognition":function(D){return D>=9280&&D<=9311},"Enclosed Alphanumerics":function(D){return D>=9312&&D<=9471},"Geometric Shapes":function(D){return D>=9632&&D<=9727},"Miscellaneous Symbols":function(D){return D>=9728&&D<=9983},"Miscellaneous Symbols and Arrows":function(D){return D>=11008&&D<=11263},"CJK Radicals Supplement":function(D){return D>=11904&&D<=12031},"Kangxi Radicals":function(D){return D>=12032&&D<=12255},"Ideographic Description Characters":function(D){return D>=12272&&D<=12287},"CJK Symbols and Punctuation":function(D){return D>=12288&&D<=12351},Hiragana:function(D){return D>=12352&&D<=12447},Katakana:function(D){return D>=12448&&D<=12543},Bopomofo:function(D){return D>=12544&&D<=12591},"Hangul Compatibility Jamo":function(D){return D>=12592&&D<=12687},Kanbun:function(D){return D>=12688&&D<=12703},"Bopomofo Extended":function(D){return D>=12704&&D<=12735},"CJK Strokes":function(D){return D>=12736&&D<=12783},"Katakana Phonetic Extensions":function(D){return D>=12784&&D<=12799},"Enclosed CJK Letters and Months":function(D){return D>=12800&&D<=13055},"CJK Compatibility":function(D){return D>=13056&&D<=13311},"CJK Unified Ideographs Extension A":function(D){return D>=13312&&D<=19903},"Yijing Hexagram Symbols":function(D){return D>=19904&&D<=19967},"CJK Unified Ideographs":function(D){return D>=19968&&D<=40959},"Yi Syllables":function(D){return D>=40960&&D<=42127},"Yi Radicals":function(D){return D>=42128&&D<=42191},"Hangul Jamo Extended-A":function(D){return D>=43360&&D<=43391},"Hangul Syllables":function(D){return D>=44032&&D<=55215},"Hangul Jamo Extended-B":function(D){return D>=55216&&D<=55295},"Private Use Area":function(D){return D>=57344&&D<=63743},"CJK Compatibility Ideographs":function(D){return D>=63744&&D<=64255},"Arabic Presentation Forms-A":function(D){return D>=64336&&D<=65023},"Vertical Forms":function(D){return D>=65040&&D<=65055},"CJK Compatibility Forms":function(D){return D>=65072&&D<=65103},"Small Form Variants":function(D){return D>=65104&&D<=65135},"Arabic Presentation Forms-B":function(D){return D>=65136&&D<=65279},"Halfwidth and Fullwidth Forms":function(D){return D>=65280&&D<=65519}};function Hu(D){for(var F=0,K=D;F<K.length;F+=1)if(Da(K[F].charCodeAt(0)))return!0;return!1}function Da(D){return!(746!==D&&747!==D&&(D<4352||!(Jr["Bopomofo Extended"](D)||Jr.Bopomofo(D)||Jr["CJK Compatibility Forms"](D)&&!(D>=65097&&D<=65103)||Jr["CJK Compatibility Ideographs"](D)||Jr["CJK Compatibility"](D)||Jr["CJK Radicals Supplement"](D)||Jr["CJK Strokes"](D)||!(!Jr["CJK Symbols and Punctuation"](D)||D>=12296&&D<=12305||D>=12308&&D<=12319||12336===D)||Jr["CJK Unified Ideographs Extension A"](D)||Jr["CJK Unified Ideographs"](D)||Jr["Enclosed CJK Letters and Months"](D)||Jr["Hangul Compatibility Jamo"](D)||Jr["Hangul Jamo Extended-A"](D)||Jr["Hangul Jamo Extended-B"](D)||Jr["Hangul Jamo"](D)||Jr["Hangul Syllables"](D)||Jr.Hiragana(D)||Jr["Ideographic Description Characters"](D)||Jr.Kanbun(D)||Jr["Kangxi Radicals"](D)||Jr["Katakana Phonetic Extensions"](D)||Jr.Katakana(D)&&12540!==D||!(!Jr["Halfwidth and Fullwidth Forms"](D)||65288===D||65289===D||65293===D||D>=65306&&D<=65310||65339===D||65341===D||65343===D||D>=65371&&D<=65503||65507===D||D>=65512&&D<=65519)||!(!Jr["Small Form Variants"](D)||D>=65112&&D<=65118||D>=65123&&D<=65126)||Jr["Unified Canadian Aboriginal Syllabics"](D)||Jr["Unified Canadian Aboriginal Syllabics Extended"](D)||Jr["Vertical Forms"](D)||Jr["Yijing Hexagram Symbols"](D)||Jr["Yi Syllables"](D)||Jr["Yi Radicals"](D))))}function lc(D){return!(Da(D)||(F=D,Jr["Latin-1 Supplement"](F)&&(167===F||169===F||174===F||177===F||188===F||189===F||190===F||215===F||247===F)||Jr["General Punctuation"](F)&&(8214===F||8224===F||8225===F||8240===F||8241===F||8251===F||8252===F||8258===F||8263===F||8264===F||8265===F||8273===F)||Jr["Letterlike Symbols"](F)||Jr["Number Forms"](F)||Jr["Miscellaneous Technical"](F)&&(F>=8960&&F<=8967||F>=8972&&F<=8991||F>=8996&&F<=9e3||9003===F||F>=9085&&F<=9114||F>=9150&&F<=9165||9167===F||F>=9169&&F<=9179||F>=9186&&F<=9215)||Jr["Control Pictures"](F)&&9251!==F||Jr["Optical Character Recognition"](F)||Jr["Enclosed Alphanumerics"](F)||Jr["Geometric Shapes"](F)||Jr["Miscellaneous Symbols"](F)&&!(F>=9754&&F<=9759)||Jr["Miscellaneous Symbols and Arrows"](F)&&(F>=11026&&F<=11055||F>=11088&&F<=11097||F>=11192&&F<=11243)||Jr["CJK Symbols and Punctuation"](F)||Jr.Katakana(F)||Jr["Private Use Area"](F)||Jr["CJK Compatibility Forms"](F)||Jr["Small Form Variants"](F)||Jr["Halfwidth and Fullwidth Forms"](F)||8734===F||8756===F||8757===F||F>=9984&&F<=10087||F>=10102&&F<=10131||65532===F||65533===F));var F}function Eo(D){return Jr.Arabic(D)||Jr["Arabic Supplement"](D)||Jr["Arabic Extended-A"](D)||Jr["Arabic Presentation Forms-A"](D)||Jr["Arabic Presentation Forms-B"](D)}function Oa(D){return D>=1424&&D<=2303||Jr["Arabic Presentation Forms-A"](D)||Jr["Arabic Presentation Forms-B"](D)}function gu(D,F){return!(!F&&Oa(D)||D>=2304&&D<=3583||D>=3840&&D<=4255||Jr.Khmer(D))}function Bl(D){for(var F=0,K=D;F<K.length;F+=1)if(Oa(K[F].charCodeAt(0)))return!0;return!1}var Qa="deferred",jl="loading",ul="loaded",mu=null,ko="unavailable",Is=null,co=function(D){D&&"string"==typeof D&&D.indexOf("NetworkError")>-1&&(ko="error"),mu&&mu(D)};function sa(){Ps.fire(new $e("pluginStateChange",{pluginStatus:ko,pluginURL:Is}))}var Ps=new dt,es=function(){return ko},Xo=function(){if(ko!==Qa||!Is)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");ko=jl,sa(),Is&&Bt({url:Is},function(D){D?co(D):(ko=ul,sa())})},ts={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return ko===ul||null!=ts.applyArabicShaping},isLoading:function(){return ko===jl},setState:function(D){ko=D.pluginStatus,Is=D.pluginURL},isParsed:function(){return null!=ts.applyArabicShaping&&null!=ts.processBidirectionalText&&null!=ts.processStyledBidirectionalText},getPluginURL:function(){return Is}},io=function(D,F){this.zoom=D,F?(this.now=F.now,this.fadeDuration=F.fadeDuration,this.zoomHistory=F.zoomHistory,this.transition=F.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Vu,this.transition={})};io.prototype.isSupportedScript=function(D){return function(F,K){for(var fe=0,Se=F;fe<Se.length;fe+=1)if(!gu(Se[fe].charCodeAt(0),K))return!1;return!0}(D,ts.isLoaded())},io.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},io.prototype.getCrossfadeParameters=function(){var D=this.zoom,F=D-Math.floor(D),K=this.crossFadingFactor();return D>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:F+(1-F)*K}:{fromScale:.5,toScale:1,t:1-(1-K)*F}};var zo=function(D,F){this.property=D,this.value=F,this.expression=function(K,fe){if(Ql(K))return new al(K,fe);if(ds(K)){var Se=Ha(K,fe);if("error"===Se.result)throw new Error(Se.value.map(function(Ye){return Ye.key+": "+Ye.message}).join(", "));return Se.value}var Fe=K;return"string"==typeof K&&"color"===fe.type&&(Fe=En.parse(K)),{kind:"constant",evaluate:function(){return Fe}}}(void 0===F?D.specification.default:F,D.specification)};zo.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},zo.prototype.possiblyEvaluate=function(D,F,K){return this.property.possiblyEvaluate(this,D,F,K)};var Wo=function(D){this.property=D,this.value=new zo(D,void 0)};Wo.prototype.transitioned=function(D,F){return new Rs(this.property,this.value,F,d({},D.transition,this.transition),D.now)},Wo.prototype.untransitioned=function(){return new Rs(this.property,this.value,null,{},0)};var ns=function(D){this._properties=D,this._values=Object.create(D.defaultTransitionablePropertyValues)};ns.prototype.getValue=function(D){return k(this._values[D].value.value)},ns.prototype.setValue=function(D,F){this._values.hasOwnProperty(D)||(this._values[D]=new Wo(this._values[D].property)),this._values[D].value=new zo(this._values[D].property,null===F?void 0:k(F))},ns.prototype.getTransition=function(D){return k(this._values[D].transition)},ns.prototype.setTransition=function(D,F){this._values.hasOwnProperty(D)||(this._values[D]=new Wo(this._values[D].property)),this._values[D].transition=k(F)||void 0},ns.prototype.serialize=function(){for(var D={},F=0,K=Object.keys(this._values);F<K.length;F+=1){var fe=K[F],Se=this.getValue(fe);void 0!==Se&&(D[fe]=Se);var Fe=this.getTransition(fe);void 0!==Fe&&(D[fe+"-transition"]=Fe)}return D},ns.prototype.transitioned=function(D,F){for(var K=new ru(this._properties),fe=0,Se=Object.keys(this._values);fe<Se.length;fe+=1){var Fe=Se[fe];K._values[Fe]=this._values[Fe].transitioned(D,F._values[Fe])}return K},ns.prototype.untransitioned=function(){for(var D=new ru(this._properties),F=0,K=Object.keys(this._values);F<K.length;F+=1){var fe=K[F];D._values[fe]=this._values[fe].untransitioned()}return D};var Rs=function(D,F,K,fe,Se){this.property=D,this.value=F,this.begin=Se+fe.delay||0,this.end=this.begin+fe.duration||0,D.specification.transition&&(fe.delay||fe.duration)&&(this.prior=K)};Rs.prototype.possiblyEvaluate=function(D,F,K){var fe=D.now||0,Se=this.value.possiblyEvaluate(D,F,K),Fe=this.prior;if(Fe){if(fe>this.end)return this.prior=null,Se;if(this.value.isDataDriven())return this.prior=null,Se;if(fe<this.begin)return Fe.possiblyEvaluate(D,F,K);var Ye=(fe-this.begin)/(this.end-this.begin);return this.property.interpolate(Fe.possiblyEvaluate(D,F,K),Se,function(ut){if(ut<=0)return 0;if(ut>=1)return 1;var _t=ut*ut,Ct=_t*ut;return 4*(ut<.5?Ct:3*(ut-_t)+Ct-.75)}(Ye))}return Se};var ru=function(D){this._properties=D,this._values=Object.create(D.defaultTransitioningPropertyValues)};ru.prototype.possiblyEvaluate=function(D,F,K){for(var fe=new vs(this._properties),Se=0,Fe=Object.keys(this._values);Se<Fe.length;Se+=1){var Ye=Fe[Se];fe._values[Ye]=this._values[Ye].possiblyEvaluate(D,F,K)}return fe},ru.prototype.hasTransition=function(){for(var D=0,F=Object.keys(this._values);D<F.length;D+=1)if(this._values[F[D]].prior)return!0;return!1};var qa=function(D){this._properties=D,this._values=Object.create(D.defaultPropertyValues)};qa.prototype.getValue=function(D){return k(this._values[D].value)},qa.prototype.setValue=function(D,F){this._values[D]=new zo(this._values[D].property,null===F?void 0:k(F))},qa.prototype.serialize=function(){for(var D={},F=0,K=Object.keys(this._values);F<K.length;F+=1){var fe=K[F],Se=this.getValue(fe);void 0!==Se&&(D[fe]=Se)}return D},qa.prototype.possiblyEvaluate=function(D,F,K){for(var fe=new vs(this._properties),Se=0,Fe=Object.keys(this._values);Se<Fe.length;Se+=1){var Ye=Fe[Se];fe._values[Ye]=this._values[Ye].possiblyEvaluate(D,F,K)}return fe};var Ia=function(D,F,K){this.property=D,this.value=F,this.parameters=K};Ia.prototype.isConstant=function(){return"constant"===this.value.kind},Ia.prototype.constantOr=function(D){return"constant"===this.value.kind?this.value.value:D},Ia.prototype.evaluate=function(D,F,K,fe){return this.property.evaluate(this.value,this.parameters,D,F,K,fe)};var vs=function(D){this._properties=D,this._values=Object.create(D.defaultPossiblyEvaluatedValues)};vs.prototype.get=function(D){return this._values[D]};var kr=function(D){this.specification=D};kr.prototype.possiblyEvaluate=function(D,F){return D.expression.evaluate(F)},kr.prototype.interpolate=function(D,F,K){var fe=Pr[this.specification.type];return fe?fe(D,F,K):D};var pi=function(D,F){this.specification=D,this.overrides=F};pi.prototype.possiblyEvaluate=function(D,F,K,fe){return new Ia(this,"constant"===D.expression.kind||"camera"===D.expression.kind?{kind:"constant",value:D.expression.evaluate(F,null,{},K,fe)}:D.expression,F)},pi.prototype.interpolate=function(D,F,K){if("constant"!==D.value.kind||"constant"!==F.value.kind)return D;if(void 0===D.value.value||void 0===F.value.value)return new Ia(this,{kind:"constant",value:void 0},D.parameters);var fe=Pr[this.specification.type];return fe?new Ia(this,{kind:"constant",value:fe(D.value.value,F.value.value,K)},D.parameters):D},pi.prototype.evaluate=function(D,F,K,fe,Se,Fe){return"constant"===D.kind?D.value:D.evaluate(F,K,fe,Se,Fe)};var Gu=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.possiblyEvaluate=function(K,fe,Se,Fe){if(void 0===K.value)return new Ia(this,{kind:"constant",value:void 0},fe);if("constant"===K.expression.kind){var Ye=K.expression.evaluate(fe,null,{},Se,Fe),ut="resolvedImage"===K.property.specification.type&&"string"!=typeof Ye?Ye.name:Ye,_t=this._calculate(ut,ut,ut,fe);return new Ia(this,{kind:"constant",value:_t},fe)}if("camera"===K.expression.kind){var Ct=this._calculate(K.expression.evaluate({zoom:fe.zoom-1}),K.expression.evaluate({zoom:fe.zoom}),K.expression.evaluate({zoom:fe.zoom+1}),fe);return new Ia(this,{kind:"constant",value:Ct},fe)}return new Ia(this,K.expression,fe)},F.prototype.evaluate=function(K,fe,Se,Fe,Ye,ut){if("source"===K.kind){var _t=K.evaluate(fe,Se,Fe,Ye,ut);return this._calculate(_t,_t,_t,fe)}return"composite"===K.kind?this._calculate(K.evaluate({zoom:Math.floor(fe.zoom)-1},Se,Fe),K.evaluate({zoom:Math.floor(fe.zoom)},Se,Fe),K.evaluate({zoom:Math.floor(fe.zoom)+1},Se,Fe),fe):K.value},F.prototype._calculate=function(K,fe,Se,Fe){return Fe.zoom>Fe.zoomHistory.lastIntegerZoom?{from:K,to:fe}:{from:Se,to:fe}},F.prototype.interpolate=function(K){return K},F}(pi),Ul=function(D){this.specification=D};Ul.prototype.possiblyEvaluate=function(D,F,K,fe){if(void 0!==D.value){if("constant"===D.expression.kind){var Se=D.expression.evaluate(F,null,{},K,fe);return this._calculate(Se,Se,Se,F)}return this._calculate(D.expression.evaluate(new io(Math.floor(F.zoom-1),F)),D.expression.evaluate(new io(Math.floor(F.zoom),F)),D.expression.evaluate(new io(Math.floor(F.zoom+1),F)),F)}},Ul.prototype._calculate=function(D,F,K,fe){return fe.zoom>fe.zoomHistory.lastIntegerZoom?{from:D,to:F}:{from:K,to:F}},Ul.prototype.interpolate=function(D){return D};var cl=function(D){this.specification=D};cl.prototype.possiblyEvaluate=function(D,F,K,fe){return!!D.expression.evaluate(F,null,{},K,fe)},cl.prototype.interpolate=function(){return!1};var Ba=function(D){for(var F in this.properties=D,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],D){var K=D[F];K.specification.overridable&&this.overridableProperties.push(F);var fe=this.defaultPropertyValues[F]=new zo(K,void 0),Se=this.defaultTransitionablePropertyValues[F]=new Wo(K);this.defaultTransitioningPropertyValues[F]=Se.untransitioned(),this.defaultPossiblyEvaluatedValues[F]=fe.possiblyEvaluate({})}};Yr("DataDrivenProperty",pi),Yr("DataConstantProperty",kr),Yr("CrossFadedDataDrivenProperty",Gu),Yr("CrossFadedProperty",Ul),Yr("ColorRampProperty",cl);var qu="-transition",rs=function(D){function F(K,fe){if(D.call(this),this.id=K.id,this.type=K.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==K.type&&(this.metadata=K.metadata,this.minzoom=K.minzoom,this.maxzoom=K.maxzoom,"background"!==K.type&&(this.source=K.source,this.sourceLayer=K["source-layer"],this.filter=K.filter),fe.layout&&(this._unevaluatedLayout=new qa(fe.layout)),fe.paint)){for(var Se in this._transitionablePaint=new ns(fe.paint),K.paint)this.setPaintProperty(Se,K.paint[Se],{validate:!1});for(var Fe in K.layout)this.setLayoutProperty(Fe,K.layout[Fe],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new vs(fe.paint)}}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},F.prototype.getLayoutProperty=function(K){return"visibility"===K?this.visibility:this._unevaluatedLayout.getValue(K)},F.prototype.setLayoutProperty=function(K,fe,Se){void 0===Se&&(Se={}),null!=fe&&this._validate(hu,"layers."+this.id+".layout."+K,K,fe,Se)||("visibility"!==K?this._unevaluatedLayout.setValue(K,fe):this.visibility=fe)},F.prototype.getPaintProperty=function(K){return w(K,qu)?this._transitionablePaint.getTransition(K.slice(0,-qu.length)):this._transitionablePaint.getValue(K)},F.prototype.setPaintProperty=function(K,fe,Se){if(void 0===Se&&(Se={}),null!=fe&&this._validate(ps,"layers."+this.id+".paint."+K,K,fe,Se))return!1;if(w(K,qu))return this._transitionablePaint.setTransition(K.slice(0,-qu.length),fe||void 0),!1;var Ye=this._transitionablePaint._values[K],ut="cross-faded-data-driven"===Ye.property.specification["property-type"],_t=Ye.value.isDataDriven(),Ct=Ye.value;this._transitionablePaint.setValue(K,fe),this._handleSpecialPaintPropertyUpdate(K);var Ft=this._transitionablePaint._values[K].value;return Ft.isDataDriven()||_t||ut||this._handleOverridablePaintPropertyUpdate(K,Ct,Ft)},F.prototype._handleSpecialPaintPropertyUpdate=function(K){},F.prototype._handleOverridablePaintPropertyUpdate=function(K,fe,Se){return!1},F.prototype.isHidden=function(K){return!!(this.minzoom&&K<this.minzoom)||!!(this.maxzoom&&K>=this.maxzoom)||"none"===this.visibility},F.prototype.updateTransitions=function(K){this._transitioningPaint=this._transitionablePaint.transitioned(K,this._transitioningPaint)},F.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},F.prototype.recalculate=function(K,fe){K.getCrossfadeParameters&&(this._crossfadeParameters=K.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(K,void 0,fe)),this.paint=this._transitioningPaint.possiblyEvaluate(K,void 0,fe)},F.prototype.serialize=function(){var K={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(K.layout=K.layout||{},K.layout.visibility=this.visibility),b(K,function(fe,Se){return!(void 0===fe||"layout"===Se&&!Object.keys(fe).length||"paint"===Se&&!Object.keys(fe).length)})},F.prototype._validate=function(K,fe,Se,Fe,Ye){return void 0===Ye&&(Ye={}),(!Ye||!1!==Ye.validate)&&ll(this,K.call(za,{key:fe,layerType:this.type,objectKey:Se,value:Fe,styleSpec:Le,style:{glyphs:!0,sprite:!0}}))},F.prototype.is3D=function(){return!1},F.prototype.isTileClipped=function(){return!1},F.prototype.hasOffscreenPass=function(){return!1},F.prototype.resize=function(){},F.prototype.isStateDependent=function(){for(var K in this.paint._values){var fe=this.paint.get(K);if(fe instanceof Ia&&ku(fe.property.specification)&&("source"===fe.value.kind||"composite"===fe.value.kind)&&fe.value.isStateDependent)return!0}return!1},F}(dt),Du={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Or=function(D,F){this._structArray=D,this._pos1=F*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},hi=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function gi(D,F){void 0===F&&(F=1);var K=0,fe=0;return{members:D.map(function(Se){var Ye=Du[Se.type].BYTES_PER_ELEMENT,ut=K=Wi(K,Math.max(F,Ye)),_t=Se.components||1;return fe=Math.max(fe,Ye),K+=Ye*_t,{name:Se.name,type:Se.type,components:_t,offset:ut}}),size:Wi(K,Math.max(fe,F)),alignment:F}}function Wi(D,F){return Math.ceil(D/F)*F}hi.serialize=function(D,F){return D._trim(),F&&(D.isTransferred=!0,F.push(D.arrayBuffer)),{length:D.length,arrayBuffer:D.arrayBuffer}},hi.deserialize=function(D){var F=Object.create(this.prototype);return F.arrayBuffer=D.arrayBuffer,F.length=D.length,F.capacity=D.arrayBuffer.byteLength/F.bytesPerElement,F._refreshViews(),F},hi.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},hi.prototype.clear=function(){this.length=0},hi.prototype.resize=function(D){this.reserve(D),this.length=D},hi.prototype.reserve=function(D){if(D>this.capacity){this.capacity=Math.max(D,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var F=this.uint8;this._refreshViews(),F&&this.uint8.set(F)}},hi.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var it=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,fe){var Se=this.length;return this.resize(Se+1),this.emplace(Se,K,fe)},F.prototype.emplace=function(K,fe,Se){var Fe=2*K;return this.int16[Fe+0]=fe,this.int16[Fe+1]=Se,K},F}(hi);it.prototype.bytesPerElement=4,Yr("StructArrayLayout2i4",it);var lt=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,fe,Se,Fe){var Ye=this.length;return this.resize(Ye+1),this.emplace(Ye,K,fe,Se,Fe)},F.prototype.emplace=function(K,fe,Se,Fe,Ye){var ut=4*K;return this.int16[ut+0]=fe,this.int16[ut+1]=Se,this.int16[ut+2]=Fe,this.int16[ut+3]=Ye,K},F}(hi);lt.prototype.bytesPerElement=8,Yr("StructArrayLayout4i8",lt);var gt=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,fe,Se,Fe,Ye,ut){var _t=this.length;return this.resize(_t+1),this.emplace(_t,K,fe,Se,Fe,Ye,ut)},F.prototype.emplace=function(K,fe,Se,Fe,Ye,ut,_t){var Ct=6*K;return this.int16[Ct+0]=fe,this.int16[Ct+1]=Se,this.int16[Ct+2]=Fe,this.int16[Ct+3]=Ye,this.int16[Ct+4]=ut,this.int16[Ct+5]=_t,K},F}(hi);gt.prototype.bytesPerElement=12,Yr("StructArrayLayout2i4i12",gt);var wt=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,fe,Se,Fe,Ye,ut){var _t=this.length;return this.resize(_t+1),this.emplace(_t,K,fe,Se,Fe,Ye,ut)},F.prototype.emplace=function(K,fe,Se,Fe,Ye,ut,_t){var Ct=4*K,Ft=8*K;return this.int16[Ct+0]=fe,this.int16[Ct+1]=Se,this.uint8[Ft+4]=Fe,this.uint8[Ft+5]=Ye,this.uint8[Ft+6]=ut,this.uint8[Ft+7]=_t,K},F}(hi);wt.prototype.bytesPerElement=8,Yr("StructArrayLayout2i4ub8",wt);var Ot=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,fe,Se,Fe,Ye,ut,_t,Ct,Ft,Xt){var nn=this.length;return this.resize(nn+1),this.emplace(nn,K,fe,Se,Fe,Ye,ut,_t,Ct,Ft,Xt)},F.prototype.emplace=function(K,fe,Se,Fe,Ye,ut,_t,Ct,Ft,Xt,nn){var en=9*K,_n=18*K;return this.uint16[en+0]=fe,this.uint16[en+1]=Se,this.uint16[en+2]=Fe,this.uint16[en+3]=Ye,this.uint16[en+4]=ut,this.uint16[en+5]=_t,this.uint16[en+6]=Ct,this.uint16[en+7]=Ft,this.uint8[_n+16]=Xt,this.uint8[_n+17]=nn,K},F}(hi);Ot.prototype.bytesPerElement=18,Yr("StructArrayLayout8ui2ub18",Ot);var Et=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,fe,Se,Fe,Ye,ut,_t,Ct,Ft,Xt,nn,en){var _n=this.length;return this.resize(_n+1),this.emplace(_n,K,fe,Se,Fe,Ye,ut,_t,Ct,Ft,Xt,nn,en)},F.prototype.emplace=function(K,fe,Se,Fe,Ye,ut,_t,Ct,Ft,Xt,nn,en,_n){var Pn=12*K;return this.int16[Pn+0]=fe,this.int16[Pn+1]=Se,this.int16[Pn+2]=Fe,this.int16[Pn+3]=Ye,this.uint16[Pn+4]=ut,this.uint16[Pn+5]=_t,this.uint16[Pn+6]=Ct,this.uint16[Pn+7]=Ft,this.int16[Pn+8]=Xt,this.int16[Pn+9]=nn,this.int16[Pn+10]=en,this.int16[Pn+11]=_n,K},F}(hi);Et.prototype.bytesPerElement=24,Yr("StructArrayLayout4i4ui4i24",Et);var U=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,fe,Se){var Fe=this.length;return this.resize(Fe+1),this.emplace(Fe,K,fe,Se)},F.prototype.emplace=function(K,fe,Se,Fe){var Ye=3*K;return this.float32[Ye+0]=fe,this.float32[Ye+1]=Se,this.float32[Ye+2]=Fe,K},F}(hi);U.prototype.bytesPerElement=12,Yr("StructArrayLayout3f12",U);var ee=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K){var fe=this.length;return this.resize(fe+1),this.emplace(fe,K)},F.prototype.emplace=function(K,fe){return this.uint32[1*K+0]=fe,K},F}(hi);ee.prototype.bytesPerElement=4,Yr("StructArrayLayout1ul4",ee);var J=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,fe,Se,Fe,Ye,ut,_t,Ct,Ft){var Xt=this.length;return this.resize(Xt+1),this.emplace(Xt,K,fe,Se,Fe,Ye,ut,_t,Ct,Ft)},F.prototype.emplace=function(K,fe,Se,Fe,Ye,ut,_t,Ct,Ft,Xt){var nn=10*K,en=5*K;return this.int16[nn+0]=fe,this.int16[nn+1]=Se,this.int16[nn+2]=Fe,this.int16[nn+3]=Ye,this.int16[nn+4]=ut,this.int16[nn+5]=_t,this.uint32[en+3]=Ct,this.uint16[nn+8]=Ft,this.uint16[nn+9]=Xt,K},F}(hi);J.prototype.bytesPerElement=20,Yr("StructArrayLayout6i1ul2ui20",J);var ae=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,fe,Se,Fe,Ye,ut){var _t=this.length;return this.resize(_t+1),this.emplace(_t,K,fe,Se,Fe,Ye,ut)},F.prototype.emplace=function(K,fe,Se,Fe,Ye,ut,_t){var Ct=6*K;return this.int16[Ct+0]=fe,this.int16[Ct+1]=Se,this.int16[Ct+2]=Fe,this.int16[Ct+3]=Ye,this.int16[Ct+4]=ut,this.int16[Ct+5]=_t,K},F}(hi);ae.prototype.bytesPerElement=12,Yr("StructArrayLayout2i2i2i12",ae);var we=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,fe,Se,Fe,Ye){var ut=this.length;return this.resize(ut+1),this.emplace(ut,K,fe,Se,Fe,Ye)},F.prototype.emplace=function(K,fe,Se,Fe,Ye,ut){var _t=4*K,Ct=8*K;return this.float32[_t+0]=fe,this.float32[_t+1]=Se,this.float32[_t+2]=Fe,this.int16[Ct+6]=Ye,this.int16[Ct+7]=ut,K},F}(hi);we.prototype.bytesPerElement=16,Yr("StructArrayLayout2f1f2i16",we);var ze=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,fe,Se,Fe){var Ye=this.length;return this.resize(Ye+1),this.emplace(Ye,K,fe,Se,Fe)},F.prototype.emplace=function(K,fe,Se,Fe,Ye){var ut=12*K,_t=3*K;return this.uint8[ut+0]=fe,this.uint8[ut+1]=Se,this.float32[_t+1]=Fe,this.float32[_t+2]=Ye,K},F}(hi);ze.prototype.bytesPerElement=12,Yr("StructArrayLayout2ub2f12",ze);var Ze=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,fe,Se){var Fe=this.length;return this.resize(Fe+1),this.emplace(Fe,K,fe,Se)},F.prototype.emplace=function(K,fe,Se,Fe){var Ye=3*K;return this.uint16[Ye+0]=fe,this.uint16[Ye+1]=Se,this.uint16[Ye+2]=Fe,K},F}(hi);Ze.prototype.bytesPerElement=6,Yr("StructArrayLayout3ui6",Ze);var Qe=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,fe,Se,Fe,Ye,ut,_t,Ct,Ft,Xt,nn,en,_n,Pn,Qn,Kn,or){var lr=this.length;return this.resize(lr+1),this.emplace(lr,K,fe,Se,Fe,Ye,ut,_t,Ct,Ft,Xt,nn,en,_n,Pn,Qn,Kn,or)},F.prototype.emplace=function(K,fe,Se,Fe,Ye,ut,_t,Ct,Ft,Xt,nn,en,_n,Pn,Qn,Kn,or,lr){var pr=24*K,yr=12*K,br=48*K;return this.int16[pr+0]=fe,this.int16[pr+1]=Se,this.uint16[pr+2]=Fe,this.uint16[pr+3]=Ye,this.uint32[yr+2]=ut,this.uint32[yr+3]=_t,this.uint32[yr+4]=Ct,this.uint16[pr+10]=Ft,this.uint16[pr+11]=Xt,this.uint16[pr+12]=nn,this.float32[yr+7]=en,this.float32[yr+8]=_n,this.uint8[br+36]=Pn,this.uint8[br+37]=Qn,this.uint8[br+38]=Kn,this.uint32[yr+10]=or,this.int16[pr+22]=lr,K},F}(hi);Qe.prototype.bytesPerElement=48,Yr("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Qe);var ct=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,fe,Se,Fe,Ye,ut,_t,Ct,Ft,Xt,nn,en,_n,Pn,Qn,Kn,or,lr,pr,yr,br,Gr,Nr,Xr,si,Ci,ci,Si){var di=this.length;return this.resize(di+1),this.emplace(di,K,fe,Se,Fe,Ye,ut,_t,Ct,Ft,Xt,nn,en,_n,Pn,Qn,Kn,or,lr,pr,yr,br,Gr,Nr,Xr,si,Ci,ci,Si)},F.prototype.emplace=function(K,fe,Se,Fe,Ye,ut,_t,Ct,Ft,Xt,nn,en,_n,Pn,Qn,Kn,or,lr,pr,yr,br,Gr,Nr,Xr,si,Ci,ci,Si,di){var ui=34*K,Zi=17*K;return this.int16[ui+0]=fe,this.int16[ui+1]=Se,this.int16[ui+2]=Fe,this.int16[ui+3]=Ye,this.int16[ui+4]=ut,this.int16[ui+5]=_t,this.int16[ui+6]=Ct,this.int16[ui+7]=Ft,this.uint16[ui+8]=Xt,this.uint16[ui+9]=nn,this.uint16[ui+10]=en,this.uint16[ui+11]=_n,this.uint16[ui+12]=Pn,this.uint16[ui+13]=Qn,this.uint16[ui+14]=Kn,this.uint16[ui+15]=or,this.uint16[ui+16]=lr,this.uint16[ui+17]=pr,this.uint16[ui+18]=yr,this.uint16[ui+19]=br,this.uint16[ui+20]=Gr,this.uint16[ui+21]=Nr,this.uint16[ui+22]=Xr,this.uint32[Zi+12]=si,this.float32[Zi+13]=Ci,this.float32[Zi+14]=ci,this.float32[Zi+15]=Si,this.float32[Zi+16]=di,K},F}(hi);ct.prototype.bytesPerElement=68,Yr("StructArrayLayout8i15ui1ul4f68",ct);var St=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K){var fe=this.length;return this.resize(fe+1),this.emplace(fe,K)},F.prototype.emplace=function(K,fe){return this.float32[1*K+0]=fe,K},F}(hi);St.prototype.bytesPerElement=4,Yr("StructArrayLayout1f4",St);var Dt=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,fe,Se){var Fe=this.length;return this.resize(Fe+1),this.emplace(Fe,K,fe,Se)},F.prototype.emplace=function(K,fe,Se,Fe){var Ye=3*K;return this.int16[Ye+0]=fe,this.int16[Ye+1]=Se,this.int16[Ye+2]=Fe,K},F}(hi);Dt.prototype.bytesPerElement=6,Yr("StructArrayLayout3i6",Dt);var se=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,fe,Se){var Fe=this.length;return this.resize(Fe+1),this.emplace(Fe,K,fe,Se)},F.prototype.emplace=function(K,fe,Se,Fe){var ut=4*K;return this.uint32[2*K+0]=fe,this.uint16[ut+2]=Se,this.uint16[ut+3]=Fe,K},F}(hi);se.prototype.bytesPerElement=8,Yr("StructArrayLayout1ul2ui8",se);var me=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,fe){var Se=this.length;return this.resize(Se+1),this.emplace(Se,K,fe)},F.prototype.emplace=function(K,fe,Se){var Fe=2*K;return this.uint16[Fe+0]=fe,this.uint16[Fe+1]=Se,K},F}(hi);me.prototype.bytesPerElement=4,Yr("StructArrayLayout2ui4",me);var Ie=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K){var fe=this.length;return this.resize(fe+1),this.emplace(fe,K)},F.prototype.emplace=function(K,fe){return this.uint16[1*K+0]=fe,K},F}(hi);Ie.prototype.bytesPerElement=2,Yr("StructArrayLayout1ui2",Ie);var je=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,fe){var Se=this.length;return this.resize(Se+1),this.emplace(Se,K,fe)},F.prototype.emplace=function(K,fe,Se){var Fe=2*K;return this.float32[Fe+0]=fe,this.float32[Fe+1]=Se,K},F}(hi);je.prototype.bytesPerElement=8,Yr("StructArrayLayout2f8",je);var qe=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},F.prototype.emplaceBack=function(K,fe,Se,Fe){var Ye=this.length;return this.resize(Ye+1),this.emplace(Ye,K,fe,Se,Fe)},F.prototype.emplace=function(K,fe,Se,Fe,Ye){var ut=4*K;return this.float32[ut+0]=fe,this.float32[ut+1]=Se,this.float32[ut+2]=Fe,this.float32[ut+3]=Ye,K},F}(hi);qe.prototype.bytesPerElement=16,Yr("StructArrayLayout4f16",qe);var Xe=function(D){function F(){D.apply(this,arguments)}D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F;var K={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return K.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},K.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},K.x1.get=function(){return this._structArray.int16[this._pos2+2]},K.y1.get=function(){return this._structArray.int16[this._pos2+3]},K.x2.get=function(){return this._structArray.int16[this._pos2+4]},K.y2.get=function(){return this._structArray.int16[this._pos2+5]},K.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},K.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},K.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},K.anchorPoint.get=function(){return new i(this.anchorPointX,this.anchorPointY)},Object.defineProperties(F.prototype,K),F}(Or);Xe.prototype.size=20;var rt=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.get=function(K){return new Xe(this,K)},F}(J);Yr("CollisionBoxArray",rt);var at=function(D){function F(){D.apply(this,arguments)}D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F;var K={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return K.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},K.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},K.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},K.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},K.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},K.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},K.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},K.segment.get=function(){return this._structArray.uint16[this._pos2+10]},K.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},K.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},K.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},K.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},K.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},K.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},K.placedOrientation.set=function(fe){this._structArray.uint8[this._pos1+37]=fe},K.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},K.hidden.set=function(fe){this._structArray.uint8[this._pos1+38]=fe},K.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},K.crossTileID.set=function(fe){this._structArray.uint32[this._pos4+10]=fe},K.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(F.prototype,K),F}(Or);at.prototype.size=48;var pt=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.get=function(K){return new at(this,K)},F}(Qe);Yr("PlacedSymbolArray",pt);var yt=function(D){function F(){D.apply(this,arguments)}D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F;var K={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return K.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},K.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},K.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},K.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},K.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},K.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},K.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},K.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},K.key.get=function(){return this._structArray.uint16[this._pos2+8]},K.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},K.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},K.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},K.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},K.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},K.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},K.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},K.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},K.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},K.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},K.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},K.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},K.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},K.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},K.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},K.crossTileID.set=function(fe){this._structArray.uint32[this._pos4+12]=fe},K.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},K.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},K.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},K.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(F.prototype,K),F}(Or);yt.prototype.size=68;var zt=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.get=function(K){return new yt(this,K)},F}(ct);Yr("SymbolInstanceArray",zt);var $t=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.getoffsetX=function(K){return this.float32[1*K+0]},F}(St);Yr("GlyphOffsetArray",$t);var Yt=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.getx=function(K){return this.int16[3*K+0]},F.prototype.gety=function(K){return this.int16[3*K+1]},F.prototype.gettileUnitDistanceFromAnchor=function(K){return this.int16[3*K+2]},F}(Dt);Yr("SymbolLineVertexArray",Yt);var cn=function(D){function F(){D.apply(this,arguments)}D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F;var K={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return K.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},K.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},K.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(F.prototype,K),F}(Or);cn.prototype.size=8;var Mn=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.get=function(K){return new cn(this,K)},F}(se);Yr("FeatureIndexArray",Mn);var an=gi([{name:"a_pos",components:2,type:"Int16"}],4).members,hn=function(D){void 0===D&&(D=[]),this.segments=D};function sn(D,F){return 256*(D=l(Math.floor(D),0,255))+l(Math.floor(F),0,255)}hn.prototype.prepareSegment=function(D,F,K,fe){var Se=this.segments[this.segments.length-1];return D>hn.MAX_VERTEX_ARRAY_LENGTH&&O("Max vertices per segment is "+hn.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+D),(!Se||Se.vertexLength+D>hn.MAX_VERTEX_ARRAY_LENGTH||Se.sortKey!==fe)&&(Se={vertexOffset:F.length,primitiveOffset:K.length,vertexLength:0,primitiveLength:0},void 0!==fe&&(Se.sortKey=fe),this.segments.push(Se)),Se},hn.prototype.get=function(){return this.segments},hn.prototype.destroy=function(){for(var D=0,F=this.segments;D<F.length;D+=1){var K=F[D];for(var fe in K.vaos)K.vaos[fe].destroy()}},hn.simpleSegment=function(D,F,K,fe){return new hn([{vertexOffset:D,primitiveOffset:F,vertexLength:K,primitiveLength:fe,vaos:{},sortKey:0}])},hn.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Yr("SegmentVector",hn);var Ln=gi([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint8"},{name:"a_pixel_ratio_to",components:1,type:"Uint8"}]),Dn=S(function(D){D.exports=function(F,K){var fe,Se,Fe,Ye,ut,_t,Ct,Ft;for(Se=F.length-(fe=3&F.length),Fe=K,ut=3432918353,_t=461845907,Ft=0;Ft<Se;)Ct=255&F.charCodeAt(Ft)|(255&F.charCodeAt(++Ft))<<8|(255&F.charCodeAt(++Ft))<<16|(255&F.charCodeAt(++Ft))<<24,++Ft,Fe=27492+(65535&(Ye=5*(65535&(Fe=(Fe^=Ct=(65535&(Ct=(Ct=(65535&Ct)*ut+(((Ct>>>16)*ut&65535)<<16)&4294967295)<<15|Ct>>>17))*_t+(((Ct>>>16)*_t&65535)<<16)&4294967295)<<13|Fe>>>19))+((5*(Fe>>>16)&65535)<<16)&4294967295))+((58964+(Ye>>>16)&65535)<<16);switch(Ct=0,fe){case 3:Ct^=(255&F.charCodeAt(Ft+2))<<16;case 2:Ct^=(255&F.charCodeAt(Ft+1))<<8;case 1:Fe^=Ct=(65535&(Ct=(Ct=(65535&(Ct^=255&F.charCodeAt(Ft)))*ut+(((Ct>>>16)*ut&65535)<<16)&4294967295)<<15|Ct>>>17))*_t+(((Ct>>>16)*_t&65535)<<16)&4294967295}return Fe^=F.length,Fe=2246822507*(65535&(Fe^=Fe>>>16))+((2246822507*(Fe>>>16)&65535)<<16)&4294967295,Fe=3266489909*(65535&(Fe^=Fe>>>13))+((3266489909*(Fe>>>16)&65535)<<16)&4294967295,(Fe^=Fe>>>16)>>>0}}),dn=S(function(D){D.exports=function(F,K){for(var fe,Se=F.length,Fe=K^Se,Ye=0;Se>=4;)fe=1540483477*(65535&(fe=255&F.charCodeAt(Ye)|(255&F.charCodeAt(++Ye))<<8|(255&F.charCodeAt(++Ye))<<16|(255&F.charCodeAt(++Ye))<<24))+((1540483477*(fe>>>16)&65535)<<16),Fe=1540483477*(65535&Fe)+((1540483477*(Fe>>>16)&65535)<<16)^(fe=1540483477*(65535&(fe^=fe>>>24))+((1540483477*(fe>>>16)&65535)<<16)),Se-=4,++Ye;switch(Se){case 3:Fe^=(255&F.charCodeAt(Ye+2))<<16;case 2:Fe^=(255&F.charCodeAt(Ye+1))<<8;case 1:Fe=1540483477*(65535&(Fe^=255&F.charCodeAt(Ye)))+((1540483477*(Fe>>>16)&65535)<<16)}return Fe=1540483477*(65535&(Fe^=Fe>>>13))+((1540483477*(Fe>>>16)&65535)<<16),(Fe^=Fe>>>15)>>>0}}),Xn=Dn,vr=dn;Xn.murmur3=Dn,Xn.murmur2=vr;var dr=function(){this.ids=[],this.positions=[],this.indexed=!1};dr.prototype.add=function(D,F,K,fe){this.ids.push(jr(D)),this.positions.push(F,K,fe)},dr.prototype.getPositions=function(D){for(var F=jr(D),K=0,fe=this.ids.length-1;K<fe;){var Se=K+fe>>1;this.ids[Se]>=F?fe=Se:K=Se+1}for(var Fe=[];this.ids[K]===F;)Fe.push({index:this.positions[3*K],start:this.positions[3*K+1],end:this.positions[3*K+2]}),K++;return Fe},dr.serialize=function(D,F){var K=new Float64Array(D.ids),fe=new Uint32Array(D.positions);return Er(K,fe,0,K.length-1),F&&F.push(K.buffer,fe.buffer),{ids:K,positions:fe}},dr.deserialize=function(D){var F=new dr;return F.ids=D.ids,F.positions=D.positions,F.indexed=!0,F};var Lr=Math.pow(2,53)-1;function jr(D){var F=+D;return!isNaN(F)&&F<=Lr?F:Xn(String(D))}function Er(D,F,K,fe){for(;K<fe;){for(var Se=D[K+fe>>1],Fe=K-1,Ye=fe+1;;){do{Fe++}while(D[Fe]<Se);do{Ye--}while(D[Ye]>Se);if(Fe>=Ye)break;Fr(D,Fe,Ye),Fr(F,3*Fe,3*Ye),Fr(F,3*Fe+1,3*Ye+1),Fr(F,3*Fe+2,3*Ye+2)}Ye-K<fe-Ye?(Er(D,F,K,Ye),K=Ye+1):(Er(D,F,Ye+1,fe),fe=Ye)}}function Fr(D,F,K){var fe=D[F];D[F]=D[K],D[K]=fe}Yr("FeaturePositionMap",dr);var Kr=function(D,F){this.gl=D.gl,this.location=F},Ti=function(D){function F(K,fe){D.call(this,K,fe),this.current=0}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.set=function(K){this.current!==K&&(this.current=K,this.gl.uniform1i(this.location,K))},F}(Kr),ki=function(D){function F(K,fe){D.call(this,K,fe),this.current=0}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.set=function(K){this.current!==K&&(this.current=K,this.gl.uniform1f(this.location,K))},F}(Kr),Rr=function(D){function F(K,fe){D.call(this,K,fe),this.current=[0,0]}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.set=function(K){K[0]===this.current[0]&&K[1]===this.current[1]||(this.current=K,this.gl.uniform2f(this.location,K[0],K[1]))},F}(Kr),ei=function(D){function F(K,fe){D.call(this,K,fe),this.current=[0,0,0]}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.set=function(K){K[0]===this.current[0]&&K[1]===this.current[1]&&K[2]===this.current[2]||(this.current=K,this.gl.uniform3f(this.location,K[0],K[1],K[2]))},F}(Kr),vi=function(D){function F(K,fe){D.call(this,K,fe),this.current=[0,0,0,0]}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.set=function(K){K[0]===this.current[0]&&K[1]===this.current[1]&&K[2]===this.current[2]&&K[3]===this.current[3]||(this.current=K,this.gl.uniform4f(this.location,K[0],K[1],K[2],K[3]))},F}(Kr),xi=function(D){function F(K,fe){D.call(this,K,fe),this.current=En.transparent}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.set=function(K){K.r===this.current.r&&K.g===this.current.g&&K.b===this.current.b&&K.a===this.current.a||(this.current=K,this.gl.uniform4f(this.location,K.r,K.g,K.b,K.a))},F}(Kr),Ji=new Float32Array(16),Vi=function(D){function F(K,fe){D.call(this,K,fe),this.current=Ji}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.set=function(K){if(K[12]!==this.current[12]||K[0]!==this.current[0])return this.current=K,void this.gl.uniformMatrix4fv(this.location,!1,K);for(var fe=1;fe<16;fe++)if(K[fe]!==this.current[fe]){this.current=K,this.gl.uniformMatrix4fv(this.location,!1,K);break}},F}(Kr);function oo(D){return[sn(255*D.r,255*D.g),sn(255*D.b,255*D.a)]}var So=function(D,F,K){this.value=D,this.uniformNames=F.map(function(fe){return"u_"+fe}),this.type=K};So.prototype.setUniform=function(D,F,K){D.set(K.constantOr(this.value))},So.prototype.getBinding=function(D,F,K){return"color"===this.type?new xi(D,F):new ki(D,F)};var xo=function(D,F){this.uniformNames=F.map(function(K){return"u_"+K}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};xo.prototype.setConstantPatternPositions=function(D,F){this.pixelRatioFrom=F.pixelRatio,this.pixelRatioTo=D.pixelRatio,this.patternFrom=F.tlbr,this.patternTo=D.tlbr},xo.prototype.setUniform=function(D,F,K,fe){var Se="u_pattern_to"===fe?this.patternTo:"u_pattern_from"===fe?this.patternFrom:"u_pixel_ratio_to"===fe?this.pixelRatioTo:"u_pixel_ratio_from"===fe?this.pixelRatioFrom:null;Se&&D.set(Se)},xo.prototype.getBinding=function(D,F,K){return"u_pattern"===K.substr(0,9)?new vi(D,F):new ki(D,F)};var bo=function(D,F,K,fe){this.expression=D,this.type=K,this.maxValue=0,this.paintVertexAttributes=F.map(function(Se){return{name:"a_"+Se,type:"Float32",components:"color"===K?2:1,offset:0}}),this.paintVertexArray=new fe};bo.prototype.populatePaintArray=function(D,F,K,fe,Se){var Fe=this.paintVertexArray.length,Ye=this.expression.evaluate(new io(0),F,{},fe,[],Se);this.paintVertexArray.resize(D),this._setPaintValue(Fe,D,Ye)},bo.prototype.updatePaintArray=function(D,F,K,fe){var Se=this.expression.evaluate({zoom:0},K,fe);this._setPaintValue(D,F,Se)},bo.prototype._setPaintValue=function(D,F,K){if("color"===this.type)for(var fe=oo(K),Se=D;Se<F;Se++)this.paintVertexArray.emplace(Se,fe[0],fe[1]);else{for(var Fe=D;Fe<F;Fe++)this.paintVertexArray.emplace(Fe,K);this.maxValue=Math.max(this.maxValue,Math.abs(K))}},bo.prototype.upload=function(D){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=D.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},bo.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var mo=function(D,F,K,fe,Se,Fe){this.expression=D,this.uniformNames=F.map(function(Ye){return"u_"+Ye+"_t"}),this.type=K,this.useIntegerZoom=fe,this.zoom=Se,this.maxValue=0,this.paintVertexAttributes=F.map(function(Ye){return{name:"a_"+Ye,type:"Float32",components:"color"===K?4:2,offset:0}}),this.paintVertexArray=new Fe};mo.prototype.populatePaintArray=function(D,F,K,fe,Se){var Fe=this.expression.evaluate(new io(this.zoom),F,{},fe,[],Se),Ye=this.expression.evaluate(new io(this.zoom+1),F,{},fe,[],Se),ut=this.paintVertexArray.length;this.paintVertexArray.resize(D),this._setPaintValue(ut,D,Fe,Ye)},mo.prototype.updatePaintArray=function(D,F,K,fe){var Se=this.expression.evaluate({zoom:this.zoom},K,fe),Fe=this.expression.evaluate({zoom:this.zoom+1},K,fe);this._setPaintValue(D,F,Se,Fe)},mo.prototype._setPaintValue=function(D,F,K,fe){if("color"===this.type)for(var Se=oo(K),Fe=oo(fe),Ye=D;Ye<F;Ye++)this.paintVertexArray.emplace(Ye,Se[0],Se[1],Fe[0],Fe[1]);else{for(var ut=D;ut<F;ut++)this.paintVertexArray.emplace(ut,K,fe);this.maxValue=Math.max(this.maxValue,Math.abs(K),Math.abs(fe))}},mo.prototype.upload=function(D){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=D.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},mo.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},mo.prototype.setUniform=function(D,F){var K=this.useIntegerZoom?Math.floor(F.zoom):F.zoom,fe=l(this.expression.interpolationFactor(K,this.zoom,this.zoom+1),0,1);D.set(fe)},mo.prototype.getBinding=function(D,F,K){return new ki(D,F)};var ao=function(D,F,K,fe,Se,Fe){this.expression=D,this.type=F,this.useIntegerZoom=K,this.zoom=fe,this.layerId=Fe,this.zoomInPaintVertexArray=new Se,this.zoomOutPaintVertexArray=new Se};ao.prototype.populatePaintArray=function(D,F,K){var fe=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(D),this.zoomOutPaintVertexArray.resize(D),this._setPaintValues(fe,D,F.patterns&&F.patterns[this.layerId],K)},ao.prototype.updatePaintArray=function(D,F,K,fe,Se){this._setPaintValues(D,F,K.patterns&&K.patterns[this.layerId],Se)},ao.prototype._setPaintValues=function(D,F,K,fe){if(fe&&K){var ut=fe[K.min],_t=fe[K.mid],Ct=fe[K.max];if(ut&&_t&&Ct)for(var Ft=D;Ft<F;Ft++)this.zoomInPaintVertexArray.emplace(Ft,_t.tl[0],_t.tl[1],_t.br[0],_t.br[1],ut.tl[0],ut.tl[1],ut.br[0],ut.br[1],_t.pixelRatio,ut.pixelRatio),this.zoomOutPaintVertexArray.emplace(Ft,_t.tl[0],_t.tl[1],_t.br[0],_t.br[1],Ct.tl[0],Ct.tl[1],Ct.br[0],Ct.br[1],_t.pixelRatio,Ct.pixelRatio)}},ao.prototype.upload=function(D){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=D.createVertexBuffer(this.zoomInPaintVertexArray,Ln.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=D.createVertexBuffer(this.zoomOutPaintVertexArray,Ln.members,this.expression.isStateDependent))},ao.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var wo=function(D,F,K,fe){this.binders={},this.layoutAttributes=fe,this._buffers=[];var Se=[];for(var Fe in D.paint._values)if(K(Fe)){var Ye=D.paint.get(Fe);if(Ye instanceof Ia&&ku(Ye.property.specification)){var ut=fl(Fe,D.type),_t=Ye.value,Ct=Ye.property.specification.type,Ft=Ye.property.useIntegerZoom,Xt=Ye.property.specification["property-type"],nn="cross-faded"===Xt||"cross-faded-data-driven"===Xt;if("constant"===_t.kind)this.binders[Fe]=nn?new xo(_t.value,ut):new So(_t.value,ut,Ct),Se.push("/u_"+Fe);else if("source"===_t.kind||nn){var en=fa(Fe,Ct,"source");this.binders[Fe]=nn?new ao(_t,Ct,Ft,F,en,D.id):new bo(_t,ut,Ct,en),Se.push("/a_"+Fe)}else{var _n=fa(Fe,Ct,"composite");this.binders[Fe]=new mo(_t,ut,Ct,Ft,F,_n),Se.push("/z_"+Fe)}}}this.cacheKey=Se.sort().join("")};wo.prototype.getMaxValue=function(D){var F=this.binders[D];return F instanceof bo||F instanceof mo?F.maxValue:0},wo.prototype.populatePaintArrays=function(D,F,K,fe,Se){for(var Fe in this.binders){var Ye=this.binders[Fe];(Ye instanceof bo||Ye instanceof mo||Ye instanceof ao)&&Ye.populatePaintArray(D,F,K,fe,Se)}},wo.prototype.setConstantPatternPositions=function(D,F){for(var K in this.binders){var fe=this.binders[K];fe instanceof xo&&fe.setConstantPatternPositions(D,F)}},wo.prototype.updatePaintArrays=function(D,F,K,fe,Se){var Fe=!1;for(var Ye in D)for(var ut=0,_t=F.getPositions(Ye);ut<_t.length;ut+=1){var Ct=_t[ut],Ft=K.feature(Ct.index);for(var Xt in this.binders){var nn=this.binders[Xt];if((nn instanceof bo||nn instanceof mo||nn instanceof ao)&&!0===nn.expression.isStateDependent){var en=fe.paint.get(Xt);nn.expression=en.value,nn.updatePaintArray(Ct.start,Ct.end,Ft,D[Ye],Se),Fe=!0}}}return Fe},wo.prototype.defines=function(){var D=[];for(var F in this.binders){var K=this.binders[F];(K instanceof So||K instanceof xo)&&D.push.apply(D,K.uniformNames.map(function(fe){return"#define HAS_UNIFORM_"+fe}))}return D},wo.prototype.getPaintVertexBuffers=function(){return this._buffers},wo.prototype.getUniforms=function(D,F){var K=[];for(var fe in this.binders){var Se=this.binders[fe];if(Se instanceof So||Se instanceof xo||Se instanceof mo)for(var Fe=0,Ye=Se.uniformNames;Fe<Ye.length;Fe+=1){var ut=Ye[Fe];if(F[ut]){var _t=Se.getBinding(D,F[ut],ut);K.push({name:ut,property:fe,binding:_t})}}}return K},wo.prototype.setUniforms=function(D,F,K,fe){for(var Se=0,Fe=F;Se<Fe.length;Se+=1){var Ye=Fe[Se],ut=Ye.name,_t=Ye.property;this.binders[_t].setUniform(Ye.binding,fe,K.get(_t),ut)}},wo.prototype.updatePaintBuffers=function(D){for(var F in this._buffers=[],this.binders){var K=this.binders[F];if(D&&K instanceof ao){var fe=2===D.fromScale?K.zoomInPaintVertexBuffer:K.zoomOutPaintVertexBuffer;fe&&this._buffers.push(fe)}else(K instanceof bo||K instanceof mo)&&K.paintVertexBuffer&&this._buffers.push(K.paintVertexBuffer)}},wo.prototype.upload=function(D){for(var F in this.binders){var K=this.binders[F];(K instanceof bo||K instanceof mo||K instanceof ao)&&K.upload(D)}this.updatePaintBuffers()},wo.prototype.destroy=function(){for(var D in this.binders){var F=this.binders[D];(F instanceof bo||F instanceof mo||F instanceof ao)&&F.destroy()}};var Bo=function(D,F,K,fe){void 0===fe&&(fe=function(){return!0}),this.programConfigurations={};for(var Se=0,Fe=F;Se<Fe.length;Se+=1){var Ye=Fe[Se];this.programConfigurations[Ye.id]=new wo(Ye,K,fe,D)}this.needsUpload=!1,this._featureMap=new dr,this._bufferOffset=0};function fl(D,F){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[D]||[D.replace(F+"-","").replace(/-/g,"_")]}function fa(D,F,K){var Se={"line-pattern":{source:Ot,composite:Ot},"fill-pattern":{source:Ot,composite:Ot},"fill-extrusion-pattern":{source:Ot,composite:Ot}}[D];return Se&&Se[K]||{color:{source:je,composite:qe},number:{source:St,composite:je}}[F][K]}Bo.prototype.populatePaintArrays=function(D,F,K,fe,Se,Fe){for(var Ye in this.programConfigurations)this.programConfigurations[Ye].populatePaintArrays(D,F,fe,Se,Fe);void 0!==F.id&&this._featureMap.add(F.id,K,this._bufferOffset,D),this._bufferOffset=D,this.needsUpload=!0},Bo.prototype.updatePaintArrays=function(D,F,K,fe){for(var Se=0,Fe=K;Se<Fe.length;Se+=1){var Ye=Fe[Se];this.needsUpload=this.programConfigurations[Ye.id].updatePaintArrays(D,this._featureMap,F,Ye,fe)||this.needsUpload}},Bo.prototype.get=function(D){return this.programConfigurations[D]},Bo.prototype.upload=function(D){if(this.needsUpload){for(var F in this.programConfigurations)this.programConfigurations[F].upload(D);this.needsUpload=!1}},Bo.prototype.destroy=function(){for(var D in this.programConfigurations)this.programConfigurations[D].destroy()},Yr("ConstantBinder",So),Yr("CrossFadedConstantBinder",xo),Yr("SourceExpressionBinder",bo),Yr("CrossFadedCompositeBinder",ao),Yr("CompositeExpressionBinder",mo),Yr("ProgramConfiguration",wo,{omit:["_buffers"]}),Yr("ProgramConfigurationSet",Bo);var bi=8192,da=(15,{min:-1*Math.pow(2,14),max:Math.pow(2,14)-1});function $o(D){for(var F=bi/D.extent,K=D.loadGeometry(),fe=0;fe<K.length;fe++)for(var Se=K[fe],Fe=0;Fe<Se.length;Fe++){var Ye=Se[Fe];Ye.x=Math.round(Ye.x*F),Ye.y=Math.round(Ye.y*F),(Ye.x<da.min||Ye.x>da.max||Ye.y<da.min||Ye.y>da.max)&&(O("Geometry exceeds allowed extent, reduce your vector tile buffer size"),Ye.x=l(Ye.x,da.min,da.max),Ye.y=l(Ye.y,da.min,da.max))}return K}function Ws(D,F,K,fe,Se){D.emplaceBack(2*F+(fe+1)/2,2*K+(Se+1)/2)}var $i=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(F){return F.id}),this.index=D.index,this.hasPattern=!1,this.layoutVertexArray=new it,this.indexArray=new Ze,this.segments=new hn,this.programConfigurations=new Bo(an,D.layers,D.zoom),this.stateDependentLayerIds=this.layers.filter(function(F){return F.isStateDependent()}).map(function(F){return F.id})};function pa(D,F){for(var K=0;K<D.length;K++)if(Ic(F,D[K]))return!0;for(var fe=0;fe<F.length;fe++)if(Ic(D,F[fe]))return!0;return!!_f(D,F)}function jo(D,F,K){return!!Ic(D,F)||!!cc(F,D,K)}function uc(D,F){if(1===D.length)return xf(F,D[0]);for(var K=0;K<F.length;K++)for(var fe=F[K],Se=0;Se<fe.length;Se++)if(Ic(D,fe[Se]))return!0;for(var Fe=0;Fe<D.length;Fe++)if(xf(F,D[Fe]))return!0;for(var Ye=0;Ye<F.length;Ye++)if(_f(D,F[Ye]))return!0;return!1}function Yf(D,F,K){if(D.length>1){if(_f(D,F))return!0;for(var fe=0;fe<F.length;fe++)if(cc(F[fe],D,K))return!0}for(var Se=0;Se<D.length;Se++)if(cc(D[Se],F,K))return!0;return!1}function _f(D,F){if(0===D.length||0===F.length)return!1;for(var K=0;K<D.length-1;K++)for(var fe=D[K],Se=D[K+1],Fe=0;Fe<F.length-1;Fe++)if($d(fe,Se,F[Fe],F[Fe+1]))return!0;return!1}function $d(D,F,K,fe){return A(D,K,fe)!==A(F,K,fe)&&A(D,F,K)!==A(D,F,fe)}function cc(D,F,K){var fe=K*K;if(1===F.length)return D.distSqr(F[0])<fe;for(var Se=1;Se<F.length;Se++)if(Xf(D,F[Se-1],F[Se])<fe)return!0;return!1}function Xf(D,F,K){var fe=F.distSqr(K);if(0===fe)return D.distSqr(F);var Se=((D.x-F.x)*(K.x-F.x)+(D.y-F.y)*(K.y-F.y))/fe;return D.distSqr(Se<0?F:Se>1?K:K.sub(F)._mult(Se)._add(F))}function xf(D,F){for(var K,fe,Se,Fe=!1,Ye=0;Ye<D.length;Ye++)for(var ut=0,_t=(K=D[Ye]).length-1;ut<K.length;_t=ut++)(fe=K[ut]).y>F.y!=(Se=K[_t]).y>F.y&&F.x<(Se.x-fe.x)*(F.y-fe.y)/(Se.y-fe.y)+fe.x&&(Fe=!Fe);return Fe}function Ic(D,F){for(var K=!1,fe=0,Se=D.length-1;fe<D.length;Se=fe++){var Fe=D[fe],Ye=D[Se];Fe.y>F.y!=Ye.y>F.y&&F.x<(Ye.x-Fe.x)*(F.y-Fe.y)/(Ye.y-Fe.y)+Fe.x&&(K=!K)}return K}function Zd(D,F,K){var fe=K[0],Se=K[2];if(D.x<fe.x&&F.x<fe.x||D.x>Se.x&&F.x>Se.x||D.y<fe.y&&F.y<fe.y||D.y>Se.y&&F.y>Se.y)return!1;var Fe=A(D,F,K[0]);return Fe!==A(D,F,K[1])||Fe!==A(D,F,K[2])||Fe!==A(D,F,K[3])}function fc(D,F,K){var fe=F.paint.get(D).value;return"constant"===fe.kind?fe.value:K.programConfigurations.get(F.id).getMaxValue(D)}function qh(D){return Math.sqrt(D[0]*D[0]+D[1]*D[1])}function Yd(D,F,K,fe,Se){if(!F[0]&&!F[1])return D;var Fe=i.convert(F)._mult(Se);"viewport"===K&&Fe._rotate(-fe);for(var Ye=[],ut=0;ut<D.length;ut++)Ye.push(D[ut].sub(Fe));return Ye}$i.prototype.populate=function(D,F,K){var fe=this.layers[0],Se=[],Fe=null;"circle"===fe.type&&(Fe=fe.layout.get("circle-sort-key"));for(var Ye=0,ut=D;Ye<ut.length;Ye+=1){var _t=ut[Ye],Ct=_t.feature,Ft=_t.id,Xt=_t.index,nn=_t.sourceLayerIndex,en=this.layers[0]._featureFilter.needGeometry,_n={type:Ct.type,id:Ft,properties:Ct.properties,geometry:en?$o(Ct):[]};if(this.layers[0]._featureFilter.filter(new io(this.zoom),_n,K)){en||(_n.geometry=$o(Ct));var Pn=Fe?Fe.evaluate(_n,{},K):void 0;Se.push({id:Ft,properties:Ct.properties,type:Ct.type,sourceLayerIndex:nn,index:Xt,geometry:_n.geometry,patterns:{},sortKey:Pn})}}Fe&&Se.sort(function(Xr,si){return Xr.sortKey-si.sortKey});for(var Kn=0,or=Se;Kn<or.length;Kn+=1){var lr=or[Kn],yr=lr.geometry,br=lr.index,Gr=lr.sourceLayerIndex,Nr=D[br].feature;this.addFeature(lr,yr,br,K),F.featureIndex.insert(Nr,yr,br,Gr,this.index)}},$i.prototype.update=function(D,F,K){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,F,this.stateDependentLayers,K)},$i.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},$i.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},$i.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,an),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},$i.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},$i.prototype.addFeature=function(D,F,K,fe){for(var Se=0,Fe=F;Se<Fe.length;Se+=1)for(var Ye=0,ut=Fe[Se];Ye<ut.length;Ye+=1){var _t=ut[Ye],Ct=_t.x,Ft=_t.y;if(!(Ct<0||Ct>=bi||Ft<0||Ft>=bi)){var Xt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,D.sortKey),nn=Xt.vertexLength;Ws(this.layoutVertexArray,Ct,Ft,-1,-1),Ws(this.layoutVertexArray,Ct,Ft,1,-1),Ws(this.layoutVertexArray,Ct,Ft,1,1),Ws(this.layoutVertexArray,Ct,Ft,-1,1),this.indexArray.emplaceBack(nn,nn+1,nn+2),this.indexArray.emplaceBack(nn,nn+3,nn+2),Xt.vertexLength+=4,Xt.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,K,{},fe)},Yr("CircleBucket",$i,{omit:["layers"]});var Xd=new Ba({"circle-sort-key":new pi(Le.layout_circle["circle-sort-key"])}),bf={paint:new Ba({"circle-radius":new pi(Le.paint_circle["circle-radius"]),"circle-color":new pi(Le.paint_circle["circle-color"]),"circle-blur":new pi(Le.paint_circle["circle-blur"]),"circle-opacity":new pi(Le.paint_circle["circle-opacity"]),"circle-translate":new kr(Le.paint_circle["circle-translate"]),"circle-translate-anchor":new kr(Le.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new kr(Le.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new kr(Le.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new pi(Le.paint_circle["circle-stroke-width"]),"circle-stroke-color":new pi(Le.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new pi(Le.paint_circle["circle-stroke-opacity"])}),layout:Xd},iu=typeof Float32Array<"u"?Float32Array:Array;function Jd(D){return D[0]=1,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=1,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=1,D[11]=0,D[12]=0,D[13]=0,D[14]=0,D[15]=1,D}function R0(D,F,K){var fe=F[0],Se=F[1],Fe=F[2],Ye=F[3],ut=F[4],_t=F[5],Ct=F[6],Ft=F[7],Xt=F[8],nn=F[9],en=F[10],_n=F[11],Pn=F[12],Qn=F[13],Kn=F[14],or=F[15],lr=K[0],pr=K[1],yr=K[2],br=K[3];return D[0]=lr*fe+pr*ut+yr*Xt+br*Pn,D[1]=lr*Se+pr*_t+yr*nn+br*Qn,D[2]=lr*Fe+pr*Ct+yr*en+br*Kn,D[3]=lr*Ye+pr*Ft+yr*_n+br*or,D[4]=(lr=K[4])*fe+(pr=K[5])*ut+(yr=K[6])*Xt+(br=K[7])*Pn,D[5]=lr*Se+pr*_t+yr*nn+br*Qn,D[6]=lr*Fe+pr*Ct+yr*en+br*Kn,D[7]=lr*Ye+pr*Ft+yr*_n+br*or,D[8]=(lr=K[8])*fe+(pr=K[9])*ut+(yr=K[10])*Xt+(br=K[11])*Pn,D[9]=lr*Se+pr*_t+yr*nn+br*Qn,D[10]=lr*Fe+pr*Ct+yr*en+br*Kn,D[11]=lr*Ye+pr*Ft+yr*_n+br*or,D[12]=(lr=K[12])*fe+(pr=K[13])*ut+(yr=K[14])*Xt+(br=K[15])*Pn,D[13]=lr*Se+pr*_t+yr*nn+br*Qn,D[14]=lr*Fe+pr*Ct+yr*en+br*Kn,D[15]=lr*Ye+pr*Ft+yr*_n+br*or,D}Math.hypot||(Math.hypot=function(){for(var D=arguments,F=0,K=arguments.length;K--;)F+=D[K]*D[K];return Math.sqrt(F)});var Kd,D,Jf=R0;function Kf(D,F,K){var fe=F[0],Se=F[1],Fe=F[2],Ye=F[3];return D[0]=K[0]*fe+K[4]*Se+K[8]*Fe+K[12]*Ye,D[1]=K[1]*fe+K[5]*Se+K[9]*Fe+K[13]*Ye,D[2]=K[2]*fe+K[6]*Se+K[10]*Fe+K[14]*Ye,D[3]=K[3]*fe+K[7]*Se+K[11]*Fe+K[15]*Ye,D}Kd=new iu(3),iu!=Float32Array&&(Kd[0]=0,Kd[1]=0,Kd[2]=0),D=new iu(4),iu!=Float32Array&&(D[0]=0,D[1]=0,D[2]=0,D[3]=0);var r1=(function(){var D=new iu(2);iu!=Float32Array&&(D[0]=0,D[1]=0)}(),function(D){function F(K){D.call(this,K,bf)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.createBucket=function(K){return new $i(K)},F.prototype.queryRadius=function(K){var fe=K;return fc("circle-radius",this,fe)+fc("circle-stroke-width",this,fe)+qh(this.paint.get("circle-translate"))},F.prototype.queryIntersectsFeature=function(K,fe,Se,Fe,Ye,ut,_t,Ct){for(var Ft=Yd(K,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),ut.angle,_t),Xt=this.paint.get("circle-radius").evaluate(fe,Se)+this.paint.get("circle-stroke-width").evaluate(fe,Se),nn="map"===this.paint.get("circle-pitch-alignment"),en=nn?Ft:function(Gr,Nr){return Gr.map(function(Xr){return nf(Xr,Nr)})}(Ft,Ct),_n=nn?Xt*_t:Xt,Pn=0,Qn=Fe;Pn<Qn.length;Pn+=1)for(var Kn=0,or=Qn[Pn];Kn<or.length;Kn+=1){var lr=or[Kn],pr=nn?lr:nf(lr,Ct),yr=_n,br=Kf([],[lr.x,lr.y,0,1],Ct);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?yr*=br[3]/ut.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(yr*=ut.cameraToCenterDistance/br[3]),jo(en,pr,yr))return!0}return!1},F}(rs));function nf(D,F){var K=Kf([],[D.x,D.y,0,1],F);return new i(K[0]/K[3],K[1]/K[3])}var wf=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F}($i);function rf(D,F,K,fe){var Se=F.width,Fe=F.height;if(fe){if(fe instanceof Uint8ClampedArray)fe=new Uint8Array(fe.buffer);else if(fe.length!==Se*Fe*K)throw new RangeError("mismatched image size")}else fe=new Uint8Array(Se*Fe*K);return D.width=Se,D.height=Fe,D.data=fe,D}function Tf(D,F,K){var fe=F.width,Se=F.height;if(fe!==D.width||Se!==D.height){var Fe=rf({},{width:fe,height:Se},K);Qd(D,Fe,{x:0,y:0},{x:0,y:0},{width:Math.min(D.width,fe),height:Math.min(D.height,Se)},K),D.width=fe,D.height=Se,D.data=Fe.data}}function Qd(D,F,K,fe,Se,Fe){if(0===Se.width||0===Se.height)return F;if(Se.width>D.width||Se.height>D.height||K.x>D.width-Se.width||K.y>D.height-Se.height)throw new RangeError("out of range source coordinates for image copy");if(Se.width>F.width||Se.height>F.height||fe.x>F.width-Se.width||fe.y>F.height-Se.height)throw new RangeError("out of range destination coordinates for image copy");for(var Ye=D.data,ut=F.data,_t=0;_t<Se.height;_t++)for(var Ct=((K.y+_t)*D.width+K.x)*Fe,Ft=((fe.y+_t)*F.width+fe.x)*Fe,Xt=0;Xt<Se.width*Fe;Xt++)ut[Ft+Xt]=Ye[Ct+Xt];return F}Yr("HeatmapBucket",wf,{omit:["layers"]});var Pc=function(D,F){rf(this,D,1,F)};Pc.prototype.resize=function(D){Tf(this,D,1)},Pc.prototype.clone=function(){return new Pc({width:this.width,height:this.height},new Uint8Array(this.data))},Pc.copy=function(D,F,K,fe,Se){Qd(D,F,K,fe,Se,1)};var is=function(D,F){rf(this,D,4,F)};is.prototype.resize=function(D){Tf(this,D,4)},is.prototype.replace=function(D,F){F?this.data.set(D):this.data=D instanceof Uint8ClampedArray?new Uint8Array(D.buffer):D},is.prototype.clone=function(){return new is({width:this.width,height:this.height},new Uint8Array(this.data))},is.copy=function(D,F,K,fe,Se){Qd(D,F,K,fe,Se,4)},Yr("AlphaImage",Pc),Yr("RGBAImage",is);var H2={paint:new Ba({"heatmap-radius":new pi(Le.paint_heatmap["heatmap-radius"]),"heatmap-weight":new pi(Le.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new kr(Le.paint_heatmap["heatmap-intensity"]),"heatmap-color":new cl(Le.paint_heatmap["heatmap-color"]),"heatmap-opacity":new kr(Le.paint_heatmap["heatmap-opacity"])})};function i1(D,F){for(var K=new Uint8Array(1024),fe={},Se=0,Fe=0;Se<256;Se++,Fe+=4){fe[F]=Se/255;var Ye=D.evaluate(fe);K[Fe+0]=Math.floor(255*Ye.r/Ye.a),K[Fe+1]=Math.floor(255*Ye.g/Ye.a),K[Fe+2]=Math.floor(255*Ye.b/Ye.a),K[Fe+3]=Math.floor(255*Ye.a)}return new is({width:256,height:1},K)}var yi=function(D){function F(K){D.call(this,K,H2),this._updateColorRamp()}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.createBucket=function(K){return new wf(K)},F.prototype._handleSpecialPaintPropertyUpdate=function(K){"heatmap-color"===K&&this._updateColorRamp()},F.prototype._updateColorRamp=function(){this.colorRamp=i1(this._transitionablePaint._values["heatmap-color"].value.expression,"heatmapDensity"),this.colorRampTexture=null},F.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},F.prototype.queryRadius=function(){return 0},F.prototype.queryIntersectsFeature=function(){return!1},F.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},F}(rs),G2={paint:new Ba({"hillshade-illumination-direction":new kr(Le.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new kr(Le.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new kr(Le.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new kr(Le.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new kr(Le.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new kr(Le.paint_hillshade["hillshade-accent-color"])})},q2=function(D){function F(K){D.call(this,K,G2)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},F}(rs),Vy=gi([{name:"a_pos",components:2,type:"Int16"}],4).members,o1=L0,W2=L0;function L0(D,F,K){K=K||2;var fe,Se,Fe,Ye,ut,_t,Ct,Ft=F&&F.length,Xt=Ft?F[0]*K:D.length,nn=Hy(D,0,Xt,K,!0),en=[];if(!nn||nn.next===nn.prev)return en;if(Ft&&(nn=function(Pn,Qn,Kn,or){var lr,pr,yr,br=[];for(lr=0,pr=Qn.length;lr<pr;lr++)(yr=Hy(Pn,Qn[lr]*or,lr<pr-1?Qn[lr+1]*or:Pn.length,or,!1))===yr.next&&(yr.steiner=!0),br.push(np(yr));for(br.sort(Gy),lr=0;lr<br.length;lr++)Iu(br[lr],Kn),Kn=Ou(Kn,Kn.next);return Kn}(D,F,nn,K)),D.length>80*K){fe=Fe=D[0],Se=Ye=D[1];for(var _n=K;_n<Xt;_n+=K)(ut=D[_n])<fe&&(fe=ut),(_t=D[_n+1])<Se&&(Se=_t),ut>Fe&&(Fe=ut),_t>Ye&&(Ye=_t);Ct=0!==(Ct=Math.max(Fe-fe,Ye-Se))?1/Ct:0}return ep(nn,en,K,fe,Se,Ct),en}function Hy(D,F,K,fe,Se){var Fe,Ye;if(Se===B0(D,F,K,fe)>0)for(Fe=F;Fe<K;Fe+=fe)Ye=F0(Fe,D[Fe],D[Fe+1],Ye);else for(Fe=K-fe;Fe>=F;Fe-=fe)Ye=F0(Fe,D[Fe],D[Fe+1],Ye);return Ye&&rp(Ye,Ye.next)&&($h(Ye),Ye=Ye.next),Ye}function Ou(D,F){if(!D)return D;F||(F=D);var K,fe=D;do{if(K=!1,fe.steiner||!rp(fe,fe.next)&&0!==$a(fe.prev,fe,fe.next))fe=fe.next;else{if($h(fe),(fe=F=fe.prev)===fe.next)break;K=!0}}while(K||fe!==F);return F}function ep(D,F,K,fe,Se,Fe,Ye){if(D){!Ye&&Fe&&function(Ft,Xt,nn,en){var _n=Ft;do{null===_n.z&&(_n.z=tp(_n.x,_n.y,Xt,nn,en)),_n.prevZ=_n.prev,_n.nextZ=_n.next,_n=_n.next}while(_n!==Ft);_n.prevZ.nextZ=null,_n.prevZ=null,function(Pn){var Qn,Kn,or,lr,pr,yr,br,Gr,Nr=1;do{for(Kn=Pn,Pn=null,pr=null,yr=0;Kn;){for(yr++,or=Kn,br=0,Qn=0;Qn<Nr&&(br++,or=or.nextZ);Qn++);for(Gr=Nr;br>0||Gr>0&&or;)0!==br&&(0===Gr||!or||Kn.z<=or.z)?(lr=Kn,Kn=Kn.nextZ,br--):(lr=or,or=or.nextZ,Gr--),pr?pr.nextZ=lr:Pn=lr,lr.prevZ=pr,pr=lr;Kn=or}pr.nextZ=null,Nr*=2}while(yr>1)}(_n)}(D,fe,Se,Fe);for(var ut,_t,Ct=D;D.prev!==D.next;)if(ut=D.prev,_t=D.next,Fe?Ls(D,fe,Se,Fe):$2(D))F.push(ut.i/K),F.push(D.i/K),F.push(_t.i/K),$h(D),D=_t.next,Ct=_t.next;else if((D=_t)===Ct){Ye?1===Ye?ep(D=N0(Ou(D),F,K),F,K,fe,Se,Fe,2):2===Ye&&Wh(D,F,K,fe,Se,Fe):ep(Ou(D),F,K,fe,Se,Fe,1);break}}}function $2(D){var F=D.prev,K=D,fe=D.next;if($a(F,K,fe)>=0)return!1;for(var Se=D.next.next;Se!==D.prev;){if(hc(F.x,F.y,K.x,K.y,fe.x,fe.y,Se.x,Se.y)&&$a(Se.prev,Se,Se.next)>=0)return!1;Se=Se.next}return!0}function Ls(D,F,K,fe){var Se=D.prev,Fe=D,Ye=D.next;if($a(Se,Fe,Ye)>=0)return!1;for(var Ct=Se.x>Fe.x?Se.x>Ye.x?Se.x:Ye.x:Fe.x>Ye.x?Fe.x:Ye.x,Ft=Se.y>Fe.y?Se.y>Ye.y?Se.y:Ye.y:Fe.y>Ye.y?Fe.y:Ye.y,Xt=tp(Se.x<Fe.x?Se.x<Ye.x?Se.x:Ye.x:Fe.x<Ye.x?Fe.x:Ye.x,Se.y<Fe.y?Se.y<Ye.y?Se.y:Ye.y:Fe.y<Ye.y?Fe.y:Ye.y,F,K,fe),nn=tp(Ct,Ft,F,K,fe),en=D.prevZ,_n=D.nextZ;en&&en.z>=Xt&&_n&&_n.z<=nn;){if(en!==D.prev&&en!==D.next&&hc(Se.x,Se.y,Fe.x,Fe.y,Ye.x,Ye.y,en.x,en.y)&&$a(en.prev,en,en.next)>=0||(en=en.prevZ,_n!==D.prev&&_n!==D.next&&hc(Se.x,Se.y,Fe.x,Fe.y,Ye.x,Ye.y,_n.x,_n.y)&&$a(_n.prev,_n,_n.next)>=0))return!1;_n=_n.nextZ}for(;en&&en.z>=Xt;){if(en!==D.prev&&en!==D.next&&hc(Se.x,Se.y,Fe.x,Fe.y,Ye.x,Ye.y,en.x,en.y)&&$a(en.prev,en,en.next)>=0)return!1;en=en.prevZ}for(;_n&&_n.z<=nn;){if(_n!==D.prev&&_n!==D.next&&hc(Se.x,Se.y,Fe.x,Fe.y,Ye.x,Ye.y,_n.x,_n.y)&&$a(_n.prev,_n,_n.next)>=0)return!1;_n=_n.nextZ}return!0}function N0(D,F,K){var fe=D;do{var Se=fe.prev,Fe=fe.next.next;!rp(Se,Fe)&&Wy(Se,fe,fe.next,Fe)&&dc(Se,Fe)&&dc(Fe,Se)&&(F.push(Se.i/K),F.push(fe.i/K),F.push(Fe.i/K),$h(fe),$h(fe.next),fe=D=Fe),fe=fe.next}while(fe!==D);return Ou(fe)}function Wh(D,F,K,fe,Se,Fe){var Ye=D;do{for(var ut=Ye.next.next;ut!==Ye.prev;){if(Ye.i!==ut.i&&qy(Ye,ut)){var _t=$y(Ye,ut);return Ye=Ou(Ye,Ye.next),_t=Ou(_t,_t.next),ep(Ye,F,K,fe,Se,Fe),void ep(_t,F,K,fe,Se,Fe)}ut=ut.next}Ye=Ye.next}while(Ye!==D)}function Gy(D,F){return D.x-F.x}function Iu(D,F){if(F=function(fe,Se){var Fe,Ye=Se,ut=fe.x,_t=fe.y,Ct=-1/0;do{if(_t<=Ye.y&&_t>=Ye.next.y&&Ye.next.y!==Ye.y){var Ft=Ye.x+(_t-Ye.y)*(Ye.next.x-Ye.x)/(Ye.next.y-Ye.y);if(Ft<=ut&&Ft>Ct){if(Ct=Ft,Ft===ut){if(_t===Ye.y)return Ye;if(_t===Ye.next.y)return Ye.next}Fe=Ye.x<Ye.next.x?Ye:Ye.next}}Ye=Ye.next}while(Ye!==Se);if(!Fe)return null;if(ut===Ct)return Fe;var Xt,nn=Fe,en=Fe.x,_n=Fe.y,Pn=1/0;Ye=Fe;do{ut>=Ye.x&&Ye.x>=en&&ut!==Ye.x&&hc(_t<_n?ut:Ct,_t,en,_n,_t<_n?Ct:ut,_t,Ye.x,Ye.y)&&(Xt=Math.abs(_t-Ye.y)/(ut-Ye.x),dc(Ye,fe)&&(Xt<Pn||Xt===Pn&&(Ye.x>Fe.x||Ye.x===Fe.x&&Mf(Fe,Ye)))&&(Fe=Ye,Pn=Xt)),Ye=Ye.next}while(Ye!==nn);return Fe}(D,F)){var K=$y(F,D);Ou(F,F.next),Ou(K,K.next)}}function Mf(D,F){return $a(D.prev,D,F.prev)<0&&$a(F.next,D,D.next)<0}function tp(D,F,K,fe,Se){return(D=1431655765&((D=858993459&((D=252645135&((D=16711935&((D=32767*(D-K)*Se)|D<<8))|D<<4))|D<<2))|D<<1))|(F=1431655765&((F=858993459&((F=252645135&((F=16711935&((F=32767*(F-fe)*Se)|F<<8))|F<<4))|F<<2))|F<<1))<<1}function np(D){var F=D,K=D;do{(F.x<K.x||F.x===K.x&&F.y<K.y)&&(K=F),F=F.next}while(F!==D);return K}function hc(D,F,K,fe,Se,Fe,Ye,ut){return(Se-Ye)*(F-ut)-(D-Ye)*(Fe-ut)>=0&&(D-Ye)*(fe-ut)-(K-Ye)*(F-ut)>=0&&(K-Ye)*(Fe-ut)-(Se-Ye)*(fe-ut)>=0}function qy(D,F){return D.next.i!==F.i&&D.prev.i!==F.i&&!function(K,fe){var Se=K;do{if(Se.i!==K.i&&Se.next.i!==K.i&&Se.i!==fe.i&&Se.next.i!==fe.i&&Wy(Se,Se.next,K,fe))return!0;Se=Se.next}while(Se!==K);return!1}(D,F)&&(dc(D,F)&&dc(F,D)&&function(K,fe){var Se=K,Fe=!1,Ye=(K.x+fe.x)/2,ut=(K.y+fe.y)/2;do{Se.y>ut!=Se.next.y>ut&&Se.next.y!==Se.y&&Ye<(Se.next.x-Se.x)*(ut-Se.y)/(Se.next.y-Se.y)+Se.x&&(Fe=!Fe),Se=Se.next}while(Se!==K);return Fe}(D,F)&&($a(D.prev,D,F.prev)||$a(D,F.prev,F))||rp(D,F)&&$a(D.prev,D,D.next)>0&&$a(F.prev,F,F.next)>0)}function $a(D,F,K){return(F.y-D.y)*(K.x-F.x)-(F.x-D.x)*(K.y-F.y)}function rp(D,F){return D.x===F.x&&D.y===F.y}function Wy(D,F,K,fe){var Se=Qf($a(D,F,K)),Fe=Qf($a(D,F,fe)),Ye=Qf($a(K,fe,D)),ut=Qf($a(K,fe,F));return Se!==Fe&&Ye!==ut||!(0!==Se||!Sl(D,K,F))||!(0!==Fe||!Sl(D,fe,F))||!(0!==Ye||!Sl(K,D,fe))||!(0!==ut||!Sl(K,F,fe))}function Sl(D,F,K){return F.x<=Math.max(D.x,K.x)&&F.x>=Math.min(D.x,K.x)&&F.y<=Math.max(D.y,K.y)&&F.y>=Math.min(D.y,K.y)}function Qf(D){return D>0?1:D<0?-1:0}function dc(D,F){return $a(D.prev,D,D.next)<0?$a(D,F,D.next)>=0&&$a(D,D.prev,F)>=0:$a(D,F,D.prev)<0||$a(D,D.next,F)<0}function $y(D,F){var K=new z0(D.i,D.x,D.y),fe=new z0(F.i,F.x,F.y),Se=D.next,Fe=F.prev;return D.next=F,F.prev=D,K.next=Se,Se.prev=K,fe.next=K,K.prev=fe,Fe.next=fe,fe.prev=Fe,fe}function F0(D,F,K,fe){var Se=new z0(D,F,K);return fe?(Se.next=fe.next,Se.prev=fe,fe.next.prev=Se,fe.next=Se):(Se.prev=Se,Se.next=Se),Se}function $h(D){D.next.prev=D.prev,D.prev.next=D.next,D.prevZ&&(D.prevZ.nextZ=D.nextZ),D.nextZ&&(D.nextZ.prevZ=D.prevZ)}function z0(D,F,K){this.i=D,this.x=F,this.y=K,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function B0(D,F,K,fe){for(var Se=0,Fe=F,Ye=K-fe;Fe<K;Fe+=fe)Se+=(D[Ye]-D[Fe])*(D[Fe+1]+D[Ye+1]),Ye=Fe;return Se}function Zy(D,F,K,fe,Se){a1(D,F,K||0,fe||D.length-1,Se||j0)}function a1(D,F,K,fe,Se){for(;fe>K;){if(fe-K>600){var Fe=fe-K+1,Ye=F-K+1,ut=Math.log(Fe),_t=.5*Math.exp(2*ut/3),Ct=.5*Math.sqrt(ut*_t*(Fe-_t)/Fe)*(Ye-Fe/2<0?-1:1);a1(D,F,Math.max(K,Math.floor(F-Ye*_t/Fe+Ct)),Math.min(fe,Math.floor(F+(Fe-Ye)*_t/Fe+Ct)),Se)}var Ft=D[F],Xt=K,nn=fe;for(Zh(D,K,F),Se(D[fe],Ft)>0&&Zh(D,K,fe);Xt<nn;){for(Zh(D,Xt,nn),Xt++,nn--;Se(D[Xt],Ft)<0;)Xt++;for(;Se(D[nn],Ft)>0;)nn--}0===Se(D[K],Ft)?Zh(D,K,nn):Zh(D,++nn,fe),nn<=F&&(K=nn+1),F<=nn&&(fe=nn-1)}}function Zh(D,F,K){var fe=D[F];D[F]=D[K],D[K]=fe}function j0(D,F){return D<F?-1:D>F?1:0}function eh(D,F){var K=D.length;if(K<=1)return[D];for(var fe,Se,Fe=[],Ye=0;Ye<K;Ye++){var ut=I(D[Ye]);0!==ut&&(D[Ye].area=Math.abs(ut),void 0===Se&&(Se=ut<0),Se===ut<0?(fe&&Fe.push(fe),fe=[D[Ye]]):fe.push(D[Ye]))}if(fe&&Fe.push(fe),F>1)for(var _t=0;_t<Fe.length;_t++)Fe[_t].length<=F||(Zy(Fe[_t],F,1,Fe[_t].length-1,U0),Fe[_t]=Fe[_t].slice(0,F));return Fe}function U0(D,F){return F.area-D.area}function Af(D,F,K){for(var fe=K.patternDependencies,Se=!1,Fe=0,Ye=F;Fe<Ye.length;Fe+=1){var ut=Ye[Fe].paint.get(D+"-pattern");ut.isConstant()||(Se=!0);var _t=ut.constantOr(null);_t&&(Se=!0,fe[_t.to]=!0,fe[_t.from]=!0)}return Se}function ip(D,F,K,fe,Se){for(var Fe=Se.patternDependencies,Ye=0,ut=F;Ye<ut.length;Ye+=1){var _t=ut[Ye],Ct=_t.paint.get(D+"-pattern").value;if("constant"!==Ct.kind){var Ft=Ct.evaluate({zoom:fe-1},K,{},Se.availableImages),Xt=Ct.evaluate({zoom:fe},K,{},Se.availableImages),nn=Ct.evaluate({zoom:fe+1},K,{},Se.availableImages);Xt=Xt&&Xt.name?Xt.name:Xt,nn=nn&&nn.name?nn.name:nn,Fe[Ft=Ft&&Ft.name?Ft.name:Ft]=!0,Fe[Xt]=!0,Fe[nn]=!0,K.patterns[_t.id]={min:Ft,mid:Xt,max:nn}}}return K}L0.deviation=function(D,F,K,fe){var Se=F&&F.length,Ye=Math.abs(B0(D,0,Se?F[0]*K:D.length,K));if(Se)for(var ut=0,_t=F.length;ut<_t;ut++)Ye-=Math.abs(B0(D,F[ut]*K,ut<_t-1?F[ut+1]*K:D.length,K));var Xt=0;for(ut=0;ut<fe.length;ut+=3){var nn=fe[ut]*K,en=fe[ut+1]*K,_n=fe[ut+2]*K;Xt+=Math.abs((D[nn]-D[_n])*(D[en+1]-D[nn+1])-(D[nn]-D[en])*(D[_n+1]-D[nn+1]))}return 0===Ye&&0===Xt?0:Math.abs((Xt-Ye)/Ye)},L0.flatten=function(D){for(var F=D[0][0].length,K={vertices:[],holes:[],dimensions:F},fe=0,Se=0;Se<D.length;Se++){for(var Fe=0;Fe<D[Se].length;Fe++)for(var Ye=0;Ye<F;Ye++)K.vertices.push(D[Se][Fe][Ye]);Se>0&&K.holes.push(fe+=D[Se-1].length)}return K},o1.default=W2;var Vl=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(F){return F.id}),this.index=D.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new it,this.indexArray=new Ze,this.indexArray2=new me,this.programConfigurations=new Bo(Vy,D.layers,D.zoom),this.segments=new hn,this.segments2=new hn,this.stateDependentLayerIds=this.layers.filter(function(F){return F.isStateDependent()}).map(function(F){return F.id})};Vl.prototype.populate=function(D,F,K){this.hasPattern=Af("fill",this.layers,F);for(var fe=this.layers[0].layout.get("fill-sort-key"),Se=[],Fe=0,Ye=D;Fe<Ye.length;Fe+=1){var ut=Ye[Fe],_t=ut.feature,Ct=ut.id,Ft=ut.index,Xt=ut.sourceLayerIndex,nn=this.layers[0]._featureFilter.needGeometry,en={type:_t.type,id:Ct,properties:_t.properties,geometry:nn?$o(_t):[]};if(this.layers[0]._featureFilter.filter(new io(this.zoom),en,K)){nn||(en.geometry=$o(_t));var _n=fe?fe.evaluate(en,{},K,F.availableImages):void 0;Se.push({id:Ct,properties:_t.properties,type:_t.type,sourceLayerIndex:Xt,index:Ft,geometry:en.geometry,patterns:{},sortKey:_n})}}fe&&Se.sort(function(Xr,si){return Xr.sortKey-si.sortKey});for(var Qn=0,Kn=Se;Qn<Kn.length;Qn+=1){var or=Kn[Qn],pr=or.geometry,yr=or.index,br=or.sourceLayerIndex;if(this.hasPattern){var Gr=ip("fill",this.layers,or,this.zoom,F);this.patternFeatures.push(Gr)}else this.addFeature(or,pr,yr,K,{});F.featureIndex.insert(D[yr].feature,pr,yr,br,this.index)}},Vl.prototype.update=function(D,F,K){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,F,this.stateDependentLayers,K)},Vl.prototype.addFeatures=function(D,F,K){for(var fe=0,Se=this.patternFeatures;fe<Se.length;fe+=1){var Fe=Se[fe];this.addFeature(Fe,Fe.geometry,Fe.index,F,K)}},Vl.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Vl.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Vl.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,Vy),this.indexBuffer=D.createIndexBuffer(this.indexArray),this.indexBuffer2=D.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(D),this.uploaded=!0},Vl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Vl.prototype.addFeature=function(D,F,K,fe,Se){for(var Fe=0,Ye=eh(F,500);Fe<Ye.length;Fe+=1){for(var ut=Ye[Fe],_t=0,Ct=0,Ft=ut;Ct<Ft.length;Ct+=1)_t+=Ft[Ct].length;for(var Xt=this.segments.prepareSegment(_t,this.layoutVertexArray,this.indexArray),nn=Xt.vertexLength,en=[],_n=[],Pn=0,Qn=ut;Pn<Qn.length;Pn+=1){var Kn=Qn[Pn];if(0!==Kn.length){Kn!==ut[0]&&_n.push(en.length/2);var or=this.segments2.prepareSegment(Kn.length,this.layoutVertexArray,this.indexArray2),lr=or.vertexLength;this.layoutVertexArray.emplaceBack(Kn[0].x,Kn[0].y),this.indexArray2.emplaceBack(lr+Kn.length-1,lr),en.push(Kn[0].x),en.push(Kn[0].y);for(var pr=1;pr<Kn.length;pr++)this.layoutVertexArray.emplaceBack(Kn[pr].x,Kn[pr].y),this.indexArray2.emplaceBack(lr+pr-1,lr+pr),en.push(Kn[pr].x),en.push(Kn[pr].y);or.vertexLength+=Kn.length,or.primitiveLength+=Kn.length}}for(var yr=o1(en,_n),br=0;br<yr.length;br+=3)this.indexArray.emplaceBack(nn+yr[br],nn+yr[br+1],nn+yr[br+2]);Xt.vertexLength+=_t,Xt.primitiveLength+=yr.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,K,Se,fe)},Yr("FillBucket",Vl,{omit:["layers","patternFeatures"]});var Yy=new Ba({"fill-sort-key":new pi(Le.layout_fill["fill-sort-key"])}),s1={paint:new Ba({"fill-antialias":new kr(Le.paint_fill["fill-antialias"]),"fill-opacity":new pi(Le.paint_fill["fill-opacity"]),"fill-color":new pi(Le.paint_fill["fill-color"]),"fill-outline-color":new pi(Le.paint_fill["fill-outline-color"]),"fill-translate":new kr(Le.paint_fill["fill-translate"]),"fill-translate-anchor":new kr(Le.paint_fill["fill-translate-anchor"]),"fill-pattern":new Gu(Le.paint_fill["fill-pattern"])}),layout:Yy},Yh=function(D){function F(K){D.call(this,K,s1)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.recalculate=function(K,fe){D.prototype.recalculate.call(this,K,fe);var Se=this.paint._values["fill-outline-color"];"constant"===Se.value.kind&&void 0===Se.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},F.prototype.createBucket=function(K){return new Vl(K)},F.prototype.queryRadius=function(){return qh(this.paint.get("fill-translate"))},F.prototype.queryIntersectsFeature=function(K,fe,Se,Fe,Ye,ut,_t){return uc(Yd(K,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),ut.angle,_t),Fe)},F.prototype.isTileClipped=function(){return!0},F}(rs),Xh=gi([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,V0=th;function th(D,F,K,fe,Se){this.properties={},this.extent=K,this.type=0,this._pbf=D,this._geometry=-1,this._keys=fe,this._values=Se,D.readFields(Xy,this,F)}function Xy(D,F,K){1==D?F.id=K.readVarint():2==D?function(fe,Se){for(var Fe=fe.readVarint()+fe.pos;fe.pos<Fe;){var Ye=Se._keys[fe.readVarint()],ut=Se._values[fe.readVarint()];Se.properties[Ye]=ut}}(K,F):3==D?F.type=K.readVarint():4==D&&(F._geometry=K.pos)}function nh(D){for(var F,K,fe=0,Se=0,Fe=D.length,Ye=Fe-1;Se<Fe;Ye=Se++)fe+=((K=D[Ye]).x-(F=D[Se]).x)*(F.y+K.y);return fe}th.types=["Unknown","Point","LineString","Polygon"],th.prototype.loadGeometry=function(){var D=this._pbf;D.pos=this._geometry;for(var F,K=D.readVarint()+D.pos,fe=1,Se=0,Fe=0,Ye=0,ut=[];D.pos<K;){if(Se<=0){var _t=D.readVarint();fe=7&_t,Se=_t>>3}if(Se--,1===fe||2===fe)Fe+=D.readSVarint(),Ye+=D.readSVarint(),1===fe&&(F&&ut.push(F),F=[]),F.push(new i(Fe,Ye));else{if(7!==fe)throw new Error("unknown command "+fe);F&&F.push(F[0].clone())}}return F&&ut.push(F),ut},th.prototype.bbox=function(){var D=this._pbf;D.pos=this._geometry;for(var F=D.readVarint()+D.pos,K=1,fe=0,Se=0,Fe=0,Ye=1/0,ut=-1/0,_t=1/0,Ct=-1/0;D.pos<F;){if(fe<=0){var Ft=D.readVarint();K=7&Ft,fe=Ft>>3}if(fe--,1===K||2===K)(Se+=D.readSVarint())<Ye&&(Ye=Se),Se>ut&&(ut=Se),(Fe+=D.readSVarint())<_t&&(_t=Fe),Fe>Ct&&(Ct=Fe);else if(7!==K)throw new Error("unknown command "+K)}return[Ye,_t,ut,Ct]},th.prototype.toGeoJSON=function(D,F,K){var fe,Se,Fe=this.extent*Math.pow(2,K),Ye=this.extent*D,ut=this.extent*F,_t=this.loadGeometry(),Ct=th.types[this.type];function Ft(en){for(var _n=0;_n<en.length;_n++){var Pn=en[_n];en[_n]=[360*(Pn.x+Ye)/Fe-180,360/Math.PI*Math.atan(Math.exp((180-360*(Pn.y+ut)/Fe)*Math.PI/180))-90]}}switch(this.type){case 1:var Xt=[];for(fe=0;fe<_t.length;fe++)Xt[fe]=_t[fe][0];Ft(_t=Xt);break;case 2:for(fe=0;fe<_t.length;fe++)Ft(_t[fe]);break;case 3:for(_t=function(en){var _n=en.length;if(_n<=1)return[en];for(var Pn,Qn,Kn=[],or=0;or<_n;or++){var lr=nh(en[or]);0!==lr&&(void 0===Qn&&(Qn=lr<0),Qn===lr<0?(Pn&&Kn.push(Pn),Pn=[en[or]]):Pn.push(en[or]))}return Pn&&Kn.push(Pn),Kn}(_t),fe=0;fe<_t.length;fe++)for(Se=0;Se<_t[fe].length;Se++)Ft(_t[fe][Se])}1===_t.length?_t=_t[0]:Ct="Multi"+Ct;var nn={type:"Feature",geometry:{type:Ct,coordinates:_t},properties:this.properties};return"id"in this&&(nn.id=this.id),nn};var rh=l1;function l1(D,F){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=D,this._keys=[],this._values=[],this._features=[],D.readFields(Z2,this,F),this.length=this._features.length}function Z2(D,F,K){15===D?F.version=K.readVarint():1===D?F.name=K.readString():5===D?F.extent=K.readVarint():2===D?F._features.push(K.pos):3===D?F._keys.push(K.readString()):4===D&&F._values.push(function(fe){for(var Se=null,Fe=fe.readVarint()+fe.pos;fe.pos<Fe;){var Ye=fe.readVarint()>>3;Se=1===Ye?fe.readString():2===Ye?fe.readFloat():3===Ye?fe.readDouble():4===Ye?fe.readVarint64():5===Ye?fe.readVarint():6===Ye?fe.readSVarint():7===Ye?fe.readBoolean():null}return Se}(K))}function u1(D,F,K){if(3===D){var fe=new rh(K,K.readVarint()+K.pos);fe.length&&(F[fe.name]=fe)}}l1.prototype.feature=function(D){if(D<0||D>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[D];var F=this._pbf.readVarint()+this._pbf.pos;return new V0(this._pbf,F,this.extent,this._keys,this._values)};var ih={VectorTile:function(D,F){this.layers=D.readFields(u1,{},F)},VectorTileFeature:V0,VectorTileLayer:rh},Y2=ih.VectorTileFeature.types,H0=Math.pow(2,13);function Jh(D,F,K,fe,Se,Fe,Ye,ut){D.emplaceBack(F,K,2*Math.floor(fe*H0)+Ye,Se*H0*2,Fe*H0*2,Math.round(ut))}var Wu=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(F){return F.id}),this.index=D.index,this.hasPattern=!1,this.layoutVertexArray=new gt,this.indexArray=new Ze,this.programConfigurations=new Bo(Xh,D.layers,D.zoom),this.segments=new hn,this.stateDependentLayerIds=this.layers.filter(function(F){return F.isStateDependent()}).map(function(F){return F.id})};function op(D,F){return D.x===F.x&&(D.x<0||D.x>bi)||D.y===F.y&&(D.y<0||D.y>bi)}Wu.prototype.populate=function(D,F,K){this.features=[],this.hasPattern=Af("fill-extrusion",this.layers,F);for(var fe=0,Se=D;fe<Se.length;fe+=1){var Fe=Se[fe],Ye=Fe.feature,ut=Fe.id,_t=Fe.index,Ct=Fe.sourceLayerIndex,Ft=this.layers[0]._featureFilter.needGeometry,Xt={type:Ye.type,id:ut,properties:Ye.properties,geometry:Ft?$o(Ye):[]};if(this.layers[0]._featureFilter.filter(new io(this.zoom),Xt,K)){var nn={id:ut,sourceLayerIndex:Ct,index:_t,geometry:Ft?Xt.geometry:$o(Ye),properties:Ye.properties,type:Ye.type,patterns:{}};void 0!==Ye.id&&(nn.id=Ye.id),this.hasPattern?this.features.push(ip("fill-extrusion",this.layers,nn,this.zoom,F)):this.addFeature(nn,nn.geometry,_t,K,{}),F.featureIndex.insert(Ye,nn.geometry,_t,Ct,this.index,!0)}}},Wu.prototype.addFeatures=function(D,F,K){for(var fe=0,Se=this.features;fe<Se.length;fe+=1){var Fe=Se[fe];this.addFeature(Fe,Fe.geometry,Fe.index,F,K)}},Wu.prototype.update=function(D,F,K){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,F,this.stateDependentLayers,K)},Wu.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Wu.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Wu.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,Xh),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},Wu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Wu.prototype.addFeature=function(D,F,K,fe,Se){for(var Fe=0,Ye=eh(F,500);Fe<Ye.length;Fe+=1){for(var ut=Ye[Fe],_t=0,Ct=0,Ft=ut;Ct<Ft.length;Ct+=1)_t+=Ft[Ct].length;for(var Xt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),nn=0,en=ut;nn<en.length;nn+=1){var _n=en[nn];if(0!==_n.length&&!((Zi=_n).every(function(Fi){return Fi.x<0})||Zi.every(function(Fi){return Fi.x>bi})||Zi.every(function(Fi){return Fi.y<0})||Zi.every(function(Fi){return Fi.y>bi})))for(var Pn=0,Qn=0;Qn<_n.length;Qn++){var Kn=_n[Qn];if(Qn>=1){var or=_n[Qn-1];if(!op(Kn,or)){Xt.vertexLength+4>hn.MAX_VERTEX_ARRAY_LENGTH&&(Xt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var lr=Kn.sub(or)._perp()._unit(),pr=or.dist(Kn);Pn+pr>32768&&(Pn=0),Jh(this.layoutVertexArray,Kn.x,Kn.y,lr.x,lr.y,0,0,Pn),Jh(this.layoutVertexArray,Kn.x,Kn.y,lr.x,lr.y,0,1,Pn),Jh(this.layoutVertexArray,or.x,or.y,lr.x,lr.y,0,0,Pn+=pr),Jh(this.layoutVertexArray,or.x,or.y,lr.x,lr.y,0,1,Pn);var yr=Xt.vertexLength;this.indexArray.emplaceBack(yr,yr+2,yr+1),this.indexArray.emplaceBack(yr+1,yr+2,yr+3),Xt.vertexLength+=4,Xt.primitiveLength+=2}}}}if(Xt.vertexLength+_t>hn.MAX_VERTEX_ARRAY_LENGTH&&(Xt=this.segments.prepareSegment(_t,this.layoutVertexArray,this.indexArray)),"Polygon"===Y2[D.type]){for(var br=[],Gr=[],Nr=Xt.vertexLength,Xr=0,si=ut;Xr<si.length;Xr+=1){var Ci=si[Xr];if(0!==Ci.length){Ci!==ut[0]&&Gr.push(br.length/2);for(var ci=0;ci<Ci.length;ci++){var Si=Ci[ci];Jh(this.layoutVertexArray,Si.x,Si.y,0,0,1,1,0),br.push(Si.x),br.push(Si.y)}}}for(var di=o1(br,Gr),ui=0;ui<di.length;ui+=3)this.indexArray.emplaceBack(Nr+di[ui],Nr+di[ui+2],Nr+di[ui+1]);Xt.primitiveLength+=di.length/3,Xt.vertexLength+=_t}}var Zi;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,K,Se,fe)},Yr("FillExtrusionBucket",Wu,{omit:["layers","features"]});var c1={paint:new Ba({"fill-extrusion-opacity":new kr(Le["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new pi(Le["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new kr(Le["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new kr(Le["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Gu(Le["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new pi(Le["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new pi(Le["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new kr(Le["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Jy=function(D){function F(K){D.call(this,K,c1)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.createBucket=function(K){return new Wu(K)},F.prototype.queryRadius=function(){return qh(this.paint.get("fill-extrusion-translate"))},F.prototype.is3D=function(){return!0},F.prototype.queryIntersectsFeature=function(K,fe,Se,Fe,Ye,ut,_t,Ct){var Ft=Yd(K,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),ut.angle,_t),Xt=this.paint.get("fill-extrusion-height").evaluate(fe,Se),nn=this.paint.get("fill-extrusion-base").evaluate(fe,Se),en=function(Pn,Qn,Kn,or){for(var lr=[],pr=0,yr=Pn;pr<yr.length;pr+=1){var br=yr[pr],Gr=[br.x,br.y,0,1];Kf(Gr,Gr,Qn),lr.push(new i(Gr[0]/Gr[3],Gr[1]/Gr[3]))}return lr}(Ft,Ct),_n=function(Pn,Qn,Kn,or){for(var lr=[],pr=[],yr=or[8]*Qn,br=or[9]*Qn,Gr=or[10]*Qn,Nr=or[11]*Qn,Xr=or[8]*Kn,si=or[9]*Kn,Ci=or[10]*Kn,ci=or[11]*Kn,Si=0,di=Pn;Si<di.length;Si+=1){for(var ui=[],Zi=[],Fi=0,Co=di[Si];Fi<Co.length;Fi+=1){var wi=Co[Fi],To=wi.x,vo=wi.y,Uo=or[0]*To+or[4]*vo+or[12],Fo=or[1]*To+or[5]*vo+or[13],Mo=or[2]*To+or[6]*vo+or[14],ja=or[3]*To+or[7]*vo+or[15],Vo=Mo+Gr,Pa=ja+Nr,Ho=Uo+Xr,os=Fo+si,Ns=Mo+Ci,xs=ja+ci,Za=new i((Uo+yr)/Pa,(Fo+br)/Pa);Za.z=Vo/Pa,ui.push(Za);var as=new i(Ho/xs,os/xs);as.z=Ns/xs,Zi.push(as)}lr.push(ui),pr.push(Zi)}return[lr,pr]}(Fe,nn,Xt,Ct);return function(Pn,Qn,Kn){var or=1/0;uc(Kn,Qn)&&(or=Ky(Kn,Qn[0]));for(var lr=0;lr<Qn.length;lr++)for(var pr=Qn[lr],yr=Pn[lr],br=0;br<pr.length-1;br++){var Gr=pr[br],si=[Gr,pr[br+1],yr[br+1],yr[br],Gr];pa(Kn,si)&&(or=Math.min(or,Ky(Kn,si)))}return or!==1/0&&or}(_n[0],_n[1],en)},F}(rs);function oh(D,F){return D.x*F.x+D.y*F.y}function Ky(D,F){if(1===D.length){for(var K,fe=0,Se=F[fe++];!K||Se.equals(K);)if(!(K=F[fe++]))return 1/0;for(;fe<F.length;fe++){var Fe=F[fe],Ye=D[0],ut=K.sub(Se),_t=Fe.sub(Se),Ct=Ye.sub(Se),Ft=oh(ut,ut),Xt=oh(ut,_t),nn=oh(_t,_t),en=oh(Ct,ut),_n=oh(Ct,_t),Pn=Ft*nn-Xt*Xt,Qn=(nn*en-Xt*_n)/Pn,Kn=(Ft*_n-Xt*en)/Pn,lr=Se.z*(1-Qn-Kn)+K.z*Qn+Fe.z*Kn;if(isFinite(lr))return lr}return 1/0}for(var pr=1/0,yr=0,br=F;yr<br.length;yr+=1)pr=Math.min(pr,br[yr].z);return pr}var G0=gi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,X2=ih.VectorTileFeature.types,Qy=Math.cos(Math.PI/180*37.5),f1=Math.pow(2,14)/.5,$s=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(F){return F.id}),this.index=D.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new wt,this.indexArray=new Ze,this.programConfigurations=new Bo(G0,D.layers,D.zoom),this.segments=new hn,this.stateDependentLayerIds=this.layers.filter(function(F){return F.isStateDependent()}).map(function(F){return F.id})};$s.prototype.populate=function(D,F,K){this.hasPattern=Af("line",this.layers,F);for(var fe=this.layers[0].layout.get("line-sort-key"),Se=[],Fe=0,Ye=D;Fe<Ye.length;Fe+=1){var ut=Ye[Fe],_t=ut.feature,Ct=ut.id,Ft=ut.index,Xt=ut.sourceLayerIndex,nn=this.layers[0]._featureFilter.needGeometry,en={type:_t.type,id:Ct,properties:_t.properties,geometry:nn?$o(_t):[]};if(this.layers[0]._featureFilter.filter(new io(this.zoom),en,K)){nn||(en.geometry=$o(_t));var _n=fe?fe.evaluate(en,{},K):void 0;Se.push({id:Ct,properties:_t.properties,type:_t.type,sourceLayerIndex:Xt,index:Ft,geometry:en.geometry,patterns:{},sortKey:_n})}}fe&&Se.sort(function(Xr,si){return Xr.sortKey-si.sortKey});for(var Qn=0,Kn=Se;Qn<Kn.length;Qn+=1){var or=Kn[Qn],pr=or.geometry,yr=or.index,br=or.sourceLayerIndex;if(this.hasPattern){var Gr=ip("line",this.layers,or,this.zoom,F);this.patternFeatures.push(Gr)}else this.addFeature(or,pr,yr,K,{});F.featureIndex.insert(D[yr].feature,pr,yr,br,this.index)}},$s.prototype.update=function(D,F,K){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,F,this.stateDependentLayers,K)},$s.prototype.addFeatures=function(D,F,K){for(var fe=0,Se=this.patternFeatures;fe<Se.length;fe+=1){var Fe=Se[fe];this.addFeature(Fe,Fe.geometry,Fe.index,F,K)}},$s.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},$s.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},$s.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,G0),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},$s.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},$s.prototype.addFeature=function(D,F,K,fe,Se){for(var Fe=this.layers[0].layout,Ye=Fe.get("line-join").evaluate(D,{}),ut=Fe.get("line-cap"),_t=Fe.get("line-miter-limit"),Ct=Fe.get("line-round-limit"),Ft=0,Xt=F;Ft<Xt.length;Ft+=1)this.addLine(Xt[Ft],D,Ye,ut,_t,Ct);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,K,Se,fe)},$s.prototype.addLine=function(D,F,K,fe,Se,Fe){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,F.properties&&F.properties.hasOwnProperty("mapbox_clip_start")&&F.properties.hasOwnProperty("mapbox_clip_end")){this.clipStart=+F.properties.mapbox_clip_start,this.clipEnd=+F.properties.mapbox_clip_end;for(var Ye=0;Ye<D.length-1;Ye++)this.totalDistance+=D[Ye].dist(D[Ye+1]);this.updateScaledDistance()}for(var ut="Polygon"===X2[F.type],_t=D.length;_t>=2&&D[_t-1].equals(D[_t-2]);)_t--;for(var Ct=0;Ct<_t-1&&D[Ct].equals(D[Ct+1]);)Ct++;if(!(_t<(ut?3:2))){"bevel"===K&&(Se=1.05);var Ft,Xt=this.overscaling<=16?122880/(512*this.overscaling):0,nn=this.segments.prepareSegment(10*_t,this.layoutVertexArray,this.indexArray),en=void 0,_n=void 0,Pn=void 0,Qn=void 0;this.e1=this.e2=-1,ut&&(Qn=D[Ct].sub(Ft=D[_t-2])._unit()._perp());for(var Kn=Ct;Kn<_t;Kn++)if(!(_n=Kn===_t-1?ut?D[Ct+1]:void 0:D[Kn+1])||!D[Kn].equals(_n)){Qn&&(Pn=Qn),Ft&&(en=Ft),Ft=D[Kn],Qn=_n?_n.sub(Ft)._unit()._perp():Pn;var or=(Pn=Pn||Qn).add(Qn);0===or.x&&0===or.y||or._unit();var lr=Pn.x*Qn.x+Pn.y*Qn.y,pr=or.x*Qn.x+or.y*Qn.y,yr=0!==pr?1/pr:1/0,br=2*Math.sqrt(2-2*pr),Gr=pr<Qy&&en&&_n,Nr=Pn.x*Qn.y-Pn.y*Qn.x>0;if(Gr&&Kn>Ct){var Xr=Ft.dist(en);if(Xr>2*Xt){var si=Ft.sub(Ft.sub(en)._mult(Xt/Xr)._round());this.updateDistance(en,si),this.addCurrentVertex(si,Pn,0,0,nn),en=si}}var Ci=en&&_n,ci=Ci?K:ut?"butt":fe;if(Ci&&"round"===ci&&(yr<Fe?ci="miter":yr<=2&&(ci="fakeround")),"miter"===ci&&yr>Se&&(ci="bevel"),"bevel"===ci&&(yr>2&&(ci="flipbevel"),yr<Se&&(ci="miter")),en&&this.updateDistance(en,Ft),"miter"===ci)or._mult(yr),this.addCurrentVertex(Ft,or,0,0,nn);else if("flipbevel"===ci){if(yr>100)or=Qn.mult(-1);else{var Si=yr*Pn.add(Qn).mag()/Pn.sub(Qn).mag();or._perp()._mult(Si*(Nr?-1:1))}this.addCurrentVertex(Ft,or,0,0,nn),this.addCurrentVertex(Ft,or.mult(-1),0,0,nn)}else if("bevel"===ci||"fakeround"===ci){var di=-Math.sqrt(yr*yr-1),ui=Nr?di:0,Zi=Nr?0:di;if(en&&this.addCurrentVertex(Ft,Pn,ui,Zi,nn),"fakeround"===ci)for(var Fi=Math.round(180*br/Math.PI/20),Co=1;Co<Fi;Co++){var wi=Co/Fi;if(.5!==wi){var To=wi-.5;wi+=wi*To*(wi-1)*((1.0904+lr*(lr*(3.55645-1.43519*lr)-3.2452))*To*To+(.848013+lr*(.215638*lr-1.06021)))}var vo=Qn.sub(Pn)._mult(wi)._add(Pn)._unit()._mult(Nr?-1:1);this.addHalfVertex(Ft,vo.x,vo.y,!1,Nr,0,nn)}_n&&this.addCurrentVertex(Ft,Qn,-ui,-Zi,nn)}else if("butt"===ci)this.addCurrentVertex(Ft,or,0,0,nn);else if("square"===ci){var Uo=en?1:-1;this.addCurrentVertex(Ft,or,Uo,Uo,nn)}else"round"===ci&&(en&&(this.addCurrentVertex(Ft,Pn,0,0,nn),this.addCurrentVertex(Ft,Pn,1,1,nn,!0)),_n&&(this.addCurrentVertex(Ft,Qn,-1,-1,nn,!0),this.addCurrentVertex(Ft,Qn,0,0,nn)));if(Gr&&Kn<_t-1){var Fo=Ft.dist(_n);if(Fo>2*Xt){var Mo=Ft.add(_n.sub(Ft)._mult(Xt/Fo)._round());this.updateDistance(Ft,Mo),this.addCurrentVertex(Mo,Qn,0,0,nn),Ft=Mo}}}}},$s.prototype.addCurrentVertex=function(D,F,K,fe,Se,Fe){void 0===Fe&&(Fe=!1);var _t=F.y*fe-F.x,Ct=-F.y-F.x*fe;this.addHalfVertex(D,F.x+F.y*K,F.y-F.x*K,Fe,!1,K,Se),this.addHalfVertex(D,_t,Ct,Fe,!0,-fe,Se),this.distance>f1/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(D,F,K,fe,Se,Fe))},$s.prototype.addHalfVertex=function(D,F,K,fe,Se,Fe,Ye){var Ct=.5*this.scaledDistance;this.layoutVertexArray.emplaceBack((D.x<<1)+(fe?1:0),(D.y<<1)+(Se?1:0),Math.round(63*F)+128,Math.round(63*K)+128,1+(0===Fe?0:Fe<0?-1:1)|(63&Ct)<<2,Ct>>6);var Ft=Ye.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Ft),Ye.primitiveLength++),Se?this.e2=Ft:this.e1=Ft},$s.prototype.updateScaledDistance=function(){this.scaledDistance=this.totalDistance>0?(this.clipStart+(this.clipEnd-this.clipStart)*this.distance/this.totalDistance)*(f1-1):this.distance},$s.prototype.updateDistance=function(D,F){this.distance+=D.dist(F),this.updateScaledDistance()},Yr("LineBucket",$s,{omit:["layers","patternFeatures"]});var J2=new Ba({"line-cap":new kr(Le.layout_line["line-cap"]),"line-join":new pi(Le.layout_line["line-join"]),"line-miter-limit":new kr(Le.layout_line["line-miter-limit"]),"line-round-limit":new kr(Le.layout_line["line-round-limit"]),"line-sort-key":new pi(Le.layout_line["line-sort-key"])}),e_={paint:new Ba({"line-opacity":new pi(Le.paint_line["line-opacity"]),"line-color":new pi(Le.paint_line["line-color"]),"line-translate":new kr(Le.paint_line["line-translate"]),"line-translate-anchor":new kr(Le.paint_line["line-translate-anchor"]),"line-width":new pi(Le.paint_line["line-width"]),"line-gap-width":new pi(Le.paint_line["line-gap-width"]),"line-offset":new pi(Le.paint_line["line-offset"]),"line-blur":new pi(Le.paint_line["line-blur"]),"line-dasharray":new Ul(Le.paint_line["line-dasharray"]),"line-pattern":new Gu(Le.paint_line["line-pattern"]),"line-gradient":new cl(Le.paint_line["line-gradient"])}),layout:J2},q0=function(D){function F(){D.apply(this,arguments)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.possiblyEvaluate=function(K,fe){return fe=new io(Math.floor(fe.zoom),{now:fe.now,fadeDuration:fe.fadeDuration,zoomHistory:fe.zoomHistory,transition:fe.transition}),D.prototype.possiblyEvaluate.call(this,K,fe)},F.prototype.evaluate=function(K,fe,Se,Fe){return fe=d({},fe,{zoom:Math.floor(fe.zoom)}),D.prototype.evaluate.call(this,K,fe,Se,Fe)},F}(pi),t_=new q0(e_.paint.properties["line-width"].specification);t_.useIntegerZoom=!0;var K2=function(D){function F(K){D.call(this,K,e_)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype._handleSpecialPaintPropertyUpdate=function(K){"line-gradient"===K&&this._updateGradient()},F.prototype._updateGradient=function(){this.gradient=i1(this._transitionablePaint._values["line-gradient"].value.expression,"lineProgress"),this.gradientTexture=null},F.prototype.recalculate=function(K,fe){D.prototype.recalculate.call(this,K,fe),this.paint._values["line-floorwidth"]=t_.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,K)},F.prototype.createBucket=function(K){return new $s(K)},F.prototype.queryRadius=function(K){var fe=K,Se=n_(fc("line-width",this,fe),fc("line-gap-width",this,fe)),Fe=fc("line-offset",this,fe);return Se/2+Math.abs(Fe)+qh(this.paint.get("line-translate"))},F.prototype.queryIntersectsFeature=function(K,fe,Se,Fe,Ye,ut,_t){var Ct=Yd(K,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),ut.angle,_t),Ft=_t/2*n_(this.paint.get("line-width").evaluate(fe,Se),this.paint.get("line-gap-width").evaluate(fe,Se)),Xt=this.paint.get("line-offset").evaluate(fe,Se);return Xt&&(Fe=function(nn,en){for(var _n=[],Pn=new i(0,0),Qn=0;Qn<nn.length;Qn++){for(var Kn=nn[Qn],or=[],lr=0;lr<Kn.length;lr++){var yr=Kn[lr],br=Kn[lr+1],Gr=0===lr?Pn:yr.sub(Kn[lr-1])._unit()._perp(),Nr=lr===Kn.length-1?Pn:br.sub(yr)._unit()._perp(),Xr=Gr._add(Nr)._unit();Xr._mult(1/(Xr.x*Nr.x+Xr.y*Nr.y)),or.push(Xr._mult(en)._add(yr))}_n.push(or)}return _n}(Fe,Xt*_t)),function(nn,en,_n){for(var Pn=0;Pn<en.length;Pn++){var Qn=en[Pn];if(nn.length>=3)for(var Kn=0;Kn<Qn.length;Kn++)if(Ic(nn,Qn[Kn]))return!0;if(Yf(nn,Qn,_n))return!0}return!1}(Ct,Fe,Ft)},F.prototype.isTileClipped=function(){return!0},F}(rs);function n_(D,F){return F>0?F+2*D:D}var h1=gi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Q2=gi([{name:"a_projected_pos",components:3,type:"Float32"}],4),r_=(gi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),gi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),W0=(gi([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),gi([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),$0=gi([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function d1(D,F,K){return D.sections.forEach(function(fe){var Se,Ye,ut;fe.text=(Se=fe.text,Ye=K,"uppercase"===(ut=F.layout.get("text-transform").evaluate(Ye,{}))?Se=Se.toLocaleUpperCase():"lowercase"===ut&&(Se=Se.toLocaleLowerCase()),ts.applyArabicShaping&&(Se=ts.applyArabicShaping(Se)),Se)}),D}gi([{name:"triangle",components:3,type:"Uint16"}]),gi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),gi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),gi([{type:"Float32",name:"offsetX"}]),gi([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var ah={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},Hl=function(D,F,K,fe,Se){var Fe,Ye,ut=8*Se-fe-1,_t=(1<<ut)-1,Ct=_t>>1,Ft=-7,Xt=K?Se-1:0,nn=K?-1:1,en=D[F+Xt];for(Xt+=nn,Fe=en&(1<<-Ft)-1,en>>=-Ft,Ft+=ut;Ft>0;Fe=256*Fe+D[F+Xt],Xt+=nn,Ft-=8);for(Ye=Fe&(1<<-Ft)-1,Fe>>=-Ft,Ft+=fe;Ft>0;Ye=256*Ye+D[F+Xt],Xt+=nn,Ft-=8);if(0===Fe)Fe=1-Ct;else{if(Fe===_t)return Ye?NaN:1/0*(en?-1:1);Ye+=Math.pow(2,fe),Fe-=Ct}return(en?-1:1)*Ye*Math.pow(2,Fe-fe)},p1=function(D,F,K,fe,Se,Fe){var Ye,ut,_t,Ct=8*Fe-Se-1,Ft=(1<<Ct)-1,Xt=Ft>>1,nn=23===Se?Math.pow(2,-24)-Math.pow(2,-77):0,en=fe?0:Fe-1,_n=fe?1:-1,Pn=F<0||0===F&&1/F<0?1:0;for(F=Math.abs(F),isNaN(F)||F===1/0?(ut=isNaN(F)?1:0,Ye=Ft):(Ye=Math.floor(Math.log(F)/Math.LN2),F*(_t=Math.pow(2,-Ye))<1&&(Ye--,_t*=2),(F+=Ye+Xt>=1?nn/_t:nn*Math.pow(2,1-Xt))*_t>=2&&(Ye++,_t/=2),Ye+Xt>=Ft?(ut=0,Ye=Ft):Ye+Xt>=1?(ut=(F*_t-1)*Math.pow(2,Se),Ye+=Xt):(ut=F*Math.pow(2,Xt-1)*Math.pow(2,Se),Ye=0));Se>=8;D[K+en]=255&ut,en+=_n,ut/=256,Se-=8);for(Ye=Ye<<Se|ut,Ct+=Se;Ct>0;D[K+en]=255&Ye,en+=_n,Ye/=256,Ct-=8);D[K+en-_n]|=128*Pn},ap=No;function No(D){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(D)?D:new Uint8Array(D||0),this.pos=0,this.type=0,this.length=this.buf.length}No.Varint=0,No.Fixed64=1,No.Bytes=2,No.Fixed32=5;var sp=4294967296,lp=1/sp,g1=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Rc(D){return D.type===No.Bytes?D.readVarint()+D.pos:D.pos+1}function Z0(D,F,K){var fe=F<=16383?1:F<=2097151?2:F<=268435455?3:Math.floor(Math.log(F)/(7*Math.LN2));K.realloc(fe);for(var Se=K.pos-1;Se>=D;Se--)K.buf[Se+fe]=K.buf[Se]}function i_(D,F){for(var K=0;K<D.length;K++)F.writeVarint(D[K])}function o_(D,F){for(var K=0;K<D.length;K++)F.writeSVarint(D[K])}function ou(D,F){for(var K=0;K<D.length;K++)F.writeFloat(D[K])}function Y0(D,F){for(var K=0;K<D.length;K++)F.writeDouble(D[K])}function m1(D,F){for(var K=0;K<D.length;K++)F.writeBoolean(D[K])}function X0(D,F){for(var K=0;K<D.length;K++)F.writeFixed32(D[K])}function Cl(D,F){for(var K=0;K<D.length;K++)F.writeSFixed32(D[K])}function Kh(D,F){for(var K=0;K<D.length;K++)F.writeFixed64(D[K])}function v1(D,F){for(var K=0;K<D.length;K++)F.writeSFixed64(D[K])}function Qh(D,F){return(D[F]|D[F+1]<<8|D[F+2]<<16)+16777216*D[F+3]}function lh(D,F,K){D[K]=F,D[K+1]=F>>>8,D[K+2]=F>>>16,D[K+3]=F>>>24}function J0(D,F){return(D[F]|D[F+1]<<8|D[F+2]<<16)+(D[F+3]<<24)}function a_(D,F,K){1===D&&K.readMessage(y1,F)}function y1(D,F,K){if(3===D){var fe=K.readMessage(s_,{}),Ye=fe.width,ut=fe.height,_t=fe.left,Ct=fe.top,Ft=fe.advance;F.push({id:fe.id,bitmap:new Pc({width:Ye+6,height:ut+6},fe.bitmap),metrics:{width:Ye,height:ut,left:_t,top:Ct,advance:Ft}})}}function s_(D,F,K){1===D?F.id=K.readVarint():2===D?F.bitmap=K.readBytes():3===D?F.width=K.readVarint():4===D?F.height=K.readVarint():5===D?F.left=K.readSVarint():6===D?F.top=K.readSVarint():7===D&&(F.advance=K.readVarint())}function K0(D){for(var F=0,K=0,fe=0,Se=D;fe<Se.length;fe+=1){var Fe=Se[fe];F+=Fe.w*Fe.h,K=Math.max(K,Fe.w)}D.sort(function(Pn,Qn){return Qn.h-Pn.h});for(var Ye=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(F/.95)),K),h:1/0}],ut=0,_t=0,Ct=0,Ft=D;Ct<Ft.length;Ct+=1)for(var Xt=Ft[Ct],nn=Ye.length-1;nn>=0;nn--){var en=Ye[nn];if(!(Xt.w>en.w||Xt.h>en.h)){if(Xt.x=en.x,Xt.y=en.y,_t=Math.max(_t,Xt.y+Xt.h),ut=Math.max(ut,Xt.x+Xt.w),Xt.w===en.w&&Xt.h===en.h){var _n=Ye.pop();nn<Ye.length&&(Ye[nn]=_n)}else Xt.h===en.h?(en.x+=Xt.w,en.w-=Xt.w):Xt.w===en.w?(en.y+=Xt.h,en.h-=Xt.h):(Ye.push({x:en.x+Xt.w,y:en.y,w:en.w-Xt.w,h:Xt.h}),en.y+=Xt.h,en.h-=Xt.h);break}}return{w:ut,h:_t,fill:F/(ut*_t)||0}}No.prototype={destroy:function(){this.buf=null},readFields:function(D,F,K){for(K=K||this.length;this.pos<K;){var fe=this.readVarint(),Se=fe>>3,Fe=this.pos;this.type=7&fe,D(Se,F,this),this.pos===Fe&&this.skip(fe)}return F},readMessage:function(D,F){return this.readFields(D,F,this.readVarint()+this.pos)},readFixed32:function(){var D=Qh(this.buf,this.pos);return this.pos+=4,D},readSFixed32:function(){var D=J0(this.buf,this.pos);return this.pos+=4,D},readFixed64:function(){var D=Qh(this.buf,this.pos)+Qh(this.buf,this.pos+4)*sp;return this.pos+=8,D},readSFixed64:function(){var D=Qh(this.buf,this.pos)+J0(this.buf,this.pos+4)*sp;return this.pos+=8,D},readFloat:function(){var D=Hl(this.buf,this.pos,!0,23,4);return this.pos+=4,D},readDouble:function(){var D=Hl(this.buf,this.pos,!0,52,8);return this.pos+=8,D},readVarint:function(D){var F,K,fe=this.buf;return F=127&(K=fe[this.pos++]),K<128?F:(F|=(127&(K=fe[this.pos++]))<<7,K<128?F:(F|=(127&(K=fe[this.pos++]))<<14,K<128?F:(F|=(127&(K=fe[this.pos++]))<<21,K<128?F:function(Se,Fe,Ye){var ut,_t,Ct=Ye.buf;if(ut=(112&(_t=Ct[Ye.pos++]))>>4,_t<128||(ut|=(127&(_t=Ct[Ye.pos++]))<<3,_t<128)||(ut|=(127&(_t=Ct[Ye.pos++]))<<10,_t<128)||(ut|=(127&(_t=Ct[Ye.pos++]))<<17,_t<128)||(ut|=(127&(_t=Ct[Ye.pos++]))<<24,_t<128)||(ut|=(1&(_t=Ct[Ye.pos++]))<<31,_t<128))return function sh(D,F,K){return K?4294967296*F+(D>>>0):4294967296*(F>>>0)+(D>>>0)}(Se,ut,Fe);throw new Error("Expected varint not more than 10 bytes")}(F|=(15&(K=fe[this.pos]))<<28,D,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var D=this.readVarint();return D%2==1?(D+1)/-2:D/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var D=this.readVarint()+this.pos,F=this.pos;return this.pos=D,D-F>=12&&g1?g1.decode(this.buf.subarray(F,D)):function(K,fe,Se){for(var Fe="",Ye=fe;Ye<Se;){var ut,_t,Ct,Ft=K[Ye],Xt=null,nn=Ft>239?4:Ft>223?3:Ft>191?2:1;if(Ye+nn>Se)break;1===nn?Ft<128&&(Xt=Ft):2===nn?128==(192&(ut=K[Ye+1]))&&(Xt=(31&Ft)<<6|63&ut)<=127&&(Xt=null):3===nn?(_t=K[Ye+2],128==(192&(ut=K[Ye+1]))&&128==(192&_t)&&((Xt=(15&Ft)<<12|(63&ut)<<6|63&_t)<=2047||Xt>=55296&&Xt<=57343)&&(Xt=null)):4===nn&&(_t=K[Ye+2],Ct=K[Ye+3],128==(192&(ut=K[Ye+1]))&&128==(192&_t)&&128==(192&Ct)&&((Xt=(15&Ft)<<18|(63&ut)<<12|(63&_t)<<6|63&Ct)<=65535||Xt>=1114112)&&(Xt=null)),null===Xt?(Xt=65533,nn=1):Xt>65535&&(Xt-=65536,Fe+=String.fromCharCode(Xt>>>10&1023|55296),Xt=56320|1023&Xt),Fe+=String.fromCharCode(Xt),Ye+=nn}return Fe}(this.buf,F,D)},readBytes:function(){var D=this.readVarint()+this.pos,F=this.buf.subarray(this.pos,D);return this.pos=D,F},readPackedVarint:function(D,F){if(this.type!==No.Bytes)return D.push(this.readVarint(F));var K=Rc(this);for(D=D||[];this.pos<K;)D.push(this.readVarint(F));return D},readPackedSVarint:function(D){if(this.type!==No.Bytes)return D.push(this.readSVarint());var F=Rc(this);for(D=D||[];this.pos<F;)D.push(this.readSVarint());return D},readPackedBoolean:function(D){if(this.type!==No.Bytes)return D.push(this.readBoolean());var F=Rc(this);for(D=D||[];this.pos<F;)D.push(this.readBoolean());return D},readPackedFloat:function(D){if(this.type!==No.Bytes)return D.push(this.readFloat());var F=Rc(this);for(D=D||[];this.pos<F;)D.push(this.readFloat());return D},readPackedDouble:function(D){if(this.type!==No.Bytes)return D.push(this.readDouble());var F=Rc(this);for(D=D||[];this.pos<F;)D.push(this.readDouble());return D},readPackedFixed32:function(D){if(this.type!==No.Bytes)return D.push(this.readFixed32());var F=Rc(this);for(D=D||[];this.pos<F;)D.push(this.readFixed32());return D},readPackedSFixed32:function(D){if(this.type!==No.Bytes)return D.push(this.readSFixed32());var F=Rc(this);for(D=D||[];this.pos<F;)D.push(this.readSFixed32());return D},readPackedFixed64:function(D){if(this.type!==No.Bytes)return D.push(this.readFixed64());var F=Rc(this);for(D=D||[];this.pos<F;)D.push(this.readFixed64());return D},readPackedSFixed64:function(D){if(this.type!==No.Bytes)return D.push(this.readSFixed64());var F=Rc(this);for(D=D||[];this.pos<F;)D.push(this.readSFixed64());return D},skip:function(D){var F=7&D;if(F===No.Varint)for(;this.buf[this.pos++]>127;);else if(F===No.Bytes)this.pos=this.readVarint()+this.pos;else if(F===No.Fixed32)this.pos+=4;else{if(F!==No.Fixed64)throw new Error("Unimplemented type: "+F);this.pos+=8}},writeTag:function(D,F){this.writeVarint(D<<3|F)},realloc:function(D){for(var F=this.length||16;F<this.pos+D;)F*=2;if(F!==this.length){var K=new Uint8Array(F);K.set(this.buf),this.buf=K,this.length=F}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(D){this.realloc(4),lh(this.buf,D,this.pos),this.pos+=4},writeSFixed32:function(D){this.realloc(4),lh(this.buf,D,this.pos),this.pos+=4},writeFixed64:function(D){this.realloc(8),lh(this.buf,-1&D,this.pos),lh(this.buf,Math.floor(D*lp),this.pos+4),this.pos+=8},writeSFixed64:function(D){this.realloc(8),lh(this.buf,-1&D,this.pos),lh(this.buf,Math.floor(D*lp),this.pos+4),this.pos+=8},writeVarint:function(D){(D=+D||0)>268435455||D<0?function(F,K){var fe,Se,Fe,ut;if(F>=0?(fe=F%4294967296|0,Se=F/4294967296|0):(Se=~(-F/4294967296),4294967295^(fe=~(-F%4294967296))?fe=fe+1|0:(fe=0,Se=Se+1|0)),F>=0x10000000000000000||F<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");K.realloc(10),Fe=fe,(ut=K).buf[ut.pos++]=127&Fe|128,Fe>>>=7,ut.buf[ut.pos++]=127&Fe|128,Fe>>>=7,ut.buf[ut.pos++]=127&Fe|128,Fe>>>=7,ut.buf[ut.pos++]=127&Fe|128,ut.buf[ut.pos]=127&(Fe>>>=7),function(Fe,Ye){var ut=(7&Fe)<<4;Ye.buf[Ye.pos++]|=ut|((Fe>>>=3)?128:0),Fe&&(Ye.buf[Ye.pos++]=127&Fe|((Fe>>>=7)?128:0),Fe&&(Ye.buf[Ye.pos++]=127&Fe|((Fe>>>=7)?128:0),Fe&&(Ye.buf[Ye.pos++]=127&Fe|((Fe>>>=7)?128:0),Fe&&(Ye.buf[Ye.pos++]=127&Fe|((Fe>>>=7)?128:0),Fe&&(Ye.buf[Ye.pos++]=127&Fe)))))}(Se,K)}(D,this):(this.realloc(4),this.buf[this.pos++]=127&D|(D>127?128:0),D<=127||(this.buf[this.pos++]=127&(D>>>=7)|(D>127?128:0),D<=127||(this.buf[this.pos++]=127&(D>>>=7)|(D>127?128:0),D<=127||(this.buf[this.pos++]=D>>>7&127))))},writeSVarint:function(D){this.writeVarint(D<0?2*-D-1:2*D)},writeBoolean:function(D){this.writeVarint(Boolean(D))},writeString:function(D){D=String(D),this.realloc(4*D.length),this.pos++;var F=this.pos;this.pos=function(fe,Se,Fe){for(var Ye,ut,_t=0;_t<Se.length;_t++){if((Ye=Se.charCodeAt(_t))>55295&&Ye<57344){if(!ut){Ye>56319||_t+1===Se.length?(fe[Fe++]=239,fe[Fe++]=191,fe[Fe++]=189):ut=Ye;continue}if(Ye<56320){fe[Fe++]=239,fe[Fe++]=191,fe[Fe++]=189,ut=Ye;continue}Ye=ut-55296<<10|Ye-56320|65536,ut=null}else ut&&(fe[Fe++]=239,fe[Fe++]=191,fe[Fe++]=189,ut=null);Ye<128?fe[Fe++]=Ye:(Ye<2048?fe[Fe++]=Ye>>6|192:(Ye<65536?fe[Fe++]=Ye>>12|224:(fe[Fe++]=Ye>>18|240,fe[Fe++]=Ye>>12&63|128),fe[Fe++]=Ye>>6&63|128),fe[Fe++]=63&Ye|128)}return Fe}(this.buf,D,this.pos);var K=this.pos-F;K>=128&&Z0(F,K,this),this.pos=F-1,this.writeVarint(K),this.pos+=K},writeFloat:function(D){this.realloc(4),p1(this.buf,D,this.pos,!0,23,4),this.pos+=4},writeDouble:function(D){this.realloc(8),p1(this.buf,D,this.pos,!0,52,8),this.pos+=8},writeBytes:function(D){var F=D.length;this.writeVarint(F),this.realloc(F);for(var K=0;K<F;K++)this.buf[this.pos++]=D[K]},writeRawMessage:function(D,F){this.pos++;var K=this.pos;D(F,this);var fe=this.pos-K;fe>=128&&Z0(K,fe,this),this.pos=K-1,this.writeVarint(fe),this.pos+=fe},writeMessage:function(D,F,K){this.writeTag(D,No.Bytes),this.writeRawMessage(F,K)},writePackedVarint:function(D,F){F.length&&this.writeMessage(D,i_,F)},writePackedSVarint:function(D,F){F.length&&this.writeMessage(D,o_,F)},writePackedBoolean:function(D,F){F.length&&this.writeMessage(D,m1,F)},writePackedFloat:function(D,F){F.length&&this.writeMessage(D,ou,F)},writePackedDouble:function(D,F){F.length&&this.writeMessage(D,Y0,F)},writePackedFixed32:function(D,F){F.length&&this.writeMessage(D,X0,F)},writePackedSFixed32:function(D,F){F.length&&this.writeMessage(D,Cl,F)},writePackedFixed64:function(D,F){F.length&&this.writeMessage(D,Kh,F)},writePackedSFixed64:function(D,F){F.length&&this.writeMessage(D,v1,F)},writeBytesField:function(D,F){this.writeTag(D,No.Bytes),this.writeBytes(F)},writeFixed32Field:function(D,F){this.writeTag(D,No.Fixed32),this.writeFixed32(F)},writeSFixed32Field:function(D,F){this.writeTag(D,No.Fixed32),this.writeSFixed32(F)},writeFixed64Field:function(D,F){this.writeTag(D,No.Fixed64),this.writeFixed64(F)},writeSFixed64Field:function(D,F){this.writeTag(D,No.Fixed64),this.writeSFixed64(F)},writeVarintField:function(D,F){this.writeTag(D,No.Varint),this.writeVarint(F)},writeSVarintField:function(D,F){this.writeTag(D,No.Varint),this.writeSVarint(F)},writeStringField:function(D,F){this.writeTag(D,No.Bytes),this.writeString(F)},writeFloatField:function(D,F){this.writeTag(D,No.Fixed32),this.writeFloat(F)},writeDoubleField:function(D,F){this.writeTag(D,No.Fixed64),this.writeDouble(F)},writeBooleanField:function(D,F){this.writeVarintField(D,Boolean(F))}};var up=function(D,F){var K=F.pixelRatio,fe=F.version,Se=F.stretchX,Fe=F.stretchY,Ye=F.content;this.paddedRect=D,this.pixelRatio=K,this.stretchX=Se,this.stretchY=Fe,this.content=Ye,this.version=fe},ed={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};ed.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},ed.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},ed.tlbr.get=function(){return this.tl.concat(this.br)},ed.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(up.prototype,ed);var kf=function(D,F){var K={},fe={};this.haveRenderCallbacks=[];var Se=[];this.addImages(D,K,Se),this.addImages(F,fe,Se);var Fe=K0(Se),_t=new is({width:Fe.w||1,height:Fe.h||1});for(var Ct in D){var Ft=D[Ct],Xt=K[Ct].paddedRect;is.copy(Ft.data,_t,{x:0,y:0},{x:Xt.x+1,y:Xt.y+1},Ft.data)}for(var nn in F){var en=F[nn],_n=fe[nn].paddedRect,Pn=_n.x+1,Qn=_n.y+1,Kn=en.data.width,or=en.data.height;is.copy(en.data,_t,{x:0,y:0},{x:Pn,y:Qn},en.data),is.copy(en.data,_t,{x:0,y:or-1},{x:Pn,y:Qn-1},{width:Kn,height:1}),is.copy(en.data,_t,{x:0,y:0},{x:Pn,y:Qn+or},{width:Kn,height:1}),is.copy(en.data,_t,{x:Kn-1,y:0},{x:Pn-1,y:Qn},{width:1,height:or}),is.copy(en.data,_t,{x:0,y:0},{x:Pn+Kn,y:Qn},{width:1,height:or})}this.image=_t,this.iconPositions=K,this.patternPositions=fe};kf.prototype.addImages=function(D,F,K){for(var fe in D){var Se=D[fe],Fe={x:0,y:0,w:Se.data.width+2,h:Se.data.height+2};K.push(Fe),F[fe]=new up(Fe,Se),Se.hasRenderCallback&&this.haveRenderCallbacks.push(fe)}},kf.prototype.patchUpdatedImages=function(D,F){for(var K in D.dispatchRenderCallbacks(this.haveRenderCallbacks),D.updatedImages)this.patchUpdatedImage(this.iconPositions[K],D.getImage(K),F),this.patchUpdatedImage(this.patternPositions[K],D.getImage(K),F)},kf.prototype.patchUpdatedImage=function(D,F,K){if(D&&F&&D.version!==F.version){D.version=F.version;var fe=D.tl;K.update(F.data,void 0,{x:fe[0],y:fe[1]})}},Yr("ImagePosition",up),Yr("ImageAtlas",kf);var El={horizontal:1,vertical:2,horizontalOnly:3},pc=function(){this.scale=1,this.fontStack="",this.imageName=null};pc.forText=function(D,F){var K=new pc;return K.scale=D||1,K.fontStack=F,K},pc.forImage=function(D){var F=new pc;return F.imageName=D,F};var Zs=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function fp(D,F,K,fe,Se,Fe,Ye,ut,_t,Ct,Ft,Xt,nn,en,_n,Pn){var Qn,Kn=Zs.fromFeature(D,Se);Xt===El.vertical&&Kn.verticalizePunctuation();var or=ts.processBidirectionalText,lr=ts.processStyledBidirectionalText;if(or&&1===Kn.sections.length){Qn=[];for(var pr=0,yr=or(Kn.toString(),td(Kn,Ct,Fe,F,fe,en,_n));pr<yr.length;pr+=1){var br=yr[pr],Gr=new Zs;Gr.text=br,Gr.sections=Kn.sections;for(var Nr=0;Nr<br.length;Nr++)Gr.sectionIndex.push(0);Qn.push(Gr)}}else if(lr){Qn=[];for(var Xr=0,si=lr(Kn.text,Kn.sectionIndex,td(Kn,Ct,Fe,F,fe,en,_n));Xr<si.length;Xr+=1){var Ci=si[Xr],ci=new Zs;ci.text=Ci[0],ci.sectionIndex=Ci[1],ci.sections=Kn.sections,Qn.push(ci)}}else Qn=function(ui,Zi){for(var Fi=[],Co=ui.text,wi=0,To=0,vo=Zi;To<vo.length;To+=1){var Uo=vo[To];Fi.push(ui.substring(wi,Uo)),wi=Uo}return wi<Co.length&&Fi.push(ui.substring(wi,Co.length)),Fi}(Kn,td(Kn,Ct,Fe,F,fe,en,_n));var Si=[],di={positionedLines:Si,text:Kn.toString(),top:Ft[1],bottom:Ft[1],left:Ft[0],right:Ft[0],writingMode:Xt,iconsInText:!1,verticalizable:!1};return function(ui,Zi,Fi,Co,wi,To,vo,Uo,Fo,Mo,ja,Vo){for(var Pa=0,Ho=-17,os=0,Ns=0,xs="right"===Uo?1:"left"===Uo?0:.5,Za=0,as=0,ga=wi;as<ga.length;as+=1){var Ya=ga[as];Ya.trim();var ji=Ya.getMaxScale(),so=24*(ji-1),Ko={positionedGlyphs:[],lineOffset:0};ui.positionedLines[Za]=Ko;var Do=Ko.positionedGlyphs,Qo=0;if(Ya.length()){for(var Zo=0;Zo<Ya.length();Zo++){var fo=Ya.getSection(Zo),wa=Ya.getSectionIndex(Zo),dl=Ya.getCharCode(Zo),Fs=0,Ys=null,Dl=null,lo=null,ss=24,_u=!(Fo===El.horizontal||!ja&&!Da(dl)||ja&&(uh[dl]||Eo(dl)));if(fo.imageName){var Ta=Co[fo.imageName];if(!Ta)continue;lo=fo.imageName,ui.iconsInText=ui.iconsInText||!0,Dl=Ta.paddedRect;var Pu=Ta.displaySize;fo.scale=24*fo.scale/Vo,Fs=so+(24-Pu[1]*fo.scale),ss=(Ys={width:Pu[0],height:Pu[1],left:1,top:-3,advance:_u?Pu[1]:Pu[0]}).advance;var Lf=_u?Pu[0]*fo.scale-24*ji:Pu[1]*fo.scale-24*ji;Lf>0&&Lf>Qo&&(Qo=Lf)}else{var sf=Fi[fo.fontStack],Nf=sf&&sf[dl];if(Nf&&Nf.rect)Dl=Nf.rect,Ys=Nf.metrics;else{var dh=Zi[fo.fontStack],Ff=dh&&dh[dl];if(!Ff)continue;Ys=Ff.metrics}Fs=24*(ji-fo.scale)}_u?(ui.verticalizable=!0,Do.push({glyph:dl,imageName:lo,x:Pa,y:Ho+Fs,vertical:_u,scale:fo.scale,fontStack:fo.fontStack,sectionIndex:wa,metrics:Ys,rect:Dl}),Pa+=ss*fo.scale+Mo):(Do.push({glyph:dl,imageName:lo,x:Pa,y:Ho+Fs,vertical:_u,scale:fo.scale,fontStack:fo.fontStack,sectionIndex:wa,metrics:Ys,rect:Dl}),Pa+=Ys.advance*fo.scale+Mo)}0!==Do.length&&(os=Math.max(Pa-Mo,os),l_(Do,0,Do.length-1,xs,Qo)),Pa=0;var ph=To*ji+Qo;Ko.lineOffset=Math.max(Qo,so),Ho+=ph,Ns=Math.max(ph,Ns),++Za}else Ho+=To,++Za}var $u=Ho- -17,Mp=ng(vo),Ap=Mp.horizontalAlign,cd=Mp.verticalAlign;(function(wg,fd,zf,gh,zc,Ru,mh,kp,Tg){var vh,Sp=(fd-zf)*zc;vh=Ru!==mh?-kp*gh- -17:(-gh*Tg+.5)*mh;for(var yh=0,_h=wg;yh<_h.length;yh+=1)for(var lf=0,hd=_h[yh].positionedGlyphs;lf<hd.length;lf+=1){var xh=hd[lf];xh.x+=Sp,xh.y+=vh}})(ui.positionedLines,xs,Ap,cd,os,Ns,To,$u,wi.length),ui.top+=-cd*$u,ui.bottom=ui.top+$u,ui.left+=-Ap*os,ui.right=ui.left+os}(di,F,K,fe,Qn,Ye,ut,_t,Xt,Ct,nn,Pn),!function(ui){for(var Zi=0,Fi=ui;Zi<Fi.length;Zi+=1)if(0!==Fi[Zi].positionedGlyphs.length)return!1;return!0}(Si)&&di}Zs.fromFeature=function(D,F){for(var K=new Zs,fe=0;fe<D.sections.length;fe++){var Se=D.sections[fe];Se.image?K.addImageSection(Se):K.addTextSection(Se,F)}return K},Zs.prototype.length=function(){return this.text.length},Zs.prototype.getSection=function(D){return this.sections[this.sectionIndex[D]]},Zs.prototype.getSectionIndex=function(D){return this.sectionIndex[D]},Zs.prototype.getCharCode=function(D){return this.text.charCodeAt(D)},Zs.prototype.verticalizePunctuation=function(){this.text=function(D){for(var F="",K=0;K<D.length;K++){var fe=D.charCodeAt(K+1)||null,Se=D.charCodeAt(K-1)||null;fe&&lc(fe)&&!ah[D[K+1]]||Se&&lc(Se)&&!ah[D[K-1]]||!ah[D[K]]?F+=D[K]:F+=ah[D[K]]}return F}(this.text)},Zs.prototype.trim=function(){for(var D=0,F=0;F<this.text.length&&uh[this.text.charCodeAt(F)];F++)D++;for(var K=this.text.length,fe=this.text.length-1;fe>=0&&fe>=D&&uh[this.text.charCodeAt(fe)];fe--)K--;this.text=this.text.substring(D,K),this.sectionIndex=this.sectionIndex.slice(D,K)},Zs.prototype.substring=function(D,F){var K=new Zs;return K.text=this.text.substring(D,F),K.sectionIndex=this.sectionIndex.slice(D,F),K.sections=this.sections,K},Zs.prototype.toString=function(){return this.text},Zs.prototype.getMaxScale=function(){var D=this;return this.sectionIndex.reduce(function(F,K){return Math.max(F,D.sections[K].scale)},0)},Zs.prototype.addTextSection=function(D,F){this.text+=D.text,this.sections.push(pc.forText(D.scale,D.fontStack||F));for(var K=this.sections.length-1,fe=0;fe<D.text.length;++fe)this.sectionIndex.push(K)},Zs.prototype.addImageSection=function(D){var F=D.image?D.image.name:"";if(0!==F.length){var K=this.getNextImageSectionCharCode();K?(this.text+=String.fromCharCode(K),this.sections.push(pc.forImage(F)),this.sectionIndex.push(this.sections.length-1)):O("Reached maximum number of images 6401")}else O("Can't add FormattedSection with an empty image.")},Zs.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var uh={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},hl={};function Q0(D,F,K,fe,Se,Fe){if(F.imageName){var Ye=fe[F.imageName];return Ye?Ye.displaySize[0]*F.scale*24/Fe+Se:0}var ut=K[F.fontStack],_t=ut&&ut[D];return _t?_t.metrics.advance*F.scale+Se:0}function Sf(D,F,K,fe){var Se=Math.pow(D-F,2);return fe?D<F?Se/2:2*Se:Se+Math.abs(K)*K}function eg(D,F,K){var fe=0;return 10===D&&(fe-=1e4),K&&(fe+=150),40!==D&&65288!==D||(fe+=50),41!==F&&65289!==F||(fe+=50),fe}function tg(D,F,K,fe,Se,Fe){for(var Ye=null,ut=Sf(F,K,Se,Fe),_t=0,Ct=fe;_t<Ct.length;_t+=1){var Ft=Ct[_t],Xt=Sf(F-Ft.x,K,Se,Fe)+Ft.badness;Xt<=ut&&(Ye=Ft,ut=Xt)}return{index:D,x:F,priorBreak:Ye,badness:ut}}function _1(D){return D?_1(D.priorBreak).concat(D.index):[]}function td(D,F,K,fe,Se,Fe,Ye){if("point"!==Fe)return[];if(!D)return[];for(var ut=[],_t=function(Qn,Kn,or,lr,pr,yr){for(var br=0,Gr=0;Gr<Qn.length();Gr++){var Nr=Qn.getSection(Gr);br+=Q0(Qn.getCharCode(Gr),Nr,lr,pr,Kn,yr)}return br/Math.max(1,Math.ceil(br/or))}(D,F,K,fe,Se,Ye),Ct=D.text.indexOf("\u200b")>=0,Ft=0,Xt=0;Xt<D.length();Xt++){var nn=D.getSection(Xt),en=D.getCharCode(Xt);if(uh[en]||(Ft+=Q0(en,nn,fe,Se,F,Ye)),Xt<D.length()-1){var _n=!((Pn=en)<11904||!(Jr["Bopomofo Extended"](Pn)||Jr.Bopomofo(Pn)||Jr["CJK Compatibility Forms"](Pn)||Jr["CJK Compatibility Ideographs"](Pn)||Jr["CJK Compatibility"](Pn)||Jr["CJK Radicals Supplement"](Pn)||Jr["CJK Strokes"](Pn)||Jr["CJK Symbols and Punctuation"](Pn)||Jr["CJK Unified Ideographs Extension A"](Pn)||Jr["CJK Unified Ideographs"](Pn)||Jr["Enclosed CJK Letters and Months"](Pn)||Jr["Halfwidth and Fullwidth Forms"](Pn)||Jr.Hiragana(Pn)||Jr["Ideographic Description Characters"](Pn)||Jr["Kangxi Radicals"](Pn)||Jr["Katakana Phonetic Extensions"](Pn)||Jr.Katakana(Pn)||Jr["Vertical Forms"](Pn)||Jr["Yi Radicals"](Pn)||Jr["Yi Syllables"](Pn)));(hl[en]||_n||nn.imageName)&&ut.push(tg(Xt+1,Ft,_t,ut,eg(en,D.getCharCode(Xt+1),_n&&Ct),!1))}}var Pn;return _1(tg(D.length(),Ft,_t,ut,0,!0))}function ng(D){var F=.5,K=.5;switch(D){case"right":case"top-right":case"bottom-right":F=1;break;case"left":case"top-left":case"bottom-left":F=0}switch(D){case"bottom":case"bottom-right":case"bottom-left":K=1;break;case"top":case"top-right":case"top-left":K=0}return{horizontalAlign:F,verticalAlign:K}}function l_(D,F,K,fe,Se){if(fe||Se)for(var Fe=D[K],ut=(D[K].x+Fe.metrics.advance*Fe.scale)*fe,_t=F;_t<=K;_t++)D[_t].x-=ut,D[_t].y+=Se}function x1(D,F,K,fe,Se,Fe){var Ye,ut=D.image;if(ut.content){var _t=ut.content,Ct=ut.pixelRatio||1;Ye=[_t[0]/Ct,_t[1]/Ct,ut.displaySize[0]-_t[2]/Ct,ut.displaySize[1]-_t[3]/Ct]}var Ft,Xt,nn,en,_n=F.left*Fe,Pn=F.right*Fe;"width"===K||"both"===K?(en=Se[0]+_n-fe[3],Xt=Se[0]+Pn+fe[1]):Xt=(en=Se[0]+(_n+Pn-ut.displaySize[0])/2)+ut.displaySize[0];var Qn=F.top*Fe,Kn=F.bottom*Fe;return"height"===K||"both"===K?(Ft=Se[1]+Qn-fe[0],nn=Se[1]+Kn+fe[2]):nn=(Ft=Se[1]+(Qn+Kn-ut.displaySize[1])/2)+ut.displaySize[1],{image:ut,top:Ft,right:Xt,bottom:nn,left:en,collisionPadding:Ye}}hl[10]=!0,hl[32]=!0,hl[38]=!0,hl[40]=!0,hl[41]=!0,hl[43]=!0,hl[45]=!0,hl[47]=!0,hl[173]=!0,hl[183]=!0,hl[8203]=!0,hl[8208]=!0,hl[8211]=!0,hl[8231]=!0;var ch=function(D){function F(K,fe,Se,Fe){D.call(this,K,fe),this.angle=Se,void 0!==Fe&&(this.segment=Fe)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.clone=function(){return new F(this.x,this.y,this.angle,this.segment)},F}(i);Yr("Anchor",ch);var gc=128;function rg(D,F){var K=F.expression;if("constant"===K.kind)return{kind:"constant",layoutSize:K.evaluate(new io(D+1))};if("source"===K.kind)return{kind:"source"};for(var fe=K.zoomStops,Se=K.interpolationType,Fe=0;Fe<fe.length&&fe[Fe]<=D;)Fe++;for(var Ye=Fe=Math.max(0,Fe-1);Ye<fe.length&&fe[Ye]<D+1;)Ye++;Ye=Math.min(fe.length-1,Ye);var ut=fe[Fe],_t=fe[Ye];return"composite"===K.kind?{kind:"composite",minZoom:ut,maxZoom:_t,interpolationType:Se}:{kind:"camera",minZoom:ut,maxZoom:_t,minSize:K.evaluate(new io(ut)),maxSize:K.evaluate(new io(_t)),interpolationType:Se}}function ig(D,F,K){var fe=F.uSize,Fe=K.lowerSize;return"source"===D.kind?Fe/gc:"composite"===D.kind?oi(Fe/gc,K.upperSize/gc,F.uSizeT):fe}function hp(D,F){var K=0,fe=0;if("constant"===D.kind)fe=D.layoutSize;else if("source"!==D.kind){var Se=D.interpolationType,ut=Se?l(na.interpolationFactor(Se,F,D.minZoom,D.maxZoom),0,1):0;"camera"===D.kind?fe=oi(D.minSize,D.maxSize,ut):K=ut}return{uSizeT:K,uSize:fe}}var b1=Object.freeze({__proto__:null,getSizeData:rg,evaluateSizeForFeature:ig,evaluateSizeForZoom:hp,SIZE_PACK_FACTOR:gc});function dp(D,F,K,fe,Se){if(void 0===F.segment)return!0;for(var Fe=F,Ye=F.segment+1,ut=0;ut>-K/2;){if(--Ye<0)return!1;ut-=D[Ye].dist(Fe),Fe=D[Ye]}ut+=D[Ye].dist(D[Ye+1]),Ye++;for(var _t=[],Ct=0;ut<K/2;){var Xt=D[Ye],nn=D[Ye+1];if(!nn)return!1;var en=D[Ye-1].angleTo(Xt)-Xt.angleTo(nn);for(en=Math.abs((en+3*Math.PI)%(2*Math.PI)-Math.PI),_t.push({distance:ut,angleDelta:en}),Ct+=en;ut-_t[0].distance>fe;)Ct-=_t.shift().angleDelta;if(Ct>Se)return!1;Ye++,ut+=Xt.dist(nn)}return!0}function w1(D){for(var F=0,K=0;K<D.length-1;K++)F+=D[K].dist(D[K+1]);return F}function T1(D,F,K){return D?.6*F*K:0}function og(D,F){return Math.max(D?D.right-D.left:0,F?F.right-F.left:0)}function M1(D,F,K,fe,Se,Fe){for(var Ye=T1(K,Se,Fe),ut=og(K,fe)*Fe,_t=0,Ct=w1(D)/2,Ft=0;Ft<D.length-1;Ft++){var Xt=D[Ft],nn=D[Ft+1],en=Xt.dist(nn);if(_t+en>Ct){var _n=(Ct-_t)/en,Pn=oi(Xt.x,nn.x,_n),Qn=oi(Xt.y,nn.y,_n),Kn=new ch(Pn,Qn,nn.angleTo(Xt),Ft);return Kn._round(),!Ye||dp(D,Kn,ut,Ye,F)?Kn:void 0}_t+=en}}function Cf(D,F,K,fe,Se,Fe,Ye,ut,_t){var Ct=T1(fe,Fe,Ye),Ft=og(fe,Se),Xt=Ft*Ye,nn=0===D[0].x||D[0].x===_t||0===D[0].y||D[0].y===_t;return F-Xt<F/4&&(F=Xt+F/4),ag(D,nn?F/2*ut%F:(Ft/2+2*Fe)*Ye*ut%F,F,Ct,K,Xt,nn,!1,_t)}function ag(D,F,K,fe,Se,Fe,Ye,ut,_t){for(var Ct=Fe/2,Ft=w1(D),Xt=0,nn=F-K,en=[],_n=0;_n<D.length-1;_n++){for(var Pn=D[_n],Qn=D[_n+1],Kn=Pn.dist(Qn),or=Qn.angleTo(Pn);nn+K<Xt+Kn;){var lr=((nn+=K)-Xt)/Kn,pr=oi(Pn.x,Qn.x,lr),yr=oi(Pn.y,Qn.y,lr);if(pr>=0&&pr<_t&&yr>=0&&yr<_t&&nn-Ct>=0&&nn+Ct<=Ft){var br=new ch(pr,yr,or,_n);br._round(),fe&&!dp(D,br,Fe,fe,Se)||en.push(br)}}Xt+=Kn}return ut||en.length||Ye||(en=ag(D,Xt/2,K,fe,Se,Fe,Ye,!0,_t)),en}function sg(D,F,K,fe,Se){for(var Fe=[],Ye=0;Ye<D.length;Ye++)for(var ut=D[Ye],_t=void 0,Ct=0;Ct<ut.length-1;Ct++){var Ft=ut[Ct],Xt=ut[Ct+1];Ft.x<F&&Xt.x<F||(Ft.x<F?Ft=new i(F,Ft.y+(F-Ft.x)/(Xt.x-Ft.x)*(Xt.y-Ft.y))._round():Xt.x<F&&(Xt=new i(F,Ft.y+(F-Ft.x)/(Xt.x-Ft.x)*(Xt.y-Ft.y))._round()),Ft.y<K&&Xt.y<K||(Ft.y<K?Ft=new i(Ft.x+(K-Ft.y)/(Xt.y-Ft.y)*(Xt.x-Ft.x),K)._round():Xt.y<K&&(Xt=new i(Ft.x+(K-Ft.y)/(Xt.y-Ft.y)*(Xt.x-Ft.x),K)._round()),Ft.x>=fe&&Xt.x>=fe||(Ft.x>=fe?Ft=new i(fe,Ft.y+(fe-Ft.x)/(Xt.x-Ft.x)*(Xt.y-Ft.y))._round():Xt.x>=fe&&(Xt=new i(fe,Ft.y+(fe-Ft.x)/(Xt.x-Ft.x)*(Xt.y-Ft.y))._round()),Ft.y>=Se&&Xt.y>=Se||(Ft.y>=Se?Ft=new i(Ft.x+(Se-Ft.y)/(Xt.y-Ft.y)*(Xt.x-Ft.x),Se)._round():Xt.y>=Se&&(Xt=new i(Ft.x+(Se-Ft.y)/(Xt.y-Ft.y)*(Xt.x-Ft.x),Se)._round()),_t&&Ft.equals(_t[_t.length-1])||Fe.push(_t=[Ft]),_t.push(Xt)))))}return Fe}function A1(D,F,K,fe){var Se=[],Fe=D.image,Ye=Fe.pixelRatio,ut=Fe.paddedRect.w-2,_t=Fe.paddedRect.h-2,Ct=D.right-D.left,Ft=D.bottom-D.top,Xt=Fe.stretchX||[[0,ut]],nn=Fe.stretchY||[[0,_t]],en=function(To,vo){return To+vo[1]-vo[0]},_n=Xt.reduce(en,0),Pn=nn.reduce(en,0),Qn=ut-_n,Kn=_t-Pn,or=0,lr=_n,pr=0,yr=Pn,br=0,Gr=Qn,Nr=0,Xr=Kn;if(Fe.content&&fe){var si=Fe.content;or=lg(Xt,0,si[0]),pr=lg(nn,0,si[1]),lr=lg(Xt,si[0],si[2]),yr=lg(nn,si[1],si[3]),br=si[0]-or,Nr=si[1]-pr,Gr=si[2]-si[0]-lr,Xr=si[3]-si[1]-yr}var Ci=function(To,vo,Uo,Fo){var Mo=pp(To.stretch-or,lr,Ct,D.left),ja=rd(To.fixed-br,Gr,To.stretch,_n),Vo=pp(vo.stretch-pr,yr,Ft,D.top),Pa=rd(vo.fixed-Nr,Xr,vo.stretch,Pn),Ho=pp(Uo.stretch-or,lr,Ct,D.left),os=rd(Uo.fixed-br,Gr,Uo.stretch,_n),Ns=pp(Fo.stretch-pr,yr,Ft,D.top),xs=rd(Fo.fixed-Nr,Xr,Fo.stretch,Pn),Za=new i(Mo,Vo),as=new i(Ho,Vo),ga=new i(Ho,Ns),Ya=new i(Mo,Ns),ji=new i(ja/Ye,Pa/Ye),so=new i(os/Ye,xs/Ye),Ko=F*Math.PI/180;if(Ko){var Do=Math.sin(Ko),Qo=Math.cos(Ko),Zo=[Qo,-Do,Do,Qo];Za._matMult(Zo),as._matMult(Zo),Ya._matMult(Zo),ga._matMult(Zo)}var fo=To.stretch+To.fixed,dl=vo.stretch+vo.fixed;return{tl:Za,tr:as,bl:Ya,br:ga,tex:{x:Fe.paddedRect.x+1+fo,y:Fe.paddedRect.y+1+dl,w:Uo.stretch+Uo.fixed-fo,h:Fo.stretch+Fo.fixed-dl},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:ji,pixelOffsetBR:so,minFontScaleX:Gr/Ye/Ct,minFontScaleY:Xr/Ye/Ft,isSDF:K}};if(fe&&(Fe.stretchX||Fe.stretchY))for(var ci=nd(Xt,Qn,_n),Si=nd(nn,Kn,Pn),di=0;di<ci.length-1;di++)for(var ui=ci[di],Zi=ci[di+1],Fi=0;Fi<Si.length-1;Fi++)Se.push(Ci(ui,Si[Fi],Zi,Si[Fi+1]));else Se.push(Ci({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:ut+1},{fixed:0,stretch:_t+1}));return Se}function lg(D,F,K){for(var fe=0,Se=0,Fe=D;Se<Fe.length;Se+=1){var Ye=Fe[Se];fe+=Math.max(F,Math.min(K,Ye[1]))-Math.max(F,Math.min(K,Ye[0]))}return fe}function nd(D,F,K){for(var fe=[{fixed:-1,stretch:0}],Se=0,Fe=D;Se<Fe.length;Se+=1){var Ye=Fe[Se],ut=Ye[0],_t=Ye[1],Ct=fe[fe.length-1];fe.push({fixed:ut-Ct.stretch,stretch:Ct.stretch}),fe.push({fixed:ut-Ct.stretch,stretch:Ct.stretch+(_t-ut)})}return fe.push({fixed:F+1,stretch:K}),fe}function pp(D,F,K,fe){return D/F*K+fe}function rd(D,F,K,fe){return D-F*K/fe}var id=function(D,F,K,fe,Se,Fe,Ye,ut,_t,Ct){if(this.boxStartIndex=D.length,_t){var Ft=Fe.top,Xt=Fe.bottom,nn=Fe.collisionPadding;nn&&(Ft-=nn[1],Xt+=nn[3]);var en=Xt-Ft;en>0&&(en=Math.max(10,en),this.circleDiameter=en)}else{var _n=Fe.top*Ye-ut,Pn=Fe.bottom*Ye+ut,Qn=Fe.left*Ye-ut,Kn=Fe.right*Ye+ut,or=Fe.collisionPadding;if(or&&(Qn-=or[0]*Ye,_n-=or[1]*Ye,Kn+=or[2]*Ye,Pn+=or[3]*Ye),Ct){var lr=new i(Qn,_n),pr=new i(Kn,_n),yr=new i(Qn,Pn),br=new i(Kn,Pn),Gr=Ct*Math.PI/180;lr._rotate(Gr),pr._rotate(Gr),yr._rotate(Gr),br._rotate(Gr),Qn=Math.min(lr.x,pr.x,yr.x,br.x),Kn=Math.max(lr.x,pr.x,yr.x,br.x),_n=Math.min(lr.y,pr.y,yr.y,br.y),Pn=Math.max(lr.y,pr.y,yr.y,br.y)}D.emplaceBack(F.x,F.y,Qn,_n,Kn,Pn,K,fe,Se)}this.boxEndIndex=D.length},Ef=function(D,F){if(void 0===D&&(D=[]),void 0===F&&(F=ug),this.data=D,this.length=this.data.length,this.compare=F,this.length>0)for(var K=(this.length>>1)-1;K>=0;K--)this._down(K)};function ug(D,F){return D<F?-1:D>F?1:0}function k1(D,F,K){void 0===F&&(F=1),void 0===K&&(K=!1);for(var fe=1/0,Se=1/0,Fe=-1/0,Ye=-1/0,ut=D[0],_t=0;_t<ut.length;_t++){var Ct=ut[_t];(!_t||Ct.x<fe)&&(fe=Ct.x),(!_t||Ct.y<Se)&&(Se=Ct.y),(!_t||Ct.x>Fe)&&(Fe=Ct.x),(!_t||Ct.y>Ye)&&(Ye=Ct.y)}var nn=Math.min(Fe-fe,Ye-Se),en=nn/2,_n=new Ef([],gp);if(0===nn)return new i(fe,Se);for(var Pn=fe;Pn<Fe;Pn+=nn)for(var Qn=Se;Qn<Ye;Qn+=nn)_n.push(new Lc(Pn+en,Qn+en,en,D));for(var Kn=function(pr){for(var yr=0,br=0,Gr=0,Nr=pr[0],Xr=0,si=Nr.length,Ci=si-1;Xr<si;Ci=Xr++){var ci=Nr[Xr],Si=Nr[Ci],di=ci.x*Si.y-Si.x*ci.y;br+=(ci.x+Si.x)*di,Gr+=(ci.y+Si.y)*di,yr+=3*di}return new Lc(br/yr,Gr/yr,0,pr)}(D),or=_n.length;_n.length;){var lr=_n.pop();(lr.d>Kn.d||!Kn.d)&&(Kn=lr,K&&console.log("found best %d after %d probes",Math.round(1e4*lr.d)/1e4,or)),lr.max-Kn.d<=F||(_n.push(new Lc(lr.p.x-(en=lr.h/2),lr.p.y-en,en,D)),_n.push(new Lc(lr.p.x+en,lr.p.y-en,en,D)),_n.push(new Lc(lr.p.x-en,lr.p.y+en,en,D)),_n.push(new Lc(lr.p.x+en,lr.p.y+en,en,D)),or+=4)}return K&&(console.log("num probes: "+or),console.log("best distance: "+Kn.d)),Kn.p}function gp(D,F){return F.max-D.max}function Lc(D,F,K,fe){this.p=new i(D,F),this.h=K,this.d=function(Se,Fe){for(var Ye=!1,ut=1/0,_t=0;_t<Fe.length;_t++)for(var Ct=Fe[_t],Ft=0,Xt=Ct.length,nn=Xt-1;Ft<Xt;nn=Ft++){var en=Ct[Ft],_n=Ct[nn];en.y>Se.y!=_n.y>Se.y&&Se.x<(_n.x-en.x)*(Se.y-en.y)/(_n.y-en.y)+en.x&&(Ye=!Ye),ut=Math.min(ut,Xf(Se,en,_n))}return(Ye?1:-1)*Math.sqrt(ut)}(this.p,fe),this.max=this.d+this.h*Math.SQRT2}Ef.prototype.push=function(D){this.data.push(D),this.length++,this._up(this.length-1)},Ef.prototype.pop=function(){if(0!==this.length){var D=this.data[0],F=this.data.pop();return this.length--,this.length>0&&(this.data[0]=F,this._down(0)),D}},Ef.prototype.peek=function(){return this.data[0]},Ef.prototype._up=function(D){for(var F=this.data,K=this.compare,fe=F[D];D>0;){var Se=D-1>>1,Fe=F[Se];if(K(fe,Fe)>=0)break;F[D]=Fe,D=Se}F[D]=fe},Ef.prototype._down=function(D){for(var F=this.data,K=this.compare,fe=this.length>>1,Se=F[D];D<fe;){var Fe=1+(D<<1),Ye=F[Fe],ut=Fe+1;if(ut<this.length&&K(F[ut],Ye)<0&&(Fe=ut,Ye=F[ut]),K(Ye,Se)>=0)break;F[D]=Ye,D=Fe}F[D]=Se};var mp=Number.POSITIVE_INFINITY;function vp(D,F){return F[1]!==mp?function(K,fe,Se){var Fe=0,Ye=0;switch(fe=Math.abs(fe),Se=Math.abs(Se),K){case"top-right":case"top-left":case"top":Ye=Se-7;break;case"bottom-right":case"bottom-left":case"bottom":Ye=7-Se}switch(K){case"top-right":case"bottom-right":case"right":Fe=-fe;break;case"top-left":case"bottom-left":case"left":Fe=fe}return[Fe,Ye]}(D,F[0],F[1]):function(K,fe){var Se=0,Fe=0;fe<0&&(fe=0);var Ye=fe/Math.sqrt(2);switch(K){case"top-right":case"top-left":Fe=Ye-7;break;case"bottom-right":case"bottom-left":Fe=7-Ye;break;case"bottom":Fe=7-fe;break;case"top":Fe=fe-7}switch(K){case"top-right":case"bottom-right":Se=-Ye;break;case"top-left":case"bottom-left":Se=Ye;break;case"left":Se=fe;break;case"right":Se=-fe}return[Se,Fe]}(D,F[0])}function od(D){switch(D){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}var mc=32640;function fh(D,F,K,fe,Se,Fe,Ye,ut,_t,Ct,Ft,Xt,nn,en,_n){var Pn=function(pr,yr,br,Gr,Nr,Xr,si,Ci){for(var ci=Gr.layout.get("text-rotate").evaluate(Xr,{})*Math.PI/180,Si=[],di=0,ui=yr.positionedLines;di<ui.length;di+=1)for(var Zi=ui[di],Fi=0,Co=Zi.positionedGlyphs;Fi<Co.length;Fi+=1){var wi=Co[Fi];if(wi.rect){var To=wi.rect||{},vo=4,Uo=!0,Fo=1,Mo=0,ja=(Nr||Ci)&&wi.vertical,Vo=wi.metrics.advance*wi.scale/2;if(Ci&&yr.verticalizable&&(Mo=Zi.lineOffset/2-(wi.imageName?-(24-wi.metrics.width*wi.scale)/2:24*(wi.scale-1))),wi.imageName){var os=si[wi.imageName];Uo=os.sdf,vo=1/(Fo=os.pixelRatio)}var Ns=Nr?[wi.x+Vo,wi.y]:[0,0],xs=Nr?[0,0]:[wi.x+Vo+br[0],wi.y+br[1]-Mo],Za=[0,0];ja&&(Za=xs,xs=[0,0]);var as=(wi.metrics.left-vo)*wi.scale-Vo+xs[0],ga=(-wi.metrics.top-vo)*wi.scale+xs[1],Ya=as+To.w*wi.scale/Fo,ji=ga+To.h*wi.scale/Fo,so=new i(as,ga),Ko=new i(Ya,ga),Do=new i(as,ji),Qo=new i(Ya,ji);if(ja){var Zo=new i(-Vo,Vo- -17),fo=-Math.PI/2,wa=12-Vo,Fs=new i(22-wa,-(wi.imageName?wa:0)),Ys=new(Function.prototype.bind.apply(i,[null].concat(Za)));so._rotateAround(fo,Zo)._add(Fs)._add(Ys),Ko._rotateAround(fo,Zo)._add(Fs)._add(Ys),Do._rotateAround(fo,Zo)._add(Fs)._add(Ys),Qo._rotateAround(fo,Zo)._add(Fs)._add(Ys)}if(ci){var Dl=Math.sin(ci),lo=Math.cos(ci),ss=[lo,-Dl,Dl,lo];so._matMult(ss),Ko._matMult(ss),Do._matMult(ss),Qo._matMult(ss)}var _u=new i(0,0),Ta=new i(0,0);Si.push({tl:so,tr:Ko,bl:Do,br:Qo,tex:To,writingMode:yr.writingMode,glyphOffset:Ns,sectionIndex:wi.sectionIndex,isSDF:Uo,pixelOffsetTL:_u,pixelOffsetBR:Ta,minFontScaleX:0,minFontScaleY:0})}}return Si}(0,K,ut,Se,Fe,Ye,fe,D.allowVerticalPlacement),Qn=D.textSizeData,Kn=null;"source"===Qn.kind?(Kn=[gc*Se.layout.get("text-size").evaluate(Ye,{})])[0]>mc&&O(D.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):"composite"===Qn.kind&&((Kn=[gc*en.compositeTextSizes[0].evaluate(Ye,{},_n),gc*en.compositeTextSizes[1].evaluate(Ye,{},_n)])[0]>mc||Kn[1]>mc)&&O(D.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),D.addSymbols(D.text,Pn,Kn,ut,Fe,Ye,Ct,F,_t.lineStartIndex,_t.lineLength,nn,_n);for(var or=0,lr=Ft;or<lr.length;or+=1)Xt[lr[or]]=D.text.placedSymbolArray.length-1;return 4*Pn.length}function S1(D){for(var F in D)return D[F];return null}function C1(D,F,K,fe){var Se=D.compareText;if(F in Se){for(var Fe=Se[F],Ye=Fe.length-1;Ye>=0;Ye--)if(fe.dist(Fe[Ye])<K)return!0}else Se[F]=[];return Se[F].push(fe),!1}var u_=ih.VectorTileFeature.types,c_=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function yp(D,F,K,fe,Se,Fe,Ye,ut,_t,Ct,Ft,Xt,nn){var en=ut?Math.min(mc,Math.round(ut[0])):0,_n=ut?Math.min(mc,Math.round(ut[1])):0;D.emplaceBack(F,K,Math.round(32*fe),Math.round(32*Se),Fe,Ye,(en<<1)+(_t?1:0),_n,16*Ct,16*Ft,256*Xt,256*nn)}function _p(D,F,K){D.emplaceBack(F.x,F.y,K),D.emplaceBack(F.x,F.y,K),D.emplaceBack(F.x,F.y,K),D.emplaceBack(F.x,F.y,K)}function E1(D){for(var F=0,K=D.sections;F<K.length;F+=1)if(Bl(K[F].text))return!0;return!1}var Nc=function(D){this.layoutVertexArray=new Et,this.indexArray=new Ze,this.programConfigurations=D,this.segments=new hn,this.dynamicLayoutVertexArray=new U,this.opacityVertexArray=new ee,this.placedSymbolArray=new pt};Nc.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},Nc.prototype.upload=function(D,F,K,fe){this.isEmpty()||(K&&(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,h1.members),this.indexBuffer=D.createIndexBuffer(this.indexArray,F),this.dynamicLayoutVertexBuffer=D.createVertexBuffer(this.dynamicLayoutVertexArray,Q2.members,!0),this.opacityVertexBuffer=D.createVertexBuffer(this.opacityVertexArray,c_,!0),this.opacityVertexBuffer.itemSize=1),(K||fe)&&this.programConfigurations.upload(D))},Nc.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Yr("SymbolBuffers",Nc);var Df=function(D,F,K){this.layoutVertexArray=new D,this.layoutAttributes=F,this.indexArray=new K,this.segments=new hn,this.collisionVertexArray=new ze};Df.prototype.upload=function(D){this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=D.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=D.createVertexBuffer(this.collisionVertexArray,r_.members,!0)},Df.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Yr("CollisionBuffers",Df);var no=function(D){this.collisionBoxArray=D.collisionBoxArray,this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(Ye){return Ye.id}),this.index=D.index,this.pixelRatio=D.pixelRatio,this.sourceLayerIndex=D.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Jd([]),this.placementViewportMatrix=Jd([]);var F=this.layers[0]._unevaluatedLayout._values;this.textSizeData=rg(this.zoom,F["text-size"]),this.iconSizeData=rg(this.zoom,F["icon-size"]);var K=this.layers[0].layout,fe=K.get("symbol-sort-key"),Se=K.get("symbol-z-order");this.sortFeaturesByKey="viewport-y"!==Se&&void 0!==fe.constantOr(1),this.sortFeaturesByY=("viewport-y"===Se||"auto"===Se&&!this.sortFeaturesByKey)&&(K.get("text-allow-overlap")||K.get("icon-allow-overlap")||K.get("text-ignore-placement")||K.get("icon-ignore-placement")),"point"===K.get("symbol-placement")&&(this.writingModes=K.get("text-writing-mode").map(function(Ye){return El[Ye]})),this.stateDependentLayerIds=this.layers.filter(function(Ye){return Ye.isStateDependent()}).map(function(Ye){return Ye.id}),this.sourceID=D.sourceID};no.prototype.createArrays=function(){this.text=new Nc(new Bo(h1.members,this.layers,this.zoom,function(D){return/^text/.test(D)})),this.icon=new Nc(new Bo(h1.members,this.layers,this.zoom,function(D){return/^icon/.test(D)})),this.glyphOffsetArray=new $t,this.lineVertexArray=new Yt,this.symbolInstances=new zt},no.prototype.calculateGlyphDependencies=function(D,F,K,fe,Se){for(var Fe=0;Fe<D.length;Fe++)if(F[D.charCodeAt(Fe)]=!0,(K||fe)&&Se){var Ye=ah[D.charAt(Fe)];Ye&&(F[Ye.charCodeAt(0)]=!0)}},no.prototype.populate=function(D,F,K){var fe=this.layers[0],Se=fe.layout,Fe=Se.get("text-font"),Ye=Se.get("text-field"),ut=Se.get("icon-image"),_t=("constant"!==Ye.value.kind||Ye.value.value instanceof er&&!Ye.value.value.isEmpty()||Ye.value.value.toString().length>0)&&("constant"!==Fe.value.kind||Fe.value.value.length>0),Ct="constant"!==ut.value.kind||!!ut.value.value||Object.keys(ut.parameters).length>0,Ft=Se.get("symbol-sort-key");if(this.features=[],_t||Ct){for(var Xt=F.iconDependencies,nn=F.glyphDependencies,en=F.availableImages,_n=new io(this.zoom),Pn=0,Qn=D;Pn<Qn.length;Pn+=1){var Kn=Qn[Pn],or=Kn.feature,lr=Kn.id,pr=Kn.index,yr=Kn.sourceLayerIndex,br=fe._featureFilter.needGeometry,Gr={type:or.type,id:lr,properties:or.properties,geometry:br?$o(or):[]};if(fe._featureFilter.filter(_n,Gr,K)){br||(Gr.geometry=$o(or));var Nr=void 0;if(_t){var Xr=fe.getValueAndResolveTokens("text-field",Gr,K,en),si=er.factory(Xr);E1(si)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===es()||this.hasRTLText&&ts.isParsed())&&(Nr=d1(si,fe,Gr))}var Ci=void 0;if(Ct){var ci=fe.getValueAndResolveTokens("icon-image",Gr,K,en);Ci=ci instanceof Zn?ci:Zn.fromString(ci)}if(Nr||Ci){var Si=this.sortFeaturesByKey?Ft.evaluate(Gr,{},K):void 0,di={id:lr,text:Nr,icon:Ci,index:pr,sourceLayerIndex:yr,geometry:$o(or),properties:or.properties,type:u_[or.type],sortKey:Si};if(this.features.push(di),Ci&&(Xt[Ci.name]=!0),Nr){var ui=Fe.evaluate(Gr,{},K).join(","),Zi="map"===Se.get("text-rotation-alignment")&&"point"!==Se.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(El.vertical)>=0;for(var Fi=0,Co=Nr.sections;Fi<Co.length;Fi+=1){var wi=Co[Fi];if(wi.image)Xt[wi.image.name]=!0;else{var To=Hu(Nr.toString()),vo=wi.fontStack||ui,Uo=nn[vo]=nn[vo]||{};this.calculateGlyphDependencies(wi.text,Uo,Zi,this.allowVerticalPlacement,To)}}}}}}"line"===Se.get("symbol-placement")&&(this.features=function(Fo){var Mo={},ja={},Vo=[],Pa=0;function Ho(Qo){Vo.push(Fo[Qo]),Pa++}function os(Qo,Zo,fo){var wa=ja[Qo];return delete ja[Qo],ja[Zo]=wa,Vo[wa].geometry[0].pop(),Vo[wa].geometry[0]=Vo[wa].geometry[0].concat(fo[0]),wa}function Ns(Qo,Zo,fo){var wa=Mo[Zo];return delete Mo[Zo],Mo[Qo]=wa,Vo[wa].geometry[0].shift(),Vo[wa].geometry[0]=fo[0].concat(Vo[wa].geometry[0]),wa}function xs(Qo,Zo,fo){var wa=fo?Zo[0][Zo[0].length-1]:Zo[0][0];return Qo+":"+wa.x+":"+wa.y}for(var Za=0;Za<Fo.length;Za++){var as=Fo[Za],ga=as.geometry,Ya=as.text?as.text.toString():null;if(Ya){var ji=xs(Ya,ga),so=xs(Ya,ga,!0);if(ji in ja&&so in Mo&&ja[ji]!==Mo[so]){var Ko=Ns(ji,so,ga),Do=os(ji,so,Vo[Ko].geometry);delete Mo[ji],delete ja[so],ja[xs(Ya,Vo[Do].geometry,!0)]=Do,Vo[Ko].geometry=null}else ji in ja?os(ji,so,ga):so in Mo?Ns(ji,so,ga):(Ho(Za),Mo[ji]=Pa-1,ja[so]=Pa-1)}else Ho(Za)}return Vo.filter(function(Qo){return Qo.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(Fo,Mo){return Fo.sortKey-Mo.sortKey})}},no.prototype.update=function(D,F,K){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(D,F,this.layers,K),this.icon.programConfigurations.updatePaintArrays(D,F,this.layers,K))},no.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},no.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},no.prototype.upload=function(D){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(D),this.iconCollisionBox.upload(D)),this.text.upload(D,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(D,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},no.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},no.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},no.prototype.addToLineVertexArray=function(D,F){var K=this.lineVertexArray.length;if(void 0!==D.segment){for(var fe=D.dist(F[D.segment+1]),Se=D.dist(F[D.segment]),Fe={},Ye=D.segment+1;Ye<F.length;Ye++)Fe[Ye]={x:F[Ye].x,y:F[Ye].y,tileUnitDistanceFromAnchor:fe},Ye<F.length-1&&(fe+=F[Ye+1].dist(F[Ye]));for(var ut=D.segment||0;ut>=0;ut--)Fe[ut]={x:F[ut].x,y:F[ut].y,tileUnitDistanceFromAnchor:Se},ut>0&&(Se+=F[ut-1].dist(F[ut]));for(var _t=0;_t<F.length;_t++){var Ct=Fe[_t];this.lineVertexArray.emplaceBack(Ct.x,Ct.y,Ct.tileUnitDistanceFromAnchor)}}return{lineStartIndex:K,lineLength:this.lineVertexArray.length-K}},no.prototype.addSymbols=function(D,F,K,fe,Se,Fe,Ye,ut,_t,Ct,Ft,Xt){for(var nn=D.indexArray,en=D.layoutVertexArray,_n=D.segments.prepareSegment(4*F.length,en,nn,Fe.sortKey),Pn=this.glyphOffsetArray.length,Qn=_n.vertexLength,Kn=this.allowVerticalPlacement&&Ye===El.vertical?Math.PI/2:0,or=Fe.text&&Fe.text.sections,lr=0;lr<F.length;lr++){var pr=F[lr],yr=pr.tl,br=pr.tr,Gr=pr.bl,Nr=pr.br,Xr=pr.tex,si=pr.pixelOffsetTL,Ci=pr.pixelOffsetBR,ci=pr.minFontScaleX,Si=pr.minFontScaleY,di=pr.glyphOffset,ui=pr.isSDF,Zi=pr.sectionIndex,Fi=_n.vertexLength,Co=di[1];yp(en,ut.x,ut.y,yr.x,Co+yr.y,Xr.x,Xr.y,K,ui,si.x,si.y,ci,Si),yp(en,ut.x,ut.y,br.x,Co+br.y,Xr.x+Xr.w,Xr.y,K,ui,Ci.x,si.y,ci,Si),yp(en,ut.x,ut.y,Gr.x,Co+Gr.y,Xr.x,Xr.y+Xr.h,K,ui,si.x,Ci.y,ci,Si),yp(en,ut.x,ut.y,Nr.x,Co+Nr.y,Xr.x+Xr.w,Xr.y+Xr.h,K,ui,Ci.x,Ci.y,ci,Si),_p(D.dynamicLayoutVertexArray,ut,Kn),nn.emplaceBack(Fi,Fi+1,Fi+2),nn.emplaceBack(Fi+1,Fi+2,Fi+3),_n.vertexLength+=4,_n.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(di[0]),lr!==F.length-1&&Zi===F[lr+1].sectionIndex||D.programConfigurations.populatePaintArrays(en.length,Fe,Fe.index,{},Xt,or&&or[Zi])}D.placedSymbolArray.emplaceBack(ut.x,ut.y,Pn,this.glyphOffsetArray.length-Pn,Qn,_t,Ct,ut.segment,K?K[0]:0,K?K[1]:0,fe[0],fe[1],Ye,0,!1,0,Ft)},no.prototype._addCollisionDebugVertex=function(D,F,K,fe,Se,Fe){return F.emplaceBack(0,0),D.emplaceBack(K.x,K.y,fe,Se,Math.round(Fe.x),Math.round(Fe.y))},no.prototype.addCollisionDebugVertices=function(D,F,K,fe,Se,Fe,Ye){var ut=Se.segments.prepareSegment(4,Se.layoutVertexArray,Se.indexArray),_t=ut.vertexLength,Ct=Se.layoutVertexArray,Ft=Se.collisionVertexArray,Xt=Ye.anchorX,nn=Ye.anchorY;this._addCollisionDebugVertex(Ct,Ft,Fe,Xt,nn,new i(D,F)),this._addCollisionDebugVertex(Ct,Ft,Fe,Xt,nn,new i(K,F)),this._addCollisionDebugVertex(Ct,Ft,Fe,Xt,nn,new i(K,fe)),this._addCollisionDebugVertex(Ct,Ft,Fe,Xt,nn,new i(D,fe)),ut.vertexLength+=4;var en=Se.indexArray;en.emplaceBack(_t,_t+1),en.emplaceBack(_t+1,_t+2),en.emplaceBack(_t+2,_t+3),en.emplaceBack(_t+3,_t),ut.primitiveLength+=4},no.prototype.addDebugCollisionBoxes=function(D,F,K,fe){for(var Se=D;Se<F;Se++){var Fe=this.collisionBoxArray.get(Se);this.addCollisionDebugVertices(Fe.x1,Fe.y1,Fe.x2,Fe.y2,fe?this.textCollisionBox:this.iconCollisionBox,Fe.anchorPoint,K)}},no.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Df(ae,W0.members,me),this.iconCollisionBox=new Df(ae,W0.members,me);for(var D=0;D<this.symbolInstances.length;D++){var F=this.symbolInstances.get(D);this.addDebugCollisionBoxes(F.textBoxStartIndex,F.textBoxEndIndex,F,!0),this.addDebugCollisionBoxes(F.verticalTextBoxStartIndex,F.verticalTextBoxEndIndex,F,!0),this.addDebugCollisionBoxes(F.iconBoxStartIndex,F.iconBoxEndIndex,F,!1),this.addDebugCollisionBoxes(F.verticalIconBoxStartIndex,F.verticalIconBoxEndIndex,F,!1)}},no.prototype._deserializeCollisionBoxesForSymbol=function(D,F,K,fe,Se,Fe,Ye,ut,_t){for(var Ct={},Ft=F;Ft<K;Ft++){var Xt=D.get(Ft);Ct.textBox={x1:Xt.x1,y1:Xt.y1,x2:Xt.x2,y2:Xt.y2,anchorPointX:Xt.anchorPointX,anchorPointY:Xt.anchorPointY},Ct.textFeatureIndex=Xt.featureIndex;break}for(var nn=fe;nn<Se;nn++){var en=D.get(nn);Ct.verticalTextBox={x1:en.x1,y1:en.y1,x2:en.x2,y2:en.y2,anchorPointX:en.anchorPointX,anchorPointY:en.anchorPointY},Ct.verticalTextFeatureIndex=en.featureIndex;break}for(var _n=Fe;_n<Ye;_n++){var Pn=D.get(_n);Ct.iconBox={x1:Pn.x1,y1:Pn.y1,x2:Pn.x2,y2:Pn.y2,anchorPointX:Pn.anchorPointX,anchorPointY:Pn.anchorPointY},Ct.iconFeatureIndex=Pn.featureIndex;break}for(var Qn=ut;Qn<_t;Qn++){var Kn=D.get(Qn);Ct.verticalIconBox={x1:Kn.x1,y1:Kn.y1,x2:Kn.x2,y2:Kn.y2,anchorPointX:Kn.anchorPointX,anchorPointY:Kn.anchorPointY},Ct.verticalIconFeatureIndex=Kn.featureIndex;break}return Ct},no.prototype.deserializeCollisionBoxes=function(D){this.collisionArrays=[];for(var F=0;F<this.symbolInstances.length;F++){var K=this.symbolInstances.get(F);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(D,K.textBoxStartIndex,K.textBoxEndIndex,K.verticalTextBoxStartIndex,K.verticalTextBoxEndIndex,K.iconBoxStartIndex,K.iconBoxEndIndex,K.verticalIconBoxStartIndex,K.verticalIconBoxEndIndex))}},no.prototype.hasTextData=function(){return this.text.segments.get().length>0},no.prototype.hasIconData=function(){return this.icon.segments.get().length>0},no.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},no.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},no.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},no.prototype.addIndicesForPlacedSymbol=function(D,F){for(var K=D.placedSymbolArray.get(F),fe=K.vertexStartIndex+4*K.numGlyphs,Se=K.vertexStartIndex;Se<fe;Se+=4)D.indexArray.emplaceBack(Se,Se+1,Se+2),D.indexArray.emplaceBack(Se+1,Se+2,Se+3)},no.prototype.getSortedSymbolIndexes=function(D){if(this.sortedAngle===D&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var F=Math.sin(D),K=Math.cos(D),fe=[],Se=[],Fe=[],Ye=0;Ye<this.symbolInstances.length;++Ye){Fe.push(Ye);var ut=this.symbolInstances.get(Ye);fe.push(0|Math.round(F*ut.anchorX+K*ut.anchorY)),Se.push(ut.featureIndex)}return Fe.sort(function(_t,Ct){return fe[_t]-fe[Ct]||Se[Ct]-Se[_t]}),Fe},no.prototype.addToSortKeyRanges=function(D,F){var K=this.sortKeyRanges[this.sortKeyRanges.length-1];K&&K.sortKey===F?K.symbolInstanceEnd=D+1:this.sortKeyRanges.push({sortKey:F,symbolInstanceStart:D,symbolInstanceEnd:D+1})},no.prototype.sortFeatures=function(D){var F=this;if(this.sortFeaturesByY&&this.sortedAngle!==D&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(D),this.sortedAngle=D,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var K=0,fe=this.symbolInstanceIndexes;K<fe.length;K+=1){var Fe=this.symbolInstances.get(fe[K]);this.featureSortOrder.push(Fe.featureIndex),[Fe.rightJustifiedTextSymbolIndex,Fe.centerJustifiedTextSymbolIndex,Fe.leftJustifiedTextSymbolIndex].forEach(function(Ye,ut,_t){Ye>=0&&_t.indexOf(Ye)===ut&&F.addIndicesForPlacedSymbol(F.text,Ye)}),Fe.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,Fe.verticalPlacedTextSymbolIndex),Fe.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Fe.placedIconSymbolIndex),Fe.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Fe.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Yr("SymbolBucket",no,{omit:["layers","collisionBoxArray","features","compareText"]}),no.MAX_GLYPHS=65535,no.addDynamicAttributes=_p;var f_=new Ba({"symbol-placement":new kr(Le.layout_symbol["symbol-placement"]),"symbol-spacing":new kr(Le.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new kr(Le.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new pi(Le.layout_symbol["symbol-sort-key"]),"symbol-z-order":new kr(Le.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new kr(Le.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new kr(Le.layout_symbol["icon-ignore-placement"]),"icon-optional":new kr(Le.layout_symbol["icon-optional"]),"icon-rotation-alignment":new kr(Le.layout_symbol["icon-rotation-alignment"]),"icon-size":new pi(Le.layout_symbol["icon-size"]),"icon-text-fit":new kr(Le.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new kr(Le.layout_symbol["icon-text-fit-padding"]),"icon-image":new pi(Le.layout_symbol["icon-image"]),"icon-rotate":new pi(Le.layout_symbol["icon-rotate"]),"icon-padding":new kr(Le.layout_symbol["icon-padding"]),"icon-keep-upright":new kr(Le.layout_symbol["icon-keep-upright"]),"icon-offset":new pi(Le.layout_symbol["icon-offset"]),"icon-anchor":new pi(Le.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new kr(Le.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new kr(Le.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new kr(Le.layout_symbol["text-rotation-alignment"]),"text-field":new pi(Le.layout_symbol["text-field"]),"text-font":new pi(Le.layout_symbol["text-font"]),"text-size":new pi(Le.layout_symbol["text-size"]),"text-max-width":new pi(Le.layout_symbol["text-max-width"]),"text-line-height":new kr(Le.layout_symbol["text-line-height"]),"text-letter-spacing":new pi(Le.layout_symbol["text-letter-spacing"]),"text-justify":new pi(Le.layout_symbol["text-justify"]),"text-radial-offset":new pi(Le.layout_symbol["text-radial-offset"]),"text-variable-anchor":new kr(Le.layout_symbol["text-variable-anchor"]),"text-anchor":new pi(Le.layout_symbol["text-anchor"]),"text-max-angle":new kr(Le.layout_symbol["text-max-angle"]),"text-writing-mode":new kr(Le.layout_symbol["text-writing-mode"]),"text-rotate":new pi(Le.layout_symbol["text-rotate"]),"text-padding":new kr(Le.layout_symbol["text-padding"]),"text-keep-upright":new kr(Le.layout_symbol["text-keep-upright"]),"text-transform":new pi(Le.layout_symbol["text-transform"]),"text-offset":new pi(Le.layout_symbol["text-offset"]),"text-allow-overlap":new kr(Le.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new kr(Le.layout_symbol["text-ignore-placement"]),"text-optional":new kr(Le.layout_symbol["text-optional"])}),cg={paint:new Ba({"icon-opacity":new pi(Le.paint_symbol["icon-opacity"]),"icon-color":new pi(Le.paint_symbol["icon-color"]),"icon-halo-color":new pi(Le.paint_symbol["icon-halo-color"]),"icon-halo-width":new pi(Le.paint_symbol["icon-halo-width"]),"icon-halo-blur":new pi(Le.paint_symbol["icon-halo-blur"]),"icon-translate":new kr(Le.paint_symbol["icon-translate"]),"icon-translate-anchor":new kr(Le.paint_symbol["icon-translate-anchor"]),"text-opacity":new pi(Le.paint_symbol["text-opacity"]),"text-color":new pi(Le.paint_symbol["text-color"],{runtimeType:qt,getOverride:function(D){return D.textColor},hasOverride:function(D){return!!D.textColor}}),"text-halo-color":new pi(Le.paint_symbol["text-halo-color"]),"text-halo-width":new pi(Le.paint_symbol["text-halo-width"]),"text-halo-blur":new pi(Le.paint_symbol["text-halo-blur"]),"text-translate":new kr(Le.paint_symbol["text-translate"]),"text-translate-anchor":new kr(Le.paint_symbol["text-translate-anchor"])}),layout:f_},ad=function(D){this.type=D.property.overrides?D.property.overrides.runtimeType:Tt,this.defaultValue=D};ad.prototype.evaluate=function(D){if(D.formattedSection){var F=this.defaultValue.property.overrides;if(F&&F.hasOverride(D.formattedSection))return F.getOverride(D.formattedSection)}return D.feature&&D.featureState?this.defaultValue.evaluate(D.feature,D.featureState):this.defaultValue.property.specification.default},ad.prototype.eachChild=function(D){this.defaultValue.isConstant()||D(this.defaultValue.value._styleExpression.expression)},ad.prototype.outputDefined=function(){return!1},ad.prototype.serialize=function(){return null},Yr("FormatSectionOverride",ad,{omit:["defaultValue"]});var h_=function(D){function F(K){D.call(this,K,cg)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.recalculate=function(K,fe){if(D.prototype.recalculate.call(this,K,fe),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var Se=this.layout.get("text-writing-mode");if(Se){for(var Fe=[],Ye=0,ut=Se;Ye<ut.length;Ye+=1){var _t=ut[Ye];Fe.indexOf(_t)<0&&Fe.push(_t)}this.layout._values["text-writing-mode"]=Fe}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},F.prototype.getValueAndResolveTokens=function(K,fe,Se,Fe){var _t,Ye=this.layout.get(K).evaluate(fe,{},Se,Fe),ut=this._unevaluatedLayout._values[K];return ut.isDataDriven()||ds(ut.value)||!Ye?Ye:(_t=fe.properties,Ye.replace(/{([^{}]+)}/g,function(Ft,Xt){return Xt in _t?String(_t[Xt]):""}))},F.prototype.createBucket=function(K){return new no(K)},F.prototype.queryRadius=function(){return 0},F.prototype.queryIntersectsFeature=function(){return!1},F.prototype._setPaintOverrides=function(){for(var K=0,fe=cg.paint.overridableProperties;K<fe.length;K+=1){var Se=fe[K];if(F.hasPaintOverride(this.layout,Se)){var Fe,Ye=this.paint.get(Se),ut=new ad(Ye),_t=new La(ut,Ye.property.specification);Fe="constant"===Ye.value.kind||"source"===Ye.value.kind?new Di("source",_t):new Ao("composite",_t,Ye.value.zoomStops,Ye.value._interpolationType),this.paint._values[Se]=new Ia(Ye.property,Fe,Ye.parameters)}}},F.prototype._handleOverridablePaintPropertyUpdate=function(K,fe,Se){return!(!this.layout||fe.isDataDriven()||Se.isDataDriven())&&F.hasPaintOverride(this.layout,K)},F.hasPaintOverride=function(K,fe){var Se=K.get("text-field"),Fe=cg.paint.properties[fe],Ye=!1,ut=function(Ft){for(var Xt=0,nn=Ft;Xt<nn.length;Xt+=1)if(Fe.overrides&&Fe.overrides.hasOverride(nn[Xt]))return void(Ye=!0)};if("constant"===Se.value.kind&&Se.value.value instanceof er)ut(Se.value.value.sections);else if("source"===Se.value.kind){var _t=function(Ft){Ye||(Ft instanceof Dr&&mr(Ft.value)===ln?ut(Ft.value.sections):Ft instanceof on?ut(Ft.sections):Ft.eachChild(_t))},Ct=Se.value;Ct._styleExpression&&_t(Ct._styleExpression.expression)}return Ye},F}(rs),fg={paint:new Ba({"background-color":new kr(Le.paint_background["background-color"]),"background-pattern":new Ul(Le.paint_background["background-pattern"]),"background-opacity":new kr(Le.paint_background["background-opacity"])})},d_=function(D){function F(K){D.call(this,K,fg)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F}(rs),D1={paint:new Ba({"raster-opacity":new kr(Le.paint_raster["raster-opacity"]),"raster-hue-rotate":new kr(Le.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new kr(Le.paint_raster["raster-brightness-min"]),"raster-brightness-max":new kr(Le.paint_raster["raster-brightness-max"]),"raster-saturation":new kr(Le.paint_raster["raster-saturation"]),"raster-contrast":new kr(Le.paint_raster["raster-contrast"]),"raster-resampling":new kr(Le.paint_raster["raster-resampling"]),"raster-fade-duration":new kr(Le.paint_raster["raster-fade-duration"])})},xp=function(D){function F(K){D.call(this,K,D1)}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F}(rs),hg=function(D){function F(K){D.call(this,K,{}),this.implementation=K}return D&&(F.__proto__=D),(F.prototype=Object.create(D&&D.prototype)).constructor=F,F.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},F.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},F.prototype.recalculate=function(){},F.prototype.updateTransitions=function(){},F.prototype.hasTransition=function(){},F.prototype.serialize=function(){},F.prototype.onAdd=function(K){this.implementation.onAdd&&this.implementation.onAdd(K,K.painter.context.gl)},F.prototype.onRemove=function(K){this.implementation.onRemove&&this.implementation.onRemove(K,K.painter.context.gl)},F}(rs),O1={circle:r1,heatmap:yi,hillshade:q2,fill:Yh,"fill-extrusion":Jy,line:K2,symbol:h_,background:d_,raster:xp},dg=self.HTMLImageElement,pg=self.HTMLCanvasElement,gg=self.HTMLVideoElement,I1=self.ImageData,bp=self.ImageBitmap,Of=function(D,F,K,fe){this.context=D,this.format=K,this.texture=D.gl.createTexture(),this.update(F,fe)};Of.prototype.update=function(D,F,K){var fe=D.width,Se=D.height,Fe=!(this.size&&this.size[0]===fe&&this.size[1]===Se||K),Ye=this.context,ut=Ye.gl;if(this.useMipmap=Boolean(F&&F.useMipmap),ut.bindTexture(ut.TEXTURE_2D,this.texture),Ye.pixelStoreUnpackFlipY.set(!1),Ye.pixelStoreUnpack.set(1),Ye.pixelStoreUnpackPremultiplyAlpha.set(this.format===ut.RGBA&&(!F||!1!==F.premultiply)),Fe)this.size=[fe,Se],D instanceof dg||D instanceof pg||D instanceof gg||D instanceof I1||bp&&D instanceof bp?ut.texImage2D(ut.TEXTURE_2D,0,this.format,this.format,ut.UNSIGNED_BYTE,D):ut.texImage2D(ut.TEXTURE_2D,0,this.format,fe,Se,0,this.format,ut.UNSIGNED_BYTE,D.data);else{var _t=K||{x:0,y:0},Ct=_t.x,Ft=_t.y;D instanceof dg||D instanceof pg||D instanceof gg||D instanceof I1||bp&&D instanceof bp?ut.texSubImage2D(ut.TEXTURE_2D,0,Ct,Ft,ut.RGBA,ut.UNSIGNED_BYTE,D):ut.texSubImage2D(ut.TEXTURE_2D,0,Ct,Ft,fe,Se,ut.RGBA,ut.UNSIGNED_BYTE,D.data)}this.useMipmap&&this.isSizePowerOfTwo()&&ut.generateMipmap(ut.TEXTURE_2D)},Of.prototype.bind=function(D,F,K){var fe=this.context.gl;fe.bindTexture(fe.TEXTURE_2D,this.texture),K!==fe.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(K=fe.LINEAR),D!==this.filter&&(fe.texParameteri(fe.TEXTURE_2D,fe.TEXTURE_MAG_FILTER,D),fe.texParameteri(fe.TEXTURE_2D,fe.TEXTURE_MIN_FILTER,K||D),this.filter=D),F!==this.wrap&&(fe.texParameteri(fe.TEXTURE_2D,fe.TEXTURE_WRAP_S,F),fe.texParameteri(fe.TEXTURE_2D,fe.TEXTURE_WRAP_T,F),this.wrap=F)},Of.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Of.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var mg=function(D){var F=this;this._callback=D,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){F._triggered=!1,F._callback()})};mg.prototype.trigger=function(){var D=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){D._triggered=!1,D._callback()},0))},mg.prototype.remove=function(){delete this._channel,this._callback=function(){}};var hh=function(D,F,K){this.target=D,this.parent=F,this.mapId=K,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},y(["receive","process"],this),this.invoker=new mg(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=P()?D:self};function Fc(D,F,K){var fe=2*Math.PI*6378137/256/Math.pow(2,K);return[D*fe-2*Math.PI*6378137/2,F*fe-2*Math.PI*6378137/2]}hh.prototype.send=function(D,F,K,fe,Se){var Fe=this;void 0===Se&&(Se=!1);var Ye=Math.round(1e18*Math.random()).toString(36).substring(0,10);K&&(this.callbacks[Ye]=K);var ut=B(this.globalScope)?void 0:[];return this.target.postMessage({id:Ye,type:D,hasCallback:!!K,targetMapId:fe,mustQueue:Se,sourceMapId:this.mapId,data:du(F,ut)},ut),{cancel:function(){K&&delete Fe.callbacks[Ye],Fe.target.postMessage({id:Ye,type:"<cancel>",targetMapId:fe,sourceMapId:Fe.mapId})}}},hh.prototype.receive=function(D){var F=D.data,K=F.id;if(K&&(!F.targetMapId||this.mapId===F.targetMapId))if("<cancel>"===F.type){delete this.tasks[K];var fe=this.cancelCallbacks[K];delete this.cancelCallbacks[K],fe&&fe()}else P()||F.mustQueue?(this.tasks[K]=F,this.taskQueue.push(K),this.invoker.trigger()):this.processTask(K,F)},hh.prototype.process=function(){if(this.taskQueue.length){var D=this.taskQueue.shift(),F=this.tasks[D];delete this.tasks[D],this.taskQueue.length&&this.invoker.trigger(),F&&this.processTask(D,F)}},hh.prototype.processTask=function(D,F){var K=this;if("<response>"===F.type){var fe=this.callbacks[D];delete this.callbacks[D],fe&&(F.error?fe(pu(F.error)):fe(null,pu(F.data)))}else{var Se=!1,Fe=B(this.globalScope)?void 0:[],Ye=F.hasCallback?function(Ft,Xt){Se=!0,delete K.cancelCallbacks[D],K.target.postMessage({id:D,type:"<response>",sourceMapId:K.mapId,error:Ft?du(Ft):null,data:du(Xt,Fe)},Fe)}:function(Ft){Se=!0},ut=null,_t=pu(F.data);if(this.parent[F.type])ut=this.parent[F.type](F.sourceMapId,_t,Ye);else if(this.parent.getWorkerSource){var Ct=F.type.split(".");ut=this.parent.getWorkerSource(F.sourceMapId,Ct[0],_t.source)[Ct[1]](_t,Ye)}else Ye(new Error("Could not find function "+F.type));!Se&&ut&&ut.cancel&&(this.cancelCallbacks[D]=ut.cancel)}},hh.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var la=function(D,F){D&&(F?this.setSouthWest(D).setNorthEast(F):4===D.length?this.setSouthWest([D[0],D[1]]).setNorthEast([D[2],D[3]]):this.setSouthWest(D[0]).setNorthEast(D[1]))};la.prototype.setNorthEast=function(D){return this._ne=D instanceof Jo?new Jo(D.lng,D.lat):Jo.convert(D),this},la.prototype.setSouthWest=function(D){return this._sw=D instanceof Jo?new Jo(D.lng,D.lat):Jo.convert(D),this},la.prototype.extend=function(D){var F,K,fe=this._sw,Se=this._ne;if(D instanceof Jo)F=D,K=D;else{if(!(D instanceof la))return Array.isArray(D)?4===D.length||D.every(Array.isArray)?this.extend(la.convert(D)):this.extend(Jo.convert(D)):this;if(K=D._ne,!(F=D._sw)||!K)return this}return fe||Se?(fe.lng=Math.min(F.lng,fe.lng),fe.lat=Math.min(F.lat,fe.lat),Se.lng=Math.max(K.lng,Se.lng),Se.lat=Math.max(K.lat,Se.lat)):(this._sw=new Jo(F.lng,F.lat),this._ne=new Jo(K.lng,K.lat)),this},la.prototype.getCenter=function(){return new Jo((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},la.prototype.getSouthWest=function(){return this._sw},la.prototype.getNorthEast=function(){return this._ne},la.prototype.getNorthWest=function(){return new Jo(this.getWest(),this.getNorth())},la.prototype.getSouthEast=function(){return new Jo(this.getEast(),this.getSouth())},la.prototype.getWest=function(){return this._sw.lng},la.prototype.getSouth=function(){return this._sw.lat},la.prototype.getEast=function(){return this._ne.lng},la.prototype.getNorth=function(){return this._ne.lat},la.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},la.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},la.prototype.isEmpty=function(){return!(this._sw&&this._ne)},la.prototype.contains=function(D){var F=Jo.convert(D),K=F.lng,fe=F.lat,Fe=this._sw.lng<=K&&K<=this._ne.lng;return this._sw.lng>this._ne.lng&&(Fe=this._sw.lng>=K&&K>=this._ne.lng),this._sw.lat<=fe&&fe<=this._ne.lat&&Fe},la.convert=function(D){return!D||D instanceof la?D:new la(D)};var P1=6371008.8,Jo=function(D,F){if(isNaN(D)||isNaN(F))throw new Error("Invalid LngLat object: ("+D+", "+F+")");if(this.lng=+D,this.lat=+F,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Jo.prototype.wrap=function(){return new Jo(s(this.lng,-180,180),this.lat)},Jo.prototype.toArray=function(){return[this.lng,this.lat]},Jo.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Jo.prototype.distanceTo=function(D){var F=Math.PI/180,K=this.lat*F,fe=D.lat*F,Se=Math.sin(K)*Math.sin(fe)+Math.cos(K)*Math.cos(fe)*Math.cos((D.lng-this.lng)*F);return P1*Math.acos(Math.min(Se,1))},Jo.prototype.toBounds=function(D){void 0===D&&(D=0);var F=360*D/40075017,K=F/Math.cos(Math.PI/180*this.lat);return new la(new Jo(this.lng-K,this.lat-F),new Jo(this.lng+K,this.lat+F))},Jo.convert=function(D){if(D instanceof Jo)return D;if(Array.isArray(D)&&(2===D.length||3===D.length))return new Jo(Number(D[0]),Number(D[1]));if(!Array.isArray(D)&&"object"==typeof D&&null!==D)return new Jo(Number("lng"in D?D.lng:D.lon),Number(D.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var p_=2*Math.PI*P1;function g_(D){return p_*Math.cos(D*Math.PI/180)}function m_(D){return(180+D)/360}function v_(D){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+D*Math.PI/360)))/360}function vg(D,F){return D/g_(F)}function yg(D){return 360/Math.PI*Math.atan(Math.exp((180-360*D)*Math.PI/180))-90}var If=function(D,F,K){void 0===K&&(K=0),this.x=+D,this.y=+F,this.z=+K};If.fromLngLat=function(D,F){void 0===F&&(F=0);var K=Jo.convert(D);return new If(m_(K.lng),v_(K.lat),vg(F,K.lat))},If.prototype.toLngLat=function(){return new Jo(360*this.x-180,yg(this.y))},If.prototype.toAltitude=function(){return this.z*g_(yg(this.y))},If.prototype.meterInMercatorCoordinateUnits=function(){return 1/p_*(D=yg(this.y),1/Math.cos(D*Math.PI/180));var D};var Pf=function(D,F,K){this.z=D,this.x=F,this.y=K,this.key=vu(0,D,D,F,K)};Pf.prototype.equals=function(D){return this.z===D.z&&this.x===D.x&&this.y===D.y},Pf.prototype.url=function(D,F){var K,fe,Se,Fe,Ye,ut=(fe=this.y,Se=this.z,Fe=Fc(256*(K=this.x),256*(fe=Math.pow(2,Se)-fe-1),Se),Ye=Fc(256*(K+1),256*(fe+1),Se),Fe[0]+","+Fe[1]+","+Ye[0]+","+Ye[1]),_t=function(Ct,Ft,Xt){for(var nn,en="",_n=Ct;_n>0;_n--)en+=(Ft&(nn=1<<_n-1)?1:0)+(Xt&nn?2:0);return en}(this.z,this.x,this.y);return D[(this.x+this.y)%D.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===F?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",_t).replace("{bbox-epsg-3857}",ut)},Pf.prototype.getTilePoint=function(D){var F=Math.pow(2,this.z);return new i((D.x*F-this.x)*bi,(D.y*F-this.y)*bi)},Pf.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var R1=function(D,F){this.wrap=D,this.canonical=F,this.key=vu(D,F.z,F.z,F.x,F.y)},ba=function(D,F,K,fe,Se){this.overscaledZ=D,this.wrap=F,this.canonical=new Pf(K,+fe,+Se),this.key=vu(F,D,K,fe,Se)};function vu(D,F,K,fe,Se){(D*=2)<0&&(D=-1*D-1);var Fe=1<<K;return(Fe*Fe*D+Fe*Se+fe).toString(36)+K.toString(36)+F.toString(36)}ba.prototype.equals=function(D){return this.overscaledZ===D.overscaledZ&&this.wrap===D.wrap&&this.canonical.equals(D.canonical)},ba.prototype.scaledTo=function(D){var F=this.canonical.z-D;return D>this.canonical.z?new ba(D,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new ba(D,this.wrap,D,this.canonical.x>>F,this.canonical.y>>F)},ba.prototype.calculateScaledKey=function(D,F){var K=this.canonical.z-D;return D>this.canonical.z?vu(this.wrap*+F,D,this.canonical.z,this.canonical.x,this.canonical.y):vu(this.wrap*+F,D,D,this.canonical.x>>K,this.canonical.y>>K)},ba.prototype.isChildOf=function(D){if(D.wrap!==this.wrap)return!1;var F=this.canonical.z-D.canonical.z;return 0===D.overscaledZ||D.overscaledZ<this.overscaledZ&&D.canonical.x===this.canonical.x>>F&&D.canonical.y===this.canonical.y>>F},ba.prototype.children=function(D){if(this.overscaledZ>=D)return[new ba(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var F=this.canonical.z+1,K=2*this.canonical.x,fe=2*this.canonical.y;return[new ba(F,this.wrap,F,K,fe),new ba(F,this.wrap,F,K+1,fe),new ba(F,this.wrap,F,K,fe+1),new ba(F,this.wrap,F,K+1,fe+1)]},ba.prototype.isLessThan=function(D){return this.wrap<D.wrap||!(this.wrap>D.wrap)&&(this.overscaledZ<D.overscaledZ||!(this.overscaledZ>D.overscaledZ)&&(this.canonical.x<D.canonical.x||!(this.canonical.x>D.canonical.x)&&this.canonical.y<D.canonical.y))},ba.prototype.wrapped=function(){return new ba(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},ba.prototype.unwrapTo=function(D){return new ba(this.overscaledZ,D,this.canonical.z,this.canonical.x,this.canonical.y)},ba.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},ba.prototype.toUnwrapped=function(){return new R1(this.wrap,this.canonical)},ba.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},ba.prototype.getTilePoint=function(D){return this.canonical.getTilePoint(new If(D.x-this.wrap,D.y))},Yr("CanonicalTileID",Pf),Yr("OverscaledTileID",ba,{omit:["posMatrix"]});var yu=function(D,F,K){if(this.uid=D,F.height!==F.width)throw new RangeError("DEM tiles must be square");if(K&&"mapbox"!==K&&"terrarium"!==K)return O('"'+K+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=F.height;var fe=this.dim=F.height-2;this.data=new Uint32Array(F.data.buffer),this.encoding=K||"mapbox";for(var Se=0;Se<fe;Se++)this.data[this._idx(-1,Se)]=this.data[this._idx(0,Se)],this.data[this._idx(fe,Se)]=this.data[this._idx(fe-1,Se)],this.data[this._idx(Se,-1)]=this.data[this._idx(Se,0)],this.data[this._idx(Se,fe)]=this.data[this._idx(Se,fe-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(fe,-1)]=this.data[this._idx(fe-1,0)],this.data[this._idx(-1,fe)]=this.data[this._idx(0,fe-1)],this.data[this._idx(fe,fe)]=this.data[this._idx(fe-1,fe-1)]};yu.prototype.get=function(D,F){var K=new Uint8Array(this.data.buffer),fe=4*this._idx(D,F);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(K[fe],K[fe+1],K[fe+2])},yu.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},yu.prototype._idx=function(D,F){if(D<-1||D>=this.dim+1||F<-1||F>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(F+1)*this.stride+(D+1)},yu.prototype._unpackMapbox=function(D,F,K){return(256*D*256+256*F+K)/10-1e4},yu.prototype._unpackTerrarium=function(D,F,K){return 256*D+F+K/256-32768},yu.prototype.getPixels=function(){return new is({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},yu.prototype.backfillBorder=function(D,F,K){if(this.dim!==D.dim)throw new Error("dem dimension mismatch");var fe=F*this.dim,Se=F*this.dim+this.dim,Fe=K*this.dim,Ye=K*this.dim+this.dim;switch(F){case-1:fe=Se-1;break;case 1:Se=fe+1}switch(K){case-1:Fe=Ye-1;break;case 1:Ye=Fe+1}for(var ut=-F*this.dim,_t=-K*this.dim,Ct=Fe;Ct<Ye;Ct++)for(var Ft=fe;Ft<Se;Ft++)this.data[this._idx(Ft,Ct)]=D.data[this._idx(Ft+ut,Ct+_t)]},Yr("DEMData",yu);var sd=function(D){this._stringToNumber={},this._numberToString=[];for(var F=0;F<D.length;F++){var K=D[F];this._stringToNumber[K]=F,this._numberToString[F]=K}};sd.prototype.encode=function(D){return this._stringToNumber[D]},sd.prototype.decode=function(D){return this._numberToString[D]};var ld=function(D,F,K,fe,Se){this.type="Feature",this._vectorTileFeature=D,D._z=F,D._x=K,D._y=fe,this.properties=D.properties,this.id=Se},wp={geometry:{configurable:!0}};wp.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},wp.geometry.set=function(D){this._geometry=D},ld.prototype.toJSON=function(){var D={geometry:this.geometry};for(var F in this)"_geometry"!==F&&"_vectorTileFeature"!==F&&(D[F]=this[F]);return D},Object.defineProperties(ld.prototype,wp);var ud=function(){this.state={},this.stateChanges={},this.deletedStates={}};ud.prototype.updateState=function(D,F,K){var fe=String(F);if(this.stateChanges[D]=this.stateChanges[D]||{},this.stateChanges[D][fe]=this.stateChanges[D][fe]||{},d(this.stateChanges[D][fe],K),null===this.deletedStates[D])for(var Se in this.deletedStates[D]={},this.state[D])Se!==fe&&(this.deletedStates[D][Se]=null);else if(this.deletedStates[D]&&null===this.deletedStates[D][fe])for(var Fe in this.deletedStates[D][fe]={},this.state[D][fe])K[Fe]||(this.deletedStates[D][fe][Fe]=null);else for(var Ye in K)this.deletedStates[D]&&this.deletedStates[D][fe]&&null===this.deletedStates[D][fe][Ye]&&delete this.deletedStates[D][fe][Ye]},ud.prototype.removeFeatureState=function(D,F,K){if(null!==this.deletedStates[D]){var fe=String(F);if(this.deletedStates[D]=this.deletedStates[D]||{},K&&void 0!==F)null!==this.deletedStates[D][fe]&&(this.deletedStates[D][fe]=this.deletedStates[D][fe]||{},this.deletedStates[D][fe][K]=null);else if(void 0!==F)if(this.stateChanges[D]&&this.stateChanges[D][fe])for(K in this.deletedStates[D][fe]={},this.stateChanges[D][fe])this.deletedStates[D][fe][K]=null;else this.deletedStates[D][fe]=null;else this.deletedStates[D]=null}},ud.prototype.getState=function(D,F){var K=String(F),Fe=d({},(this.state[D]||{})[K],(this.stateChanges[D]||{})[K]);if(null===this.deletedStates[D])return{};if(this.deletedStates[D]){var Ye=this.deletedStates[D][F];if(null===Ye)return{};for(var ut in Ye)delete Fe[ut]}return Fe},ud.prototype.initializeTileState=function(D,F){D.setFeatureState(this.state,F)},ud.prototype.coalesceChanges=function(D,F){var K={};for(var fe in this.stateChanges){this.state[fe]=this.state[fe]||{};var Se={};for(var Fe in this.stateChanges[fe])this.state[fe][Fe]||(this.state[fe][Fe]={}),d(this.state[fe][Fe],this.stateChanges[fe][Fe]),Se[Fe]=this.state[fe][Fe];K[fe]=Se}for(var Ye in this.deletedStates){this.state[Ye]=this.state[Ye]||{};var ut={};if(null===this.deletedStates[Ye])for(var _t in this.state[Ye])ut[_t]={},this.state[Ye][_t]={};else for(var Ct in this.deletedStates[Ye]){if(null===this.deletedStates[Ye][Ct])this.state[Ye][Ct]={};else for(var Ft=0,Xt=Object.keys(this.deletedStates[Ye][Ct]);Ft<Xt.length;Ft+=1)delete this.state[Ye][Ct][Xt[Ft]];ut[Ct]=this.state[Ye][Ct]}K[Ye]=K[Ye]||{},d(K[Ye],ut)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(K).length)for(var en in D)D[en].setFeatureState(K,F)};var af=function(D,F){this.tileID=D,this.x=D.canonical.x,this.y=D.canonical.y,this.z=D.canonical.z,this.grid=new xa(bi,16,0),this.grid3D=new xa(bi,16,0),this.featureIndexArray=new Mn,this.promoteId=F};function y_(D,F,K,fe,Se){return m(D,function(Fe,Ye){var ut=F instanceof vs?F.get(Ye):null;return ut&&ut.evaluate?ut.evaluate(K,fe,Se):ut})}function Tp(D){for(var F=1/0,K=1/0,fe=-1/0,Se=-1/0,Fe=0,Ye=D;Fe<Ye.length;Fe+=1){var ut=Ye[Fe];F=Math.min(F,ut.x),K=Math.min(K,ut.y),fe=Math.max(fe,ut.x),Se=Math.max(Se,ut.y)}return{minX:F,minY:K,maxX:fe,maxY:Se}}function _g(D,F){return F-D}af.prototype.insert=function(D,F,K,fe,Se,Fe){var Ye=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(K,fe,Se);for(var ut=Fe?this.grid3D:this.grid,_t=0;_t<F.length;_t++){for(var Ct=F[_t],Ft=[1/0,1/0,-1/0,-1/0],Xt=0;Xt<Ct.length;Xt++){var nn=Ct[Xt];Ft[0]=Math.min(Ft[0],nn.x),Ft[1]=Math.min(Ft[1],nn.y),Ft[2]=Math.max(Ft[2],nn.x),Ft[3]=Math.max(Ft[3],nn.y)}Ft[0]<bi&&Ft[1]<bi&&Ft[2]>=0&&Ft[3]>=0&&ut.insert(Ye,Ft[0],Ft[1],Ft[2],Ft[3])}},af.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new ih.VectorTile(new ap(this.rawTileData)).layers,this.sourceLayerCoder=new sd(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},af.prototype.query=function(D,F,K,fe){var Se=this;this.loadVTLayers();for(var Fe=D.params||{},Ye=bi/D.tileSize/D.scale,ut=Al(Fe.filter),_t=D.queryGeometry,Ct=D.queryPadding*Ye,Ft=Tp(_t),Xt=this.grid.query(Ft.minX-Ct,Ft.minY-Ct,Ft.maxX+Ct,Ft.maxY+Ct),nn=Tp(D.cameraQueryGeometry),en=0,_n=this.grid3D.query(nn.minX-Ct,nn.minY-Ct,nn.maxX+Ct,nn.maxY+Ct,function(pr,yr,br,Gr){return function(Nr,Xr,si,Ci,ci){for(var Si=0,di=Nr;Si<di.length;Si+=1){var ui=di[Si];if(Xr<=ui.x&&si<=ui.y&&Ci>=ui.x&&ci>=ui.y)return!0}var Zi=[new i(Xr,si),new i(Xr,ci),new i(Ci,ci),new i(Ci,si)];if(Nr.length>2)for(var Fi=0,Co=Zi;Fi<Co.length;Fi+=1)if(Ic(Nr,Co[Fi]))return!0;for(var wi=0;wi<Nr.length-1;wi++)if(Zd(Nr[wi],Nr[wi+1],Zi))return!0;return!1}(D.cameraQueryGeometry,pr-Ct,yr-Ct,br+Ct,Gr+Ct)});en<_n.length;en+=1)Xt.push(_n[en]);Xt.sort(_g);for(var Qn,Kn={},or=function(pr){var yr=Xt[pr];if(yr!==Qn){Qn=yr;var br=Se.featureIndexArray.get(yr),Gr=null;Se.loadMatchingFeature(Kn,br.bucketIndex,br.sourceLayerIndex,br.featureIndex,ut,Fe.layers,Fe.availableImages,F,K,fe,function(Nr,Xr,si){return Gr||(Gr=$o(Nr)),Xr.queryIntersectsFeature(_t,Nr,si,Gr,Se.z,D.transform,Ye,D.pixelPosMatrix)})}},lr=0;lr<Xt.length;lr++)or(lr);return Kn},af.prototype.loadMatchingFeature=function(D,F,K,fe,Se,Fe,Ye,ut,_t,Ct,Ft){var Xt=this.bucketLayerIDs[F];if(!Fe||function(Gr,Nr){for(var Xr=0;Xr<Gr.length;Xr++)if(Nr.indexOf(Gr[Xr])>=0)return!0;return!1}(Fe,Xt)){var nn=this.sourceLayerCoder.decode(K),en=this.vtLayers[nn].feature(fe);if(Se.filter(new io(this.tileID.overscaledZ),en))for(var _n=this.getId(en,nn),Pn=0;Pn<Xt.length;Pn++){var Qn=Xt[Pn];if(!(Fe&&Fe.indexOf(Qn)<0)){var Kn=ut[Qn];if(Kn){var or={};void 0!==_n&&Ct&&(or=Ct.getState(Kn.sourceLayer||"_geojsonTileLayer",_n));var lr=_t[Qn];lr.paint=y_(lr.paint,Kn.paint,en,or,Ye),lr.layout=y_(lr.layout,Kn.layout,en,or,Ye);var pr=!Ft||Ft(en,Kn,or);if(pr){var yr=new ld(en,this.z,this.x,this.y,_n);yr.layer=lr;var br=D[Qn];void 0===br&&(br=D[Qn]=[]),br.push({featureIndex:fe,feature:yr,intersectionZ:pr})}}}}}},af.prototype.lookupSymbolFeatures=function(D,F,K,fe,Se,Fe,Ye,ut){var _t={};this.loadVTLayers();for(var Ct=Al(Se),Ft=0,Xt=D;Ft<Xt.length;Ft+=1)this.loadMatchingFeature(_t,K,fe,Xt[Ft],Ct,Fe,Ye,ut,F);return _t},af.prototype.hasLayer=function(D){for(var F=0,K=this.bucketLayerIDs;F<K.length;F+=1)for(var fe=0,Se=K[F];fe<Se.length;fe+=1)if(D===Se[fe])return!0;return!1},af.prototype.getId=function(D,F){var K=D.id;return this.promoteId&&"boolean"==typeof(K=D.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[F]])&&(K=Number(K)),K},Yr("FeatureIndex",af,{omit:["rawTileData","sourceLayerCoder"]});var _s=function(D,F){this.tileID=D,this.uid=p(),this.uses=0,this.tileSize=F,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};_s.prototype.registerFadeDuration=function(D){var F=D+this.timeAdded;F<X.now()||this.fadeEndTime&&F<this.fadeEndTime||(this.fadeEndTime=F)},_s.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},_s.prototype.loadVectorData=function(D,F,K){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",D){for(var fe in D.featureIndex&&(this.latestFeatureIndex=D.featureIndex,D.rawTileData?(this.latestRawTileData=D.rawTileData,this.latestFeatureIndex.rawTileData=D.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=D.collisionBoxArray,this.buckets=function(Ct,Ft){var Xt={};if(!Ft)return Xt;for(var nn=function(){var Pn=_n[en],Qn=Pn.layerIds.map(function(pr){return Ft.getLayer(pr)}).filter(Boolean);if(0!==Qn.length){Pn.layers=Qn,Pn.stateDependentLayerIds&&(Pn.stateDependentLayers=Pn.stateDependentLayerIds.map(function(pr){return Qn.filter(function(yr){return yr.id===pr})[0]}));for(var Kn=0,or=Qn;Kn<or.length;Kn+=1)Xt[or[Kn].id]=Pn}},en=0,_n=Ct;en<_n.length;en+=1)nn();return Xt}(D.buckets,F.style),this.hasSymbolBuckets=!1,this.buckets){var Se=this.buckets[fe];if(Se instanceof no){if(this.hasSymbolBuckets=!0,!K)break;Se.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var Fe in this.buckets){var Ye=this.buckets[Fe];if(Ye instanceof no&&Ye.hasRTLText){this.hasRTLText=!0,ts.isLoading()||ts.isLoaded()||"deferred"!==es()||Xo();break}}for(var ut in this.queryPadding=0,this.buckets){var _t=this.buckets[ut];this.queryPadding=Math.max(this.queryPadding,F.style.getLayer(ut).queryRadius(_t))}D.imageAtlas&&(this.imageAtlas=D.imageAtlas),D.glyphAtlasImage&&(this.glyphAtlasImage=D.glyphAtlasImage)}else this.collisionBoxArray=new rt},_s.prototype.unloadVectorData=function(){for(var D in this.buckets)this.buckets[D].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},_s.prototype.getBucket=function(D){return this.buckets[D.id]},_s.prototype.upload=function(D){for(var F in this.buckets){var K=this.buckets[F];K.uploadPending()&&K.upload(D)}var fe=D.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Of(D,this.imageAtlas.image,fe.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Of(D,this.glyphAtlasImage,fe.ALPHA),this.glyphAtlasImage=null)},_s.prototype.prepare=function(D){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(D,this.imageAtlasTexture)},_s.prototype.queryRenderedFeatures=function(D,F,K,fe,Se,Fe,Ye,ut,_t,Ct){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:fe,cameraQueryGeometry:Se,scale:Fe,tileSize:this.tileSize,pixelPosMatrix:Ct,transform:ut,params:Ye,queryPadding:this.queryPadding*_t},D,F,K):{}},_s.prototype.querySourceFeatures=function(D,F){var K=this.latestFeatureIndex;if(K&&K.rawTileData){var fe=K.loadVTLayers(),Se=F?F.sourceLayer:"",Fe=fe._geojsonTileLayer||fe[Se];if(Fe)for(var Ye=Al(F&&F.filter),ut=this.tileID.canonical,_t=ut.z,Ct=ut.x,Ft=ut.y,Xt={z:_t,x:Ct,y:Ft},nn=0;nn<Fe.length;nn++){var en=Fe.feature(nn);if(Ye.filter(new io(this.tileID.overscaledZ),en)){var _n=K.getId(en,Se),Pn=new ld(en,_t,Ct,Ft,_n);Pn.tile=Xt,D.push(Pn)}}}},_s.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},_s.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},_s.prototype.setExpiryData=function(D){var F=this.expirationTime;if(D.cacheControl){var K=L(D.cacheControl);K["max-age"]&&(this.expirationTime=Date.now()+1e3*K["max-age"])}else D.expires&&(this.expirationTime=new Date(D.expires).getTime());if(this.expirationTime){var fe=Date.now(),Se=!1;if(this.expirationTime>fe)Se=!1;else if(F)if(this.expirationTime<F)Se=!0;else{var Fe=this.expirationTime-F;Fe?this.expirationTime=fe+Math.max(Fe,3e4):Se=!0}else Se=!0;Se?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},_s.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},_s.prototype.setFeatureState=function(D,F){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(D).length){var K=this.latestFeatureIndex.loadVTLayers();for(var fe in this.buckets)if(F.style.hasLayer(fe)){var Se=this.buckets[fe],Fe=Se.layers[0].sourceLayer||"_geojsonTileLayer",Ye=K[Fe],ut=D[Fe];if(Ye&&ut&&0!==Object.keys(ut).length){Se.update(ut,Ye,this.imageAtlas&&this.imageAtlas.patternPositions||{});var _t=F&&F.style&&F.style.getLayer(fe);_t&&(this.queryPadding=Math.max(this.queryPadding,_t.queryRadius(Se)))}}}},_s.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},_s.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<X.now()},_s.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},_s.prototype.setHoldDuration=function(D){this.symbolFadeHoldUntil=X.now()+D},_s.prototype.setDependencies=function(D,F){for(var K={},fe=0,Se=F;fe<Se.length;fe+=1)K[Se[fe]]=!0;this.dependencies[D]=K},_s.prototype.hasDependency=function(D,F){for(var K=0,fe=D;K<fe.length;K+=1){var Fe=this.dependencies[fe[K]];if(Fe)for(var Ye=0,ut=F;Ye<ut.length;Ye+=1)if(Fe[ut[Ye]])return!0}return!1};var Rf=self.performance,xg=function(D){this._marks={start:[D.url,"start"].join("#"),end:[D.url,"end"].join("#"),measure:D.url.toString()},Rf.mark(this._marks.start)};xg.prototype.finish=function(){Rf.mark(this._marks.end);var D=Rf.getEntriesByName(this._marks.measure);return 0===D.length&&(Rf.measure(this._marks.measure,this._marks.start,this._marks.end),D=Rf.getEntriesByName(this._marks.measure),Rf.clearMarks(this._marks.start),Rf.clearMarks(this._marks.end),Rf.clearMeasures(this._marks.measure)),D},f.Actor=hh,f.AlphaImage=Pc,f.CanonicalTileID=Pf,f.CollisionBoxArray=rt,f.Color=En,f.DEMData=yu,f.DataConstantProperty=kr,f.DictionaryCoder=sd,f.EXTENT=bi,f.ErrorEvent=ot,f.EvaluationParameters=io,f.Event=$e,f.Evented=dt,f.FeatureIndex=af,f.FillBucket=Vl,f.FillExtrusionBucket=Wu,f.ImageAtlas=kf,f.ImagePosition=up,f.LineBucket=$s,f.LngLat=Jo,f.LngLatBounds=la,f.MercatorCoordinate=If,f.ONE_EM=24,f.OverscaledTileID=ba,f.Point=i,f.Point$1=i,f.Properties=Ba,f.Protobuf=ap,f.RGBAImage=is,f.RequestManager=he,f.RequestPerformance=xg,f.ResourceType=mt,f.SegmentVector=hn,f.SourceFeatureState=ud,f.StructArrayLayout1ui2=Ie,f.StructArrayLayout2f1f2i16=we,f.StructArrayLayout2i4=it,f.StructArrayLayout3ui6=Ze,f.StructArrayLayout4i8=lt,f.SymbolBucket=no,f.Texture=Of,f.Tile=_s,f.Transitionable=ns,f.Uniform1f=ki,f.Uniform1i=Ti,f.Uniform2f=Rr,f.Uniform3f=ei,f.Uniform4f=vi,f.UniformColor=xi,f.UniformMatrix4f=Vi,f.UnwrappedTileID=R1,f.ValidationError=Ge,f.WritingMode=El,f.ZoomHistory=Vu,f.add=function(D,F,K){return D[0]=F[0]+K[0],D[1]=F[1]+K[1],D[2]=F[2]+K[2],D},f.addDynamicAttributes=_p,f.asyncAll=function(D,F,K){if(!D.length)return K(null,[]);var fe=D.length,Se=new Array(D.length),Fe=null;D.forEach(function(Ye,ut){F(Ye,function(_t,Ct){_t&&(Fe=_t),Se[ut]=Ct,0==--fe&&K(Fe,Se)})})},f.bezier=a,f.bindAll=y,f.browser=X,f.cacheEntryPossiblyAdded=function(D){++ht>ve&&(D.getActor().send("enforceCacheSizeLimit",Ve),ht=0)},f.clamp=l,f.clearTileCache=function(D){var F=self.caches.delete(Be);D&&F.catch(D).then(function(){return D()})},f.clipLine=sg,f.clone=function(D){var F=new iu(16);return F[0]=D[0],F[1]=D[1],F[2]=D[2],F[3]=D[3],F[4]=D[4],F[5]=D[5],F[6]=D[6],F[7]=D[7],F[8]=D[8],F[9]=D[9],F[10]=D[10],F[11]=D[11],F[12]=D[12],F[13]=D[13],F[14]=D[14],F[15]=D[15],F},f.clone$1=k,f.clone$2=function(D){var F=new iu(3);return F[0]=D[0],F[1]=D[1],F[2]=D[2],F},f.collisionCircleLayout=$0,f.config=$,f.create=function(){var D=new iu(16);return iu!=Float32Array&&(D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[11]=0,D[12]=0,D[13]=0,D[14]=0),D[0]=1,D[5]=1,D[10]=1,D[15]=1,D},f.create$1=function(){var D=new iu(9);return iu!=Float32Array&&(D[1]=0,D[2]=0,D[3]=0,D[5]=0,D[6]=0,D[7]=0),D[0]=1,D[4]=1,D[8]=1,D},f.create$2=function(){var D=new iu(4);return iu!=Float32Array&&(D[1]=0,D[2]=0),D[0]=1,D[3]=1,D},f.createCommonjsModule=S,f.createExpression=ai,f.createLayout=gi,f.createStyleLayer=function(D){return"custom"===D.type?new hg(D):new O1[D.type](D)},f.cross=function(D,F,K){var fe=F[0],Se=F[1],Fe=F[2],Ye=K[0],ut=K[1],_t=K[2];return D[0]=Se*_t-Fe*ut,D[1]=Fe*Ye-fe*_t,D[2]=fe*ut-Se*Ye,D},f.deepEqual=function D(F,K){if(Array.isArray(F)){if(!Array.isArray(K)||F.length!==K.length)return!1;for(var fe=0;fe<F.length;fe++)if(!D(F[fe],K[fe]))return!1;return!0}if("object"==typeof F&&null!==F&&null!==K){if("object"!=typeof K||Object.keys(F).length!==Object.keys(K).length)return!1;for(var Se in F)if(!D(F[Se],K[Se]))return!1;return!0}return F===K},f.dot=function(D,F){return D[0]*F[0]+D[1]*F[1]+D[2]*F[2]},f.dot$1=function(D,F){return D[0]*F[0]+D[1]*F[1]+D[2]*F[2]+D[3]*F[3]},f.ease=o,f.emitValidationErrors=ll,f.endsWith=w,f.enforceCacheSizeLimit=function(D){Te(),Oe&&Oe.then(function(F){F.keys().then(function(K){for(var fe=0;fe<K.length-D;fe++)F.delete(K[fe])})})},f.evaluateSizeForFeature=ig,f.evaluateSizeForZoom=hp,f.evaluateVariableOffset=vp,f.evented=Ps,f.extend=d,f.featureFilter=Al,f.filterObject=b,f.fromRotation=function(D,F){var K=Math.sin(F),fe=Math.cos(F);return D[0]=fe,D[1]=K,D[2]=0,D[3]=-K,D[4]=fe,D[5]=0,D[6]=0,D[7]=0,D[8]=1,D},f.getAnchorAlignment=ng,f.getAnchorJustification=od,f.getArrayBuffer=Bt,f.getImage=Gt,f.getJSON=function(D,F){return Pt(d(D,{type:"json"}),F)},f.getRTLTextPluginStatus=es,f.getReferrer=Rt,f.getVideo=function(D,F){var K,fe,Se=self.document.createElement("video");Se.muted=!0,Se.onloadstart=function(){F(null,Se)};for(var Fe=0;Fe<D.length;Fe++){var Ye=self.document.createElement("source");K=D[Fe],fe=void 0,(fe=self.document.createElement("a")).href=K,fe.protocol===self.document.location.protocol&&fe.host===self.document.location.host||(Se.crossOrigin="Anonymous"),Ye.src=D[Fe],Se.appendChild(Ye)}return{cancel:function(){}}},f.identity=Jd,f.invert=function(D,F){var K=F[0],fe=F[1],Se=F[2],Fe=F[3],Ye=F[4],ut=F[5],_t=F[6],Ct=F[7],Ft=F[8],Xt=F[9],nn=F[10],en=F[11],_n=F[12],Pn=F[13],Qn=F[14],Kn=F[15],or=K*ut-fe*Ye,lr=K*_t-Se*Ye,pr=K*Ct-Fe*Ye,yr=fe*_t-Se*ut,br=fe*Ct-Fe*ut,Gr=Se*Ct-Fe*_t,Nr=Ft*Pn-Xt*_n,Xr=Ft*Qn-nn*_n,si=Ft*Kn-en*_n,Ci=Xt*Qn-nn*Pn,ci=Xt*Kn-en*Pn,Si=nn*Kn-en*Qn,di=or*Si-lr*ci+pr*Ci+yr*si-br*Xr+Gr*Nr;return di?(D[0]=(ut*Si-_t*ci+Ct*Ci)*(di=1/di),D[1]=(Se*ci-fe*Si-Fe*Ci)*di,D[2]=(Pn*Gr-Qn*br+Kn*yr)*di,D[3]=(nn*br-Xt*Gr-en*yr)*di,D[4]=(_t*si-Ye*Si-Ct*Xr)*di,D[5]=(K*Si-Se*si+Fe*Xr)*di,D[6]=(Qn*pr-_n*Gr-Kn*lr)*di,D[7]=(Ft*Gr-nn*pr+en*lr)*di,D[8]=(Ye*ci-ut*si+Ct*Nr)*di,D[9]=(fe*si-K*ci-Fe*Nr)*di,D[10]=(_n*br-Pn*pr+Kn*or)*di,D[11]=(Xt*pr-Ft*br-en*or)*di,D[12]=(ut*Xr-Ye*Ci-_t*Nr)*di,D[13]=(K*Ci-fe*Xr+Se*Nr)*di,D[14]=(Pn*lr-_n*yr-Qn*or)*di,D[15]=(Ft*yr-Xt*lr+nn*or)*di,D):null},f.isChar=Jr,f.isMapboxURL=ge,f.keysDifference=function(D,F){var K=[];for(var fe in D)fe in F||K.push(fe);return K},f.makeRequest=Pt,f.mapObject=m,f.mercatorXfromLng=m_,f.mercatorYfromLat=v_,f.mercatorZfromAltitude=vg,f.mul=Jf,f.multiply=R0,f.mvt=ih,f.normalize=function(D,F){var K=F[0],fe=F[1],Se=F[2],Fe=K*K+fe*fe+Se*Se;return Fe>0&&(Fe=1/Math.sqrt(Fe)),D[0]=F[0]*Fe,D[1]=F[1]*Fe,D[2]=F[2]*Fe,D},f.number=oi,f.offscreenCanvasSupported=ft,f.ortho=function(D,F,K,fe,Se,Fe,Ye){var ut=1/(F-K),_t=1/(fe-Se),Ct=1/(Fe-Ye);return D[0]=-2*ut,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=-2*_t,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=2*Ct,D[11]=0,D[12]=(F+K)*ut,D[13]=(Se+fe)*_t,D[14]=(Ye+Fe)*Ct,D[15]=1,D},f.parseGlyphPBF=function(D){return new ap(D).readFields(a_,[])},f.pbf=ap,f.performSymbolLayout=function(D,F,K,fe,Se,Fe,Ye){D.createArrays(),D.tilePixelRatio=bi/(512*D.overscaling),D.compareText={},D.iconsNeedLinear=!1;var _t=D.layers[0].layout,Ct=D.layers[0]._unevaluatedLayout._values,Ft={};if("composite"===D.textSizeData.kind){var Xt=D.textSizeData,en=Xt.maxZoom;Ft.compositeTextSizes=[Ct["text-size"].possiblyEvaluate(new io(Xt.minZoom),Ye),Ct["text-size"].possiblyEvaluate(new io(en),Ye)]}if("composite"===D.iconSizeData.kind){var _n=D.iconSizeData,Qn=_n.maxZoom;Ft.compositeIconSizes=[Ct["icon-size"].possiblyEvaluate(new io(_n.minZoom),Ye),Ct["icon-size"].possiblyEvaluate(new io(Qn),Ye)]}Ft.layoutTextSize=Ct["text-size"].possiblyEvaluate(new io(D.zoom+1),Ye),Ft.layoutIconSize=Ct["icon-size"].possiblyEvaluate(new io(D.zoom+1),Ye),Ft.textMaxSize=Ct["text-size"].possiblyEvaluate(new io(18));for(var Kn=24*_t.get("text-line-height"),or="map"===_t.get("text-rotation-alignment")&&"point"!==_t.get("symbol-placement"),lr=_t.get("text-keep-upright"),pr=_t.get("text-size"),yr=function(){var Nr=Gr[br],Xr=_t.get("text-font").evaluate(Nr,{},Ye).join(","),si=pr.evaluate(Nr,{},Ye),Ci=Ft.layoutTextSize.evaluate(Nr,{},Ye),ci=Ft.layoutIconSize.evaluate(Nr,{},Ye),Si={horizontal:{},vertical:void 0},di=Nr.text,ui=[0,0];if(di){var Zi=di.toString(),Fi=24*_t.get("text-letter-spacing").evaluate(Nr,{},Ye),Co=function(ji){for(var so=0,Ko=ji;so<Ko.length;so+=1)if(Do=Ko[so].charCodeAt(0),Jr.Arabic(Do)||Jr["Arabic Supplement"](Do)||Jr["Arabic Extended-A"](Do)||Jr["Arabic Presentation Forms-A"](Do)||Jr["Arabic Presentation Forms-B"](Do))return!1;var Do;return!0}(Zi)?Fi:0,wi=_t.get("text-anchor").evaluate(Nr,{},Ye),To=_t.get("text-variable-anchor");if(!To){var vo=_t.get("text-radial-offset").evaluate(Nr,{},Ye);ui=vo?vp(wi,[24*vo,mp]):_t.get("text-offset").evaluate(Nr,{},Ye).map(function(ji){return 24*ji})}var Uo=or?"center":_t.get("text-justify").evaluate(Nr,{},Ye),Fo=_t.get("symbol-placement"),Mo="point"===Fo?24*_t.get("text-max-width").evaluate(Nr,{},Ye):0,ja=function(){D.allowVerticalPlacement&&Hu(Zi)&&(Si.vertical=fp(di,F,K,Se,Xr,Mo,Kn,wi,"left",Co,ui,El.vertical,!0,Fo,Ci,si))};if(!or&&To){for(var Vo="auto"===Uo?To.map(function(ji){return od(ji)}):[Uo],Pa=!1,Ho=0;Ho<Vo.length;Ho++){var os=Vo[Ho];if(!Si.horizontal[os])if(Pa)Si.horizontal[os]=Si.horizontal[0];else{var Ns=fp(di,F,K,Se,Xr,Mo,Kn,"center",os,Co,ui,El.horizontal,!1,Fo,Ci,si);Ns&&(Si.horizontal[os]=Ns,Pa=1===Ns.positionedLines.length)}}ja()}else{"auto"===Uo&&(Uo=od(wi));var xs=fp(di,F,K,Se,Xr,Mo,Kn,wi,Uo,Co,ui,El.horizontal,!1,Fo,Ci,si);xs&&(Si.horizontal[Uo]=xs),ja(),Hu(Zi)&&or&&lr&&(Si.vertical=fp(di,F,K,Se,Xr,Mo,Kn,wi,Uo,Co,ui,El.vertical,!1,Fo,Ci,si))}}var ji,so,Do,dl,Ys,Za=void 0,as=!1;if(Nr.icon&&Nr.icon.name){var ga=fe[Nr.icon.name];ga&&(ji=Se[Nr.icon.name],so=_t.get("icon-offset").evaluate(Nr,{},Ye),Do=ng(_t.get("icon-anchor").evaluate(Nr,{},Ye)),Za={image:ji,top:Ys=so[1]-ji.displaySize[1]*Do.verticalAlign,bottom:Ys+ji.displaySize[1],left:dl=so[0]-ji.displaySize[0]*Do.horizontalAlign,right:dl+ji.displaySize[0]},as=ga.sdf,void 0===D.sdfIcons?D.sdfIcons=ga.sdf:D.sdfIcons!==ga.sdf&&O("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(ga.pixelRatio!==D.pixelRatio||0!==_t.get("icon-rotate").constantOr(1))&&(D.iconsNeedLinear=!0))}var Ya=S1(Si.horizontal)||Si.vertical;D.iconsInText=!!Ya&&Ya.iconsInText,(Ya||Za)&&function(ji,so,Ko,Do,Qo,Zo,fo,wa,dl,Fs,Ys){var Dl=Zo.textMaxSize.evaluate(so,{});void 0===Dl&&(Dl=fo);var lo,ss=ji.layers[0].layout,_u=ss.get("icon-offset").evaluate(so,{},Ys),Ta=S1(Ko.horizontal),Lf=fo/24,sf=ji.tilePixelRatio*Lf,Nf=ji.tilePixelRatio*Dl/24,dh=ji.tilePixelRatio*wa,Ff=ji.tilePixelRatio*ss.get("symbol-spacing"),bg=ss.get("text-padding")*ji.tilePixelRatio,ph=ss.get("icon-padding")*ji.tilePixelRatio,$u=ss.get("text-max-angle")/180*Math.PI,Mp="map"===ss.get("text-rotation-alignment")&&"point"!==ss.get("symbol-placement"),Ap="map"===ss.get("icon-rotation-alignment")&&"point"!==ss.get("symbol-placement"),cd=ss.get("symbol-placement"),wg=Ff/2,fd=ss.get("icon-text-fit");Do&&"none"!==fd&&(ji.allowVerticalPlacement&&Ko.vertical&&(lo=x1(Do,Ko.vertical,fd,ss.get("icon-text-fit-padding"),_u,Lf)),Ta&&(Do=x1(Do,Ta,fd,ss.get("icon-text-fit-padding"),_u,Lf)));var zf=function(z1,dd){dd.x<0||dd.x>=bi||dd.y<0||dd.y>=bi||function(Ma,Zu,qi,Hr,Ep,Cg,Dp,vc,pd,gd,md,Op,Eg,__,bh,Dg,Gl,B1,Ip,Pp,au,Og,x_,Bc,b_){var Ig,wh,Th,Yu,Mh,Bf=Ma.addToLineVertexArray(Zu,qi),vd=0,j1=0,Pg=0,U1=0,Rg=-1,Lg=-1,jc={},V1=Xn(""),Rp=0,Ng=0;if(void 0===vc._unevaluatedLayout.getValue("text-radial-offset")?(Rp=(Ig=vc.layout.get("text-offset").evaluate(au,{},Bc).map(function(Sh){return 24*Sh}))[0],Ng=Ig[1]):(Rp=24*vc.layout.get("text-radial-offset").evaluate(au,{},Bc),Ng=mp),Ma.allowVerticalPlacement&&Hr.vertical){var Fg=vc.layout.get("text-rotate").evaluate(au,{},Bc)+90;Yu=new id(pd,Zu,gd,md,Op,Hr.vertical,Eg,__,bh,Fg),Dp&&(Mh=new id(pd,Zu,gd,md,Op,Dp,Gl,B1,bh,Fg))}if(Ep){var yd=vc.layout.get("icon-rotate").evaluate(au,{}),w_="none"!==vc.layout.get("icon-text-fit"),Lp=A1(Ep,yd,x_,w_),zg=Dp?A1(Dp,yd,x_,w_):void 0;Th=new id(pd,Zu,gd,md,Op,Ep,Gl,B1,!1,yd),vd=4*Lp.length;var T_=Ma.iconSizeData,ir=null;"source"===T_.kind?(ir=[gc*vc.layout.get("icon-size").evaluate(au,{})])[0]>mc&&O(Ma.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):"composite"===T_.kind&&((ir=[gc*Og.compositeIconSizes[0].evaluate(au,{},Bc),gc*Og.compositeIconSizes[1].evaluate(au,{},Bc)])[0]>mc||ir[1]>mc)&&O(Ma.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),Ma.addSymbols(Ma.icon,Lp,ir,Pp,Ip,au,!1,Zu,Bf.lineStartIndex,Bf.lineLength,-1,Bc),Rg=Ma.icon.placedSymbolArray.length-1,zg&&(j1=4*zg.length,Ma.addSymbols(Ma.icon,zg,ir,Pp,Ip,au,El.vertical,Zu,Bf.lineStartIndex,Bf.lineLength,-1,Bc),Lg=Ma.icon.placedSymbolArray.length-1)}for(var Bg in Hr.horizontal){var Np=Hr.horizontal[Bg];if(!wh){V1=Xn(Np.text);var G1=vc.layout.get("text-rotate").evaluate(au,{},Bc);wh=new id(pd,Zu,gd,md,Op,Np,Eg,__,bh,G1)}var q1=1===Np.positionedLines.length;if(Pg+=fh(Ma,Zu,Np,Cg,vc,bh,au,Dg,Bf,Hr.vertical?El.horizontal:El.horizontalOnly,q1?Object.keys(Hr.horizontal):[Bg],jc,Rg,Og,Bc),q1)break}Hr.vertical&&(U1+=fh(Ma,Zu,Hr.vertical,Cg,vc,bh,au,Dg,Bf,El.vertical,["vertical"],jc,Lg,Og,Bc));var M_=wh?wh.boxStartIndex:Ma.collisionBoxArray.length,Fp=wh?wh.boxEndIndex:Ma.collisionBoxArray.length,Ah=Yu?Yu.boxStartIndex:Ma.collisionBoxArray.length,jg=Yu?Yu.boxEndIndex:Ma.collisionBoxArray.length,_d=Th?Th.boxStartIndex:Ma.collisionBoxArray.length,Ug=Th?Th.boxEndIndex:Ma.collisionBoxArray.length,zp=Mh?Mh.boxStartIndex:Ma.collisionBoxArray.length,W1=Mh?Mh.boxEndIndex:Ma.collisionBoxArray.length,Nu=-1,kh=function(Sh,jp){return Sh&&Sh.circleDiameter?Math.max(Sh.circleDiameter,jp):jp};Nu=kh(wh,Nu),Nu=kh(Yu,Nu),Nu=kh(Th,Nu);var Bp=(Nu=kh(Mh,Nu))>-1?1:0;Bp&&(Nu*=b_/24),Ma.glyphOffsetArray.length>=no.MAX_GLYPHS&&O("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==au.sortKey&&Ma.addToSortKeyRanges(Ma.symbolInstances.length,au.sortKey),Ma.symbolInstances.emplaceBack(Zu.x,Zu.y,jc.right>=0?jc.right:-1,jc.center>=0?jc.center:-1,jc.left>=0?jc.left:-1,jc.vertical||-1,Rg,Lg,V1,M_,Fp,Ah,jg,_d,Ug,zp,W1,gd,Pg,U1,vd,j1,Bp,0,Eg,Rp,Ng,Nu)}(ji,dd,z1,Ko,Do,Qo,lo,ji.layers[0],ji.collisionBoxArray,so.index,so.sourceLayerIndex,ji.index,sf,bg,Mp,dl,dh,ph,Ap,_u,so,Zo,Fs,Ys,fo)};if("line"===cd)for(var gh=0,zc=sg(so.geometry,0,0,bi,bi);gh<zc.length;gh+=1)for(var Ru=zc[gh],mh=0,kp=Cf(Ru,Ff,$u,Ko.vertical||Ta,Do,24,Nf,ji.overscaling,bi);mh<kp.length;mh+=1){var Tg=kp[mh];Ta&&C1(ji,Ta.text,wg,Tg)||zf(Ru,Tg)}else if("line-center"===cd)for(var Sp=0,vh=so.geometry;Sp<vh.length;Sp+=1){var yh=vh[Sp];if(yh.length>1){var _h=M1(yh,$u,Ko.vertical||Ta,Do,24,Nf);_h&&zf(yh,_h)}}else if("Polygon"===so.type)for(var lf=0,hd=eh(so.geometry,0);lf<hd.length;lf+=1){var xh=hd[lf],L1=k1(xh,16);zf(xh[0],new ch(L1.x,L1.y,0))}else if("LineString"===so.type)for(var Mg=0,Lu=so.geometry;Mg<Lu.length;Mg+=1){var Ag=Lu[Mg];zf(Ag,new ch(Ag[0].x,Ag[0].y,0))}else if("Point"===so.type)for(var Cp=0,N1=so.geometry;Cp<N1.length;Cp+=1)for(var kg=0,F1=N1[Cp];kg<F1.length;kg+=1){var Sg=F1[kg];zf([Sg],new ch(Sg.x,Sg.y,0))}}(D,Nr,Si,Za,fe,Ft,Ci,ci,ui,as,Ye)},br=0,Gr=D.features;br<Gr.length;br+=1)yr();Fe&&D.generateCollisionDebugBuffers()},f.perspective=function(D,F,K,fe,Se){var Fe,Ye=1/Math.tan(F/2);return D[0]=Ye/K,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=Ye,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[11]=-1,D[12]=0,D[13]=0,D[15]=0,null!=Se&&Se!==1/0?(D[10]=(Se+fe)*(Fe=1/(fe-Se)),D[14]=2*Se*fe*Fe):(D[10]=-1,D[14]=-2*fe),D},f.pick=function(D,F){for(var K={},fe=0;fe<F.length;fe++){var Se=F[fe];Se in D&&(K[Se]=D[Se])}return K},f.plugin=ts,f.polygonIntersectsPolygon=pa,f.postMapLoadEvent=Ue,f.postTurnstileEvent=Me,f.potpack=K0,f.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],f.register=Yr,f.registerForPluginStateChange=function(D){return D({pluginStatus:ko,pluginURL:Is}),Ps.on("pluginStateChange",D),D},f.rotate=function(D,F,K){var fe=F[0],Se=F[1],Fe=F[2],Ye=F[3],ut=Math.sin(K),_t=Math.cos(K);return D[0]=fe*_t+Fe*ut,D[1]=Se*_t+Ye*ut,D[2]=fe*-ut+Fe*_t,D[3]=Se*-ut+Ye*_t,D},f.rotateX=function(D,F,K){var fe=Math.sin(K),Se=Math.cos(K),Fe=F[4],Ye=F[5],ut=F[6],_t=F[7],Ct=F[8],Ft=F[9],Xt=F[10],nn=F[11];return F!==D&&(D[0]=F[0],D[1]=F[1],D[2]=F[2],D[3]=F[3],D[12]=F[12],D[13]=F[13],D[14]=F[14],D[15]=F[15]),D[4]=Fe*Se+Ct*fe,D[5]=Ye*Se+Ft*fe,D[6]=ut*Se+Xt*fe,D[7]=_t*Se+nn*fe,D[8]=Ct*Se-Fe*fe,D[9]=Ft*Se-Ye*fe,D[10]=Xt*Se-ut*fe,D[11]=nn*Se-_t*fe,D},f.rotateZ=function(D,F,K){var fe=Math.sin(K),Se=Math.cos(K),Fe=F[0],Ye=F[1],ut=F[2],_t=F[3],Ct=F[4],Ft=F[5],Xt=F[6],nn=F[7];return F!==D&&(D[8]=F[8],D[9]=F[9],D[10]=F[10],D[11]=F[11],D[12]=F[12],D[13]=F[13],D[14]=F[14],D[15]=F[15]),D[0]=Fe*Se+Ct*fe,D[1]=Ye*Se+Ft*fe,D[2]=ut*Se+Xt*fe,D[3]=_t*Se+nn*fe,D[4]=Ct*Se-Fe*fe,D[5]=Ft*Se-Ye*fe,D[6]=Xt*Se-ut*fe,D[7]=nn*Se-_t*fe,D},f.scale=function(D,F,K){var fe=K[0],Se=K[1],Fe=K[2];return D[0]=F[0]*fe,D[1]=F[1]*fe,D[2]=F[2]*fe,D[3]=F[3]*fe,D[4]=F[4]*Se,D[5]=F[5]*Se,D[6]=F[6]*Se,D[7]=F[7]*Se,D[8]=F[8]*Fe,D[9]=F[9]*Fe,D[10]=F[10]*Fe,D[11]=F[11]*Fe,D[12]=F[12],D[13]=F[13],D[14]=F[14],D[15]=F[15],D},f.scale$1=function(D,F,K){return D[0]=F[0]*K,D[1]=F[1]*K,D[2]=F[2]*K,D[3]=F[3]*K,D},f.scale$2=function(D,F,K){return D[0]=F[0]*K,D[1]=F[1]*K,D[2]=F[2]*K,D},f.setCacheLimits=function(D,F){Ve=D,ve=F},f.setRTLTextPlugin=function(D,F,K){if(void 0===K&&(K=!1),ko===Qa||ko===jl||ko===ul)throw new Error("setRTLTextPlugin cannot be called multiple times.");Is=X.resolveURL(D),ko=Qa,mu=F,sa(),K||Xo()},f.sphericalToCartesian=function(D){var F=D[0],K=D[1],fe=D[2];return K+=90,K*=Math.PI/180,fe*=Math.PI/180,{x:F*Math.cos(K)*Math.sin(fe),y:F*Math.sin(K)*Math.sin(fe),z:F*Math.cos(fe)}},f.sqrLen=function(D){var F=D[0],K=D[1];return F*F+K*K},f.styleSpec=Le,f.sub=function(D,F,K){return D[0]=F[0]-K[0],D[1]=F[1]-K[1],D[2]=F[2]-K[2],D},f.symbolSize=b1,f.transformMat3=function(D,F,K){var fe=F[0],Se=F[1],Fe=F[2];return D[0]=fe*K[0]+Se*K[3]+Fe*K[6],D[1]=fe*K[1]+Se*K[4]+Fe*K[7],D[2]=fe*K[2]+Se*K[5]+Fe*K[8],D},f.transformMat4=Kf,f.translate=function(D,F,K){var fe,Se,Fe,Ye,ut,_t,Ct,Ft,Xt,nn,en,_n,Pn=K[0],Qn=K[1],Kn=K[2];return F===D?(D[12]=F[0]*Pn+F[4]*Qn+F[8]*Kn+F[12],D[13]=F[1]*Pn+F[5]*Qn+F[9]*Kn+F[13],D[14]=F[2]*Pn+F[6]*Qn+F[10]*Kn+F[14],D[15]=F[3]*Pn+F[7]*Qn+F[11]*Kn+F[15]):(Se=F[1],Fe=F[2],Ye=F[3],ut=F[4],_t=F[5],Ct=F[6],Ft=F[7],Xt=F[8],nn=F[9],en=F[10],_n=F[11],D[0]=fe=F[0],D[1]=Se,D[2]=Fe,D[3]=Ye,D[4]=ut,D[5]=_t,D[6]=Ct,D[7]=Ft,D[8]=Xt,D[9]=nn,D[10]=en,D[11]=_n,D[12]=fe*Pn+ut*Qn+Xt*Kn+F[12],D[13]=Se*Pn+_t*Qn+nn*Kn+F[13],D[14]=Fe*Pn+Ct*Qn+en*Kn+F[14],D[15]=Ye*Pn+Ft*Qn+_n*Kn+F[15]),D},f.triggerPluginCompletionEvent=co,f.uniqueId=p,f.validateCustomStyleLayer=function(D){var F=[],K=D.id;return void 0===K&&F.push({message:"layers."+K+': missing required property "id"'}),void 0===D.render&&F.push({message:"layers."+K+': missing required method "render"'}),D.renderingMode&&"2d"!==D.renderingMode&&"3d"!==D.renderingMode&&F.push({message:"layers."+K+': property "renderingMode" must be either "2d" or "3d"'}),F},f.validateLight=Ea,f.validateStyle=za,f.values=function(D){var F=[];for(var K in D)F.push(D[K]);return F},f.vectorTile=ih,f.version=M,f.warnOnce=O,f.webpSupported=Q,f.window=self,f.wrap=s}),E(0,function(f){function S(et){var nt=typeof et;if("number"===nt||"boolean"===nt||"string"===nt||null==et)return JSON.stringify(et);if(Array.isArray(et)){for(var $e="[",ot=0,dt=et;ot<dt.length;ot+=1)$e+=S(dt[ot])+",";return $e+"]"}for(var Le=Object.keys(et).sort(),Ge="{",st=0;st<Le.length;st++)Ge+=JSON.stringify(Le[st])+":"+S(et[Le[st]])+",";return Ge+"}"}function M(et){for(var nt="",$e=0,ot=f.refProperties;$e<ot.length;$e+=1)nt+="/"+S(et[ot[$e]]);return nt}var v=function(et){this.keyCache={},et&&this.replace(et)};v.prototype.replace=function(et){this._layerConfigs={},this._layers={},this.update(et,[])},v.prototype.update=function(et,nt){for(var $e=this,ot=0,dt=et;ot<dt.length;ot+=1){var Le=dt[ot];this._layerConfigs[Le.id]=Le;var Ge=this._layers[Le.id]=f.createStyleLayer(Le);Ge._featureFilter=f.featureFilter(Ge.filter),this.keyCache[Le.id]&&delete this.keyCache[Le.id]}for(var st=0,vt=nt;st<vt.length;st+=1){var bt=vt[st];delete this.keyCache[bt],delete this._layerConfigs[bt],delete this._layers[bt]}this.familiesBySource={};for(var Lt=0,jt=function(Qt,Jt){for(var Kt={},ln=0;ln<Qt.length;ln++){var Tn=Jt&&Jt[Qt[ln].id]||M(Qt[ln]);Jt&&(Jt[Qt[ln].id]=Tn);var An=Kt[Tn];An||(An=Kt[Tn]=[]),An.push(Qt[ln])}var pn=[];for(var Nn in Kt)pn.push(Kt[Nn]);return pn}(f.values(this._layerConfigs),this.keyCache);Lt<jt.length;Lt+=1){var Nt=jt[Lt].map(function(Qt){return $e._layers[Qt.id]}),Tt=Nt[0];if("none"!==Tt.visibility){var Mt=Tt.source||"",kt=this.familiesBySource[Mt];kt||(kt=this.familiesBySource[Mt]={});var Ht=Tt.sourceLayer||"_geojsonTileLayer",qt=kt[Ht];qt||(qt=kt[Ht]=[]),qt.push(Nt)}}};var c=function(et){var nt={},$e=[];for(var ot in et){var dt=et[ot],Le=nt[ot]={};for(var Ge in dt){var st=dt[+Ge];if(st&&0!==st.bitmap.width&&0!==st.bitmap.height){var vt={x:0,y:0,w:st.bitmap.width+2,h:st.bitmap.height+2};$e.push(vt),Le[Ge]={rect:vt,metrics:st.metrics}}}}var bt=f.potpack($e),Nt=new f.AlphaImage({width:bt.w||1,height:bt.h||1});for(var Tt in et){var Mt=et[Tt];for(var kt in Mt){var Ht=Mt[+kt];if(Ht&&0!==Ht.bitmap.width&&0!==Ht.bitmap.height){var qt=nt[Tt][kt].rect;f.AlphaImage.copy(Ht.bitmap,Nt,{x:0,y:0},{x:qt.x+1,y:qt.y+1},Ht.bitmap)}}}this.image=Nt,this.positions=nt};f.register("GlyphAtlas",c);var i=function(et){this.tileID=new f.OverscaledTileID(et.tileID.overscaledZ,et.tileID.wrap,et.tileID.canonical.z,et.tileID.canonical.x,et.tileID.canonical.y),this.uid=et.uid,this.zoom=et.zoom,this.pixelRatio=et.pixelRatio,this.tileSize=et.tileSize,this.source=et.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=et.showCollisionBoxes,this.collectResourceTiming=!!et.collectResourceTiming,this.returnDependencies=!!et.returnDependencies,this.promoteId=et.promoteId};function u(et,nt,$e){for(var ot=new f.EvaluationParameters(nt),dt=0,Le=et;dt<Le.length;dt+=1)Le[dt].recalculate(ot,$e)}function a(et,nt){var $e=f.getArrayBuffer(et.request,function(ot,dt,Le,Ge){ot?nt(ot):dt&&nt(null,{vectorTile:new f.vectorTile.VectorTile(new f.pbf(dt)),rawData:dt,cacheControl:Le,expires:Ge})});return function(){$e.cancel(),nt()}}i.prototype.parse=function(et,nt,$e,ot,dt){var Le=this;this.status="parsing",this.data=et,this.collisionBoxArray=new f.CollisionBoxArray;var Ge=new f.DictionaryCoder(Object.keys(et.layers).sort()),st=new f.FeatureIndex(this.tileID,this.promoteId);st.bucketLayerIDs=[];var vt,bt,Lt,jt,Nt={},Tt={featureIndex:st,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:$e},Mt=nt.familiesBySource[this.source];for(var kt in Mt){var Ht=et.layers[kt];if(Ht){1===Ht.version&&f.warnOnce('Vector tile source "'+this.source+'" layer "'+kt+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var qt=Ge.encode(kt),Qt=[],Jt=0;Jt<Ht.length;Jt++){var Kt=Ht.feature(Jt),ln=st.getId(Kt,kt);Qt.push({feature:Kt,id:ln,index:Jt,sourceLayerIndex:qt})}for(var Tn=0,An=Mt[kt];Tn<An.length;Tn+=1){var pn=An[Tn],Nn=pn[0];Nn.minzoom&&this.zoom<Math.floor(Nn.minzoom)||Nn.maxzoom&&this.zoom>=Nn.maxzoom||"none"!==Nn.visibility&&(u(pn,this.zoom,$e),(Nt[Nn.id]=Nn.createBucket({index:st.bucketLayerIDs.length,layers:pn,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:qt,sourceID:this.source})).populate(Qt,Tt,this.tileID.canonical),st.bucketLayerIDs.push(pn.map(function(mn){return mn.id})))}}}var tr=f.mapObject(Tt.glyphDependencies,function(mn){return Object.keys(mn).map(Number)});Object.keys(tr).length?ot.send("getGlyphs",{uid:this.uid,stacks:tr},function(mn,En){vt||(vt=mn,bt=En,Cn.call(Le))}):bt={};var On=Object.keys(Tt.iconDependencies);On.length?ot.send("getImages",{icons:On,source:this.source,tileID:this.tileID,type:"icons"},function(mn,En){vt||(vt=mn,Lt=En,Cn.call(Le))}):Lt={};var wn=Object.keys(Tt.patternDependencies);function Cn(){if(vt)return dt(vt);if(bt&&Lt&&jt){var mn=new c(bt),En=new f.ImageAtlas(Lt,jt);for(var Fn in Nt){var jn=Nt[Fn];jn instanceof f.SymbolBucket?(u(jn.layers,this.zoom,$e),f.performSymbolLayout(jn,bt,mn.positions,Lt,En.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):jn.hasPattern&&(jn instanceof f.LineBucket||jn instanceof f.FillBucket||jn instanceof f.FillExtrusionBucket)&&(u(jn.layers,this.zoom,$e),jn.addFeatures(Tt,this.tileID.canonical,En.patternPositions))}this.status="done",dt(null,{buckets:f.values(Nt).filter(function(er){return!er.isEmpty()}),featureIndex:st,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:mn.image,imageAtlas:En,glyphMap:this.returnDependencies?bt:null,iconMap:this.returnDependencies?Lt:null,glyphPositions:this.returnDependencies?mn.positions:null})}}wn.length?ot.send("getImages",{icons:wn,source:this.source,tileID:this.tileID,type:"patterns"},function(mn,En){vt||(vt=mn,jt=En,Cn.call(Le))}):jt={},Cn.call(this)};var o=function(et,nt,$e,ot){this.actor=et,this.layerIndex=nt,this.availableImages=$e,this.loadVectorData=ot||a,this.loading={},this.loaded={}};o.prototype.loadTile=function(et,nt){var $e=this,ot=et.uid;this.loading||(this.loading={});var dt=!!(et&&et.request&&et.request.collectResourceTiming)&&new f.RequestPerformance(et.request),Le=this.loading[ot]=new i(et);Le.abort=this.loadVectorData(et,function(Ge,st){if(delete $e.loading[ot],Ge||!st)return Le.status="done",$e.loaded[ot]=Le,nt(Ge);var vt=st.rawData,bt={};st.expires&&(bt.expires=st.expires),st.cacheControl&&(bt.cacheControl=st.cacheControl);var Lt={};if(dt){var jt=dt.finish();jt&&(Lt.resourceTiming=JSON.parse(JSON.stringify(jt)))}Le.vectorTile=st.vectorTile,Le.parse(st.vectorTile,$e.layerIndex,$e.availableImages,$e.actor,function(Nt,Tt){if(Nt||!Tt)return nt(Nt);nt(null,f.extend({rawTileData:vt.slice(0)},Tt,bt,Lt))}),$e.loaded=$e.loaded||{},$e.loaded[ot]=Le})},o.prototype.reloadTile=function(et,nt){var $e=this,ot=this.loaded,dt=et.uid,Le=this;if(ot&&ot[dt]){var Ge=ot[dt];Ge.showCollisionBoxes=et.showCollisionBoxes;var st=function(vt,bt){var Lt=Ge.reloadCallback;Lt&&(delete Ge.reloadCallback,Ge.parse(Ge.vectorTile,Le.layerIndex,$e.availableImages,Le.actor,Lt)),nt(vt,bt)};"parsing"===Ge.status?Ge.reloadCallback=st:"done"===Ge.status&&(Ge.vectorTile?Ge.parse(Ge.vectorTile,this.layerIndex,this.availableImages,this.actor,st):st())}},o.prototype.abortTile=function(et,nt){var $e=this.loading,ot=et.uid;$e&&$e[ot]&&$e[ot].abort&&($e[ot].abort(),delete $e[ot]),nt()},o.prototype.removeTile=function(et,nt){var $e=this.loaded,ot=et.uid;$e&&$e[ot]&&delete $e[ot],nt()};var l=f.window.ImageBitmap,s=function(){this.loaded={}};s.prototype.loadTile=function(et,nt){var $e=et.uid,ot=et.encoding,dt=et.rawImageData,Le=l&&dt instanceof l?this.getImageData(dt):dt,Ge=new f.DEMData($e,Le,ot);this.loaded=this.loaded||{},this.loaded[$e]=Ge,nt(null,Ge)},s.prototype.getImageData=function(et){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(et.width,et.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=et.width,this.offscreenCanvas.height=et.height,this.offscreenCanvasContext.drawImage(et,0,0,et.width,et.height);var nt=this.offscreenCanvasContext.getImageData(-1,-1,et.width+2,et.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new f.RGBAImage({width:nt.width,height:nt.height},nt.data)},s.prototype.removeTile=function(et){var nt=this.loaded,$e=et.uid;nt&&nt[$e]&&delete nt[$e]};var d=function et(nt,$e){var ot,dt=nt&&nt.type;if("FeatureCollection"===dt)for(ot=0;ot<nt.features.length;ot++)et(nt.features[ot],$e);else if("GeometryCollection"===dt)for(ot=0;ot<nt.geometries.length;ot++)et(nt.geometries[ot],$e);else if("Feature"===dt)et(nt.geometry,$e);else if("Polygon"===dt)g(nt.coordinates,$e);else if("MultiPolygon"===dt)for(ot=0;ot<nt.coordinates.length;ot++)g(nt.coordinates[ot],$e);return nt};function g(et,nt){if(0!==et.length){p(et[0],nt);for(var $e=1;$e<et.length;$e++)p(et[$e],!nt)}}function p(et,nt){for(var $e=0,ot=0,dt=et.length,Le=dt-1;ot<dt;Le=ot++)$e+=(et[ot][0]-et[Le][0])*(et[Le][1]+et[ot][1]);$e>=0!=!!nt&&et.reverse()}var T=f.vectorTile.VectorTileFeature.prototype.toGeoJSON,_=function(et){this._feature=et,this.extent=f.EXTENT,this.type=et.type,this.properties=et.tags,"id"in et&&!isNaN(et.id)&&(this.id=parseInt(et.id,10))};_.prototype.loadGeometry=function(){if(1===this._feature.type){for(var et=[],nt=0,$e=this._feature.geometry;nt<$e.length;nt+=1){var ot=$e[nt];et.push([new f.Point$1(ot[0],ot[1])])}return et}for(var dt=[],Le=0,Ge=this._feature.geometry;Le<Ge.length;Le+=1){for(var st=[],vt=0,bt=Ge[Le];vt<bt.length;vt+=1){var Lt=bt[vt];st.push(new f.Point$1(Lt[0],Lt[1]))}dt.push(st)}return dt},_.prototype.toGeoJSON=function(et,nt,$e){return T.call(this,et,nt,$e)};var y=function(et){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=f.EXTENT,this.length=et.length,this._features=et};y.prototype.feature=function(et){return new _(this._features[et])};var w=f.vectorTile.VectorTileFeature,m=b;function b(et,nt){this.options=nt||{},this.features=et,this.length=et.length}function k(et,nt){this.id="number"==typeof et.id?et.id:void 0,this.type=et.type,this.rawGeometry=1===et.type?[et.geometry]:et.geometry,this.properties=et.tags,this.extent=nt||4096}b.prototype.feature=function(et){return new k(this.features[et],this.options.extent)},k.prototype.loadGeometry=function(){var et=this.rawGeometry;this.geometry=[];for(var nt=0;nt<et.length;nt++){for(var $e=et[nt],ot=[],dt=0;dt<$e.length;dt++)ot.push(new f.Point$1($e[dt][0],$e[dt][1]));this.geometry.push(ot)}return this.geometry},k.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var et=this.geometry,nt=1/0,$e=-1/0,ot=1/0,dt=-1/0,Le=0;Le<et.length;Le++)for(var Ge=et[Le],st=0;st<Ge.length;st++){var vt=Ge[st];nt=Math.min(nt,vt.x),$e=Math.max($e,vt.x),ot=Math.min(ot,vt.y),dt=Math.max(dt,vt.y)}return[nt,ot,$e,dt]},k.prototype.toGeoJSON=w.prototype.toGeoJSON;var h=P,I=m;function P(et){var nt=new f.pbf;return function($e,ot){for(var dt in $e.layers)ot.writeMessage(3,L,$e.layers[dt])}(et,nt),nt.finish()}function L(et,nt){var $e;nt.writeVarintField(15,et.version||1),nt.writeStringField(1,et.name||""),nt.writeVarintField(5,et.extent||4096);var ot={keys:[],values:[],keycache:{},valuecache:{}};for($e=0;$e<et.length;$e++)ot.feature=et.feature($e),nt.writeMessage(2,N,ot);var dt=ot.keys;for($e=0;$e<dt.length;$e++)nt.writeStringField(3,dt[$e]);var Le=ot.values;for($e=0;$e<Le.length;$e++)nt.writeMessage(4,V,Le[$e])}function N(et,nt){var $e=et.feature;void 0!==$e.id&&nt.writeVarintField(1,$e.id),nt.writeMessage(2,B,et),nt.writeVarintField(3,$e.type),nt.writeMessage(4,Z,$e)}function B(et,nt){var $e=et.feature,ot=et.keys,dt=et.values,Le=et.keycache,Ge=et.valuecache;for(var st in $e.properties){var vt=Le[st];void 0===vt&&(ot.push(st),Le[st]=vt=ot.length-1),nt.writeVarint(vt);var bt=$e.properties[st],Lt=typeof bt;"string"!==Lt&&"boolean"!==Lt&&"number"!==Lt&&(bt=JSON.stringify(bt));var jt=Lt+":"+bt,Nt=Ge[jt];void 0===Nt&&(dt.push(bt),Ge[jt]=Nt=dt.length-1),nt.writeVarint(Nt)}}function W(et,nt){return(nt<<3)+(7&et)}function j(et){return et<<1^et>>31}function Z(et,nt){for(var $e=et.loadGeometry(),ot=et.type,dt=0,Le=0,Ge=$e.length,st=0;st<Ge;st++){var vt=$e[st],bt=1;1===ot&&(bt=vt.length),nt.writeVarint(W(1,bt));for(var Lt=3===ot?vt.length-1:vt.length,jt=0;jt<Lt;jt++){1===jt&&1!==ot&&nt.writeVarint(W(2,Lt-1));var Nt=vt[jt].x-dt,Tt=vt[jt].y-Le;nt.writeVarint(j(Nt)),nt.writeVarint(j(Tt)),dt+=Nt,Le+=Tt}3===ot&&nt.writeVarint(W(7,1))}}function V(et,nt){var $e=typeof et;"string"===$e?nt.writeStringField(1,et):"boolean"===$e?nt.writeBooleanField(7,et):"number"===$e&&(et%1!=0?nt.writeDoubleField(3,et):et<0?nt.writeSVarintField(6,et):nt.writeVarintField(5,et))}function q(et,nt,$e,ot,dt,Le){if(!(dt-ot<=$e)){var Ge=ot+dt>>1;G(et,nt,Ge,ot,dt,Le%2),q(et,nt,$e,ot,Ge-1,Le+1),q(et,nt,$e,Ge+1,dt,Le+1)}}function G(et,nt,$e,ot,dt,Le){for(;dt>ot;){if(dt-ot>600){var Ge=dt-ot+1,st=$e-ot+1,vt=Math.log(Ge),bt=.5*Math.exp(2*vt/3),Lt=.5*Math.sqrt(vt*bt*(Ge-bt)/Ge)*(st-Ge/2<0?-1:1);G(et,nt,$e,Math.max(ot,Math.floor($e-st*bt/Ge+Lt)),Math.min(dt,Math.floor($e+(Ge-st)*bt/Ge+Lt)),Le)}var jt=nt[2*$e+Le],Nt=ot,Tt=dt;for(H(et,nt,ot,$e),nt[2*dt+Le]>jt&&H(et,nt,ot,dt);Nt<Tt;){for(H(et,nt,Nt,Tt),Nt++,Tt--;nt[2*Nt+Le]<jt;)Nt++;for(;nt[2*Tt+Le]>jt;)Tt--}nt[2*ot+Le]===jt?H(et,nt,ot,Tt):H(et,nt,++Tt,dt),Tt<=$e&&(ot=Tt+1),$e<=Tt&&(dt=Tt-1)}}function H(et,nt,$e,ot){ne(et,$e,ot),ne(nt,2*$e,2*ot),ne(nt,2*$e+1,2*ot+1)}function ne(et,nt,$e){var ot=et[nt];et[nt]=et[$e],et[$e]=ot}function X(et,nt,$e,ot){var dt=et-$e,Le=nt-ot;return dt*dt+Le*Le}h.fromVectorTileJs=P,h.fromGeojsonVt=function(et,nt){nt=nt||{};var $e={};for(var ot in et)$e[ot]=new m(et[ot].features,nt),$e[ot].name=ot,$e[ot].version=nt.version,$e[ot].extent=nt.extent;return P({layers:$e})},h.GeoJSONWrapper=I;var $=function(et){return et[0]},Q=function(et){return et[1]},te=function(et,nt,$e,ot,dt){void 0===nt&&(nt=$),void 0===$e&&($e=Q),void 0===ot&&(ot=64),void 0===dt&&(dt=Float64Array),this.nodeSize=ot,this.points=et;for(var Le=et.length<65536?Uint16Array:Uint32Array,Ge=this.ids=new Le(et.length),st=this.coords=new dt(2*et.length),vt=0;vt<et.length;vt++)Ge[vt]=vt,st[2*vt]=nt(et[vt]),st[2*vt+1]=$e(et[vt]);q(Ge,st,ot,0,Ge.length-1,0)};te.prototype.range=function(et,nt,$e,ot){return function(dt,Le,Ge,st,vt,bt,Lt){for(var jt,Nt,Tt=[0,dt.length-1,0],Mt=[];Tt.length;){var kt=Tt.pop(),Ht=Tt.pop(),qt=Tt.pop();if(Ht-qt<=Lt)for(var Qt=qt;Qt<=Ht;Qt++)Nt=Le[2*Qt+1],(jt=Le[2*Qt])>=Ge&&jt<=vt&&Nt>=st&&Nt<=bt&&Mt.push(dt[Qt]);else{var Jt=Math.floor((qt+Ht)/2);Nt=Le[2*Jt+1],(jt=Le[2*Jt])>=Ge&&jt<=vt&&Nt>=st&&Nt<=bt&&Mt.push(dt[Jt]);var Kt=(kt+1)%2;(0===kt?Ge<=jt:st<=Nt)&&(Tt.push(qt),Tt.push(Jt-1),Tt.push(Kt)),(0===kt?vt>=jt:bt>=Nt)&&(Tt.push(Jt+1),Tt.push(Ht),Tt.push(Kt))}}return Mt}(this.ids,this.coords,et,nt,$e,ot,this.nodeSize)},te.prototype.within=function(et,nt,$e){return function(ot,dt,Le,Ge,st,vt){for(var bt=[0,ot.length-1,0],Lt=[],jt=st*st;bt.length;){var Nt=bt.pop(),Tt=bt.pop(),Mt=bt.pop();if(Tt-Mt<=vt)for(var kt=Mt;kt<=Tt;kt++)X(dt[2*kt],dt[2*kt+1],Le,Ge)<=jt&&Lt.push(ot[kt]);else{var Ht=Math.floor((Mt+Tt)/2),qt=dt[2*Ht],Qt=dt[2*Ht+1];X(qt,Qt,Le,Ge)<=jt&&Lt.push(ot[Ht]);var Jt=(Nt+1)%2;(0===Nt?Le-st<=qt:Ge-st<=Qt)&&(bt.push(Mt),bt.push(Ht-1),bt.push(Jt)),(0===Nt?Le+st>=qt:Ge+st>=Qt)&&(bt.push(Ht+1),bt.push(Tt),bt.push(Jt))}}return Lt}(this.ids,this.coords,et,nt,$e,this.nodeSize)};var re={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(et){return et}},le=function(et){this.options=pe(Object.create(re),et),this.trees=new Array(this.options.maxZoom+1)};function ue(et,nt,$e,ot,dt){return{x:et,y:nt,zoom:1/0,id:$e,parentId:-1,numPoints:ot,properties:dt}}function he(et,nt){var $e=et.geometry.coordinates,dt=$e[1];return{x:ke($e[0]),y:Ae(dt),zoom:1/0,index:nt,parentId:-1}}function ge(et){return{type:"Feature",id:et.id,properties:xe(et),geometry:{type:"Point",coordinates:[(ot=et.x,360*(ot-.5)),(nt=et.y,$e=(180-360*nt)*Math.PI/180,360*Math.atan(Math.exp($e))/Math.PI-90)]}};var nt,$e,ot}function xe(et){var nt=et.numPoints,$e=nt>=1e4?Math.round(nt/1e3)+"k":nt>=1e3?Math.round(nt/100)/10+"k":nt;return pe(pe({},et.properties),{cluster:!0,cluster_id:et.id,point_count:nt,point_count_abbreviated:$e})}function ke(et){return et/360+.5}function Ae(et){var nt=Math.sin(et*Math.PI/180),$e=.5-.25*Math.log((1+nt)/(1-nt))/Math.PI;return $e<0?0:$e>1?1:$e}function pe(et,nt){for(var $e in nt)et[$e]=nt[$e];return et}function ye(et){return et.x}function Ne(et){return et.y}function be(et,nt,$e,ot){for(var dt,Le=ot,Ge=$e-nt>>1,st=$e-nt,vt=et[nt],bt=et[nt+1],Lt=et[$e],jt=et[$e+1],Nt=nt+3;Nt<$e;Nt+=3){var Tt=Ee(et[Nt],et[Nt+1],vt,bt,Lt,jt);if(Tt>Le)dt=Nt,Le=Tt;else if(Tt===Le){var Mt=Math.abs(Nt-Ge);Mt<st&&(dt=Nt,st=Mt)}}Le>ot&&(dt-nt>3&&be(et,nt,dt,ot),et[dt+2]=Le,$e-dt>3&&be(et,dt,$e,ot))}function Ee(et,nt,$e,ot,dt,Le){var Ge=dt-$e,st=Le-ot;if(0!==Ge||0!==st){var vt=((et-$e)*Ge+(nt-ot)*st)/(Ge*Ge+st*st);vt>1?($e=dt,ot=Le):vt>0&&($e+=Ge*vt,ot+=st*vt)}return(Ge=et-$e)*Ge+(st=nt-ot)*st}function Oe(et,nt,$e,ot){var dt={id:void 0===et?null:et,type:nt,geometry:$e,tags:ot,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Le){var Ge=Le.geometry,st=Le.type;if("Point"===st||"MultiPoint"===st||"LineString"===st)De(Le,Ge);else if("Polygon"===st||"MultiLineString"===st)for(var vt=0;vt<Ge.length;vt++)De(Le,Ge[vt]);else if("MultiPolygon"===st)for(vt=0;vt<Ge.length;vt++)for(var bt=0;bt<Ge[vt].length;bt++)De(Le,Ge[vt][bt])}(dt),dt}function De(et,nt){for(var $e=0;$e<nt.length;$e+=3)et.minX=Math.min(et.minX,nt[$e]),et.minY=Math.min(et.minY,nt[$e+1]),et.maxX=Math.max(et.maxX,nt[$e]),et.maxY=Math.max(et.maxY,nt[$e+1])}function oe(et,nt,$e,ot){if(nt.geometry){var dt=nt.geometry.coordinates,Le=nt.geometry.type,Ge=Math.pow($e.tolerance/((1<<$e.maxZoom)*$e.extent),2),st=[],vt=nt.id;if($e.promoteId?vt=nt.properties[$e.promoteId]:$e.generateId&&(vt=ot||0),"Point"===Le)de(dt,st);else if("MultiPoint"===Le)for(var bt=0;bt<dt.length;bt++)de(dt[bt],st);else if("LineString"===Le)_e(dt,st,Ge,!1);else if("MultiLineString"===Le){if($e.lineMetrics){for(bt=0;bt<dt.length;bt++)_e(dt[bt],st=[],Ge,!1),et.push(Oe(vt,"LineString",st,nt.properties));return}Me(dt,st,Ge,!1)}else if("Polygon"===Le)Me(dt,st,Ge,!0);else{if("MultiPolygon"!==Le){if("GeometryCollection"===Le){for(bt=0;bt<nt.geometry.geometries.length;bt++)oe(et,{id:vt,geometry:nt.geometry.geometries[bt],properties:nt.properties},$e,ot);return}throw new Error("Input data is not a valid GeoJSON object.")}for(bt=0;bt<dt.length;bt++){var Lt=[];Me(dt[bt],Lt,Ge,!0),st.push(Lt)}}et.push(Oe(vt,Le,st,nt.properties))}}function de(et,nt){nt.push(Pe(et[0])),nt.push(Ue(et[1])),nt.push(0)}function _e(et,nt,$e,ot){for(var dt,Le,Ge=0,st=0;st<et.length;st++){var vt=Pe(et[st][0]),bt=Ue(et[st][1]);nt.push(vt),nt.push(bt),nt.push(0),st>0&&(Ge+=ot?(dt*bt-vt*Le)/2:Math.sqrt(Math.pow(vt-dt,2)+Math.pow(bt-Le,2))),dt=vt,Le=bt}var Lt=nt.length-3;nt[2]=1,be(nt,0,Lt,$e),nt[Lt+2]=1,nt.size=Math.abs(Ge),nt.start=0,nt.end=nt.size}function Me(et,nt,$e,ot){for(var dt=0;dt<et.length;dt++){var Le=[];_e(et[dt],Le,$e,ot),nt.push(Le)}}function Pe(et){return et/360+.5}function Ue(et){var nt=Math.sin(et*Math.PI/180),$e=.5-.25*Math.log((1+nt)/(1-nt))/Math.PI;return $e<0?0:$e>1?1:$e}function Be(et,nt,$e,ot,dt,Le,Ge,st){if(ot/=nt,Le>=($e/=nt)&&Ge<ot)return et;if(Ge<$e||Le>=ot)return null;for(var vt=[],bt=0;bt<et.length;bt++){var Lt=et[bt],jt=Lt.geometry,Nt=Lt.type,Tt=0===dt?Lt.minX:Lt.minY,Mt=0===dt?Lt.maxX:Lt.maxY;if(Tt>=$e&&Mt<ot)vt.push(Lt);else if(!(Mt<$e||Tt>=ot)){var kt=[];if("Point"===Nt||"MultiPoint"===Nt)Ve(jt,kt,$e,ot,dt);else if("LineString"===Nt)ve(jt,kt,$e,ot,dt,!1,st.lineMetrics);else if("MultiLineString"===Nt)Ce(jt,kt,$e,ot,dt,!1);else if("Polygon"===Nt)Ce(jt,kt,$e,ot,dt,!0);else if("MultiPolygon"===Nt)for(var Ht=0;Ht<jt.length;Ht++){var qt=[];Ce(jt[Ht],qt,$e,ot,dt,!0),qt.length&&kt.push(qt)}if(kt.length){if(st.lineMetrics&&"LineString"===Nt){for(Ht=0;Ht<kt.length;Ht++)vt.push(Oe(Lt.id,Nt,kt[Ht],Lt.tags));continue}"LineString"!==Nt&&"MultiLineString"!==Nt||(1===kt.length?(Nt="LineString",kt=kt[0]):Nt="MultiLineString"),"Point"!==Nt&&"MultiPoint"!==Nt||(Nt=3===kt.length?"Point":"MultiPoint"),vt.push(Oe(Lt.id,Nt,kt,Lt.tags))}}}return vt.length?vt:null}function Ve(et,nt,$e,ot,dt){for(var Le=0;Le<et.length;Le+=3){var Ge=et[Le+dt];Ge>=$e&&Ge<=ot&&(nt.push(et[Le]),nt.push(et[Le+1]),nt.push(et[Le+2]))}}function ve(et,nt,$e,ot,dt,Le,Ge){for(var st,vt,bt=Te(et),Lt=0===dt?Ke:Je,jt=et.start,Nt=0;Nt<et.length-3;Nt+=3){var Tt=et[Nt],Mt=et[Nt+1],kt=et[Nt+2],Ht=et[Nt+3],qt=et[Nt+4],Qt=0===dt?Tt:Mt,Jt=0===dt?Ht:qt,Kt=!1;Ge&&(st=Math.sqrt(Math.pow(Tt-Ht,2)+Math.pow(Mt-qt,2))),Qt<$e?Jt>$e&&(vt=Lt(bt,Tt,Mt,Ht,qt,$e),Ge&&(bt.start=jt+st*vt)):Qt>ot?Jt<ot&&(vt=Lt(bt,Tt,Mt,Ht,qt,ot),Ge&&(bt.start=jt+st*vt)):We(bt,Tt,Mt,kt),Jt<$e&&Qt>=$e&&(vt=Lt(bt,Tt,Mt,Ht,qt,$e),Kt=!0),Jt>ot&&Qt<=ot&&(vt=Lt(bt,Tt,Mt,Ht,qt,ot),Kt=!0),!Le&&Kt&&(Ge&&(bt.end=jt+st*vt),nt.push(bt),bt=Te(et)),Ge&&(jt+=st)}var ln=et.length-3;Tt=et[ln],Mt=et[ln+1],kt=et[ln+2],(Qt=0===dt?Tt:Mt)>=$e&&Qt<=ot&&We(bt,Tt,Mt,kt),ln=bt.length-3,Le&&ln>=3&&(bt[ln]!==bt[0]||bt[ln+1]!==bt[1])&&We(bt,bt[0],bt[1],bt[2]),bt.length&&nt.push(bt)}function Te(et){var nt=[];return nt.size=et.size,nt.start=et.start,nt.end=et.end,nt}function Ce(et,nt,$e,ot,dt,Le){for(var Ge=0;Ge<et.length;Ge++)ve(et[Ge],nt,$e,ot,dt,Le,!1)}function We(et,nt,$e,ot){et.push(nt),et.push($e),et.push(ot)}function Ke(et,nt,$e,ot,dt,Le){var Ge=(Le-nt)/(ot-nt);return et.push(Le),et.push($e+(dt-$e)*Ge),et.push(1),Ge}function Je(et,nt,$e,ot,dt,Le){var Ge=(Le-$e)/(dt-$e);return et.push(nt+(ot-nt)*Ge),et.push(Le),et.push(1),Ge}function ht(et,nt){for(var $e=[],ot=0;ot<et.length;ot++){var dt,Le=et[ot],Ge=Le.type;if("Point"===Ge||"MultiPoint"===Ge||"LineString"===Ge)dt=ft(Le.geometry,nt);else if("MultiLineString"===Ge||"Polygon"===Ge){dt=[];for(var st=0;st<Le.geometry.length;st++)dt.push(ft(Le.geometry[st],nt))}else if("MultiPolygon"===Ge)for(dt=[],st=0;st<Le.geometry.length;st++){for(var vt=[],bt=0;bt<Le.geometry[st].length;bt++)vt.push(ft(Le.geometry[st][bt],nt));dt.push(vt)}$e.push(Oe(Le.id,Ge,dt,Le.tags))}return $e}function ft(et,nt){var $e=[];$e.size=et.size,void 0!==et.start&&($e.start=et.start,$e.end=et.end);for(var ot=0;ot<et.length;ot+=3)$e.push(et[ot]+nt,et[ot+1],et[ot+2]);return $e}function mt(et,nt){if(et.transformed)return et;var $e,ot,dt,Le=1<<et.z,Ge=et.x,st=et.y;for($e=0;$e<et.features.length;$e++){var vt=et.features[$e],bt=vt.geometry,Lt=vt.type;if(vt.geometry=[],1===Lt)for(ot=0;ot<bt.length;ot+=2)vt.geometry.push(At(bt[ot],bt[ot+1],nt,Le,Ge,st));else for(ot=0;ot<bt.length;ot++){var jt=[];for(dt=0;dt<bt[ot].length;dt+=2)jt.push(At(bt[ot][dt],bt[ot][dt+1],nt,Le,Ge,st));vt.geometry.push(jt)}}return et.transformed=!0,et}function At(et,nt,$e,ot,dt,Le){return[Math.round($e*(et*ot-dt)),Math.round($e*(nt*ot-Le))]}function Rt(et,nt,$e,ot,dt){for(var Le=nt===dt.maxZoom?0:dt.tolerance/((1<<nt)*dt.extent),Ge={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:$e,y:ot,z:nt,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},st=0;st<et.length;st++){Ge.numFeatures++,It(Ge,et[st],Le,dt);var vt=et[st].minX,bt=et[st].minY,Lt=et[st].maxX,jt=et[st].maxY;vt<Ge.minX&&(Ge.minX=vt),bt<Ge.minY&&(Ge.minY=bt),Lt>Ge.maxX&&(Ge.maxX=Lt),jt>Ge.maxY&&(Ge.maxY=jt)}return Ge}function It(et,nt,$e,ot){var dt=nt.geometry,Le=nt.type,Ge=[];if("Point"===Le||"MultiPoint"===Le)for(var st=0;st<dt.length;st+=3)Ge.push(dt[st]),Ge.push(dt[st+1]),et.numPoints++,et.numSimplified++;else if("LineString"===Le)Pt(Ge,dt,et,$e,!1,!1);else if("MultiLineString"===Le||"Polygon"===Le)for(st=0;st<dt.length;st++)Pt(Ge,dt[st],et,$e,"Polygon"===Le,0===st);else if("MultiPolygon"===Le)for(var vt=0;vt<dt.length;vt++){var bt=dt[vt];for(st=0;st<bt.length;st++)Pt(Ge,bt[st],et,$e,!0,0===st)}if(Ge.length){var Lt=nt.tags||null;if("LineString"===Le&&ot.lineMetrics){for(var jt in Lt={},nt.tags)Lt[jt]=nt.tags[jt];Lt.mapbox_clip_start=dt.start/dt.size,Lt.mapbox_clip_end=dt.end/dt.size}var Nt={geometry:Ge,type:"Polygon"===Le||"MultiPolygon"===Le?3:"LineString"===Le||"MultiLineString"===Le?2:1,tags:Lt};null!==nt.id&&(Nt.id=nt.id),et.features.push(Nt)}}function Pt(et,nt,$e,ot,dt,Le){var Ge=ot*ot;if(ot>0&&nt.size<(dt?Ge:ot))$e.numPoints+=nt.length/3;else{for(var st=[],vt=0;vt<nt.length;vt+=3)(0===ot||nt[vt+2]>Ge)&&($e.numSimplified++,st.push(nt[vt]),st.push(nt[vt+1])),$e.numPoints++;dt&&function(bt,Lt){for(var jt=0,Nt=0,Tt=bt.length,Mt=Tt-2;Nt<Tt;Mt=Nt,Nt+=2)jt+=(bt[Nt]-bt[Mt])*(bt[Nt+1]+bt[Mt+1]);if(jt>0===Lt)for(Nt=0,Tt=bt.length;Nt<Tt/2;Nt+=2){var kt=bt[Nt],Ht=bt[Nt+1];bt[Nt]=bt[Tt-2-Nt],bt[Nt+1]=bt[Tt-1-Nt],bt[Tt-2-Nt]=kt,bt[Tt-1-Nt]=Ht}}(st,Le),et.push(st)}}function Bt(et,nt){var $e=(nt=this.options=function(dt,Le){for(var Ge in Le)dt[Ge]=Le[Ge];return dt}(Object.create(this.options),nt)).debug;if($e&&console.time("preprocess data"),nt.maxZoom<0||nt.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(nt.promoteId&&nt.generateId)throw new Error("promoteId and generateId cannot be used together.");var dt,Le,Ge,st,vt,bt,ot=function(dt,Le){var Ge=[];if("FeatureCollection"===dt.type)for(var st=0;st<dt.features.length;st++)oe(Ge,dt.features[st],Le,st);else oe(Ge,"Feature"===dt.type?dt:{geometry:dt},Le);return Ge}(et,nt);this.tiles={},this.tileCoords=[],$e&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",nt.indexMaxZoom,nt.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(dt=ot,Le=nt,Ge=Le.buffer/Le.extent,st=dt,vt=Be(dt,1,-1-Ge,Ge,0,-1,2,Le),bt=Be(dt,1,1-Ge,2+Ge,0,-1,2,Le),(vt||bt)&&(st=Be(dt,1,-Ge,1+Ge,0,-1,2,Le)||[],vt&&(st=ht(vt,1).concat(st)),bt&&(st=st.concat(ht(bt,-1)))),ot=st).length&&this.splitTile(ot,0,0,0),$e&&(ot.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Ut(et,nt,$e){return 32*((1<<et)*$e+nt)+et}function Vt(et,nt){var $e=et.tileID.canonical;if(!this._geoJSONIndex)return nt(null,null);var ot=this._geoJSONIndex.getTile($e.z,$e.x,$e.y);if(!ot)return nt(null,null);var dt=new y(ot.features),Le=h(dt);0===Le.byteOffset&&Le.byteLength===Le.buffer.byteLength||(Le=new Uint8Array(Le)),nt(null,{vectorTile:dt,rawData:Le.buffer})}le.prototype.load=function(et){var nt=this.options,$e=nt.log,ot=nt.minZoom,dt=nt.maxZoom,Le=nt.nodeSize;$e&&console.time("total time");var Ge="prepare "+et.length+" points";$e&&console.time(Ge),this.points=et;for(var st=[],vt=0;vt<et.length;vt++)et[vt].geometry&&st.push(he(et[vt],vt));this.trees[dt+1]=new te(st,ye,Ne,Le,Float32Array),$e&&console.timeEnd(Ge);for(var bt=dt;bt>=ot;bt--){var Lt=+Date.now();st=this._cluster(st,bt),this.trees[bt]=new te(st,ye,Ne,Le,Float32Array),$e&&console.log("z%d: %d clusters in %dms",bt,st.length,+Date.now()-Lt)}return $e&&console.timeEnd("total time"),this},le.prototype.getClusters=function(et,nt){var $e=((et[0]+180)%360+360)%360-180,ot=Math.max(-90,Math.min(90,et[1])),dt=180===et[2]?180:((et[2]+180)%360+360)%360-180,Le=Math.max(-90,Math.min(90,et[3]));if(et[2]-et[0]>=360)$e=-180,dt=180;else if($e>dt){var Ge=this.getClusters([$e,ot,180,Le],nt),st=this.getClusters([-180,ot,dt,Le],nt);return Ge.concat(st)}for(var vt=this.trees[this._limitZoom(nt)],bt=[],Lt=0,jt=vt.range(ke($e),Ae(Le),ke(dt),Ae(ot));Lt<jt.length;Lt+=1){var Tt=vt.points[jt[Lt]];bt.push(Tt.numPoints?ge(Tt):this.points[Tt.index])}return bt},le.prototype.getChildren=function(et){var nt=this._getOriginId(et),$e=this._getOriginZoom(et),ot="No cluster with the specified id.",dt=this.trees[$e];if(!dt)throw new Error(ot);var Le=dt.points[nt];if(!Le)throw new Error(ot);for(var Ge=this.options.radius/(this.options.extent*Math.pow(2,$e-1)),st=[],vt=0,bt=dt.within(Le.x,Le.y,Ge);vt<bt.length;vt+=1){var jt=dt.points[bt[vt]];jt.parentId===et&&st.push(jt.numPoints?ge(jt):this.points[jt.index])}if(0===st.length)throw new Error(ot);return st},le.prototype.getLeaves=function(et,nt,$e){var ot=[];return this._appendLeaves(ot,et,nt=nt||10,$e=$e||0,0),ot},le.prototype.getTile=function(et,nt,$e){var ot=this.trees[this._limitZoom(et)],dt=Math.pow(2,et),Le=this.options,st=Le.radius/Le.extent,vt=($e-st)/dt,bt=($e+1+st)/dt,Lt={features:[]};return this._addTileFeatures(ot.range((nt-st)/dt,vt,(nt+1+st)/dt,bt),ot.points,nt,$e,dt,Lt),0===nt&&this._addTileFeatures(ot.range(1-st/dt,vt,1,bt),ot.points,dt,$e,dt,Lt),nt===dt-1&&this._addTileFeatures(ot.range(0,vt,st/dt,bt),ot.points,-1,$e,dt,Lt),Lt.features.length?Lt:null},le.prototype.getClusterExpansionZoom=function(et){for(var nt=this._getOriginZoom(et)-1;nt<=this.options.maxZoom;){var $e=this.getChildren(et);if(nt++,1!==$e.length)break;et=$e[0].properties.cluster_id}return nt},le.prototype._appendLeaves=function(et,nt,$e,ot,dt){for(var Le=0,Ge=this.getChildren(nt);Le<Ge.length;Le+=1){var st=Ge[Le],vt=st.properties;if(vt&&vt.cluster?dt+vt.point_count<=ot?dt+=vt.point_count:dt=this._appendLeaves(et,vt.cluster_id,$e,ot,dt):dt<ot?dt++:et.push(st),et.length===$e)break}return dt},le.prototype._addTileFeatures=function(et,nt,$e,ot,dt,Le){for(var Ge=0,st=et;Ge<st.length;Ge+=1){var vt=nt[st[Ge]],bt=vt.numPoints,Lt={type:1,geometry:[[Math.round(this.options.extent*(vt.x*dt-$e)),Math.round(this.options.extent*(vt.y*dt-ot))]],tags:bt?xe(vt):this.points[vt.index].properties},jt=void 0;bt?jt=vt.id:this.options.generateId?jt=vt.index:this.points[vt.index].id&&(jt=this.points[vt.index].id),void 0!==jt&&(Lt.id=jt),Le.features.push(Lt)}},le.prototype._limitZoom=function(et){return Math.max(this.options.minZoom,Math.min(et,this.options.maxZoom+1))},le.prototype._cluster=function(et,nt){for(var $e=[],ot=this.options,Ge=ot.reduce,st=ot.radius/(ot.extent*Math.pow(2,nt)),vt=0;vt<et.length;vt++){var bt=et[vt];if(!(bt.zoom<=nt)){bt.zoom=nt;for(var Lt=this.trees[nt+1],jt=Lt.within(bt.x,bt.y,st),Nt=bt.numPoints||1,Tt=bt.x*Nt,Mt=bt.y*Nt,kt=Ge&&Nt>1?this._map(bt,!0):null,Ht=(vt<<5)+(nt+1)+this.points.length,qt=0,Qt=jt;qt<Qt.length;qt+=1){var Kt=Lt.points[Qt[qt]];if(!(Kt.zoom<=nt)){Kt.zoom=nt;var ln=Kt.numPoints||1;Tt+=Kt.x*ln,Mt+=Kt.y*ln,Nt+=ln,Kt.parentId=Ht,Ge&&(kt||(kt=this._map(bt,!0)),Ge(kt,this._map(Kt)))}}1===Nt?$e.push(bt):(bt.parentId=Ht,$e.push(ue(Tt/Nt,Mt/Nt,Ht,Nt,kt)))}}return $e},le.prototype._getOriginId=function(et){return et-this.points.length>>5},le.prototype._getOriginZoom=function(et){return(et-this.points.length)%32},le.prototype._map=function(et,nt){if(et.numPoints)return nt?pe({},et.properties):et.properties;var $e=this.points[et.index].properties,ot=this.options.map($e);return nt&&ot===$e?pe({},ot):ot},Bt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Bt.prototype.splitTile=function(et,nt,$e,ot,dt,Le,Ge){for(var st=[et,nt,$e,ot],vt=this.options,bt=vt.debug;st.length;){ot=st.pop(),$e=st.pop(),nt=st.pop(),et=st.pop();var Lt=1<<nt,jt=Ut(nt,$e,ot),Nt=this.tiles[jt];if(!Nt&&(bt>1&&console.time("creation"),Nt=this.tiles[jt]=Rt(et,nt,$e,ot,vt),this.tileCoords.push({z:nt,x:$e,y:ot}),bt)){bt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",nt,$e,ot,Nt.numFeatures,Nt.numPoints,Nt.numSimplified),console.timeEnd("creation"));var Tt="z"+nt;this.stats[Tt]=(this.stats[Tt]||0)+1,this.total++}if(Nt.source=et,dt){if(nt===vt.maxZoom||nt===dt)continue;var Mt=1<<dt-nt;if($e!==Math.floor(Le/Mt)||ot!==Math.floor(Ge/Mt))continue}else if(nt===vt.indexMaxZoom||Nt.numPoints<=vt.indexMaxPoints)continue;if(Nt.source=null,0!==et.length){bt>1&&console.time("clipping");var kt,Ht,qt,Qt,Jt,Kt,ln=.5*vt.buffer/vt.extent,Tn=.5-ln,An=.5+ln,pn=1+ln;kt=Ht=qt=Qt=null,Jt=Be(et,Lt,$e-ln,$e+An,0,Nt.minX,Nt.maxX,vt),Kt=Be(et,Lt,$e+Tn,$e+pn,0,Nt.minX,Nt.maxX,vt),et=null,Jt&&(kt=Be(Jt,Lt,ot-ln,ot+An,1,Nt.minY,Nt.maxY,vt),Ht=Be(Jt,Lt,ot+Tn,ot+pn,1,Nt.minY,Nt.maxY,vt),Jt=null),Kt&&(qt=Be(Kt,Lt,ot-ln,ot+An,1,Nt.minY,Nt.maxY,vt),Qt=Be(Kt,Lt,ot+Tn,ot+pn,1,Nt.minY,Nt.maxY,vt),Kt=null),bt>1&&console.timeEnd("clipping"),st.push(kt||[],nt+1,2*$e,2*ot),st.push(Ht||[],nt+1,2*$e,2*ot+1),st.push(qt||[],nt+1,2*$e+1,2*ot),st.push(Qt||[],nt+1,2*$e+1,2*ot+1)}}},Bt.prototype.getTile=function(et,nt,$e){var ot=this.options,dt=ot.extent,Le=ot.debug;if(et<0||et>24)return null;var Ge=1<<et,st=Ut(et,nt=(nt%Ge+Ge)%Ge,$e);if(this.tiles[st])return mt(this.tiles[st],dt);Le>1&&console.log("drilling down to z%d-%d-%d",et,nt,$e);for(var vt,bt=et,Lt=nt,jt=$e;!vt&&bt>0;)bt--,Lt=Math.floor(Lt/2),jt=Math.floor(jt/2),vt=this.tiles[Ut(bt,Lt,jt)];return vt&&vt.source?(Le>1&&console.log("found parent tile z%d-%d-%d",bt,Lt,jt),Le>1&&console.time("drilling down"),this.splitTile(vt.source,bt,Lt,jt,et,nt,$e),Le>1&&console.timeEnd("drilling down"),this.tiles[st]?mt(this.tiles[st],dt):null):null};var tn=function(et){function nt($e,ot,dt,Le){et.call(this,$e,ot,dt,Vt),Le&&(this.loadGeoJSON=Le)}return et&&(nt.__proto__=et),(nt.prototype=Object.create(et&&et.prototype)).constructor=nt,nt.prototype.loadData=function($e,ot){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=ot,this._pendingLoadDataParams=$e,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},nt.prototype._loadData=function(){var $e=this;if(this._pendingCallback&&this._pendingLoadDataParams){var ot=this._pendingCallback,dt=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Le=!!(dt&&dt.request&&dt.request.collectResourceTiming)&&new f.RequestPerformance(dt.request);this.loadGeoJSON(dt,function(Ge,st){if(Ge||!st)return ot(Ge);if("object"!=typeof st)return ot(new Error("Input data given to '"+dt.source+"' is not a valid GeoJSON object."));d(st,!0);try{$e._geoJSONIndex=dt.cluster?new le(function(Lt){var jt=Lt.superclusterOptions,Nt=Lt.clusterProperties;if(!Nt||!jt)return jt;for(var Tt={},Mt={},kt={accumulated:null,zoom:0},Ht={properties:null},qt=Object.keys(Nt),Qt=0,Jt=qt;Qt<Jt.length;Qt+=1){var Kt=Jt[Qt],ln=Nt[Kt],Tn=ln[0],pn=f.createExpression(ln[1]),Nn=f.createExpression("string"==typeof Tn?[Tn,["accumulated"],["get",Kt]]:Tn);Tt[Kt]=pn.value,Mt[Kt]=Nn.value}return jt.map=function(tr){Ht.properties=tr;for(var On={},wn=0,Cn=qt;wn<Cn.length;wn+=1){var mn=Cn[wn];On[mn]=Tt[mn].evaluate(kt,Ht)}return On},jt.reduce=function(tr,On){Ht.properties=On;for(var wn=0,Cn=qt;wn<Cn.length;wn+=1){var mn=Cn[wn];kt.accumulated=tr[mn],tr[mn]=Mt[mn].evaluate(kt,Ht)}},jt}(dt)).load(st.features):new Bt(Lt=st,dt.geojsonVtOptions)}catch(Lt){return ot(Lt)}var Lt;$e.loaded={};var vt={};if(Le){var bt=Le.finish();bt&&(vt.resourceTiming={},vt.resourceTiming[dt.source]=JSON.parse(JSON.stringify(bt)))}ot(null,vt)})}},nt.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},nt.prototype.reloadTile=function($e,ot){var dt=this.loaded;return dt&&dt[$e.uid]?et.prototype.reloadTile.call(this,$e,ot):this.loadTile($e,ot)},nt.prototype.loadGeoJSON=function($e,ot){if($e.request)f.getJSON($e.request,ot);else{if("string"!=typeof $e.data)return ot(new Error("Input data given to '"+$e.source+"' is not a valid GeoJSON object."));try{return ot(null,JSON.parse($e.data))}catch{return ot(new Error("Input data given to '"+$e.source+"' is not a valid GeoJSON object."))}}},nt.prototype.removeSource=function($e,ot){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),ot()},nt.prototype.getClusterExpansionZoom=function($e,ot){try{ot(null,this._geoJSONIndex.getClusterExpansionZoom($e.clusterId))}catch(dt){ot(dt)}},nt.prototype.getClusterChildren=function($e,ot){try{ot(null,this._geoJSONIndex.getChildren($e.clusterId))}catch(dt){ot(dt)}},nt.prototype.getClusterLeaves=function($e,ot){try{ot(null,this._geoJSONIndex.getLeaves($e.clusterId,$e.limit,$e.offset))}catch(dt){ot(dt)}},nt}(o),Gt=function(et){var nt=this;this.self=et,this.actor=new f.Actor(et,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:o,geojson:tn},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function($e,ot){if(nt.workerSourceTypes[$e])throw new Error('Worker source with name "'+$e+'" already registered.');nt.workerSourceTypes[$e]=ot},this.self.registerRTLTextPlugin=function($e){if(f.plugin.isParsed())throw new Error("RTL text plugin already registered.");f.plugin.applyArabicShaping=$e.applyArabicShaping,f.plugin.processBidirectionalText=$e.processBidirectionalText,f.plugin.processStyledBidirectionalText=$e.processStyledBidirectionalText}};return Gt.prototype.setReferrer=function(et,nt){this.referrer=nt},Gt.prototype.setImages=function(et,nt,$e){for(var ot in this.availableImages[et]=nt,this.workerSources[et]){var dt=this.workerSources[et][ot];for(var Le in dt)dt[Le].availableImages=nt}$e()},Gt.prototype.setLayers=function(et,nt,$e){this.getLayerIndex(et).replace(nt),$e()},Gt.prototype.updateLayers=function(et,nt,$e){this.getLayerIndex(et).update(nt.layers,nt.removedIds),$e()},Gt.prototype.loadTile=function(et,nt,$e){this.getWorkerSource(et,nt.type,nt.source).loadTile(nt,$e)},Gt.prototype.loadDEMTile=function(et,nt,$e){this.getDEMWorkerSource(et,nt.source).loadTile(nt,$e)},Gt.prototype.reloadTile=function(et,nt,$e){this.getWorkerSource(et,nt.type,nt.source).reloadTile(nt,$e)},Gt.prototype.abortTile=function(et,nt,$e){this.getWorkerSource(et,nt.type,nt.source).abortTile(nt,$e)},Gt.prototype.removeTile=function(et,nt,$e){this.getWorkerSource(et,nt.type,nt.source).removeTile(nt,$e)},Gt.prototype.removeDEMTile=function(et,nt){this.getDEMWorkerSource(et,nt.source).removeTile(nt)},Gt.prototype.removeSource=function(et,nt,$e){if(this.workerSources[et]&&this.workerSources[et][nt.type]&&this.workerSources[et][nt.type][nt.source]){var ot=this.workerSources[et][nt.type][nt.source];delete this.workerSources[et][nt.type][nt.source],void 0!==ot.removeSource?ot.removeSource(nt,$e):$e()}},Gt.prototype.loadWorkerSource=function(et,nt,$e){try{this.self.importScripts(nt.url),$e()}catch(ot){$e(ot.toString())}},Gt.prototype.syncRTLPluginState=function(et,nt,$e){try{f.plugin.setState(nt);var ot=f.plugin.getPluginURL();if(f.plugin.isLoaded()&&!f.plugin.isParsed()&&null!=ot){this.self.importScripts(ot);var dt=f.plugin.isParsed();$e(dt?void 0:new Error("RTL Text Plugin failed to import scripts from "+ot),dt)}}catch(Le){$e(Le.toString())}},Gt.prototype.getAvailableImages=function(et){var nt=this.availableImages[et];return nt||(nt=[]),nt},Gt.prototype.getLayerIndex=function(et){var nt=this.layerIndexes[et];return nt||(nt=this.layerIndexes[et]=new v),nt},Gt.prototype.getWorkerSource=function(et,nt,$e){var ot=this;return this.workerSources[et]||(this.workerSources[et]={}),this.workerSources[et][nt]||(this.workerSources[et][nt]={}),this.workerSources[et][nt][$e]||(this.workerSources[et][nt][$e]=new this.workerSourceTypes[nt]({send:function(Le,Ge,st){ot.actor.send(Le,Ge,st,et)}},this.getLayerIndex(et),this.getAvailableImages(et))),this.workerSources[et][nt][$e]},Gt.prototype.getDEMWorkerSource=function(et,nt){return this.demWorkerSources[et]||(this.demWorkerSources[et]={}),this.demWorkerSources[et][nt]||(this.demWorkerSources[et][nt]=new s),this.demWorkerSources[et][nt]},Gt.prototype.enforceCacheSizeLimit=function(et,nt){f.enforceCacheSizeLimit(nt)},typeof WorkerGlobalScope<"u"&&void 0!==f.window&&f.window instanceof WorkerGlobalScope&&(f.window.worker=new Gt(f.window)),Gt}),E(0,function(f){var S=f.createCommonjsModule(function(U){function ee(we){return!J(we)}function J(we){return typeof window<"u"&&typeof document<"u"?Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var Ze,Qe,ct=new Blob([""],{type:"text/javascript"}),St=URL.createObjectURL(ct);try{Qe=new Worker(St),Ze=!0}catch{Ze=!1}return Qe&&Qe.terminate(),URL.revokeObjectURL(St),Ze}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var Ze=document.createElement("canvas");Ze.width=Ze.height=1;var Qe=Ze.getContext("2d");if(!Qe)return!1;var ct=Qe.getImageData(0,0,1,1);return ct&&ct.width===Ze.width}()?(void 0===ae[ze=we&&we.failIfMajorPerformanceCaveat]&&(ae[ze]=function(Ze){var St,Dt,se,Qe=(St=Ze,Dt=document.createElement("canvas"),(se=Object.create(ee.webGLContextAttributes)).failIfMajorPerformanceCaveat=St,Dt.probablySupportsContext?Dt.probablySupportsContext("webgl",se)||Dt.probablySupportsContext("experimental-webgl",se):Dt.supportsContext?Dt.supportsContext("webgl",se)||Dt.supportsContext("experimental-webgl",se):Dt.getContext("webgl",se)||Dt.getContext("experimental-webgl",se));if(!Qe)return!1;var ct=Qe.createShader(Qe.VERTEX_SHADER);return!(!ct||Qe.isContextLost())&&(Qe.shaderSource(ct,"void main() {}"),Qe.compileShader(ct),!0===Qe.getShaderParameter(ct,Qe.COMPILE_STATUS))}(ze)),ae[ze]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support":"not a browser";var ze}U.exports?U.exports=ee:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=ee,window.mapboxgl.notSupportedReason=J);var ae={};ee.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),M={create:function(U,ee,J){var ae=f.window.document.createElement(U);return void 0!==ee&&(ae.className=ee),J&&J.appendChild(ae),ae},createNS:function(U,ee){return f.window.document.createElementNS(U,ee)}},v=f.window.document.documentElement.style;function c(U){if(!v)return U[0];for(var ee=0;ee<U.length;ee++)if(U[ee]in v)return U[ee];return U[0]}var i,u=c(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);M.disableDrag=function(){v&&u&&(i=v[u],v[u]="none")},M.enableDrag=function(){v&&u&&(v[u]=i)};var a=c(["transform","WebkitTransform"]);M.setTransform=function(U,ee){U.style[a]=ee};var o=!1;try{var l=Object.defineProperty({},"passive",{get:function(){o=!0}});f.window.addEventListener("test",l,l),f.window.removeEventListener("test",l,l)}catch{o=!1}M.addEventListener=function(U,ee,J,ae){void 0===ae&&(ae={}),U.addEventListener(ee,J,"passive"in ae&&o?ae:ae.capture)},M.removeEventListener=function(U,ee,J,ae){void 0===ae&&(ae={}),U.removeEventListener(ee,J,"passive"in ae&&o?ae:ae.capture)};var s=function(U){U.preventDefault(),U.stopPropagation(),f.window.removeEventListener("click",s,!0)};function d(U){var ee=U.userImage;return!!(ee&&ee.render&&ee.render())&&(U.data.replace(new Uint8Array(ee.data.buffer)),!0)}M.suppressClick=function(){f.window.addEventListener("click",s,!0),f.window.setTimeout(function(){f.window.removeEventListener("click",s,!0)},0)},M.mousePos=function(U,ee){var J=U.getBoundingClientRect();return new f.Point(ee.clientX-J.left-U.clientLeft,ee.clientY-J.top-U.clientTop)},M.touchPos=function(U,ee){for(var J=U.getBoundingClientRect(),ae=[],we=0;we<ee.length;we++)ae.push(new f.Point(ee[we].clientX-J.left-U.clientLeft,ee[we].clientY-J.top-U.clientTop));return ae},M.mouseButton=function(U){return void 0!==f.window.InstallTrigger&&2===U.button&&U.ctrlKey&&f.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:U.button},M.remove=function(U){U.parentNode&&U.parentNode.removeChild(U)};var g=function(U){function ee(){U.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new f.RGBAImage({width:1,height:1}),this.dirty=!0}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.isLoaded=function(){return this.loaded},ee.prototype.setLoaded=function(J){if(this.loaded!==J&&(this.loaded=J,J)){for(var ae=0,we=this.requestors;ae<we.length;ae+=1){var ze=we[ae];this._notify(ze.ids,ze.callback)}this.requestors=[]}},ee.prototype.getImage=function(J){return this.images[J]},ee.prototype.addImage=function(J,ae){this._validate(J,ae)&&(this.images[J]=ae)},ee.prototype._validate=function(J,ae){var we=!0;return this._validateStretch(ae.stretchX,ae.data&&ae.data.width)||(this.fire(new f.ErrorEvent(new Error('Image "'+J+'" has invalid "stretchX" value'))),we=!1),this._validateStretch(ae.stretchY,ae.data&&ae.data.height)||(this.fire(new f.ErrorEvent(new Error('Image "'+J+'" has invalid "stretchY" value'))),we=!1),this._validateContent(ae.content,ae)||(this.fire(new f.ErrorEvent(new Error('Image "'+J+'" has invalid "content" value'))),we=!1),we},ee.prototype._validateStretch=function(J,ae){if(!J)return!0;for(var we=0,ze=0,Ze=J;ze<Ze.length;ze+=1){var Qe=Ze[ze];if(Qe[0]<we||Qe[1]<Qe[0]||ae<Qe[1])return!1;we=Qe[1]}return!0},ee.prototype._validateContent=function(J,ae){return!(J&&(4!==J.length||J[0]<0||ae.data.width<J[0]||J[1]<0||ae.data.height<J[1]||J[2]<0||ae.data.width<J[2]||J[3]<0||ae.data.height<J[3]||J[2]<J[0]||J[3]<J[1]))},ee.prototype.updateImage=function(J,ae){ae.version=this.images[J].version+1,this.images[J]=ae,this.updatedImages[J]=!0},ee.prototype.removeImage=function(J){var ae=this.images[J];delete this.images[J],delete this.patterns[J],ae.userImage&&ae.userImage.onRemove&&ae.userImage.onRemove()},ee.prototype.listImages=function(){return Object.keys(this.images)},ee.prototype.getImages=function(J,ae){var we=!0;if(!this.isLoaded())for(var ze=0,Ze=J;ze<Ze.length;ze+=1)this.images[Ze[ze]]||(we=!1);this.isLoaded()||we?this._notify(J,ae):this.requestors.push({ids:J,callback:ae})},ee.prototype._notify=function(J,ae){for(var we={},ze=0,Ze=J;ze<Ze.length;ze+=1){var Qe=Ze[ze];this.images[Qe]||this.fire(new f.Event("styleimagemissing",{id:Qe}));var ct=this.images[Qe];ct?we[Qe]={data:ct.data.clone(),pixelRatio:ct.pixelRatio,sdf:ct.sdf,version:ct.version,stretchX:ct.stretchX,stretchY:ct.stretchY,content:ct.content,hasRenderCallback:Boolean(ct.userImage&&ct.userImage.render)}:f.warnOnce('Image "'+Qe+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}ae(null,we)},ee.prototype.getPixelSize=function(){var J=this.atlasImage;return{width:J.width,height:J.height}},ee.prototype.getPattern=function(J){var ae=this.patterns[J],we=this.getImage(J);if(!we)return null;if(ae&&ae.position.version===we.version)return ae.position;if(ae)ae.position.version=we.version;else{var ze={w:we.data.width+2,h:we.data.height+2,x:0,y:0},Ze=new f.ImagePosition(ze,we);this.patterns[J]={bin:ze,position:Ze}}return this._updatePatternAtlas(),this.patterns[J].position},ee.prototype.bind=function(J){var ae=J.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new f.Texture(J,this.atlasImage,ae.RGBA),this.atlasTexture.bind(ae.LINEAR,ae.CLAMP_TO_EDGE)},ee.prototype._updatePatternAtlas=function(){var J=[];for(var ae in this.patterns)J.push(this.patterns[ae].bin);var we=f.potpack(J),ze=we.w,Ze=we.h,Qe=this.atlasImage;for(var ct in Qe.resize({width:ze||1,height:Ze||1}),this.patterns){var St=this.patterns[ct].bin,Dt=St.x+1,se=St.y+1,me=this.images[ct].data,Ie=me.width,je=me.height;f.RGBAImage.copy(me,Qe,{x:0,y:0},{x:Dt,y:se},{width:Ie,height:je}),f.RGBAImage.copy(me,Qe,{x:0,y:je-1},{x:Dt,y:se-1},{width:Ie,height:1}),f.RGBAImage.copy(me,Qe,{x:0,y:0},{x:Dt,y:se+je},{width:Ie,height:1}),f.RGBAImage.copy(me,Qe,{x:Ie-1,y:0},{x:Dt-1,y:se},{width:1,height:je}),f.RGBAImage.copy(me,Qe,{x:0,y:0},{x:Dt+Ie,y:se},{width:1,height:je})}this.dirty=!0},ee.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},ee.prototype.dispatchRenderCallbacks=function(J){for(var ae=0,we=J;ae<we.length;ae+=1){var ze=we[ae];if(!this.callbackDispatchedThisFrame[ze]){this.callbackDispatchedThisFrame[ze]=!0;var Ze=this.images[ze];d(Ze)&&this.updateImage(ze,Ze)}}},ee}(f.Evented),p=y,T=y,_=1e20;function y(U,ee,J,ae,we,ze){this.fontSize=U||24,this.buffer=void 0===ee?3:ee,this.cutoff=ae||.25,this.fontFamily=we||"sans-serif",this.fontWeight=ze||"normal",this.radius=J||8;var Ze=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=Ze,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(Ze*Ze),this.gridInner=new Float64Array(Ze*Ze),this.f=new Float64Array(Ze),this.d=new Float64Array(Ze),this.z=new Float64Array(Ze+1),this.v=new Int16Array(Ze),this.middle=Math.round(Ze/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function w(U,ee,J,ae,we,ze,Ze){for(var Qe=0;Qe<ee;Qe++){for(var ct=0;ct<J;ct++)ae[ct]=U[ct*ee+Qe];for(m(ae,we,ze,Ze,J),ct=0;ct<J;ct++)U[ct*ee+Qe]=we[ct]}for(ct=0;ct<J;ct++){for(Qe=0;Qe<ee;Qe++)ae[Qe]=U[ct*ee+Qe];for(m(ae,we,ze,Ze,ee),Qe=0;Qe<ee;Qe++)U[ct*ee+Qe]=Math.sqrt(we[Qe])}}function m(U,ee,J,ae,we){J[0]=0,ae[0]=-_,ae[1]=+_;for(var ze=1,Ze=0;ze<we;ze++){for(var Qe=(U[ze]+ze*ze-(U[J[Ze]]+J[Ze]*J[Ze]))/(2*ze-2*J[Ze]);Qe<=ae[Ze];)Ze--,Qe=(U[ze]+ze*ze-(U[J[Ze]]+J[Ze]*J[Ze]))/(2*ze-2*J[Ze]);J[++Ze]=ze,ae[Ze]=Qe,ae[Ze+1]=+_}for(ze=0,Ze=0;ze<we;ze++){for(;ae[Ze+1]<ze;)Ze++;ee[ze]=(ze-J[Ze])*(ze-J[Ze])+U[J[Ze]]}}y.prototype.draw=function(U){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(U,this.buffer,this.middle);for(var ee=this.ctx.getImageData(0,0,this.size,this.size),J=new Uint8ClampedArray(this.size*this.size),ae=0;ae<this.size*this.size;ae++){var we=ee.data[4*ae+3]/255;this.gridOuter[ae]=1===we?0:0===we?_:Math.pow(Math.max(0,.5-we),2),this.gridInner[ae]=1===we?_:0===we?0:Math.pow(Math.max(0,we-.5),2)}for(w(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),w(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),ae=0;ae<this.size*this.size;ae++)J[ae]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[ae]-this.gridInner[ae])/this.radius+this.cutoff))));return J},p.default=T;var b=function(U,ee){this.requestManager=U,this.localIdeographFontFamily=ee,this.entries={}};b.prototype.setURL=function(U){this.url=U},b.prototype.getGlyphs=function(U,ee){var J=this,ae=[];for(var we in U)for(var ze=0,Ze=U[we];ze<Ze.length;ze+=1)ae.push({stack:we,id:Ze[ze]});f.asyncAll(ae,function(ct,St){var Dt=ct.stack,se=ct.id,me=J.entries[Dt];me||(me=J.entries[Dt]={glyphs:{},requests:{},ranges:{}});var Ie=me.glyphs[se];if(void 0===Ie){if(Ie=J._tinySDF(me,Dt,se))return me.glyphs[se]=Ie,void St(null,{stack:Dt,id:se,glyph:Ie});var je=Math.floor(se/256);if(256*je>65535)St(new Error("glyphs > 65535 not supported"));else if(me.ranges[je])St(null,{stack:Dt,id:se,glyph:Ie});else{var qe=me.requests[je];qe||(qe=me.requests[je]=[],b.loadGlyphRange(Dt,je,J.url,J.requestManager,function(Xe,rt){if(rt){for(var at in rt)J._doesCharSupportLocalGlyph(+at)||(me.glyphs[+at]=rt[+at]);me.ranges[je]=!0}for(var pt=0,yt=qe;pt<yt.length;pt+=1)(0,yt[pt])(Xe,rt);delete me.requests[je]})),qe.push(function(Xe,rt){Xe?St(Xe):rt&&St(null,{stack:Dt,id:se,glyph:rt[se]||null})})}}else St(null,{stack:Dt,id:se,glyph:Ie})},function(ct,St){if(ct)ee(ct);else if(St){for(var Dt={},se=0,me=St;se<me.length;se+=1){var Ie=me[se],je=Ie.stack,qe=Ie.id,Xe=Ie.glyph;(Dt[je]||(Dt[je]={}))[qe]=Xe&&{id:Xe.id,bitmap:Xe.bitmap.clone(),metrics:Xe.metrics}}ee(null,Dt)}})},b.prototype._doesCharSupportLocalGlyph=function(U){return!!this.localIdeographFontFamily&&(f.isChar["CJK Unified Ideographs"](U)||f.isChar["Hangul Syllables"](U)||f.isChar.Hiragana(U)||f.isChar.Katakana(U))},b.prototype._tinySDF=function(U,ee,J){var ae=this.localIdeographFontFamily;if(ae&&this._doesCharSupportLocalGlyph(J)){var we=U.tinySDF;if(!we){var ze="400";/bold/i.test(ee)?ze="900":/medium/i.test(ee)?ze="500":/light/i.test(ee)&&(ze="200"),we=U.tinySDF=new b.TinySDF(24,3,8,.25,ae,ze)}return{id:J,bitmap:new f.AlphaImage({width:30,height:30},we.draw(String.fromCharCode(J))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},b.loadGlyphRange=function(U,ee,J,ae,we){var ze=256*ee,Ze=ze+255,Qe=ae.transformRequest(ae.normalizeGlyphsURL(J).replace("{fontstack}",U).replace("{range}",ze+"-"+Ze),f.ResourceType.Glyphs);f.getArrayBuffer(Qe,function(ct,St){if(ct)we(ct);else if(St){for(var Dt={},se=0,me=f.parseGlyphPBF(St);se<me.length;se+=1){var Ie=me[se];Dt[Ie.id]=Ie}we(null,Dt)}})},b.TinySDF=p;var k=function(){this.specification=f.styleSpec.light.position};k.prototype.possiblyEvaluate=function(U,ee){return f.sphericalToCartesian(U.expression.evaluate(ee))},k.prototype.interpolate=function(U,ee,J){return{x:f.number(U.x,ee.x,J),y:f.number(U.y,ee.y,J),z:f.number(U.z,ee.z,J)}};var h=new f.Properties({anchor:new f.DataConstantProperty(f.styleSpec.light.anchor),position:new k,color:new f.DataConstantProperty(f.styleSpec.light.color),intensity:new f.DataConstantProperty(f.styleSpec.light.intensity)}),O="-transition",A=function(U){function ee(J){U.call(this),this._transitionable=new f.Transitionable(h),this.setLight(J),this._transitioning=this._transitionable.untransitioned()}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.getLight=function(){return this._transitionable.serialize()},ee.prototype.setLight=function(J,ae){if(void 0===ae&&(ae={}),!this._validate(f.validateLight,J,ae))for(var we in J){var ze=J[we];f.endsWith(we,O)?this._transitionable.setTransition(we.slice(0,-O.length),ze):this._transitionable.setValue(we,ze)}},ee.prototype.updateTransitions=function(J){this._transitioning=this._transitionable.transitioned(J,this._transitioning)},ee.prototype.hasTransition=function(){return this._transitioning.hasTransition()},ee.prototype.recalculate=function(J){this.properties=this._transitioning.possiblyEvaluate(J)},ee.prototype._validate=function(J,ae,we){return(!we||!1!==we.validate)&&f.emitValidationErrors(this,J.call(f.validateStyle,f.extend({value:ae,style:{glyphs:!0,sprite:!0},styleSpec:f.styleSpec})))},ee}(f.Evented),I=function(U,ee){this.width=U,this.height=ee,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};I.prototype.getDash=function(U,ee){var J=U.join(",")+String(ee);return this.dashEntry[J]||(this.dashEntry[J]=this.addDash(U,ee)),this.dashEntry[J]},I.prototype.getDashRanges=function(U,ee,J){var ae=[],we=U.length%2==1?-U[U.length-1]*J:0,ze=U[0]*J,Ze=!0;ae.push({left:we,right:ze,isDash:Ze,zeroLength:0===U[0]});for(var Qe=U[0],ct=1;ct<U.length;ct++){var St=U[ct];we=Qe*J,ze=(Qe+=St)*J,ae.push({left:we,right:ze,isDash:Ze=!Ze,zeroLength:0===St})}return ae},I.prototype.addRoundDash=function(U,ee,J){for(var ae=ee/2,we=-J;we<=J;we++)for(var Ze=this.width*(this.nextRow+J+we),Qe=0,ct=U[Qe],St=0;St<this.width;St++){St/ct.right>1&&(ct=U[++Qe]);var Dt=Math.abs(St-ct.left),se=Math.abs(St-ct.right),me=Math.min(Dt,se),Ie=void 0,je=we/J*(ae+1);if(ct.isDash){var qe=ae-Math.abs(je);Ie=Math.sqrt(me*me+qe*qe)}else Ie=ae-Math.sqrt(me*me+je*je);this.data[Ze+St]=Math.max(0,Math.min(255,Ie+128))}},I.prototype.addRegularDash=function(U){for(var ee=U.length-1;ee>=0;--ee){var J=U[ee],ae=U[ee+1];J.zeroLength?U.splice(ee,1):ae&&ae.isDash===J.isDash&&(ae.left=J.left,U.splice(ee,1))}var we=U[0],ze=U[U.length-1];we.isDash===ze.isDash&&(we.left=ze.left-this.width,ze.right=we.right+this.width);for(var Ze=this.width*this.nextRow,Qe=0,ct=U[Qe],St=0;St<this.width;St++){St/ct.right>1&&(ct=U[++Qe]);var Dt=Math.abs(St-ct.left),se=Math.abs(St-ct.right),me=Math.min(Dt,se);this.data[Ze+St]=Math.max(0,Math.min(255,(ct.isDash?me:-me)+128))}},I.prototype.addDash=function(U,ee){var J=ee?7:0,ae=2*J+1;if(this.nextRow+ae>this.height)return f.warnOnce("LineAtlas out of space"),null;for(var we=0,ze=0;ze<U.length;ze++)we+=U[ze];if(0!==we){var Ze=this.width/we,Qe=this.getDashRanges(U,this.width,Ze);ee?this.addRoundDash(Qe,Ze,J):this.addRegularDash(Qe)}var ct={y:(this.nextRow+J+.5)/this.height,height:2*J/this.height,width:we};return this.nextRow+=ae,this.dirty=!0,ct},I.prototype.bind=function(U){var ee=U.gl;this.texture?(ee.bindTexture(ee.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,ee.texSubImage2D(ee.TEXTURE_2D,0,0,0,this.width,this.height,ee.ALPHA,ee.UNSIGNED_BYTE,this.data))):(this.texture=ee.createTexture(),ee.bindTexture(ee.TEXTURE_2D,this.texture),ee.texParameteri(ee.TEXTURE_2D,ee.TEXTURE_WRAP_S,ee.REPEAT),ee.texParameteri(ee.TEXTURE_2D,ee.TEXTURE_WRAP_T,ee.REPEAT),ee.texParameteri(ee.TEXTURE_2D,ee.TEXTURE_MIN_FILTER,ee.LINEAR),ee.texParameteri(ee.TEXTURE_2D,ee.TEXTURE_MAG_FILTER,ee.LINEAR),ee.texImage2D(ee.TEXTURE_2D,0,ee.ALPHA,this.width,this.height,0,ee.ALPHA,ee.UNSIGNED_BYTE,this.data))};var P=function U(ee,J){this.workerPool=ee,this.actors=[],this.currentActor=0,this.id=f.uniqueId();for(var ae=this.workerPool.acquire(this.id),we=0;we<ae.length;we++){var Ze=new U.Actor(ae[we],J,this.id);Ze.name="Worker "+we,this.actors.push(Ze)}};function L(U,ee,J){var ae=function(we,ze){if(we)return J(we);if(ze){var Ze=f.pick(f.extend(ze,U),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);ze.vector_layers&&(Ze.vectorLayers=ze.vector_layers,Ze.vectorLayerIds=Ze.vectorLayers.map(function(Qe){return Qe.id})),Ze.tiles=ee.canonicalizeTileset(Ze,U.url),J(null,Ze)}};return U.url?f.getJSON(ee.transformRequest(ee.normalizeSourceURL(U.url),f.ResourceType.Source),ae):f.browser.frame(function(){return ae(null,U)})}P.prototype.broadcast=function(U,ee,J){f.asyncAll(this.actors,function(ae,we){ae.send(U,ee,we)},J=J||function(){})},P.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},P.prototype.remove=function(){this.actors.forEach(function(U){U.remove()}),this.actors=[],this.workerPool.release(this.id)},P.Actor=f.Actor;var N=function(U,ee,J){this.bounds=f.LngLatBounds.convert(this.validateBounds(U)),this.minzoom=ee||0,this.maxzoom=J||24};N.prototype.validateBounds=function(U){return Array.isArray(U)&&4===U.length?[Math.max(-180,U[0]),Math.max(-90,U[1]),Math.min(180,U[2]),Math.min(90,U[3])]:[-180,-90,180,90]},N.prototype.contains=function(U){var ee=Math.pow(2,U.z),J=Math.floor(f.mercatorXfromLng(this.bounds.getWest())*ee),ae=Math.floor(f.mercatorYfromLat(this.bounds.getNorth())*ee),we=Math.ceil(f.mercatorXfromLng(this.bounds.getEast())*ee),ze=Math.ceil(f.mercatorYfromLat(this.bounds.getSouth())*ee);return U.x>=J&&U.x<we&&U.y>=ae&&U.y<ze};var B=function(U){function ee(J,ae,we,ze){if(U.call(this),this.id=J,this.dispatcher=we,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,f.extend(this,f.pick(ae,["url","scheme","tileSize","promoteId"])),this._options=f.extend({type:"vector"},ae),this._collectResourceTiming=ae.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(ze)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.load=function(){var J=this;this._loaded=!1,this.fire(new f.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=L(this._options,this.map._requestManager,function(ae,we){J._tileJSONRequest=null,J._loaded=!0,ae?J.fire(new f.ErrorEvent(ae)):we&&(f.extend(J,we),we.bounds&&(J.tileBounds=new N(we.bounds,J.minzoom,J.maxzoom)),f.postTurnstileEvent(we.tiles,J.map._requestManager._customAccessToken),f.postMapLoadEvent(we.tiles,J.map._getMapId(),J.map._requestManager._skuToken,J.map._requestManager._customAccessToken),J.fire(new f.Event("data",{dataType:"source",sourceDataType:"metadata"})),J.fire(new f.Event("data",{dataType:"source",sourceDataType:"content"})))})},ee.prototype.loaded=function(){return this._loaded},ee.prototype.hasTile=function(J){return!this.tileBounds||this.tileBounds.contains(J.canonical)},ee.prototype.onAdd=function(J){this.map=J,this.load()},ee.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},ee.prototype.serialize=function(){return f.extend({},this._options)},ee.prototype.loadTile=function(J,ae){var we=this.map._requestManager.normalizeTileURL(J.tileID.canonical.url(this.tiles,this.scheme)),ze={request:this.map._requestManager.transformRequest(we,f.ResourceType.Tile),uid:J.uid,tileID:J.tileID,zoom:J.tileID.overscaledZ,tileSize:this.tileSize*J.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:f.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function Ze(Qe,ct){return delete J.request,J.aborted?ae(null):Qe&&404!==Qe.status?ae(Qe):(ct&&ct.resourceTiming&&(J.resourceTiming=ct.resourceTiming),this.map._refreshExpiredTiles&&ct&&J.setExpiryData(ct),J.loadVectorData(ct,this.map.painter),f.cacheEntryPossiblyAdded(this.dispatcher),ae(null),void(J.reloadCallback&&(this.loadTile(J,J.reloadCallback),J.reloadCallback=null)))}ze.request.collectResourceTiming=this._collectResourceTiming,J.actor&&"expired"!==J.state?"loading"===J.state?J.reloadCallback=ae:J.request=J.actor.send("reloadTile",ze,Ze.bind(this)):(J.actor=this.dispatcher.getActor(),J.request=J.actor.send("loadTile",ze,Ze.bind(this)))},ee.prototype.abortTile=function(J){J.request&&(J.request.cancel(),delete J.request),J.actor&&J.actor.send("abortTile",{uid:J.uid,type:this.type,source:this.id},void 0)},ee.prototype.unloadTile=function(J){J.unloadVectorData(),J.actor&&J.actor.send("removeTile",{uid:J.uid,type:this.type,source:this.id},void 0)},ee.prototype.hasTransition=function(){return!1},ee}(f.Evented),W=function(U){function ee(J,ae,we,ze){U.call(this),this.id=J,this.dispatcher=we,this.setEventedParent(ze),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=f.extend({type:"raster"},ae),f.extend(this,f.pick(ae,["url","scheme","tileSize"]))}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.load=function(){var J=this;this._loaded=!1,this.fire(new f.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=L(this._options,this.map._requestManager,function(ae,we){J._tileJSONRequest=null,J._loaded=!0,ae?J.fire(new f.ErrorEvent(ae)):we&&(f.extend(J,we),we.bounds&&(J.tileBounds=new N(we.bounds,J.minzoom,J.maxzoom)),f.postTurnstileEvent(we.tiles),f.postMapLoadEvent(we.tiles,J.map._getMapId(),J.map._requestManager._skuToken),J.fire(new f.Event("data",{dataType:"source",sourceDataType:"metadata"})),J.fire(new f.Event("data",{dataType:"source",sourceDataType:"content"})))})},ee.prototype.loaded=function(){return this._loaded},ee.prototype.onAdd=function(J){this.map=J,this.load()},ee.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},ee.prototype.serialize=function(){return f.extend({},this._options)},ee.prototype.hasTile=function(J){return!this.tileBounds||this.tileBounds.contains(J.canonical)},ee.prototype.loadTile=function(J,ae){var we=this,ze=this.map._requestManager.normalizeTileURL(J.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);J.request=f.getImage(this.map._requestManager.transformRequest(ze,f.ResourceType.Tile),function(Ze,Qe){if(delete J.request,J.aborted)J.state="unloaded",ae(null);else if(Ze)J.state="errored",ae(Ze);else if(Qe){we.map._refreshExpiredTiles&&J.setExpiryData(Qe),delete Qe.cacheControl,delete Qe.expires;var ct=we.map.painter.context,St=ct.gl;J.texture=we.map.painter.getTileTexture(Qe.width),J.texture?J.texture.update(Qe,{useMipmap:!0}):(J.texture=new f.Texture(ct,Qe,St.RGBA,{useMipmap:!0}),J.texture.bind(St.LINEAR,St.CLAMP_TO_EDGE,St.LINEAR_MIPMAP_NEAREST),ct.extTextureFilterAnisotropic&&St.texParameterf(St.TEXTURE_2D,ct.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,ct.extTextureFilterAnisotropicMax)),J.state="loaded",f.cacheEntryPossiblyAdded(we.dispatcher),ae(null)}})},ee.prototype.abortTile=function(J,ae){J.request&&(J.request.cancel(),delete J.request),ae()},ee.prototype.unloadTile=function(J,ae){J.texture&&this.map.painter.saveTileTexture(J.texture),ae()},ee.prototype.hasTransition=function(){return!1},ee}(f.Evented),j=function(U){function ee(J,ae,we,ze){U.call(this,J,ae,we,ze),this.type="raster-dem",this.maxzoom=22,this._options=f.extend({type:"raster-dem"},ae),this.encoding=ae.encoding||"mapbox"}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},ee.prototype.loadTile=function(J,ae){var we=this.map._requestManager.normalizeTileURL(J.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function ze(Ze,Qe){Ze&&(J.state="errored",ae(Ze)),Qe&&(J.dem=Qe,J.needsHillshadePrepare=!0,J.state="loaded",ae(null))}J.request=f.getImage(this.map._requestManager.transformRequest(we,f.ResourceType.Tile),function(Ze,Qe){if(delete J.request,J.aborted)J.state="unloaded",ae(null);else if(Ze)J.state="errored",ae(Ze);else if(Qe){this.map._refreshExpiredTiles&&J.setExpiryData(Qe),delete Qe.cacheControl,delete Qe.expires;var ct=f.window.ImageBitmap&&Qe instanceof f.window.ImageBitmap&&f.offscreenCanvasSupported()?Qe:f.browser.getImageData(Qe,1),St={uid:J.uid,coord:J.tileID,source:this.id,rawImageData:ct,encoding:this.encoding};J.actor&&"expired"!==J.state||(J.actor=this.dispatcher.getActor(),J.actor.send("loadDEMTile",St,ze.bind(this)))}}.bind(this)),J.neighboringTiles=this._getNeighboringTiles(J.tileID)},ee.prototype._getNeighboringTiles=function(J){var ae=J.canonical,we=Math.pow(2,ae.z),ze=(ae.x-1+we)%we,Ze=0===ae.x?J.wrap-1:J.wrap,Qe=(ae.x+1+we)%we,ct=ae.x+1===we?J.wrap+1:J.wrap,St={};return St[new f.OverscaledTileID(J.overscaledZ,Ze,ae.z,ze,ae.y).key]={backfilled:!1},St[new f.OverscaledTileID(J.overscaledZ,ct,ae.z,Qe,ae.y).key]={backfilled:!1},ae.y>0&&(St[new f.OverscaledTileID(J.overscaledZ,Ze,ae.z,ze,ae.y-1).key]={backfilled:!1},St[new f.OverscaledTileID(J.overscaledZ,J.wrap,ae.z,ae.x,ae.y-1).key]={backfilled:!1},St[new f.OverscaledTileID(J.overscaledZ,ct,ae.z,Qe,ae.y-1).key]={backfilled:!1}),ae.y+1<we&&(St[new f.OverscaledTileID(J.overscaledZ,Ze,ae.z,ze,ae.y+1).key]={backfilled:!1},St[new f.OverscaledTileID(J.overscaledZ,J.wrap,ae.z,ae.x,ae.y+1).key]={backfilled:!1},St[new f.OverscaledTileID(J.overscaledZ,ct,ae.z,Qe,ae.y+1).key]={backfilled:!1}),St},ee.prototype.unloadTile=function(J){J.demTexture&&this.map.painter.saveTileTexture(J.demTexture),J.fbo&&(J.fbo.destroy(),delete J.fbo),J.dem&&delete J.dem,delete J.neighboringTiles,J.state="unloaded",J.actor&&J.actor.send("removeDEMTile",{uid:J.uid,source:this.id})},ee}(W),Z=function(U){function ee(J,ae,we,ze){U.call(this),this.id=J,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=we.getActor(),this.setEventedParent(ze),this._data=ae.data,this._options=f.extend({},ae),this._collectResourceTiming=ae.collectResourceTiming,this._resourceTiming=[],void 0!==ae.maxzoom&&(this.maxzoom=ae.maxzoom),ae.type&&(this.type=ae.type),ae.attribution&&(this.attribution=ae.attribution),this.promoteId=ae.promoteId;var Ze=f.EXTENT/this.tileSize;this.workerOptions=f.extend({source:this.id,cluster:ae.cluster||!1,geojsonVtOptions:{buffer:(void 0!==ae.buffer?ae.buffer:128)*Ze,tolerance:(void 0!==ae.tolerance?ae.tolerance:.375)*Ze,extent:f.EXTENT,maxZoom:this.maxzoom,lineMetrics:ae.lineMetrics||!1,generateId:ae.generateId||!1},superclusterOptions:{maxZoom:void 0!==ae.clusterMaxZoom?Math.min(ae.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:f.EXTENT,radius:(ae.clusterRadius||50)*Ze,log:!1,generateId:ae.generateId||!1},clusterProperties:ae.clusterProperties},ae.workerOptions)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.load=function(){var J=this;this.fire(new f.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(ae){if(ae)J.fire(new f.ErrorEvent(ae));else{var we={dataType:"source",sourceDataType:"metadata"};J._collectResourceTiming&&J._resourceTiming&&J._resourceTiming.length>0&&(we.resourceTiming=J._resourceTiming,J._resourceTiming=[]),J.fire(new f.Event("data",we))}})},ee.prototype.onAdd=function(J){this.map=J,this.load()},ee.prototype.setData=function(J){var ae=this;return this._data=J,this.fire(new f.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(we){if(we)ae.fire(new f.ErrorEvent(we));else{var ze={dataType:"source",sourceDataType:"content"};ae._collectResourceTiming&&ae._resourceTiming&&ae._resourceTiming.length>0&&(ze.resourceTiming=ae._resourceTiming,ae._resourceTiming=[]),ae.fire(new f.Event("data",ze))}}),this},ee.prototype.getClusterExpansionZoom=function(J,ae){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:J,source:this.id},ae),this},ee.prototype.getClusterChildren=function(J,ae){return this.actor.send("geojson.getClusterChildren",{clusterId:J,source:this.id},ae),this},ee.prototype.getClusterLeaves=function(J,ae,we,ze){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:J,limit:ae,offset:we},ze),this},ee.prototype._updateWorkerData=function(J){var ae=this;this._loaded=!1;var we=f.extend({},this.workerOptions),ze=this._data;"string"==typeof ze?(we.request=this.map._requestManager.transformRequest(f.browser.resolveURL(ze),f.ResourceType.Source),we.request.collectResourceTiming=this._collectResourceTiming):we.data=JSON.stringify(ze),this.actor.send(this.type+".loadData",we,function(Ze,Qe){ae._removed||Qe&&Qe.abandoned||(ae._loaded=!0,Qe&&Qe.resourceTiming&&Qe.resourceTiming[ae.id]&&(ae._resourceTiming=Qe.resourceTiming[ae.id].slice(0)),ae.actor.send(ae.type+".coalesce",{source:we.source},null),J(Ze))})},ee.prototype.loaded=function(){return this._loaded},ee.prototype.loadTile=function(J,ae){var we=this,ze=J.actor?"reloadTile":"loadTile";J.actor=this.actor,J.request=this.actor.send(ze,{type:this.type,uid:J.uid,tileID:J.tileID,zoom:J.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:f.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},function(Qe,ct){return delete J.request,J.unloadVectorData(),J.aborted?ae(null):Qe?ae(Qe):(J.loadVectorData(ct,we.map.painter,"reloadTile"===ze),ae(null))})},ee.prototype.abortTile=function(J){J.request&&(J.request.cancel(),delete J.request),J.aborted=!0},ee.prototype.unloadTile=function(J){J.unloadVectorData(),this.actor.send("removeTile",{uid:J.uid,type:this.type,source:this.id})},ee.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},ee.prototype.serialize=function(){return f.extend({},this._options,{type:this.type,data:this._data})},ee.prototype.hasTransition=function(){return!1},ee}(f.Evented),V=f.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),q=function(U){function ee(J,ae,we,ze){U.call(this),this.id=J,this.dispatcher=we,this.coordinates=ae.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(ze),this.options=ae}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.load=function(J,ae){var we=this;this._loaded=!1,this.fire(new f.Event("dataloading",{dataType:"source"})),this.url=this.options.url,f.getImage(this.map._requestManager.transformRequest(this.url,f.ResourceType.Image),function(ze,Ze){we._loaded=!0,ze?we.fire(new f.ErrorEvent(ze)):Ze&&(we.image=Ze,J&&(we.coordinates=J),ae&&ae(),we._finishLoading())})},ee.prototype.loaded=function(){return this._loaded},ee.prototype.updateImage=function(J){var ae=this;return this.image&&J.url?(this.options.url=J.url,this.load(J.coordinates,function(){ae.texture=null}),this):this},ee.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new f.Event("data",{dataType:"source",sourceDataType:"metadata"})))},ee.prototype.onAdd=function(J){this.map=J,this.load()},ee.prototype.setCoordinates=function(J){var ae=this;this.coordinates=J;var we=J.map(f.MercatorCoordinate.fromLngLat);this.tileID=function(Ze){for(var Qe=1/0,ct=1/0,St=-1/0,Dt=-1/0,se=0,me=Ze;se<me.length;se+=1){var Ie=me[se];Qe=Math.min(Qe,Ie.x),ct=Math.min(ct,Ie.y),St=Math.max(St,Ie.x),Dt=Math.max(Dt,Ie.y)}var Xe=Math.max(St-Qe,Dt-ct),rt=Math.max(0,Math.floor(-Math.log(Xe)/Math.LN2)),at=Math.pow(2,rt);return new f.CanonicalTileID(rt,Math.floor((Qe+St)/2*at),Math.floor((ct+Dt)/2*at))}(we),this.minzoom=this.maxzoom=this.tileID.z;var ze=we.map(function(Ze){return ae.tileID.getTilePoint(Ze)._round()});return this._boundsArray=new f.StructArrayLayout4i8,this._boundsArray.emplaceBack(ze[0].x,ze[0].y,0,0),this._boundsArray.emplaceBack(ze[1].x,ze[1].y,f.EXTENT,0),this._boundsArray.emplaceBack(ze[3].x,ze[3].y,0,f.EXTENT),this._boundsArray.emplaceBack(ze[2].x,ze[2].y,f.EXTENT,f.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new f.Event("data",{dataType:"source",sourceDataType:"content"})),this},ee.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var J=this.map.painter.context,ae=J.gl;for(var we in this.boundsBuffer||(this.boundsBuffer=J.createVertexBuffer(this._boundsArray,V.members)),this.boundsSegments||(this.boundsSegments=f.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new f.Texture(J,this.image,ae.RGBA),this.texture.bind(ae.LINEAR,ae.CLAMP_TO_EDGE)),this.tiles){var ze=this.tiles[we];"loaded"!==ze.state&&(ze.state="loaded",ze.texture=this.texture)}}},ee.prototype.loadTile=function(J,ae){this.tileID&&this.tileID.equals(J.tileID.canonical)?(this.tiles[String(J.tileID.wrap)]=J,J.buckets={},ae(null)):(J.state="errored",ae(null))},ee.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},ee.prototype.hasTransition=function(){return!1},ee}(f.Evented),G=function(U){function ee(J,ae,we,ze){U.call(this,J,ae,we,ze),this.roundZoom=!0,this.type="video",this.options=ae}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.load=function(){var J=this;this._loaded=!1;var ae=this.options;this.urls=[];for(var we=0,ze=ae.urls;we<ze.length;we+=1)this.urls.push(this.map._requestManager.transformRequest(ze[we],f.ResourceType.Source).url);f.getVideo(this.urls,function(Qe,ct){J._loaded=!0,Qe?J.fire(new f.ErrorEvent(Qe)):ct&&(J.video=ct,J.video.loop=!0,J.video.addEventListener("playing",function(){J.map.triggerRepaint()}),J.map&&J.video.play(),J._finishLoading())})},ee.prototype.pause=function(){this.video&&this.video.pause()},ee.prototype.play=function(){this.video&&this.video.play()},ee.prototype.seek=function(J){if(this.video){var ae=this.video.seekable;J<ae.start(0)||J>ae.end(0)?this.fire(new f.ErrorEvent(new f.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+ae.start(0)+" and "+ae.end(0)+"-second mark."))):this.video.currentTime=J}},ee.prototype.getVideo=function(){return this.video},ee.prototype.onAdd=function(J){this.map||(this.map=J,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},ee.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var J=this.map.painter.context,ae=J.gl;for(var we in this.boundsBuffer||(this.boundsBuffer=J.createVertexBuffer(this._boundsArray,V.members)),this.boundsSegments||(this.boundsSegments=f.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(ae.LINEAR,ae.CLAMP_TO_EDGE),ae.texSubImage2D(ae.TEXTURE_2D,0,0,0,ae.RGBA,ae.UNSIGNED_BYTE,this.video)):(this.texture=new f.Texture(J,this.video,ae.RGBA),this.texture.bind(ae.LINEAR,ae.CLAMP_TO_EDGE)),this.tiles){var ze=this.tiles[we];"loaded"!==ze.state&&(ze.state="loaded",ze.texture=this.texture)}}},ee.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},ee.prototype.hasTransition=function(){return this.video&&!this.video.paused},ee}(q),H=function(U){function ee(J,ae,we,ze){U.call(this,J,ae,we,ze),ae.coordinates?Array.isArray(ae.coordinates)&&4===ae.coordinates.length&&!ae.coordinates.some(function(Ze){return!Array.isArray(Ze)||2!==Ze.length||Ze.some(function(Qe){return"number"!=typeof Qe})})||this.fire(new f.ErrorEvent(new f.ValidationError("sources."+J,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new f.ErrorEvent(new f.ValidationError("sources."+J,null,'missing required property "coordinates"'))),ae.animate&&"boolean"!=typeof ae.animate&&this.fire(new f.ErrorEvent(new f.ValidationError("sources."+J,null,'optional "animate" property must be a boolean value'))),ae.canvas?"string"==typeof ae.canvas||ae.canvas instanceof f.window.HTMLCanvasElement||this.fire(new f.ErrorEvent(new f.ValidationError("sources."+J,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new f.ErrorEvent(new f.ValidationError("sources."+J,null,'missing required property "canvas"'))),this.options=ae,this.animate=void 0===ae.animate||ae.animate}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof f.window.HTMLCanvasElement?this.options.canvas:f.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new f.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},ee.prototype.getCanvas=function(){return this.canvas},ee.prototype.onAdd=function(J){this.map=J,this.load(),this.canvas&&this.animate&&this.play()},ee.prototype.onRemove=function(){this.pause()},ee.prototype.prepare=function(){var J=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,J=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,J=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var ae=this.map.painter.context,we=ae.gl;for(var ze in this.boundsBuffer||(this.boundsBuffer=ae.createVertexBuffer(this._boundsArray,V.members)),this.boundsSegments||(this.boundsSegments=f.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(J||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new f.Texture(ae,this.canvas,we.RGBA,{premultiply:!0}),this.tiles){var Ze=this.tiles[ze];"loaded"!==Ze.state&&(Ze.state="loaded",Ze.texture=this.texture)}}},ee.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},ee.prototype.hasTransition=function(){return this._playing},ee.prototype._hasInvalidDimensions=function(){for(var J=0,ae=[this.canvas.width,this.canvas.height];J<ae.length;J+=1){var we=ae[J];if(isNaN(we)||we<=0)return!0}return!1},ee}(q),ne={vector:B,raster:W,"raster-dem":j,geojson:Z,video:G,image:q,canvas:H};function X(U,ee){var J=f.identity([]);return f.translate(J,J,[1,1,0]),f.scale(J,J,[.5*U.width,.5*U.height,1]),f.multiply(J,J,U.calculatePosMatrix(ee.toUnwrapped()))}function $(U,ee,J,ae,we,ze){var Ze=function(qe,Xe,rt){if(qe)for(var at=0,pt=qe;at<pt.length;at+=1){var yt=Xe[pt[at]];if(yt&&yt.source===rt&&"fill-extrusion"===yt.type)return!0}else for(var zt in Xe){var $t=Xe[zt];if($t.source===rt&&"fill-extrusion"===$t.type)return!0}return!1}(we&&we.layers,ee,U.id),Qe=ze.maxPitchScaleFactor(),ct=U.tilesIn(ae,Qe,Ze);ct.sort(Q);for(var St=[],Dt=0,se=ct;Dt<se.length;Dt+=1){var me=se[Dt];St.push({wrappedTileID:me.tileID.wrapped().key,queryResults:me.tile.queryRenderedFeatures(ee,J,U._state,me.queryGeometry,me.cameraQueryGeometry,me.scale,we,ze,Qe,X(U.transform,me.tileID))})}var Ie=function(qe){for(var Xe={},rt={},at=0,pt=qe;at<pt.length;at+=1){var yt=pt[at],zt=yt.queryResults,$t=yt.wrappedTileID,Yt=rt[$t]=rt[$t]||{};for(var cn in zt)for(var Mn=zt[cn],an=Yt[cn]=Yt[cn]||{},hn=Xe[cn]=Xe[cn]||[],sn=0,Ln=Mn;sn<Ln.length;sn+=1){var Dn=Ln[sn];an[Dn.featureIndex]||(an[Dn.featureIndex]=!0,hn.push(Dn))}}return Xe}(St);for(var je in Ie)Ie[je].forEach(function(qe){var Xe=qe.feature,rt=U.getFeatureState(Xe.layer["source-layer"],Xe.id);Xe.source=Xe.layer.source,Xe.layer["source-layer"]&&(Xe.sourceLayer=Xe.layer["source-layer"]),Xe.state=rt});return Ie}function Q(U,ee){var J=U.tileID,ae=ee.tileID;return J.overscaledZ-ae.overscaledZ||J.canonical.y-ae.canonical.y||J.wrap-ae.wrap||J.canonical.x-ae.canonical.x}var te=function(U,ee){this.max=U,this.onRemove=ee,this.reset()};te.prototype.reset=function(){for(var U in this.data)for(var ee=0,J=this.data[U];ee<J.length;ee+=1){var ae=J[ee];ae.timeout&&clearTimeout(ae.timeout),this.onRemove(ae.value)}return this.data={},this.order=[],this},te.prototype.add=function(U,ee,J){var ae=this,we=U.wrapped().key;void 0===this.data[we]&&(this.data[we]=[]);var ze={value:ee,timeout:void 0};if(void 0!==J&&(ze.timeout=setTimeout(function(){ae.remove(U,ze)},J)),this.data[we].push(ze),this.order.push(we),this.order.length>this.max){var Ze=this._getAndRemoveByKey(this.order[0]);Ze&&this.onRemove(Ze)}return this},te.prototype.has=function(U){return U.wrapped().key in this.data},te.prototype.getAndRemove=function(U){return this.has(U)?this._getAndRemoveByKey(U.wrapped().key):null},te.prototype._getAndRemoveByKey=function(U){var ee=this.data[U].shift();return ee.timeout&&clearTimeout(ee.timeout),0===this.data[U].length&&delete this.data[U],this.order.splice(this.order.indexOf(U),1),ee.value},te.prototype.getByKey=function(U){var ee=this.data[U];return ee?ee[0].value:null},te.prototype.get=function(U){return this.has(U)?this.data[U.wrapped().key][0].value:null},te.prototype.remove=function(U,ee){if(!this.has(U))return this;var J=U.wrapped().key,ae=void 0===ee?0:this.data[J].indexOf(ee),we=this.data[J][ae];return this.data[J].splice(ae,1),we.timeout&&clearTimeout(we.timeout),0===this.data[J].length&&delete this.data[J],this.onRemove(we.value),this.order.splice(this.order.indexOf(J),1),this},te.prototype.setMaxSize=function(U){for(this.max=U;this.order.length>this.max;){var ee=this._getAndRemoveByKey(this.order[0]);ee&&this.onRemove(ee)}return this},te.prototype.filter=function(U){var ee=[];for(var J in this.data)for(var ae=0,we=this.data[J];ae<we.length;ae+=1){var ze=we[ae];U(ze.value)||ee.push(ze)}for(var Ze=0,Qe=ee;Ze<Qe.length;Ze+=1){var ct=Qe[Ze];this.remove(ct.value.tileID,ct)}};var re=function(U,ee,J){this.context=U;var ae=U.gl;this.buffer=ae.createBuffer(),this.dynamicDraw=Boolean(J),this.context.unbindVAO(),U.bindElementBuffer.set(this.buffer),ae.bufferData(ae.ELEMENT_ARRAY_BUFFER,ee.arrayBuffer,this.dynamicDraw?ae.DYNAMIC_DRAW:ae.STATIC_DRAW),this.dynamicDraw||delete ee.arrayBuffer};re.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},re.prototype.updateData=function(U){var ee=this.context.gl;this.context.unbindVAO(),this.bind(),ee.bufferSubData(ee.ELEMENT_ARRAY_BUFFER,0,U.arrayBuffer)},re.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var le={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},ue=function(U,ee,J,ae){this.length=ee.length,this.attributes=J,this.itemSize=ee.bytesPerElement,this.dynamicDraw=ae,this.context=U;var we=U.gl;this.buffer=we.createBuffer(),U.bindVertexBuffer.set(this.buffer),we.bufferData(we.ARRAY_BUFFER,ee.arrayBuffer,this.dynamicDraw?we.DYNAMIC_DRAW:we.STATIC_DRAW),this.dynamicDraw||delete ee.arrayBuffer};ue.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},ue.prototype.updateData=function(U){var ee=this.context.gl;this.bind(),ee.bufferSubData(ee.ARRAY_BUFFER,0,U.arrayBuffer)},ue.prototype.enableAttributes=function(U,ee){for(var J=0;J<this.attributes.length;J++){var we=ee.attributes[this.attributes[J].name];void 0!==we&&U.enableVertexAttribArray(we)}},ue.prototype.setVertexAttribPointers=function(U,ee,J){for(var ae=0;ae<this.attributes.length;ae++){var we=this.attributes[ae],ze=ee.attributes[we.name];void 0!==ze&&U.vertexAttribPointer(ze,we.components,U[le[we.type]],!1,this.itemSize,we.offset+this.itemSize*(J||0))}},ue.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var he=function(U){this.gl=U.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};he.prototype.get=function(){return this.current},he.prototype.set=function(U){},he.prototype.getDefault=function(){return this.default},he.prototype.setDefault=function(){this.set(this.default)};var ge=function(U){function ee(){U.apply(this,arguments)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.getDefault=function(){return f.Color.transparent},ee.prototype.set=function(J){var ae=this.current;(J.r!==ae.r||J.g!==ae.g||J.b!==ae.b||J.a!==ae.a||this.dirty)&&(this.gl.clearColor(J.r,J.g,J.b,J.a),this.current=J,this.dirty=!1)},ee}(he),xe=function(U){function ee(){U.apply(this,arguments)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.getDefault=function(){return 1},ee.prototype.set=function(J){(J!==this.current||this.dirty)&&(this.gl.clearDepth(J),this.current=J,this.dirty=!1)},ee}(he),ke=function(U){function ee(){U.apply(this,arguments)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.getDefault=function(){return 0},ee.prototype.set=function(J){(J!==this.current||this.dirty)&&(this.gl.clearStencil(J),this.current=J,this.dirty=!1)},ee}(he),Ae=function(U){function ee(){U.apply(this,arguments)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.getDefault=function(){return[!0,!0,!0,!0]},ee.prototype.set=function(J){var ae=this.current;(J[0]!==ae[0]||J[1]!==ae[1]||J[2]!==ae[2]||J[3]!==ae[3]||this.dirty)&&(this.gl.colorMask(J[0],J[1],J[2],J[3]),this.current=J,this.dirty=!1)},ee}(he),pe=function(U){function ee(){U.apply(this,arguments)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.getDefault=function(){return!0},ee.prototype.set=function(J){(J!==this.current||this.dirty)&&(this.gl.depthMask(J),this.current=J,this.dirty=!1)},ee}(he),ye=function(U){function ee(){U.apply(this,arguments)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.getDefault=function(){return 255},ee.prototype.set=function(J){(J!==this.current||this.dirty)&&(this.gl.stencilMask(J),this.current=J,this.dirty=!1)},ee}(he),Ne=function(U){function ee(){U.apply(this,arguments)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},ee.prototype.set=function(J){var ae=this.current;(J.func!==ae.func||J.ref!==ae.ref||J.mask!==ae.mask||this.dirty)&&(this.gl.stencilFunc(J.func,J.ref,J.mask),this.current=J,this.dirty=!1)},ee}(he),be=function(U){function ee(){U.apply(this,arguments)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.getDefault=function(){var J=this.gl;return[J.KEEP,J.KEEP,J.KEEP]},ee.prototype.set=function(J){var ae=this.current;(J[0]!==ae[0]||J[1]!==ae[1]||J[2]!==ae[2]||this.dirty)&&(this.gl.stencilOp(J[0],J[1],J[2]),this.current=J,this.dirty=!1)},ee}(he),Ee=function(U){function ee(){U.apply(this,arguments)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.getDefault=function(){return!1},ee.prototype.set=function(J){if(J!==this.current||this.dirty){var ae=this.gl;J?ae.enable(ae.STENCIL_TEST):ae.disable(ae.STENCIL_TEST),this.current=J,this.dirty=!1}},ee}(he),Oe=function(U){function ee(){U.apply(this,arguments)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.getDefault=function(){return[0,1]},ee.prototype.set=function(J){var ae=this.current;(J[0]!==ae[0]||J[1]!==ae[1]||this.dirty)&&(this.gl.depthRange(J[0],J[1]),this.current=J,this.dirty=!1)},ee}(he),De=function(U){function ee(){U.apply(this,arguments)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.getDefault=function(){return!1},ee.prototype.set=function(J){if(J!==this.current||this.dirty){var ae=this.gl;J?ae.enable(ae.DEPTH_TEST):ae.disable(ae.DEPTH_TEST),this.current=J,this.dirty=!1}},ee}(he),oe=function(U){function ee(){U.apply(this,arguments)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.getDefault=function(){return this.gl.LESS},ee.prototype.set=function(J){(J!==this.current||this.dirty)&&(this.gl.depthFunc(J),this.current=J,this.dirty=!1)},ee}(he),de=function(U){function ee(){U.apply(this,arguments)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.getDefault=function(){return!1},ee.prototype.set=function(J){if(J!==this.current||this.dirty){var ae=this.gl;J?ae.enable(ae.BLEND):ae.disable(ae.BLEND),this.current=J,this.dirty=!1}},ee}(he),_e=function(U){function ee(){U.apply(this,arguments)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.getDefault=function(){var J=this.gl;return[J.ONE,J.ZERO]},ee.prototype.set=function(J){var ae=this.current;(J[0]!==ae[0]||J[1]!==ae[1]||this.dirty)&&(this.gl.blendFunc(J[0],J[1]),this.current=J,this.dirty=!1)},ee}(he),Me=function(U){function ee(){U.apply(this,arguments)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.getDefault=function(){return f.Color.transparent},ee.prototype.set=function(J){var ae=this.current;(J.r!==ae.r||J.g!==ae.g||J.b!==ae.b||J.a!==ae.a||this.dirty)&&(this.gl.blendColor(J.r,J.g,J.b,J.a),this.current=J,this.dirty=!1)},ee}(he),Pe=function(U){function ee(){U.apply(this,arguments)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.getDefault=function(){return this.gl.FUNC_ADD},ee.prototype.set=function(J){(J!==this.current||this.dirty)&&(this.gl.blendEquation(J),this.current=J,this.dirty=!1)},ee}(he),Ue=function(U){function ee(){U.apply(this,arguments)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.getDefault=function(){return!1},ee.prototype.set=function(J){if(J!==this.current||this.dirty){var ae=this.gl;J?ae.enable(ae.CULL_FACE):ae.disable(ae.CULL_FACE),this.current=J,this.dirty=!1}},ee}(he),Be=function(U){function ee(){U.apply(this,arguments)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.getDefault=function(){return this.gl.BACK},ee.prototype.set=function(J){(J!==this.current||this.dirty)&&(this.gl.cullFace(J),this.current=J,this.dirty=!1)},ee}(he),Ve=function(U){function ee(){U.apply(this,arguments)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.getDefault=function(){return this.gl.CCW},ee.prototype.set=function(J){(J!==this.current||this.dirty)&&(this.gl.frontFace(J),this.current=J,this.dirty=!1)},ee}(he),ve=function(U){function ee(){U.apply(this,arguments)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.getDefault=function(){return null},ee.prototype.set=function(J){(J!==this.current||this.dirty)&&(this.gl.useProgram(J),this.current=J,this.dirty=!1)},ee}(he),Te=function(U){function ee(){U.apply(this,arguments)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.getDefault=function(){return this.gl.TEXTURE0},ee.prototype.set=function(J){(J!==this.current||this.dirty)&&(this.gl.activeTexture(J),this.current=J,this.dirty=!1)},ee}(he),Ce=function(U){function ee(){U.apply(this,arguments)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.getDefault=function(){var J=this.gl;return[0,0,J.drawingBufferWidth,J.drawingBufferHeight]},ee.prototype.set=function(J){var ae=this.current;(J[0]!==ae[0]||J[1]!==ae[1]||J[2]!==ae[2]||J[3]!==ae[3]||this.dirty)&&(this.gl.viewport(J[0],J[1],J[2],J[3]),this.current=J,this.dirty=!1)},ee}(he),We=function(U){function ee(){U.apply(this,arguments)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.getDefault=function(){return null},ee.prototype.set=function(J){if(J!==this.current||this.dirty){var ae=this.gl;ae.bindFramebuffer(ae.FRAMEBUFFER,J),this.current=J,this.dirty=!1}},ee}(he),Ke=function(U){function ee(){U.apply(this,arguments)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.getDefault=function(){return null},ee.prototype.set=function(J){if(J!==this.current||this.dirty){var ae=this.gl;ae.bindRenderbuffer(ae.RENDERBUFFER,J),this.current=J,this.dirty=!1}},ee}(he),Je=function(U){function ee(){U.apply(this,arguments)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.getDefault=function(){return null},ee.prototype.set=function(J){if(J!==this.current||this.dirty){var ae=this.gl;ae.bindTexture(ae.TEXTURE_2D,J),this.current=J,this.dirty=!1}},ee}(he),ht=function(U){function ee(){U.apply(this,arguments)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.getDefault=function(){return null},ee.prototype.set=function(J){if(J!==this.current||this.dirty){var ae=this.gl;ae.bindBuffer(ae.ARRAY_BUFFER,J),this.current=J,this.dirty=!1}},ee}(he),ft=function(U){function ee(){U.apply(this,arguments)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.getDefault=function(){return null},ee.prototype.set=function(J){var ae=this.gl;ae.bindBuffer(ae.ELEMENT_ARRAY_BUFFER,J),this.current=J,this.dirty=!1},ee}(he),mt=function(U){function ee(J){U.call(this,J),this.vao=J.extVertexArrayObject}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.getDefault=function(){return null},ee.prototype.set=function(J){this.vao&&(J!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(J),this.current=J,this.dirty=!1)},ee}(he),At=function(U){function ee(){U.apply(this,arguments)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.getDefault=function(){return 4},ee.prototype.set=function(J){if(J!==this.current||this.dirty){var ae=this.gl;ae.pixelStorei(ae.UNPACK_ALIGNMENT,J),this.current=J,this.dirty=!1}},ee}(he),Rt=function(U){function ee(){U.apply(this,arguments)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.getDefault=function(){return!1},ee.prototype.set=function(J){if(J!==this.current||this.dirty){var ae=this.gl;ae.pixelStorei(ae.UNPACK_PREMULTIPLY_ALPHA_WEBGL,J),this.current=J,this.dirty=!1}},ee}(he),It=function(U){function ee(){U.apply(this,arguments)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.getDefault=function(){return!1},ee.prototype.set=function(J){if(J!==this.current||this.dirty){var ae=this.gl;ae.pixelStorei(ae.UNPACK_FLIP_Y_WEBGL,J),this.current=J,this.dirty=!1}},ee}(he),Pt=function(U){function ee(J,ae){U.call(this,J),this.context=J,this.parent=ae}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.getDefault=function(){return null},ee}(he),Bt=function(U){function ee(){U.apply(this,arguments)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.setDirty=function(){this.dirty=!0},ee.prototype.set=function(J){if(J!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var ae=this.gl;ae.framebufferTexture2D(ae.FRAMEBUFFER,ae.COLOR_ATTACHMENT0,ae.TEXTURE_2D,J,0),this.current=J,this.dirty=!1}},ee}(Pt),Ut=function(U){function ee(){U.apply(this,arguments)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.set=function(J){if(J!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var ae=this.gl;ae.framebufferRenderbuffer(ae.FRAMEBUFFER,ae.DEPTH_ATTACHMENT,ae.RENDERBUFFER,J),this.current=J,this.dirty=!1}},ee}(Pt),Vt=function(U,ee,J,ae){this.context=U,this.width=ee,this.height=J;var ze=this.framebuffer=U.gl.createFramebuffer();this.colorAttachment=new Bt(U,ze),ae&&(this.depthAttachment=new Ut(U,ze))};Vt.prototype.destroy=function(){var U=this.context.gl,ee=this.colorAttachment.get();if(ee&&U.deleteTexture(ee),this.depthAttachment){var J=this.depthAttachment.get();J&&U.deleteRenderbuffer(J)}U.deleteFramebuffer(this.framebuffer)};var tn=function(U,ee,J){this.func=U,this.mask=ee,this.range=J};tn.ReadOnly=!1,tn.ReadWrite=!0,tn.disabled=new tn(519,tn.ReadOnly,[0,1]);var et=function(U,ee,J,ae,we,ze){this.test=U,this.ref=ee,this.mask=J,this.fail=ae,this.depthFail=we,this.pass=ze};et.disabled=new et({func:519,mask:0},0,0,7680,7680,7680);var nt=function(U,ee,J){this.blendFunction=U,this.blendColor=ee,this.mask=J};nt.disabled=new nt(nt.Replace=[1,0],f.Color.transparent,[!1,!1,!1,!1]),nt.unblended=new nt(nt.Replace,f.Color.transparent,[!0,!0,!0,!0]),nt.alphaBlended=new nt([1,771],f.Color.transparent,[!0,!0,!0,!0]);var $e=function(U,ee,J){this.enable=U,this.mode=ee,this.frontFace=J};$e.disabled=new $e(!1,1029,2305),$e.backCCW=new $e(!0,1029,2305);var ot=function(U){this.gl=U,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new ge(this),this.clearDepth=new xe(this),this.clearStencil=new ke(this),this.colorMask=new Ae(this),this.depthMask=new pe(this),this.stencilMask=new ye(this),this.stencilFunc=new Ne(this),this.stencilOp=new be(this),this.stencilTest=new Ee(this),this.depthRange=new Oe(this),this.depthTest=new De(this),this.depthFunc=new oe(this),this.blend=new de(this),this.blendFunc=new _e(this),this.blendColor=new Me(this),this.blendEquation=new Pe(this),this.cullFace=new Ue(this),this.cullFaceSide=new Be(this),this.frontFace=new Ve(this),this.program=new ve(this),this.activeTexture=new Te(this),this.viewport=new Ce(this),this.bindFramebuffer=new We(this),this.bindRenderbuffer=new Ke(this),this.bindTexture=new Je(this),this.bindVertexBuffer=new ht(this),this.bindElementBuffer=new ft(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new mt(this),this.pixelStoreUnpack=new At(this),this.pixelStoreUnpackPremultiplyAlpha=new Rt(this),this.pixelStoreUnpackFlipY=new It(this),this.extTextureFilterAnisotropic=U.getExtension("EXT_texture_filter_anisotropic")||U.getExtension("MOZ_EXT_texture_filter_anisotropic")||U.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=U.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=U.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(U.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=U.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=U.getExtension("EXT_disjoint_timer_query")};ot.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},ot.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},ot.prototype.createIndexBuffer=function(U,ee){return new re(this,U,ee)},ot.prototype.createVertexBuffer=function(U,ee,J){return new ue(this,U,ee,J)},ot.prototype.createRenderbuffer=function(U,ee,J){var ae=this.gl,we=ae.createRenderbuffer();return this.bindRenderbuffer.set(we),ae.renderbufferStorage(ae.RENDERBUFFER,U,ee,J),this.bindRenderbuffer.set(null),we},ot.prototype.createFramebuffer=function(U,ee,J){return new Vt(this,U,ee,J)},ot.prototype.clear=function(U){var ee=U.color,J=U.depth,ae=this.gl,we=0;ee&&(we|=ae.COLOR_BUFFER_BIT,this.clearColor.set(ee),this.colorMask.set([!0,!0,!0,!0])),void 0!==J&&(we|=ae.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(J),this.depthMask.set(!0)),ae.clear(we)},ot.prototype.setCullFace=function(U){!1===U.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(U.mode),this.frontFace.set(U.frontFace))},ot.prototype.setDepthMode=function(U){U.func!==this.gl.ALWAYS||U.mask?(this.depthTest.set(!0),this.depthFunc.set(U.func),this.depthMask.set(U.mask),this.depthRange.set(U.range)):this.depthTest.set(!1)},ot.prototype.setStencilMode=function(U){U.test.func!==this.gl.ALWAYS||U.mask?(this.stencilTest.set(!0),this.stencilMask.set(U.mask),this.stencilOp.set([U.fail,U.depthFail,U.pass]),this.stencilFunc.set({func:U.test.func,ref:U.ref,mask:U.test.mask})):this.stencilTest.set(!1)},ot.prototype.setColorMode=function(U){f.deepEqual(U.blendFunction,nt.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(U.blendFunction),this.blendColor.set(U.blendColor)),this.colorMask.set(U.mask)},ot.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var dt=function(U){function ee(J,ae,we){var ze=this;U.call(this),this.id=J,this.dispatcher=we,this.on("data",function(Ze){"source"===Ze.dataType&&"metadata"===Ze.sourceDataType&&(ze._sourceLoaded=!0),ze._sourceLoaded&&!ze._paused&&"source"===Ze.dataType&&"content"===Ze.sourceDataType&&(ze.reload(),ze.transform&&ze.update(ze.transform))}),this.on("error",function(){ze._sourceErrored=!0}),this._source=function(Ze,Qe,ct,St){var Dt=new ne[Qe.type](Ze,Qe,ct,St);if(Dt.id!==Ze)throw new Error("Expected Source id to be "+Ze+" instead of "+Dt.id);return f.bindAll(["load","abort","unload","serialize","prepare"],Dt),Dt}(J,ae,we,this),this._tiles={},this._cache=new te(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new f.SourceFeatureState}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.onAdd=function(J){this.map=J,this._maxTileCacheSize=J?J._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(J)},ee.prototype.onRemove=function(J){this._source&&this._source.onRemove&&this._source.onRemove(J)},ee.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var J in this._tiles){var ae=this._tiles[J];if("loaded"!==ae.state&&"errored"!==ae.state)return!1}return!0},ee.prototype.getSource=function(){return this._source},ee.prototype.pause=function(){this._paused=!0},ee.prototype.resume=function(){if(this._paused){var J=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,J&&this.reload(),this.transform&&this.update(this.transform)}},ee.prototype._loadTile=function(J,ae){return this._source.loadTile(J,ae)},ee.prototype._unloadTile=function(J){if(this._source.unloadTile)return this._source.unloadTile(J,function(){})},ee.prototype._abortTile=function(J){if(this._source.abortTile)return this._source.abortTile(J,function(){})},ee.prototype.serialize=function(){return this._source.serialize()},ee.prototype.prepare=function(J){for(var ae in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var we=this._tiles[ae];we.upload(J),we.prepare(this.map.style.imageManager)}},ee.prototype.getIds=function(){return f.values(this._tiles).map(function(J){return J.tileID}).sort(Le).map(function(J){return J.key})},ee.prototype.getRenderableIds=function(J){var ae=this,we=[];for(var ze in this._tiles)this._isIdRenderable(ze,J)&&we.push(this._tiles[ze]);return J?we.sort(function(Ze,Qe){var ct=Ze.tileID,St=Qe.tileID,Dt=new f.Point(ct.canonical.x,ct.canonical.y)._rotate(ae.transform.angle),se=new f.Point(St.canonical.x,St.canonical.y)._rotate(ae.transform.angle);return ct.overscaledZ-St.overscaledZ||se.y-Dt.y||se.x-Dt.x}).map(function(Ze){return Ze.tileID.key}):we.map(function(Ze){return Ze.tileID}).sort(Le).map(function(Ze){return Ze.key})},ee.prototype.hasRenderableParent=function(J){var ae=this.findLoadedParent(J,0);return!!ae&&this._isIdRenderable(ae.tileID.key)},ee.prototype._isIdRenderable=function(J,ae){return this._tiles[J]&&this._tiles[J].hasData()&&!this._coveredTiles[J]&&(ae||!this._tiles[J].holdingForFade())},ee.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var J in this._cache.reset(),this._tiles)"errored"!==this._tiles[J].state&&this._reloadTile(J,"reloading")},ee.prototype._reloadTile=function(J,ae){var we=this._tiles[J];we&&("loading"!==we.state&&(we.state=ae),this._loadTile(we,this._tileLoaded.bind(this,we,J,ae)))},ee.prototype._tileLoaded=function(J,ae,we,ze){if(ze)return J.state="errored",void(404!==ze.status?this._source.fire(new f.ErrorEvent(ze,{tile:J})):this.update(this.transform));J.timeAdded=f.browser.now(),"expired"===we&&(J.refreshedUponExpiration=!0),this._setTileReloadTimer(ae,J),"raster-dem"===this.getSource().type&&J.dem&&this._backfillDEM(J),this._state.initializeTileState(J,this.map?this.map.painter:null),this._source.fire(new f.Event("data",{dataType:"source",tile:J,coord:J.tileID}))},ee.prototype._backfillDEM=function(J){for(var ae=this.getRenderableIds(),we=0;we<ae.length;we++){var ze=ae[we];if(J.neighboringTiles&&J.neighboringTiles[ze]){var Ze=this.getTileByID(ze);Qe(J,Ze),Qe(Ze,J)}}function Qe(ct,St){ct.needsHillshadePrepare=!0;var Dt=St.tileID.canonical.x-ct.tileID.canonical.x,se=St.tileID.canonical.y-ct.tileID.canonical.y,me=Math.pow(2,ct.tileID.canonical.z),Ie=St.tileID.key;0===Dt&&0===se||Math.abs(se)>1||(Math.abs(Dt)>1&&(1===Math.abs(Dt+me)?Dt+=me:1===Math.abs(Dt-me)&&(Dt-=me)),St.dem&&ct.dem&&(ct.dem.backfillBorder(St.dem,Dt,se),ct.neighboringTiles&&ct.neighboringTiles[Ie]&&(ct.neighboringTiles[Ie].backfilled=!0)))}},ee.prototype.getTile=function(J){return this.getTileByID(J.key)},ee.prototype.getTileByID=function(J){return this._tiles[J]},ee.prototype._retainLoadedChildren=function(J,ae,we,ze){for(var Ze in this._tiles){var Qe=this._tiles[Ze];if(!(ze[Ze]||!Qe.hasData()||Qe.tileID.overscaledZ<=ae||Qe.tileID.overscaledZ>we)){for(var ct=Qe.tileID;Qe&&Qe.tileID.overscaledZ>ae+1;){var St=Qe.tileID.scaledTo(Qe.tileID.overscaledZ-1);(Qe=this._tiles[St.key])&&Qe.hasData()&&(ct=St)}for(var Dt=ct;Dt.overscaledZ>ae;)if(J[(Dt=Dt.scaledTo(Dt.overscaledZ-1)).key]){ze[ct.key]=ct;break}}}},ee.prototype.findLoadedParent=function(J,ae){if(J.key in this._loadedParentTiles){var we=this._loadedParentTiles[J.key];return we&&we.tileID.overscaledZ>=ae?we:null}for(var ze=J.overscaledZ-1;ze>=ae;ze--){var Ze=J.scaledTo(ze),Qe=this._getLoadedTile(Ze);if(Qe)return Qe}},ee.prototype._getLoadedTile=function(J){var ae=this._tiles[J.key];return ae&&ae.hasData()?ae:this._cache.getByKey(J.wrapped().key)},ee.prototype.updateCacheSize=function(J){var ae=(Math.ceil(J.width/this._source.tileSize)+1)*(Math.ceil(J.height/this._source.tileSize)+1),we=Math.floor(5*ae),ze="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,we):we;this._cache.setMaxSize(ze)},ee.prototype.handleWrapJump=function(J){var we=Math.round((J-(void 0===this._prevLng?J:this._prevLng))/360);if(this._prevLng=J,we){var ze={};for(var Ze in this._tiles){var Qe=this._tiles[Ze];Qe.tileID=Qe.tileID.unwrapTo(Qe.tileID.wrap+we),ze[Qe.tileID.key]=Qe}for(var ct in this._tiles=ze,this._timers)clearTimeout(this._timers[ct]),delete this._timers[ct];for(var St in this._tiles)this._setTileReloadTimer(St,this._tiles[St])}},ee.prototype.update=function(J){var ae=this;if(this.transform=J,this._sourceLoaded&&!this._paused){var we;this.updateCacheSize(J),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?we=J.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(Yt){return new f.OverscaledTileID(Yt.canonical.z,Yt.wrap,Yt.canonical.z,Yt.canonical.x,Yt.canonical.y)}):(we=J.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(we=we.filter(function(Yt){return ae._source.hasTile(Yt)}))):we=[];var ze=J.coveringZoomLevel(this._source),Ze=Math.max(ze-ee.maxOverzooming,this._source.minzoom),Qe=Math.max(ze+ee.maxUnderzooming,this._source.minzoom),ct=this._updateRetainedTiles(we,ze);if(Ge(this._source.type)){for(var St={},Dt={},se=0,me=Object.keys(ct);se<me.length;se+=1){var Ie=me[se],je=ct[Ie],qe=this._tiles[Ie];if(qe&&!(qe.fadeEndTime&&qe.fadeEndTime<=f.browser.now())){var Xe=this.findLoadedParent(je,Ze);Xe&&(this._addTile(Xe.tileID),St[Xe.tileID.key]=Xe.tileID),Dt[Ie]=je}}for(var rt in this._retainLoadedChildren(Dt,ze,Qe,ct),St)ct[rt]||(this._coveredTiles[rt]=!0,ct[rt]=St[rt])}for(var at in ct)this._tiles[at].clearFadeHold();for(var pt=0,yt=f.keysDifference(this._tiles,ct);pt<yt.length;pt+=1){var zt=yt[pt],$t=this._tiles[zt];$t.hasSymbolBuckets&&!$t.holdingForFade()?$t.setHoldDuration(this.map._fadeDuration):$t.hasSymbolBuckets&&!$t.symbolFadeFinished()||this._removeTile(zt)}this._updateLoadedParentTileCache()}},ee.prototype.releaseSymbolFadeTiles=function(){for(var J in this._tiles)this._tiles[J].holdingForFade()&&this._removeTile(J)},ee.prototype._updateRetainedTiles=function(J,ae){for(var we={},ze={},Ze=Math.max(ae-ee.maxOverzooming,this._source.minzoom),Qe=Math.max(ae+ee.maxUnderzooming,this._source.minzoom),ct={},St=0,Dt=J;St<Dt.length;St+=1){var se=Dt[St],me=this._addTile(se);we[se.key]=se,me.hasData()||ae<this._source.maxzoom&&(ct[se.key]=se)}this._retainLoadedChildren(ct,ae,Qe,we);for(var Ie=0,je=J;Ie<je.length;Ie+=1){var qe=je[Ie],Xe=this._tiles[qe.key];if(!Xe.hasData()){if(ae+1>this._source.maxzoom){var rt=qe.children(this._source.maxzoom)[0],at=this.getTile(rt);if(at&&at.hasData()){we[rt.key]=rt;continue}}else{var pt=qe.children(this._source.maxzoom);if(we[pt[0].key]&&we[pt[1].key]&&we[pt[2].key]&&we[pt[3].key])continue}for(var yt=Xe.wasRequested(),zt=qe.overscaledZ-1;zt>=Ze;--zt){var $t=qe.scaledTo(zt);if(ze[$t.key]||(ze[$t.key]=!0,!(Xe=this.getTile($t))&&yt&&(Xe=this._addTile($t)),Xe&&(we[$t.key]=$t,yt=Xe.wasRequested(),Xe.hasData())))break}}}return we},ee.prototype._updateLoadedParentTileCache=function(){for(var J in this._loadedParentTiles={},this._tiles){for(var ae=[],we=void 0,ze=this._tiles[J].tileID;ze.overscaledZ>0;){if(ze.key in this._loadedParentTiles){we=this._loadedParentTiles[ze.key];break}ae.push(ze.key);var Ze=ze.scaledTo(ze.overscaledZ-1);if(we=this._getLoadedTile(Ze))break;ze=Ze}for(var Qe=0,ct=ae;Qe<ct.length;Qe+=1)this._loadedParentTiles[ct[Qe]]=we}},ee.prototype._addTile=function(J){var ae=this._tiles[J.key];if(ae)return ae;(ae=this._cache.getAndRemove(J))&&(this._setTileReloadTimer(J.key,ae),ae.tileID=J,this._state.initializeTileState(ae,this.map?this.map.painter:null),this._cacheTimers[J.key]&&(clearTimeout(this._cacheTimers[J.key]),delete this._cacheTimers[J.key],this._setTileReloadTimer(J.key,ae)));var we=Boolean(ae);return we||(ae=new f.Tile(J,this._source.tileSize*J.overscaleFactor()),this._loadTile(ae,this._tileLoaded.bind(this,ae,J.key,ae.state))),ae?(ae.uses++,this._tiles[J.key]=ae,we||this._source.fire(new f.Event("dataloading",{tile:ae,coord:ae.tileID,dataType:"source"})),ae):null},ee.prototype._setTileReloadTimer=function(J,ae){var we=this;J in this._timers&&(clearTimeout(this._timers[J]),delete this._timers[J]);var ze=ae.getExpiryTimeout();ze&&(this._timers[J]=setTimeout(function(){we._reloadTile(J,"expired"),delete we._timers[J]},ze))},ee.prototype._removeTile=function(J){var ae=this._tiles[J];ae&&(ae.uses--,delete this._tiles[J],this._timers[J]&&(clearTimeout(this._timers[J]),delete this._timers[J]),ae.uses>0||(ae.hasData()&&"reloading"!==ae.state?this._cache.add(ae.tileID,ae,ae.getExpiryTimeout()):(ae.aborted=!0,this._abortTile(ae),this._unloadTile(ae))))},ee.prototype.clearTiles=function(){for(var J in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(J);this._cache.reset()},ee.prototype.tilesIn=function(J,ae,we){var ze=this,Ze=[],Qe=this.transform;if(!Qe)return Ze;for(var ct=we?Qe.getCameraQueryGeometry(J):J,St=J.map(function(zt){return Qe.pointCoordinate(zt)}),Dt=ct.map(function(zt){return Qe.pointCoordinate(zt)}),se=this.getIds(),me=1/0,Ie=1/0,je=-1/0,qe=-1/0,Xe=0,rt=Dt;Xe<rt.length;Xe+=1){var at=rt[Xe];me=Math.min(me,at.x),Ie=Math.min(Ie,at.y),je=Math.max(je,at.x),qe=Math.max(qe,at.y)}for(var pt=function(zt){var $t=ze._tiles[se[zt]];if(!$t.holdingForFade()){var Yt=$t.tileID,cn=Math.pow(2,Qe.zoom-$t.tileID.overscaledZ),Mn=ae*$t.queryPadding*f.EXTENT/$t.tileSize/cn,an=[Yt.getTilePoint(new f.MercatorCoordinate(me,Ie)),Yt.getTilePoint(new f.MercatorCoordinate(je,qe))];if(an[0].x-Mn<f.EXTENT&&an[0].y-Mn<f.EXTENT&&an[1].x+Mn>=0&&an[1].y+Mn>=0){var hn=St.map(function(Ln){return Yt.getTilePoint(Ln)}),sn=Dt.map(function(Ln){return Yt.getTilePoint(Ln)});Ze.push({tile:$t,tileID:Yt,queryGeometry:hn,cameraQueryGeometry:sn,scale:cn})}}},yt=0;yt<se.length;yt++)pt(yt);return Ze},ee.prototype.getVisibleCoordinates=function(J){for(var ae=this,we=this.getRenderableIds(J).map(function(ct){return ae._tiles[ct].tileID}),ze=0,Ze=we;ze<Ze.length;ze+=1){var Qe=Ze[ze];Qe.posMatrix=this.transform.calculatePosMatrix(Qe.toUnwrapped())}return we},ee.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Ge(this._source.type))for(var J in this._tiles){var ae=this._tiles[J];if(void 0!==ae.fadeEndTime&&ae.fadeEndTime>=f.browser.now())return!0}return!1},ee.prototype.setFeatureState=function(J,ae,we){this._state.updateState(J=J||"_geojsonTileLayer",ae,we)},ee.prototype.removeFeatureState=function(J,ae,we){this._state.removeFeatureState(J=J||"_geojsonTileLayer",ae,we)},ee.prototype.getFeatureState=function(J,ae){return this._state.getState(J=J||"_geojsonTileLayer",ae)},ee.prototype.setDependencies=function(J,ae,we){var ze=this._tiles[J];ze&&ze.setDependencies(ae,we)},ee.prototype.reloadTilesForDependencies=function(J,ae){for(var we in this._tiles)this._tiles[we].hasDependency(J,ae)&&this._reloadTile(we,"reloading");this._cache.filter(function(ze){return!ze.hasDependency(J,ae)})},ee}(f.Evented);function Le(U,ee){var J=Math.abs(2*U.wrap)-+(U.wrap<0),ae=Math.abs(2*ee.wrap)-+(ee.wrap<0);return U.overscaledZ-ee.overscaledZ||ae-J||ee.canonical.y-U.canonical.y||ee.canonical.x-U.canonical.x}function Ge(U){return"raster"===U||"image"===U||"video"===U}function st(){return new f.window.Worker(Et.workerUrl)}dt.maxOverzooming=10,dt.maxUnderzooming=3;var vt="mapboxgl_preloaded_worker_pool",bt=function(){this.active={}};bt.prototype.acquire=function(U){if(!this.workers)for(this.workers=[];this.workers.length<bt.workerCount;)this.workers.push(new st);return this.active[U]=!0,this.workers.slice()},bt.prototype.release=function(U){delete this.active[U],0===this.numActive()&&(this.workers.forEach(function(ee){ee.terminate()}),this.workers=null)},bt.prototype.isPreloaded=function(){return!!this.active[vt]},bt.prototype.numActive=function(){return Object.keys(this.active).length};var Lt,jt=Math.floor(f.browser.hardwareConcurrency/2);function Nt(){return Lt||(Lt=new bt),Lt}function Tt(U,ee){var J={};for(var ae in U)"ref"!==ae&&(J[ae]=U[ae]);return f.refProperties.forEach(function(we){we in ee&&(J[we]=ee[we])}),J}function Mt(U){U=U.slice();for(var ee=Object.create(null),J=0;J<U.length;J++)ee[U[J].id]=U[J];for(var ae=0;ae<U.length;ae++)"ref"in U[ae]&&(U[ae]=Tt(U[ae],ee[U[ae].ref]));return U}bt.workerCount=Math.max(Math.min(jt,6),1);var kt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Ht(U,ee,J){J.push({command:kt.addSource,args:[U,ee[U]]})}function qt(U,ee,J){ee.push({command:kt.removeSource,args:[U]}),J[U]=!0}function Qt(U,ee,J,ae){qt(U,J,ae),Ht(U,ee,J)}function Jt(U,ee,J){var ae;for(ae in U[J])if(U[J].hasOwnProperty(ae)&&"data"!==ae&&!f.deepEqual(U[J][ae],ee[J][ae]))return!1;for(ae in ee[J])if(ee[J].hasOwnProperty(ae)&&"data"!==ae&&!f.deepEqual(U[J][ae],ee[J][ae]))return!1;return!0}function Kt(U,ee,J,ae,we,ze){var Ze;for(Ze in ee=ee||{},U=U||{})U.hasOwnProperty(Ze)&&(f.deepEqual(U[Ze],ee[Ze])||J.push({command:ze,args:[ae,Ze,ee[Ze],we]}));for(Ze in ee)ee.hasOwnProperty(Ze)&&!U.hasOwnProperty(Ze)&&(f.deepEqual(U[Ze],ee[Ze])||J.push({command:ze,args:[ae,Ze,ee[Ze],we]}))}function ln(U){return U.id}function Tn(U,ee){return U[ee.id]=ee,U}var pn=function(U,ee){this.reset(U,ee)};pn.prototype.reset=function(U,ee){this.points=U||[],this._distances=[0];for(var J=1;J<this.points.length;J++)this._distances[J]=this._distances[J-1]+this.points[J].dist(this.points[J-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(ee||0,.5*this.length),this.paddedLength=this.length-2*this.padding},pn.prototype.lerp=function(U){if(1===this.points.length)return this.points[0];U=f.clamp(U,0,1);for(var ee=1,J=this._distances[ee],ae=U*this.paddedLength+this.padding;J<ae&&ee<this._distances.length;)J=this._distances[++ee];var we=ee-1,ze=this._distances[we],Ze=J-ze,Qe=Ze>0?(ae-ze)/Ze:0;return this.points[we].mult(1-Qe).add(this.points[ee].mult(Qe))};var Nn=function(U,ee,J){var ae=this.boxCells=[],we=this.circleCells=[];this.xCellCount=Math.ceil(U/J),this.yCellCount=Math.ceil(ee/J);for(var ze=0;ze<this.xCellCount*this.yCellCount;ze++)ae.push([]),we.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=U,this.height=ee,this.xScale=this.xCellCount/U,this.yScale=this.yCellCount/ee,this.boxUid=0,this.circleUid=0};function tr(U,ee,J,ae,we){var ze=f.create();return ee?(f.scale(ze,ze,[1/we,1/we,1]),J||f.rotateZ(ze,ze,ae.angle)):f.multiply(ze,ae.labelPlaneMatrix,U),ze}function On(U,ee,J,ae,we){if(ee){var ze=f.clone(U);return f.scale(ze,ze,[we,we,1]),J||f.rotateZ(ze,ze,-ae.angle),ze}return ae.glCoordMatrix}function wn(U,ee){var J=[U.x,U.y,0,1];Vr(J,J,ee);var ae=J[3];return{point:new f.Point(J[0]/ae,J[1]/ae),signedDistanceFromCamera:ae}}function Cn(U,ee){return.5+U/ee*.5}function mn(U,ee){var J=U[0]/U[3],ae=U[1]/U[3];return J>=-ee[0]&&J<=ee[0]&&ae>=-ee[1]&&ae<=ee[1]}function En(U,ee,J,ae,we,ze,Ze,Qe){var ct=ae?U.textSizeData:U.iconSizeData,St=f.evaluateSizeForZoom(ct,J.transform.zoom),Dt=[256/J.width*2+1,256/J.height*2+1],se=ae?U.text.dynamicLayoutVertexArray:U.icon.dynamicLayoutVertexArray;se.clear();for(var me=U.lineVertexArray,Ie=ae?U.text.placedSymbolArray:U.icon.placedSymbolArray,je=J.transform.width/J.transform.height,qe=!1,Xe=0;Xe<Ie.length;Xe++){var rt=Ie.get(Xe);if(rt.hidden||rt.writingMode===f.WritingMode.vertical&&!qe)mr(rt.numGlyphs,se);else{qe=!1;var at=[rt.anchorX,rt.anchorY,0,1];if(f.transformMat4(at,at,ee),mn(at,Dt)){var yt=Cn(J.transform.cameraToCenterDistance,at[3]),zt=f.evaluateSizeForFeature(ct,St,rt),$t=Ze?zt/yt:zt*yt,Yt=new f.Point(rt.anchorX,rt.anchorY),cn=wn(Yt,we).point,Mn={},an=er(rt,$t,!1,Qe,ee,we,ze,U.glyphOffsetArray,me,se,cn,Yt,Mn,je);qe=an.useVertical,(an.notEnoughRoom||qe||an.needsFlipping&&er(rt,$t,!0,Qe,ee,we,ze,U.glyphOffsetArray,me,se,cn,Yt,Mn,je).notEnoughRoom)&&mr(rt.numGlyphs,se)}else mr(rt.numGlyphs,se)}}ae?U.text.dynamicLayoutVertexBuffer.updateData(se):U.icon.dynamicLayoutVertexBuffer.updateData(se)}function Fn(U,ee,J,ae,we,ze,Ze,Qe,ct,St,Dt){var se=Qe.glyphStartIndex+Qe.numGlyphs,me=Qe.lineStartIndex,Ie=Qe.lineStartIndex+Qe.lineLength,je=ee.getoffsetX(Qe.glyphStartIndex),qe=ee.getoffsetX(se-1),Xe=Gn(U*je,J,ae,we,ze,Ze,Qe.segment,me,Ie,ct,St,Dt);if(!Xe)return null;var rt=Gn(U*qe,J,ae,we,ze,Ze,Qe.segment,me,Ie,ct,St,Dt);return rt?{first:Xe,last:rt}:null}function jn(U,ee,J,ae){return U===f.WritingMode.horizontal&&Math.abs(J.y-ee.y)>Math.abs(J.x-ee.x)*ae?{useVertical:!0}:(U===f.WritingMode.vertical?ee.y<J.y:ee.x>J.x)?{needsFlipping:!0}:null}function er(U,ee,J,ae,we,ze,Ze,Qe,ct,St,Dt,se,me,Ie){var je,qe=ee/24,Xe=U.lineOffsetX*qe,rt=U.lineOffsetY*qe;if(U.numGlyphs>1){var at=U.glyphStartIndex+U.numGlyphs,pt=U.lineStartIndex,yt=U.lineStartIndex+U.lineLength,zt=Fn(qe,Qe,Xe,rt,J,Dt,se,U,ct,ze,me);if(!zt)return{notEnoughRoom:!0};var $t=wn(zt.first.point,Ze).point,Yt=wn(zt.last.point,Ze).point;if(ae&&!J){var cn=jn(U.writingMode,$t,Yt,Ie);if(cn)return cn}je=[zt.first];for(var Mn=U.glyphStartIndex+1;Mn<at-1;Mn++)je.push(Gn(qe*Qe.getoffsetX(Mn),Xe,rt,J,Dt,se,U.segment,pt,yt,ct,ze,me));je.push(zt.last)}else{if(ae&&!J){var an=wn(se,we).point,hn=U.lineStartIndex+U.segment+1,sn=new f.Point(ct.getx(hn),ct.gety(hn)),Ln=wn(sn,we),Dn=Ln.signedDistanceFromCamera>0?Ln.point:Zn(se,sn,an,1,we),dn=jn(U.writingMode,an,Dn,Ie);if(dn)return dn}var Xn=Gn(qe*Qe.getoffsetX(U.glyphStartIndex),Xe,rt,J,Dt,se,U.segment,U.lineStartIndex,U.lineStartIndex+U.lineLength,ct,ze,me);if(!Xn)return{notEnoughRoom:!0};je=[Xn]}for(var rr=0,vr=je;rr<vr.length;rr+=1){var dr=vr[rr];f.addDynamicAttributes(St,dr.point,dr.angle)}return{}}function Zn(U,ee,J,ae,we){var ze=wn(U.add(U.sub(ee)._unit()),we).point,Ze=J.sub(ze);return J.add(Ze._mult(ae/Ze.mag()))}function Gn(U,ee,J,ae,we,ze,Ze,Qe,ct,St,Dt,se){var me=ae?U-ee:U+ee,Ie=me>0?1:-1,je=0;ae&&(Ie*=-1,je=Math.PI),Ie<0&&(je+=Math.PI);for(var qe=Ie>0?Qe+Ze:Qe+Ze+1,Xe=we,rt=we,at=0,pt=0,yt=Math.abs(me),zt=[];at+pt<=yt;){if((qe+=Ie)<Qe||qe>=ct)return null;if(rt=Xe,zt.push(Xe),void 0===(Xe=se[qe])){var $t=new f.Point(St.getx(qe),St.gety(qe)),Yt=wn($t,Dt);if(Yt.signedDistanceFromCamera>0)Xe=se[qe]=Yt.point;else{var cn=qe-Ie;Xe=Zn(0===at?ze:new f.Point(St.getx(cn),St.gety(cn)),$t,rt,yt-at+1,Dt)}}at+=pt,pt=rt.dist(Xe)}var Mn=(yt-at)/pt,an=Xe.sub(rt),hn=an.mult(Mn)._add(rt);hn._add(an._unit()._perp()._mult(J*Ie));var sn=je+Math.atan2(Xe.y-rt.y,Xe.x-rt.x);return zt.push(hn),{point:hn,angle:sn,path:zt}}Nn.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Nn.prototype.insert=function(U,ee,J,ae,we){this._forEachCell(ee,J,ae,we,this._insertBoxCell,this.boxUid++),this.boxKeys.push(U),this.bboxes.push(ee),this.bboxes.push(J),this.bboxes.push(ae),this.bboxes.push(we)},Nn.prototype.insertCircle=function(U,ee,J,ae){this._forEachCell(ee-ae,J-ae,ee+ae,J+ae,this._insertCircleCell,this.circleUid++),this.circleKeys.push(U),this.circles.push(ee),this.circles.push(J),this.circles.push(ae)},Nn.prototype._insertBoxCell=function(U,ee,J,ae,we,ze){this.boxCells[we].push(ze)},Nn.prototype._insertCircleCell=function(U,ee,J,ae,we,ze){this.circleCells[we].push(ze)},Nn.prototype._query=function(U,ee,J,ae,we,ze){if(J<0||U>this.width||ae<0||ee>this.height)return!we&&[];var Ze=[];if(U<=0&&ee<=0&&this.width<=J&&this.height<=ae){if(we)return!0;for(var Qe=0;Qe<this.boxKeys.length;Qe++)Ze.push({key:this.boxKeys[Qe],x1:this.bboxes[4*Qe],y1:this.bboxes[4*Qe+1],x2:this.bboxes[4*Qe+2],y2:this.bboxes[4*Qe+3]});for(var ct=0;ct<this.circleKeys.length;ct++){var St=this.circles[3*ct],Dt=this.circles[3*ct+1],se=this.circles[3*ct+2];Ze.push({key:this.circleKeys[ct],x1:St-se,y1:Dt-se,x2:St+se,y2:Dt+se})}return ze?Ze.filter(ze):Ze}return this._forEachCell(U,ee,J,ae,this._queryCell,Ze,{hitTest:we,seenUids:{box:{},circle:{}}},ze),we?Ze.length>0:Ze},Nn.prototype._queryCircle=function(U,ee,J,ae,we){var ze=U-J,Ze=U+J,Qe=ee-J,ct=ee+J;if(Ze<0||ze>this.width||ct<0||Qe>this.height)return!ae&&[];var St=[];return this._forEachCell(ze,Qe,Ze,ct,this._queryCellCircle,St,{hitTest:ae,circle:{x:U,y:ee,radius:J},seenUids:{box:{},circle:{}}},we),ae?St.length>0:St},Nn.prototype.query=function(U,ee,J,ae,we){return this._query(U,ee,J,ae,!1,we)},Nn.prototype.hitTest=function(U,ee,J,ae,we){return this._query(U,ee,J,ae,!0,we)},Nn.prototype.hitTestCircle=function(U,ee,J,ae){return this._queryCircle(U,ee,J,!0,ae)},Nn.prototype._queryCell=function(U,ee,J,ae,we,ze,Ze,Qe){var ct=Ze.seenUids,St=this.boxCells[we];if(null!==St)for(var Dt=this.bboxes,se=0,me=St;se<me.length;se+=1){var Ie=me[se];if(!ct.box[Ie]){ct.box[Ie]=!0;var je=4*Ie;if(U<=Dt[je+2]&&ee<=Dt[je+3]&&J>=Dt[je+0]&&ae>=Dt[je+1]&&(!Qe||Qe(this.boxKeys[Ie]))){if(Ze.hitTest)return ze.push(!0),!0;ze.push({key:this.boxKeys[Ie],x1:Dt[je],y1:Dt[je+1],x2:Dt[je+2],y2:Dt[je+3]})}}}var qe=this.circleCells[we];if(null!==qe)for(var Xe=this.circles,rt=0,at=qe;rt<at.length;rt+=1){var pt=at[rt];if(!ct.circle[pt]){ct.circle[pt]=!0;var yt=3*pt;if(this._circleAndRectCollide(Xe[yt],Xe[yt+1],Xe[yt+2],U,ee,J,ae)&&(!Qe||Qe(this.circleKeys[pt]))){if(Ze.hitTest)return ze.push(!0),!0;var zt=Xe[yt],$t=Xe[yt+1],Yt=Xe[yt+2];ze.push({key:this.circleKeys[pt],x1:zt-Yt,y1:$t-Yt,x2:zt+Yt,y2:$t+Yt})}}}},Nn.prototype._queryCellCircle=function(U,ee,J,ae,we,ze,Ze,Qe){var ct=Ze.circle,St=Ze.seenUids,Dt=this.boxCells[we];if(null!==Dt)for(var se=this.bboxes,me=0,Ie=Dt;me<Ie.length;me+=1){var je=Ie[me];if(!St.box[je]){St.box[je]=!0;var qe=4*je;if(this._circleAndRectCollide(ct.x,ct.y,ct.radius,se[qe+0],se[qe+1],se[qe+2],se[qe+3])&&(!Qe||Qe(this.boxKeys[je])))return ze.push(!0),!0}}var Xe=this.circleCells[we];if(null!==Xe)for(var rt=this.circles,at=0,pt=Xe;at<pt.length;at+=1){var yt=pt[at];if(!St.circle[yt]){St.circle[yt]=!0;var zt=3*yt;if(this._circlesCollide(rt[zt],rt[zt+1],rt[zt+2],ct.x,ct.y,ct.radius)&&(!Qe||Qe(this.circleKeys[yt])))return ze.push(!0),!0}}},Nn.prototype._forEachCell=function(U,ee,J,ae,we,ze,Ze,Qe){for(var ct=this._convertToXCellCoord(U),St=this._convertToYCellCoord(ee),Dt=this._convertToXCellCoord(J),se=this._convertToYCellCoord(ae),me=ct;me<=Dt;me++)for(var Ie=St;Ie<=se;Ie++)if(we.call(this,U,ee,J,ae,this.xCellCount*Ie+me,ze,Ze,Qe))return},Nn.prototype._convertToXCellCoord=function(U){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(U*this.xScale)))},Nn.prototype._convertToYCellCoord=function(U){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(U*this.yScale)))},Nn.prototype._circlesCollide=function(U,ee,J,ae,we,ze){var Ze=ae-U,Qe=we-ee,ct=J+ze;return ct*ct>Ze*Ze+Qe*Qe},Nn.prototype._circleAndRectCollide=function(U,ee,J,ae,we,ze,Ze){var Qe=(ze-ae)/2,ct=Math.abs(U-(ae+Qe));if(ct>Qe+J)return!1;var St=(Ze-we)/2,Dt=Math.abs(ee-(we+St));if(Dt>St+J)return!1;if(ct<=Qe||Dt<=St)return!0;var se=ct-Qe,me=Dt-St;return se*se+me*me<=J*J};var _r=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function mr(U,ee){for(var J=0;J<U;J++){var ae=ee.length;ee.resize(ae+4),ee.float32.set(_r,3*ae)}}function Vr(U,ee,J){var ae=ee[0],we=ee[1];return U[0]=J[0]*ae+J[4]*we+J[12],U[1]=J[1]*ae+J[5]*we+J[13],U[3]=J[3]*ae+J[7]*we+J[15],U}var Dr=100,Un=function(U,ee,J){void 0===ee&&(ee=new Nn(U.width+200,U.height+200,25)),void 0===J&&(J=new Nn(U.width+200,U.height+200,25)),this.transform=U,this.grid=ee,this.ignoredGrid=J,this.pitchfactor=Math.cos(U._pitch)*U.cameraToCenterDistance,this.screenRightBoundary=U.width+Dr,this.screenBottomBoundary=U.height+Dr,this.gridRightBoundary=U.width+200,this.gridBottomBoundary=U.height+200};function ur(U,ee,J){return ee*(f.EXTENT/(U.tileSize*Math.pow(2,J-U.tileID.overscaledZ)))}Un.prototype.placeCollisionBox=function(U,ee,J,ae,we){var ze=this.projectAndGetPerspectiveRatio(ae,U.anchorPointX,U.anchorPointY),Ze=J*ze.perspectiveRatio,Qe=U.x1*Ze+ze.point.x,ct=U.y1*Ze+ze.point.y,St=U.x2*Ze+ze.point.x,Dt=U.y2*Ze+ze.point.y;return!this.isInsideGrid(Qe,ct,St,Dt)||!ee&&this.grid.hitTest(Qe,ct,St,Dt,we)?{box:[],offscreen:!1}:{box:[Qe,ct,St,Dt],offscreen:this.isOffscreen(Qe,ct,St,Dt)}},Un.prototype.placeCollisionCircles=function(U,ee,J,ae,we,ze,Ze,Qe,ct,St,Dt,se,me){var Ie=[],je=new f.Point(ee.anchorX,ee.anchorY),qe=wn(je,ze),Xe=Cn(this.transform.cameraToCenterDistance,qe.signedDistanceFromCamera),rt=(St?we/Xe:we*Xe)/f.ONE_EM,at=wn(je,Ze).point,pt=Fn(rt,ae,ee.lineOffsetX*rt,ee.lineOffsetY*rt,!1,at,je,ee,J,Ze,{}),yt=!1,zt=!1,$t=!0;if(pt){for(var Yt=.5*se*Xe+me,cn=new f.Point(-100,-100),Mn=new f.Point(this.screenRightBoundary,this.screenBottomBoundary),an=new pn,hn=pt.first,sn=pt.last,Ln=[],Dn=hn.path.length-1;Dn>=1;Dn--)Ln.push(hn.path[Dn]);for(var dn=1;dn<sn.path.length;dn++)Ln.push(sn.path[dn]);var Xn=2.5*Yt;if(Qe){var rr=Ln.map(function(xo){return wn(xo,Qe)});Ln=rr.some(function(xo){return xo.signedDistanceFromCamera<=0})?[]:rr.map(function(xo){return xo.point})}var vr=[];if(Ln.length>0){for(var dr=Ln[0].clone(),Lr=Ln[0].clone(),jr=1;jr<Ln.length;jr++)dr.x=Math.min(dr.x,Ln[jr].x),dr.y=Math.min(dr.y,Ln[jr].y),Lr.x=Math.max(Lr.x,Ln[jr].x),Lr.y=Math.max(Lr.y,Ln[jr].y);vr=dr.x>=cn.x&&Lr.x<=Mn.x&&dr.y>=cn.y&&Lr.y<=Mn.y?[Ln]:Lr.x<cn.x||dr.x>Mn.x||Lr.y<cn.y||dr.y>Mn.y?[]:f.clipLine([Ln],cn.x,cn.y,Mn.x,Mn.y)}for(var Er=0,Fr=vr;Er<Fr.length;Er+=1){var Ti;an.reset(Fr[Er],.25*Yt),Ti=an.length<=.5*Yt?1:Math.ceil(an.paddedLength/Xn)+1;for(var ki=0;ki<Ti;ki++){var Rr=ki/Math.max(Ti-1,1),ei=an.lerp(Rr),vi=ei.x+Dr,xi=ei.y+Dr;Ie.push(vi,xi,Yt,0);var Ji=vi-Yt,Vi=xi-Yt,oo=vi+Yt,So=xi+Yt;if($t=$t&&this.isOffscreen(Ji,Vi,oo,So),zt=zt||this.isInsideGrid(Ji,Vi,oo,So),!U&&this.grid.hitTestCircle(vi,xi,Yt,Dt)&&(yt=!0,!ct))return{circles:[],offscreen:!1,collisionDetected:yt}}}}return{circles:!ct&&yt||!zt?[]:Ie,offscreen:$t,collisionDetected:yt}},Un.prototype.queryRenderedSymbols=function(U){if(0===U.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var ee=[],J=1/0,ae=1/0,we=-1/0,ze=-1/0,Ze=0,Qe=U;Ze<Qe.length;Ze+=1){var ct=Qe[Ze],St=new f.Point(ct.x+Dr,ct.y+Dr);J=Math.min(J,St.x),ae=Math.min(ae,St.y),we=Math.max(we,St.x),ze=Math.max(ze,St.y),ee.push(St)}for(var Dt={},se={},me=0,Ie=this.grid.query(J,ae,we,ze).concat(this.ignoredGrid.query(J,ae,we,ze));me<Ie.length;me+=1){var je=Ie[me],qe=je.key;if(void 0===Dt[qe.bucketInstanceId]&&(Dt[qe.bucketInstanceId]={}),!Dt[qe.bucketInstanceId][qe.featureIndex]){var Xe=[new f.Point(je.x1,je.y1),new f.Point(je.x2,je.y1),new f.Point(je.x2,je.y2),new f.Point(je.x1,je.y2)];f.polygonIntersectsPolygon(ee,Xe)&&(Dt[qe.bucketInstanceId][qe.featureIndex]=!0,void 0===se[qe.bucketInstanceId]&&(se[qe.bucketInstanceId]=[]),se[qe.bucketInstanceId].push(qe.featureIndex))}}return se},Un.prototype.insertCollisionBox=function(U,ee,J,ae,we){(ee?this.ignoredGrid:this.grid).insert({bucketInstanceId:J,featureIndex:ae,collisionGroupID:we},U[0],U[1],U[2],U[3])},Un.prototype.insertCollisionCircles=function(U,ee,J,ae,we){for(var ze=ee?this.ignoredGrid:this.grid,Ze={bucketInstanceId:J,featureIndex:ae,collisionGroupID:we},Qe=0;Qe<U.length;Qe+=4)ze.insertCircle(Ze,U[Qe],U[Qe+1],U[Qe+2])},Un.prototype.projectAndGetPerspectiveRatio=function(U,ee,J){var ae=[ee,J,0,1];return Vr(ae,ae,U),{point:new f.Point((ae[0]/ae[3]+1)/2*this.transform.width+Dr,(-ae[1]/ae[3]+1)/2*this.transform.height+Dr),perspectiveRatio:.5+this.transform.cameraToCenterDistance/ae[3]*.5}},Un.prototype.isOffscreen=function(U,ee,J,ae){return J<Dr||U>=this.screenRightBoundary||ae<Dr||ee>this.screenBottomBoundary},Un.prototype.isInsideGrid=function(U,ee,J,ae){return J>=0&&U<this.gridRightBoundary&&ae>=0&&ee<this.gridBottomBoundary},Un.prototype.getViewportMatrix=function(){var U=f.identity([]);return f.translate(U,U,[-100,-100,0]),U};var cr=function(U,ee,J,ae){this.opacity=U?Math.max(0,Math.min(1,U.opacity+(U.placed?ee:-ee))):ae&&J?1:0,this.placed=J};cr.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var on=function(U,ee,J,ae,we){this.text=new cr(U?U.text:null,ee,J,we),this.icon=new cr(U?U.icon:null,ee,ae,we)};on.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var xn=function(U,ee,J){this.text=U,this.icon=ee,this.skipFade=J},Wn=function(){this.invProjMatrix=f.create(),this.viewportMatrix=f.create(),this.circles=[]},Bn=function(U,ee,J,ae,we){this.bucketInstanceId=U,this.featureIndex=ee,this.sourceLayerIndex=J,this.bucketIndex=ae,this.tileID=we},qn=function(U){this.crossSourceCollisions=U,this.maxGroupID=0,this.collisionGroups={}};function nr(U,ee,J,ae,we){var ze=f.getAnchorAlignment(U),Ze=-(ze.horizontalAlign-.5)*ee,Qe=-(ze.verticalAlign-.5)*J,ct=f.evaluateVariableOffset(U,ae);return new f.Point(Ze+ct[0]*we,Qe+ct[1]*we)}function fr(U,ee,J,ae,we,ze){var Ze=U.x1,Qe=U.x2,ct=U.y1,St=U.y2,Dt=U.anchorPointX,se=U.anchorPointY,me=new f.Point(ee,J);return ae&&me._rotate(we?ze:-ze),{x1:Ze+me.x,y1:ct+me.y,x2:Qe+me.x,y2:St+me.y,anchorPointX:Dt,anchorPointY:se}}qn.prototype.get=function(U){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[U]){var ee=++this.maxGroupID;this.collisionGroups[U]={ID:ee,predicate:function(J){return J.collisionGroupID===ee}}}return this.collisionGroups[U]};var Sr=function(U,ee,J,ae){this.transform=U.clone(),this.collisionIndex=new Un(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=ee,this.retainedQueryData={},this.collisionGroups=new qn(J),this.collisionCircleArrays={},this.prevPlacement=ae,ae&&(ae.prevPlacement=void 0),this.placedOrientations={}};function Ur(U,ee,J,ae,we){U.emplaceBack(ee?1:0,J?1:0,ae||0,we||0),U.emplaceBack(ee?1:0,J?1:0,ae||0,we||0),U.emplaceBack(ee?1:0,J?1:0,ae||0,we||0),U.emplaceBack(ee?1:0,J?1:0,ae||0,we||0)}Sr.prototype.getBucketParts=function(U,ee,J,ae){var we=J.getBucket(ee),ze=J.latestFeatureIndex;if(we&&ze&&ee.id===we.layerIds[0]){var Ze=J.collisionBoxArray,Qe=we.layers[0].layout,ct=Math.pow(2,this.transform.zoom-J.tileID.overscaledZ),St=J.tileSize/f.EXTENT,Dt=this.transform.calculatePosMatrix(J.tileID.toUnwrapped()),se="map"===Qe.get("text-pitch-alignment"),me="map"===Qe.get("text-rotation-alignment"),Ie=ur(J,1,this.transform.zoom),je=tr(Dt,se,me,this.transform,Ie),qe=null;if(se){var Xe=On(Dt,se,me,this.transform,Ie);qe=f.multiply([],this.transform.labelPlaneMatrix,Xe)}this.retainedQueryData[we.bucketInstanceId]=new Bn(we.bucketInstanceId,ze,we.sourceLayerIndex,we.index,J.tileID);var rt={bucket:we,layout:Qe,posMatrix:Dt,textLabelPlaneMatrix:je,labelToScreenMatrix:qe,scale:ct,textPixelRatio:St,holdingForFade:J.holdingForFade(),collisionBoxArray:Ze,partiallyEvaluatedTextSize:f.evaluateSizeForZoom(we.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(we.sourceID)};if(ae)for(var at=0,pt=we.sortKeyRanges;at<pt.length;at+=1){var yt=pt[at];U.push({sortKey:yt.sortKey,symbolInstanceStart:yt.symbolInstanceStart,symbolInstanceEnd:yt.symbolInstanceEnd,parameters:rt})}else U.push({symbolInstanceStart:0,symbolInstanceEnd:we.symbolInstances.length,parameters:rt})}},Sr.prototype.attemptAnchorPlacement=function(U,ee,J,ae,we,ze,Ze,Qe,ct,St,Dt,se,me,Ie,je){var qe,Xe=[se.textOffset0,se.textOffset1],rt=nr(U,J,ae,Xe,we),at=this.collisionIndex.placeCollisionBox(fr(ee,rt.x,rt.y,ze,Ze,this.transform.angle),Dt,Qe,ct,St.predicate);if(!je||0!==this.collisionIndex.placeCollisionBox(fr(je,rt.x,rt.y,ze,Ze,this.transform.angle),Dt,Qe,ct,St.predicate).box.length)return at.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[se.crossTileID]&&this.prevPlacement.placements[se.crossTileID]&&this.prevPlacement.placements[se.crossTileID].text&&(qe=this.prevPlacement.variableOffsets[se.crossTileID].anchor),this.variableOffsets[se.crossTileID]={textOffset:Xe,width:J,height:ae,anchor:U,textBoxScale:we,prevAnchor:qe},this.markUsedJustification(me,U,se,Ie),me.allowVerticalPlacement&&(this.markUsedOrientation(me,Ie,se),this.placedOrientations[se.crossTileID]=Ie),{shift:rt,placedGlyphBoxes:at}):void 0},Sr.prototype.placeLayerBucketPart=function(U,ee,J){var ae=this,we=U.parameters,ze=we.bucket,Ze=we.layout,Qe=we.posMatrix,ct=we.textLabelPlaneMatrix,St=we.labelToScreenMatrix,Dt=we.textPixelRatio,se=we.holdingForFade,me=we.collisionBoxArray,Ie=we.partiallyEvaluatedTextSize,je=we.collisionGroup,qe=Ze.get("text-optional"),Xe=Ze.get("icon-optional"),rt=Ze.get("text-allow-overlap"),at=Ze.get("icon-allow-overlap"),pt="map"===Ze.get("text-rotation-alignment"),yt="map"===Ze.get("text-pitch-alignment"),zt="none"!==Ze.get("icon-text-fit"),$t="viewport-y"===Ze.get("symbol-z-order"),Yt=rt&&(at||!ze.hasIconData()||Xe),cn=at&&(rt||!ze.hasTextData()||qe);!ze.collisionArrays&&me&&ze.deserializeCollisionBoxes(me);var Mn=function(dn,Xn){if(!ee[dn.crossTileID])if(se)ae.placements[dn.crossTileID]=new xn(!1,!1,!1);else{var rr,vr=!1,dr=!1,Lr=!0,jr=null,Er={box:null,offscreen:null},Fr={box:null,offscreen:null},Kr=null,Ti=null,ki=0,Rr=0,ei=0;Xn.textFeatureIndex?ki=Xn.textFeatureIndex:dn.useRuntimeCollisionCircles&&(ki=dn.featureIndex),Xn.verticalTextFeatureIndex&&(Rr=Xn.verticalTextFeatureIndex);var vi=Xn.textBox;if(vi){var xi=function($i){var pa=f.WritingMode.horizontal;if(ze.allowVerticalPlacement&&!$i&&ae.prevPlacement){var jo=ae.prevPlacement.placedOrientations[dn.crossTileID];jo&&(ae.placedOrientations[dn.crossTileID]=jo,ae.markUsedOrientation(ze,pa=jo,dn))}return pa},Ji=function($i,pa){if(ze.allowVerticalPlacement&&dn.numVerticalGlyphVertices>0&&Xn.verticalTextBox)for(var jo=0,uc=ze.writingModes;jo<uc.length&&(uc[jo]===f.WritingMode.vertical?(Er=pa(),Fr=Er):Er=$i(),!(Er&&Er.box&&Er.box.length));jo+=1);else Er=$i()};if(Ze.get("text-variable-anchor")){var Vi=Ze.get("text-variable-anchor");if(ae.prevPlacement&&ae.prevPlacement.variableOffsets[dn.crossTileID]){var oo=ae.prevPlacement.variableOffsets[dn.crossTileID];Vi.indexOf(oo.anchor)>0&&(Vi=Vi.filter(function($i){return $i!==oo.anchor})).unshift(oo.anchor)}var So=function($i,pa,jo){for(var uc=$i.x2-$i.x1,Yf=$i.y2-$i.y1,_f=dn.textBoxScale,$d=zt&&!at?pa:null,cc={box:[],offscreen:!1},Xf=rt?2*Vi.length:Vi.length,xf=0;xf<Xf;++xf){var fc=ae.attemptAnchorPlacement(Vi[xf%Vi.length],$i,uc,Yf,_f,pt,yt,Dt,Qe,je,xf>=Vi.length,dn,ze,jo,$d);if(fc&&(cc=fc.placedGlyphBoxes)&&cc.box&&cc.box.length){vr=!0,jr=fc.shift;break}}return cc};Ji(function(){return So(vi,Xn.iconBox,f.WritingMode.horizontal)},function(){var $i=Xn.verticalTextBox;return ze.allowVerticalPlacement&&!(Er&&Er.box&&Er.box.length)&&dn.numVerticalGlyphVertices>0&&$i?So($i,Xn.verticalIconBox,f.WritingMode.vertical):{box:null,offscreen:null}}),Er&&(vr=Er.box,Lr=Er.offscreen);var xo=xi(Er&&Er.box);if(!vr&&ae.prevPlacement){var bo=ae.prevPlacement.variableOffsets[dn.crossTileID];bo&&(ae.variableOffsets[dn.crossTileID]=bo,ae.markUsedJustification(ze,bo.anchor,dn,xo))}}else{var mo=function($i,pa){var jo=ae.collisionIndex.placeCollisionBox($i,rt,Dt,Qe,je.predicate);return jo&&jo.box&&jo.box.length&&(ae.markUsedOrientation(ze,pa,dn),ae.placedOrientations[dn.crossTileID]=pa),jo};Ji(function(){return mo(vi,f.WritingMode.horizontal)},function(){var $i=Xn.verticalTextBox;return ze.allowVerticalPlacement&&dn.numVerticalGlyphVertices>0&&$i?mo($i,f.WritingMode.vertical):{box:null,offscreen:null}}),xi(Er&&Er.box&&Er.box.length)}}if(vr=(rr=Er)&&rr.box&&rr.box.length>0,Lr=rr&&rr.offscreen,dn.useRuntimeCollisionCircles){var ao=ze.text.placedSymbolArray.get(dn.centerJustifiedTextSymbolIndex),wo=f.evaluateSizeForFeature(ze.textSizeData,Ie,ao),Bo=Ze.get("text-padding");Kr=ae.collisionIndex.placeCollisionCircles(rt,ao,ze.lineVertexArray,ze.glyphOffsetArray,wo,Qe,ct,St,J,yt,je.predicate,dn.collisionCircleDiameter,Bo),vr=rt||Kr.circles.length>0&&!Kr.collisionDetected,Lr=Lr&&Kr.offscreen}if(Xn.iconFeatureIndex&&(ei=Xn.iconFeatureIndex),Xn.iconBox){var fa=function($i){var pa=zt&&jr?fr($i,jr.x,jr.y,pt,yt,ae.transform.angle):$i;return ae.collisionIndex.placeCollisionBox(pa,at,Dt,Qe,je.predicate)};dr=Fr&&Fr.box&&Fr.box.length&&Xn.verticalIconBox?(Ti=fa(Xn.verticalIconBox)).box.length>0:(Ti=fa(Xn.iconBox)).box.length>0,Lr=Lr&&Ti.offscreen}var bi=qe||0===dn.numHorizontalGlyphVertices&&0===dn.numVerticalGlyphVertices,ha=Xe||0===dn.numIconVertices;if(bi||ha?ha?bi||(dr=dr&&vr):vr=dr&&vr:dr=vr=dr&&vr,vr&&rr&&rr.box&&ae.collisionIndex.insertCollisionBox(rr.box,Ze.get("text-ignore-placement"),ze.bucketInstanceId,Fr&&Fr.box&&Rr?Rr:ki,je.ID),dr&&Ti&&ae.collisionIndex.insertCollisionBox(Ti.box,Ze.get("icon-ignore-placement"),ze.bucketInstanceId,ei,je.ID),Kr&&(vr&&ae.collisionIndex.insertCollisionCircles(Kr.circles,Ze.get("text-ignore-placement"),ze.bucketInstanceId,ki,je.ID),J)){var da=ze.bucketInstanceId,$o=ae.collisionCircleArrays[da];void 0===$o&&($o=ae.collisionCircleArrays[da]=new Wn);for(var Ws=0;Ws<Kr.circles.length;Ws+=4)$o.circles.push(Kr.circles[Ws+0]),$o.circles.push(Kr.circles[Ws+1]),$o.circles.push(Kr.circles[Ws+2]),$o.circles.push(Kr.collisionDetected?1:0)}ae.placements[dn.crossTileID]=new xn(vr||Yt,dr||cn,Lr||ze.justReloaded),ee[dn.crossTileID]=!0}};if($t)for(var an=ze.getSortedSymbolIndexes(this.transform.angle),hn=an.length-1;hn>=0;--hn){var sn=an[hn];Mn(ze.symbolInstances.get(sn),ze.collisionArrays[sn])}else for(var Ln=U.symbolInstanceStart;Ln<U.symbolInstanceEnd;Ln++)Mn(ze.symbolInstances.get(Ln),ze.collisionArrays[Ln]);if(J&&ze.bucketInstanceId in this.collisionCircleArrays){var Dn=this.collisionCircleArrays[ze.bucketInstanceId];f.invert(Dn.invProjMatrix,Qe),Dn.viewportMatrix=this.collisionIndex.getViewportMatrix()}ze.justReloaded=!1},Sr.prototype.markUsedJustification=function(U,ee,J,ae){var we;we=ae===f.WritingMode.vertical?J.verticalPlacedTextSymbolIndex:{left:J.leftJustifiedTextSymbolIndex,center:J.centerJustifiedTextSymbolIndex,right:J.rightJustifiedTextSymbolIndex}[f.getAnchorJustification(ee)];for(var Ze=0,Qe=[J.leftJustifiedTextSymbolIndex,J.centerJustifiedTextSymbolIndex,J.rightJustifiedTextSymbolIndex,J.verticalPlacedTextSymbolIndex];Ze<Qe.length;Ze+=1){var ct=Qe[Ze];ct>=0&&(U.text.placedSymbolArray.get(ct).crossTileID=we>=0&&ct!==we?0:J.crossTileID)}},Sr.prototype.markUsedOrientation=function(U,ee,J){for(var ae=ee===f.WritingMode.horizontal||ee===f.WritingMode.horizontalOnly?ee:0,we=ee===f.WritingMode.vertical?ee:0,ze=0,Ze=[J.leftJustifiedTextSymbolIndex,J.centerJustifiedTextSymbolIndex,J.rightJustifiedTextSymbolIndex];ze<Ze.length;ze+=1)U.text.placedSymbolArray.get(Ze[ze]).placedOrientation=ae;J.verticalPlacedTextSymbolIndex&&(U.text.placedSymbolArray.get(J.verticalPlacedTextSymbolIndex).placedOrientation=we)},Sr.prototype.commit=function(U){this.commitTime=U,this.zoomAtLastRecencyCheck=this.transform.zoom;var ee=this.prevPlacement,J=!1;this.prevZoomAdjustment=ee?ee.zoomAdjustment(this.transform.zoom):0;var ae=ee?ee.symbolFadeChange(U):1,we=ee?ee.opacities:{},ze=ee?ee.variableOffsets:{},Ze=ee?ee.placedOrientations:{};for(var Qe in this.placements){var ct=this.placements[Qe],St=we[Qe];St?(this.opacities[Qe]=new on(St,ae,ct.text,ct.icon),J=J||ct.text!==St.text.placed||ct.icon!==St.icon.placed):(this.opacities[Qe]=new on(null,ae,ct.text,ct.icon,ct.skipFade),J=J||ct.text||ct.icon)}for(var Dt in we){var se=we[Dt];if(!this.opacities[Dt]){var me=new on(se,ae,!1,!1);me.isHidden()||(this.opacities[Dt]=me,J=J||se.text.placed||se.icon.placed)}}for(var Ie in ze)this.variableOffsets[Ie]||!this.opacities[Ie]||this.opacities[Ie].isHidden()||(this.variableOffsets[Ie]=ze[Ie]);for(var je in Ze)this.placedOrientations[je]||!this.opacities[je]||this.opacities[je].isHidden()||(this.placedOrientations[je]=Ze[je]);J?this.lastPlacementChangeTime=U:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=ee?ee.lastPlacementChangeTime:U)},Sr.prototype.updateLayerOpacities=function(U,ee){for(var J={},ae=0,we=ee;ae<we.length;ae+=1){var ze=we[ae],Ze=ze.getBucket(U);Ze&&ze.latestFeatureIndex&&U.id===Ze.layerIds[0]&&this.updateBucketOpacities(Ze,J,ze.collisionBoxArray)}},Sr.prototype.updateBucketOpacities=function(U,ee,J){var ae=this;U.hasTextData()&&U.text.opacityVertexArray.clear(),U.hasIconData()&&U.icon.opacityVertexArray.clear(),U.hasIconCollisionBoxData()&&U.iconCollisionBox.collisionVertexArray.clear(),U.hasTextCollisionBoxData()&&U.textCollisionBox.collisionVertexArray.clear();var we=U.layers[0].layout,ze=new on(null,0,!1,!1,!0),Ze=we.get("text-allow-overlap"),Qe=we.get("icon-allow-overlap"),ct=we.get("text-variable-anchor"),St="map"===we.get("text-rotation-alignment"),Dt="map"===we.get("text-pitch-alignment"),se="none"!==we.get("icon-text-fit"),me=new on(null,0,Ze&&(Qe||!U.hasIconData()||we.get("icon-optional")),Qe&&(Ze||!U.hasTextData()||we.get("text-optional")),!0);!U.collisionArrays&&J&&(U.hasIconCollisionBoxData()||U.hasTextCollisionBoxData())&&U.deserializeCollisionBoxes(J);for(var Ie=function(rt,at,pt){for(var yt=0;yt<at/4;yt++)rt.opacityVertexArray.emplaceBack(pt)},je=function(rt){var at=U.symbolInstances.get(rt),pt=at.numHorizontalGlyphVertices,yt=at.numVerticalGlyphVertices,zt=at.crossTileID,Yt=ae.opacities[zt];ee[zt]?Yt=ze:Yt||(ae.opacities[zt]=Yt=me),ee[zt]=!0;var Mn=at.numIconVertices>0,an=ae.placedOrientations[at.crossTileID],hn=an===f.WritingMode.vertical,sn=an===f.WritingMode.horizontal||an===f.WritingMode.horizontalOnly;if(pt>0||yt>0){var Ln=zn(Yt.text);Ie(U.text,pt,hn?bn:Ln),Ie(U.text,yt,sn?bn:Ln);var Xn=Yt.text.isHidden();[at.rightJustifiedTextSymbolIndex,at.centerJustifiedTextSymbolIndex,at.leftJustifiedTextSymbolIndex].forEach(function(ei){ei>=0&&(U.text.placedSymbolArray.get(ei).hidden=Xn||hn?1:0)}),at.verticalPlacedTextSymbolIndex>=0&&(U.text.placedSymbolArray.get(at.verticalPlacedTextSymbolIndex).hidden=Xn||sn?1:0);var rr=ae.variableOffsets[at.crossTileID];rr&&ae.markUsedJustification(U,rr.anchor,at,an);var vr=ae.placedOrientations[at.crossTileID];vr&&(ae.markUsedJustification(U,"left",at,vr),ae.markUsedOrientation(U,vr,at))}if(Mn){var dr=zn(Yt.icon),Lr=!(se&&at.verticalPlacedIconSymbolIndex&&hn);at.placedIconSymbolIndex>=0&&(Ie(U.icon,at.numIconVertices,Lr?dr:bn),U.icon.placedSymbolArray.get(at.placedIconSymbolIndex).hidden=Yt.icon.isHidden()),at.verticalPlacedIconSymbolIndex>=0&&(Ie(U.icon,at.numVerticalIconVertices,Lr?bn:dr),U.icon.placedSymbolArray.get(at.verticalPlacedIconSymbolIndex).hidden=Yt.icon.isHidden())}if(U.hasIconCollisionBoxData()||U.hasTextCollisionBoxData()){var Fr=U.collisionArrays[rt];if(Fr){var Kr=new f.Point(0,0);if(Fr.textBox||Fr.verticalTextBox){var Ti=!0;if(ct){var ki=ae.variableOffsets[zt];ki?(Kr=nr(ki.anchor,ki.width,ki.height,ki.textOffset,ki.textBoxScale),St&&Kr._rotate(Dt?ae.transform.angle:-ae.transform.angle)):Ti=!1}Fr.textBox&&Ur(U.textCollisionBox.collisionVertexArray,Yt.text.placed,!Ti||hn,Kr.x,Kr.y),Fr.verticalTextBox&&Ur(U.textCollisionBox.collisionVertexArray,Yt.text.placed,!Ti||sn,Kr.x,Kr.y)}var Rr=Boolean(!sn&&Fr.verticalIconBox);Fr.iconBox&&Ur(U.iconCollisionBox.collisionVertexArray,Yt.icon.placed,Rr,se?Kr.x:0,se?Kr.y:0),Fr.verticalIconBox&&Ur(U.iconCollisionBox.collisionVertexArray,Yt.icon.placed,!Rr,se?Kr.x:0,se?Kr.y:0)}}},qe=0;qe<U.symbolInstances.length;qe++)je(qe);if(U.sortFeatures(this.transform.angle),this.retainedQueryData[U.bucketInstanceId]&&(this.retainedQueryData[U.bucketInstanceId].featureSortOrder=U.featureSortOrder),U.hasTextData()&&U.text.opacityVertexBuffer&&U.text.opacityVertexBuffer.updateData(U.text.opacityVertexArray),U.hasIconData()&&U.icon.opacityVertexBuffer&&U.icon.opacityVertexBuffer.updateData(U.icon.opacityVertexArray),U.hasIconCollisionBoxData()&&U.iconCollisionBox.collisionVertexBuffer&&U.iconCollisionBox.collisionVertexBuffer.updateData(U.iconCollisionBox.collisionVertexArray),U.hasTextCollisionBoxData()&&U.textCollisionBox.collisionVertexBuffer&&U.textCollisionBox.collisionVertexBuffer.updateData(U.textCollisionBox.collisionVertexArray),U.bucketInstanceId in this.collisionCircleArrays){var Xe=this.collisionCircleArrays[U.bucketInstanceId];U.placementInvProjMatrix=Xe.invProjMatrix,U.placementViewportMatrix=Xe.viewportMatrix,U.collisionCircleArray=Xe.circles,delete this.collisionCircleArrays[U.bucketInstanceId]}},Sr.prototype.symbolFadeChange=function(U){return 0===this.fadeDuration?1:(U-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Sr.prototype.zoomAdjustment=function(U){return Math.max(0,(this.transform.zoom-U)/1.5)},Sr.prototype.hasTransitions=function(U){return this.stale||U-this.lastPlacementChangeTime<this.fadeDuration},Sr.prototype.stillRecent=function(U,ee){var J=this.zoomAtLastRecencyCheck===ee?1-this.zoomAdjustment(ee):1;return this.zoomAtLastRecencyCheck=ee,this.commitTime+this.fadeDuration*J>U},Sr.prototype.setStale=function(){this.stale=!0};var fn=Math.pow(2,25),Vn=Math.pow(2,24),Wt=Math.pow(2,17),un=Math.pow(2,16),vn=Math.pow(2,9),$n=Math.pow(2,8),Hn=Math.pow(2,1);function zn(U){if(0===U.opacity&&!U.placed)return 0;if(1===U.opacity&&U.placed)return 4294967295;var ee=U.placed?1:0,J=Math.floor(127*U.opacity);return J*fn+ee*Vn+J*Wt+ee*un+J*vn+ee*$n+J*Hn+ee}var bn=0,Sn=function(U){this._sortAcrossTiles="viewport-y"!==U.layout.get("symbol-z-order")&&void 0!==U.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Sn.prototype.continuePlacement=function(U,ee,J,ae,we){for(var ze=this._bucketParts;this._currentTileIndex<U.length;)if(ee.getBucketParts(ze,ae,U[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,we())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,ze.sort(function(ct,St){return ct.sortKey-St.sortKey}));this._currentPartIndex<ze.length;)if(ee.placeLayerBucketPart(ze[this._currentPartIndex],this._seenCrossTileIDs,J),this._currentPartIndex++,we())return!0;return!1};var gn=function(U,ee,J,ae,we,ze,Ze){this.placement=new Sr(U,we,ze,Ze),this._currentPlacementIndex=ee.length-1,this._forceFullPlacement=J,this._showCollisionBoxes=ae,this._done=!1};gn.prototype.isDone=function(){return this._done},gn.prototype.continuePlacement=function(U,ee,J){for(var ae=this,we=f.browser.now(),ze=function(){var ct=f.browser.now()-we;return!ae._forceFullPlacement&&ct>2};this._currentPlacementIndex>=0;){var Ze=ee[U[this._currentPlacementIndex]],Qe=this.placement.collisionIndex.transform.zoom;if("symbol"===Ze.type&&(!Ze.minzoom||Ze.minzoom<=Qe)&&(!Ze.maxzoom||Ze.maxzoom>Qe)){if(this._inProgressLayer||(this._inProgressLayer=new Sn(Ze)),this._inProgressLayer.continuePlacement(J[Ze.source],this.placement,this._showCollisionBoxes,Ze,ze))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},gn.prototype.commit=function(U){return this.placement.commit(U),this.placement};var kn=512/f.EXTENT/2,In=function(U,ee,J){this.tileID=U,this.indexedSymbolInstances={},this.bucketInstanceId=J;for(var ae=0;ae<ee.length;ae++){var we=ee.get(ae),ze=we.key;this.indexedSymbolInstances[ze]||(this.indexedSymbolInstances[ze]=[]),this.indexedSymbolInstances[ze].push({crossTileID:we.crossTileID,coord:this.getScaledCoordinates(we,U)})}};In.prototype.getScaledCoordinates=function(U,ee){var ae=kn/Math.pow(2,ee.canonical.z-this.tileID.canonical.z);return{x:Math.floor((ee.canonical.x*f.EXTENT+U.anchorX)*ae),y:Math.floor((ee.canonical.y*f.EXTENT+U.anchorY)*ae)}},In.prototype.findMatches=function(U,ee,J){for(var ae=this.tileID.canonical.z<ee.canonical.z?1:Math.pow(2,this.tileID.canonical.z-ee.canonical.z),we=0;we<U.length;we++){var ze=U.get(we);if(!ze.crossTileID){var Ze=this.indexedSymbolInstances[ze.key];if(Ze)for(var Qe=this.getScaledCoordinates(ze,ee),ct=0,St=Ze;ct<St.length;ct+=1){var Dt=St[ct];if(Math.abs(Dt.coord.x-Qe.x)<=ae&&Math.abs(Dt.coord.y-Qe.y)<=ae&&!J[Dt.crossTileID]){J[Dt.crossTileID]=!0,ze.crossTileID=Dt.crossTileID;break}}}}};var Yn=function(){this.maxCrossTileID=0};Yn.prototype.generate=function(){return++this.maxCrossTileID};var Rn=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Rn.prototype.handleWrapJump=function(U){var ee=Math.round((U-this.lng)/360);if(0!==ee)for(var J in this.indexes){var ae=this.indexes[J],we={};for(var ze in ae){var Ze=ae[ze];Ze.tileID=Ze.tileID.unwrapTo(Ze.tileID.wrap+ee),we[Ze.tileID.key]=Ze}this.indexes[J]=we}this.lng=U},Rn.prototype.addBucket=function(U,ee,J){if(this.indexes[U.overscaledZ]&&this.indexes[U.overscaledZ][U.key]){if(this.indexes[U.overscaledZ][U.key].bucketInstanceId===ee.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(U.overscaledZ,this.indexes[U.overscaledZ][U.key])}for(var ae=0;ae<ee.symbolInstances.length;ae++)ee.symbolInstances.get(ae).crossTileID=0;this.usedCrossTileIDs[U.overscaledZ]||(this.usedCrossTileIDs[U.overscaledZ]={});var we=this.usedCrossTileIDs[U.overscaledZ];for(var ze in this.indexes){var Ze=this.indexes[ze];if(Number(ze)>U.overscaledZ)for(var Qe in Ze){var ct=Ze[Qe];ct.tileID.isChildOf(U)&&ct.findMatches(ee.symbolInstances,U,we)}else{var St=Ze[U.scaledTo(Number(ze)).key];St&&St.findMatches(ee.symbolInstances,U,we)}}for(var Dt=0;Dt<ee.symbolInstances.length;Dt++){var se=ee.symbolInstances.get(Dt);se.crossTileID||(se.crossTileID=J.generate(),we[se.crossTileID]=!0)}return void 0===this.indexes[U.overscaledZ]&&(this.indexes[U.overscaledZ]={}),this.indexes[U.overscaledZ][U.key]=new In(U,ee.symbolInstances,ee.bucketInstanceId),!0},Rn.prototype.removeBucketCrossTileIDs=function(U,ee){for(var J in ee.indexedSymbolInstances)for(var ae=0,we=ee.indexedSymbolInstances[J];ae<we.length;ae+=1)delete this.usedCrossTileIDs[U][we[ae].crossTileID]},Rn.prototype.removeStaleBuckets=function(U){var ee=!1;for(var J in this.indexes){var ae=this.indexes[J];for(var we in ae)U[ae[we].bucketInstanceId]||(this.removeBucketCrossTileIDs(J,ae[we]),delete ae[we],ee=!0)}return ee};var hr=function(){this.layerIndexes={},this.crossTileIDs=new Yn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};hr.prototype.addLayer=function(U,ee,J){var ae=this.layerIndexes[U.id];void 0===ae&&(ae=this.layerIndexes[U.id]=new Rn);var we=!1,ze={};ae.handleWrapJump(J);for(var Ze=0,Qe=ee;Ze<Qe.length;Ze+=1){var ct=Qe[Ze],St=ct.getBucket(U);St&&U.id===St.layerIds[0]&&(St.bucketInstanceId||(St.bucketInstanceId=++this.maxBucketInstanceId),ae.addBucket(ct.tileID,St,this.crossTileIDs)&&(we=!0),ze[St.bucketInstanceId]=!0)}return ae.removeStaleBuckets(ze)&&(we=!0),we},hr.prototype.pruneUnusedLayers=function(U){var ee={};for(var J in U.forEach(function(ae){ee[ae]=!0}),this.layerIndexes)ee[J]||delete this.layerIndexes[J]};var sr=function(U,ee){return f.emitValidationErrors(U,ee&&ee.filter(function(J){return"source.canvas"!==J.identifier}))},wr=f.pick(kt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Tr=f.pick(kt,["setCenter","setZoom","setBearing","setPitch"]),Cr=function(){var U={},ee=f.styleSpec.$version;for(var J in f.styleSpec.$root){var we,ae=f.styleSpec.$root[J];ae.required&&null!=(we="version"===J?ee:"array"===ae.type?[]:{})&&(U[J]=we)}return U}(),Ar=function(U){function ee(J,ae){var we=this;void 0===ae&&(ae={}),U.call(this),this.map=J,this.dispatcher=new P(Nt(),this),this.imageManager=new g,this.imageManager.setEventedParent(this),this.glyphManager=new b(J._requestManager,ae.localIdeographFontFamily),this.lineAtlas=new I(256,512),this.crossTileSymbolIndex=new hr,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new f.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",f.getReferrer());var ze=this;this._rtlTextPluginCallback=ee.registerForPluginStateChange(function(Ze){ze.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:Ze.pluginStatus,pluginURL:Ze.pluginURL},function(ct,St){if(f.triggerPluginCompletionEvent(ct),St&&St.every(function(se){return se}))for(var Dt in ze.sourceCaches)ze.sourceCaches[Dt].reload()})}),this.on("data",function(Ze){if("source"===Ze.dataType&&"metadata"===Ze.sourceDataType){var Qe=we.sourceCaches[Ze.sourceId];if(Qe){var ct=Qe.getSource();if(ct&&ct.vectorLayerIds)for(var St in we._layers){var Dt=we._layers[St];Dt.source===ct.id&&we._validateLayer(Dt)}}}})}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.loadURL=function(J,ae){var we=this;void 0===ae&&(ae={}),this.fire(new f.Event("dataloading",{dataType:"style"}));var ze="boolean"==typeof ae.validate?ae.validate:!f.isMapboxURL(J);J=this.map._requestManager.normalizeStyleURL(J,ae.accessToken);var Ze=this.map._requestManager.transformRequest(J,f.ResourceType.Style);this._request=f.getJSON(Ze,function(Qe,ct){we._request=null,Qe?we.fire(new f.ErrorEvent(Qe)):ct&&we._load(ct,ze)})},ee.prototype.loadJSON=function(J,ae){var we=this;void 0===ae&&(ae={}),this.fire(new f.Event("dataloading",{dataType:"style"})),this._request=f.browser.frame(function(){we._request=null,we._load(J,!1!==ae.validate)})},ee.prototype.loadEmpty=function(){this.fire(new f.Event("dataloading",{dataType:"style"})),this._load(Cr,!1)},ee.prototype._load=function(J,ae){if(!ae||!sr(this,f.validateStyle(J))){for(var we in this._loaded=!0,this.stylesheet=J,J.sources)this.addSource(we,J.sources[we],{validate:!1});J.sprite?this._loadSprite(J.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(J.glyphs);var ze=Mt(this.stylesheet.layers);this._order=ze.map(function(St){return St.id}),this._layers={},this._serializedLayers={};for(var Ze=0,Qe=ze;Ze<Qe.length;Ze+=1){var ct=Qe[Ze];(ct=f.createStyleLayer(ct)).setEventedParent(this,{layer:{id:ct.id}}),this._layers[ct.id]=ct,this._serializedLayers[ct.id]=ct.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new A(this.stylesheet.light),this.fire(new f.Event("data",{dataType:"style"})),this.fire(new f.Event("style.load"))}},ee.prototype._loadSprite=function(J){var ae=this;this._spriteRequest=function(we,ze,Ze){var Qe,ct,St,Dt=f.browser.devicePixelRatio>1?"@2x":"",se=f.getJSON(ze.transformRequest(ze.normalizeSpriteURL(we,Dt,".json"),f.ResourceType.SpriteJSON),function(je,qe){se=null,St||(St=je,Qe=qe,Ie())}),me=f.getImage(ze.transformRequest(ze.normalizeSpriteURL(we,Dt,".png"),f.ResourceType.SpriteImage),function(je,qe){me=null,St||(St=je,ct=qe,Ie())});function Ie(){if(St)Ze(St);else if(Qe&&ct){var je=f.browser.getImageData(ct),qe={};for(var Xe in Qe){var rt=Qe[Xe],at=rt.width,pt=rt.height,yt=rt.x,zt=rt.y,$t=rt.sdf,Yt=rt.pixelRatio,cn=rt.stretchX,Mn=rt.stretchY,an=rt.content,hn=new f.RGBAImage({width:at,height:pt});f.RGBAImage.copy(je,hn,{x:yt,y:zt},{x:0,y:0},{width:at,height:pt}),qe[Xe]={data:hn,pixelRatio:Yt,sdf:$t,stretchX:cn,stretchY:Mn,content:an}}Ze(null,qe)}}return{cancel:function(){se&&(se.cancel(),se=null),me&&(me.cancel(),me=null)}}}(J,this.map._requestManager,function(we,ze){if(ae._spriteRequest=null,we)ae.fire(new f.ErrorEvent(we));else if(ze)for(var Ze in ze)ae.imageManager.addImage(Ze,ze[Ze]);ae.imageManager.setLoaded(!0),ae._availableImages=ae.imageManager.listImages(),ae.dispatcher.broadcast("setImages",ae._availableImages),ae.fire(new f.Event("data",{dataType:"style"}))})},ee.prototype._validateLayer=function(J){var ae=this.sourceCaches[J.source];if(ae){var we=J.sourceLayer;if(we){var ze=ae.getSource();("geojson"===ze.type||ze.vectorLayerIds&&-1===ze.vectorLayerIds.indexOf(we))&&this.fire(new f.ErrorEvent(new Error('Source layer "'+we+'" does not exist on source "'+ze.id+'" as specified by style layer "'+J.id+'"')))}}},ee.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var J in this.sourceCaches)if(!this.sourceCaches[J].loaded())return!1;return!!this.imageManager.isLoaded()},ee.prototype._serializeLayers=function(J){for(var ae=[],we=0,ze=J;we<ze.length;we+=1){var Qe=this._layers[ze[we]];"custom"!==Qe.type&&ae.push(Qe.serialize())}return ae},ee.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var J in this.sourceCaches)if(this.sourceCaches[J].hasTransition())return!0;for(var ae in this._layers)if(this._layers[ae].hasTransition())return!0;return!1},ee.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},ee.prototype.update=function(J){if(this._loaded){var ae=this._changed;if(this._changed){var we=Object.keys(this._updatedLayers),ze=Object.keys(this._removedLayers);for(var Ze in(we.length||ze.length)&&this._updateWorkerLayers(we,ze),this._updatedSources){var Qe=this._updatedSources[Ze];"reload"===Qe?this._reloadSource(Ze):"clear"===Qe&&this._clearSource(Ze)}for(var ct in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[ct].updateTransitions(J);this.light.updateTransitions(J),this._resetUpdates()}for(var St in this.sourceCaches)this.sourceCaches[St].used=!1;for(var Dt=0,se=this._order;Dt<se.length;Dt+=1){var Ie=this._layers[se[Dt]];Ie.recalculate(J,this._availableImages),!Ie.isHidden(J.zoom)&&Ie.source&&(this.sourceCaches[Ie.source].used=!0)}this.light.recalculate(J),this.z=J.zoom,ae&&this.fire(new f.Event("data",{dataType:"style"}))}},ee.prototype._updateTilesForChangedImages=function(){var J=Object.keys(this._changedImages);if(J.length){for(var ae in this.sourceCaches)this.sourceCaches[ae].reloadTilesForDependencies(["icons","patterns"],J);this._changedImages={}}},ee.prototype._updateWorkerLayers=function(J,ae){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(J),removedIds:ae})},ee.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},ee.prototype.setState=function(J){var ae=this;if(this._checkLoaded(),sr(this,f.validateStyle(J)))return!1;(J=f.clone$1(J)).layers=Mt(J.layers);var we=function An(U,ee){if(!U)return[{command:kt.setStyle,args:[ee]}];var J=[];try{if(!f.deepEqual(U.version,ee.version))return[{command:kt.setStyle,args:[ee]}];f.deepEqual(U.center,ee.center)||J.push({command:kt.setCenter,args:[ee.center]}),f.deepEqual(U.zoom,ee.zoom)||J.push({command:kt.setZoom,args:[ee.zoom]}),f.deepEqual(U.bearing,ee.bearing)||J.push({command:kt.setBearing,args:[ee.bearing]}),f.deepEqual(U.pitch,ee.pitch)||J.push({command:kt.setPitch,args:[ee.pitch]}),f.deepEqual(U.sprite,ee.sprite)||J.push({command:kt.setSprite,args:[ee.sprite]}),f.deepEqual(U.glyphs,ee.glyphs)||J.push({command:kt.setGlyphs,args:[ee.glyphs]}),f.deepEqual(U.transition,ee.transition)||J.push({command:kt.setTransition,args:[ee.transition]}),f.deepEqual(U.light,ee.light)||J.push({command:kt.setLight,args:[ee.light]});var ae={},we=[];!function(Ze,Qe,ct,St){var Dt;for(Dt in Qe=Qe||{},Ze=Ze||{})Ze.hasOwnProperty(Dt)&&(Qe.hasOwnProperty(Dt)||qt(Dt,ct,St));for(Dt in Qe)Qe.hasOwnProperty(Dt)&&(Ze.hasOwnProperty(Dt)?f.deepEqual(Ze[Dt],Qe[Dt])||("geojson"===Ze[Dt].type&&"geojson"===Qe[Dt].type&&Jt(Ze,Qe,Dt)?ct.push({command:kt.setGeoJSONSourceData,args:[Dt,Qe[Dt].data]}):Qt(Dt,Qe,ct,St)):Ht(Dt,Qe,ct))}(U.sources,ee.sources,we,ae);var ze=[];U.layers&&U.layers.forEach(function(Ze){ae[Ze.source]?J.push({command:kt.removeLayer,args:[Ze.id]}):ze.push(Ze)}),J=J.concat(we),function(Ze,Qe,ct){Qe=Qe||[];var St,Dt,se,me,Ie,je,qe,Xe=(Ze=Ze||[]).map(ln),rt=Qe.map(ln),at=Ze.reduce(Tn,{}),pt=Qe.reduce(Tn,{}),yt=Xe.slice(),zt=Object.create(null);for(St=0,Dt=0;St<Xe.length;St++)pt.hasOwnProperty(se=Xe[St])?Dt++:(ct.push({command:kt.removeLayer,args:[se]}),yt.splice(yt.indexOf(se,Dt),1));for(St=0,Dt=0;St<rt.length;St++)yt[yt.length-1-St]!==(se=rt[rt.length-1-St])&&(at.hasOwnProperty(se)?(ct.push({command:kt.removeLayer,args:[se]}),yt.splice(yt.lastIndexOf(se,yt.length-Dt),1)):Dt++,ct.push({command:kt.addLayer,args:[pt[se],je=yt[yt.length-St]]}),yt.splice(yt.length-St,0,se),zt[se]=!0);for(St=0;St<rt.length;St++)if(me=at[se=rt[St]],Ie=pt[se],!zt[se]&&!f.deepEqual(me,Ie))if(f.deepEqual(me.source,Ie.source)&&f.deepEqual(me["source-layer"],Ie["source-layer"])&&f.deepEqual(me.type,Ie.type)){for(qe in Kt(me.layout,Ie.layout,ct,se,null,kt.setLayoutProperty),Kt(me.paint,Ie.paint,ct,se,null,kt.setPaintProperty),f.deepEqual(me.filter,Ie.filter)||ct.push({command:kt.setFilter,args:[se,Ie.filter]}),f.deepEqual(me.minzoom,Ie.minzoom)&&f.deepEqual(me.maxzoom,Ie.maxzoom)||ct.push({command:kt.setLayerZoomRange,args:[se,Ie.minzoom,Ie.maxzoom]}),me)me.hasOwnProperty(qe)&&"layout"!==qe&&"paint"!==qe&&"filter"!==qe&&"metadata"!==qe&&"minzoom"!==qe&&"maxzoom"!==qe&&(0===qe.indexOf("paint.")?Kt(me[qe],Ie[qe],ct,se,qe.slice(6),kt.setPaintProperty):f.deepEqual(me[qe],Ie[qe])||ct.push({command:kt.setLayerProperty,args:[se,qe,Ie[qe]]}));for(qe in Ie)Ie.hasOwnProperty(qe)&&!me.hasOwnProperty(qe)&&"layout"!==qe&&"paint"!==qe&&"filter"!==qe&&"metadata"!==qe&&"minzoom"!==qe&&"maxzoom"!==qe&&(0===qe.indexOf("paint.")?Kt(me[qe],Ie[qe],ct,se,qe.slice(6),kt.setPaintProperty):f.deepEqual(me[qe],Ie[qe])||ct.push({command:kt.setLayerProperty,args:[se,qe,Ie[qe]]}))}else ct.push({command:kt.removeLayer,args:[se]}),je=yt[yt.lastIndexOf(se)+1],ct.push({command:kt.addLayer,args:[Ie,je]})}(ze,ee.layers,J)}catch(Ze){console.warn("Unable to compute style diff:",Ze),J=[{command:kt.setStyle,args:[ee]}]}return J}(this.serialize(),J).filter(function(Ze){return!(Ze.command in Tr)});if(0===we.length)return!1;var ze=we.filter(function(Ze){return!(Ze.command in wr)});if(ze.length>0)throw new Error("Unimplemented: "+ze.map(function(Ze){return Ze.command}).join(", ")+".");return we.forEach(function(Ze){"setTransition"!==Ze.command&&ae[Ze.command].apply(ae,Ze.args)}),this.stylesheet=J,!0},ee.prototype.addImage=function(J,ae){if(this.getImage(J))return this.fire(new f.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(J,ae),this._availableImages=this.imageManager.listImages(),this._changedImages[J]=!0,this._changed=!0,this.fire(new f.Event("data",{dataType:"style"}))},ee.prototype.updateImage=function(J,ae){this.imageManager.updateImage(J,ae)},ee.prototype.getImage=function(J){return this.imageManager.getImage(J)},ee.prototype.removeImage=function(J){if(!this.getImage(J))return this.fire(new f.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(J),this._availableImages=this.imageManager.listImages(),this._changedImages[J]=!0,this._changed=!0,this.fire(new f.Event("data",{dataType:"style"}))},ee.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},ee.prototype.addSource=function(J,ae,we){var ze=this;if(void 0===we&&(we={}),this._checkLoaded(),void 0!==this.sourceCaches[J])throw new Error("There is already a source with this ID");if(!ae.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(ae).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(ae.type)>=0&&this._validate(f.validateStyle.source,"sources."+J,ae,null,we))){this.map&&this.map._collectResourceTiming&&(ae.collectResourceTiming=!0);var Ze=this.sourceCaches[J]=new dt(J,ae,this.dispatcher);Ze.style=this,Ze.setEventedParent(this,function(){return{isSourceLoaded:ze.loaded(),source:Ze.serialize(),sourceId:J}}),Ze.onAdd(this.map),this._changed=!0}},ee.prototype.removeSource=function(J){if(this._checkLoaded(),void 0===this.sourceCaches[J])throw new Error("There is no source with this ID");for(var ae in this._layers)if(this._layers[ae].source===J)return this.fire(new f.ErrorEvent(new Error('Source "'+J+'" cannot be removed while layer "'+ae+'" is using it.')));var we=this.sourceCaches[J];delete this.sourceCaches[J],delete this._updatedSources[J],we.fire(new f.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:J})),we.setEventedParent(null),we.clearTiles(),we.onRemove&&we.onRemove(this.map),this._changed=!0},ee.prototype.setGeoJSONSourceData=function(J,ae){this._checkLoaded(),this.sourceCaches[J].getSource().setData(ae),this._changed=!0},ee.prototype.getSource=function(J){return this.sourceCaches[J]&&this.sourceCaches[J].getSource()},ee.prototype.addLayer=function(J,ae,we){void 0===we&&(we={}),this._checkLoaded();var ze=J.id;if(this.getLayer(ze))this.fire(new f.ErrorEvent(new Error('Layer with id "'+ze+'" already exists on this map')));else{var Ze;if("custom"===J.type){if(sr(this,f.validateCustomStyleLayer(J)))return;Ze=f.createStyleLayer(J)}else{if("object"==typeof J.source&&(this.addSource(ze,J.source),J=f.clone$1(J),J=f.extend(J,{source:ze})),this._validate(f.validateStyle.layer,"layers."+ze,J,{arrayIndex:-1},we))return;Ze=f.createStyleLayer(J),this._validateLayer(Ze),Ze.setEventedParent(this,{layer:{id:ze}}),this._serializedLayers[Ze.id]=Ze.serialize()}var Qe=ae?this._order.indexOf(ae):this._order.length;if(ae&&-1===Qe)this.fire(new f.ErrorEvent(new Error('Layer with id "'+ae+'" does not exist on this map.')));else{if(this._order.splice(Qe,0,ze),this._layerOrderChanged=!0,this._layers[ze]=Ze,this._removedLayers[ze]&&Ze.source&&"custom"!==Ze.type){var ct=this._removedLayers[ze];delete this._removedLayers[ze],ct.type!==Ze.type?this._updatedSources[Ze.source]="clear":(this._updatedSources[Ze.source]="reload",this.sourceCaches[Ze.source].pause())}this._updateLayer(Ze),Ze.onAdd&&Ze.onAdd(this.map)}}},ee.prototype.moveLayer=function(J,ae){if(this._checkLoaded(),this._changed=!0,this._layers[J]){if(J!==ae){var we=this._order.indexOf(J);this._order.splice(we,1);var ze=ae?this._order.indexOf(ae):this._order.length;ae&&-1===ze?this.fire(new f.ErrorEvent(new Error('Layer with id "'+ae+'" does not exist on this map.'))):(this._order.splice(ze,0,J),this._layerOrderChanged=!0)}}else this.fire(new f.ErrorEvent(new Error("The layer '"+J+"' does not exist in the map's style and cannot be moved.")))},ee.prototype.removeLayer=function(J){this._checkLoaded();var ae=this._layers[J];if(ae){ae.setEventedParent(null);var we=this._order.indexOf(J);this._order.splice(we,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[J]=ae,delete this._layers[J],delete this._serializedLayers[J],delete this._updatedLayers[J],delete this._updatedPaintProps[J],ae.onRemove&&ae.onRemove(this.map)}else this.fire(new f.ErrorEvent(new Error("The layer '"+J+"' does not exist in the map's style and cannot be removed.")))},ee.prototype.getLayer=function(J){return this._layers[J]},ee.prototype.hasLayer=function(J){return J in this._layers},ee.prototype.setLayerZoomRange=function(J,ae,we){this._checkLoaded();var ze=this.getLayer(J);ze?ze.minzoom===ae&&ze.maxzoom===we||(null!=ae&&(ze.minzoom=ae),null!=we&&(ze.maxzoom=we),this._updateLayer(ze)):this.fire(new f.ErrorEvent(new Error("The layer '"+J+"' does not exist in the map's style and cannot have zoom extent.")))},ee.prototype.setFilter=function(J,ae,we){void 0===we&&(we={}),this._checkLoaded();var ze=this.getLayer(J);if(ze){if(!f.deepEqual(ze.filter,ae))return null==ae?(ze.filter=void 0,void this._updateLayer(ze)):void(this._validate(f.validateStyle.filter,"layers."+ze.id+".filter",ae,null,we)||(ze.filter=f.clone$1(ae),this._updateLayer(ze)))}else this.fire(new f.ErrorEvent(new Error("The layer '"+J+"' does not exist in the map's style and cannot be filtered.")))},ee.prototype.getFilter=function(J){return f.clone$1(this.getLayer(J).filter)},ee.prototype.setLayoutProperty=function(J,ae,we,ze){void 0===ze&&(ze={}),this._checkLoaded();var Ze=this.getLayer(J);Ze?f.deepEqual(Ze.getLayoutProperty(ae),we)||(Ze.setLayoutProperty(ae,we,ze),this._updateLayer(Ze)):this.fire(new f.ErrorEvent(new Error("The layer '"+J+"' does not exist in the map's style and cannot be styled.")))},ee.prototype.getLayoutProperty=function(J,ae){var we=this.getLayer(J);if(we)return we.getLayoutProperty(ae);this.fire(new f.ErrorEvent(new Error("The layer '"+J+"' does not exist in the map's style.")))},ee.prototype.setPaintProperty=function(J,ae,we,ze){void 0===ze&&(ze={}),this._checkLoaded();var Ze=this.getLayer(J);Ze?f.deepEqual(Ze.getPaintProperty(ae),we)||(Ze.setPaintProperty(ae,we,ze)&&this._updateLayer(Ze),this._changed=!0,this._updatedPaintProps[J]=!0):this.fire(new f.ErrorEvent(new Error("The layer '"+J+"' does not exist in the map's style and cannot be styled.")))},ee.prototype.getPaintProperty=function(J,ae){return this.getLayer(J).getPaintProperty(ae)},ee.prototype.setFeatureState=function(J,ae){this._checkLoaded();var we=J.source,ze=J.sourceLayer,Ze=this.sourceCaches[we];if(void 0!==Ze){var Qe=Ze.getSource().type;"geojson"===Qe&&ze?this.fire(new f.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==Qe||ze?(void 0===J.id&&this.fire(new f.ErrorEvent(new Error("The feature id parameter must be provided."))),Ze.setFeatureState(ze,J.id,ae)):this.fire(new f.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new f.ErrorEvent(new Error("The source '"+we+"' does not exist in the map's style.")))},ee.prototype.removeFeatureState=function(J,ae){this._checkLoaded();var we=J.source,ze=this.sourceCaches[we];if(void 0!==ze){var Ze=ze.getSource().type,Qe="vector"===Ze?J.sourceLayer:void 0;"vector"!==Ze||Qe?ae&&"string"!=typeof J.id&&"number"!=typeof J.id?this.fire(new f.ErrorEvent(new Error("A feature id is requred to remove its specific state property."))):ze.removeFeatureState(Qe,J.id,ae):this.fire(new f.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new f.ErrorEvent(new Error("The source '"+we+"' does not exist in the map's style.")))},ee.prototype.getFeatureState=function(J){this._checkLoaded();var ae=J.source,we=J.sourceLayer,ze=this.sourceCaches[ae];if(void 0!==ze){if("vector"!==ze.getSource().type||we)return void 0===J.id&&this.fire(new f.ErrorEvent(new Error("The feature id parameter must be provided."))),ze.getFeatureState(we,J.id);this.fire(new f.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new f.ErrorEvent(new Error("The source '"+ae+"' does not exist in the map's style.")))},ee.prototype.getTransition=function(){return f.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},ee.prototype.serialize=function(){return f.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:f.mapObject(this.sourceCaches,function(J){return J.serialize()}),layers:this._serializeLayers(this._order)},function(J){return void 0!==J})},ee.prototype._updateLayer=function(J){this._updatedLayers[J.id]=!0,J.source&&!this._updatedSources[J.source]&&"raster"!==this.sourceCaches[J.source].getSource().type&&(this._updatedSources[J.source]="reload",this.sourceCaches[J.source].pause()),this._changed=!0},ee.prototype._flattenAndSortRenderedFeatures=function(J){for(var ae=this,we=function(an){return"fill-extrusion"===ae._layers[an].type},ze={},Ze=[],Qe=this._order.length-1;Qe>=0;Qe--){var ct=this._order[Qe];if(we(ct)){ze[ct]=Qe;for(var St=0,Dt=J;St<Dt.length;St+=1){var se=Dt[St][ct];if(se)for(var me=0,Ie=se;me<Ie.length;me+=1)Ze.push(Ie[me])}}}Ze.sort(function(an,hn){return hn.intersectionZ-an.intersectionZ});for(var qe=[],Xe=this._order.length-1;Xe>=0;Xe--){var rt=this._order[Xe];if(we(rt))for(var at=Ze.length-1;at>=0;at--){var pt=Ze[at].feature;if(ze[pt.layer.id]<Xe)break;qe.push(pt),Ze.pop()}else for(var yt=0,zt=J;yt<zt.length;yt+=1){var $t=zt[yt][rt];if($t)for(var Yt=0,cn=$t;Yt<cn.length;Yt+=1)qe.push(cn[Yt].feature)}}return qe},ee.prototype.queryRenderedFeatures=function(J,ae,we){ae&&ae.filter&&this._validate(f.validateStyle.filter,"queryRenderedFeatures.filter",ae.filter,null,ae);var ze={};if(ae&&ae.layers){if(!Array.isArray(ae.layers))return this.fire(new f.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var Ze=0,Qe=ae.layers;Ze<Qe.length;Ze+=1){var ct=Qe[Ze],St=this._layers[ct];if(!St)return this.fire(new f.ErrorEvent(new Error("The layer '"+ct+"' does not exist in the map's style and cannot be queried for features."))),[];ze[St.source]=!0}}var Dt=[];for(var se in ae.availableImages=this._availableImages,this.sourceCaches)ae.layers&&!ze[se]||Dt.push($(this.sourceCaches[se],this._layers,this._serializedLayers,J,ae,we));return this.placement&&Dt.push(function(me,Ie,je,qe,Xe,rt,at){for(var pt={},yt=rt.queryRenderedSymbols(qe),zt=[],$t=0,Yt=Object.keys(yt).map(Number);$t<Yt.length;$t+=1)zt.push(at[Yt[$t]]);zt.sort(Q);for(var Mn=function(){var Dn=hn[an],dn=Dn.featureIndex.lookupSymbolFeatures(yt[Dn.bucketInstanceId],Ie,Dn.bucketIndex,Dn.sourceLayerIndex,Xe.filter,Xe.layers,Xe.availableImages,me);for(var Xn in dn){var rr=pt[Xn]=pt[Xn]||[],vr=dn[Xn];vr.sort(function(Er,Fr){var Kr=Dn.featureSortOrder;if(Kr){var Ti=Kr.indexOf(Er.featureIndex);return Kr.indexOf(Fr.featureIndex)-Ti}return Fr.featureIndex-Er.featureIndex});for(var dr=0,Lr=vr;dr<Lr.length;dr+=1)rr.push(Lr[dr])}},an=0,hn=zt;an<hn.length;an+=1)Mn();var sn=function(Dn){pt[Dn].forEach(function(dn){var Xn=dn.feature,vr=je[me[Dn].source].getFeatureState(Xn.layer["source-layer"],Xn.id);Xn.source=Xn.layer.source,Xn.layer["source-layer"]&&(Xn.sourceLayer=Xn.layer["source-layer"]),Xn.state=vr})};for(var Ln in pt)sn(Ln);return pt}(this._layers,this._serializedLayers,this.sourceCaches,J,ae,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(Dt)},ee.prototype.querySourceFeatures=function(J,ae){ae&&ae.filter&&this._validate(f.validateStyle.filter,"querySourceFeatures.filter",ae.filter,null,ae);var we=this.sourceCaches[J];return we?function(ze,Ze){for(var Qe=ze.getRenderableIds().map(function(Ie){return ze.getTileByID(Ie)}),ct=[],St={},Dt=0;Dt<Qe.length;Dt++){var se=Qe[Dt],me=se.tileID.canonical.key;St[me]||(St[me]=!0,se.querySourceFeatures(ct,Ze))}return ct}(we,ae):[]},ee.prototype.addSourceType=function(J,ae,we){return ee.getSourceType(J)?we(new Error('A source type called "'+J+'" already exists.')):(ee.setSourceType(J,ae),ae.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:J,url:ae.workerSourceURL},we):we(null,null))},ee.prototype.getLight=function(){return this.light.getLight()},ee.prototype.setLight=function(J,ae){void 0===ae&&(ae={}),this._checkLoaded();var we=this.light.getLight(),ze=!1;for(var Ze in J)if(!f.deepEqual(J[Ze],we[Ze])){ze=!0;break}if(ze){var Qe={now:f.browser.now(),transition:f.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(J,ae),this.light.updateTransitions(Qe)}},ee.prototype._validate=function(J,ae,we,ze,Ze){return void 0===Ze&&(Ze={}),(!Ze||!1!==Ze.validate)&&sr(this,J.call(f.validateStyle,f.extend({key:ae,style:this.serialize(),value:we,styleSpec:f.styleSpec},ze)))},ee.prototype._remove=function(){for(var J in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),f.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[J].setEventedParent(null);for(var ae in this.sourceCaches)this.sourceCaches[ae].clearTiles(),this.sourceCaches[ae].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},ee.prototype._clearSource=function(J){this.sourceCaches[J].clearTiles()},ee.prototype._reloadSource=function(J){this.sourceCaches[J].resume(),this.sourceCaches[J].reload()},ee.prototype._updateSources=function(J){for(var ae in this.sourceCaches)this.sourceCaches[ae].update(J)},ee.prototype._generateCollisionBoxes=function(){for(var J in this.sourceCaches)this._reloadSource(J)},ee.prototype._updatePlacement=function(J,ae,we,ze,Ze){void 0===Ze&&(Ze=!1);for(var Qe=!1,ct=!1,St={},Dt=0,se=this._order;Dt<se.length;Dt+=1){var Ie=this._layers[se[Dt]];if("symbol"===Ie.type){if(!St[Ie.source]){var je=this.sourceCaches[Ie.source];St[Ie.source]=je.getRenderableIds(!0).map(function(yt){return je.getTileByID(yt)}).sort(function(yt,zt){return zt.tileID.overscaledZ-yt.tileID.overscaledZ||(yt.tileID.isLessThan(zt.tileID)?-1:1)})}var qe=this.crossTileSymbolIndex.addLayer(Ie,St[Ie.source],J.center.lng);Qe=Qe||qe}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((Ze=Ze||this._layerOrderChanged||0===we)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(f.browser.now(),J.zoom))&&(this.pauseablePlacement=new gn(J,this._order,Ze,ae,we,ze,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,St),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(f.browser.now()),ct=!0),Qe&&this.pauseablePlacement.placement.setStale()),ct||Qe)for(var Xe=0,rt=this._order;Xe<rt.length;Xe+=1){var pt=this._layers[rt[Xe]];"symbol"===pt.type&&this.placement.updateLayerOpacities(pt,St[pt.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(f.browser.now())},ee.prototype._releaseSymbolFadeTiles=function(){for(var J in this.sourceCaches)this.sourceCaches[J].releaseSymbolFadeTiles()},ee.prototype.getImages=function(J,ae,we){this.imageManager.getImages(ae.icons,we),this._updateTilesForChangedImages();var ze=this.sourceCaches[ae.source];ze&&ze.setDependencies(ae.tileID.key,ae.type,ae.icons)},ee.prototype.getGlyphs=function(J,ae,we){this.glyphManager.getGlyphs(ae.stacks,we)},ee.prototype.getResource=function(J,ae,we){return f.makeRequest(ae,we)},ee}(f.Evented);Ar.getSourceType=function(U){return ne[U]},Ar.setSourceType=function(U,ee){ne[U]=ee},Ar.registerForPluginStateChange=f.registerForPluginStateChange;var Ir=f.createLayout([{name:"a_pos",type:"Int16",components:2}]),Wr=eo("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),Mi=eo("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),oi=eo("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),Pr=eo("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),li=eo("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),zr=eo("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),po=eo("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),qo=eo("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),ro=eo("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),As=eo("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),Sa=eo("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),Ai=eo("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),el=eo("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),Xl=eo("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),ju=eo("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),Tl=eo("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),ic=eo("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),Mu=eo("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),Au=eo("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),ks=eo("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define MAX_LINE_DISTANCE 32767.0\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),Cc=eo("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),na=eo("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),Pl=eo("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),va=eo("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),Ss=eo("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),$r=eo("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function eo(U,ee){var J=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,ae={};return{fragmentSource:U=U.replace(J,function(we,ze,Ze,Qe,ct){return ae[ct]=!0,"define"===ze?"\n#ifndef HAS_UNIFORM_u_"+ct+"\nvarying "+Ze+" "+Qe+" "+ct+";\n#else\nuniform "+Ze+" "+Qe+" u_"+ct+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+ct+"\n    "+Ze+" "+Qe+" "+ct+" = u_"+ct+";\n#endif\n"}),vertexSource:ee=ee.replace(J,function(we,ze,Ze,Qe,ct){var St="float"===Qe?"vec2":"vec4",Dt=ct.match(/color/)?"color":St;return ae[ct]?"define"===ze?"\n#ifndef HAS_UNIFORM_u_"+ct+"\nuniform lowp float u_"+ct+"_t;\nattribute "+Ze+" "+St+" a_"+ct+";\nvarying "+Ze+" "+Qe+" "+ct+";\n#else\nuniform "+Ze+" "+Qe+" u_"+ct+";\n#endif\n":"vec4"===Dt?"\n#ifndef HAS_UNIFORM_u_"+ct+"\n    "+ct+" = a_"+ct+";\n#else\n    "+Ze+" "+Qe+" "+ct+" = u_"+ct+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+ct+"\n    "+ct+" = unpack_mix_"+Dt+"(a_"+ct+", u_"+ct+"_t);\n#else\n    "+Ze+" "+Qe+" "+ct+" = u_"+ct+";\n#endif\n":"define"===ze?"\n#ifndef HAS_UNIFORM_u_"+ct+"\nuniform lowp float u_"+ct+"_t;\nattribute "+Ze+" "+St+" a_"+ct+";\n#else\nuniform "+Ze+" "+Qe+" u_"+ct+";\n#endif\n":"vec4"===Dt?"\n#ifndef HAS_UNIFORM_u_"+ct+"\n    "+Ze+" "+Qe+" "+ct+" = a_"+ct+";\n#else\n    "+Ze+" "+Qe+" "+ct+" = u_"+ct+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+ct+"\n    "+Ze+" "+Qe+" "+ct+" = unpack_mix_"+Dt+"(a_"+ct+", u_"+ct+"_t);\n#else\n    "+Ze+" "+Qe+" "+ct+" = u_"+ct+";\n#endif\n"})}}var Li=Object.freeze({__proto__:null,prelude:Wr,background:Mi,backgroundPattern:oi,circle:Pr,clippingMask:li,heatmap:zr,heatmapTexture:po,collisionBox:qo,collisionCircle:ro,debug:As,fill:Sa,fillOutline:Ai,fillOutlinePattern:el,fillPattern:Xl,fillExtrusion:ju,fillExtrusionPattern:Tl,hillshadePrepare:ic,hillshade:Mu,line:Au,lineGradient:ks,linePattern:Cc,lineSDF:na,raster:Pl,symbolIcon:va,symbolSDF:Ss,symbolTextAndIcon:$r}),Ja=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};Ja.prototype.bind=function(U,ee,J,ae,we,ze,Ze,Qe){this.context=U;for(var ct=this.boundPaintVertexBuffers.length!==ae.length,St=0;!ct&&St<ae.length;St++)this.boundPaintVertexBuffers[St]!==ae[St]&&(ct=!0);U.extVertexArrayObject&&this.vao&&this.boundProgram===ee&&this.boundLayoutVertexBuffer===J&&!ct&&this.boundIndexBuffer===we&&this.boundVertexOffset===ze&&this.boundDynamicVertexBuffer===Ze&&this.boundDynamicVertexBuffer2===Qe?(U.bindVertexArrayOES.set(this.vao),Ze&&Ze.bind(),we&&we.dynamicDraw&&we.bind(),Qe&&Qe.bind()):this.freshBind(ee,J,ae,we,ze,Ze,Qe)},Ja.prototype.freshBind=function(U,ee,J,ae,we,ze,Ze){var Qe,ct=U.numAttributes,St=this.context,Dt=St.gl;if(St.extVertexArrayObject)this.vao&&this.destroy(),this.vao=St.extVertexArrayObject.createVertexArrayOES(),St.bindVertexArrayOES.set(this.vao),Qe=0,this.boundProgram=U,this.boundLayoutVertexBuffer=ee,this.boundPaintVertexBuffers=J,this.boundIndexBuffer=ae,this.boundVertexOffset=we,this.boundDynamicVertexBuffer=ze,this.boundDynamicVertexBuffer2=Ze;else{Qe=St.currentNumAttributes||0;for(var se=ct;se<Qe;se++)Dt.disableVertexAttribArray(se)}ee.enableAttributes(Dt,U);for(var me=0,Ie=J;me<Ie.length;me+=1)Ie[me].enableAttributes(Dt,U);ze&&ze.enableAttributes(Dt,U),Ze&&Ze.enableAttributes(Dt,U),ee.bind(),ee.setVertexAttribPointers(Dt,U,we);for(var je=0,qe=J;je<qe.length;je+=1){var Xe=qe[je];Xe.bind(),Xe.setVertexAttribPointers(Dt,U,we)}ze&&(ze.bind(),ze.setVertexAttribPointers(Dt,U,we)),ae&&ae.bind(),Ze&&(Ze.bind(),Ze.setVertexAttribPointers(Dt,U,we)),St.currentNumAttributes=ct},Ja.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var Cs=function(U,ee,J,ae,we){var ze=U.gl;this.program=ze.createProgram();var Ze=J?J.defines():[];we&&Ze.push("#define OVERDRAW_INSPECTOR;");var Qe=Ze.concat(Wr.fragmentSource,ee.fragmentSource).join("\n"),ct=Ze.concat(Wr.vertexSource,ee.vertexSource).join("\n"),St=ze.createShader(ze.FRAGMENT_SHADER);if(ze.isContextLost())this.failedToCreate=!0;else{ze.shaderSource(St,Qe),ze.compileShader(St),ze.attachShader(this.program,St);var Dt=ze.createShader(ze.VERTEX_SHADER);if(ze.isContextLost())this.failedToCreate=!0;else{ze.shaderSource(Dt,ct),ze.compileShader(Dt),ze.attachShader(this.program,Dt);for(var se=J?J.layoutAttributes:[],me=0;me<se.length;me++)ze.bindAttribLocation(this.program,me,se[me].name);ze.linkProgram(this.program),ze.deleteShader(Dt),ze.deleteShader(St),this.numAttributes=ze.getProgramParameter(this.program,ze.ACTIVE_ATTRIBUTES),this.attributes={};for(var Ie={},je=0;je<this.numAttributes;je++){var qe=ze.getActiveAttrib(this.program,je);qe&&(this.attributes[qe.name]=ze.getAttribLocation(this.program,qe.name))}for(var Xe=ze.getProgramParameter(this.program,ze.ACTIVE_UNIFORMS),rt=0;rt<Xe;rt++){var at=ze.getActiveUniform(this.program,rt);at&&(Ie[at.name]=ze.getUniformLocation(this.program,at.name))}this.fixedUniforms=ae(U,Ie),this.binderUniforms=J?J.getUniforms(U,Ie):[]}}};function hs(U,ee,J){var ae=1/ur(J,1,ee.transform.tileZoom),we=Math.pow(2,J.tileID.overscaledZ),ze=J.tileSize*Math.pow(2,ee.transform.tileZoom)/we,Ze=ze*(J.tileID.canonical.x+J.tileID.wrap*we),Qe=ze*J.tileID.canonical.y;return{u_image:0,u_texsize:J.imageAtlasTexture.size,u_scale:[ae,U.fromScale,U.toScale],u_fade:U.t,u_pixel_coord_upper:[Ze>>16,Qe>>16],u_pixel_coord_lower:[65535&Ze,65535&Qe]}}Cs.prototype.draw=function(U,ee,J,ae,we,ze,Ze,Qe,ct,St,Dt,se,me,Ie,je,qe){var Xe,rt=U.gl;if(!this.failedToCreate){for(var at in U.program.set(this.program),U.setDepthMode(J),U.setStencilMode(ae),U.setColorMode(we),U.setCullFace(ze),this.fixedUniforms)this.fixedUniforms[at].set(Ze[at]);Ie&&Ie.setUniforms(U,this.binderUniforms,se,{zoom:me});for(var pt=(Xe={},Xe[rt.LINES]=2,Xe[rt.TRIANGLES]=3,Xe[rt.LINE_STRIP]=1,Xe)[ee],yt=0,zt=Dt.get();yt<zt.length;yt+=1){var $t=zt[yt],Yt=$t.vaos||($t.vaos={});(Yt[Qe]||(Yt[Qe]=new Ja)).bind(U,this,ct,Ie?Ie.getPaintVertexBuffers():[],St,$t.vertexOffset,je,qe),rt.drawElements(ee,$t.primitiveLength*pt,rt.UNSIGNED_SHORT,$t.primitiveOffset*pt*2)}}};var Uu=function(U,ee,J,ae){var we=ee.style.light,ze=we.properties.get("position"),Ze=[ze.x,ze.y,ze.z],Qe=f.create$1();"viewport"===we.properties.get("anchor")&&f.fromRotation(Qe,-ee.transform.angle),f.transformMat3(Ze,Ze,Qe);var ct=we.properties.get("color");return{u_matrix:U,u_lightpos:Ze,u_lightintensity:we.properties.get("intensity"),u_lightcolor:[ct.r,ct.g,ct.b],u_vertical_gradient:+J,u_opacity:ae}},Kc=function(U,ee,J,ae,we,ze,Ze){return f.extend(Uu(U,ee,J,ae),hs(ze,ee,Ze),{u_height_factor:-Math.pow(2,we.overscaledZ)/Ze.tileSize/8})},Rl=function(U){return{u_matrix:U}},Ll=function(U,ee,J,ae){return f.extend(Rl(U),hs(J,ee,ae))},Vs=function(U,ee){return{u_matrix:U,u_world:ee}},Zf=function(U,ee,J,ae,we){return f.extend(Ll(U,ee,J,ae),{u_world:we})},Qc=function(U,ee,J,ae){var we,ze,Ze=U.transform;if("map"===ae.paint.get("circle-pitch-alignment")){var Qe=ur(J,1,Ze.zoom);we=!0,ze=[Qe,Qe]}else we=!1,ze=Ze.pixelsToGLUnits;return{u_camera_to_center_distance:Ze.cameraToCenterDistance,u_scale_with_map:+("map"===ae.paint.get("circle-pitch-scale")),u_matrix:U.translatePosMatrix(ee.posMatrix,J,ae.paint.get("circle-translate"),ae.paint.get("circle-translate-anchor")),u_pitch_with_map:+we,u_device_pixel_ratio:f.browser.devicePixelRatio,u_extrude_scale:ze}},tl=function(U,ee,J){var ae=ur(J,1,ee.zoom),we=Math.pow(2,ee.zoom-J.tileID.overscaledZ),ze=J.tileID.overscaleFactor();return{u_matrix:U,u_camera_to_center_distance:ee.cameraToCenterDistance,u_pixels_to_tile_units:ae,u_extrude_scale:[ee.pixelsToGLUnits[0]/(ae*we),ee.pixelsToGLUnits[1]/(ae*we)],u_overscale_factor:ze}},nl=function(U,ee,J){return{u_matrix:U,u_inv_matrix:ee,u_camera_to_center_distance:J.cameraToCenterDistance,u_viewport_size:[J.width,J.height]}},Hi=function(U,ee,J){return void 0===J&&(J=1),{u_matrix:U,u_color:ee,u_overlay:0,u_overlay_scale:J}},Hs=function(U){return{u_matrix:U}},Jl=function(U,ee,J,ae){return{u_matrix:U,u_extrude_scale:ur(ee,1,J),u_intensity:ae}},rl=function(U,ee,J){var ae=U.transform;return{u_matrix:yo(U,ee,J),u_ratio:1/ur(ee,1,ae.zoom),u_device_pixel_ratio:f.browser.devicePixelRatio,u_units_to_pixels:[1/ae.pixelsToGLUnits[0],1/ae.pixelsToGLUnits[1]]}},oc=function(U,ee,J){return f.extend(rl(U,ee,J),{u_image:0})},il=function(U,ee,J,ae){var we=U.transform,ze=ac(ee,we);return{u_matrix:yo(U,ee,J),u_texsize:ee.imageAtlasTexture.size,u_ratio:1/ur(ee,1,we.zoom),u_device_pixel_ratio:f.browser.devicePixelRatio,u_image:0,u_scale:[ze,ae.fromScale,ae.toScale],u_fade:ae.t,u_units_to_pixels:[1/we.pixelsToGLUnits[0],1/we.pixelsToGLUnits[1]]}},ol=function(U,ee,J,ae,we){var Ze=U.lineAtlas,Qe=ac(ee,U.transform),ct="round"===J.layout.get("line-cap"),St=Ze.getDash(ae.from,ct),Dt=Ze.getDash(ae.to,ct),se=St.width*we.fromScale,me=Dt.width*we.toScale;return f.extend(rl(U,ee,J),{u_patternscale_a:[Qe/se,-St.height/2],u_patternscale_b:[Qe/me,-Dt.height/2],u_sdfgamma:Ze.width/(256*Math.min(se,me)*f.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:St.y,u_tex_y_b:Dt.y,u_mix:we.t})};function ac(U,ee){return 1/ur(U,1,ee.tileZoom)}function yo(U,ee,J){return U.translatePosMatrix(ee.tileID.posMatrix,ee,J.paint.get("line-translate"),J.paint.get("line-translate-anchor"))}var ku=function(U,ee,J,ae,we){return{u_matrix:U,u_tl_parent:ee,u_scale_parent:J,u_buffer_scale:1,u_fade_t:ae.mix,u_opacity:ae.opacity*we.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:we.paint.get("raster-brightness-min"),u_brightness_high:we.paint.get("raster-brightness-max"),u_saturation_factor:(Ze=we.paint.get("raster-saturation"),Ze>0?1-1/(1.001-Ze):-Ze),u_contrast_factor:(ze=we.paint.get("raster-contrast"),ze>0?1/(1-ze):1+ze),u_spin_weights:Kl(we.paint.get("raster-hue-rotate"))};var ze,Ze};function Kl(U){U*=Math.PI/180;var ee=Math.sin(U),J=Math.cos(U);return[(2*J+1)/3,(-Math.sqrt(3)*ee-J+1)/3,(Math.sqrt(3)*ee-J+1)/3]}var Ml,mi=function(U,ee,J,ae,we,ze,Ze,Qe,ct,St){var Dt=we.transform;return{u_is_size_zoom_constant:+("constant"===U||"source"===U),u_is_size_feature_constant:+("constant"===U||"camera"===U),u_size_t:ee?ee.uSizeT:0,u_size:ee?ee.uSize:0,u_camera_to_center_distance:Dt.cameraToCenterDistance,u_pitch:Dt.pitch/360*2*Math.PI,u_rotate_symbol:+J,u_aspect_ratio:Dt.width/Dt.height,u_fade_change:we.options.fadeDuration?we.symbolFadeChange:1,u_matrix:ze,u_label_plane_matrix:Ze,u_coord_matrix:Qe,u_is_text:+ct,u_pitch_with_map:+ae,u_texsize:St,u_texture:0}},Ql=function(U,ee,J,ae,we,ze,Ze,Qe,ct,St,Dt){var se=we.transform;return f.extend(mi(U,ee,J,ae,we,ze,Ze,Qe,ct,St),{u_gamma_scale:ae?Math.cos(se._pitch)*se.cameraToCenterDistance:1,u_device_pixel_ratio:f.browser.devicePixelRatio,u_is_halo:+Dt})},ef=function(U,ee,J,ae,we,ze,Ze,Qe,ct,St){return f.extend(Ql(U,ee,J,ae,we,ze,Ze,Qe,!0,ct,!0),{u_texsize_icon:St,u_texture_icon:1})},ni=function(U,ee,J){return{u_matrix:U,u_opacity:ee,u_color:J}},Ca=function(U,ee,J,ae,we,ze){return f.extend((Qe=ze,St=we,Dt=(ct=J).imageManager.getPattern((Ze=ae).from.toString()),se=ct.imageManager.getPattern(Ze.to.toString()),Ie=(me=ct.imageManager.getPixelSize()).width,je=me.height,qe=Math.pow(2,St.tileID.overscaledZ),rt=(Xe=St.tileSize*Math.pow(2,ct.transform.tileZoom)/qe)*(St.tileID.canonical.x+St.tileID.wrap*qe),at=Xe*St.tileID.canonical.y,{u_image:0,u_pattern_tl_a:Dt.tl,u_pattern_br_a:Dt.br,u_pattern_tl_b:se.tl,u_pattern_br_b:se.br,u_texsize:[Ie,je],u_mix:Qe.t,u_pattern_size_a:Dt.displaySize,u_pattern_size_b:se.displaySize,u_scale_a:Qe.fromScale,u_scale_b:Qe.toScale,u_tile_units_to_pixels:1/ur(St,1,ct.transform.tileZoom),u_pixel_coord_upper:[rt>>16,at>>16],u_pixel_coord_lower:[65535&rt,65535&at]}),{u_matrix:U,u_opacity:ee});var Ze,Qe,ct,St,Dt,se,me,Ie,je,qe,Xe,rt,at},Yi={fillExtrusion:function(U,ee){return{u_matrix:new f.UniformMatrix4f(U,ee.u_matrix),u_lightpos:new f.Uniform3f(U,ee.u_lightpos),u_lightintensity:new f.Uniform1f(U,ee.u_lightintensity),u_lightcolor:new f.Uniform3f(U,ee.u_lightcolor),u_vertical_gradient:new f.Uniform1f(U,ee.u_vertical_gradient),u_opacity:new f.Uniform1f(U,ee.u_opacity)}},fillExtrusionPattern:function(U,ee){return{u_matrix:new f.UniformMatrix4f(U,ee.u_matrix),u_lightpos:new f.Uniform3f(U,ee.u_lightpos),u_lightintensity:new f.Uniform1f(U,ee.u_lightintensity),u_lightcolor:new f.Uniform3f(U,ee.u_lightcolor),u_vertical_gradient:new f.Uniform1f(U,ee.u_vertical_gradient),u_height_factor:new f.Uniform1f(U,ee.u_height_factor),u_image:new f.Uniform1i(U,ee.u_image),u_texsize:new f.Uniform2f(U,ee.u_texsize),u_pixel_coord_upper:new f.Uniform2f(U,ee.u_pixel_coord_upper),u_pixel_coord_lower:new f.Uniform2f(U,ee.u_pixel_coord_lower),u_scale:new f.Uniform3f(U,ee.u_scale),u_fade:new f.Uniform1f(U,ee.u_fade),u_opacity:new f.Uniform1f(U,ee.u_opacity)}},fill:function(U,ee){return{u_matrix:new f.UniformMatrix4f(U,ee.u_matrix)}},fillPattern:function(U,ee){return{u_matrix:new f.UniformMatrix4f(U,ee.u_matrix),u_image:new f.Uniform1i(U,ee.u_image),u_texsize:new f.Uniform2f(U,ee.u_texsize),u_pixel_coord_upper:new f.Uniform2f(U,ee.u_pixel_coord_upper),u_pixel_coord_lower:new f.Uniform2f(U,ee.u_pixel_coord_lower),u_scale:new f.Uniform3f(U,ee.u_scale),u_fade:new f.Uniform1f(U,ee.u_fade)}},fillOutline:function(U,ee){return{u_matrix:new f.UniformMatrix4f(U,ee.u_matrix),u_world:new f.Uniform2f(U,ee.u_world)}},fillOutlinePattern:function(U,ee){return{u_matrix:new f.UniformMatrix4f(U,ee.u_matrix),u_world:new f.Uniform2f(U,ee.u_world),u_image:new f.Uniform1i(U,ee.u_image),u_texsize:new f.Uniform2f(U,ee.u_texsize),u_pixel_coord_upper:new f.Uniform2f(U,ee.u_pixel_coord_upper),u_pixel_coord_lower:new f.Uniform2f(U,ee.u_pixel_coord_lower),u_scale:new f.Uniform3f(U,ee.u_scale),u_fade:new f.Uniform1f(U,ee.u_fade)}},circle:function(U,ee){return{u_camera_to_center_distance:new f.Uniform1f(U,ee.u_camera_to_center_distance),u_scale_with_map:new f.Uniform1i(U,ee.u_scale_with_map),u_pitch_with_map:new f.Uniform1i(U,ee.u_pitch_with_map),u_extrude_scale:new f.Uniform2f(U,ee.u_extrude_scale),u_device_pixel_ratio:new f.Uniform1f(U,ee.u_device_pixel_ratio),u_matrix:new f.UniformMatrix4f(U,ee.u_matrix)}},collisionBox:function(U,ee){return{u_matrix:new f.UniformMatrix4f(U,ee.u_matrix),u_camera_to_center_distance:new f.Uniform1f(U,ee.u_camera_to_center_distance),u_pixels_to_tile_units:new f.Uniform1f(U,ee.u_pixels_to_tile_units),u_extrude_scale:new f.Uniform2f(U,ee.u_extrude_scale),u_overscale_factor:new f.Uniform1f(U,ee.u_overscale_factor)}},collisionCircle:function(U,ee){return{u_matrix:new f.UniformMatrix4f(U,ee.u_matrix),u_inv_matrix:new f.UniformMatrix4f(U,ee.u_inv_matrix),u_camera_to_center_distance:new f.Uniform1f(U,ee.u_camera_to_center_distance),u_viewport_size:new f.Uniform2f(U,ee.u_viewport_size)}},debug:function(U,ee){return{u_color:new f.UniformColor(U,ee.u_color),u_matrix:new f.UniformMatrix4f(U,ee.u_matrix),u_overlay:new f.Uniform1i(U,ee.u_overlay),u_overlay_scale:new f.Uniform1f(U,ee.u_overlay_scale)}},clippingMask:function(U,ee){return{u_matrix:new f.UniformMatrix4f(U,ee.u_matrix)}},heatmap:function(U,ee){return{u_extrude_scale:new f.Uniform1f(U,ee.u_extrude_scale),u_intensity:new f.Uniform1f(U,ee.u_intensity),u_matrix:new f.UniformMatrix4f(U,ee.u_matrix)}},heatmapTexture:function(U,ee){return{u_matrix:new f.UniformMatrix4f(U,ee.u_matrix),u_world:new f.Uniform2f(U,ee.u_world),u_image:new f.Uniform1i(U,ee.u_image),u_color_ramp:new f.Uniform1i(U,ee.u_color_ramp),u_opacity:new f.Uniform1f(U,ee.u_opacity)}},hillshade:function(U,ee){return{u_matrix:new f.UniformMatrix4f(U,ee.u_matrix),u_image:new f.Uniform1i(U,ee.u_image),u_latrange:new f.Uniform2f(U,ee.u_latrange),u_light:new f.Uniform2f(U,ee.u_light),u_shadow:new f.UniformColor(U,ee.u_shadow),u_highlight:new f.UniformColor(U,ee.u_highlight),u_accent:new f.UniformColor(U,ee.u_accent)}},hillshadePrepare:function(U,ee){return{u_matrix:new f.UniformMatrix4f(U,ee.u_matrix),u_image:new f.Uniform1i(U,ee.u_image),u_dimension:new f.Uniform2f(U,ee.u_dimension),u_zoom:new f.Uniform1f(U,ee.u_zoom),u_maxzoom:new f.Uniform1f(U,ee.u_maxzoom),u_unpack:new f.Uniform4f(U,ee.u_unpack)}},line:function(U,ee){return{u_matrix:new f.UniformMatrix4f(U,ee.u_matrix),u_ratio:new f.Uniform1f(U,ee.u_ratio),u_device_pixel_ratio:new f.Uniform1f(U,ee.u_device_pixel_ratio),u_units_to_pixels:new f.Uniform2f(U,ee.u_units_to_pixels)}},lineGradient:function(U,ee){return{u_matrix:new f.UniformMatrix4f(U,ee.u_matrix),u_ratio:new f.Uniform1f(U,ee.u_ratio),u_device_pixel_ratio:new f.Uniform1f(U,ee.u_device_pixel_ratio),u_units_to_pixels:new f.Uniform2f(U,ee.u_units_to_pixels),u_image:new f.Uniform1i(U,ee.u_image)}},linePattern:function(U,ee){return{u_matrix:new f.UniformMatrix4f(U,ee.u_matrix),u_texsize:new f.Uniform2f(U,ee.u_texsize),u_ratio:new f.Uniform1f(U,ee.u_ratio),u_device_pixel_ratio:new f.Uniform1f(U,ee.u_device_pixel_ratio),u_image:new f.Uniform1i(U,ee.u_image),u_units_to_pixels:new f.Uniform2f(U,ee.u_units_to_pixels),u_scale:new f.Uniform3f(U,ee.u_scale),u_fade:new f.Uniform1f(U,ee.u_fade)}},lineSDF:function(U,ee){return{u_matrix:new f.UniformMatrix4f(U,ee.u_matrix),u_ratio:new f.Uniform1f(U,ee.u_ratio),u_device_pixel_ratio:new f.Uniform1f(U,ee.u_device_pixel_ratio),u_units_to_pixels:new f.Uniform2f(U,ee.u_units_to_pixels),u_patternscale_a:new f.Uniform2f(U,ee.u_patternscale_a),u_patternscale_b:new f.Uniform2f(U,ee.u_patternscale_b),u_sdfgamma:new f.Uniform1f(U,ee.u_sdfgamma),u_image:new f.Uniform1i(U,ee.u_image),u_tex_y_a:new f.Uniform1f(U,ee.u_tex_y_a),u_tex_y_b:new f.Uniform1f(U,ee.u_tex_y_b),u_mix:new f.Uniform1f(U,ee.u_mix)}},raster:function(U,ee){return{u_matrix:new f.UniformMatrix4f(U,ee.u_matrix),u_tl_parent:new f.Uniform2f(U,ee.u_tl_parent),u_scale_parent:new f.Uniform1f(U,ee.u_scale_parent),u_buffer_scale:new f.Uniform1f(U,ee.u_buffer_scale),u_fade_t:new f.Uniform1f(U,ee.u_fade_t),u_opacity:new f.Uniform1f(U,ee.u_opacity),u_image0:new f.Uniform1i(U,ee.u_image0),u_image1:new f.Uniform1i(U,ee.u_image1),u_brightness_low:new f.Uniform1f(U,ee.u_brightness_low),u_brightness_high:new f.Uniform1f(U,ee.u_brightness_high),u_saturation_factor:new f.Uniform1f(U,ee.u_saturation_factor),u_contrast_factor:new f.Uniform1f(U,ee.u_contrast_factor),u_spin_weights:new f.Uniform3f(U,ee.u_spin_weights)}},symbolIcon:function(U,ee){return{u_is_size_zoom_constant:new f.Uniform1i(U,ee.u_is_size_zoom_constant),u_is_size_feature_constant:new f.Uniform1i(U,ee.u_is_size_feature_constant),u_size_t:new f.Uniform1f(U,ee.u_size_t),u_size:new f.Uniform1f(U,ee.u_size),u_camera_to_center_distance:new f.Uniform1f(U,ee.u_camera_to_center_distance),u_pitch:new f.Uniform1f(U,ee.u_pitch),u_rotate_symbol:new f.Uniform1i(U,ee.u_rotate_symbol),u_aspect_ratio:new f.Uniform1f(U,ee.u_aspect_ratio),u_fade_change:new f.Uniform1f(U,ee.u_fade_change),u_matrix:new f.UniformMatrix4f(U,ee.u_matrix),u_label_plane_matrix:new f.UniformMatrix4f(U,ee.u_label_plane_matrix),u_coord_matrix:new f.UniformMatrix4f(U,ee.u_coord_matrix),u_is_text:new f.Uniform1i(U,ee.u_is_text),u_pitch_with_map:new f.Uniform1i(U,ee.u_pitch_with_map),u_texsize:new f.Uniform2f(U,ee.u_texsize),u_texture:new f.Uniform1i(U,ee.u_texture)}},symbolSDF:function(U,ee){return{u_is_size_zoom_constant:new f.Uniform1i(U,ee.u_is_size_zoom_constant),u_is_size_feature_constant:new f.Uniform1i(U,ee.u_is_size_feature_constant),u_size_t:new f.Uniform1f(U,ee.u_size_t),u_size:new f.Uniform1f(U,ee.u_size),u_camera_to_center_distance:new f.Uniform1f(U,ee.u_camera_to_center_distance),u_pitch:new f.Uniform1f(U,ee.u_pitch),u_rotate_symbol:new f.Uniform1i(U,ee.u_rotate_symbol),u_aspect_ratio:new f.Uniform1f(U,ee.u_aspect_ratio),u_fade_change:new f.Uniform1f(U,ee.u_fade_change),u_matrix:new f.UniformMatrix4f(U,ee.u_matrix),u_label_plane_matrix:new f.UniformMatrix4f(U,ee.u_label_plane_matrix),u_coord_matrix:new f.UniformMatrix4f(U,ee.u_coord_matrix),u_is_text:new f.Uniform1i(U,ee.u_is_text),u_pitch_with_map:new f.Uniform1i(U,ee.u_pitch_with_map),u_texsize:new f.Uniform2f(U,ee.u_texsize),u_texture:new f.Uniform1i(U,ee.u_texture),u_gamma_scale:new f.Uniform1f(U,ee.u_gamma_scale),u_device_pixel_ratio:new f.Uniform1f(U,ee.u_device_pixel_ratio),u_is_halo:new f.Uniform1i(U,ee.u_is_halo)}},symbolTextAndIcon:function(U,ee){return{u_is_size_zoom_constant:new f.Uniform1i(U,ee.u_is_size_zoom_constant),u_is_size_feature_constant:new f.Uniform1i(U,ee.u_is_size_feature_constant),u_size_t:new f.Uniform1f(U,ee.u_size_t),u_size:new f.Uniform1f(U,ee.u_size),u_camera_to_center_distance:new f.Uniform1f(U,ee.u_camera_to_center_distance),u_pitch:new f.Uniform1f(U,ee.u_pitch),u_rotate_symbol:new f.Uniform1i(U,ee.u_rotate_symbol),u_aspect_ratio:new f.Uniform1f(U,ee.u_aspect_ratio),u_fade_change:new f.Uniform1f(U,ee.u_fade_change),u_matrix:new f.UniformMatrix4f(U,ee.u_matrix),u_label_plane_matrix:new f.UniformMatrix4f(U,ee.u_label_plane_matrix),u_coord_matrix:new f.UniformMatrix4f(U,ee.u_coord_matrix),u_is_text:new f.Uniform1i(U,ee.u_is_text),u_pitch_with_map:new f.Uniform1i(U,ee.u_pitch_with_map),u_texsize:new f.Uniform2f(U,ee.u_texsize),u_texsize_icon:new f.Uniform2f(U,ee.u_texsize_icon),u_texture:new f.Uniform1i(U,ee.u_texture),u_texture_icon:new f.Uniform1i(U,ee.u_texture_icon),u_gamma_scale:new f.Uniform1f(U,ee.u_gamma_scale),u_device_pixel_ratio:new f.Uniform1f(U,ee.u_device_pixel_ratio),u_is_halo:new f.Uniform1i(U,ee.u_is_halo)}},background:function(U,ee){return{u_matrix:new f.UniformMatrix4f(U,ee.u_matrix),u_opacity:new f.Uniform1f(U,ee.u_opacity),u_color:new f.UniformColor(U,ee.u_color)}},backgroundPattern:function(U,ee){return{u_matrix:new f.UniformMatrix4f(U,ee.u_matrix),u_opacity:new f.Uniform1f(U,ee.u_opacity),u_image:new f.Uniform1i(U,ee.u_image),u_pattern_tl_a:new f.Uniform2f(U,ee.u_pattern_tl_a),u_pattern_br_a:new f.Uniform2f(U,ee.u_pattern_br_a),u_pattern_tl_b:new f.Uniform2f(U,ee.u_pattern_tl_b),u_pattern_br_b:new f.Uniform2f(U,ee.u_pattern_br_b),u_texsize:new f.Uniform2f(U,ee.u_texsize),u_mix:new f.Uniform1f(U,ee.u_mix),u_pattern_size_a:new f.Uniform2f(U,ee.u_pattern_size_a),u_pattern_size_b:new f.Uniform2f(U,ee.u_pattern_size_b),u_scale_a:new f.Uniform1f(U,ee.u_scale_a),u_scale_b:new f.Uniform1f(U,ee.u_scale_b),u_pixel_coord_upper:new f.Uniform2f(U,ee.u_pixel_coord_upper),u_pixel_coord_lower:new f.Uniform2f(U,ee.u_pixel_coord_lower),u_tile_units_to_pixels:new f.Uniform1f(U,ee.u_tile_units_to_pixels)}}};function ra(U,ee,J,ae,we,ze,Ze){for(var Qe=U.context,ct=Qe.gl,St=U.useProgram("collisionBox"),Dt=[],se=0,me=0,Ie=0;Ie<ae.length;Ie++){var je=ae[Ie],qe=ee.getTile(je),Xe=qe.getBucket(J);if(Xe){var rt=je.posMatrix;0===we[0]&&0===we[1]||(rt=U.translatePosMatrix(je.posMatrix,qe,we,ze));var at=Ze?Xe.textCollisionBox:Xe.iconCollisionBox,pt=Xe.collisionCircleArray;if(pt.length>0){var yt=f.create(),zt=rt;f.mul(yt,Xe.placementInvProjMatrix,U.transform.glCoordMatrix),f.mul(yt,yt,Xe.placementViewportMatrix),Dt.push({circleArray:pt,circleOffset:me,transform:zt,invTransform:yt}),me=se+=pt.length/4}at&&St.draw(Qe,ct.LINES,tn.disabled,et.disabled,U.colorModeForRenderPass(),$e.disabled,tl(rt,U.transform,qe),J.id,at.layoutVertexBuffer,at.indexBuffer,at.segments,null,U.transform.zoom,null,null,at.collisionVertexBuffer)}}if(Ze&&Dt.length){var $t=U.useProgram("collisionCircle"),Yt=new f.StructArrayLayout2f1f2i16;Yt.resize(4*se),Yt._trim();for(var cn=0,Mn=0,an=Dt;Mn<an.length;Mn+=1)for(var hn=an[Mn],sn=0;sn<hn.circleArray.length/4;sn++){var Ln=4*sn,Dn=hn.circleArray[Ln+0],dn=hn.circleArray[Ln+1],Xn=hn.circleArray[Ln+2],rr=hn.circleArray[Ln+3];Yt.emplace(cn++,Dn,dn,Xn,rr,0),Yt.emplace(cn++,Dn,dn,Xn,rr,1),Yt.emplace(cn++,Dn,dn,Xn,rr,2),Yt.emplace(cn++,Dn,dn,Xn,rr,3)}(!Ml||Ml.length<2*se)&&(Ml=function(Kr){var Ti=2*Kr,ki=new f.StructArrayLayout3ui6;ki.resize(Ti),ki._trim();for(var Rr=0;Rr<Ti;Rr++){var ei=6*Rr;ki.uint16[ei+0]=4*Rr+0,ki.uint16[ei+1]=4*Rr+1,ki.uint16[ei+2]=4*Rr+2,ki.uint16[ei+3]=4*Rr+2,ki.uint16[ei+4]=4*Rr+3,ki.uint16[ei+5]=4*Rr+0}return ki}(se));for(var vr=Qe.createIndexBuffer(Ml,!0),dr=Qe.createVertexBuffer(Yt,f.collisionCircleLayout.members,!0),Lr=0,jr=Dt;Lr<jr.length;Lr+=1){var Er=jr[Lr],Fr=nl(Er.transform,Er.invTransform,U.transform);$t.draw(Qe,ct.TRIANGLES,tn.disabled,et.disabled,U.colorModeForRenderPass(),$e.disabled,Fr,J.id,dr,vr,f.SegmentVector.simpleSegment(0,2*Er.circleOffset,Er.circleArray.length,Er.circleArray.length/2),null,U.transform.zoom,null,null,null)}dr.destroy(),vr.destroy()}}var Io=f.identity(new Float32Array(16));function eu(U,ee,J,ae,we,ze){var Ze=f.getAnchorAlignment(U),Qe=-(Ze.horizontalAlign-.5)*ee,ct=-(Ze.verticalAlign-.5)*J,St=f.evaluateVariableOffset(U,ae);return new f.Point((Qe/we+St[0])*ze,(ct/we+St[1])*ze)}function La(U,ee,J,ae,we,ze,Ze,Qe,ct,St,Dt){var se=U.text.placedSymbolArray,me=U.text.dynamicLayoutVertexArray,Ie=U.icon.dynamicLayoutVertexArray,je={};me.clear();for(var qe=0;qe<se.length;qe++){var Xe=se.get(qe),at=Xe.hidden||!Xe.crossTileID||U.allowVerticalPlacement&&!Xe.placedOrientation?null:ae[Xe.crossTileID];if(at){var pt=new f.Point(Xe.anchorX,Xe.anchorY),yt=wn(pt,J?Qe:Ze),zt=Cn(ze.cameraToCenterDistance,yt.signedDistanceFromCamera),$t=we.evaluateSizeForFeature(U.textSizeData,St,Xe)*zt/f.ONE_EM;J&&($t*=U.tilePixelRatio/ct);for(var Mn=eu(at.anchor,at.width,at.height,at.textOffset,at.textBoxScale,$t),an=J?wn(pt.add(Mn),Ze).point:yt.point.add(ee?Mn.rotate(-ze.angle):Mn),hn=U.allowVerticalPlacement&&Xe.placedOrientation===f.WritingMode.vertical?Math.PI/2:0,sn=0;sn<Xe.numGlyphs;sn++)f.addDynamicAttributes(me,an,hn);Dt&&Xe.associatedIconIndex>=0&&(je[Xe.associatedIconIndex]={shiftedAnchor:an,angle:hn})}else mr(Xe.numGlyphs,me)}if(Dt){Ie.clear();for(var Ln=U.icon.placedSymbolArray,Dn=0;Dn<Ln.length;Dn++){var dn=Ln.get(Dn);if(dn.hidden)mr(dn.numGlyphs,Ie);else{var Xn=je[Dn];if(Xn)for(var rr=0;rr<dn.numGlyphs;rr++)f.addDynamicAttributes(Ie,Xn.shiftedAnchor,Xn.angle);else mr(dn.numGlyphs,Ie)}}U.icon.dynamicLayoutVertexBuffer.updateData(Ie)}U.text.dynamicLayoutVertexBuffer.updateData(me)}function ds(U,ee,J){return J.iconsInText&&ee?"symbolTextAndIcon":U?"symbolSDF":"symbolIcon"}function ai(U,ee,J,ae,we,ze,Ze,Qe,ct,St,Dt,se){for(var me=U.context,Ie=me.gl,je=U.transform,qe="map"===Qe,Xe="map"===ct,rt=qe&&"point"!==J.layout.get("symbol-placement"),at=qe&&!Xe&&!rt,pt=void 0!==J.layout.get("symbol-sort-key").constantOr(1),yt=U.depthModeForSublayer(0,tn.ReadOnly),zt=J.layout.get("text-variable-anchor"),$t=[],Yt=0,cn=ae;Yt<cn.length;Yt+=1){var Mn=cn[Yt],an=ee.getTile(Mn),hn=an.getBucket(J);if(hn){var sn=we?hn.text:hn.icon;if(sn&&sn.segments.get().length){var Ln=sn.programConfigurations.get(J.id),Dn=we||hn.sdfIcons,dn=we?hn.textSizeData:hn.iconSizeData,Xn=Xe||0!==je.pitch,rr=U.useProgram(ds(Dn,we,hn),Ln),vr=f.evaluateSizeForZoom(dn,je.zoom),dr=void 0,Lr=[0,0],jr=void 0,Er=void 0,Fr=null,Kr=void 0;if(we)jr=an.glyphAtlasTexture,Er=Ie.LINEAR,dr=an.glyphAtlasTexture.size,hn.iconsInText&&(Lr=an.imageAtlasTexture.size,Fr=an.imageAtlasTexture,Kr=Xn||U.options.rotating||U.options.zooming||"composite"===dn.kind||"camera"===dn.kind?Ie.LINEAR:Ie.NEAREST);else{var ki=1!==J.layout.get("icon-size").constantOr(0)||hn.iconsNeedLinear;jr=an.imageAtlasTexture,Er=Dn||U.options.rotating||U.options.zooming||ki||Xn?Ie.LINEAR:Ie.NEAREST,dr=an.imageAtlasTexture.size}var Rr=ur(an,1,U.transform.zoom),ei=tr(Mn.posMatrix,Xe,qe,U.transform,Rr),vi=On(Mn.posMatrix,Xe,qe,U.transform,Rr),xi=zt&&hn.hasTextData(),Ji="none"!==J.layout.get("icon-text-fit")&&xi&&hn.hasIconData();rt&&En(hn,Mn.posMatrix,U,we,ei,vi,Xe,St);var Vi=U.translatePosMatrix(Mn.posMatrix,an,ze,Ze),oo=rt||we&&zt||Ji?Io:ei,So=U.translatePosMatrix(vi,an,ze,Ze,!0),xo=Dn&&0!==J.paint.get(we?"text-halo-width":"icon-halo-width").constantOr(1),bo={program:rr,buffers:sn,uniformValues:Dn?hn.iconsInText?ef(dn.kind,vr,at,Xe,U,Vi,oo,So,dr,Lr):Ql(dn.kind,vr,at,Xe,U,Vi,oo,So,we,dr,!0):mi(dn.kind,vr,at,Xe,U,Vi,oo,So,we,dr),atlasTexture:jr,atlasTextureIcon:Fr,atlasInterpolation:Er,atlasInterpolationIcon:Kr,isSDF:Dn,hasHalo:xo};if(pt)for(var mo=0,ao=sn.segments.get();mo<ao.length;mo+=1){var wo=ao[mo];$t.push({segments:new f.SegmentVector([wo]),sortKey:wo.sortKey,state:bo})}else $t.push({segments:sn.segments,sortKey:0,state:bo})}}}pt&&$t.sort(function(da,$o){return da.sortKey-$o.sortKey});for(var Bo=0,fl=$t;Bo<fl.length;Bo+=1){var fa=fl[Bo],bi=fa.state;if(me.activeTexture.set(Ie.TEXTURE0),bi.atlasTexture.bind(bi.atlasInterpolation,Ie.CLAMP_TO_EDGE),bi.atlasTextureIcon&&(me.activeTexture.set(Ie.TEXTURE1),bi.atlasTextureIcon&&bi.atlasTextureIcon.bind(bi.atlasInterpolationIcon,Ie.CLAMP_TO_EDGE)),bi.isSDF){var ha=bi.uniformValues;bi.hasHalo&&(ha.u_is_halo=1,Di(bi.buffers,fa.segments,J,U,bi.program,yt,Dt,se,ha)),ha.u_is_halo=0}Di(bi.buffers,fa.segments,J,U,bi.program,yt,Dt,se,bi.uniformValues)}}function Di(U,ee,J,ae,we,ze,Ze,Qe,ct){var St=ae.context;we.draw(St,St.gl.TRIANGLES,ze,Ze,Qe,$e.disabled,ct,J.id,U.layoutVertexBuffer,U.indexBuffer,ee,J.paint,ae.transform.zoom,U.programConfigurations.get(J.id),U.dynamicLayoutVertexBuffer,U.opacityVertexBuffer)}function Ao(U,ee,J,ae,we,ze,Ze){var Qe,ct,St,Dt,se,me=U.context.gl,Ie=J.paint.get("fill-pattern"),je=Ie&&Ie.constantOr(1),qe=J.getCrossfadeParameters();Ze?(ct=je&&!J.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Qe=me.LINES):(ct=je?"fillPattern":"fill",Qe=me.TRIANGLES);for(var Xe=0,rt=ae;Xe<rt.length;Xe+=1){var at=rt[Xe],pt=ee.getTile(at);if(!je||pt.patternsLoaded()){var yt=pt.getBucket(J);if(yt){var zt=yt.programConfigurations.get(J.id),$t=U.useProgram(ct,zt);je&&(U.context.activeTexture.set(me.TEXTURE0),pt.imageAtlasTexture.bind(me.LINEAR,me.CLAMP_TO_EDGE),zt.updatePaintBuffers(qe));var Yt=Ie.constantOr(null);if(Yt&&pt.imageAtlas){var cn=pt.imageAtlas,Mn=cn.patternPositions[Yt.to.toString()],an=cn.patternPositions[Yt.from.toString()];Mn&&an&&zt.setConstantPatternPositions(Mn,an)}var hn=U.translatePosMatrix(at.posMatrix,pt,J.paint.get("fill-translate"),J.paint.get("fill-translate-anchor"));if(Ze){Dt=yt.indexBuffer2,se=yt.segments2;var sn=[me.drawingBufferWidth,me.drawingBufferHeight];St="fillOutlinePattern"===ct&&je?Zf(hn,U,qe,pt,sn):Vs(hn,sn)}else Dt=yt.indexBuffer,se=yt.segments,St=je?Ll(hn,U,qe,pt):Rl(hn);$t.draw(U.context,Qe,we,U.stencilModeForClipping(at),ze,$e.disabled,St,J.id,yt.layoutVertexBuffer,Dt,se,J.paint,U.transform.zoom,zt)}}}}function Ha(U,ee,J,ae,we,ze,Ze){for(var Qe=U.context,ct=Qe.gl,St=J.paint.get("fill-extrusion-pattern"),Dt=St.constantOr(1),se=J.getCrossfadeParameters(),me=J.paint.get("fill-extrusion-opacity"),Ie=0,je=ae;Ie<je.length;Ie+=1){var qe=je[Ie],Xe=ee.getTile(qe),rt=Xe.getBucket(J);if(rt){var at=rt.programConfigurations.get(J.id),pt=U.useProgram(Dt?"fillExtrusionPattern":"fillExtrusion",at);Dt&&(U.context.activeTexture.set(ct.TEXTURE0),Xe.imageAtlasTexture.bind(ct.LINEAR,ct.CLAMP_TO_EDGE),at.updatePaintBuffers(se));var yt=St.constantOr(null);if(yt&&Xe.imageAtlas){var zt=Xe.imageAtlas,$t=zt.patternPositions[yt.to.toString()],Yt=zt.patternPositions[yt.from.toString()];$t&&Yt&&at.setConstantPatternPositions($t,Yt)}var cn=U.translatePosMatrix(qe.posMatrix,Xe,J.paint.get("fill-extrusion-translate"),J.paint.get("fill-extrusion-translate-anchor")),Mn=J.paint.get("fill-extrusion-vertical-gradient"),an=Dt?Kc(cn,U,Mn,me,qe,se,Xe):Uu(cn,U,Mn,me);pt.draw(Qe,Qe.gl.TRIANGLES,we,ze,Ze,$e.backCCW,an,J.id,rt.layoutVertexBuffer,rt.indexBuffer,rt.segments,J.paint,U.transform.zoom,at)}}}function al(U,ee,J,ae,we,ze){var Ze=U.context,Qe=Ze.gl,ct=ee.fbo;if(ct){var St=U.useProgram("hillshade");Ze.activeTexture.set(Qe.TEXTURE0),Qe.bindTexture(Qe.TEXTURE_2D,ct.colorAttachment.get());var Dt=function(se,me,Ie){var je=Ie.paint.get("hillshade-shadow-color"),qe=Ie.paint.get("hillshade-highlight-color"),Xe=Ie.paint.get("hillshade-accent-color"),rt=Ie.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===Ie.paint.get("hillshade-illumination-anchor")&&(rt-=se.transform.angle);var at,pt,yt,zt=!se.options.moving;return{u_matrix:se.transform.calculatePosMatrix(me.tileID.toUnwrapped(),zt),u_image:0,u_latrange:(at=me.tileID,pt=Math.pow(2,at.canonical.z),yt=at.canonical.y,[new f.MercatorCoordinate(0,yt/pt).toLngLat().lat,new f.MercatorCoordinate(0,(yt+1)/pt).toLngLat().lat]),u_light:[Ie.paint.get("hillshade-exaggeration"),rt],u_shadow:je,u_highlight:qe,u_accent:Xe}}(U,ee,J);St.draw(Ze,Qe.TRIANGLES,ae,we,ze,$e.disabled,Dt,J.id,U.rasterBoundsBuffer,U.quadTriangleIndexBuffer,U.rasterBoundsSegments)}}function ca(U,ee,J,ae,we,ze,Ze){var Xe,rt,at,pt,yt,Qe=U.context,ct=Qe.gl,St=ee.dem;if(St&&St.data){var Dt=St.dim,se=St.stride,me=St.getPixels();if(Qe.activeTexture.set(ct.TEXTURE1),Qe.pixelStoreUnpackPremultiplyAlpha.set(!1),ee.demTexture=ee.demTexture||U.getTileTexture(se),ee.demTexture){var Ie=ee.demTexture;Ie.update(me,{premultiply:!1}),Ie.bind(ct.NEAREST,ct.CLAMP_TO_EDGE)}else ee.demTexture=new f.Texture(Qe,me,ct.RGBA,{premultiply:!1}),ee.demTexture.bind(ct.NEAREST,ct.CLAMP_TO_EDGE);Qe.activeTexture.set(ct.TEXTURE0);var je=ee.fbo;if(!je){var qe=new f.Texture(Qe,{width:Dt,height:Dt,data:null},ct.RGBA);qe.bind(ct.LINEAR,ct.CLAMP_TO_EDGE),(je=ee.fbo=Qe.createFramebuffer(Dt,Dt,!0)).colorAttachment.set(qe.texture)}Qe.bindFramebuffer.set(je.framebuffer),Qe.viewport.set([0,0,Dt,Dt]),U.useProgram("hillshadePrepare").draw(Qe,ct.TRIANGLES,we,ze,Ze,$e.disabled,(Xe=ee.tileID,at=ae,pt=(rt=St).stride,yt=f.create(),f.ortho(yt,0,f.EXTENT,-f.EXTENT,0,0,1),f.translate(yt,yt,[0,-f.EXTENT,0]),{u_matrix:yt,u_image:1,u_dimension:[pt,pt],u_zoom:Xe.overscaledZ,u_maxzoom:at,u_unpack:rt.getUnpackVector()}),J.id,U.rasterBoundsBuffer,U.quadTriangleIndexBuffer,U.rasterBoundsSegments),ee.needsHillshadePrepare=!1}}function Na(U,ee,J,ae,we){var ze=ae.paint.get("raster-fade-duration");if(ze>0){var Ze=f.browser.now(),Qe=(Ze-U.timeAdded)/ze,ct=ee?(Ze-ee.timeAdded)/ze:-1,St=J.getSource(),Dt=we.coveringZoomLevel({tileSize:St.tileSize,roundZoom:St.roundZoom}),se=!ee||Math.abs(ee.tileID.overscaledZ-Dt)>Math.abs(U.tileID.overscaledZ-Dt),me=se&&U.refreshedUponExpiration?1:f.clamp(se?Qe:1-ct,0,1);return U.refreshedUponExpiration&&Qe>=1&&(U.refreshedUponExpiration=!1),ee?{opacity:1,mix:1-me}:{opacity:me,mix:0}}return{opacity:1,mix:0}}var Lo=new f.Color(1,0,0,1),tu=new f.Color(0,1,0,1),Su=new f.Color(0,0,1,1),Oi=new f.Color(1,0,1,1),Cu=new f.Color(0,1,1,1);function sc(U,ee,J,ae){ia(U,0,ee+J/2,U.transform.width,J,ae)}function Al(U,ee,J,ae){ia(U,ee-J/2,0,J,U.transform.height,ae)}function ia(U,ee,J,ae,we,ze){var Ze=U.context,Qe=Ze.gl;Qe.enable(Qe.SCISSOR_TEST),Qe.scissor(ee*f.browser.devicePixelRatio,J*f.browser.devicePixelRatio,ae*f.browser.devicePixelRatio,we*f.browser.devicePixelRatio),Ze.clear({color:ze}),Qe.disable(Qe.SCISSOR_TEST)}function sl(U,ee,J){var ae=U.context,we=ae.gl,ze=J.posMatrix,Ze=U.useProgram("debug"),Qe=tn.disabled,ct=et.disabled,St=U.colorModeForRenderPass();ae.activeTexture.set(we.TEXTURE0),U.emptyTexture.bind(we.LINEAR,we.CLAMP_TO_EDGE),Ze.draw(ae,we.LINE_STRIP,Qe,ct,St,$e.disabled,Hi(ze,f.Color.red),"$debug",U.debugBuffer,U.tileBorderIndexBuffer,U.debugSegments);var se=ee.getTileByID(J.key).latestRawTileData,Ie=Math.floor((se&&se.byteLength||0)/1024),je=ee.getTile(J).tileSize,qe=512/Math.min(je,512)*(J.overscaledZ/U.transform.zoom)*.5,Xe=J.canonical.toString();J.overscaledZ!==J.canonical.z&&(Xe+=" => "+J.overscaledZ),function(rt,at){rt.initDebugOverlayCanvas();var pt=rt.debugOverlayCanvas,yt=rt.context.gl,zt=rt.debugOverlayCanvas.getContext("2d");zt.clearRect(0,0,pt.width,pt.height),zt.shadowColor="white",zt.shadowBlur=2,zt.lineWidth=1.5,zt.strokeStyle="white",zt.textBaseline="top",zt.font="bold 36px Open Sans, sans-serif",zt.fillText(at,5,5),zt.strokeText(at,5,5),rt.debugOverlayTexture.update(pt),rt.debugOverlayTexture.bind(yt.LINEAR,yt.CLAMP_TO_EDGE)}(U,Xe+" "+Ie+"kb"),Ze.draw(ae,we.TRIANGLES,Qe,ct,nt.alphaBlended,$e.disabled,Hi(ze,f.Color.transparent,qe),"$debug",U.debugBuffer,U.quadTriangleIndexBuffer,U.debugSegments)}var Gs={symbol:function(U,ee,J,ae,we){if("translucent"===U.renderPass){var ze=et.disabled,Ze=U.colorModeForRenderPass();J.layout.get("text-variable-anchor")&&function(Qe,ct,St,Dt,se,me,Ie){for(var je=ct.transform,qe="map"===se,Xe="map"===me,rt=0,at=Qe;rt<at.length;rt+=1){var pt=at[rt],yt=Dt.getTile(pt),zt=yt.getBucket(St);if(zt&&zt.text&&zt.text.segments.get().length){var Yt=f.evaluateSizeForZoom(zt.textSizeData,je.zoom),cn=ur(yt,1,ct.transform.zoom),Mn=tr(pt.posMatrix,Xe,qe,ct.transform,cn),an="none"!==St.layout.get("icon-text-fit")&&zt.hasIconData();if(Yt){var hn=Math.pow(2,je.zoom-yt.tileID.overscaledZ);La(zt,qe,Xe,Ie,f.symbolSize,je,Mn,pt.posMatrix,hn,Yt,an)}}}}(ae,U,J,ee,J.layout.get("text-rotation-alignment"),J.layout.get("text-pitch-alignment"),we),0!==J.paint.get("icon-opacity").constantOr(1)&&ai(U,ee,J,ae,!1,J.paint.get("icon-translate"),J.paint.get("icon-translate-anchor"),J.layout.get("icon-rotation-alignment"),J.layout.get("icon-pitch-alignment"),J.layout.get("icon-keep-upright"),ze,Ze),0!==J.paint.get("text-opacity").constantOr(1)&&ai(U,ee,J,ae,!0,J.paint.get("text-translate"),J.paint.get("text-translate-anchor"),J.layout.get("text-rotation-alignment"),J.layout.get("text-pitch-alignment"),J.layout.get("text-keep-upright"),ze,Ze),ee.map.showCollisionBoxes&&(ra(U,ee,J,ae,J.paint.get("text-translate"),J.paint.get("text-translate-anchor"),!0),ra(U,ee,J,ae,J.paint.get("icon-translate"),J.paint.get("icon-translate-anchor"),!1))}},circle:function(U,ee,J,ae){if("translucent"===U.renderPass){var we=J.paint.get("circle-opacity"),ze=J.paint.get("circle-stroke-width"),Ze=J.paint.get("circle-stroke-opacity"),Qe=void 0!==J.layout.get("circle-sort-key").constantOr(1);if(0!==we.constantOr(1)||0!==ze.constantOr(1)&&0!==Ze.constantOr(1)){for(var ct=U.context,St=ct.gl,Dt=U.depthModeForSublayer(0,tn.ReadOnly),se=et.disabled,me=U.colorModeForRenderPass(),Ie=[],je=0;je<ae.length;je++){var qe=ae[je],Xe=ee.getTile(qe),rt=Xe.getBucket(J);if(rt){var at=rt.programConfigurations.get(J.id),pt={programConfiguration:at,program:U.useProgram("circle",at),layoutVertexBuffer:rt.layoutVertexBuffer,indexBuffer:rt.indexBuffer,uniformValues:Qc(U,qe,Xe,J)};if(Qe)for(var yt=0,zt=rt.segments.get();yt<zt.length;yt+=1){var $t=zt[yt];Ie.push({segments:new f.SegmentVector([$t]),sortKey:$t.sortKey,state:pt})}else Ie.push({segments:rt.segments,sortKey:0,state:pt})}}Qe&&Ie.sort(function(rr,vr){return rr.sortKey-vr.sortKey});for(var Yt=0,cn=Ie;Yt<cn.length;Yt+=1){var Mn=cn[Yt],an=Mn.state;an.program.draw(ct,St.TRIANGLES,Dt,se,me,$e.disabled,an.uniformValues,J.id,an.layoutVertexBuffer,an.indexBuffer,Mn.segments,J.paint,U.transform.zoom,an.programConfiguration)}}}},heatmap:function(U,ee,J,ae){if(0!==J.paint.get("heatmap-opacity"))if("offscreen"===U.renderPass){var we=U.context,ze=we.gl,Ze=et.disabled,Qe=new nt([ze.ONE,ze.ONE],f.Color.transparent,[!0,!0,!0,!0]);(function(qe,Xe,rt){var at=qe.gl;qe.activeTexture.set(at.TEXTURE1),qe.viewport.set([0,0,Xe.width/4,Xe.height/4]);var zt,$t,Yt,cn,Mn,pt=rt.heatmapFbo;if(pt)at.bindTexture(at.TEXTURE_2D,pt.colorAttachment.get()),qe.bindFramebuffer.set(pt.framebuffer);else{var yt=at.createTexture();at.bindTexture(at.TEXTURE_2D,yt),at.texParameteri(at.TEXTURE_2D,at.TEXTURE_WRAP_S,at.CLAMP_TO_EDGE),at.texParameteri(at.TEXTURE_2D,at.TEXTURE_WRAP_T,at.CLAMP_TO_EDGE),at.texParameteri(at.TEXTURE_2D,at.TEXTURE_MIN_FILTER,at.LINEAR),at.texParameteri(at.TEXTURE_2D,at.TEXTURE_MAG_FILTER,at.LINEAR),Yt=yt,cn=pt=rt.heatmapFbo=qe.createFramebuffer(Xe.width/4,Xe.height/4,!1),(Mn=(zt=qe).gl).texImage2D(Mn.TEXTURE_2D,0,Mn.RGBA,($t=Xe).width/4,$t.height/4,0,Mn.RGBA,zt.extRenderToTextureHalfFloat?zt.extTextureHalfFloat.HALF_FLOAT_OES:Mn.UNSIGNED_BYTE,null),cn.colorAttachment.set(Yt)}})(we,U,J),we.clear({color:f.Color.transparent});for(var ct=0;ct<ae.length;ct++){var St=ae[ct];if(!ee.hasRenderableParent(St)){var Dt=ee.getTile(St),se=Dt.getBucket(J);if(se){var me=se.programConfigurations.get(J.id);U.useProgram("heatmap",me).draw(we,ze.TRIANGLES,tn.disabled,Ze,Qe,$e.disabled,Jl(St.posMatrix,Dt,U.transform.zoom,J.paint.get("heatmap-intensity")),J.id,se.layoutVertexBuffer,se.indexBuffer,se.segments,J.paint,U.transform.zoom,me)}}}we.viewport.set([0,0,U.width,U.height])}else"translucent"===U.renderPass&&(U.context.setColorMode(U.colorModeForRenderPass()),function(qe,Xe){var rt=qe.context,at=rt.gl,pt=Xe.heatmapFbo;if(pt){rt.activeTexture.set(at.TEXTURE0),at.bindTexture(at.TEXTURE_2D,pt.colorAttachment.get()),rt.activeTexture.set(at.TEXTURE1);var yt=Xe.colorRampTexture;yt||(yt=Xe.colorRampTexture=new f.Texture(rt,Xe.colorRamp,at.RGBA)),yt.bind(at.LINEAR,at.CLAMP_TO_EDGE),qe.useProgram("heatmapTexture").draw(rt,at.TRIANGLES,tn.disabled,et.disabled,qe.colorModeForRenderPass(),$e.disabled,function(zt,$t,Yt,cn){var Mn=f.create();f.ortho(Mn,0,zt.width,zt.height,0,0,1);var an=zt.context.gl;return{u_matrix:Mn,u_world:[an.drawingBufferWidth,an.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:$t.paint.get("heatmap-opacity")}}(qe,Xe),Xe.id,qe.viewportBuffer,qe.quadTriangleIndexBuffer,qe.viewportSegments,Xe.paint,qe.transform.zoom)}}(U,J))},line:function(U,ee,J,ae){if("translucent"===U.renderPass){var we=J.paint.get("line-opacity"),ze=J.paint.get("line-width");if(0!==we.constantOr(1)&&0!==ze.constantOr(1)){var Ze=U.depthModeForSublayer(0,tn.ReadOnly),Qe=U.colorModeForRenderPass(),ct=J.paint.get("line-dasharray"),St=J.paint.get("line-pattern"),Dt=St.constantOr(1),se=J.paint.get("line-gradient"),me=J.getCrossfadeParameters(),Ie=Dt?"linePattern":ct?"lineSDF":se?"lineGradient":"line",je=U.context,qe=je.gl,Xe=!0;if(se){je.activeTexture.set(qe.TEXTURE0);var rt=J.gradientTexture;if(!J.gradient)return;rt||(rt=J.gradientTexture=new f.Texture(je,J.gradient,qe.RGBA)),rt.bind(qe.LINEAR,qe.CLAMP_TO_EDGE)}for(var at=0,pt=ae;at<pt.length;at+=1){var yt=pt[at],zt=ee.getTile(yt);if(!Dt||zt.patternsLoaded()){var $t=zt.getBucket(J);if($t){var Yt=$t.programConfigurations.get(J.id),cn=U.context.program.get(),Mn=U.useProgram(Ie,Yt),an=Xe||Mn.program!==cn,hn=St.constantOr(null);if(hn&&zt.imageAtlas){var sn=zt.imageAtlas,Ln=sn.patternPositions[hn.to.toString()],Dn=sn.patternPositions[hn.from.toString()];Ln&&Dn&&Yt.setConstantPatternPositions(Ln,Dn)}var dn=Dt?il(U,zt,J,me):ct?ol(U,zt,J,ct,me):se?oc(U,zt,J):rl(U,zt,J);Dt?(je.activeTexture.set(qe.TEXTURE0),zt.imageAtlasTexture.bind(qe.LINEAR,qe.CLAMP_TO_EDGE),Yt.updatePaintBuffers(me)):ct&&(an||U.lineAtlas.dirty)&&(je.activeTexture.set(qe.TEXTURE0),U.lineAtlas.bind(je)),Mn.draw(je,qe.TRIANGLES,Ze,U.stencilModeForClipping(yt),Qe,$e.disabled,dn,J.id,$t.layoutVertexBuffer,$t.indexBuffer,$t.segments,J.paint,U.transform.zoom,Yt),Xe=!1}}}}}},fill:function(U,ee,J,ae){var we=J.paint.get("fill-color"),ze=J.paint.get("fill-opacity");if(0!==ze.constantOr(1)){var Ze=U.colorModeForRenderPass(),Qe=J.paint.get("fill-pattern"),ct=U.opaquePassEnabledForLayer()&&!Qe.constantOr(1)&&1===we.constantOr(f.Color.transparent).a&&1===ze.constantOr(0)?"opaque":"translucent";if(U.renderPass===ct){var St=U.depthModeForSublayer(1,"opaque"===U.renderPass?tn.ReadWrite:tn.ReadOnly);Ao(U,ee,J,ae,St,Ze,!1)}if("translucent"===U.renderPass&&J.paint.get("fill-antialias")){var Dt=U.depthModeForSublayer(J.getPaintProperty("fill-outline-color")?2:0,tn.ReadOnly);Ao(U,ee,J,ae,Dt,Ze,!0)}}},"fill-extrusion":function(U,ee,J,ae){var we=J.paint.get("fill-extrusion-opacity");if(0!==we&&"translucent"===U.renderPass){var ze=new tn(U.context.gl.LEQUAL,tn.ReadWrite,U.depthRangeFor3D);if(1!==we||J.paint.get("fill-extrusion-pattern").constantOr(1))Ha(U,ee,J,ae,ze,et.disabled,nt.disabled),Ha(U,ee,J,ae,ze,U.stencilModeFor3D(),U.colorModeForRenderPass());else{var Ze=U.colorModeForRenderPass();Ha(U,ee,J,ae,ze,et.disabled,Ze)}}},hillshade:function(U,ee,J,ae){if("offscreen"===U.renderPass||"translucent"===U.renderPass){for(var we=U.context,ze=ee.getSource().maxzoom,Ze=U.depthModeForSublayer(0,tn.ReadOnly),Qe=U.colorModeForRenderPass(),ct="translucent"===U.renderPass?U.stencilConfigForOverlap(ae):[{},ae],St=ct[0],Dt=0,se=ct[1];Dt<se.length;Dt+=1){var me=se[Dt],Ie=ee.getTile(me);Ie.needsHillshadePrepare&&"offscreen"===U.renderPass?ca(U,Ie,J,ze,Ze,et.disabled,Qe):"translucent"===U.renderPass&&al(U,Ie,J,Ze,St[me.overscaledZ],Qe)}we.viewport.set([0,0,U.width,U.height])}},raster:function(U,ee,J,ae){if("translucent"===U.renderPass&&0!==J.paint.get("raster-opacity")&&ae.length)for(var we=U.context,ze=we.gl,Ze=ee.getSource(),Qe=U.useProgram("raster"),ct=U.colorModeForRenderPass(),St=Ze instanceof q?[{},ae]:U.stencilConfigForOverlap(ae),Dt=St[0],se=St[1],me=se[se.length-1].overscaledZ,Ie=!U.options.moving,je=0,qe=se;je<qe.length;je+=1){var Xe=qe[je],rt=U.depthModeForSublayer(Xe.overscaledZ-me,1===J.paint.get("raster-opacity")?tn.ReadWrite:tn.ReadOnly,ze.LESS),at=ee.getTile(Xe),pt=U.transform.calculatePosMatrix(Xe.toUnwrapped(),Ie);at.registerFadeDuration(J.paint.get("raster-fade-duration"));var yt=ee.findLoadedParent(Xe,0),zt=Na(at,yt,ee,J,U.transform),$t=void 0,Yt=void 0,cn="nearest"===J.paint.get("raster-resampling")?ze.NEAREST:ze.LINEAR;we.activeTexture.set(ze.TEXTURE0),at.texture.bind(cn,ze.CLAMP_TO_EDGE,ze.LINEAR_MIPMAP_NEAREST),we.activeTexture.set(ze.TEXTURE1),yt?(yt.texture.bind(cn,ze.CLAMP_TO_EDGE,ze.LINEAR_MIPMAP_NEAREST),$t=Math.pow(2,yt.tileID.overscaledZ-at.tileID.overscaledZ),Yt=[at.tileID.canonical.x*$t%1,at.tileID.canonical.y*$t%1]):at.texture.bind(cn,ze.CLAMP_TO_EDGE,ze.LINEAR_MIPMAP_NEAREST);var Mn=ku(pt,Yt||[0,0],$t||1,zt,J);Ze instanceof q?Qe.draw(we,ze.TRIANGLES,rt,et.disabled,ct,$e.disabled,Mn,J.id,Ze.boundsBuffer,U.quadTriangleIndexBuffer,Ze.boundsSegments):Qe.draw(we,ze.TRIANGLES,rt,Dt[Xe.overscaledZ],ct,$e.disabled,Mn,J.id,U.rasterBoundsBuffer,U.quadTriangleIndexBuffer,U.rasterBoundsSegments)}},background:function(U,ee,J){var ae=J.paint.get("background-color"),we=J.paint.get("background-opacity");if(0!==we){var ze=U.context,Ze=ze.gl,Qe=U.transform,ct=Qe.tileSize,St=J.paint.get("background-pattern");if(!U.isPatternMissing(St)){var Dt=!St&&1===ae.a&&1===we&&U.opaquePassEnabledForLayer()?"opaque":"translucent";if(U.renderPass===Dt){var se=et.disabled,me=U.depthModeForSublayer(0,"opaque"===Dt?tn.ReadWrite:tn.ReadOnly),Ie=U.colorModeForRenderPass(),je=U.useProgram(St?"backgroundPattern":"background"),qe=Qe.coveringTiles({tileSize:ct});St&&(ze.activeTexture.set(Ze.TEXTURE0),U.imageManager.bind(U.context));for(var Xe=J.getCrossfadeParameters(),rt=0,at=qe;rt<at.length;rt+=1){var pt=at[rt],yt=U.transform.calculatePosMatrix(pt.toUnwrapped()),zt=St?Ca(yt,we,U,St,{tileID:pt,tileSize:ct},Xe):ni(yt,we,ae);je.draw(ze,Ze.TRIANGLES,me,se,Ie,$e.disabled,zt,J.id,U.tileExtentBuffer,U.quadTriangleIndexBuffer,U.tileExtentSegments)}}}}},debug:function(U,ee,J){for(var ae=0;ae<J.length;ae++)sl(U,ee,J[ae])},custom:function(U,ee,J){var ae=U.context,we=J.implementation;if("offscreen"===U.renderPass){var ze=we.prerender;ze&&(U.setCustomLayerDefaults(),ae.setColorMode(U.colorModeForRenderPass()),ze.call(we,ae.gl,U.transform.customLayerMatrix()),ae.setDirty(),U.setBaseState())}else if("translucent"===U.renderPass){U.setCustomLayerDefaults(),ae.setColorMode(U.colorModeForRenderPass()),ae.setStencilMode(et.disabled);var Ze="3d"===we.renderingMode?new tn(U.context.gl.LEQUAL,tn.ReadWrite,U.depthRangeFor3D):U.depthModeForSublayer(0,tn.ReadOnly);ae.setDepthMode(Ze),we.render(ae.gl,U.transform.customLayerMatrix()),ae.setDirty(),U.setBaseState(),ae.bindFramebuffer.set(null)}}},Gi=function(U,ee){this.context=new ot(U),this.transform=ee,this._tileTextures={},this.setup(),this.numSublayers=dt.maxUnderzooming+dt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new hr,this.gpuTimers={}};Gi.prototype.resize=function(U,ee){if(this.width=U*f.browser.devicePixelRatio,this.height=ee*f.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var J=0,ae=this.style._order;J<ae.length;J+=1)this.style._layers[ae[J]].resize()},Gi.prototype.setup=function(){var U=this.context,ee=new f.StructArrayLayout2i4;ee.emplaceBack(0,0),ee.emplaceBack(f.EXTENT,0),ee.emplaceBack(0,f.EXTENT),ee.emplaceBack(f.EXTENT,f.EXTENT),this.tileExtentBuffer=U.createVertexBuffer(ee,Ir.members),this.tileExtentSegments=f.SegmentVector.simpleSegment(0,0,4,2);var J=new f.StructArrayLayout2i4;J.emplaceBack(0,0),J.emplaceBack(f.EXTENT,0),J.emplaceBack(0,f.EXTENT),J.emplaceBack(f.EXTENT,f.EXTENT),this.debugBuffer=U.createVertexBuffer(J,Ir.members),this.debugSegments=f.SegmentVector.simpleSegment(0,0,4,5);var ae=new f.StructArrayLayout4i8;ae.emplaceBack(0,0,0,0),ae.emplaceBack(f.EXTENT,0,f.EXTENT,0),ae.emplaceBack(0,f.EXTENT,0,f.EXTENT),ae.emplaceBack(f.EXTENT,f.EXTENT,f.EXTENT,f.EXTENT),this.rasterBoundsBuffer=U.createVertexBuffer(ae,V.members),this.rasterBoundsSegments=f.SegmentVector.simpleSegment(0,0,4,2);var we=new f.StructArrayLayout2i4;we.emplaceBack(0,0),we.emplaceBack(1,0),we.emplaceBack(0,1),we.emplaceBack(1,1),this.viewportBuffer=U.createVertexBuffer(we,Ir.members),this.viewportSegments=f.SegmentVector.simpleSegment(0,0,4,2);var ze=new f.StructArrayLayout1ui2;ze.emplaceBack(0),ze.emplaceBack(1),ze.emplaceBack(3),ze.emplaceBack(2),ze.emplaceBack(0),this.tileBorderIndexBuffer=U.createIndexBuffer(ze);var Ze=new f.StructArrayLayout3ui6;Ze.emplaceBack(0,1,2),Ze.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=U.createIndexBuffer(Ze),this.emptyTexture=new f.Texture(U,{width:1,height:1,data:new Uint8Array([0,0,0,0])},U.gl.RGBA);var Qe=this.context.gl;this.stencilClearMode=new et({func:Qe.ALWAYS,mask:0},0,255,Qe.ZERO,Qe.ZERO,Qe.ZERO)},Gi.prototype.clearStencil=function(){var U=this.context,ee=U.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var J=f.create();f.ortho(J,0,this.width,this.height,0,0,1),f.scale(J,J,[ee.drawingBufferWidth,ee.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(U,ee.TRIANGLES,tn.disabled,this.stencilClearMode,nt.disabled,$e.disabled,Hs(J),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Gi.prototype._renderTileClippingMasks=function(U,ee){if(this.currentStencilSource!==U.source&&U.isTileClipped()&&ee&&ee.length){this.currentStencilSource=U.source;var J=this.context,ae=J.gl;this.nextStencilID+ee.length>256&&this.clearStencil(),J.setColorMode(nt.disabled),J.setDepthMode(tn.disabled);var we=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var ze=0,Ze=ee;ze<Ze.length;ze+=1){var Qe=Ze[ze],ct=this._tileClippingMaskIDs[Qe.key]=this.nextStencilID++;we.draw(J,ae.TRIANGLES,tn.disabled,new et({func:ae.ALWAYS,mask:0},ct,255,ae.KEEP,ae.KEEP,ae.REPLACE),nt.disabled,$e.disabled,Hs(Qe.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Gi.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var U=this.nextStencilID++,ee=this.context.gl;return new et({func:ee.NOTEQUAL,mask:255},U,255,ee.KEEP,ee.KEEP,ee.REPLACE)},Gi.prototype.stencilModeForClipping=function(U){var ee=this.context.gl;return new et({func:ee.EQUAL,mask:255},this._tileClippingMaskIDs[U.key],0,ee.KEEP,ee.KEEP,ee.REPLACE)},Gi.prototype.stencilConfigForOverlap=function(U){var ee,J=this.context.gl,ae=U.sort(function(ct,St){return St.overscaledZ-ct.overscaledZ}),we=ae[ae.length-1].overscaledZ,ze=ae[0].overscaledZ-we+1;if(ze>1){this.currentStencilSource=void 0,this.nextStencilID+ze>256&&this.clearStencil();for(var Ze={},Qe=0;Qe<ze;Qe++)Ze[Qe+we]=new et({func:J.GEQUAL,mask:255},Qe+this.nextStencilID,255,J.KEEP,J.KEEP,J.REPLACE);return this.nextStencilID+=ze,[Ze,ae]}return[(ee={},ee[we]=et.disabled,ee),ae]},Gi.prototype.colorModeForRenderPass=function(){var U=this.context.gl;if(this._showOverdrawInspector){return new nt([U.CONSTANT_COLOR,U.ONE],new f.Color(.125,.125,.125,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?nt.unblended:nt.alphaBlended},Gi.prototype.depthModeForSublayer=function(U,ee,J){if(!this.opaquePassEnabledForLayer())return tn.disabled;var ae=1-((1+this.currentLayer)*this.numSublayers+U)*this.depthEpsilon;return new tn(J||this.context.gl.LEQUAL,ee,[ae,ae])},Gi.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Gi.prototype.render=function(U,ee){var J=this;this.style=U,this.options=ee,this.lineAtlas=U.lineAtlas,this.imageManager=U.imageManager,this.glyphManager=U.glyphManager,this.symbolFadeChange=U.placement.symbolFadeChange(f.browser.now()),this.imageManager.beginFrame();var ae=this.style._order,we=this.style.sourceCaches;for(var ze in we){var Ze=we[ze];Ze.used&&Ze.prepare(this.context)}var Qe,ct,St={},Dt={},se={};for(var me in we){var Ie=we[me];St[me]=Ie.getVisibleCoordinates(),Dt[me]=St[me].slice().reverse(),se[me]=Ie.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var je=0;je<ae.length;je++)if(this.style._layers[ae[je]].is3D()){this.opaquePassCutoff=je;break}this.renderPass="offscreen";for(var Xe=0,rt=ae;Xe<rt.length;Xe+=1){var pt=this.style._layers[rt[Xe]];if(pt.hasOffscreenPass()&&!pt.isHidden(this.transform.zoom)){var yt=Dt[pt.source];("custom"===pt.type||yt.length)&&this.renderLayer(this,we[pt.source],pt,yt)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:ee.showOverdrawInspector?f.Color.black:f.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=ee.showOverdrawInspector,this.depthRangeFor3D=[0,1-(U._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=ae.length-1;this.currentLayer>=0;this.currentLayer--){var zt=this.style._layers[ae[this.currentLayer]],$t=we[zt.source],Yt=St[zt.source];this._renderTileClippingMasks(zt,Yt),this.renderLayer(this,$t,zt,Yt)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<ae.length;this.currentLayer++){var cn=this.style._layers[ae[this.currentLayer]],Mn=we[cn.source],an=("symbol"===cn.type?se:Dt)[cn.source];this._renderTileClippingMasks(cn,St[cn.source]),this.renderLayer(this,Mn,cn,an)}this.options.showTileBoundaries&&(f.values(this.style._layers).forEach(function(hn){hn.source&&!hn.isHidden(J.transform.zoom)&&(hn.source!==(ct&&ct.id)&&(ct=J.style.sourceCaches[hn.source]),(!Qe||Qe.getSource().maxzoom<ct.getSource().maxzoom)&&(Qe=ct))}),Qe&&Gs.debug(this,Qe,Qe.getVisibleCoordinates())),this.options.showPadding&&function Nl(U){var ee=U.transform.padding;sc(U,U.transform.height-(ee.top||0),3,Lo),sc(U,ee.bottom||0,3,tu),Al(U,ee.left||0,3,Su),Al(U,U.transform.width-(ee.right||0),3,Oi);var ae,we,ze,Ze,J=U.transform.centerPoint;ia(ae=U,(we=J.x)-1,(ze=U.transform.height-J.y)-10,2,20,Ze=Cu),ia(ae,we-10,ze-1,20,2,Ze)}(this),this.context.setDefault()},Gi.prototype.renderLayer=function(U,ee,J,ae){J.isHidden(this.transform.zoom)||("background"===J.type||"custom"===J.type||ae.length)&&(this.id=J.id,this.gpuTimingStart(J),Gs[J.type](U,ee,J,ae,this.style.placement.variableOffsets),this.gpuTimingEnd())},Gi.prototype.gpuTimingStart=function(U){if(this.options.gpuTiming){var ee=this.context.extTimerQuery,J=this.gpuTimers[U.id];J||(J=this.gpuTimers[U.id]={calls:0,cpuTime:0,query:ee.createQueryEXT()}),J.calls++,ee.beginQueryEXT(ee.TIME_ELAPSED_EXT,J.query)}},Gi.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var U=this.context.extTimerQuery;U.endQueryEXT(U.TIME_ELAPSED_EXT)}},Gi.prototype.collectGpuTimers=function(){var U=this.gpuTimers;return this.gpuTimers={},U},Gi.prototype.queryGpuTimers=function(U){var ee={};for(var J in U){var ae=U[J],we=this.context.extTimerQuery,ze=we.getQueryObjectEXT(ae.query,we.QUERY_RESULT_EXT)/1e6;we.deleteQueryEXT(ae.query),ee[J]=ze}return ee},Gi.prototype.translatePosMatrix=function(U,ee,J,ae,we){if(!J[0]&&!J[1])return U;var ze=we?"map"===ae?this.transform.angle:0:"viewport"===ae?-this.transform.angle:0;if(ze){var Ze=Math.sin(ze),Qe=Math.cos(ze);J=[J[0]*Qe-J[1]*Ze,J[0]*Ze+J[1]*Qe]}var ct=[we?J[0]:ur(ee,J[0],this.transform.zoom),we?J[1]:ur(ee,J[1],this.transform.zoom),0],St=new Float32Array(16);return f.translate(St,U,ct),St},Gi.prototype.saveTileTexture=function(U){var ee=this._tileTextures[U.size[0]];ee?ee.push(U):this._tileTextures[U.size[0]]=[U]},Gi.prototype.getTileTexture=function(U){var ee=this._tileTextures[U];return ee&&ee.length>0?ee.pop():null},Gi.prototype.isPatternMissing=function(U){if(!U)return!1;if(!U.from||!U.to)return!0;var ee=this.imageManager.getPattern(U.from.toString()),J=this.imageManager.getPattern(U.to.toString());return!ee||!J},Gi.prototype.useProgram=function(U,ee){this.cache=this.cache||{};var J=""+U+(ee?ee.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[J]||(this.cache[J]=new Cs(this.context,Li[U],ee,Yi[U],this._showOverdrawInspector)),this.cache[J]},Gi.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Gi.prototype.setBaseState=function(){var U=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(U.FUNC_ADD)},Gi.prototype.initDebugOverlayCanvas=function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=f.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new f.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},Gi.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var qs=function(U,ee){this.points=U,this.planes=ee};qs.fromInvProjectionMatrix=function(U,ee,J){var ae=Math.pow(2,J),we=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(Ze){return f.transformMat4([],Ze,U)}).map(function(Ze){return f.scale$1([],Ze,1/Ze[3]/ee*ae)}),ze=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(Ze){var Qe=f.sub([],we[Ze[0]],we[Ze[1]]),ct=f.sub([],we[Ze[2]],we[Ze[1]]),St=f.normalize([],f.cross([],Qe,ct)),Dt=-f.dot(St,we[Ze[1]]);return St.concat(Dt)});return new qs(we,ze)};var Fl=function(U,ee){this.min=U,this.max=ee,this.center=f.scale$2([],f.add([],this.min,this.max),.5)};Fl.prototype.quadrant=function(U){for(var ee=[U%2==0,U<2],J=f.clone$2(this.min),ae=f.clone$2(this.max),we=0;we<ee.length;we++)J[we]=ee[we]?this.min[we]:this.center[we],ae[we]=ee[we]?this.center[we]:this.max[we];return ae[2]=this.max[2],new Fl(J,ae)},Fl.prototype.distanceX=function(U){return Math.max(Math.min(this.max[0],U[0]),this.min[0])-U[0]},Fl.prototype.distanceY=function(U){return Math.max(Math.min(this.max[1],U[1]),this.min[1])-U[1]},Fl.prototype.intersects=function(U){for(var ee=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],J=!0,ae=0;ae<U.planes.length;ae++){for(var we=U.planes[ae],ze=0,Ze=0;Ze<ee.length;Ze++)ze+=f.dot$1(we,ee[Ze])>=0;if(0===ze)return 0;ze!==ee.length&&(J=!1)}if(J)return 2;for(var Qe=0;Qe<3;Qe++){for(var ct=Number.MAX_VALUE,St=-Number.MAX_VALUE,Dt=0;Dt<U.points.length;Dt++){var se=U.points[Dt][Qe]-this.min[Qe];ct=Math.min(ct,se),St=Math.max(St,se)}if(St<0||ct>this.max[Qe]-this.min[Qe])return 0}return 1};var Bi=function(U,ee,J,ae){if(void 0===U&&(U=0),void 0===ee&&(ee=0),void 0===J&&(J=0),void 0===ae&&(ae=0),isNaN(U)||U<0||isNaN(ee)||ee<0||isNaN(J)||J<0||isNaN(ae)||ae<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=U,this.bottom=ee,this.left=J,this.right=ae};Bi.prototype.interpolate=function(U,ee,J){return null!=ee.top&&null!=U.top&&(this.top=f.number(U.top,ee.top,J)),null!=ee.bottom&&null!=U.bottom&&(this.bottom=f.number(U.bottom,ee.bottom,J)),null!=ee.left&&null!=U.left&&(this.left=f.number(U.left,ee.left,J)),null!=ee.right&&null!=U.right&&(this.right=f.number(U.right,ee.right,J)),this},Bi.prototype.getCenter=function(U,ee){var J=f.clamp((this.left+U-this.right)/2,0,U),ae=f.clamp((this.top+ee-this.bottom)/2,0,ee);return new f.Point(J,ae)},Bi.prototype.equals=function(U){return this.top===U.top&&this.bottom===U.bottom&&this.left===U.left&&this.right===U.right},Bi.prototype.clone=function(){return new Bi(this.top,this.bottom,this.left,this.right)},Bi.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var to=function(U,ee,J,ae,we){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===we||we,this._minZoom=U||0,this._maxZoom=ee||22,this._minPitch=J??0,this._maxPitch=ae??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new f.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Bi,this._posMatrixCache={},this._alignedPosMatrixCache={}},Xi={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};to.prototype.clone=function(){var U=new to(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return U.tileSize=this.tileSize,U.latRange=this.latRange,U.width=this.width,U.height=this.height,U._center=this._center,U.zoom=this.zoom,U.angle=this.angle,U._fov=this._fov,U._pitch=this._pitch,U._unmodified=this._unmodified,U._edgeInsets=this._edgeInsets.clone(),U._calcMatrices(),U},Xi.minZoom.get=function(){return this._minZoom},Xi.minZoom.set=function(U){this._minZoom!==U&&(this._minZoom=U,this.zoom=Math.max(this.zoom,U))},Xi.maxZoom.get=function(){return this._maxZoom},Xi.maxZoom.set=function(U){this._maxZoom!==U&&(this._maxZoom=U,this.zoom=Math.min(this.zoom,U))},Xi.minPitch.get=function(){return this._minPitch},Xi.minPitch.set=function(U){this._minPitch!==U&&(this._minPitch=U,this.pitch=Math.max(this.pitch,U))},Xi.maxPitch.get=function(){return this._maxPitch},Xi.maxPitch.set=function(U){this._maxPitch!==U&&(this._maxPitch=U,this.pitch=Math.min(this.pitch,U))},Xi.renderWorldCopies.get=function(){return this._renderWorldCopies},Xi.renderWorldCopies.set=function(U){void 0===U?U=!0:null===U&&(U=!1),this._renderWorldCopies=U},Xi.worldSize.get=function(){return this.tileSize*this.scale},Xi.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Xi.size.get=function(){return new f.Point(this.width,this.height)},Xi.bearing.get=function(){return-this.angle/Math.PI*180},Xi.bearing.set=function(U){var ee=-f.wrap(U,-180,180)*Math.PI/180;this.angle!==ee&&(this._unmodified=!1,this.angle=ee,this._calcMatrices(),this.rotationMatrix=f.create$2(),f.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Xi.pitch.get=function(){return this._pitch/Math.PI*180},Xi.pitch.set=function(U){var ee=f.clamp(U,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==ee&&(this._unmodified=!1,this._pitch=ee,this._calcMatrices())},Xi.fov.get=function(){return this._fov/Math.PI*180},Xi.fov.set=function(U){U=Math.max(.01,Math.min(60,U)),this._fov!==U&&(this._unmodified=!1,this._fov=U/180*Math.PI,this._calcMatrices())},Xi.zoom.get=function(){return this._zoom},Xi.zoom.set=function(U){var ee=Math.min(Math.max(U,this.minZoom),this.maxZoom);this._zoom!==ee&&(this._unmodified=!1,this._zoom=ee,this.scale=this.zoomScale(ee),this.tileZoom=Math.floor(ee),this.zoomFraction=ee-this.tileZoom,this._constrain(),this._calcMatrices())},Xi.center.get=function(){return this._center},Xi.center.set=function(U){U.lat===this._center.lat&&U.lng===this._center.lng||(this._unmodified=!1,this._center=U,this._constrain(),this._calcMatrices())},Xi.padding.get=function(){return this._edgeInsets.toJSON()},Xi.padding.set=function(U){this._edgeInsets.equals(U)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,U,1),this._calcMatrices())},Xi.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},to.prototype.isPaddingEqual=function(U){return this._edgeInsets.equals(U)},to.prototype.interpolatePadding=function(U,ee,J){this._unmodified=!1,this._edgeInsets.interpolate(U,ee,J),this._constrain(),this._calcMatrices()},to.prototype.coveringZoomLevel=function(U){var ee=(U.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/U.tileSize));return Math.max(0,ee)},to.prototype.getVisibleUnwrappedCoordinates=function(U){var ee=[new f.UnwrappedTileID(0,U)];if(this._renderWorldCopies)for(var J=this.pointCoordinate(new f.Point(0,0)),ae=this.pointCoordinate(new f.Point(this.width,0)),we=this.pointCoordinate(new f.Point(this.width,this.height)),ze=this.pointCoordinate(new f.Point(0,this.height)),Ze=Math.floor(Math.min(J.x,ae.x,we.x,ze.x)),Qe=Math.floor(Math.max(J.x,ae.x,we.x,ze.x)),ct=Ze-1;ct<=Qe+1;ct++)0!==ct&&ee.push(new f.UnwrappedTileID(ct,U));return ee},to.prototype.coveringTiles=function(U){var ee=this.coveringZoomLevel(U),J=ee;if(void 0!==U.minzoom&&ee<U.minzoom)return[];void 0!==U.maxzoom&&ee>U.maxzoom&&(ee=U.maxzoom);var ae=f.MercatorCoordinate.fromLngLat(this.center),we=Math.pow(2,ee),ze=[we*ae.x,we*ae.y,0],Ze=qs.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,ee),Qe=U.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(Qe=ee);var ct=function(an){return{aabb:new Fl([an*we,0,0],[(an+1)*we,we,0]),zoom:0,x:0,y:0,wrap:an,fullyVisible:!1}},St=[],Dt=[],se=ee,me=U.reparseOverscaled?J:ee;if(this._renderWorldCopies)for(var Ie=1;Ie<=3;Ie++)St.push(ct(-Ie)),St.push(ct(Ie));for(St.push(ct(0));St.length>0;){var je=St.pop(),qe=je.x,Xe=je.y,rt=je.fullyVisible;if(!rt){var at=je.aabb.intersects(Ze);if(0===at)continue;rt=2===at}var pt=je.aabb.distanceX(ze),yt=je.aabb.distanceY(ze),zt=Math.max(Math.abs(pt),Math.abs(yt));if(je.zoom===se||zt>3+(1<<se-je.zoom)-2&&je.zoom>=Qe)Dt.push({tileID:new f.OverscaledTileID(je.zoom===se?me:je.zoom,je.wrap,je.zoom,qe,Xe),distanceSq:f.sqrLen([ze[0]-.5-qe,ze[1]-.5-Xe])});else for(var Yt=0;Yt<4;Yt++){var cn=(qe<<1)+Yt%2,Mn=(Xe<<1)+(Yt>>1);St.push({aabb:je.aabb.quadrant(Yt),zoom:je.zoom+1,x:cn,y:Mn,wrap:je.wrap,fullyVisible:rt})}}return Dt.sort(function(an,hn){return an.distanceSq-hn.distanceSq}).map(function(an){return an.tileID})},to.prototype.resize=function(U,ee){this.width=U,this.height=ee,this.pixelsToGLUnits=[2/U,-2/ee],this._constrain(),this._calcMatrices()},Xi.unmodified.get=function(){return this._unmodified},to.prototype.zoomScale=function(U){return Math.pow(2,U)},to.prototype.scaleZoom=function(U){return Math.log(U)/Math.LN2},to.prototype.project=function(U){var ee=f.clamp(U.lat,-this.maxValidLatitude,this.maxValidLatitude);return new f.Point(f.mercatorXfromLng(U.lng)*this.worldSize,f.mercatorYfromLat(ee)*this.worldSize)},to.prototype.unproject=function(U){return new f.MercatorCoordinate(U.x/this.worldSize,U.y/this.worldSize).toLngLat()},Xi.point.get=function(){return this.project(this.center)},to.prototype.setLocationAtPoint=function(U,ee){var J=this.pointCoordinate(ee),ae=this.pointCoordinate(this.centerPoint),we=this.locationCoordinate(U),ze=new f.MercatorCoordinate(we.x-(J.x-ae.x),we.y-(J.y-ae.y));this.center=this.coordinateLocation(ze),this._renderWorldCopies&&(this.center=this.center.wrap())},to.prototype.locationPoint=function(U){return this.coordinatePoint(this.locationCoordinate(U))},to.prototype.pointLocation=function(U){return this.coordinateLocation(this.pointCoordinate(U))},to.prototype.locationCoordinate=function(U){return f.MercatorCoordinate.fromLngLat(U)},to.prototype.coordinateLocation=function(U){return U.toLngLat()},to.prototype.pointCoordinate=function(U){var ee=[U.x,U.y,0,1],J=[U.x,U.y,1,1];f.transformMat4(ee,ee,this.pixelMatrixInverse),f.transformMat4(J,J,this.pixelMatrixInverse);var ae=ee[3],we=J[3],Qe=ee[1]/ae,ct=J[1]/we,St=ee[2]/ae,Dt=J[2]/we,se=St===Dt?0:(0-St)/(Dt-St);return new f.MercatorCoordinate(f.number(ee[0]/ae,J[0]/we,se)/this.worldSize,f.number(Qe,ct,se)/this.worldSize)},to.prototype.coordinatePoint=function(U){var ee=[U.x*this.worldSize,U.y*this.worldSize,0,1];return f.transformMat4(ee,ee,this.pixelMatrix),new f.Point(ee[0]/ee[3],ee[1]/ee[3])},to.prototype.getBounds=function(){return(new f.LngLatBounds).extend(this.pointLocation(new f.Point(0,0))).extend(this.pointLocation(new f.Point(this.width,0))).extend(this.pointLocation(new f.Point(this.width,this.height))).extend(this.pointLocation(new f.Point(0,this.height)))},to.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new f.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},to.prototype.setMaxBounds=function(U){U?(this.lngRange=[U.getWest(),U.getEast()],this.latRange=[U.getSouth(),U.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},to.prototype.calculatePosMatrix=function(U,ee){void 0===ee&&(ee=!1);var J=U.key,ae=ee?this._alignedPosMatrixCache:this._posMatrixCache;if(ae[J])return ae[J];var we=U.canonical,ze=this.worldSize/this.zoomScale(we.z),Ze=we.x+Math.pow(2,we.z)*U.wrap,Qe=f.identity(new Float64Array(16));return f.translate(Qe,Qe,[Ze*ze,we.y*ze,0]),f.scale(Qe,Qe,[ze/f.EXTENT,ze/f.EXTENT,1]),f.multiply(Qe,ee?this.alignedProjMatrix:this.projMatrix,Qe),ae[J]=new Float32Array(Qe),ae[J]},to.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},to.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var U,ee,J,ae,we=-90,ze=90,Ze=-180,Qe=180,ct=this.size,St=this._unmodified;if(this.latRange){var Dt=this.latRange;we=f.mercatorYfromLat(Dt[1])*this.worldSize,U=(ze=f.mercatorYfromLat(Dt[0])*this.worldSize)-we<ct.y?ct.y/(ze-we):0}if(this.lngRange){var se=this.lngRange;Ze=f.mercatorXfromLng(se[0])*this.worldSize,ee=(Qe=f.mercatorXfromLng(se[1])*this.worldSize)-Ze<ct.x?ct.x/(Qe-Ze):0}var me=this.point,Ie=Math.max(ee||0,U||0);if(Ie)return this.center=this.unproject(new f.Point(ee?(Qe+Ze)/2:me.x,U?(ze+we)/2:me.y)),this.zoom+=this.scaleZoom(Ie),this._unmodified=St,void(this._constraining=!1);if(this.latRange){var je=me.y,qe=ct.y/2;je-qe<we&&(ae=we+qe),je+qe>ze&&(ae=ze-qe)}if(this.lngRange){var Xe=me.x,rt=ct.x/2;Xe-rt<Ze&&(J=Ze+rt),Xe+rt>Qe&&(J=Qe-rt)}void 0===J&&void 0===ae||(this.center=this.unproject(new f.Point(void 0!==J?J:me.x,void 0!==ae?ae:me.y))),this._unmodified=St,this._constraining=!1}},to.prototype._calcMatrices=function(){if(this.height){var ee=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var J=Math.PI/2+this._pitch,ae=this._fov*(.5+ee.y/this.height),we=Math.sin(ae)*this.cameraToCenterDistance/Math.sin(f.clamp(Math.PI-J-ae,.01,Math.PI-.01)),ze=this.point,Ze=ze.x,Qe=ze.y,ct=1.01*(Math.cos(Math.PI/2-this._pitch)*we+this.cameraToCenterDistance),St=this.height/50,Dt=new Float64Array(16);f.perspective(Dt,this._fov,this.width/this.height,St,ct),Dt[8]=2*-ee.x/this.width,Dt[9]=2*ee.y/this.height,f.scale(Dt,Dt,[1,-1,1]),f.translate(Dt,Dt,[0,0,-this.cameraToCenterDistance]),f.rotateX(Dt,Dt,this._pitch),f.rotateZ(Dt,Dt,this.angle),f.translate(Dt,Dt,[-Ze,-Qe,0]),this.mercatorMatrix=f.scale([],Dt,[this.worldSize,this.worldSize,this.worldSize]),f.scale(Dt,Dt,[1,1,f.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=Dt,this.invProjMatrix=f.invert([],this.projMatrix);var se=this.width%2/2,me=this.height%2/2,Ie=Math.cos(this.angle),je=Math.sin(this.angle),qe=Ze-Math.round(Ze)+Ie*se+je*me,Xe=Qe-Math.round(Qe)+Ie*me+je*se,rt=new Float64Array(Dt);if(f.translate(rt,rt,[qe>.5?qe-1:qe,Xe>.5?Xe-1:Xe,0]),this.alignedProjMatrix=rt,Dt=f.create(),f.scale(Dt,Dt,[this.width/2,-this.height/2,1]),f.translate(Dt,Dt,[1,-1,0]),this.labelPlaneMatrix=Dt,Dt=f.create(),f.scale(Dt,Dt,[1,-1,1]),f.translate(Dt,Dt,[-1,-1,0]),f.scale(Dt,Dt,[2/this.width,2/this.height,1]),this.glCoordMatrix=Dt,this.pixelMatrix=f.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(Dt=f.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=Dt,this._posMatrixCache={},this._alignedPosMatrixCache={}}},to.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var U=this.pointCoordinate(new f.Point(0,0)),ee=[U.x*this.worldSize,U.y*this.worldSize,0,1];return f.transformMat4(ee,ee,this.pixelMatrix)[3]/this.cameraToCenterDistance},to.prototype.getCameraPoint=function(){var ee=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new f.Point(0,ee))},to.prototype.getCameraQueryGeometry=function(U){var ee=this.getCameraPoint();if(1===U.length)return[U[0],ee];for(var J=ee.x,ae=ee.y,we=ee.x,ze=ee.y,Ze=0,Qe=U;Ze<Qe.length;Ze+=1){var ct=Qe[Ze];J=Math.min(J,ct.x),ae=Math.min(ae,ct.y),we=Math.max(we,ct.x),ze=Math.max(ze,ct.y)}return[new f.Point(J,ae),new f.Point(we,ae),new f.Point(we,ze),new f.Point(J,ze),new f.Point(J,ae)]},Object.defineProperties(to.prototype,Xi);var kl=function(U){var ee,ae,we,ze;this._hashName=U&&encodeURIComponent(U),f.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(ee=this._updateHashUnthrottled.bind(this),300,ae=!1,we=null,ze=function(){we=null,ae&&(ee(),we=setTimeout(ze,300),ae=!1)},function(){return ae=!0,we||ze(),we})};kl.prototype.addTo=function(U){return this._map=U,f.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},kl.prototype.remove=function(){return f.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},kl.prototype.getHashString=function(U){var ee=this._map.getCenter(),J=Math.round(100*this._map.getZoom())/100,ae=Math.ceil((J*Math.LN2+Math.log(512/360/.5))/Math.LN10),we=Math.pow(10,ae),ze=Math.round(ee.lng*we)/we,Ze=Math.round(ee.lat*we)/we,Qe=this._map.getBearing(),ct=this._map.getPitch(),St="";if(St+=U?"/"+ze+"/"+Ze+"/"+J:J+"/"+Ze+"/"+ze,(Qe||ct)&&(St+="/"+Math.round(10*Qe)/10),ct&&(St+="/"+Math.round(ct)),this._hashName){var Dt=this._hashName,se=!1,me=f.window.location.hash.slice(1).split("&").map(function(Ie){var je=Ie.split("=")[0];return je===Dt?(se=!0,je+"="+St):Ie}).filter(function(Ie){return Ie});return se||me.push(Dt+"="+St),"#"+me.join("&")}return"#"+St},kl.prototype._getCurrentHash=function(){var U,ee=this,J=f.window.location.hash.replace("#","");return this._hashName?(J.split("&").map(function(ae){return ae.split("=")}).forEach(function(ae){ae[0]===ee._hashName&&(U=ae)}),(U&&U[1]||"").split("/")):J.split("/")},kl.prototype._onHashChange=function(){var U=this._getCurrentHash();if(U.length>=3&&!U.some(function(J){return isNaN(J)})){var ee=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(U[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+U[2],+U[1]],zoom:+U[0],bearing:ee,pitch:+(U[4]||0)}),!0}return!1},kl.prototype._updateHashUnthrottled=function(){var U=this.getHashString();try{f.window.history.replaceState(f.window.history.state,"",U)}catch{}};var Es={linearity:.3,easing:f.bezier(0,0,.3,1)},fu=f.extend({deceleration:2500,maxSpeed:1400},Es),nu=f.extend({deceleration:20,maxSpeed:1400},Es),oa=f.extend({deceleration:1e3,maxSpeed:360},Es),tf=f.extend({deceleration:1e3,maxSpeed:90},Es),ya=function(U){this._map=U,this.clear()};function _a(U,ee){(!U.duration||U.duration<ee.duration)&&(U.duration=ee.duration,U.easing=ee.easing)}function zl(U,ee,J){var ae=J.maxSpeed,we=J.linearity,ze=J.deceleration,Ze=f.clamp(U*we/(ee/1e3),-ae,ae),Qe=Math.abs(Ze)/(ze*we);return{easing:J.easing,duration:1e3*Qe,amount:Ze*(Qe/2)}}ya.prototype.clear=function(){this._inertiaBuffer=[]},ya.prototype.record=function(U){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:f.browser.now(),settings:U})},ya.prototype._drainInertiaBuffer=function(){for(var U=this._inertiaBuffer,ee=f.browser.now();U.length>0&&ee-U[0].time>160;)U.shift()},ya.prototype._onMoveEnd=function(U){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var ee={zoom:0,bearing:0,pitch:0,pan:new f.Point(0,0),pinchAround:void 0,around:void 0},J=0,ae=this._inertiaBuffer;J<ae.length;J+=1){var we=ae[J].settings;ee.zoom+=we.zoomDelta||0,ee.bearing+=we.bearingDelta||0,ee.pitch+=we.pitchDelta||0,we.panDelta&&ee.pan._add(we.panDelta),we.around&&(ee.around=we.around),we.pinchAround&&(ee.pinchAround=we.pinchAround)}var ze=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,Ze={};if(ee.pan.mag()){var Qe=zl(ee.pan.mag(),ze,f.extend({},fu,U||{}));Ze.offset=ee.pan.mult(Qe.amount/ee.pan.mag()),Ze.center=this._map.transform.center,_a(Ze,Qe)}if(ee.zoom){var ct=zl(ee.zoom,ze,nu);Ze.zoom=this._map.transform.zoom+ct.amount,_a(Ze,ct)}if(ee.bearing){var St=zl(ee.bearing,ze,oa);Ze.bearing=this._map.transform.bearing+f.clamp(St.amount,-179,179),_a(Ze,St)}if(ee.pitch){var Dt=zl(ee.pitch,ze,tf);Ze.pitch=this._map.transform.pitch+Dt.amount,_a(Ze,Dt)}if(Ze.zoom||Ze.bearing){var se=void 0===ee.pinchAround?ee.around:ee.pinchAround;Ze.around=se?this._map.unproject(se):this._map.getCenter()}return this.clear(),f.extend(Ze,{noMoveStart:!0})}};var go=function(U){function ee(ae,we,ze,Ze){void 0===Ze&&(Ze={});var Qe=M.mousePos(we.getCanvasContainer(),ze),ct=we.unproject(Qe);U.call(this,ae,f.extend({point:Qe,lngLat:ct,originalEvent:ze},Ze)),this._defaultPrevented=!1,this.target=we}U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee;var J={defaultPrevented:{configurable:!0}};return ee.prototype.preventDefault=function(){this._defaultPrevented=!0},J.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(ee.prototype,J),ee}(f.Event),Ds=function(U){function ee(ae,we,ze){var Ze="touchend"===ae?ze.changedTouches:ze.touches,Qe=M.touchPos(we.getCanvasContainer(),Ze),ct=Qe.map(function(se){return we.unproject(se)}),St=Qe.reduce(function(se,me,Ie,je){return se.add(me.div(je.length))},new f.Point(0,0)),Dt=we.unproject(St);U.call(this,ae,{points:Qe,point:St,lngLats:ct,lngLat:Dt,originalEvent:ze}),this._defaultPrevented=!1}U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee;var J={defaultPrevented:{configurable:!0}};return ee.prototype.preventDefault=function(){this._defaultPrevented=!0},J.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(ee.prototype,J),ee}(f.Event),Fa=function(U){function ee(ae,we,ze){U.call(this,ae,{originalEvent:ze}),this._defaultPrevented=!1}U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee;var J={defaultPrevented:{configurable:!0}};return ee.prototype.preventDefault=function(){this._defaultPrevented=!0},J.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(ee.prototype,J),ee}(f.Event),aa=function(U,ee){this._map=U,this._clickTolerance=ee.clickTolerance};aa.prototype.reset=function(){delete this._mousedownPos},aa.prototype.wheel=function(U){return this._firePreventable(new Fa(U.type,this._map,U))},aa.prototype.mousedown=function(U,ee){return this._mousedownPos=ee,this._firePreventable(new go(U.type,this._map,U))},aa.prototype.mouseup=function(U){this._map.fire(new go(U.type,this._map,U))},aa.prototype.click=function(U,ee){this._mousedownPos&&this._mousedownPos.dist(ee)>=this._clickTolerance||this._map.fire(new go(U.type,this._map,U))},aa.prototype.dblclick=function(U){return this._firePreventable(new go(U.type,this._map,U))},aa.prototype.mouseover=function(U){this._map.fire(new go(U.type,this._map,U))},aa.prototype.mouseout=function(U){this._map.fire(new go(U.type,this._map,U))},aa.prototype.touchstart=function(U){return this._firePreventable(new Ds(U.type,this._map,U))},aa.prototype.touchmove=function(U){this._map.fire(new Ds(U.type,this._map,U))},aa.prototype.touchend=function(U){this._map.fire(new Ds(U.type,this._map,U))},aa.prototype.touchcancel=function(U){this._map.fire(new Ds(U.type,this._map,U))},aa.prototype._firePreventable=function(U){if(this._map.fire(U),U.defaultPrevented)return{}},aa.prototype.isEnabled=function(){return!0},aa.prototype.isActive=function(){return!1},aa.prototype.enable=function(){},aa.prototype.disable=function(){};var Ga=function(U){this._map=U};Ga.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Ga.prototype.mousemove=function(U){this._map.fire(new go(U.type,this._map,U))},Ga.prototype.mousedown=function(){this._delayContextMenu=!0},Ga.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new go("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Ga.prototype.contextmenu=function(U){this._delayContextMenu?this._contextMenuEvent=U:this._map.fire(new go(U.type,this._map,U)),this._map.listens("contextmenu")&&U.preventDefault()},Ga.prototype.isEnabled=function(){return!0},Ga.prototype.isActive=function(){return!1},Ga.prototype.enable=function(){},Ga.prototype.disable=function(){};var za=function(U,ee){this._map=U,this._el=U.getCanvasContainer(),this._container=U.getContainer(),this._clickTolerance=ee.clickTolerance||1};function Ea(U,ee){for(var J={},ae=0;ae<U.length;ae++)J[U[ae].identifier]=ee[ae];return J}za.prototype.isEnabled=function(){return!!this._enabled},za.prototype.isActive=function(){return!!this._active},za.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},za.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},za.prototype.mousedown=function(U,ee){this.isEnabled()&&U.shiftKey&&0===U.button&&(M.disableDrag(),this._startPos=this._lastPos=ee,this._active=!0)},za.prototype.mousemoveWindow=function(U,ee){if(this._active){var J=ee;if(!(this._lastPos.equals(J)||!this._box&&J.dist(this._startPos)<this._clickTolerance)){var ae=this._startPos;this._lastPos=J,this._box||(this._box=M.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",U));var we=Math.min(ae.x,J.x),ze=Math.max(ae.x,J.x),Ze=Math.min(ae.y,J.y),Qe=Math.max(ae.y,J.y);M.setTransform(this._box,"translate("+we+"px,"+Ze+"px)"),this._box.style.width=ze-we+"px",this._box.style.height=Qe-Ze+"px"}}},za.prototype.mouseupWindow=function(U,ee){var J=this;if(this._active&&0===U.button){var ae=this._startPos,we=ee;if(this.reset(),M.suppressClick(),ae.x!==we.x||ae.y!==we.y)return this._map.fire(new f.Event("boxzoomend",{originalEvent:U})),{cameraAnimation:function(ze){return ze.fitScreenCoordinates(ae,we,J._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",U)}},za.prototype.keydown=function(U){this._active&&27===U.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",U))},za.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(M.remove(this._box),this._box=null),M.enableDrag(),delete this._startPos,delete this._lastPos},za.prototype._fireEvent=function(U,ee){return this._map.fire(new f.Event(U,{originalEvent:ee}))};var ps=function(U){this.reset(),this.numTouches=U.numTouches};ps.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},ps.prototype.touchstart=function(U,ee,J){(this.centroid||J.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=U.timeStamp),J.length===this.numTouches&&(this.centroid=function(ae){for(var we=new f.Point(0,0),ze=0,Ze=ae;ze<Ze.length;ze+=1)we._add(Ze[ze]);return we.div(ae.length)}(ee),this.touches=Ea(J,ee)))},ps.prototype.touchmove=function(U,ee,J){if(!this.aborted&&this.centroid){var ae=Ea(J,ee);for(var we in this.touches){var Ze=ae[we];(!Ze||Ze.dist(this.touches[we])>30)&&(this.aborted=!0)}}},ps.prototype.touchend=function(U,ee,J){if((!this.centroid||U.timeStamp-this.startTime>500)&&(this.aborted=!0),0===J.length){var ae=!this.aborted&&this.centroid;if(this.reset(),ae)return ae}};var hu=function(U){this.singleTap=new ps(U),this.numTaps=U.numTaps,this.reset()};hu.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},hu.prototype.touchstart=function(U,ee,J){this.singleTap.touchstart(U,ee,J)},hu.prototype.touchmove=function(U,ee,J){this.singleTap.touchmove(U,ee,J)},hu.prototype.touchend=function(U,ee,J){var ae=this.singleTap.touchend(U,ee,J);if(ae){var we=U.timeStamp-this.lastTime<500,ze=!this.lastTap||this.lastTap.dist(ae)<30;if(we&&ze||this.reset(),this.count++,this.lastTime=U.timeStamp,this.lastTap=ae,this.count===this.numTaps)return this.reset(),ae}};var ll=function(){this._zoomIn=new hu({numTouches:1,numTaps:2}),this._zoomOut=new hu({numTouches:2,numTaps:1}),this.reset()};ll.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},ll.prototype.touchstart=function(U,ee,J){this._zoomIn.touchstart(U,ee,J),this._zoomOut.touchstart(U,ee,J)},ll.prototype.touchmove=function(U,ee,J){this._zoomIn.touchmove(U,ee,J),this._zoomOut.touchmove(U,ee,J)},ll.prototype.touchend=function(U,ee,J){var ae=this,we=this._zoomIn.touchend(U,ee,J),ze=this._zoomOut.touchend(U,ee,J);return we?(this._active=!0,U.preventDefault(),setTimeout(function(){return ae.reset()},0),{cameraAnimation:function(Ze){return Ze.easeTo({duration:300,zoom:Ze.getZoom()+1,around:Ze.unproject(we)},{originalEvent:U})}}):ze?(this._active=!0,U.preventDefault(),setTimeout(function(){return ae.reset()},0),{cameraAnimation:function(Ze){return Ze.easeTo({duration:300,zoom:Ze.getZoom()-1,around:Ze.unproject(ze)},{originalEvent:U})}}):void 0},ll.prototype.touchcancel=function(){this.reset()},ll.prototype.enable=function(){this._enabled=!0},ll.prototype.disable=function(){this._enabled=!1,this.reset()},ll.prototype.isEnabled=function(){return this._enabled},ll.prototype.isActive=function(){return this._active};var xa=function(U){this.reset(),this._clickTolerance=U.clickTolerance||1};xa.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},xa.prototype._correctButton=function(U,ee){return!1},xa.prototype._move=function(U,ee){return{}},xa.prototype.mousedown=function(U,ee){if(!this._lastPoint){var J=M.mouseButton(U);this._correctButton(U,J)&&(this._lastPoint=ee,this._eventButton=J)}},xa.prototype.mousemoveWindow=function(U,ee){var J=this._lastPoint;if(J&&(U.preventDefault(),this._moved||!(ee.dist(J)<this._clickTolerance)))return this._moved=!0,this._lastPoint=ee,this._move(J,ee)},xa.prototype.mouseupWindow=function(U){M.mouseButton(U)===this._eventButton&&(this._moved&&M.suppressClick(),this.reset())},xa.prototype.enable=function(){this._enabled=!0},xa.prototype.disable=function(){this._enabled=!1,this.reset()},xa.prototype.isEnabled=function(){return this._enabled},xa.prototype.isActive=function(){return this._active};var Os=function(U){function ee(){U.apply(this,arguments)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.mousedown=function(J,ae){U.prototype.mousedown.call(this,J,ae),this._lastPoint&&(this._active=!0)},ee.prototype._correctButton=function(J,ae){return 0===ae&&!J.ctrlKey},ee.prototype._move=function(J,ae){return{around:ae,panDelta:ae.sub(J)}},ee}(xa),Ec=function(U){function ee(){U.apply(this,arguments)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype._correctButton=function(J,ae){return 0===ae&&J.ctrlKey||2===ae},ee.prototype._move=function(J,ae){var we=.8*(ae.x-J.x);if(we)return this._active=!0,{bearingDelta:we}},ee.prototype.contextmenu=function(J){J.preventDefault()},ee}(xa),Dc=function(U){function ee(){U.apply(this,arguments)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype._correctButton=function(J,ae){return 0===ae&&J.ctrlKey||2===ae},ee.prototype._move=function(J,ae){var we=-.5*(ae.y-J.y);if(we)return this._active=!0,{pitchDelta:we}},ee.prototype.contextmenu=function(J){J.preventDefault()},ee}(xa),Ka=function(U){this._minTouches=1,this._clickTolerance=U.clickTolerance||1,this.reset()};Ka.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new f.Point(0,0)},Ka.prototype.touchstart=function(U,ee,J){return this._calculateTransform(U,ee,J)},Ka.prototype.touchmove=function(U,ee,J){if(this._active)return U.preventDefault(),this._calculateTransform(U,ee,J)},Ka.prototype.touchend=function(U,ee,J){this._calculateTransform(U,ee,J),this._active&&J.length<this._minTouches&&this.reset()},Ka.prototype.touchcancel=function(){this.reset()},Ka.prototype._calculateTransform=function(U,ee,J){J.length>0&&(this._active=!0);var ae=Ea(J,ee),we=new f.Point(0,0),ze=new f.Point(0,0),Ze=0;for(var Qe in ae){var ct=ae[Qe],St=this._touches[Qe];St&&(we._add(ct),ze._add(ct.sub(St)),Ze++,ae[Qe]=ct)}if(this._touches=ae,!(Ze<this._minTouches)&&ze.mag()){var Dt=ze.div(Ze);if(this._sum._add(Dt),!(this._sum.mag()<this._clickTolerance))return{around:we.div(Ze),panDelta:Dt}}},Ka.prototype.enable=function(){this._enabled=!0},Ka.prototype.disable=function(){this._enabled=!1,this.reset()},Ka.prototype.isEnabled=function(){return this._enabled},Ka.prototype.isActive=function(){return this._active};var Yr=function(){this.reset()};function Eu(U,ee,J){for(var ae=0;ae<U.length;ae++)if(U[ae].identifier===J)return ee[ae]}function gs(U,ee){return Math.log(U/ee)/Math.LN2}Yr.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Yr.prototype._start=function(U){},Yr.prototype._move=function(U,ee,J){return{}},Yr.prototype.touchstart=function(U,ee,J){this._firstTwoTouches||J.length<2||(this._firstTwoTouches=[J[0].identifier,J[1].identifier],this._start([ee[0],ee[1]]))},Yr.prototype.touchmove=function(U,ee,J){if(this._firstTwoTouches){U.preventDefault();var ae=this._firstTwoTouches,ze=ae[1],Ze=Eu(J,ee,ae[0]),Qe=Eu(J,ee,ze);if(Ze&&Qe){var ct=this._aroundCenter?null:Ze.add(Qe).div(2);return this._move([Ze,Qe],ct,U)}}},Yr.prototype.touchend=function(U,ee,J){if(this._firstTwoTouches){var ae=this._firstTwoTouches,ze=ae[1],Ze=Eu(J,ee,ae[0]),Qe=Eu(J,ee,ze);Ze&&Qe||(this._active&&M.suppressClick(),this.reset())}},Yr.prototype.touchcancel=function(){this.reset()},Yr.prototype.enable=function(U){this._enabled=!0,this._aroundCenter=!!U&&"center"===U.around},Yr.prototype.disable=function(){this._enabled=!1,this.reset()},Yr.prototype.isEnabled=function(){return this._enabled},Yr.prototype.isActive=function(){return this._active};var Oc=function(U){function ee(){U.apply(this,arguments)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.reset=function(){U.prototype.reset.call(this),delete this._distance,delete this._startDistance},ee.prototype._start=function(J){this._startDistance=this._distance=J[0].dist(J[1])},ee.prototype._move=function(J,ae){var we=this._distance;if(this._distance=J[0].dist(J[1]),this._active||!(Math.abs(gs(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:gs(this._distance,we),pinchAround:ae}},ee}(Yr);function du(U,ee){return 180*U.angleWith(ee)/Math.PI}var pu=function(U){function ee(){U.apply(this,arguments)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.reset=function(){U.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},ee.prototype._start=function(J){this._startVector=this._vector=J[0].sub(J[1]),this._minDiameter=J[0].dist(J[1])},ee.prototype._move=function(J,ae){var we=this._vector;if(this._vector=J[0].sub(J[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:du(this._vector,we),pinchAround:ae}},ee.prototype._isBelowThreshold=function(J){this._minDiameter=Math.min(this._minDiameter,J.mag());var ae=25/(Math.PI*this._minDiameter)*360,we=du(J,this._startVector);return Math.abs(we)<ae},ee}(Yr);function Vu(U){return Math.abs(U.y)>Math.abs(U.x)}var Jr=function(U){function ee(){U.apply(this,arguments)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.reset=function(){U.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},ee.prototype._start=function(J){this._lastPoints=J,Vu(J[0].sub(J[1]))&&(this._valid=!1)},ee.prototype._move=function(J,ae,we){var ze=J[0].sub(this._lastPoints[0]),Ze=J[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(ze,Ze,we.timeStamp),this._valid)return this._lastPoints=J,this._active=!0,{pitchDelta:(ze.y+Ze.y)/2*-.5}},ee.prototype.gestureBeginsVertically=function(J,ae,we){if(void 0!==this._valid)return this._valid;var ze=J.mag()>=2,Ze=ae.mag()>=2;if(ze||Ze){if(!ze||!Ze)return void 0===this._firstMove&&(this._firstMove=we),we-this._firstMove<100&&void 0;var Qe=J.y>0==ae.y>0;return Vu(J)&&Vu(ae)&&Qe}},ee}(Yr),Hu={panStep:100,bearingStep:15,pitchStep:10},Da=function(){var U=Hu;this._panStep=U.panStep,this._bearingStep=U.bearingStep,this._pitchStep=U.pitchStep};function lc(U){return U*(2-U)}Da.prototype.reset=function(){this._active=!1},Da.prototype.keydown=function(U){var ee=this;if(!(U.altKey||U.ctrlKey||U.metaKey)){var J=0,ae=0,we=0,ze=0,Ze=0;switch(U.keyCode){case 61:case 107:case 171:case 187:J=1;break;case 189:case 109:case 173:J=-1;break;case 37:U.shiftKey?ae=-1:(U.preventDefault(),ze=-1);break;case 39:U.shiftKey?ae=1:(U.preventDefault(),ze=1);break;case 38:U.shiftKey?we=1:(U.preventDefault(),Ze=-1);break;case 40:U.shiftKey?we=-1:(U.preventDefault(),Ze=1);break;default:return}return{cameraAnimation:function(Qe){var ct=Qe.getZoom();Qe.easeTo({duration:300,easeId:"keyboardHandler",easing:lc,zoom:J?Math.round(ct)+J*(U.shiftKey?2:1):ct,bearing:Qe.getBearing()+ae*ee._bearingStep,pitch:Qe.getPitch()+we*ee._pitchStep,offset:[-ze*ee._panStep,-Ze*ee._panStep],center:Qe.getCenter()},{originalEvent:U})}}}},Da.prototype.enable=function(){this._enabled=!0},Da.prototype.disable=function(){this._enabled=!1,this.reset()},Da.prototype.isEnabled=function(){return this._enabled},Da.prototype.isActive=function(){return this._active};var Eo=4.000244140625,Oa=function(U,ee){this._map=U,this._el=U.getCanvasContainer(),this._handler=ee,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,f.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};Oa.prototype.setZoomRate=function(U){this._defaultZoomRate=U},Oa.prototype.setWheelZoomRate=function(U){this._wheelZoomRate=U},Oa.prototype.isEnabled=function(){return!!this._enabled},Oa.prototype.isActive=function(){return!!this._active||void 0!==this._finishTimeout},Oa.prototype.isZooming=function(){return!!this._zooming},Oa.prototype.enable=function(U){this.isEnabled()||(this._enabled=!0,this._aroundCenter=U&&"center"===U.around)},Oa.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Oa.prototype.wheel=function(U){if(this.isEnabled()){var ee=U.deltaMode===f.window.WheelEvent.DOM_DELTA_LINE?40*U.deltaY:U.deltaY,J=f.browser.now(),ae=J-(this._lastWheelEventTime||0);this._lastWheelEventTime=J,0!==ee&&ee%Eo==0?this._type="wheel":0!==ee&&Math.abs(ee)<4?this._type="trackpad":ae>400?(this._type=null,this._lastValue=ee,this._timeout=setTimeout(this._onTimeout,40,U)):this._type||(this._type=Math.abs(ae*ee)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,ee+=this._lastValue)),U.shiftKey&&ee&&(ee/=4),this._type&&(this._lastWheelEvent=U,this._delta-=ee,this._active||this._start(U)),U.preventDefault()}},Oa.prototype._onTimeout=function(U){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(U)},Oa.prototype._start=function(U){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var ee=M.mousePos(this._el,U);this._around=f.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(ee)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},Oa.prototype.renderFrame=function(){return this._onScrollFrame()},Oa.prototype._onScrollFrame=function(){var U=this;if(this._frameId&&(this._frameId=null,this.isActive())){var ee=this._map.transform;if(0!==this._delta){var J="wheel"===this._type&&Math.abs(this._delta)>Eo?this._wheelZoomRate:this._defaultZoomRate,ae=2/(1+Math.exp(-Math.abs(this._delta*J)));this._delta<0&&0!==ae&&(ae=1/ae);var we="number"==typeof this._targetZoom?ee.zoomScale(this._targetZoom):ee.scale;this._targetZoom=Math.min(ee.maxZoom,Math.max(ee.minZoom,ee.scaleZoom(we*ae))),"wheel"===this._type&&(this._startZoom=ee.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var ze,Ze="number"==typeof this._targetZoom?this._targetZoom:ee.zoom,Qe=this._startZoom,ct=this._easing,St=!1;if("wheel"===this._type&&Qe&&ct){var Dt=Math.min((f.browser.now()-this._lastWheelEventTime)/200,1),se=ct(Dt);ze=f.number(Qe,Ze,se),Dt<1?this._frameId||(this._frameId=!0):St=!0}else ze=Ze,St=!0;return this._active=!0,St&&(this._active=!1,this._finishTimeout=setTimeout(function(){U._zooming=!1,U._handler._triggerRenderFrame(),delete U._targetZoom,delete U._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!St,zoomDelta:ze-ee.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},Oa.prototype._smoothOutEasing=function(U){var ee=f.ease;if(this._prevEase){var J=this._prevEase,ae=(f.browser.now()-J.start)/J.duration,we=J.easing(ae+.01)-J.easing(ae),ze=.27/Math.sqrt(we*we+1e-4)*.01,Ze=Math.sqrt(.0729-ze*ze);ee=f.bezier(ze,Ze,.25,1)}return this._prevEase={start:f.browser.now(),duration:U,easing:ee},ee},Oa.prototype.reset=function(){this._active=!1};var gu=function(U,ee){this._clickZoom=U,this._tapZoom=ee};gu.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},gu.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},gu.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},gu.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Bl=function(){this.reset()};Bl.prototype.reset=function(){this._active=!1},Bl.prototype.dblclick=function(U,ee){return U.preventDefault(),{cameraAnimation:function(J){J.easeTo({duration:300,zoom:J.getZoom()+(U.shiftKey?-1:1),around:J.unproject(ee)},{originalEvent:U})}}},Bl.prototype.enable=function(){this._enabled=!0},Bl.prototype.disable=function(){this._enabled=!1,this.reset()},Bl.prototype.isEnabled=function(){return this._enabled},Bl.prototype.isActive=function(){return this._active};var Qa=function(){this._tap=new hu({numTouches:1,numTaps:1}),this.reset()};Qa.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},Qa.prototype.touchstart=function(U,ee,J){this._swipePoint||(this._tapTime&&U.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?J.length>0&&(this._swipePoint=ee[0],this._swipeTouch=J[0].identifier):this._tap.touchstart(U,ee,J))},Qa.prototype.touchmove=function(U,ee,J){if(this._tapTime){if(this._swipePoint){if(J[0].identifier!==this._swipeTouch)return;var ae=ee[0],we=ae.y-this._swipePoint.y;return this._swipePoint=ae,U.preventDefault(),this._active=!0,{zoomDelta:we/128}}}else this._tap.touchmove(U,ee,J)},Qa.prototype.touchend=function(U,ee,J){this._tapTime?this._swipePoint&&0===J.length&&this.reset():this._tap.touchend(U,ee,J)&&(this._tapTime=U.timeStamp)},Qa.prototype.touchcancel=function(){this.reset()},Qa.prototype.enable=function(){this._enabled=!0},Qa.prototype.disable=function(){this._enabled=!1,this.reset()},Qa.prototype.isEnabled=function(){return this._enabled},Qa.prototype.isActive=function(){return this._active};var jl=function(U,ee,J){this._el=U,this._mousePan=ee,this._touchPan=J};jl.prototype.enable=function(U){this._inertiaOptions=U||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},jl.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},jl.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},jl.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var ul=function(U,ee,J){this._pitchWithRotate=U.pitchWithRotate,this._mouseRotate=ee,this._mousePitch=J};ul.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},ul.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},ul.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},ul.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var ms=function(U,ee,J,ae){this._el=U,this._touchZoom=ee,this._touchRotate=J,this._tapDragZoom=ae,this._rotationDisabled=!1,this._enabled=!0};ms.prototype.enable=function(U){this._touchZoom.enable(U),this._rotationDisabled||this._touchRotate.enable(U),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},ms.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},ms.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},ms.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},ms.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},ms.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var mu=function(U){return U.zoom||U.drag||U.pitch||U.rotate},ko=function(U){function ee(){U.apply(this,arguments)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee}(f.Event);function Is(U){return U.panDelta&&U.panDelta.mag()||U.zoomDelta||U.bearingDelta||U.pitchDelta}var co=function(U,ee){this._map=U,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new ya(U),this._bearingSnap=ee.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(ee),f.bindAll(["handleEvent","handleWindowEvent"],this);var J=this._el;this._listeners=[[J,"touchstart",{passive:!1}],[J,"touchmove",{passive:!1}],[J,"touchend",void 0],[J,"touchcancel",void 0],[J,"mousedown",void 0],[J,"mousemove",void 0],[J,"mouseup",void 0],[f.window.document,"mousemove",{capture:!0}],[f.window.document,"mouseup",void 0],[J,"mouseover",void 0],[J,"mouseout",void 0],[J,"dblclick",void 0],[J,"click",void 0],[J,"keydown",{capture:!1}],[J,"keyup",void 0],[J,"wheel",{passive:!1}],[J,"contextmenu",void 0],[f.window,"blur",void 0]];for(var ae=0,we=this._listeners;ae<we.length;ae+=1){var ze=we[ae],Ze=ze[0];M.addEventListener(Ze,ze[1],Ze===f.window.document?this.handleWindowEvent:this.handleEvent,ze[2])}};co.prototype.destroy=function(){for(var U=0,ee=this._listeners;U<ee.length;U+=1){var J=ee[U],ae=J[0];M.removeEventListener(ae,J[1],ae===f.window.document?this.handleWindowEvent:this.handleEvent,J[2])}},co.prototype._addDefaultHandlers=function(U){var ee=this._map,J=ee.getCanvasContainer();this._add("mapEvent",new aa(ee,U));var ae=ee.boxZoom=new za(ee,U);this._add("boxZoom",ae);var we=new ll,ze=new Bl;ee.doubleClickZoom=new gu(ze,we),this._add("tapZoom",we),this._add("clickZoom",ze);var Ze=new Qa;this._add("tapDragZoom",Ze);var Qe=ee.touchPitch=new Jr;this._add("touchPitch",Qe);var ct=new Ec(U),St=new Dc(U);ee.dragRotate=new ul(U,ct,St),this._add("mouseRotate",ct,["mousePitch"]),this._add("mousePitch",St,["mouseRotate"]);var Dt=new Os(U),se=new Ka(U);ee.dragPan=new jl(J,Dt,se),this._add("mousePan",Dt),this._add("touchPan",se,["touchZoom","touchRotate"]);var me=new pu,Ie=new Oc;ee.touchZoomRotate=new ms(J,Ie,me,Ze),this._add("touchRotate",me,["touchPan","touchZoom"]),this._add("touchZoom",Ie,["touchPan","touchRotate"]);var je=ee.scrollZoom=new Oa(ee,this);this._add("scrollZoom",je,["mousePan"]);var qe=ee.keyboard=new Da;this._add("keyboard",qe),this._add("blockableMapEvent",new Ga(ee));for(var Xe=0,rt=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];Xe<rt.length;Xe+=1){var at=rt[Xe];U.interactive&&U[at]&&ee[at].enable(U[at])}},co.prototype._add=function(U,ee,J){this._handlers.push({handlerName:U,handler:ee,allowed:J}),this._handlersById[U]=ee},co.prototype.stop=function(){if(!this._updatingCamera){for(var U=0,ee=this._handlers;U<ee.length;U+=1)ee[U].handler.reset();this._inertia.clear(),this._fireEvents({},{}),this._changes=[]}},co.prototype.isActive=function(){for(var U=0,ee=this._handlers;U<ee.length;U+=1)if(ee[U].handler.isActive())return!0;return!1},co.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},co.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},co.prototype.isMoving=function(){return Boolean(mu(this._eventsInProgress))||this.isZooming()},co.prototype._blockedByActive=function(U,ee,J){for(var ae in U)if(ae!==J&&(!ee||ee.indexOf(ae)<0))return!0;return!1},co.prototype.handleWindowEvent=function(U){this.handleEvent(U,U.type+"Window")},co.prototype._getMapTouches=function(U){for(var ee=[],J=0,ae=U;J<ae.length;J+=1){var we=ae[J];this._el.contains(we.target)&&ee.push(we)}return ee},co.prototype.handleEvent=function(U,ee){if("blur"!==U.type){this._updatingCamera=!0;for(var J="renderFrame"===U.type?void 0:U,ae={needsRenderFrame:!1},we={},ze={},Ze=U.touches?this._getMapTouches(U.touches):void 0,Qe=Ze?M.touchPos(this._el,Ze):M.mousePos(this._el,U),ct=0,St=this._handlers;ct<St.length;ct+=1){var Dt=St[ct],se=Dt.handlerName,me=Dt.handler,Ie=Dt.allowed;if(me.isEnabled()){var je=void 0;this._blockedByActive(ze,Ie,se)?me.reset():me[ee||U.type]&&(je=me[ee||U.type](U,Qe,Ze),this.mergeHandlerResult(ae,we,je,se,J),je&&je.needsRenderFrame&&this._triggerRenderFrame()),(je||me.isActive())&&(ze[se]=me)}}var qe={};for(var Xe in this._previousActiveHandlers)ze[Xe]||(qe[Xe]=J);this._previousActiveHandlers=ze,(Object.keys(qe).length||Is(ae))&&(this._changes.push([ae,we,qe]),this._triggerRenderFrame()),(Object.keys(ze).length||Is(ae))&&this._map._stop(!0),this._updatingCamera=!1;var rt=ae.cameraAnimation;rt&&(this._inertia.clear(),this._fireEvents({},{}),this._changes=[],rt(this._map))}else this.stop()},co.prototype.mergeHandlerResult=function(U,ee,J,ae,we){if(J){f.extend(U,J);var ze={handlerName:ae,originalEvent:J.originalEvent||we};void 0!==J.zoomDelta&&(ee.zoom=ze),void 0!==J.panDelta&&(ee.drag=ze),void 0!==J.pitchDelta&&(ee.pitch=ze),void 0!==J.bearingDelta&&(ee.rotate=ze)}},co.prototype._applyChanges=function(){for(var U={},ee={},J={},ae=0,we=this._changes;ae<we.length;ae+=1){var ze=we[ae],Ze=ze[0],Qe=ze[1],ct=ze[2];Ze.panDelta&&(U.panDelta=(U.panDelta||new f.Point(0,0))._add(Ze.panDelta)),Ze.zoomDelta&&(U.zoomDelta=(U.zoomDelta||0)+Ze.zoomDelta),Ze.bearingDelta&&(U.bearingDelta=(U.bearingDelta||0)+Ze.bearingDelta),Ze.pitchDelta&&(U.pitchDelta=(U.pitchDelta||0)+Ze.pitchDelta),void 0!==Ze.around&&(U.around=Ze.around),void 0!==Ze.pinchAround&&(U.pinchAround=Ze.pinchAround),Ze.noInertia&&(U.noInertia=Ze.noInertia),f.extend(ee,Qe),f.extend(J,ct)}this._updateMapTransform(U,ee,J),this._changes=[]},co.prototype._updateMapTransform=function(U,ee,J){var ae=this._map,we=ae.transform;if(!Is(U))return this._fireEvents(ee,J);var ze=U.panDelta,Ze=U.zoomDelta,Qe=U.bearingDelta,ct=U.pitchDelta,St=U.around,Dt=U.pinchAround;void 0!==Dt&&(St=Dt),ae._stop(!0),St=St||ae.transform.centerPoint;var se=we.pointLocation(ze?St.sub(ze):St);Qe&&(we.bearing+=Qe),ct&&(we.pitch+=ct),Ze&&(we.zoom+=Ze),we.setLocationAtPoint(se,St),this._map._update(),U.noInertia||this._inertia.record(U),this._fireEvents(ee,J)},co.prototype._fireEvents=function(U,ee){var J=this,ae=mu(this._eventsInProgress),we=mu(U),ze={};for(var Ze in U)this._eventsInProgress[Ze]||(ze[Ze+"start"]=U[Ze].originalEvent),this._eventsInProgress[Ze]=U[Ze];for(var ct in!ae&&we&&this._fireEvent("movestart",we.originalEvent),ze)this._fireEvent(ct,ze[ct]);for(var St in U.rotate&&(this._bearingChanged=!0),we&&this._fireEvent("move",we.originalEvent),U)this._fireEvent(St,U[St].originalEvent);var se,me={};for(var Ie in this._eventsInProgress){var je=this._eventsInProgress[Ie],qe=je.handlerName,Xe=je.originalEvent;this._handlersById[qe].isActive()||(delete this._eventsInProgress[Ie],me[Ie+"end"]=se=ee[qe]||Xe)}for(var rt in me)this._fireEvent(rt,me[rt]);var at=mu(this._eventsInProgress);if((ae||we)&&!at){this._updatingCamera=!0;var pt=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),yt=function(zt){return 0!==zt&&-J._bearingSnap<zt&&zt<J._bearingSnap};pt?(yt(pt.bearing||this._map.getBearing())&&(pt.bearing=0),this._map.easeTo(pt,{originalEvent:se})):(this._map.fire(new f.Event("moveend",{originalEvent:se})),yt(this._map.getBearing())&&this._map.resetNorth()),this._bearingChanged=!1,this._updatingCamera=!1}},co.prototype._fireEvent=function(U,ee){this._map.fire(new f.Event(U,ee?{originalEvent:ee}:{}))},co.prototype._triggerRenderFrame=function(){var U=this;void 0===this._frameId&&(this._frameId=this._map._requestRenderFrame(function(ee){delete U._frameId,U.handleEvent(new ko("renderFrame",{timeStamp:ee})),U._applyChanges()}))};var sa=function(U){function ee(J,ae){U.call(this),this._moving=!1,this._zooming=!1,this.transform=J,this._bearingSnap=ae.bearingSnap,f.bindAll(["_renderFrameCallback"],this)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.getCenter=function(){return new f.LngLat(this.transform.center.lng,this.transform.center.lat)},ee.prototype.setCenter=function(J,ae){return this.jumpTo({center:J},ae)},ee.prototype.panBy=function(J,ae,we){return J=f.Point.convert(J).mult(-1),this.panTo(this.transform.center,f.extend({offset:J},ae),we)},ee.prototype.panTo=function(J,ae,we){return this.easeTo(f.extend({center:J},ae),we)},ee.prototype.getZoom=function(){return this.transform.zoom},ee.prototype.setZoom=function(J,ae){return this.jumpTo({zoom:J},ae),this},ee.prototype.zoomTo=function(J,ae,we){return this.easeTo(f.extend({zoom:J},ae),we)},ee.prototype.zoomIn=function(J,ae){return this.zoomTo(this.getZoom()+1,J,ae),this},ee.prototype.zoomOut=function(J,ae){return this.zoomTo(this.getZoom()-1,J,ae),this},ee.prototype.getBearing=function(){return this.transform.bearing},ee.prototype.setBearing=function(J,ae){return this.jumpTo({bearing:J},ae),this},ee.prototype.getPadding=function(){return this.transform.padding},ee.prototype.setPadding=function(J,ae){return this.jumpTo({padding:J},ae),this},ee.prototype.rotateTo=function(J,ae,we){return this.easeTo(f.extend({bearing:J},ae),we)},ee.prototype.resetNorth=function(J,ae){return this.rotateTo(0,f.extend({duration:1e3},J),ae),this},ee.prototype.resetNorthPitch=function(J,ae){return this.easeTo(f.extend({bearing:0,pitch:0,duration:1e3},J),ae),this},ee.prototype.snapToNorth=function(J,ae){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(J,ae):this},ee.prototype.getPitch=function(){return this.transform.pitch},ee.prototype.setPitch=function(J,ae){return this.jumpTo({pitch:J},ae),this},ee.prototype.cameraForBounds=function(J,ae){return J=f.LngLatBounds.convert(J),this._cameraForBoxAndBearing(J.getNorthWest(),J.getSouthEast(),0,ae)},ee.prototype._cameraForBoxAndBearing=function(J,ae,we,ze){var Ze={top:0,bottom:0,right:0,left:0};if("number"==typeof(ze=f.extend({padding:Ze,offset:[0,0],maxZoom:this.transform.maxZoom},ze)).padding){var Qe=ze.padding;ze.padding={top:Qe,bottom:Qe,right:Qe,left:Qe}}ze.padding=f.extend(Ze,ze.padding);var ct=this.transform,St=ct.padding,Dt=ct.project(f.LngLat.convert(J)),se=ct.project(f.LngLat.convert(ae)),me=Dt.rotate(-we*Math.PI/180),Ie=se.rotate(-we*Math.PI/180),je=new f.Point(Math.max(me.x,Ie.x),Math.max(me.y,Ie.y)),qe=new f.Point(Math.min(me.x,Ie.x),Math.min(me.y,Ie.y)),Xe=je.sub(qe),rt=(ct.width-(St.left+St.right+ze.padding.left+ze.padding.right))/Xe.x,at=(ct.height-(St.top+St.bottom+ze.padding.top+ze.padding.bottom))/Xe.y;if(!(at<0||rt<0)){var pt=Math.min(ct.scaleZoom(ct.scale*Math.min(rt,at)),ze.maxZoom),yt=f.Point.convert(ze.offset),Yt=new f.Point(yt.x+(ze.padding.left-ze.padding.right)/2,yt.y+(ze.padding.top-ze.padding.bottom)/2).mult(ct.scale/ct.zoomScale(pt));return{center:ct.unproject(Dt.add(se).div(2).sub(Yt)),zoom:pt,bearing:we}}f.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},ee.prototype.fitBounds=function(J,ae,we){return this._fitInternal(this.cameraForBounds(J,ae),ae,we)},ee.prototype.fitScreenCoordinates=function(J,ae,we,ze,Ze){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(f.Point.convert(J)),this.transform.pointLocation(f.Point.convert(ae)),we,ze),ze,Ze)},ee.prototype._fitInternal=function(J,ae,we){return J?(delete(ae=f.extend(J,ae)).padding,ae.linear?this.easeTo(ae,we):this.flyTo(ae,we)):this},ee.prototype.jumpTo=function(J,ae){this.stop();var we=this.transform,ze=!1,Ze=!1,Qe=!1;return"zoom"in J&&we.zoom!==+J.zoom&&(ze=!0,we.zoom=+J.zoom),void 0!==J.center&&(we.center=f.LngLat.convert(J.center)),"bearing"in J&&we.bearing!==+J.bearing&&(Ze=!0,we.bearing=+J.bearing),"pitch"in J&&we.pitch!==+J.pitch&&(Qe=!0,we.pitch=+J.pitch),null==J.padding||we.isPaddingEqual(J.padding)||(we.padding=J.padding),this.fire(new f.Event("movestart",ae)).fire(new f.Event("move",ae)),ze&&this.fire(new f.Event("zoomstart",ae)).fire(new f.Event("zoom",ae)).fire(new f.Event("zoomend",ae)),Ze&&this.fire(new f.Event("rotatestart",ae)).fire(new f.Event("rotate",ae)).fire(new f.Event("rotateend",ae)),Qe&&this.fire(new f.Event("pitchstart",ae)).fire(new f.Event("pitch",ae)).fire(new f.Event("pitchend",ae)),this.fire(new f.Event("moveend",ae))},ee.prototype.easeTo=function(J,ae){var we=this;this._stop(!1,J.easeId),(!1===(J=f.extend({offset:[0,0],duration:500,easing:f.ease},J)).animate||!J.essential&&f.browser.prefersReducedMotion)&&(J.duration=0);var ze=this.transform,Ze=this.getZoom(),Qe=this.getBearing(),ct=this.getPitch(),St=this.getPadding(),Dt="zoom"in J?+J.zoom:Ze,se="bearing"in J?this._normalizeBearing(J.bearing,Qe):Qe,me="pitch"in J?+J.pitch:ct,Ie="padding"in J?J.padding:ze.padding,je=f.Point.convert(J.offset),qe=ze.centerPoint.add(je),Xe=ze.pointLocation(qe),rt=f.LngLat.convert(J.center||Xe);this._normalizeCenter(rt);var at,pt,yt=ze.project(Xe),zt=ze.project(rt).sub(yt),$t=ze.zoomScale(Dt-Ze);J.around&&(at=f.LngLat.convert(J.around),pt=ze.locationPoint(at));var Yt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||Dt!==Ze,this._rotating=this._rotating||Qe!==se,this._pitching=this._pitching||me!==ct,this._padding=!ze.isPaddingEqual(Ie),this._easeId=J.easeId,this._prepareEase(ae,J.noMoveStart,Yt),clearTimeout(this._easeEndTimeoutID),this._ease(function(cn){if(we._zooming&&(ze.zoom=f.number(Ze,Dt,cn)),we._rotating&&(ze.bearing=f.number(Qe,se,cn)),we._pitching&&(ze.pitch=f.number(ct,me,cn)),we._padding&&(ze.interpolatePadding(St,Ie,cn),qe=ze.centerPoint.add(je)),at)ze.setLocationAtPoint(at,pt);else{var Mn=ze.zoomScale(ze.zoom-Ze),an=Dt>Ze?Math.min(2,$t):Math.max(.5,$t),hn=Math.pow(an,1-cn),sn=ze.unproject(yt.add(zt.mult(cn*hn)).mult(Mn));ze.setLocationAtPoint(ze.renderWorldCopies?sn.wrap():sn,qe)}we._fireMoveEvents(ae)},function(cn){we._afterEase(ae,cn)},J),this},ee.prototype._prepareEase=function(J,ae,we){void 0===we&&(we={}),this._moving=!0,ae||we.moving||this.fire(new f.Event("movestart",J)),this._zooming&&!we.zooming&&this.fire(new f.Event("zoomstart",J)),this._rotating&&!we.rotating&&this.fire(new f.Event("rotatestart",J)),this._pitching&&!we.pitching&&this.fire(new f.Event("pitchstart",J))},ee.prototype._fireMoveEvents=function(J){this.fire(new f.Event("move",J)),this._zooming&&this.fire(new f.Event("zoom",J)),this._rotating&&this.fire(new f.Event("rotate",J)),this._pitching&&this.fire(new f.Event("pitch",J))},ee.prototype._afterEase=function(J,ae){if(!this._easeId||!ae||this._easeId!==ae){delete this._easeId;var we=this._zooming,ze=this._rotating,Ze=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,we&&this.fire(new f.Event("zoomend",J)),ze&&this.fire(new f.Event("rotateend",J)),Ze&&this.fire(new f.Event("pitchend",J)),this.fire(new f.Event("moveend",J))}},ee.prototype.flyTo=function(J,ae){var we=this;if(!J.essential&&f.browser.prefersReducedMotion){var ze=f.pick(J,["center","zoom","bearing","pitch","around"]);return this.jumpTo(ze,ae)}this.stop(),J=f.extend({offset:[0,0],speed:1.2,curve:1.42,easing:f.ease},J);var Ze=this.transform,Qe=this.getZoom(),ct=this.getBearing(),St=this.getPitch(),Dt=this.getPadding(),se="zoom"in J?f.clamp(+J.zoom,Ze.minZoom,Ze.maxZoom):Qe,me="bearing"in J?this._normalizeBearing(J.bearing,ct):ct,Ie="pitch"in J?+J.pitch:St,je="padding"in J?J.padding:Ze.padding,qe=Ze.zoomScale(se-Qe),Xe=f.Point.convert(J.offset),rt=Ze.centerPoint.add(Xe),at=Ze.pointLocation(rt),pt=f.LngLat.convert(J.center||at);this._normalizeCenter(pt);var yt=Ze.project(at),zt=Ze.project(pt).sub(yt),$t=J.curve,Yt=Math.max(Ze.width,Ze.height),cn=Yt/qe,Mn=zt.mag();if("minZoom"in J){var an=f.clamp(Math.min(J.minZoom,Qe,se),Ze.minZoom,Ze.maxZoom),hn=Yt/Ze.zoomScale(an-Qe);$t=Math.sqrt(hn/Mn*2)}var sn=$t*$t;function Ln(Er){var Fr=(cn*cn-Yt*Yt+(Er?-1:1)*sn*sn*Mn*Mn)/(2*(Er?cn:Yt)*sn*Mn);return Math.log(Math.sqrt(Fr*Fr+1)-Fr)}function Dn(Er){return(Math.exp(Er)-Math.exp(-Er))/2}function dn(Er){return(Math.exp(Er)+Math.exp(-Er))/2}var Xn=Ln(0),rr=function(Er){return dn(Xn)/dn(Xn+$t*Er)},vr=function(Er){return Yt*((dn(Xn)*(Dn(Fr=Xn+$t*Er)/dn(Fr))-Dn(Xn))/sn)/Mn;var Fr},dr=(Ln(1)-Xn)/$t;if(Math.abs(Mn)<1e-6||!isFinite(dr)){if(Math.abs(Yt-cn)<1e-6)return this.easeTo(J,ae);var Lr=cn<Yt?-1:1;dr=Math.abs(Math.log(cn/Yt))/$t,vr=function(){return 0},rr=function(Er){return Math.exp(Lr*$t*Er)}}return J.duration="duration"in J?+J.duration:1e3*dr/("screenSpeed"in J?+J.screenSpeed/$t:+J.speed),J.maxDuration&&J.duration>J.maxDuration&&(J.duration=0),this._zooming=!0,this._rotating=ct!==me,this._pitching=Ie!==St,this._padding=!Ze.isPaddingEqual(je),this._prepareEase(ae,!1),this._ease(function(Er){var Fr=Er*dr,Kr=1/rr(Fr);Ze.zoom=1===Er?se:Qe+Ze.scaleZoom(Kr),we._rotating&&(Ze.bearing=f.number(ct,me,Er)),we._pitching&&(Ze.pitch=f.number(St,Ie,Er)),we._padding&&(Ze.interpolatePadding(Dt,je,Er),rt=Ze.centerPoint.add(Xe));var Ti=1===Er?pt:Ze.unproject(yt.add(zt.mult(vr(Fr))).mult(Kr));Ze.setLocationAtPoint(Ze.renderWorldCopies?Ti.wrap():Ti,rt),we._fireMoveEvents(ae)},function(){return we._afterEase(ae)},J),this},ee.prototype.isEasing=function(){return!!this._easeFrameId},ee.prototype.stop=function(){return this._stop()},ee.prototype._stop=function(J,ae){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var we=this._onEaseEnd;delete this._onEaseEnd,we.call(this,ae)}if(!J){var ze=this.handlers;ze&&ze.stop()}return this},ee.prototype._ease=function(J,ae,we){!1===we.animate||0===we.duration?(J(1),ae()):(this._easeStart=f.browser.now(),this._easeOptions=we,this._onEaseFrame=J,this._onEaseEnd=ae,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},ee.prototype._renderFrameCallback=function(){var J=Math.min((f.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(J)),J<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},ee.prototype._normalizeBearing=function(J,ae){J=f.wrap(J,-180,180);var we=Math.abs(J-ae);return Math.abs(J-360-ae)<we&&(J-=360),Math.abs(J+360-ae)<we&&(J+=360),J},ee.prototype._normalizeCenter=function(J){var ae=this.transform;if(ae.renderWorldCopies&&!ae.lngRange){var we=J.lng-ae.center.lng;J.lng+=we>180?-360:we<-180?360:0}},ee}(f.Evented),Ps=function(U){void 0===U&&(U={}),this.options=U,f.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};Ps.prototype.getDefaultPosition=function(){return"bottom-right"},Ps.prototype.onAdd=function(U){var ee=this.options&&this.options.compact;return this._map=U,this._container=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=M.create("div","mapboxgl-ctrl-attrib-inner",this._container),ee&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===ee&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Ps.prototype.onRemove=function(){M.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Ps.prototype._updateEditLink=function(){var U=this._editLink;U||(U=this._editLink=this._container.querySelector(".mapbox-improve-map"));var ee=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||f.config.ACCESS_TOKEN}];if(U){var J=ee.reduce(function(ae,we,ze){return we.value&&(ae+=we.key+"="+we.value+(ze<ee.length-1?"&":"")),ae},"?");U.href=f.config.FEEDBACK_URL+"/"+J+(this._map._hash?this._map._hash.getHashString(!0):""),U.rel="noopener nofollow"}},Ps.prototype._updateData=function(U){!U||"metadata"!==U.sourceDataType&&"style"!==U.dataType||(this._updateAttributions(),this._updateEditLink())},Ps.prototype._updateAttributions=function(){if(this._map.style){var U=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?U=U.concat(this.options.customAttribution.map(function(Qe){return"string"!=typeof Qe?"":Qe})):"string"==typeof this.options.customAttribution&&U.push(this.options.customAttribution)),this._map.style.stylesheet){var ee=this._map.style.stylesheet;this.styleOwner=ee.owner,this.styleId=ee.id}var J=this._map.style.sourceCaches;for(var ae in J){var we=J[ae];if(we.used){var ze=we.getSource();ze.attribution&&U.indexOf(ze.attribution)<0&&U.push(ze.attribution)}}U.sort(function(Qe,ct){return Qe.length-ct.length});var Ze=(U=U.filter(function(Qe,ct){for(var St=ct+1;St<U.length;St++)if(U[St].indexOf(Qe)>=0)return!1;return!0})).join(" | ");Ze!==this._attribHTML&&(this._attribHTML=Ze,U.length?(this._innerContainer.innerHTML=Ze,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Ps.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var es=function(){f.bindAll(["_updateLogo"],this),f.bindAll(["_updateCompact"],this)};es.prototype.onAdd=function(U){this._map=U,this._container=M.create("div","mapboxgl-ctrl");var ee=M.create("a","mapboxgl-ctrl-logo");return ee.target="_blank",ee.rel="noopener nofollow",ee.href="https://www.mapbox.com/",ee.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),ee.setAttribute("rel","noopener nofollow"),this._container.appendChild(ee),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},es.prototype.onRemove=function(){M.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},es.prototype.getDefaultPosition=function(){return"bottom-left"},es.prototype._updateLogo=function(U){U&&"metadata"!==U.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},es.prototype._logoRequired=function(){if(this._map.style){var U=this._map.style.sourceCaches;for(var ee in U)if(U[ee].getSource().mapbox_logo)return!0;return!1}},es.prototype._updateCompact=function(){var U=this._container.children;if(U.length){var ee=U[0];this._map.getCanvasContainer().offsetWidth<250?ee.classList.add("mapboxgl-compact"):ee.classList.remove("mapboxgl-compact")}};var Xo=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Xo.prototype.add=function(U){var ee=++this._id;return this._queue.push({callback:U,id:ee,cancelled:!1}),ee},Xo.prototype.remove=function(U){for(var ee=this._currentlyRunning,J=0,ae=ee?this._queue.concat(ee):this._queue;J<ae.length;J+=1){var we=ae[J];if(we.id===U)return void(we.cancelled=!0)}},Xo.prototype.run=function(U){void 0===U&&(U=0);var ee=this._currentlyRunning=this._queue;this._queue=[];for(var J=0,ae=ee;J<ae.length;J+=1){var we=ae[J];if(!we.cancelled&&(we.callback(U),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Xo.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var ts={"FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},io=f.window.HTMLImageElement,zo=f.window.HTMLElement,Wo=f.window.ImageBitmap,Rs={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},ru=function(U){function ee(ae){var we=this;if(null!=(ae=f.extend({},Rs,ae)).minZoom&&null!=ae.maxZoom&&ae.minZoom>ae.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=ae.minPitch&&null!=ae.maxPitch&&ae.minPitch>ae.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=ae.minPitch&&ae.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=ae.maxPitch&&ae.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var ze=new to(ae.minZoom,ae.maxZoom,ae.minPitch,ae.maxPitch,ae.renderWorldCopies);if(U.call(this,ze,ae),this._interactive=ae.interactive,this._maxTileCacheSize=ae.maxTileCacheSize,this._failIfMajorPerformanceCaveat=ae.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=ae.preserveDrawingBuffer,this._antialias=ae.antialias,this._trackResize=ae.trackResize,this._bearingSnap=ae.bearingSnap,this._refreshExpiredTiles=ae.refreshExpiredTiles,this._fadeDuration=ae.fadeDuration,this._crossSourceCollisions=ae.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=ae.collectResourceTiming,this._renderTaskQueue=new Xo,this._controls=[],this._mapId=f.uniqueId(),this._locale=f.extend({},ts,ae.locale),this._requestManager=new f.RequestManager(ae.transformRequest,ae.accessToken),"string"==typeof ae.container){if(this._container=f.window.document.getElementById(ae.container),!this._container)throw new Error("Container '"+ae.container+"' not found.")}else{if(!(ae.container instanceof zo))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=ae.container}if(ae.maxBounds&&this.setMaxBounds(ae.maxBounds),f.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return we._update(!1)}),this.on("moveend",function(){return we._update(!1)}),this.on("zoom",function(){return we._update(!0)}),void 0!==f.window&&(f.window.addEventListener("online",this._onWindowOnline,!1),f.window.addEventListener("resize",this._onWindowResize,!1)),this.handlers=new co(this,ae),this._hash=ae.hash&&new kl("string"==typeof ae.hash&&ae.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:ae.center,zoom:ae.zoom,bearing:ae.bearing,pitch:ae.pitch}),ae.bounds&&(this.resize(),this.fitBounds(ae.bounds,f.extend({},ae.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=ae.localIdeographFontFamily,ae.style&&this.setStyle(ae.style,{localIdeographFontFamily:ae.localIdeographFontFamily}),ae.attributionControl&&this.addControl(new Ps({customAttribution:ae.customAttribution})),this.addControl(new es,ae.logoPosition),this.on("style.load",function(){we.transform.unmodified&&we.jumpTo(we.style.stylesheet)}),this.on("data",function(Qe){we._update("style"===Qe.dataType),we.fire(new f.Event(Qe.dataType+"data",Qe))}),this.on("dataloading",function(Qe){we.fire(new f.Event(Qe.dataType+"dataloading",Qe))})}U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee;var J={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return ee.prototype._getMapId=function(){return this._mapId},ee.prototype.addControl=function(ae,we){if(void 0===we&&ae.getDefaultPosition&&(we=ae.getDefaultPosition()),void 0===we&&(we="top-right"),!ae||!ae.onAdd)return this.fire(new f.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var ze=ae.onAdd(this);this._controls.push(ae);var Ze=this._controlPositions[we];return-1!==we.indexOf("bottom")?Ze.insertBefore(ze,Ze.firstChild):Ze.appendChild(ze),this},ee.prototype.removeControl=function(ae){if(!ae||!ae.onRemove)return this.fire(new f.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var we=this._controls.indexOf(ae);return we>-1&&this._controls.splice(we,1),ae.onRemove(this),this},ee.prototype.resize=function(ae){var we=this._containerDimensions(),ze=we[0],Ze=we[1];this._resizeCanvas(ze,Ze),this.transform.resize(ze,Ze),this.painter.resize(ze,Ze);var Qe=!this._moving;return Qe&&(this.stop(),this.fire(new f.Event("movestart",ae)).fire(new f.Event("move",ae))),this.fire(new f.Event("resize",ae)),Qe&&this.fire(new f.Event("moveend",ae)),this},ee.prototype.getBounds=function(){return this.transform.getBounds()},ee.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},ee.prototype.setMaxBounds=function(ae){return this.transform.setMaxBounds(f.LngLatBounds.convert(ae)),this._update()},ee.prototype.setMinZoom=function(ae){if((ae=ae??-2)>=-2&&ae<=this.transform.maxZoom)return this.transform.minZoom=ae,this._update(),this.getZoom()<ae&&this.setZoom(ae),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},ee.prototype.getMinZoom=function(){return this.transform.minZoom},ee.prototype.setMaxZoom=function(ae){if((ae=ae??22)>=this.transform.minZoom)return this.transform.maxZoom=ae,this._update(),this.getZoom()>ae&&this.setZoom(ae),this;throw new Error("maxZoom must be greater than the current minZoom")},ee.prototype.getMaxZoom=function(){return this.transform.maxZoom},ee.prototype.setMinPitch=function(ae){if((ae=ae??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(ae>=0&&ae<=this.transform.maxPitch)return this.transform.minPitch=ae,this._update(),this.getPitch()<ae&&this.setPitch(ae),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},ee.prototype.getMinPitch=function(){return this.transform.minPitch},ee.prototype.setMaxPitch=function(ae){if((ae=ae??60)>60)throw new Error("maxPitch must be less than or equal to 60");if(ae>=this.transform.minPitch)return this.transform.maxPitch=ae,this._update(),this.getPitch()>ae&&this.setPitch(ae),this;throw new Error("maxPitch must be greater than the current minPitch")},ee.prototype.getMaxPitch=function(){return this.transform.maxPitch},ee.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},ee.prototype.setRenderWorldCopies=function(ae){return this.transform.renderWorldCopies=ae,this._update()},ee.prototype.project=function(ae){return this.transform.locationPoint(f.LngLat.convert(ae))},ee.prototype.unproject=function(ae){return this.transform.pointLocation(f.Point.convert(ae))},ee.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},ee.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},ee.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},ee.prototype._createDelegatedListener=function(ae,we,ze){var Ze,Qe=this;if("mouseenter"===ae||"mouseover"===ae){var ct=!1;return{layer:we,listener:ze,delegates:{mousemove:function(Dt){var se=Qe.getLayer(we)?Qe.queryRenderedFeatures(Dt.point,{layers:[we]}):[];se.length?ct||(ct=!0,ze.call(Qe,new go(ae,Qe,Dt.originalEvent,{features:se}))):ct=!1},mouseout:function(){ct=!1}}}}if("mouseleave"===ae||"mouseout"===ae){var St=!1;return{layer:we,listener:ze,delegates:{mousemove:function(Dt){(Qe.getLayer(we)?Qe.queryRenderedFeatures(Dt.point,{layers:[we]}):[]).length?St=!0:St&&(St=!1,ze.call(Qe,new go(ae,Qe,Dt.originalEvent)))},mouseout:function(Dt){St&&(St=!1,ze.call(Qe,new go(ae,Qe,Dt.originalEvent)))}}}}return{layer:we,listener:ze,delegates:(Ze={},Ze[ae]=function(Dt){var se=Qe.getLayer(we)?Qe.queryRenderedFeatures(Dt.point,{layers:[we]}):[];se.length&&(Dt.features=se,ze.call(Qe,Dt),delete Dt.features)},Ze)}},ee.prototype.on=function(ae,we,ze){if(void 0===ze)return U.prototype.on.call(this,ae,we);var Ze=this._createDelegatedListener(ae,we,ze);for(var Qe in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[ae]=this._delegatedListeners[ae]||[],this._delegatedListeners[ae].push(Ze),Ze.delegates)this.on(Qe,Ze.delegates[Qe]);return this},ee.prototype.once=function(ae,we,ze){if(void 0===ze)return U.prototype.once.call(this,ae,we);var Ze=this._createDelegatedListener(ae,we,ze);for(var Qe in Ze.delegates)this.once(Qe,Ze.delegates[Qe]);return this},ee.prototype.off=function(ae,we,ze){var Ze=this;return void 0===ze?U.prototype.off.call(this,ae,we):(this._delegatedListeners&&this._delegatedListeners[ae]&&function(Qe){for(var ct=Qe[ae],St=0;St<ct.length;St++){var Dt=ct[St];if(Dt.layer===we&&Dt.listener===ze){for(var se in Dt.delegates)Ze.off(se,Dt.delegates[se]);return ct.splice(St,1),Ze}}}(this._delegatedListeners),this)},ee.prototype.queryRenderedFeatures=function(ae,we){if(!this.style)return[];var ze;if(void 0!==we||void 0===ae||ae instanceof f.Point||Array.isArray(ae)||(we=ae,ae=void 0),we=we||{},(ae=ae||[[0,0],[this.transform.width,this.transform.height]])instanceof f.Point||"number"==typeof ae[0])ze=[f.Point.convert(ae)];else{var Ze=f.Point.convert(ae[0]),Qe=f.Point.convert(ae[1]);ze=[Ze,new f.Point(Qe.x,Ze.y),Qe,new f.Point(Ze.x,Qe.y),Ze]}return this.style.queryRenderedFeatures(ze,we,this.transform)},ee.prototype.querySourceFeatures=function(ae,we){return this.style.querySourceFeatures(ae,we)},ee.prototype.setStyle=function(ae,we){return!1!==(we=f.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},we)).diff&&we.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&ae?(this._diffStyle(ae,we),this):(this._localIdeographFontFamily=we.localIdeographFontFamily,this._updateStyle(ae,we))},ee.prototype._getUIString=function(ae){var we=this._locale[ae];if(null==we)throw new Error("Missing UI string '"+ae+"'");return we},ee.prototype._updateStyle=function(ae,we){return this.style&&(this.style.setEventedParent(null),this.style._remove()),ae?(this.style=new Ar(this,we||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof ae?this.style.loadURL(ae):this.style.loadJSON(ae),this):(delete this.style,this)},ee.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Ar(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},ee.prototype._diffStyle=function(ae,we){var ze=this;if("string"==typeof ae){var Ze=this._requestManager.normalizeStyleURL(ae),Qe=this._requestManager.transformRequest(Ze,f.ResourceType.Style);f.getJSON(Qe,function(ct,St){ct?ze.fire(new f.ErrorEvent(ct)):St&&ze._updateDiff(St,we)})}else"object"==typeof ae&&this._updateDiff(ae,we)},ee.prototype._updateDiff=function(ae,we){try{this.style.setState(ae)&&this._update(!0)}catch(ze){f.warnOnce("Unable to perform style diff: "+(ze.message||ze.error||ze)+".  Rebuilding the style from scratch."),this._updateStyle(ae,we)}},ee.prototype.getStyle=function(){if(this.style)return this.style.serialize()},ee.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():f.warnOnce("There is no style added to the map.")},ee.prototype.addSource=function(ae,we){return this._lazyInitEmptyStyle(),this.style.addSource(ae,we),this._update(!0)},ee.prototype.isSourceLoaded=function(ae){var we=this.style&&this.style.sourceCaches[ae];if(void 0!==we)return we.loaded();this.fire(new f.ErrorEvent(new Error("There is no source with ID '"+ae+"'")))},ee.prototype.areTilesLoaded=function(){var ae=this.style&&this.style.sourceCaches;for(var we in ae){var ze=ae[we]._tiles;for(var Ze in ze){var Qe=ze[Ze];if("loaded"!==Qe.state&&"errored"!==Qe.state)return!1}}return!0},ee.prototype.addSourceType=function(ae,we,ze){return this._lazyInitEmptyStyle(),this.style.addSourceType(ae,we,ze)},ee.prototype.removeSource=function(ae){return this.style.removeSource(ae),this._update(!0)},ee.prototype.getSource=function(ae){return this.style.getSource(ae)},ee.prototype.addImage=function(ae,we,ze){void 0===ze&&(ze={});var Ze=ze.pixelRatio;void 0===Ze&&(Ze=1);var Qe=ze.sdf;void 0===Qe&&(Qe=!1);var ct=ze.stretchX,St=ze.stretchY,Dt=ze.content;if(this._lazyInitEmptyStyle(),we instanceof io||Wo&&we instanceof Wo){var se=f.browser.getImageData(we);this.style.addImage(ae,{data:new f.RGBAImage({width:se.width,height:se.height},se.data),pixelRatio:Ze,stretchX:ct,stretchY:St,content:Dt,sdf:Qe,version:0})}else{if(void 0===we.width||void 0===we.height)return this.fire(new f.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var at=we;this.style.addImage(ae,{data:new f.RGBAImage({width:we.width,height:we.height},new Uint8Array(we.data)),pixelRatio:Ze,stretchX:ct,stretchY:St,content:Dt,sdf:Qe,version:0,userImage:at}),at.onAdd&&at.onAdd(this,ae)}},ee.prototype.updateImage=function(ae,we){var ze=this.style.getImage(ae);if(!ze)return this.fire(new f.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var Ze=we instanceof io||Wo&&we instanceof Wo?f.browser.getImageData(we):we,Qe=Ze.width,ct=Ze.height,St=Ze.data;return void 0===Qe||void 0===ct?this.fire(new f.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):Qe!==ze.data.width||ct!==ze.data.height?this.fire(new f.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(ze.data.replace(St,!(we instanceof io||Wo&&we instanceof Wo)),void this.style.updateImage(ae,ze))},ee.prototype.hasImage=function(ae){return ae?!!this.style.getImage(ae):(this.fire(new f.ErrorEvent(new Error("Missing required image id"))),!1)},ee.prototype.removeImage=function(ae){this.style.removeImage(ae)},ee.prototype.loadImage=function(ae,we){f.getImage(this._requestManager.transformRequest(ae,f.ResourceType.Image),we)},ee.prototype.listImages=function(){return this.style.listImages()},ee.prototype.addLayer=function(ae,we){return this._lazyInitEmptyStyle(),this.style.addLayer(ae,we),this._update(!0)},ee.prototype.moveLayer=function(ae,we){return this.style.moveLayer(ae,we),this._update(!0)},ee.prototype.removeLayer=function(ae){return this.style.removeLayer(ae),this._update(!0)},ee.prototype.getLayer=function(ae){return this.style.getLayer(ae)},ee.prototype.setLayerZoomRange=function(ae,we,ze){return this.style.setLayerZoomRange(ae,we,ze),this._update(!0)},ee.prototype.setFilter=function(ae,we,ze){return void 0===ze&&(ze={}),this.style.setFilter(ae,we,ze),this._update(!0)},ee.prototype.getFilter=function(ae){return this.style.getFilter(ae)},ee.prototype.setPaintProperty=function(ae,we,ze,Ze){return void 0===Ze&&(Ze={}),this.style.setPaintProperty(ae,we,ze,Ze),this._update(!0)},ee.prototype.getPaintProperty=function(ae,we){return this.style.getPaintProperty(ae,we)},ee.prototype.setLayoutProperty=function(ae,we,ze,Ze){return void 0===Ze&&(Ze={}),this.style.setLayoutProperty(ae,we,ze,Ze),this._update(!0)},ee.prototype.getLayoutProperty=function(ae,we){return this.style.getLayoutProperty(ae,we)},ee.prototype.setLight=function(ae,we){return void 0===we&&(we={}),this._lazyInitEmptyStyle(),this.style.setLight(ae,we),this._update(!0)},ee.prototype.getLight=function(){return this.style.getLight()},ee.prototype.setFeatureState=function(ae,we){return this.style.setFeatureState(ae,we),this._update()},ee.prototype.removeFeatureState=function(ae,we){return this.style.removeFeatureState(ae,we),this._update()},ee.prototype.getFeatureState=function(ae){return this.style.getFeatureState(ae)},ee.prototype.getContainer=function(){return this._container},ee.prototype.getCanvasContainer=function(){return this._canvasContainer},ee.prototype.getCanvas=function(){return this._canvas},ee.prototype._containerDimensions=function(){var ae=0,we=0;return this._container&&(ae=this._container.clientWidth||400,we=this._container.clientHeight||300),[ae,we]},ee.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==f.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&f.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},ee.prototype._setupContainer=function(){var ae=this._container;ae.classList.add("mapboxgl-map"),(this._missingCSSCanary=M.create("div","mapboxgl-canary",ae)).style.visibility="hidden",this._detectMissingCSS();var we=this._canvasContainer=M.create("div","mapboxgl-canvas-container",ae);this._interactive&&we.classList.add("mapboxgl-interactive"),this._canvas=M.create("canvas","mapboxgl-canvas",we),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var ze=this._containerDimensions();this._resizeCanvas(ze[0],ze[1]);var Ze=this._controlContainer=M.create("div","mapboxgl-control-container",ae),Qe=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(ct){Qe[ct]=M.create("div","mapboxgl-ctrl-"+ct,Ze)})},ee.prototype._resizeCanvas=function(ae,we){var ze=f.browser.devicePixelRatio||1;this._canvas.width=ze*ae,this._canvas.height=ze*we,this._canvas.style.width=ae+"px",this._canvas.style.height=we+"px"},ee.prototype._setupPainter=function(){var ae=f.extend({},S.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),we=this._canvas.getContext("webgl",ae)||this._canvas.getContext("experimental-webgl",ae);we?(this.painter=new Gi(we,this.transform),f.webpSupported.testSupport(we)):this.fire(new f.ErrorEvent(new Error("Failed to initialize WebGL")))},ee.prototype._contextLost=function(ae){ae.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new f.Event("webglcontextlost",{originalEvent:ae}))},ee.prototype._contextRestored=function(ae){this._setupPainter(),this.resize(),this._update(),this.fire(new f.Event("webglcontextrestored",{originalEvent:ae}))},ee.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},ee.prototype._update=function(ae){return this.style?(this._styleDirty=this._styleDirty||ae,this._sourcesDirty=!0,this.triggerRepaint(),this):this},ee.prototype._requestRenderFrame=function(ae){return this._update(),this._renderTaskQueue.add(ae)},ee.prototype._cancelRenderFrame=function(ae){this._renderTaskQueue.remove(ae)},ee.prototype._render=function(ae){var we,ze=this,Ze=0,Qe=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(we=Qe.createQueryEXT(),Qe.beginQueryEXT(Qe.TIME_ELAPSED_EXT,we),Ze=f.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(ae),!this._removed){var ct=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var St=this.transform.zoom,Dt=f.browser.now();this.style.zoomHistory.update(St,Dt);var se=new f.EvaluationParameters(St,{now:Dt,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),me=se.crossFadingFactor();1===me&&me===this._crossFadingFactor||(ct=!0,this._crossFadingFactor=me),this.style.update(se)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new f.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new f.Event("load"))),this.style&&(this.style.hasTransitions()||ct)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Ie=f.browser.now()-Ze;Qe.endQueryEXT(Qe.TIME_ELAPSED_EXT,we),setTimeout(function(){var qe=Qe.getQueryObjectEXT(we,Qe.QUERY_RESULT_EXT)/1e6;Qe.deleteQueryEXT(we),ze.fire(new f.Event("gpu-timing-frame",{cpuTime:Ie,gpuTime:qe}))},50)}if(this.listens("gpu-timing-layer")){var je=this.painter.collectGpuTimers();setTimeout(function(){var qe=ze.painter.queryGpuTimers(je);ze.fire(new f.Event("gpu-timing-layer",{layerTimes:qe}))},50)}return this._sourcesDirty||this._styleDirty||this._placementDirty||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&(this._fullyLoaded||(this._fullyLoaded=!0),this.fire(new f.Event("idle"))),this}},ee.prototype.remove=function(){this._hash&&this._hash.remove();for(var ae=0,we=this._controls;ae<we.length;ae+=1)we[ae].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==f.window&&(f.window.removeEventListener("resize",this._onWindowResize,!1),f.window.removeEventListener("online",this._onWindowOnline,!1));var ze=this.painter.context.gl.getExtension("WEBGL_lose_context");ze&&ze.loseContext(),qa(this._canvasContainer),qa(this._controlContainer),qa(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new f.Event("remove"))},ee.prototype.triggerRepaint=function(){var ae=this;this.style&&!this._frame&&(this._frame=f.browser.frame(function(we){ae._frame=null,ae._render(we)}))},ee.prototype._onWindowOnline=function(){this._update()},ee.prototype._onWindowResize=function(ae){this._trackResize&&this.resize({originalEvent:ae})._update()},J.showTileBoundaries.get=function(){return!!this._showTileBoundaries},J.showTileBoundaries.set=function(ae){this._showTileBoundaries!==ae&&(this._showTileBoundaries=ae,this._update())},J.showPadding.get=function(){return!!this._showPadding},J.showPadding.set=function(ae){this._showPadding!==ae&&(this._showPadding=ae,this._update())},J.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},J.showCollisionBoxes.set=function(ae){this._showCollisionBoxes!==ae&&(this._showCollisionBoxes=ae,ae?this.style._generateCollisionBoxes():this._update())},J.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},J.showOverdrawInspector.set=function(ae){this._showOverdrawInspector!==ae&&(this._showOverdrawInspector=ae,this._update())},J.repaint.get=function(){return!!this._repaint},J.repaint.set=function(ae){this._repaint!==ae&&(this._repaint=ae,this.triggerRepaint())},J.vertices.get=function(){return!!this._vertices},J.vertices.set=function(ae){this._vertices=ae,this._update()},ee.prototype._setCacheLimits=function(ae,we){f.setCacheLimits(ae,we)},J.version.get=function(){return f.version},Object.defineProperties(ee.prototype,J),ee}(sa);function qa(U){U.parentNode&&U.parentNode.removeChild(U)}var Ia={showCompass:!0,showZoom:!0,visualizePitch:!1},vs=function(U){var ee=this;this.options=f.extend({},Ia,U),this._container=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(J){return J.preventDefault()}),this.options.showZoom&&(f.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(J){return ee._map.zoomIn({},{originalEvent:J})}),M.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(J){return ee._map.zoomOut({},{originalEvent:J})}),M.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(f.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(J){ee.options.visualizePitch?ee._map.resetNorthPitch({},{originalEvent:J}):ee._map.resetNorth({},{originalEvent:J})}),this._compassIcon=M.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};vs.prototype._updateZoomButtons=function(){var U=this._map.getZoom();this._zoomInButton.disabled=U===this._map.getMaxZoom(),this._zoomOutButton.disabled=U===this._map.getMinZoom()},vs.prototype._rotateCompassArrow=function(){var U=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=U},vs.prototype.onAdd=function(U){return this._map=U,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new kr(this._map,this._compass,this.options.visualizePitch)),this._container},vs.prototype.onRemove=function(){M.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},vs.prototype._createButton=function(U,ee){var J=M.create("button",U,this._container);return J.type="button",J.addEventListener("click",ee),J},vs.prototype._setButtonTitle=function(U,ee){var J=this._map._getUIString("NavigationControl."+ee);U.title=J,U.setAttribute("aria-label",J)};var kr=function(U,ee,J){void 0===J&&(J=!1),this._clickTolerance=10,this.element=ee,this.mouseRotate=new Ec({clickTolerance:U.dragRotate._mouseRotate._clickTolerance}),this.map=U,J&&(this.mousePitch=new Dc({clickTolerance:U.dragRotate._mousePitch._clickTolerance})),f.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),M.addEventListener(ee,"mousedown",this.mousedown),M.addEventListener(ee,"touchstart",this.touchstart,{passive:!1}),M.addEventListener(ee,"touchmove",this.touchmove),M.addEventListener(ee,"touchend",this.touchend),M.addEventListener(ee,"touchcancel",this.reset)};function pi(U,ee,J){if(U=new f.LngLat(U.lng,U.lat),ee){var ae=new f.LngLat(U.lng-360,U.lat),we=new f.LngLat(U.lng+360,U.lat),ze=J.locationPoint(U).distSqr(ee);J.locationPoint(ae).distSqr(ee)<ze?U=ae:J.locationPoint(we).distSqr(ee)<ze&&(U=we)}for(;Math.abs(U.lng-J.center.lng)>180;){var Ze=J.locationPoint(U);if(Ze.x>=0&&Ze.y>=0&&Ze.x<=J.width&&Ze.y<=J.height)break;U.lng>J.center.lng?U.lng-=360:U.lng+=360}return U}kr.prototype.down=function(U,ee){this.mouseRotate.mousedown(U,ee),this.mousePitch&&this.mousePitch.mousedown(U,ee),M.disableDrag()},kr.prototype.move=function(U,ee){var J=this.map,ae=this.mouseRotate.mousemoveWindow(U,ee);if(ae&&ae.bearingDelta&&J.setBearing(J.getBearing()+ae.bearingDelta),this.mousePitch){var we=this.mousePitch.mousemoveWindow(U,ee);we&&we.pitchDelta&&J.setPitch(J.getPitch()+we.pitchDelta)}},kr.prototype.off=function(){var U=this.element;M.removeEventListener(U,"mousedown",this.mousedown),M.removeEventListener(U,"touchstart",this.touchstart,{passive:!1}),M.removeEventListener(U,"touchmove",this.touchmove),M.removeEventListener(U,"touchend",this.touchend),M.removeEventListener(U,"touchcancel",this.reset),this.offTemp()},kr.prototype.offTemp=function(){M.enableDrag(),M.removeEventListener(f.window,"mousemove",this.mousemove),M.removeEventListener(f.window,"mouseup",this.mouseup)},kr.prototype.mousedown=function(U){this.down(f.extend({},U,{ctrlKey:!0,preventDefault:function(){return U.preventDefault()}}),M.mousePos(this.element,U)),M.addEventListener(f.window,"mousemove",this.mousemove),M.addEventListener(f.window,"mouseup",this.mouseup)},kr.prototype.mousemove=function(U){this.move(U,M.mousePos(this.element,U))},kr.prototype.mouseup=function(U){this.mouseRotate.mouseupWindow(U),this.mousePitch&&this.mousePitch.mouseupWindow(U),this.offTemp()},kr.prototype.touchstart=function(U){1!==U.targetTouches.length?this.reset():(this._startPos=this._lastPos=M.touchPos(this.element,U.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return U.preventDefault()}},this._startPos))},kr.prototype.touchmove=function(U){1!==U.targetTouches.length?this.reset():(this._lastPos=M.touchPos(this.element,U.targetTouches)[0],this.move({preventDefault:function(){return U.preventDefault()}},this._lastPos))},kr.prototype.touchend=function(U){0===U.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},kr.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var Gu={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Ul(U,ee,J){var ae=U.classList;for(var we in Gu)ae.remove("mapboxgl-"+J+"-anchor-"+we);ae.add("mapboxgl-"+J+"-anchor-"+ee)}var cl,Ba=function(U){function ee(J,ae){var we=this;if(U.call(this),(J instanceof f.window.HTMLElement||ae)&&(J=f.extend({element:J},ae)),f.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=J&&J.anchor||"center",this._color=J&&J.color||"#3FB1CE",this._draggable=J&&J.draggable||!1,this._state="inactive",this._rotation=J&&J.rotation||0,this._rotationAlignment=J&&J.rotationAlignment||"auto",this._pitchAlignment=J&&J.pitchAlignment&&"auto"!==J.pitchAlignment?J.pitchAlignment:this._rotationAlignment,J&&J.element)this._element=J.element,this._offset=f.Point.convert(J&&J.offset||[0,0]);else{this._defaultMarker=!0,this._element=M.create("div"),this._element.setAttribute("aria-label","Map marker");var ze=M.createNS("http://www.w3.org/2000/svg","svg");ze.setAttributeNS(null,"display","block"),ze.setAttributeNS(null,"height","41px"),ze.setAttributeNS(null,"width","27px"),ze.setAttributeNS(null,"viewBox","0 0 27 41");var Ze=M.createNS("http://www.w3.org/2000/svg","g");Ze.setAttributeNS(null,"stroke","none"),Ze.setAttributeNS(null,"stroke-width","1"),Ze.setAttributeNS(null,"fill","none"),Ze.setAttributeNS(null,"fill-rule","evenodd");var Qe=M.createNS("http://www.w3.org/2000/svg","g");Qe.setAttributeNS(null,"fill-rule","nonzero");var ct=M.createNS("http://www.w3.org/2000/svg","g");ct.setAttributeNS(null,"transform","translate(3.0, 29.0)"),ct.setAttributeNS(null,"fill","#000000");for(var St=0,Dt=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];St<Dt.length;St+=1){var se=Dt[St],me=M.createNS("http://www.w3.org/2000/svg","ellipse");me.setAttributeNS(null,"opacity","0.04"),me.setAttributeNS(null,"cx","10.5"),me.setAttributeNS(null,"cy","5.80029008"),me.setAttributeNS(null,"rx",se.rx),me.setAttributeNS(null,"ry",se.ry),ct.appendChild(me)}var Ie=M.createNS("http://www.w3.org/2000/svg","g");Ie.setAttributeNS(null,"fill",this._color);var je=M.createNS("http://www.w3.org/2000/svg","path");je.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Ie.appendChild(je);var qe=M.createNS("http://www.w3.org/2000/svg","g");qe.setAttributeNS(null,"opacity","0.25"),qe.setAttributeNS(null,"fill","#000000");var Xe=M.createNS("http://www.w3.org/2000/svg","path");Xe.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),qe.appendChild(Xe);var rt=M.createNS("http://www.w3.org/2000/svg","g");rt.setAttributeNS(null,"transform","translate(6.0, 7.0)"),rt.setAttributeNS(null,"fill","#FFFFFF");var at=M.createNS("http://www.w3.org/2000/svg","g");at.setAttributeNS(null,"transform","translate(8.0, 8.0)");var pt=M.createNS("http://www.w3.org/2000/svg","circle");pt.setAttributeNS(null,"fill","#000000"),pt.setAttributeNS(null,"opacity","0.25"),pt.setAttributeNS(null,"cx","5.5"),pt.setAttributeNS(null,"cy","5.5"),pt.setAttributeNS(null,"r","5.4999962");var yt=M.createNS("http://www.w3.org/2000/svg","circle");yt.setAttributeNS(null,"fill","#FFFFFF"),yt.setAttributeNS(null,"cx","5.5"),yt.setAttributeNS(null,"cy","5.5"),yt.setAttributeNS(null,"r","5.4999962"),at.appendChild(pt),at.appendChild(yt),Qe.appendChild(ct),Qe.appendChild(Ie),Qe.appendChild(qe),Qe.appendChild(rt),Qe.appendChild(at),ze.appendChild(Qe),this._element.appendChild(ze),this._offset=f.Point.convert(J&&J.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(zt){zt.preventDefault()}),this._element.addEventListener("mousedown",function(zt){zt.preventDefault()}),this._element.addEventListener("focus",function(){var zt=we._map.getContainer();zt.scrollTop=0,zt.scrollLeft=0}),Ul(this._element,this._anchor,"marker"),this._popup=null}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.addTo=function(J){return this.remove(),this._map=J,J.getCanvasContainer().appendChild(this._element),J.on("move",this._update),J.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},ee.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),M.remove(this._element),this._popup&&this._popup.remove(),this},ee.prototype.getLngLat=function(){return this._lngLat},ee.prototype.setLngLat=function(J){return this._lngLat=f.LngLat.convert(J),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},ee.prototype.getElement=function(){return this._element},ee.prototype.setPopup=function(J){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),J){if(!("offset"in J.options)){var we=Math.sqrt(Math.pow(13.5,2)/2);J.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[we,-1*(24.6+we)],"bottom-right":[-we,-1*(24.6+we)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=J,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},ee.prototype._onKeyPress=function(J){var ae=J.code,we=J.charCode||J.keyCode;"Space"!==ae&&"Enter"!==ae&&32!==we&&13!==we||this.togglePopup()},ee.prototype._onMapClick=function(J){var ae=J.originalEvent.target,we=this._element;this._popup&&(ae===we||we.contains(ae))&&this.togglePopup()},ee.prototype.getPopup=function(){return this._popup},ee.prototype.togglePopup=function(){var J=this._popup;return J?(J.isOpen()?J.remove():J.addTo(this._map),this):this},ee.prototype._update=function(J){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=pi(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var ae="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?ae="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(ae="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var we="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?we="rotateX(0deg)":"map"===this._pitchAlignment&&(we="rotateX("+this._map.getPitch()+"deg)"),J&&"moveend"!==J.type||(this._pos=this._pos.round()),M.setTransform(this._element,Gu[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+we+" "+ae)}},ee.prototype.getOffset=function(){return this._offset},ee.prototype.setOffset=function(J){return this._offset=f.Point.convert(J),this._update(),this},ee.prototype._onMove=function(J){this._pos=J.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new f.Event("dragstart"))),this.fire(new f.Event("drag"))},ee.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new f.Event("dragend")),this._state="inactive"},ee.prototype._addDragHandler=function(J){this._element.contains(J.originalEvent.target)&&(J.preventDefault(),this._positionDelta=J.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},ee.prototype.setDraggable=function(J){return this._draggable=!!J,this._map&&(J?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},ee.prototype.isDraggable=function(){return this._draggable},ee.prototype.setRotation=function(J){return this._rotation=J||0,this._update(),this},ee.prototype.getRotation=function(){return this._rotation},ee.prototype.setRotationAlignment=function(J){return this._rotationAlignment=J||"auto",this._update(),this},ee.prototype.getRotationAlignment=function(){return this._rotationAlignment},ee.prototype.setPitchAlignment=function(J){return this._pitchAlignment=J&&"auto"!==J?J:this._rotationAlignment,this._update(),this},ee.prototype.getPitchAlignment=function(){return this._pitchAlignment},ee}(f.Evented),qu={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},rs=0,Du=!1,Or=function(U){function ee(J){U.call(this),this.options=f.extend({},qu,J),f.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.onAdd=function(J){return this._map=J,this._container=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),ae=this._setupUI,void 0!==cl?ae(cl):void 0!==f.window.navigator.permissions?f.window.navigator.permissions.query({name:"geolocation"}).then(function(we){ae(cl="denied"!==we.state)}):ae(cl=!!f.window.navigator.geolocation),this._container;var ae},ee.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(f.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),M.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,rs=0,Du=!1},ee.prototype._isOutOfMapMaxBounds=function(J){var ae=this._map.getMaxBounds(),we=J.coords;return ae&&(we.longitude<ae.getWest()||we.longitude>ae.getEast()||we.latitude<ae.getSouth()||we.latitude>ae.getNorth())},ee.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},ee.prototype._onSuccess=function(J){if(this._map){if(this._isOutOfMapMaxBounds(J))return this._setErrorState(),this.fire(new f.Event("outofmaxbounds",J)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=J,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(J),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(J),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new f.Event("geolocate",J)),this._finish()}},ee.prototype._updateCamera=function(J){var ae=new f.LngLat(J.coords.longitude,J.coords.latitude),we=J.coords.accuracy,ze=this._map.getBearing(),Ze=f.extend({bearing:ze},this.options.fitBoundsOptions);this._map.fitBounds(ae.toBounds(we),Ze,{geolocateSource:!0})},ee.prototype._updateMarker=function(J){if(J){var ae=new f.LngLat(J.coords.longitude,J.coords.latitude);this._accuracyCircleMarker.setLngLat(ae).addTo(this._map),this._userLocationDotMarker.setLngLat(ae).addTo(this._map),this._accuracy=J.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},ee.prototype._updateCircleRadius=function(){var J=this._map._container.clientHeight/2,ae=this._map.unproject([0,J]),we=this._map.unproject([1,J]),ze=ae.distanceTo(we),Ze=Math.ceil(2*this._accuracy/ze);this._circleElement.style.width=Ze+"px",this._circleElement.style.height=Ze+"px"},ee.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},ee.prototype._onError=function(J){if(this._map){if(this.options.trackUserLocation)if(1===J.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var ae=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=ae,this._geolocateButton.setAttribute("aria-label",ae),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===J.code&&Du)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new f.Event("error",J)),this._finish()}},ee.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},ee.prototype._setupUI=function(J){var ae=this;if(this._container.addEventListener("contextmenu",function(Ze){return Ze.preventDefault()}),this._geolocateButton=M.create("button","mapboxgl-ctrl-geolocate",this._container),M.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===J){f.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var we=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=we,this._geolocateButton.setAttribute("aria-label",we)}else{var ze=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=ze,this._geolocateButton.setAttribute("aria-label",ze)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=M.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Ba(this._dotElement),this._circleElement=M.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Ba({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(Ze){Ze.geolocateSource||"ACTIVE_LOCK"!==ae._watchState||Ze.originalEvent&&"resize"===Ze.originalEvent.type||(ae._watchState="BACKGROUND",ae._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),ae._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),ae.fire(new f.Event("trackuserlocationend")))})},ee.prototype.trigger=function(){if(!this._setup)return f.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new f.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":rs--,Du=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new f.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new f.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var J;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++rs>1?(J={maximumAge:6e5,timeout:0},Du=!0):(J=this.options.positionOptions,Du=!1),this._geolocationWatchID=f.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,J)}}else f.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},ee.prototype._clearWatch=function(){f.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},ee}(f.Evented),hi={maxWidth:100,unit:"metric"},gi=function(U){this.options=f.extend({},hi,U),f.bindAll(["_onMove","setUnit"],this)};function Wi(U,ee,J){var ae=J&&J.maxWidth||100,we=U._container.clientHeight/2,ze=U.unproject([0,we]),Ze=U.unproject([ae,we]),Qe=ze.distanceTo(Ze);if(J&&"imperial"===J.unit){var ct=3.2808*Qe;ct>5280?it(ee,ae,ct/5280,U._getUIString("ScaleControl.Miles")):it(ee,ae,ct,U._getUIString("ScaleControl.Feet"))}else J&&"nautical"===J.unit?it(ee,ae,Qe/1852,U._getUIString("ScaleControl.NauticalMiles")):Qe>=1e3?it(ee,ae,Qe/1e3,U._getUIString("ScaleControl.Kilometers")):it(ee,ae,Qe,U._getUIString("ScaleControl.Meters"))}function it(U,ee,J,ae){var we,ze,Ze,St,Dt,Qe=(we=J,(ze=Math.pow(10,(""+Math.floor(we)).length-1))*((Ze=we/ze)>=10?10:Ze>=5?5:Ze>=3?3:Ze>=2?2:Ze>=1?1:(St=Ze,Dt=Math.pow(10,Math.ceil(-Math.log(St)/Math.LN10)),Math.round(St*Dt)/Dt)));U.style.width=ee*(Qe/J)+"px",U.innerHTML=Qe+"&nbsp;"+ae}gi.prototype.getDefaultPosition=function(){return"bottom-left"},gi.prototype._onMove=function(){Wi(this._map,this._container,this.options)},gi.prototype.onAdd=function(U){return this._map=U,this._container=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",U.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},gi.prototype.onRemove=function(){M.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},gi.prototype.setUnit=function(U){this.options.unit=U,Wi(this._map,this._container,this.options)};var lt=function(U){this._fullscreen=!1,U&&U.container&&(U.container instanceof f.window.HTMLElement?this._container=U.container:f.warnOnce("Full screen control 'container' must be a DOM element.")),f.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in f.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in f.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in f.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in f.window.document&&(this._fullscreenchange="MSFullscreenChange")};lt.prototype.onAdd=function(U){return this._map=U,this._container||(this._container=this._map.getContainer()),this._controlContainer=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",f.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},lt.prototype.onRemove=function(){M.remove(this._controlContainer),this._map=null,f.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},lt.prototype._checkFullscreenSupport=function(){return!!(f.window.document.fullscreenEnabled||f.window.document.mozFullScreenEnabled||f.window.document.msFullscreenEnabled||f.window.document.webkitFullscreenEnabled)},lt.prototype._setupUI=function(){var U=this._fullscreenButton=M.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);M.create("span","mapboxgl-ctrl-icon",U).setAttribute("aria-hidden",!0),U.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),f.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},lt.prototype._updateTitle=function(){var U=this._getTitle();this._fullscreenButton.setAttribute("aria-label",U),this._fullscreenButton.title=U},lt.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},lt.prototype._isFullscreen=function(){return this._fullscreen},lt.prototype._changeIcon=function(){(f.window.document.fullscreenElement||f.window.document.mozFullScreenElement||f.window.document.webkitFullscreenElement||f.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},lt.prototype._onClickFullscreen=function(){this._isFullscreen()?f.window.document.exitFullscreen?f.window.document.exitFullscreen():f.window.document.mozCancelFullScreen?f.window.document.mozCancelFullScreen():f.window.document.msExitFullscreen?f.window.document.msExitFullscreen():f.window.document.webkitCancelFullScreen&&f.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var gt={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},wt=function(U){function ee(J){U.call(this),this.options=f.extend(Object.create(gt),J),f.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return U&&(ee.__proto__=U),(ee.prototype=Object.create(U&&U.prototype)).constructor=ee,ee.prototype.addTo=function(J){return this._map&&this.remove(),this._map=J,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new f.Event("open")),this},ee.prototype.isOpen=function(){return!!this._map},ee.prototype.remove=function(){return this._content&&M.remove(this._content),this._container&&(M.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new f.Event("close")),this},ee.prototype.getLngLat=function(){return this._lngLat},ee.prototype.setLngLat=function(J){return this._lngLat=f.LngLat.convert(J),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},ee.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},ee.prototype.getElement=function(){return this._container},ee.prototype.setText=function(J){return this.setDOMContent(f.window.document.createTextNode(J))},ee.prototype.setHTML=function(J){var ae,we=f.window.document.createDocumentFragment(),ze=f.window.document.createElement("body");for(ze.innerHTML=J;ae=ze.firstChild;)we.appendChild(ae);return this.setDOMContent(we)},ee.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},ee.prototype.setMaxWidth=function(J){return this.options.maxWidth=J,this._update(),this},ee.prototype.setDOMContent=function(J){return this._createContent(),this._content.appendChild(J),this._update(),this},ee.prototype.addClassName=function(J){this._container&&this._container.classList.add(J)},ee.prototype.removeClassName=function(J){this._container&&this._container.classList.remove(J)},ee.prototype.toggleClassName=function(J){if(this._container)return this._container.classList.toggle(J)},ee.prototype._createContent=function(){this._content&&M.remove(this._content),this._content=M.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=M.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},ee.prototype._onMouseUp=function(J){this._update(J.point)},ee.prototype._onMouseMove=function(J){this._update(J.point)},ee.prototype._onDrag=function(J){this._update(J.point)},ee.prototype._update=function(J){var ae=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=M.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=M.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(me){return ae._container.classList.add(me)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=pi(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||J)){var ze=this._pos=this._trackPointer&&J?J:this._map.project(this._lngLat),Ze=this.options.anchor,Qe=Ot(this.options.offset);if(!Ze){var ct,St=this._container.offsetWidth,Dt=this._container.offsetHeight;ct=ze.y+Qe.bottom.y<Dt?["top"]:ze.y>this._map.transform.height-Dt?["bottom"]:[],ze.x<St/2?ct.push("left"):ze.x>this._map.transform.width-St/2&&ct.push("right"),Ze=0===ct.length?"bottom":ct.join("-")}var se=ze.add(Qe[Ze]).round();M.setTransform(this._container,Gu[Ze]+" translate("+se.x+"px,"+se.y+"px)"),Ul(this._container,Ze,"popup")}},ee.prototype._onClose=function(){this.remove()},ee}(f.Evented);function Ot(U){if(U){if("number"==typeof U){var ee=Math.round(Math.sqrt(.5*Math.pow(U,2)));return{center:new f.Point(0,0),top:new f.Point(0,U),"top-left":new f.Point(ee,ee),"top-right":new f.Point(-ee,ee),bottom:new f.Point(0,-U),"bottom-left":new f.Point(ee,-ee),"bottom-right":new f.Point(-ee,-ee),left:new f.Point(U,0),right:new f.Point(-U,0)}}if(U instanceof f.Point||Array.isArray(U)){var J=f.Point.convert(U);return{center:J,top:J,"top-left":J,"top-right":J,bottom:J,"bottom-left":J,"bottom-right":J,left:J,right:J}}return{center:f.Point.convert(U.center||[0,0]),top:f.Point.convert(U.top||[0,0]),"top-left":f.Point.convert(U["top-left"]||[0,0]),"top-right":f.Point.convert(U["top-right"]||[0,0]),bottom:f.Point.convert(U.bottom||[0,0]),"bottom-left":f.Point.convert(U["bottom-left"]||[0,0]),"bottom-right":f.Point.convert(U["bottom-right"]||[0,0]),left:f.Point.convert(U.left||[0,0]),right:f.Point.convert(U.right||[0,0])}}return Ot(new f.Point(0,0))}var Et={version:f.version,supported:S,setRTLTextPlugin:f.setRTLTextPlugin,getRTLTextPluginStatus:f.getRTLTextPluginStatus,Map:ru,NavigationControl:vs,GeolocateControl:Or,AttributionControl:Ps,ScaleControl:gi,FullscreenControl:lt,Popup:wt,Marker:Ba,Style:Ar,LngLat:f.LngLat,LngLatBounds:f.LngLatBounds,Point:f.Point,MercatorCoordinate:f.MercatorCoordinate,Evented:f.Evented,config:f.config,prewarm:function(){Nt().acquire(vt)},clearPrewarmedResources:function(){var U=Lt;U&&(U.isPreloaded()&&1===U.numActive()?(U.release(vt),Lt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return f.config.ACCESS_TOKEN},set accessToken(U){f.config.ACCESS_TOKEN=U},get baseApiUrl(){return f.config.API_URL},set baseApiUrl(U){f.config.API_URL=U},get workerCount(){return bt.workerCount},set workerCount(U){bt.workerCount=U},get maxParallelImageRequests(){return f.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(U){f.config.MAX_PARALLEL_IMAGE_REQUESTS=U},clearStorage:function(U){f.clearTileCache(U)},workerUrl:""};return Et}),C}()},27084:function(ie){"use strict";ie.exports=Math.log2||function(z){return Math.log(z)*Math.LOG2E}},16825:function(ie,z,r){"use strict";ie.exports=function(E,f){f||(f=E,E=window);var S=0,M=0,v=0,c={shift:!1,alt:!1,control:!1,meta:!1},i=!1;function u(y){var w=!1;return"altKey"in y&&(w=w||y.altKey!==c.alt,c.alt=!!y.altKey),"shiftKey"in y&&(w=w||y.shiftKey!==c.shift,c.shift=!!y.shiftKey),"ctrlKey"in y&&(w=w||y.ctrlKey!==c.control,c.control=!!y.ctrlKey),"metaKey"in y&&(w=w||y.metaKey!==c.meta,c.meta=!!y.metaKey),w}function a(y,w){var m=C.x(w),b=C.y(w);"buttons"in w&&(y=0|w.buttons),(y!==S||m!==M||b!==v||u(w))&&(S=0|y,M=m||0,v=b||0,f&&f(S,M,v,c))}function o(y){a(0,y)}function l(){(S||M||v||c.shift||c.alt||c.meta||c.control)&&(M=v=0,S=0,c.shift=c.alt=c.control=c.meta=!1,f&&f(0,0,0,c))}function s(y){u(y)&&f&&f(S,M,v,c)}function d(y){0===C.buttons(y)?a(0,y):a(S,y)}function g(y){a(S|C.buttons(y),y)}function p(y){a(S&~C.buttons(y),y)}function T(){i||(i=!0,E.addEventListener("mousemove",d),E.addEventListener("mousedown",g),E.addEventListener("mouseup",p),E.addEventListener("mouseleave",o),E.addEventListener("mouseenter",o),E.addEventListener("mouseout",o),E.addEventListener("mouseover",o),E.addEventListener("blur",l),E.addEventListener("keyup",s),E.addEventListener("keydown",s),E.addEventListener("keypress",s),E!==window&&(window.addEventListener("blur",l),window.addEventListener("keyup",s),window.addEventListener("keydown",s),window.addEventListener("keypress",s)))}T();var _={element:E};return Object.defineProperties(_,{enabled:{get:function(){return i},set:function(y){y?T():i&&(i=!1,E.removeEventListener("mousemove",d),E.removeEventListener("mousedown",g),E.removeEventListener("mouseup",p),E.removeEventListener("mouseleave",o),E.removeEventListener("mouseenter",o),E.removeEventListener("mouseout",o),E.removeEventListener("mouseover",o),E.removeEventListener("blur",l),E.removeEventListener("keyup",s),E.removeEventListener("keydown",s),E.removeEventListener("keypress",s),E!==window&&(window.removeEventListener("blur",l),window.removeEventListener("keyup",s),window.removeEventListener("keydown",s),window.removeEventListener("keypress",s)))},enumerable:!0},buttons:{get:function(){return S},enumerable:!0},x:{get:function(){return M},enumerable:!0},y:{get:function(){return v},enumerable:!0},mods:{get:function(){return c},enumerable:!0}}),_};var C=r(74311)},48956:function(ie){var z={left:0,top:0};ie.exports=function(r,C,E){C=C||r.currentTarget||r.srcElement,Array.isArray(E)||(E=[0,0]);var f,S=r.clientX||0,M=r.clientY||0,v=(f=C)===window||f===document||f===document.body?z:f.getBoundingClientRect();return E[0]=S-v.left,E[1]=M-v.top,E}},74311:function(ie,z){"use strict";function r(C){return C.target||C.srcElement||window}z.buttons=function(C){if("object"==typeof C){if("buttons"in C)return C.buttons;if("which"in C){if(2===(E=C.which))return 4;if(3===E)return 2;if(E>0)return 1<<E-1}else if("button"in C){var E;if(1===(E=C.button))return 4;if(2===E)return 2;if(E>=0)return 1<<E}}return 0},z.element=r,z.x=function(C){if("object"==typeof C){if("offsetX"in C)return C.offsetX;var E=r(C).getBoundingClientRect();return C.clientX-E.left}return 0},z.y=function(C){if("object"==typeof C){if("offsetY"in C)return C.offsetY;var E=r(C).getBoundingClientRect();return C.clientY-E.top}return 0}},1195:function(ie,z,r){"use strict";var C=r(75686);ie.exports=function(E,f,S){"function"==typeof E&&(S=!!f,f=E,E=window);var M=C("ex",E),v=function(c){S&&c.preventDefault();var i=c.deltaX||0,u=c.deltaY||0,a=c.deltaZ||0,o=1;switch(c.deltaMode){case 1:o=M;break;case 2:o=window.innerHeight}if(u*=o,a*=o,(i*=o)||u||a)return f(i,u,a,c)};return E.addEventListener("wheel",v),v}},7417:function(ie,z,r){var C,E,f;(f=void 0!==r.g?r.g:this)[E="Promise"]=f[E]||function(){"use strict";var M,v,c,i=Object.prototype.toString,u=typeof setImmediate<"u"?function(m){return setImmediate(m)}:setTimeout;try{Object.defineProperty({},"x",{}),M=function(m,b,k,h){return Object.defineProperty(m,b,{value:k,writable:!0,configurable:!1!==h})}}catch{M=function(b,k,h){return b[k]=h,b}}function a(m,b){c.add(m,b),v||(v=u(c.drain))}function o(m){var b,k=typeof m;return null==m||"object"!=k&&"function"!=k||(b=m.then),"function"==typeof b&&b}function l(){for(var m=0;m<this.chain.length;m++)s(this,1===this.state?this.chain[m].success:this.chain[m].failure,this.chain[m]);this.chain.length=0}function s(m,b,k){var h,O;try{!1===b?k.reject(m.msg):(h=!0===b?m.msg:b.call(void 0,m.msg))===k.promise?k.reject(TypeError("Promise-chain cycle")):(O=o(h))?O.call(h,k.resolve,k.reject):k.resolve(h)}catch(A){k.reject(A)}}function d(m){var b,k=this;if(!k.triggered){k.triggered=!0,k.def&&(k=k.def);try{(b=o(m))?a(function(){var h=new T(k);try{b.call(m,function(){d.apply(h,arguments)},function(){g.apply(h,arguments)})}catch(O){g.call(h,O)}}):(k.msg=m,k.state=1,k.chain.length>0&&a(l,k))}catch(h){g.call(new T(k),h)}}}function g(m){var b=this;b.triggered||(b.triggered=!0,b.def&&(b=b.def),b.msg=m,b.state=2,b.chain.length>0&&a(l,b))}function p(m,b,k,h){for(var O=0;O<b.length;O++)!function(A){m.resolve(b[A]).then(function(I){k(A,I)},h)}(O)}function T(m){this.def=m,this.triggered=!1}function _(m){this.promise=m,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function y(m){if("function"!=typeof m)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var b=new _(this);this.then=function(k,h){var O={success:"function"!=typeof k||k,failure:"function"==typeof h&&h};return O.promise=new this.constructor(function(A,I){if("function"!=typeof A||"function"!=typeof I)throw TypeError("Not a function");O.resolve=A,O.reject=I}),b.chain.push(O),0!==b.state&&a(l,b),O.promise},this.catch=function(k){return this.then(void 0,k)};try{m.call(void 0,function(k){d.call(b,k)},function(k){g.call(b,k)})}catch(k){g.call(b,k)}}c=function(){var m,b,k;function h(O,A){this.fn=O,this.self=A,this.next=void 0}return{add:function(O,A){k=new h(O,A),b?b.next=k:m=k,b=k,k=void 0},drain:function(){var O=m;for(m=b=v=void 0;O;)O.fn.call(O.self),O=O.next}}}();var w=M({},"constructor",y,!1);return y.prototype=w,M(w,"__NPO__",0,!1),M(y,"resolve",function(m){return m&&"object"==typeof m&&1===m.__NPO__?m:new this(function(b,k){if("function"!=typeof b||"function"!=typeof k)throw TypeError("Not a function");b(m)})}),M(y,"reject",function(m){return new this(function(b,k){if("function"!=typeof b||"function"!=typeof k)throw TypeError("Not a function");k(m)})}),M(y,"all",function(m){var b=this;return"[object Array]"!=i.call(m)?b.reject(TypeError("Not an array")):0===m.length?b.resolve([]):new b(function(k,h){if("function"!=typeof k||"function"!=typeof h)throw TypeError("Not a function");var O=m.length,A=Array(O),I=0;p(b,m,function(P,L){A[P]=L,++I===O&&k(A)},h)})}),M(y,"race",function(m){var b=this;return"[object Array]"!=i.call(m)?b.reject(TypeError("Not an array")):new b(function(k,h){if("function"!=typeof k||"function"!=typeof h)throw TypeError("Not a function");p(b,m,function(O,A){k(A)},h)})}),y}(),ie.exports?ie.exports=f[E]:void 0===(C=function(){return f[E]}.call(z,r,z,ie))||(ie.exports=C)},18625:function(ie){var z=Math.PI,r=M(120);function C(v,c,i,u){return["C",v,c,i,u,i,u]}function E(v,c,i,u,a,o){return["C",v/3+.6666666666666666*i,c/3+.6666666666666666*u,a/3+.6666666666666666*i,o/3+.6666666666666666*u,a,o]}function f(v,c,i,u,a,o,l,s,d,g){if(g)O=g[0],A=g[1],k=g[2],h=g[3];else{var p=S(v,c,-a);c=p.y;var T=((v=p.x)-(s=(p=S(s,d,-a)).x))/2,_=(c-(d=p.y))/2,y=T*T/(i*i)+_*_/(u*u);y>1&&(i*=y=Math.sqrt(y),u*=y);var w=i*i,m=u*u,b=(o==l?-1:1)*Math.sqrt(Math.abs((w*m-w*_*_-m*T*T)/(w*_*_+m*T*T)));b==1/0&&(b=1);var k=b*i*_/u+(v+s)/2,h=b*-u*T/i+(c+d)/2,O=Math.asin(((c-h)/u).toFixed(9)),A=Math.asin(((d-h)/u).toFixed(9));(O=v<k?z-O:O)<0&&(O=2*z+O),(A=s<k?z-A:A)<0&&(A=2*z+A),l&&O>A&&(O-=2*z),!l&&A>O&&(A-=2*z)}if(Math.abs(A-O)>r){var I=A,P=s,L=d;A=O+r*(l&&A>O?1:-1);var N=f(s=k+i*Math.cos(A),d=h+u*Math.sin(A),i,u,a,0,l,P,L,[A,I,k,h])}var B=Math.tan((A-O)/4),W=4/3*i*B,j=4/3*u*B,Z=[2*v-(v+W*Math.sin(O)),2*c-(c-j*Math.cos(O)),s+W*Math.sin(A),d-j*Math.cos(A),s,d];if(g)return Z;N&&(Z=Z.concat(N));for(var V=0;V<Z.length;){var q=S(Z[V],Z[V+1],a);Z[V++]=q.x,Z[V++]=q.y}return Z}function S(v,c,i){return{x:v*Math.cos(i)-c*Math.sin(i),y:v*Math.sin(i)+c*Math.cos(i)}}function M(v){return v*(z/180)}ie.exports=function(v){for(var c,i=[],u=0,a=0,o=0,l=0,s=null,d=null,g=0,p=0,T=0,_=v.length;T<_;T++){var y=v[T],w=y[0];switch(w){case"M":o=y[1],l=y[2];break;case"A":(y=f(g,p,y[1],y[2],M(y[3]),y[4],y[5],y[6],y[7])).unshift("C"),y.length>7&&(i.push(y.splice(0,7)),y.unshift("C"));break;case"S":var m=g,b=p;"C"!=c&&"S"!=c||(m+=m-u,b+=b-a),y=["C",m,b,y[1],y[2],y[3],y[4]];break;case"T":"Q"==c||"T"==c?(s=2*g-s,d=2*p-d):(s=g,d=p),y=E(g,p,s,d,y[1],y[2]);break;case"Q":s=y[1],d=y[2],y=E(g,p,y[1],y[2],y[3],y[4]);break;case"L":y=C(g,p,y[1],y[2]);break;case"H":y=C(g,p,y[1],p);break;case"V":y=C(g,p,g,y[1]);break;case"Z":y=C(g,p,o,l)}c=w,g=y[y.length-2],p=y[y.length-1],y.length>4?(u=y[y.length-4],a=y[y.length-3]):(u=g,a=p),i.push(y)}return i}},56131:function(ie){"use strict";var z=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;function E(f){if(null==f)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(f)}ie.exports=function(){try{if(!Object.assign)return!1;var f=new String("abc");if(f[5]="de","5"===Object.getOwnPropertyNames(f)[0])return!1;for(var S={},M=0;M<10;M++)S["_"+String.fromCharCode(M)]=M;if("0123456789"!==Object.getOwnPropertyNames(S).map(function(c){return S[c]}).join(""))return!1;var v={};return"abcdefghijklmnopqrst".split("").forEach(function(c){v[c]=c}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},v)).join("")}catch{return!1}}()?Object.assign:function(f,S){for(var M,v,c=E(f),i=1;i<arguments.length;i++){for(var u in M=Object(arguments[i]))r.call(M,u)&&(c[u]=M[u]);if(z){v=z(M);for(var a=0;a<v.length;a++)C.call(M,v[a])&&(c[v[a]]=M[v[a]])}}return c}},65848:function(ie){"use strict";var z=function(r){return r!=r};ie.exports=function(r,C){return 0===r&&0===C?1/r==1/C:r===C||!(!z(r)||!z(C))}},64003:function(ie,z,r){"use strict";var C=r(17045),E=r(68222),f=r(65848),S=r(27015),M=r(55572),v=E(S(),Object);C(v,{getPolyfill:S,implementation:f,shim:M}),ie.exports=v},27015:function(ie,z,r){"use strict";var C=r(65848);ie.exports=function(){return"function"==typeof Object.is?Object.is:C}},55572:function(ie,z,r){"use strict";var C=r(27015),E=r(17045);ie.exports=function(){var f=C();return E(Object,{is:f},{is:function(){return Object.is!==f}}),f}},99019:function(ie,z,r){"use strict";var C;if(!Object.keys){var E=Object.prototype.hasOwnProperty,f=Object.prototype.toString,S=r(64178),M=Object.prototype.propertyIsEnumerable,v=!M.call({toString:null},"toString"),c=M.call(function(){},"prototype"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(l){var s=l.constructor;return s&&s.prototype===l},a={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},o=function(){if(typeof window>"u")return!1;for(var l in window)try{if(!a["$"+l]&&E.call(window,l)&&null!==window[l]&&"object"==typeof window[l])try{u(window[l])}catch{return!0}}catch{return!0}return!1}();C=function(l){var s=null!==l&&"object"==typeof l,d="[object Function]"===f.call(l),g=S(l),p=s&&"[object String]"===f.call(l),T=[];if(!s&&!d&&!g)throw new TypeError("Object.keys called on a non-object");var _=c&&d;if(p&&l.length>0&&!E.call(l,0))for(var y=0;y<l.length;++y)T.push(String(y));if(g&&l.length>0)for(var w=0;w<l.length;++w)T.push(String(w));else for(var m in l)_&&"prototype"===m||!E.call(l,m)||T.push(String(m));if(v)for(var b=function(h){if(typeof window>"u"||!o)return u(h);try{return u(h)}catch{return!1}}(l),k=0;k<i.length;++k)b&&"constructor"===i[k]||!E.call(l,i[k])||T.push(i[k]);return T}}ie.exports=C},8709:function(ie,z,r){"use strict";var C=Array.prototype.slice,E=r(64178),f=Object.keys,S=f?function(v){return f(v)}:r(99019),M=Object.keys;S.shim=function(){if(Object.keys){var v=function(){var c=Object.keys(arguments);return c&&c.length===arguments.length}(1,2);v||(Object.keys=function(c){return E(c)?M(C.call(c)):M(c)})}else Object.keys=S;return Object.keys||S},ie.exports=S},64178:function(ie){"use strict";var z=Object.prototype.toString;ie.exports=function(r){var C=z.call(r),E="[object Arguments]"===C;return E||(E="[object Array]"!==C&&null!==r&&"object"==typeof r&&"number"==typeof r.length&&r.length>=0&&"[object Function]"===z.call(r.callee)),E}},88641:function(ie){"use strict";function z(E,f){if("string"!=typeof E)return[E];var S=[E];"string"==typeof f||Array.isArray(f)?f={brackets:f}:f||(f={});var M=f.brackets?Array.isArray(f.brackets)?f.brackets:[f.brackets]:["{}","[]","()"],v=f.escape||"___",c=!!f.flat;M.forEach(function(u){var a=new RegExp(["\\",u[0],"[^\\",u[0],"\\",u[1],"]*\\",u[1]].join("")),o=[];function l(s,d,g){var p=S.push(s.slice(u[0].length,-u[1].length))-1;return o.push(p),v+p+v}S.forEach(function(s,d){for(var g,p=0;s!=g;)if(g=s,s=s.replace(a,l),p++>1e4)throw Error("References have circular dependency. Please, check them.");S[d]=s}),o=o.reverse(),S=S.map(function(s){return o.forEach(function(d){s=s.replace(new RegExp("(\\"+v+d+"\\"+v+")","g"),u[0]+"$1"+u[1])}),s})});var i=new RegExp("\\"+v+"([0-9]+)\\"+v);return c?S:function u(a,o,l){for(var s,d=[],g=0;s=i.exec(a);){if(g++>1e4)throw Error("Circular references in parenthesis");d.push(a.slice(0,s.index)),d.push(u(o[s[1]],o)),a=a.slice(s.index+s[0].length)}return d.push(a),d}(S[0],S)}function r(E,f){if(f&&f.flat){var S,M=f&&f.escape||"___",v=E[0];if(!v)return"";for(var c=new RegExp("\\"+M+"([0-9]+)\\"+M),i=0;v!=S;){if(i++>1e4)throw Error("Circular references in "+E);S=v,v=v.replace(c,u)}return v}return E.reduce(function a(o,l){return Array.isArray(l)&&(l=l.reduce(a,"")),o+l},"");function u(a,o){if(null==E[o])throw Error("Reference "+o+"is undefined");return E[o]}}function C(E,f){return Array.isArray(E)?r(E,f):z(E,f)}C.parse=z,C.stringify=r,ie.exports=C},18863:function(ie,z,r){"use strict";var C=r(71299);ie.exports=function(E){var f;return arguments.length>1&&(E=arguments),"string"==typeof E?E=E.split(/\s/).map(parseFloat):"number"==typeof E&&(E=[E]),E.length&&"number"==typeof E[0]?f=1===E.length?{width:E[0],height:E[0],x:0,y:0}:2===E.length?{width:E[0],height:E[1],x:0,y:0}:{x:E[0],y:E[1],width:E[2]-E[0]||0,height:E[3]-E[1]||0}:E&&((f={x:(E=C(E,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"})).left||0,y:E.top||0}).width=null==E.width?E.right?E.right-f.x:0:E.width,f.height=null==E.height?E.bottom?E.bottom-f.y:0:E.height),f}},95616:function(ie){ie.exports=function(E){var f=[];return E.replace(r,function(S,M,v){var u,c=M.toLowerCase();for(u=void 0,v=(u=v.match(C))?u.map(Number):[],"m"==c&&v.length>2&&(f.push([M].concat(v.splice(0,2))),c="l",M="m"==M?"l":"L");;){if(v.length==z[c])return v.unshift(M),f.push(v);if(v.length<z[c])throw new Error("malformed path data");f.push([M].concat(v.splice(0,z[c])))}}),f};var z={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},r=/([astvzqmhlc])([^astvzqmhlc]*)/gi,C=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},25677:function(ie){ie.exports=function(z,r){r||(r=[0,""]),z=String(z);var C=parseFloat(z,10);return r[0]=C,r[1]=z.match(/[\d.\-\+]*\s*(.*)/)[1]||"",r}},9748:function(ie,z,r){var C=r(90386);(function(){var E,f,S,M,v,c;typeof performance<"u"&&null!==performance&&performance.now?ie.exports=function(){return performance.now()}:null!=C&&C.hrtime?(ie.exports=function(){return(E()-v)/1e6},f=C.hrtime,M=(E=function(){var i;return 1e9*(i=f())[0]+i[1]})(),c=1e9*C.uptime(),v=M-c):Date.now?(ie.exports=function(){return Date.now()-S},S=Date.now()):(ie.exports=function(){return(new Date).getTime()-S},S=(new Date).getTime())}).call(this)},71299:function(ie){"use strict";ie.exports=function(C,E,f){var S,M,v={};if("string"==typeof E&&(E=r(E)),Array.isArray(E)){var c={};for(M=0;M<E.length;M++)c[E[M]]=!0;E=c}for(S in E)E[S]=r(E[S]);var i={};for(S in E){var u=E[S];if(Array.isArray(u))for(M=0;M<u.length;M++){var a=u[M];if(f&&(i[a]=!0),a in C){if(v[S]=C[a],f)for(var o=M;o<u.length;o++)i[u[o]]=!0;break}}else S in C&&(E[S]&&(v[S]=C[S]),f&&(i[S]=!0))}if(f)for(S in C)i[S]||(v[S]=C[S]);return v};var z={};function r(C){return z[C]?z[C]:("string"==typeof C&&(C=z[C]=C.split(/\s*,\s*|\s+/)),C)}},38258:function(ie){ie.exports=function(z,r,C,E){var f=z[0],S=z[1],M=!1;void 0===C&&(C=0),void 0===E&&(E=r.length);for(var v=E-C,c=0,i=v-1;c<v;i=c++){var u=r[c+C][0],a=r[c+C][1],l=r[i+C][1];a>S!=l>S&&f<(r[i+C][0]-u)*(S-a)/(l-a)+u&&(M=!M)}return M}},52142:function(ie,z,r){var C,E=r(69444),f=r(29023),S=r(87263),M=r(11328),v=r(55968),c=r(10670),i=!1,u=f();function a(o,l,s){var d=C.segments(o),g=C.segments(l),p=s(C.combine(d,g));return C.polygon(p)}C={buildLog:function(o){return!0===o?i=E():!1===o&&(i=!1),!1!==i&&i.list},epsilon:function(o){return u.epsilon(o)},segments:function(o){var l=S(!0,u,i);return o.regions.forEach(l.addRegion),{segments:l.calculate(o.inverted),inverted:o.inverted}},combine:function(o,l){return{combined:S(!1,u,i).calculate(o.segments,o.inverted,l.segments,l.inverted),inverted1:o.inverted,inverted2:l.inverted}},selectUnion:function(o){return{segments:v.union(o.combined,i),inverted:o.inverted1||o.inverted2}},selectIntersect:function(o){return{segments:v.intersect(o.combined,i),inverted:o.inverted1&&o.inverted2}},selectDifference:function(o){return{segments:v.difference(o.combined,i),inverted:o.inverted1&&!o.inverted2}},selectDifferenceRev:function(o){return{segments:v.differenceRev(o.combined,i),inverted:!o.inverted1&&o.inverted2}},selectXor:function(o){return{segments:v.xor(o.combined,i),inverted:o.inverted1!==o.inverted2}},polygon:function(o){return{regions:M(o.segments,u,i),inverted:o.inverted}},polygonFromGeoJSON:function(o){return c.toPolygon(C,o)},polygonToGeoJSON:function(o){return c.fromPolygon(C,u,o)},union:function(o,l){return a(o,l,C.selectUnion)},intersect:function(o,l){return a(o,l,C.selectIntersect)},difference:function(o,l){return a(o,l,C.selectDifference)},differenceRev:function(o,l){return a(o,l,C.selectDifferenceRev)},xor:function(o,l){return a(o,l,C.selectXor)}},"object"==typeof window&&(window.PolyBool=C),ie.exports=C},69444:function(ie){ie.exports=function(){var z,r=0,C=!1;function E(f,S){return z.list.push({type:f,data:S?JSON.parse(JSON.stringify(S)):void 0}),z}return z={list:[],segmentId:function(){return r++},checkIntersection:function(f,S){return E("check",{seg1:f,seg2:S})},segmentChop:function(f,S){return E("div_seg",{seg:f,pt:S}),E("chop",{seg:f,pt:S})},statusRemove:function(f){return E("pop_seg",{seg:f})},segmentUpdate:function(f){return E("seg_update",{seg:f})},segmentNew:function(f,S){return E("new_seg",{seg:f,primary:S})},segmentRemove:function(f){return E("rem_seg",{seg:f})},tempStatus:function(f,S,M){return E("temp_status",{seg:f,above:S,below:M})},rewind:function(f){return E("rewind",{seg:f})},status:function(f,S,M){return E("status",{seg:f,above:S,below:M})},vert:function(f){return f===C?z:(C=f,E("vert",{x:f}))},log:function(f){return"string"!=typeof f&&(f=JSON.stringify(f,!1,"  ")),E("log",{txt:f})},reset:function(){return E("reset")},selected:function(f){return E("selected",{segs:f})},chainStart:function(f){return E("chain_start",{seg:f})},chainRemoveHead:function(f,S){return E("chain_rem_head",{index:f,pt:S})},chainRemoveTail:function(f,S){return E("chain_rem_tail",{index:f,pt:S})},chainNew:function(f,S){return E("chain_new",{pt1:f,pt2:S})},chainMatch:function(f){return E("chain_match",{index:f})},chainClose:function(f){return E("chain_close",{index:f})},chainAddHead:function(f,S){return E("chain_add_head",{index:f,pt:S})},chainAddTail:function(f,S){return E("chain_add_tail",{index:f,pt:S})},chainConnect:function(f,S){return E("chain_con",{index1:f,index2:S})},chainReverse:function(f){return E("chain_rev",{index:f})},chainJoin:function(f,S){return E("chain_join",{index1:f,index2:S})},done:function(){return E("done")}}}},29023:function(ie){ie.exports=function(z){"number"!=typeof z&&(z=1e-10);var r={epsilon:function(C){return"number"==typeof C&&(z=C),z},pointAboveOrOnLine:function(C,E,f){var S=E[0],M=E[1];return(f[0]-S)*(C[1]-M)-(f[1]-M)*(C[0]-S)>=-z},pointBetween:function(C,E,f){var M=f[0]-E[0],c=f[1]-E[1],i=(C[0]-E[0])*M+(C[1]-E[1])*c;return!(i<z||i-(M*M+c*c)>-z)},pointsSameX:function(C,E){return Math.abs(C[0]-E[0])<z},pointsSameY:function(C,E){return Math.abs(C[1]-E[1])<z},pointsSame:function(C,E){return r.pointsSameX(C,E)&&r.pointsSameY(C,E)},pointsCompare:function(C,E){return r.pointsSameX(C,E)?r.pointsSameY(C,E)?0:C[1]<E[1]?-1:1:C[0]<E[0]?-1:1},pointsCollinear:function(C,E,f){return Math.abs((C[0]-E[0])*(E[1]-f[1])-(E[0]-f[0])*(C[1]-E[1]))<z},linesIntersect:function(C,E,f,S){var M=E[0]-C[0],v=E[1]-C[1],c=S[0]-f[0],i=S[1]-f[1],u=M*i-v*c;if(Math.abs(u)<z)return!1;var a=C[0]-f[0],o=C[1]-f[1],l=(c*o-i*a)/u,s=(M*o-v*a)/u,d={alongA:0,alongB:0,pt:[C[0]+l*M,C[1]+l*v]};return d.alongA=l<=-z?-2:l<z?-1:l-1<=-z?0:l-1<z?1:2,d.alongB=s<=-z?-2:s<z?-1:s-1<=-z?0:s-1<z?1:2,d},pointInsideRegion:function(C,E){for(var f=C[0],S=C[1],M=E[E.length-1][0],v=E[E.length-1][1],c=!1,i=0;i<E.length;i++){var u=E[i][0],a=E[i][1];a-S>z!=v-S>z&&(M-u)*(S-a)/(v-a)+u-f>z&&(c=!c),M=u,v=a}return c}};return r}},10670:function(ie){ie.exports={toPolygon:function(r,C){function E(M){if(M.length<=0)return r.segments({inverted:!1,regions:[]});function v(u){var a=u.slice(0,u.length-1);return r.segments({inverted:!1,regions:[a]})}for(var c=v(M[0]),i=1;i<M.length;i++)c=r.selectDifference(r.combine(c,v(M[i])));return c}if("Polygon"===C.type)return r.polygon(E(C.coordinates));if("MultiPolygon"===C.type){for(var f=r.segments({inverted:!1,regions:[]}),S=0;S<C.coordinates.length;S++)f=r.selectUnion(r.combine(f,E(C.coordinates[S])));return r.polygon(f)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(r,C,E){function f(s,d){return C.pointInsideRegion([.5*(s[0][0]+s[1][0]),.5*(s[0][1]+s[1][1])],d)}function S(s){return{region:s,children:[]}}E=r.polygon(r.segments(E));var M=S(null);function v(s,d){for(var g=0;g<s.children.length;g++)if(f(d,(T=s.children[g]).region))return void v(T,d);var p=S(d);for(g=0;g<s.children.length;g++){var T;f((T=s.children[g]).region,d)&&(p.children.push(T),s.children.splice(g,1),g--)}s.children.push(p)}for(var c=0;c<E.regions.length;c++){var i=E.regions[c];i.length<3||v(M,i)}function u(s,d){for(var g=0,p=s[s.length-1][0],T=s[s.length-1][1],_=[],y=0;y<s.length;y++){var w=s[y][0],m=s[y][1];_.push([w,m]),g+=m*p-w*T,p=w,T=m}return g<0!==d&&_.reverse(),_.push([_[0][0],_[0][1]]),_}var a=[];function o(s){var d=[u(s.region,!1)];a.push(d);for(var g=0;g<s.children.length;g++)d.push(l(s.children[g]))}function l(s){for(var d=0;d<s.children.length;d++)o(s.children[d]);return u(s.region,!0)}for(c=0;c<M.children.length;c++)o(M.children[c]);return a.length<=0?{type:"Polygon",coordinates:[]}:1==a.length?{type:"Polygon",coordinates:a[0]}:{type:"MultiPolygon",coordinates:a}}}},87263:function(ie,z,r){var C=r(26859);ie.exports=function(E,f,S){function M(o,l,s){return{id:S?S.segmentId():-1,start:o,end:l,myFill:{above:s.myFill.above,below:s.myFill.below},otherFill:null}}var v=C.create();function c(o,l){v.insertBefore(o,function(s){return d=o.isStart,p=l,T=s.isStart,y=s.other.pt,(0!==(w=f.pointsCompare(o.pt,_=s.pt))?w:f.pointsSame(p,y)?0:d!==T?d?1:-1:f.pointAboveOrOnLine(p,T?_:y,T?y:_)?1:-1)<0;var d,p,T,_,y,w})}function i(o,l){var d,p,s=(c(p=C.node({isStart:!0,pt:(d=o).start,seg:d,primary:l,other:null,status:null}),d.end),p);return function(d,g,p){var T=C.node({isStart:!1,pt:g.end,seg:g,primary:p,other:d,status:null});d.other=T,c(T,d.pt)}(s,o,l),s}function u(o,l){var d,g,s=M(l,o.seg.end,o.seg);return d=o,g=l,S&&S.segmentChop(d.seg,g),d.other.remove(),d.seg.end=g,d.other.pt=g,c(d.other,d.pt),i(s,o.primary)}function a(o,l){var s=C.create();function d(I){return s.findTransition(function(P){var L,N,B,W,j,Z;return W=(L=I).seg.end,(f.pointsCollinear(B=L.seg.start,j=(N=P.ev).seg.start,Z=N.seg.end)?f.pointsCollinear(W,j,Z)||f.pointAboveOrOnLine(W,j,Z)?1:-1:f.pointAboveOrOnLine(B,j,Z)?1:-1)>0})}function g(I,P){var L=I.seg,N=P.seg,B=L.start,W=L.end,j=N.start,Z=N.end;S&&S.checkIntersection(L,N);var V=f.linesIntersect(B,W,j,Z);if(!1===V){if(!f.pointsCollinear(B,W,j)||f.pointsSame(B,Z)||f.pointsSame(W,j))return!1;var q=f.pointsSame(B,j),G=f.pointsSame(W,Z);if(q&&G)return P;var H=!q&&f.pointBetween(B,j,Z),ne=!G&&f.pointBetween(W,j,Z);if(q)return ne?u(P,W):u(I,Z),P;H&&(G||(ne?u(P,W):u(I,Z)),u(P,B))}else 0===V.alongA&&(-1===V.alongB?u(I,j):0===V.alongB?u(I,V.pt):1===V.alongB&&u(I,Z)),0===V.alongB&&(-1===V.alongA?u(P,B):0===V.alongA?u(P,V.pt):1===V.alongA&&u(P,W));return!1}for(var p=[];!v.isEmpty();){var T=v.getHead();if(S&&S.vert(T.pt[0]),T.isStart){let I=function(){if(y){var P=g(T,y);if(P)return P}return!!w&&g(T,w)};S&&S.segmentNew(T.seg,T.primary);var _=d(T),y=_.before?_.before.ev:null,w=_.after?_.after.ev:null;S&&S.tempStatus(T.seg,!!y&&y.seg,!!w&&w.seg);var m,b,k=I();if(k&&(E?(b=null===T.seg.myFill.below||T.seg.myFill.above!==T.seg.myFill.below)&&(k.seg.myFill.above=!k.seg.myFill.above):k.seg.otherFill=T.seg.myFill,S&&S.segmentUpdate(k.seg),T.other.remove(),T.remove()),v.getHead()!==T){S&&S.rewind(T.seg);continue}E?(b=null===T.seg.myFill.below||T.seg.myFill.above!==T.seg.myFill.below,T.seg.myFill.below=w?w.seg.myFill.above:o,T.seg.myFill.above=b?!T.seg.myFill.below:T.seg.myFill.below):null===T.seg.otherFill&&(T.seg.otherFill={above:m=w?T.primary===w.primary?w.seg.otherFill.above:w.seg.myFill.above:T.primary?l:o,below:m}),S&&S.status(T.seg,!!y&&y.seg,!!w&&w.seg),T.other.status=_.insert(C.node({ev:T}))}else{var h=T.status;if(null===h)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(s.exists(h.prev)&&s.exists(h.next)&&g(h.prev.ev,h.next.ev),S&&S.statusRemove(h.ev.seg),h.remove(),!T.primary){var O=T.seg.myFill;T.seg.myFill=T.seg.otherFill,T.seg.otherFill=O}p.push(T.seg)}v.getHead().remove()}return S&&S.done(),p}return E?{addRegion:function(o){for(var l,s,d,g=o[o.length-1],p=0;p<o.length;p++){var T=f.pointsCompare(l=g,g=o[p]);0!==T&&i((s=T<0?l:g,d=T<0?g:l,{id:S?S.segmentId():-1,start:s,end:d,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(o){return a(o,!1)}}:{calculate:function(o,l,s,d){return o.forEach(function(g){i(M(g.start,g.end,g),!0)}),s.forEach(function(g){i(M(g.start,g.end,g),!1)}),a(l,d)}}}},26859:function(ie){ie.exports={create:function(){var z={root:{root:!0,next:null},exists:function(r){return null!==r&&r!==z.root},isEmpty:function(){return null===z.root.next},getHead:function(){return z.root.next},insertBefore:function(r,C){for(var E=z.root,f=z.root.next;null!==f;){if(C(f))return r.prev=f.prev,r.next=f,f.prev.next=r,void(f.prev=r);E=f,f=f.next}E.next=r,r.prev=E,r.next=null},findTransition:function(r){for(var C=z.root,E=z.root.next;null!==E&&!r(E);)C=E,E=E.next;return{before:C===z.root?null:C,after:E,insert:function(f){return f.prev=C,f.next=E,C.next=f,null!==E&&(E.prev=f),f}}}};return z},node:function(z){return z.prev=null,z.next=null,z.remove=function(){z.prev.next=z.next,z.next&&(z.next.prev=z.prev),z.prev=null,z.next=null},z}}},11328:function(ie){ie.exports=function(z,r,C){var E=[],f=[];return z.forEach(function(S){var M=S.start,v=S.end;if(r.pointsSame(M,v))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{C&&C.chainStart(S);for(var c={index:0,matches_head:!1,matches_pt1:!1},i={index:0,matches_head:!1,matches_pt1:!1},u=c,a=0;a<E.length;a++){var o=(p=E[a])[0],l=p[p.length-1];if(r.pointsSame(o,M)){if(h(a,!0,!0))break}else if(r.pointsSame(o,v)){if(h(a,!0,!1))break}else if(r.pointsSame(l,M)){if(h(a,!1,!0))break}else if(r.pointsSame(l,v)&&h(a,!1,!1))break}if(u===c)return E.push([M,v]),void(C&&C.chainNew(M,v));if(u===i){C&&C.chainMatch(c.index);var s=c.index,d=c.matches_pt1?v:M,g=c.matches_head,p=E[s],T=g?p[0]:p[p.length-1],_=g?p[1]:p[p.length-2],y=g?p[p.length-1]:p[0],w=g?p[p.length-2]:p[1];return r.pointsCollinear(_,T,d)&&(g?(C&&C.chainRemoveHead(c.index,d),p.shift()):(C&&C.chainRemoveTail(c.index,d),p.pop()),T=_),r.pointsSame(y,d)?(E.splice(s,1),r.pointsCollinear(w,y,T)&&(g?(C&&C.chainRemoveTail(c.index,T),p.pop()):(C&&C.chainRemoveHead(c.index,T),p.shift())),C&&C.chainClose(c.index),void f.push(p)):void(g?(C&&C.chainAddHead(c.index,d),p.unshift(d)):(C&&C.chainAddTail(c.index,d),p.push(d)))}var m=c.index,b=i.index;C&&C.chainConnect(m,b);var k=E[m].length<E[b].length;c.matches_head?i.matches_head?k?(O(m),A(m,b)):(O(b),A(b,m)):A(b,m):i.matches_head?A(m,b):k?(O(m),A(b,m)):(O(b),A(m,b))}function h(I,P,L){return u.index=I,u.matches_head=P,u.matches_pt1=L,u===c?(u=i,!1):(u=null,!0)}function O(I){C&&C.chainReverse(I),E[I].reverse()}function A(I,P){var L=E[I],N=E[P],B=L[L.length-1],W=L[L.length-2],j=N[0],Z=N[1];r.pointsCollinear(W,B,j)&&(C&&C.chainRemoveTail(I,B),L.pop(),B=W),r.pointsCollinear(B,j,Z)&&(C&&C.chainRemoveHead(P,j),N.shift()),C&&C.chainJoin(I,P),E[I]=L.concat(N),E.splice(P,1)}}),f}},55968:function(ie){function z(C,E,f){var S=[];return C.forEach(function(M){var v=(M.myFill.above?8:0)+(M.myFill.below?4:0)+(M.otherFill&&M.otherFill.above?2:0)+(M.otherFill&&M.otherFill.below?1:0);0!==E[v]&&S.push({id:f?f.segmentId():-1,start:M.start,end:M.end,myFill:{above:1===E[v],below:2===E[v]},otherFill:null})}),f&&f.selected(S),S}ie.exports={union:function(C,E){return z(C,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],E)},intersect:function(C,E){return z(C,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],E)},difference:function(C,E){return z(C,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],E)},differenceRev:function(C,E){return z(C,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],E)},xor:function(C,E){return z(C,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],E)}}},14847:function(ie,z,r){"use strict";var C=r(21630).Transform,E=r(90715);function f(){C.call(this,{readableObjectMode:!0})}function S(M,v,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||"",this.name=this.constructor.name,this.message=M,v&&(this.code=v),c&&(this.statusCode=c)}(f.prototype=Object.create(C.prototype)).constructor=f,E(f.prototype),z.OF=function(M,v,c){for(var i=v,u=0;u<c.length;)if(M[i++]!==c[u++])return!1;return!0},z.eG=function(M,v){var c=[],i=0;if(v&&"hex"===v)for(;i<M.length;)c.push(parseInt(M.slice(i,i+2),16)),i+=2;else for(;i<M.length;i++)c.push(255&M.charCodeAt(i));return c},z.mP=function(M,v){return M[v]|M[v+1]<<8},z.n8=function(M,v){return M[v+1]|M[v]<<8},z.nm=function(M,v){return M[v]|M[v+1]<<8|M[v+2]<<16|16777216*M[v+3]},z.Ag=function(M,v){return M[v+3]|M[v+2]<<8|M[v+1]<<16|16777216*M[v]},(S.prototype=Object.create(Error.prototype)).constructor=S},71371:function(ie){"use strict";function z(E,f){var S=new Error(E);return S.code=f,S}function r(E){try{return decodeURIComponent(escape(E))}catch{return E}}function C(E,f,S){this.input=E.subarray(f,S),this.start=f;var M=String.fromCharCode.apply(null,this.input.subarray(0,4));if("II*\0"!==M&&"MM\0*"!==M)throw z("invalid TIFF signature","EBADDATA");this.big_endian="M"===M[0]}C.prototype.each=function(E){this.aborted=!1;var f=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:f}];this.ifds_to_read.length>0&&!this.aborted;){var S=this.ifds_to_read.shift();S.offset&&this.scan_ifd(S.id,S.offset,E)}},C.prototype.read_uint16=function(E){var f=this.input;if(E+2>f.length)throw z("unexpected EOF","EBADDATA");return this.big_endian?256*f[E]+f[E+1]:f[E]+256*f[E+1]},C.prototype.read_uint32=function(E){var f=this.input;if(E+4>f.length)throw z("unexpected EOF","EBADDATA");return this.big_endian?16777216*f[E]+65536*f[E+1]+256*f[E+2]+f[E+3]:f[E]+256*f[E+1]+65536*f[E+2]+16777216*f[E+3]},C.prototype.is_subifd_link=function(E,f){return 0===E&&34665===f||0===E&&34853===f||34665===E&&40965===f},C.prototype.exif_format_length=function(E){switch(E){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},C.prototype.exif_format_read=function(E,f){var S;switch(E){case 1:case 2:return this.input[f];case 6:return(S=this.input[f])|33554430*(128&S);case 3:return this.read_uint16(f);case 8:return(S=this.read_uint16(f))|131070*(32768&S);case 4:return this.read_uint32(f);case 9:return 0|this.read_uint32(f);default:return null}},C.prototype.scan_ifd=function(E,f,S){var M=this.read_uint16(f);f+=2;for(var v=0;v<M;v++){var c=this.read_uint16(f),i=this.read_uint16(f+2),u=this.read_uint32(f+4),a=this.exif_format_length(i),o=u*a,l=o<=4?f+8:this.read_uint32(f+8),s=!1;if(l+o>this.input.length)throw z("unexpected EOF","EBADDATA");for(var d=[],g=l,p=0;p<u;p++,g+=a){var T=this.exif_format_read(i,g);if(null===T){d=null;break}d.push(T)}if(Array.isArray(d)&&2===i&&(d=r(String.fromCharCode.apply(null,d)))&&"\0"===d[d.length-1]&&(d=d.slice(0,-1)),this.is_subifd_link(E,c)&&Array.isArray(d)&&Number.isInteger(d[0])&&d[0]>0&&(this.ifds_to_read.push({id:c,offset:d[0]}),s=!0),!1===S({is_big_endian:this.big_endian,ifd:E,tag:c,format:i,count:u,entry_offset:f+this.start,data_length:o,data_offset:l+this.start,value:d,is_subifd_link:s}))return void(this.aborted=!0);f+=12}0===E&&this.ifds_to_read.push({id:1,offset:this.read_uint32(f)})},ie.exports.ExifParser=C,ie.exports.get_orientation=function(E){var f=0;try{return new C(E,0,E.length).each(function(S){if(0===S.ifd&&274===S.tag&&Array.isArray(S.value))return f=S.value[0],!1}),f}catch{return-1}}},76767:function(ie,z,r){"use strict";var C=r(14847).n8,E=r(14847).Ag;function f(u,a){if(u.length<4+a)return null;var o=E(u,a);return u.length<o+a||o<8?null:{boxtype:String.fromCharCode.apply(null,u.slice(a+4,a+8)),data:u.slice(a+8,a+o),end:a+o}}function S(u,a){for(var o=0;;){var l=f(u,o);if(!l)break;switch(l.boxtype){case"ispe":a.sizes.push({width:E(l.data,4),height:E(l.data,8)});break;case"irot":a.transforms.push({type:"irot",value:3&l.data[0]});break;case"imir":a.transforms.push({type:"imir",value:1&l.data[0]})}o=l.end}}function M(u,a,o){for(var l=0,s=0;s<o;s++)l=256*l+(u[a+s]||0);return l}function v(u,a){for(var o=u[4]>>4&15,l=15&u[4],s=u[5]>>4&15,d=C(u,6),g=8,p=0;p<d;p++){var T=C(u,g),_=C(u,g+=2),y=M(u,g+=2,s),w=C(u,g+=s);if(g+=2,0===_&&1===w){var m=M(u,g,o),b=M(u,g+o,l);a.item_loc[T]={length:b,offset:m+y}}g+=w*(o+l)}}function c(u,a){for(var o=C(u,4),l=6,s=0;s<o;s++){var d=f(u,l);if(!d)break;if("infe"===d.boxtype){for(var g=C(d.data,4),p="",T=8;T<d.data.length&&d.data[T];T++)p+=String.fromCharCode(d.data[T]);a.item_inf[p]=g}l=d.end}}function i(u,a){for(var o=0;;){var l=f(u,o);if(!l)break;"ipco"===l.boxtype&&S(l.data,a),o=l.end}}ie.exports.unbox=f,ie.exports.readSizeFromMeta=function(u){var a={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(function(T,_){for(var y=4;;){var w=f(T,y);if(!w)break;"iprp"===w.boxtype&&i(w.data,_),"iloc"===w.boxtype&&v(w.data,_),"iinf"===w.boxtype&&c(w.data,_),y=w.end}}(u,a),a.sizes.length){var o,l,s,d=(l=(o=a.sizes).reduce(function(T,_){return T.width>_.width||T.width===_.width&&T.height>_.height?T:_}),s=o.reduce(function(T,_){return T.height>_.height||T.height===_.height&&T.width>_.width?T:_}),l.width>s.height||l.width===s.height&&l.height>s.width?l:s),g=1;a.transforms.forEach(function(T){var _={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},y={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if("imir"===T.type&&(g=0===T.value?y[g]:_[g=_[g=y[g]]]),"irot"===T.type)for(var w=0;w<T.value;w++)g=_[g]});var p=null;return a.item_inf.Exif&&(p=a.item_loc[a.item_inf.Exif]),{width:d.width,height:d.height,orientation:a.transforms.length?g:null,variants:a.sizes,exif_location:p}}},ie.exports.getMimeType=function(u){var a=String.fromCharCode.apply(null,u.slice(0,4)),o={};o[a]=!0;for(var l=8;l<u.length;l+=4)o[String.fromCharCode.apply(null,u.slice(l,l+4))]=!0;if(o.mif1||o.msf1||o.miaf)return"avif"===a||"avis"===a||"avio"===a?{type:"avif",mime:"image/avif"}:"heic"===a||"heix"===a?{type:"heic",mime:"image/heic"}:"hevc"===a||"hevx"===a?{type:"heic",mime:"image/heic-sequence"}:o.avif||o.avis?{type:"avif",mime:"image/avif"}:o.heic||o.heix||o.hevc||o.hevx||o.heis?o.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},24461:function(ie,z,r){"use strict";var C=r(14847).eG,E=r(14847).OF,f=r(14847).Ag,S=r(76767),M=r(71371),v=C("ftyp");ie.exports=function(c){if(E(c,4,v)){var i=S.unbox(c,0);if(i){var u=S.getMimeType(i.data);if(u){for(var a,o=i.end;;){var l=S.unbox(c,o);if(!l)break;if(o=l.end,"mdat"===l.boxtype)return;if("meta"===l.boxtype){a=l.data;break}}if(a){var s=S.readSizeFromMeta(a);if(s){var d={width:s.width,height:s.height,type:u.type,mime:u.mime,wUnits:"px",hUnits:"px"};if(s.variants.length>1&&(d.variants=s.variants),s.orientation&&(d.orientation=s.orientation),s.exif_location&&s.exif_location.offset+s.exif_location.length<=c.length){var g=f(c,s.exif_location.offset),p=c.slice(s.exif_location.offset+g+4,s.exif_location.offset+s.exif_location.length),T=M.get_orientation(p);T>0&&(d.orientation=T)}return d}}}}}}},2504:function(ie,z,r){"use strict";var C=r(14847).eG,E=r(14847).OF,f=r(14847).mP,S=C("BM");ie.exports=function(M){if(!(M.length<26)&&E(M,0,S))return{width:f(M,18),height:f(M,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},47342:function(ie,z,r){"use strict";var C=r(14847).eG,E=r(14847).OF,f=r(14847).mP,S=C("GIF87a"),M=C("GIF89a");ie.exports=function(v){if(!(v.length<10)&&(E(v,0,S)||E(v,0,M)))return{width:f(v,6),height:f(v,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},31355:function(ie,z,r){"use strict";var C=r(14847).mP;ie.exports=function(E){var f=C(E,0),S=C(E,2),M=C(E,4);if(0===f&&1===S&&M){for(var v=[],c={width:0,height:0},i=0;i<M;i++){var u=E[6+16*i]||256,a=E[6+16*i+1]||256,o={width:u,height:a};v.push(o),(u>c.width||a>c.height)&&(c=o)}return{width:c.width,height:c.height,variants:v,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},54261:function(ie,z,r){"use strict";var C=r(14847).n8,E=r(14847).eG,f=r(14847).OF,S=r(71371),M=E("Exif\0\0");ie.exports=function(v){if(!(v.length<2)&&255===v[0]&&216===v[1]&&255===v[2])for(var c=2;;){for(;;){if(v.length-c<2)return;if(255===v[c++])break}for(var i,u,a=v[c++];255===a;)a=v[c++];if(208<=a&&a<=217||1===a)i=0;else{if(!(192<=a&&a<=254)||v.length-c<2)return;i=C(v,c)-2,c+=2}if(217===a||218===a)return;if(225===a&&i>=10&&f(v,c,M)&&(u=S.get_orientation(v.slice(c+6,c+i))),i>=5&&192<=a&&a<=207&&196!==a&&200!==a&&204!==a){if(v.length-c<i)return;var o={width:C(v,c+3),height:C(v,c+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return u>0&&(o.orientation=u),o}c+=i}}},6303:function(ie,z,r){"use strict";var C=r(14847).eG,E=r(14847).OF,f=r(14847).Ag,S=C("\x89PNG\r\n\x1a\n"),M=C("IHDR");ie.exports=function(v){if(!(v.length<24)&&E(v,0,S)&&E(v,12,M))return{width:f(v,16),height:f(v,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},38689:function(ie,z,r){"use strict";var C=r(14847).eG,E=r(14847).OF,f=r(14847).Ag,S=C("8BPS\0\x01");ie.exports=function(M){if(!(M.length<22)&&E(M,0,S))return{width:f(M,18),height:f(M,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},6881:function(ie){"use strict";function z(c){return"number"==typeof c&&isFinite(c)&&c>0}var r=/<[-_.:a-zA-Z0-9][^>]*>/,C=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,E=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,f=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,S=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,M=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function v(c){return M.test(c)?c.match(M)[0]:"px"}ie.exports=function(c){if(function(y){var w,m=0,b=y.length;for(239===y[0]&&187===y[1]&&191===y[2]&&(m=3);m<b&&(32===(w=y[m])||9===w||13===w||10===w);)m++;return m!==b&&60===y[m]}(c)){for(var i="",u=0;u<c.length;u++)i+=String.fromCharCode(c[u]);var a=(i.match(r)||[""])[0];if(C.test(a)){var o=(w=(y=a).match(E),m=y.match(f),b=y.match(S),{width:w&&(w[1]||w[2]),height:m&&(m[1]||m[2]),viewbox:b&&(b[1]||b[2])}),l=parseFloat(o.width),s=parseFloat(o.height);if(o.width&&o.height)return z(l)&&z(s)?{width:l,height:s,type:"svg",mime:"image/svg+xml",wUnits:v(o.width),hUnits:v(o.height)}:void 0;var d=(o.viewbox||"").split(" "),g={width:d[2],height:d[3]},p=parseFloat(g.width),T=parseFloat(g.height);if(z(p)&&z(T)&&v(g.width)===v(g.height)){var _=p/T;return o.width?z(l)?{width:l,height:l/_,type:"svg",mime:"image/svg+xml",wUnits:v(o.width),hUnits:v(o.width)}:void 0:o.height?z(s)?{width:s*_,height:s,type:"svg",mime:"image/svg+xml",wUnits:v(o.height),hUnits:v(o.height)}:void 0:{width:p,height:T,type:"svg",mime:"image/svg+xml",wUnits:v(g.width),hUnits:v(g.height)}}}}var y,w,m,b}},66278:function(ie,z,r){"use strict";var C=r(14847).eG,E=r(14847).OF,f=r(14847).mP,S=r(14847).n8,M=r(14847).nm,v=r(14847).Ag,c=C("II*\0"),i=C("MM\0*");function u(l,s,d){return d?S(l,s):f(l,s)}function a(l,s,d){return d?v(l,s):M(l,s)}function o(l,s,d){var g=u(l,s+2,d);return 1!==a(l,s+4,d)||3!==g&&4!==g?null:3===g?u(l,s+8,d):a(l,s+8,d)}ie.exports=function(l){if(!(l.length<8)&&(E(l,0,c)||E(l,0,i))){var s=77===l[0],d=a(l,4,s)-8;if(!(d<0)){var g=d+8;if(!(l.length-g<2)){var p=12*u(l,g+0,s);if(!(p<=0||(g+=2,l.length-g<p))){var T,_,y,w;for(T=0;T<p;T+=12)256===(w=u(l,g+T,s))?_=o(l,g+T,s):257===w&&(y=o(l,g+T,s));return _&&y?{width:_,height:y,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}:void 0}}}}}},90784:function(ie,z,r){"use strict";var C=r(14847).eG,E=r(14847).OF,f=r(14847).mP,S=r(14847).nm,M=r(71371),v=C("RIFF"),c=C("WEBP");function i(o,l){if(157===o[l+3]&&1===o[l+4]&&42===o[l+5])return{width:16383&f(o,l+6),height:16383&f(o,l+8),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function u(o,l){if(47===o[l]){var s=S(o,l+1);return{width:1+(16383&s),height:1+(s>>14&16383),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function a(o,l){return{width:1+(o[l+6]<<16|o[l+5]<<8|o[l+4]),height:1+(o[l+9]<<l|o[l+8]<<8|o[l+7]),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}ie.exports=function(o){if(!(o.length<16)&&(E(o,0,v)||E(o,8,c))){var l=12,s=null,d=0,g=S(o,4)+8;if(!(g>o.length)){for(;l+8<g;)if(0!==o[l]){var p=String.fromCharCode.apply(null,o.slice(l,l+4)),T=S(o,l+4);"VP8 "===p&&T>=10?s=s||i(o,l+8):"VP8L"===p&&T>=9?s=s||u(o,l+8):"VP8X"===p&&T>=10?s=s||a(o,l+8):"EXIF"===p&&(d=M.get_orientation(o.slice(l+8,l+8+T)),l=1/0),l+=8+T}else l++;if(s)return d>0&&(s.orientation=d),s}}}},91497:function(ie,z,r){"use strict";ie.exports={avif:r(24461),bmp:r(2504),gif:r(47342),ico:r(31355),jpeg:r(54261),png:r(6303),psd:r(38689),svg:r(6881),tiff:r(66278),webp:r(90784)}},33575:function(ie,z,r){"use strict";var C=r(91497);ie.exports=function(E){return function(f){for(var S=Object.keys(C),M=0;M<S.length;M++){var v=C[S[M]](f);if(v)return v}return null}(E)},ie.exports.parsers=C},90386:function(ie){var z,r,C=ie.exports={};function E(){throw new Error("setTimeout has not been defined")}function f(){throw new Error("clearTimeout has not been defined")}function S(s){if(z===setTimeout)return setTimeout(s,0);if((z===E||!z)&&setTimeout)return z=setTimeout,setTimeout(s,0);try{return z(s,0)}catch{try{return z.call(null,s,0)}catch{return z.call(this,s,0)}}}!function(){try{z="function"==typeof setTimeout?setTimeout:E}catch{z=E}try{r="function"==typeof clearTimeout?clearTimeout:f}catch{r=f}}();var M,v=[],c=!1,i=-1;function u(){c&&M&&(c=!1,M.length?v=M.concat(v):i=-1,v.length&&a())}function a(){if(!c){var s=S(u);c=!0;for(var d=v.length;d;){for(M=v,v=[];++i<d;)M&&M[i].run();i=-1,d=v.length}M=null,c=!1,function(g){if(r===clearTimeout)return clearTimeout(g);if((r===f||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(g);try{r(g)}catch{try{return r.call(null,g)}catch{return r.call(this,g)}}}(s)}}function o(s,d){this.fun=s,this.array=d}function l(){}C.nextTick=function(s){var d=new Array(arguments.length-1);if(arguments.length>1)for(var g=1;g<arguments.length;g++)d[g-1]=arguments[g];v.push(new o(s,d)),1!==v.length||c||S(a)},o.prototype.run=function(){this.fun.apply(null,this.array)},C.title="browser",C.browser=!0,C.env={},C.argv=[],C.version="",C.versions={},C.on=l,C.addListener=l,C.once=l,C.off=l,C.removeListener=l,C.removeAllListeners=l,C.emit=l,C.prependListener=l,C.prependOnceListener=l,C.listeners=function(s){return[]},C.binding=function(s){throw new Error("process.binding is not supported")},C.cwd=function(){return"/"},C.chdir=function(s){throw new Error("process.chdir is not supported")},C.umask=function(){return 0}},5877:function(ie,z,r){for(var C=r(9748),E=typeof window>"u"?r.g:window,f=["moz","webkit"],S="AnimationFrame",M=E["request"+S],v=E["cancel"+S]||E["cancelRequest"+S],c=0;!M&&c<f.length;c++)M=E[f[c]+"Request"+S],v=E[f[c]+"Cancel"+S]||E[f[c]+"CancelRequest"+S];if(!M||!v){var i=0,u=0,a=[];M=function(o){if(0===a.length){var l=C(),s=Math.max(0,16.666666666666668-(l-i));i=s+l,setTimeout(function(){var d=a.slice(0);a.length=0;for(var g=0;g<d.length;g++)if(!d[g].cancelled)try{d[g].callback(i)}catch(p){setTimeout(function(){throw p},0)}},Math.round(s))}return a.push({handle:++u,callback:o,cancelled:!1}),u},v=function(o){for(var l=0;l<a.length;l++)a[l].handle===o&&(a[l].cancelled=!0)}}ie.exports=function(o){return M.call(E,o)},ie.exports.cancel=function(){v.apply(E,arguments)},ie.exports.polyfill=function(o){o||(o=E),o.requestAnimationFrame=M,o.cancelAnimationFrame=v}},3593:function(ie,z,r){"use strict";var C=r(21527),E=r(25075),f=r(93447),S=r(71299),M=r(56131),v=r(30120),c=r(57060),i=c.float32,u=c.fract32;ie.exports=function(o,l){if("function"==typeof o?(l||(l={}),l.regl=o):l=o,l.length&&(l.positions=l),!(o=l.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var s,d,g,p,T,_,y=o._gl,w={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},m=[];return p=o.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),d=o.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),g=o.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),T=o.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),_=o.buffer({usage:"static",type:"float",data:a}),O(l),s=o({vert:"\n\t\tprecision highp float;\n\n\t\tattribute vec2 position, positionFract;\n\t\tattribute vec4 error;\n\t\tattribute vec4 color;\n\n\t\tattribute vec2 direction, lineOffset, capOffset;\n\n\t\tuniform vec4 viewport;\n\t\tuniform float lineWidth, capSize;\n\t\tuniform vec2 scale, scaleFract, translate, translateFract;\n\n\t\tvarying vec4 fragColor;\n\n\t\tvoid main() {\n\t\t\tfragColor = color / 255.;\n\n\t\t\tvec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;\n\n\t\t\tvec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;\n\n\t\t\tvec2 position = position + dxy;\n\n\t\t\tvec2 pos = (position + translate) * scale\n\t\t\t\t+ (positionFract + translateFract) * scale\n\t\t\t\t+ (position + translate) * scaleFract\n\t\t\t\t+ (positionFract + translateFract) * scaleFract;\n\n\t\t\tpos += pixelOffset / viewport.zw;\n\n\t\t\tgl_Position = vec4(pos * 2. - 1., 0, 1);\n\t\t}\n\t\t",frag:"\n\t\tprecision highp float;\n\n\t\tvarying vec4 fragColor;\n\n\t\tuniform float opacity;\n\n\t\tvoid main() {\n\t\t\tgl_FragColor = fragColor;\n\t\t\tgl_FragColor.a *= opacity;\n\t\t}\n\t\t",uniforms:{range:o.prop("range"),lineWidth:o.prop("lineWidth"),capSize:o.prop("capSize"),opacity:o.prop("opacity"),scale:o.prop("scale"),translate:o.prop("translate"),scaleFract:o.prop("scaleFract"),translateFract:o.prop("translateFract"),viewport:function(I,P){return[P.viewport.x,P.viewport.y,I.viewportWidth,I.viewportHeight]}},attributes:{color:{buffer:p,offset:function(I,P){return 4*P.offset},divisor:1},position:{buffer:d,offset:function(I,P){return 8*P.offset},divisor:1},positionFract:{buffer:g,offset:function(I,P){return 8*P.offset},divisor:1},error:{buffer:T,offset:function(I,P){return 16*P.offset},divisor:1},direction:{buffer:_,stride:24,offset:0},lineOffset:{buffer:_,stride:24,offset:8},capOffset:{buffer:_,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:o.prop("viewport")},viewport:o.prop("viewport"),stencil:!1,instances:o.prop("count"),count:a.length}),M(b,{update:O,draw:k,destroy:A,regl:o,gl:y,canvas:y.canvas,groups:m}),b;function b(I){I?O(I):null===I&&A(),k()}function k(I){if("number"==typeof I)return h(I);I&&!Array.isArray(I)&&(I=[I]),o._refresh(),m.forEach(function(P,L){P&&(I&&(P.draw=!!I[L]),P.draw?h(L):P.draw=!0)})}function h(I){"number"==typeof I&&(I=m[I]),null!=I&&I&&I.count&&I.color&&I.opacity&&I.positions&&I.positions.length>1&&(I.scaleRatio=[I.scale[0]*I.viewport.width,I.scale[1]*I.viewport.height],s(I),I.after&&I.after(I))}function O(I){if(I){null!=I.length?"number"==typeof I[0]&&(I=[{positions:I}]):Array.isArray(I)||(I=[I]);var P=0,L=0;if(b.groups=m=I.map(function(q,G){var H=m[G];return q&&("function"==typeof q?q={after:q}:"number"==typeof q[0]&&(q={positions:q}),q=S(q,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),H||(m[G]=H={id:G,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},q=M({},w,q)),f(H,q,[{lineWidth:function(ne){return.5*+ne},capSize:function(ne){return.5*+ne},opacity:parseFloat,errors:function(ne){return ne=v(ne),L+=ne.length,ne},positions:function(ne,X){return ne=v(ne,"float64"),X.count=Math.floor(ne.length/2),X.bounds=C(ne,2),X.offset=P,P+=X.count,ne}},{color:function(ne,X){var $=X.count;if(ne||(ne="transparent"),!Array.isArray(ne)||"number"==typeof ne[0]){var Q=ne;ne=Array($);for(var te=0;te<$;te++)ne[te]=Q}if(ne.length<$)throw Error("Not enough colors");for(var re=new Uint8Array(4*$),le=0;le<$;le++){var ue=E(ne[le],"uint8");re.set(ue,4*le)}return re},range:function(ne,X,$){return ne||(ne=X.bounds),X.scale=[1/(ne[2]-ne[0]),1/(ne[3]-ne[1])],X.translate=[-ne[0],-ne[1]],X.scaleFract=u(X.scale),X.translateFract=u(X.translate),ne},viewport:function(ne){var X;return Array.isArray(ne)?X={x:ne[0],y:ne[1],width:ne[2]-ne[0],height:ne[3]-ne[1]}:ne?((X={x:ne.x||ne.left||0,y:ne.y||ne.top||0}).width=ne.right?ne.right-X.x:ne.w||ne.width||0,X.height=ne.bottom?ne.bottom-X.y:ne.h||ne.height||0):X={x:0,y:0,width:y.drawingBufferWidth,height:y.drawingBufferHeight},X}}])),H}),P||L){var N=m.reduce(function(q,G,H){return q+(G?G.count:0)},0),B=new Float64Array(2*N),W=new Uint8Array(4*N),j=new Float32Array(4*N);m.forEach(function(q,G){if(q){var H=q.positions,X=q.offset,Q=q.errors;q.count&&(W.set(q.color,4*X),j.set(Q,4*X),B.set(H,2*X))}});var Z=i(B);d(Z);var V=u(B,Z);g(V),p(W),T(j)}}}function A(){d.destroy(),g.destroy(),p.destroy(),T.destroy(),_.destroy()}};var a=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]]},46075:function(ie,z,r){"use strict";var C=r(25075),E=r(21527),f=r(56131),S=r(56068),M=r(71299),v=r(30120),c=r(11474),i=r(54),u=r(57060),a=u.float32,o=u.fract32,l=r(83522),s=r(18863),d=r(6851);function g(p,T){if(!(this instanceof g))return new g(p,T);if("function"==typeof p?(T||(T={}),T.regl=p):T=p,T.length&&(T.positions=T),!(p=T.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=p._gl,this.regl=p,this.passes=[],this.shaders=g.shaders.has(p)?g.shaders.get(p):g.shaders.set(p,g.createShaders(p)).get(p),this.update(T)}ie.exports=g,g.dashMult=2,g.maxPatternLength=256,g.precisionThreshold=3e6,g.maxPoints=1e4,g.maxLines=2048,g.shaders=new l,g.createShaders=function(p){var T,_=p.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),y={primitive:"triangle strip",instances:p.prop("count"),count:4,offset:0,uniforms:{miterMode:function(m,b){return"round"===b.join?2:1},miterLimit:p.prop("miterLimit"),scale:p.prop("scale"),scaleFract:p.prop("scaleFract"),translateFract:p.prop("translateFract"),translate:p.prop("translate"),thickness:p.prop("thickness"),dashTexture:p.prop("dashTexture"),opacity:p.prop("opacity"),pixelRatio:p.context("pixelRatio"),id:p.prop("id"),dashLength:p.prop("dashLength"),viewport:function(m,b){return[b.viewport.x,b.viewport.y,m.viewportWidth,m.viewportHeight]},depth:p.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(m,b){return!b.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:p.prop("viewport")},viewport:p.prop("viewport")},w=p(f({vert:S(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;\nattribute vec4 color;\nattribute float lineEnd, lineTop;\n\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float thickness, pixelRatio, id, depth;\nuniform vec4 viewport;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\n\nvec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {\n\t// the order is important\n\treturn position * scale + translate\n       + positionFract * scale + translateFract\n       + position * scaleFract\n       + positionFract * scaleFract;\n}\n\nvoid main() {\n\tfloat lineStart = 1. - lineEnd;\n\tfloat lineOffset = lineTop * 2. - 1.;\n\n\tvec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);\n\ttangent = normalize(diff * scale * viewport.zw);\n\tvec2 normal = vec2(-tangent.y, tangent.x);\n\n\tvec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart\n\t\t+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd\n\n\t\t+ thickness * normal * .5 * lineOffset / viewport.zw;\n\n\tgl_Position = vec4(position * 2.0 - 1.0, depth, 1);\n\n\tfragColor = color / 255.;\n}\n"]),frag:S(["precision highp float;\n#define GLSLIFY 1\n\nuniform float dashLength, pixelRatio, thickness, opacity, id;\nuniform sampler2D dashTexture;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\n\nvoid main() {\n\tfloat alpha = 1.;\n\n\tfloat t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;\n\tfloat dash = texture2D(dashTexture, vec2(t, .5)).r;\n\n\tgl_FragColor = fragColor;\n\tgl_FragColor.a *= alpha * opacity * dash;\n}\n"]),attributes:{lineEnd:{buffer:_,divisor:0,stride:8,offset:0},lineTop:{buffer:_,divisor:0,stride:8,offset:4},aCoord:{buffer:p.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:p.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:p.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:p.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:p.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},y));try{T=p(f({cull:{enable:!0,face:"back"},vert:S(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aCoord, bCoord, nextCoord, prevCoord;\nattribute vec4 aColor, bColor;\nattribute float lineEnd, lineTop;\n\nuniform vec2 scale, translate;\nuniform float thickness, pixelRatio, id, depth;\nuniform vec4 viewport;\nuniform float miterLimit, miterMode;\n\nvarying vec4 fragColor;\nvarying vec4 startCutoff, endCutoff;\nvarying vec2 tangent;\nvarying vec2 startCoord, endCoord;\nvarying float enableStartMiter, enableEndMiter;\n\nconst float REVERSE_THRESHOLD = -.875;\nconst float MIN_DIFF = 1e-6;\n\n// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead\n// TODO: precalculate dot products, normalize things beforehead etc.\n// TODO: refactor to rectangular algorithm\n\nfloat distToLine(vec2 p, vec2 a, vec2 b) {\n\tvec2 diff = b - a;\n\tvec2 perp = normalize(vec2(-diff.y, diff.x));\n\treturn dot(p - a, perp);\n}\n\nbool isNaN( float val ){\n  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;\n}\n\nvoid main() {\n\tvec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;\n\n  vec2 adjustedScale;\n  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;\n  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;\n\n  vec2 scaleRatio = adjustedScale * viewport.zw;\n\tvec2 normalWidth = thickness / scaleRatio;\n\n\tfloat lineStart = 1. - lineEnd;\n\tfloat lineBot = 1. - lineTop;\n\n\tfragColor = (lineStart * aColor + lineEnd * bColor) / 255.;\n\n\tif (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;\n\n\tif (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);\n\tif (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);\n\n\tvec2 prevDiff = aCoord - prevCoord;\n\tvec2 currDiff = bCoord - aCoord;\n\tvec2 nextDiff = nextCoord - bCoord;\n\n\tvec2 prevTangent = normalize(prevDiff * scaleRatio);\n\tvec2 currTangent = normalize(currDiff * scaleRatio);\n\tvec2 nextTangent = normalize(nextDiff * scaleRatio);\n\n\tvec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);\n\tvec2 currNormal = vec2(-currTangent.y, currTangent.x);\n\tvec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);\n\n\tvec2 startJoinDirection = normalize(prevTangent - currTangent);\n\tvec2 endJoinDirection = normalize(currTangent - nextTangent);\n\n\t// collapsed/unidirectional segment cases\n\t// FIXME: there should be more elegant solution\n\tvec2 prevTanDiff = abs(prevTangent - currTangent);\n\tvec2 nextTanDiff = abs(nextTangent - currTangent);\n\tif (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {\n\t\tstartJoinDirection = currNormal;\n\t}\n\tif (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {\n\t\tendJoinDirection = currNormal;\n\t}\n\tif (aCoord == bCoord) {\n\t\tendJoinDirection = startJoinDirection;\n\t\tcurrNormal = prevNormal;\n\t\tcurrTangent = prevTangent;\n\t}\n\n\ttangent = currTangent;\n\n\t//calculate join shifts relative to normals\n\tfloat startJoinShift = dot(currNormal, startJoinDirection);\n\tfloat endJoinShift = dot(currNormal, endJoinDirection);\n\n\tfloat startMiterRatio = abs(1. / startJoinShift);\n\tfloat endMiterRatio = abs(1. / endJoinShift);\n\n\tvec2 startJoin = startJoinDirection * startMiterRatio;\n\tvec2 endJoin = endJoinDirection * endMiterRatio;\n\n\tvec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;\n\tstartTopJoin = sign(startJoinShift) * startJoin * .5;\n\tstartBotJoin = -startTopJoin;\n\n\tendTopJoin = sign(endJoinShift) * endJoin * .5;\n\tendBotJoin = -endTopJoin;\n\n\tvec2 aTopCoord = aCoord + normalWidth * startTopJoin;\n\tvec2 bTopCoord = bCoord + normalWidth * endTopJoin;\n\tvec2 aBotCoord = aCoord + normalWidth * startBotJoin;\n\tvec2 bBotCoord = bCoord + normalWidth * endBotJoin;\n\n\t//miter anti-clipping\n\tfloat baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));\n\tfloat abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));\n\n\t//prevent close to reverse direction switch\n\tbool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);\n\tbool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);\n\n\tif (prevReverse) {\n\t\t//make join rectangular\n\t\tvec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;\n\t\tfloat normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);\n\t\taBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;\n\t\taTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;\n\t}\n\telse if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {\n\t\t//handle miter clipping\n\t\tbTopCoord -= normalWidth * endTopJoin;\n\t\tbTopCoord += normalize(endTopJoin * normalWidth) * baClipping;\n\t}\n\n\tif (nextReverse) {\n\t\t//make join rectangular\n\t\tvec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;\n\t\tfloat normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);\n\t\tbBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;\n\t\tbTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;\n\t}\n\telse if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {\n\t\t//handle miter clipping\n\t\taBotCoord -= normalWidth * startBotJoin;\n\t\taBotCoord += normalize(startBotJoin * normalWidth) * abClipping;\n\t}\n\n\tvec2 aTopPosition = (aTopCoord) * adjustedScale + translate;\n\tvec2 aBotPosition = (aBotCoord) * adjustedScale + translate;\n\n\tvec2 bTopPosition = (bTopCoord) * adjustedScale + translate;\n\tvec2 bBotPosition = (bBotCoord) * adjustedScale + translate;\n\n\t//position is normalized 0..1 coord on the screen\n\tvec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;\n\n\tstartCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;\n\tendCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;\n\n\tgl_Position = vec4(position  * 2.0 - 1.0, depth, 1);\n\n\tenableStartMiter = step(dot(currTangent, prevTangent), .5);\n\tenableEndMiter = step(dot(currTangent, nextTangent), .5);\n\n\t//bevel miter cutoffs\n\tif (miterMode == 1.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tvec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;\n\t\t\tstartCutoff = vec4(aCoord, aCoord);\n\t\t\tstartCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;\n\t\t\tstartCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tstartCutoff += viewport.xyxy;\n\t\t\tstartCutoff += startMiterWidth.xyxy;\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tvec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;\n\t\t\tendCutoff = vec4(bCoord, bCoord);\n\t\t\tendCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;\n\t\t\tendCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tendCutoff += viewport.xyxy;\n\t\t\tendCutoff += endMiterWidth.xyxy;\n\t\t}\n\t}\n\n\t//round miter cutoffs\n\telse if (miterMode == 2.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tvec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;\n\t\t\tstartCutoff = vec4(aCoord, aCoord);\n\t\t\tstartCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;\n\t\t\tstartCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tstartCutoff += viewport.xyxy;\n\t\t\tstartCutoff += startMiterWidth.xyxy;\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tvec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;\n\t\t\tendCutoff = vec4(bCoord, bCoord);\n\t\t\tendCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;\n\t\t\tendCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tendCutoff += viewport.xyxy;\n\t\t\tendCutoff += endMiterWidth.xyxy;\n\t\t}\n\t}\n}\n"]),frag:S(["precision highp float;\n#define GLSLIFY 1\n\nuniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;\nuniform sampler2D dashTexture;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\nvarying vec4 startCutoff, endCutoff;\nvarying vec2 startCoord, endCoord;\nvarying float enableStartMiter, enableEndMiter;\n\nfloat distToLine(vec2 p, vec2 a, vec2 b) {\n\tvec2 diff = b - a;\n\tvec2 perp = normalize(vec2(-diff.y, diff.x));\n\treturn dot(p - a, perp);\n}\n\nvoid main() {\n\tfloat alpha = 1., distToStart, distToEnd;\n\tfloat cutoff = thickness * .5;\n\n\t//bevel miter\n\tif (miterMode == 1.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tdistToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);\n\t\t\tif (distToStart < -1.) {\n\t\t\t\tdiscard;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\talpha *= min(max(distToStart + 1., 0.), 1.);\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tdistToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);\n\t\t\tif (distToEnd < -1.) {\n\t\t\t\tdiscard;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\talpha *= min(max(distToEnd + 1., 0.), 1.);\n\t\t}\n\t}\n\n\t// round miter\n\telse if (miterMode == 2.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tdistToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);\n\t\t\tif (distToStart < 0.) {\n\t\t\t\tfloat radius = length(gl_FragCoord.xy - startCoord);\n\n\t\t\t\tif(radius > cutoff + .5) {\n\t\t\t\t\tdiscard;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\talpha -= smoothstep(cutoff - .5, cutoff + .5, radius);\n\t\t\t}\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tdistToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);\n\t\t\tif (distToEnd < 0.) {\n\t\t\t\tfloat radius = length(gl_FragCoord.xy - endCoord);\n\n\t\t\t\tif(radius > cutoff + .5) {\n\t\t\t\t\tdiscard;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\talpha -= smoothstep(cutoff - .5, cutoff + .5, radius);\n\t\t\t}\n\t\t}\n\t}\n\n\tfloat t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;\n\tfloat dash = texture2D(dashTexture, vec2(t, .5)).r;\n\n\tgl_FragColor = fragColor;\n\tgl_FragColor.a *= alpha * opacity * dash;\n}\n"]),attributes:{lineEnd:{buffer:_,divisor:0,stride:8,offset:0},lineTop:{buffer:_,divisor:0,stride:8,offset:4},aColor:{buffer:p.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:p.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:p.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:p.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:p.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:p.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},y))}catch{T=w}return{fill:p({primitive:"triangle",elements:function(m,b){return b.triangles},offset:0,vert:S(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 position, positionFract;\n\nuniform vec4 color;\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float pixelRatio, id;\nuniform vec4 viewport;\nuniform float opacity;\n\nvarying vec4 fragColor;\n\nconst float MAX_LINES = 256.;\n\nvoid main() {\n\tfloat depth = (MAX_LINES - 4. - id) / (MAX_LINES);\n\n\tvec2 position = position * scale + translate\n       + positionFract * scale + translateFract\n       + position * scaleFract\n       + positionFract * scaleFract;\n\n\tgl_Position = vec4(position * 2.0 - 1.0, depth, 1);\n\n\tfragColor = color / 255.;\n\tfragColor.a *= opacity;\n}\n"]),frag:S(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n\tgl_FragColor = fragColor;\n}\n"]),uniforms:{scale:p.prop("scale"),color:p.prop("fill"),scaleFract:p.prop("scaleFract"),translateFract:p.prop("translateFract"),translate:p.prop("translate"),opacity:p.prop("opacity"),pixelRatio:p.context("pixelRatio"),id:p.prop("id"),viewport:function(m,b){return[b.viewport.x,b.viewport.y,m.viewportWidth,m.viewportHeight]}},attributes:{position:{buffer:p.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:p.prop("positionFractBuffer"),stride:8,offset:8}},blend:y.blend,depth:{enable:!1},scissor:y.scissor,stencil:y.stencil,viewport:y.viewport}),rect:w,miter:T}},g.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},g.prototype.render=function(){for(var p,T=[],_=arguments.length;_--;)T[_]=arguments[_];T.length&&(p=this).update.apply(p,T),this.draw()},g.prototype.draw=function(){for(var p=this,T=[],_=arguments.length;_--;)T[_]=arguments[_];return(T.length?T:this.passes).forEach(function(y,w){var m;if(y&&Array.isArray(y))return(m=p).draw.apply(m,y);"number"==typeof y&&(y=p.passes[y]),y&&y.count>1&&y.opacity&&(p.regl._refresh(),y.fill&&y.triangles&&y.triangles.length>2&&p.shaders.fill(y),y.thickness&&(y.scale[0]*y.viewport.width>g.precisionThreshold||y.scale[1]*y.viewport.height>g.precisionThreshold||"rect"===y.join||!y.join&&(y.thickness<=2||y.count>=g.maxPoints)?p.shaders.rect(y):p.shaders.miter(y)))}),this},g.prototype.update=function(p){var T=this;if(p){null!=p.length?"number"==typeof p[0]&&(p=[{positions:p}]):Array.isArray(p)||(p=[p]);var _=this.regl,y=this.gl;if(p.forEach(function(h,O){var A=T.passes[O];if(void 0!==h)if(null!==h){if("number"==typeof h[0]&&(h={positions:h}),h=M(h,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),A||(T.passes[O]=A={id:O,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:_.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:_.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:_.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:_.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},h=f({},g.defaults,h)),null!=h.thickness&&(A.thickness=parseFloat(h.thickness)),null!=h.opacity&&(A.opacity=parseFloat(h.opacity)),null!=h.miterLimit&&(A.miterLimit=parseFloat(h.miterLimit)),null!=h.overlay&&(A.overlay=!!h.overlay,O<g.maxLines&&(A.depth=2*(g.maxLines-1-O%g.maxLines)/g.maxLines-1)),null!=h.join&&(A.join=h.join),null!=h.hole&&(A.hole=h.hole),null!=h.fill&&(A.fill=h.fill?C(h.fill,"uint8"):null),null!=h.viewport&&(A.viewport=s(h.viewport)),A.viewport||(A.viewport=s([y.drawingBufferWidth,y.drawingBufferHeight])),null!=h.close&&(A.close=h.close),null===h.positions&&(h.positions=[]),h.positions){var I,P;if(h.positions.x&&h.positions.y){var L=h.positions.x,N=h.positions.y;P=A.count=Math.max(L.length,N.length),I=new Float64Array(2*P);for(var B=0;B<P;B++)I[2*B]=L[B],I[2*B+1]=N[B]}else I=v(h.positions,"float64"),P=A.count=Math.floor(I.length/2);var W=A.bounds=E(I,2);if(A.fill){for(var j=[],Z={},V=0,q=0,G=0,H=A.count;q<H;q++){var ne=I[2*q],X=I[2*q+1];isNaN(ne)||isNaN(X)||null==ne||null==X?(ne=I[2*V],X=I[2*V+1],Z[q]=V):V=q,j[G++]=ne,j[G++]=X}if(h.splitNull){A.count-1 in Z||(Z[A.count]=A.count-1);var $=Object.keys(Z).map(Number).sort(function(It,Pt){return It-Pt}),Q=[],te=0,re=null!=A.hole?A.hole[0]:null;if(null!=re){var le=d($,function(It){return It>=re});($=$.slice(0,le)).push(re)}for(var ue=function(It){var Pt=j.slice(2*te,2*$[It]).concat(re?j.slice(2*re):[]),Bt=(A.hole||[]).map(function(Vt){return Vt-re+($[It]-te)}),Ut=c(Pt,Bt);Ut=Ut.map(function(Vt){return Vt+te+(Vt+te<$[It]?0:re-$[It])}),Q.push.apply(Q,Ut),te=$[It]+1},he=0;he<$.length;he++)ue(he);for(var ge=0,xe=Q.length;ge<xe;ge++)null!=Z[Q[ge]]&&(Q[ge]=Z[Q[ge]]);A.triangles=Q}else{for(var ke=c(j,A.hole||[]),Ae=0,pe=ke.length;Ae<pe;Ae++)null!=Z[ke[Ae]]&&(ke[Ae]=Z[ke[Ae]]);A.triangles=ke}}var ye=new Float64Array(I);i(ye,2,W);var Ne=new Float64Array(2*P+6);A.close?I[0]===I[2*P-2]&&I[1]===I[2*P-1]?(Ne[0]=ye[2*P-4],Ne[1]=ye[2*P-3]):(Ne[0]=ye[2*P-2],Ne[1]=ye[2*P-1]):(Ne[0]=ye[0],Ne[1]=ye[1]),Ne.set(ye,2),A.close?I[0]===I[2*P-2]&&I[1]===I[2*P-1]?(Ne[2*P+2]=ye[2],Ne[2*P+3]=ye[3],A.count-=1):(Ne[2*P+2]=ye[0],Ne[2*P+3]=ye[1],Ne[2*P+4]=ye[2],Ne[2*P+5]=ye[3]):(Ne[2*P+2]=ye[2*P-2],Ne[2*P+3]=ye[2*P-1],Ne[2*P+4]=ye[2*P-2],Ne[2*P+5]=ye[2*P-1]);var be=a(Ne);A.positionBuffer(be);var Ee=o(Ne,be);A.positionFractBuffer(Ee)}if(h.range?A.range=h.range:A.range||(A.range=A.bounds),(h.range||h.positions)&&A.count){var Oe=A.bounds,de=A.range[2]-A.range[0],_e=A.range[3]-A.range[1];A.scale=[(Oe[2]-Oe[0])/de,(Oe[3]-Oe[1])/_e],A.translate=[-A.range[0]/de+Oe[0]/de||0,-A.range[1]/_e+Oe[1]/_e||0],A.scaleFract=o(A.scale),A.translateFract=o(A.translate)}if(h.dashes){var Me,Pe=0;if(!h.dashes||h.dashes.length<2)Pe=1,Me=new Uint8Array([255,255,255,255,255,255,255,255]);else{Pe=0;for(var Ue=0;Ue<h.dashes.length;++Ue)Pe+=h.dashes[Ue];Me=new Uint8Array(Pe*g.dashMult);for(var Be=0,Ve=255,ve=0;ve<2;ve++)for(var Te=0;Te<h.dashes.length;++Te){for(var Ce=0,We=h.dashes[Te]*g.dashMult*.5;Ce<We;++Ce)Me[Be++]=Ve;Ve^=255}}A.dashLength=Pe,A.dashTexture({channels:1,data:Me,width:Me.length,height:1,mag:"linear",min:"linear"},0,0)}if(h.color){var Ke=A.count,Je=h.color;Je||(Je="transparent");var ht=new Uint8Array(4*Ke+4);if(Array.isArray(Je)&&"number"!=typeof Je[0]){for(var ft=0;ft<Ke;ft++){var mt=C(Je[ft],"uint8");ht.set(mt,4*ft)}ht.set(C(Je[0],"uint8"),4*Ke)}else for(var At=C(Je,"uint8"),Rt=0;Rt<Ke+1;Rt++)ht.set(At,4*Rt);A.colorBuffer({usage:"dynamic",type:"uint8",data:ht})}}else T.passes[O]=null}),p.length<this.passes.length){for(var w=p.length;w<this.passes.length;w++){var m=this.passes[w];m&&(m.colorBuffer.destroy(),m.positionBuffer.destroy(),m.dashTexture.destroy())}this.passes.length=p.length}for(var b=[],k=0;k<this.passes.length;k++)null!==this.passes[k]&&b.push(this.passes[k]);return this.passes=b,this}},g.prototype.destroy=function(){return this.passes.forEach(function(p){p.colorBuffer.destroy(),p.positionBuffer.destroy(),p.dashTexture.destroy()}),this.passes.length=0,this}},11870:function(ie,z,r){"use strict";function C(y,w){return function(m){if(Array.isArray(m))return m}(y)||function(m,b){var k=null==m?null:typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(null!=k){var h,O,A=[],I=!0,P=!1;try{for(k=k.call(m);!(I=(h=k.next()).done)&&(A.push(h.value),!b||A.length!==b);I=!0);}catch(L){P=!0,O=L}finally{try{I||null==k.return||k.return()}finally{if(P)throw O}}return A}}(y,w)||E(y,w)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(y,w){if(y){if("string"==typeof y)return f(y,w);var m=Object.prototype.toString.call(y).slice(8,-1);return"Object"===m&&y.constructor&&(m=y.constructor.name),"Map"===m||"Set"===m?Array.from(y):"Arguments"===m||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m)?f(y,w):void 0}}function f(y,w){(null==w||w>y.length)&&(w=y.length);for(var m=0,b=new Array(w);m<w;m++)b[m]=y[m];return b}var S=r(25075),M=r(21527),v=r(6475),c=r(88294),i=r(56131),u=r(56068),a=r(71299),o=r(93447),l=r(30120),s=r(62683),d=r(57060),g=r(18863),p=T;function T(y,w){var m=this;if(!(this instanceof T))return new T(y,w);"function"==typeof y?(w||(w={}),w.regl=y):(w=y,y=null),w&&w.length&&(w.positions=w);var b,k=(y=w.regl)._gl,h=[];this.tooManyColors=s,b=y.texture({data:new Uint8Array(1020),width:255,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),i(this,{regl:y,gl:k,groups:[],markerCache:[null],markerTextures:[null],palette:h,paletteIds:{},paletteTexture:b,maxColors:255,maxSize:100,canvas:k.canvas}),this.update(w);var O={uniforms:{constPointSize:!!w.constPointSize,opacity:y.prop("opacity"),paletteSize:function(P,L){return[m.tooManyColors?0:255,b.height]},pixelRatio:y.context("pixelRatio"),scale:y.prop("scale"),scaleFract:y.prop("scaleFract"),translate:y.prop("translate"),translateFract:y.prop("translateFract"),markerTexture:y.prop("markerTexture"),paletteTexture:b},attributes:{x:function(P,L){return L.xAttr||{buffer:L.positionBuffer,stride:8,offset:0}},y:function(P,L){return L.yAttr||{buffer:L.positionBuffer,stride:8,offset:4}},xFract:function(P,L){return L.xAttr?{constant:[0,0]}:{buffer:L.positionFractBuffer,stride:8,offset:0}},yFract:function(P,L){return L.yAttr?{constant:[0,0]}:{buffer:L.positionFractBuffer,stride:8,offset:4}},size:function(P,L){return L.size.length?{buffer:L.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(255*L.size/m.maxSize)]}},borderSize:function(P,L){return L.borderSize.length?{buffer:L.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(255*L.borderSize/m.maxSize)]}},colorId:function(P,L){return L.color.length?{buffer:L.colorBuffer,stride:m.tooManyColors?8:4,offset:0}:{constant:m.tooManyColors?h.slice(4*L.color,4*L.color+4):[L.color]}},borderColorId:function(P,L){return L.borderColor.length?{buffer:L.colorBuffer,stride:m.tooManyColors?8:4,offset:m.tooManyColors?4:2}:{constant:m.tooManyColors?h.slice(4*L.borderColor,4*L.borderColor+4):[L.borderColor]}},isActive:function(P,L){return!0===L.activation?{constant:[1]}:L.activation?L.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:y.prop("viewport")},viewport:y.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:y.prop("elements"),count:y.prop("count"),offset:y.prop("offset"),primitive:"points"},A=i({},O);A.frag=u(["precision highp float;\n#define GLSLIFY 1\n\nuniform float opacity;\nuniform sampler2D markerTexture;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragWidth, fragBorderColorLevel, fragColorLevel;\n\nfloat smoothStep(float x, float y) {\n  return 1.0 / (1.0 + exp(50.0*(x - y)));\n}\n\nvoid main() {\n  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;\n\n  // max-distance alpha\n  if (dist < 0.003) discard;\n\n  // null-border case\n  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {\n    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);\n    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);\n  }\n  else {\n    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);\n    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);\n\n    vec4 color = fragBorderColor;\n    color.a *= borderColorAmt;\n    color = mix(color, fragColor, colorAmt);\n    color.a *= opacity;\n\n    gl_FragColor = color;\n  }\n\n}\n"]),A.vert=u(["precision highp float;\n#define GLSLIFY 1\n\nattribute float x, y, xFract, yFract;\nattribute float size, borderSize;\nattribute vec4 colorId, borderColorId;\nattribute float isActive;\n\nuniform bool constPointSize;\nuniform float pixelRatio;\nuniform vec2 scale, scaleFract, translate, translateFract, paletteSize;\nuniform sampler2D paletteTexture;\n\nconst float maxSize = 100.;\nconst float borderLevel = .5;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;\n\nfloat pointSizeScale = (constPointSize) ? 2. : pixelRatio;\n\nbool isDirect = (paletteSize.x < 1.);\n\nvec4 getColor(vec4 id) {\n  return isDirect ? id / 255. : texture2D(paletteTexture,\n    vec2(\n      (id.x + .5) / paletteSize.x,\n      (id.y + .5) / paletteSize.y\n    )\n  );\n}\n\nvoid main() {\n  // ignore inactive points\n  if (isActive == 0.) return;\n\n  vec2 position = vec2(x, y);\n  vec2 positionFract = vec2(xFract, yFract);\n\n  vec4 color = getColor(colorId);\n  vec4 borderColor = getColor(borderColorId);\n\n  float size = size * maxSize / 255.;\n  float borderSize = borderSize * maxSize / 255.;\n\n  gl_PointSize = 2. * size * pointSizeScale;\n  fragPointSize = size * pixelRatio;\n\n  vec2 pos = (position + translate) * scale\n      + (positionFract + translateFract) * scale\n      + (position + translate) * scaleFract\n      + (positionFract + translateFract) * scaleFract;\n\n  gl_Position = vec4(pos * 2. - 1., 0., 1.);\n\n  fragColor = color;\n  fragBorderColor = borderColor;\n  fragWidth = 1. / gl_PointSize;\n\n  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);\n  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);\n}"]),this.drawMarker=y(A);var I=i({},O);I.frag=u(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragBorderRadius, fragWidth;\n\nuniform float opacity;\n\nfloat smoothStep(float edge0, float edge1, float x) {\n\tfloat t;\n\tt = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);\n\treturn t * t * (3.0 - 2.0 * t);\n}\n\nvoid main() {\n\tfloat radius, alpha = 1.0, delta = fragWidth;\n\n\tradius = length(2.0 * gl_PointCoord.xy - 1.0);\n\n\tif (radius > 1.0 + delta) {\n\t\tdiscard;\n\t}\n\n\talpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);\n\n\tfloat borderRadius = fragBorderRadius;\n\tfloat ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);\n\tvec4 color = mix(fragColor, fragBorderColor, ratio);\n\tcolor.a *= alpha * opacity;\n\tgl_FragColor = color;\n}\n"]),I.vert=u(["precision highp float;\n#define GLSLIFY 1\n\nattribute float x, y, xFract, yFract;\nattribute float size, borderSize;\nattribute vec4 colorId, borderColorId;\nattribute float isActive;\n\nuniform bool constPointSize;\nuniform float pixelRatio;\nuniform vec2 paletteSize, scale, scaleFract, translate, translateFract;\nuniform sampler2D paletteTexture;\n\nconst float maxSize = 100.;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragBorderRadius, fragWidth;\n\nfloat pointSizeScale = (constPointSize) ? 2. : pixelRatio;\n\nbool isDirect = (paletteSize.x < 1.);\n\nvec4 getColor(vec4 id) {\n  return isDirect ? id / 255. : texture2D(paletteTexture,\n    vec2(\n      (id.x + .5) / paletteSize.x,\n      (id.y + .5) / paletteSize.y\n    )\n  );\n}\n\nvoid main() {\n  // ignore inactive points\n  if (isActive == 0.) return;\n\n  vec2 position = vec2(x, y);\n  vec2 positionFract = vec2(xFract, yFract);\n\n  vec4 color = getColor(colorId);\n  vec4 borderColor = getColor(borderColorId);\n\n  float size = size * maxSize / 255.;\n  float borderSize = borderSize * maxSize / 255.;\n\n  gl_PointSize = (size + borderSize) * pointSizeScale;\n\n  vec2 pos = (position + translate) * scale\n      + (positionFract + translateFract) * scale\n      + (position + translate) * scaleFract\n      + (positionFract + translateFract) * scaleFract;\n\n  gl_Position = vec4(pos * 2. - 1., 0., 1.);\n\n  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);\n  fragColor = color;\n  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;\n  fragWidth = 1. / gl_PointSize;\n}\n"]),s&&(I.frag=I.frag.replace("smoothstep","smoothStep"),A.frag=A.frag.replace("smoothstep","smoothStep")),this.drawCircle=y(I)}T.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},T.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},T.prototype.draw=function(){for(var y=this,w=arguments.length,m=new Array(w),b=0;b<w;b++)m[b]=arguments[b];var k=this.groups;if(1===m.length&&Array.isArray(m[0])&&(null===m[0][0]||Array.isArray(m[0][0]))&&(m=m[0]),this.regl._refresh(),m.length)for(var h=0;h<m.length;h++)this.drawItem(h,m[h]);else k.forEach(function(O,A){y.drawItem(A)});return this},T.prototype.drawItem=function(y,w){var m,b=this.groups,k=b[y];if("number"==typeof w&&(y=w,k=b[w],w=null),k&&k.count&&k.opacity){k.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,k,w));for(var h=[],O=1;O<k.activation.length;O++)k.activation[O]&&(!0===k.activation[O]||k.activation[O].data.length)&&h.push.apply(h,function(A){if(Array.isArray(A))return f(A)}(m=this.getMarkerDrawOptions(O,k,w))||function(A){if(typeof Symbol<"u"&&null!=A[Symbol.iterator]||null!=A["@@iterator"])return Array.from(A)}(m)||E(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());h.length&&this.drawMarker(h)}},T.prototype.getMarkerDrawOptions=function(y,w,m){var b=w.range,k=w.tree,h=w.viewport,O=w.activation,A=w.selectionBuffer,I=w.count;if(!k)return m?[i({},w,{markerTexture:this.markerTextures[y],activation:O[y],count:m.length,elements:m,offset:0})]:[i({},w,{markerTexture:this.markerTextures[y],activation:O[y],offset:0})];var P=[],L=k.range(b,{lod:!0,px:[(b[2]-b[0])/h.width,(b[3]-b[1])/h.height]});if(m){for(var N=O[y].data,B=new Uint8Array(I),W=0;W<m.length;W++){var j=m[W];B[j]=N?N[j]:1}A.subdata(B)}for(var Z=L.length;Z--;){var V=C(L[Z],2),q=V[0];P.push(i({},w,{markerTexture:this.markerTextures[y],activation:m?A:O[y],offset:q,count:V[1]-q}))}return P},T.prototype.update=function(){for(var y=this,w=arguments.length,m=new Array(w),b=0;b<w;b++)m[b]=arguments[b];if(m.length){1===m.length&&Array.isArray(m[0])&&(m=m[0]);var k=this.groups,h=this.gl,O=this.regl,A=this.maxSize,I=this.maxColors,P=this.palette;this.groups=k=m.map(function(L,N){var B=k[N];if(void 0===L)return B;null===L?L={positions:null}:"function"==typeof L?L={ondraw:L}:"number"==typeof L[0]&&(L={positions:L}),null===(L=a(L,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"})).positions&&(L.positions=[]),null!=L.tooManyColors&&(y.tooManyColors=L.tooManyColors),B||(k[N]=B={id:N,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:O.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:O.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:O.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:O.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:O.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},L=i({},T.defaults,L)),L.positions&&!("marker"in L)&&(L.marker=B.marker,delete B.marker),L.marker&&!("positions"in L)&&(L.positions=B.positions,delete B.positions);var W=0,j=0;if(o(B,L,[{snap:!0,size:function(Ae,pe){return null==Ae&&(Ae=T.defaults.size),W+=Ae&&Ae.length?1:0,Ae},borderSize:function(Ae,pe){return null==Ae&&(Ae=T.defaults.borderSize),W+=Ae&&Ae.length?1:0,Ae},opacity:parseFloat,color:function(Ae,pe){return null==Ae&&(Ae=T.defaults.color),Ae=y.updateColor(Ae),j++,Ae},borderColor:function(Ae,pe){return null==Ae&&(Ae=T.defaults.borderColor),Ae=y.updateColor(Ae),j++,Ae},bounds:function(Ae,pe,ye){return"range"in ye||(ye.range=null),Ae},positions:function(Ae,pe,ye){var Ne=pe.snap,be=pe.positionBuffer,Ee=pe.positionFractBuffer,Oe=pe.selectionBuffer;if(Ae.x||Ae.y)return pe.xAttr=Ae.x.length?{buffer:O.buffer(Ae.x),offset:0,stride:4,count:Ae.x.length}:{buffer:Ae.x.buffer,offset:4*Ae.x.offset||0,stride:4*(Ae.x.stride||1),count:Ae.x.count},pe.yAttr=Ae.y.length?{buffer:O.buffer(Ae.y),offset:0,stride:4,count:Ae.y.length}:{buffer:Ae.y.buffer,offset:4*Ae.y.offset||0,stride:4*(Ae.y.stride||1),count:Ae.y.count},pe.count=Math.max(pe.xAttr.count,pe.yAttr.count),Ae;Ae=l(Ae,"float64");var De=pe.count=Math.floor(Ae.length/2),oe=pe.bounds=De?M(Ae,2):null;if(ye.range||pe.range||(delete pe.range,ye.range=oe),ye.marker||pe.marker||(delete pe.marker,ye.marker=null),Ne&&(!0===Ne||De>Ne)?pe.tree=c(Ae,{bounds:oe}):Ne&&Ne.length&&(pe.tree=Ne),pe.tree){var de={primitive:"points",usage:"static",data:pe.tree,type:"uint32"};pe.elements?pe.elements(de):pe.elements=O.elements(de)}var _e=d.float32(Ae);return be({data:_e,usage:"dynamic"}),Ee({data:d.fract32(Ae,_e),usage:"dynamic"}),Oe({data:new Uint8Array(De),type:"uint8",usage:"stream"}),Ae}},{marker:function(Ae,pe,ye){var Ne=pe.activation;if(Ne.forEach(function(_e){return _e&&_e.destroy&&_e.destroy()}),Ne.length=0,Ae&&"number"!=typeof Ae[0]){for(var be=[],Ee=0,Oe=Math.min(Ae.length,pe.count);Ee<Oe;Ee++){var De=y.addMarker(Ae[Ee]);be[De]||(be[De]=new Uint8Array(pe.count)),be[De][Ee]=1}for(var oe=0;oe<be.length;oe++)if(be[oe]){var de={data:be[oe],type:"uint8",usage:"static"};Ne[oe]?Ne[oe](de):Ne[oe]=O.buffer(de),Ne[oe].data=be[oe]}}else Ne[y.addMarker(Ae)]=!0;return Ae},range:function(Ae,pe,ye){var Ne=pe.bounds;if(Ne)return Ae||(Ae=Ne),pe.scale=[1/(Ae[2]-Ae[0]),1/(Ae[3]-Ae[1])],pe.translate=[-Ae[0],-Ae[1]],pe.scaleFract=d.fract(pe.scale),pe.translateFract=d.fract(pe.translate),Ae},viewport:function(Ae){return g(Ae||[h.drawingBufferWidth,h.drawingBufferHeight])}}]),W){var V=B.count,q=B.size,G=B.borderSize,H=B.sizeBuffer,ne=new Uint8Array(2*V);if(q.length||G.length)for(var X=0;X<V;X++)ne[2*X]=Math.round(255*(null==q[X]?q:q[X])/A),ne[2*X+1]=Math.round(255*(null==G[X]?G:G[X])/A);H({data:ne,usage:"dynamic"})}if(j){var $,te=B.count,re=B.color,le=B.borderColor,ue=B.colorBuffer;if(y.tooManyColors){if(re.length||le.length){$=new Uint8Array(8*te);for(var he=0;he<te;he++){var ge=re[he];$[8*he]=P[4*ge],$[8*he+1]=P[4*ge+1],$[8*he+2]=P[4*ge+2],$[8*he+3]=P[4*ge+3];var xe=le[he];$[8*he+4]=P[4*xe],$[8*he+5]=P[4*xe+1],$[8*he+6]=P[4*xe+2],$[8*he+7]=P[4*xe+3]}}}else if(re.length||le.length){$=new Uint8Array(4*te+2);for(var ke=0;ke<te;ke++)null!=re[ke]&&($[4*ke]=re[ke]%I,$[4*ke+1]=Math.floor(re[ke]/I)),null!=le[ke]&&($[4*ke+2]=le[ke]%I,$[4*ke+3]=Math.floor(le[ke]/I))}ue({data:$||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return B})}},T.prototype.addMarker=function(y){var w,m=this.markerTextures,b=this.regl,k=this.markerCache,h=null==y?0:k.indexOf(y);if(h>=0)return h;if(y instanceof Uint8Array||y instanceof Uint8ClampedArray)w=y;else{w=new Uint8Array(y.length);for(var O=0,A=y.length;O<A;O++)w[O]=255*y[O]}var I=Math.floor(Math.sqrt(w.length));return h=m.length,k.push(y),m.push(b.texture({channels:1,data:w,radius:I,mag:"linear",min:"linear"})),h},T.prototype.updateColor=function(y){var w=this.paletteIds,m=this.palette,b=this.maxColors;Array.isArray(y)||(y=[y]);var k=[];if("number"==typeof y[0]){var h=[];if(Array.isArray(y))for(var O=0;O<y.length;O+=4)h.push(y.slice(O,O+4));else for(var A=0;A<y.length;A+=4)h.push(y.subarray(A,A+4));y=h}for(var I=0;I<y.length;I++){var P=y[I];P=S(P,"uint8");var L=v(P,!1);if(null==w[L]){var N=m.length;w[L]=Math.floor(N/4),m[N]=P[0],m[N+1]=P[1],m[N+2]=P[2],m[N+3]=P[3]}k[I]=w[L]}return!this.tooManyColors&&m.length>4*b&&(this.tooManyColors=!0),this.updatePalette(m),1===k.length?k[0]:k},T.prototype.updatePalette=function(y){if(!this.tooManyColors){var w=this.maxColors,m=this.paletteTexture,b=Math.ceil(.25*y.length/w);if(b>1)for(var k=.25*(y=y.slice()).length%w;k<b*w;k++)y.push(0,0,0,0);m.height<b&&m.resize(w,b),m.subimage({width:Math.min(.25*y.length,w),height:b,data:y},0,0)}},T.prototype.destroy=function(){return this.groups.forEach(function(y){y.sizeBuffer.destroy(),y.positionBuffer.destroy(),y.positionFractBuffer.destroy(),y.colorBuffer.destroy(),y.activation.forEach(function(w){return w&&w.destroy&&w.destroy()}),y.selectionBuffer.destroy(),y.elements&&y.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(y){return y&&y.destroy&&y.destroy()}),this};var _=r(56131);ie.exports=function(y,w){var m=new p(y,w),b=m.render.bind(m);return _(b,{render:b,update:m.update.bind(m),draw:m.draw.bind(m),destroy:m.destroy.bind(m),regl:m.regl,gl:m.gl,canvas:m.gl.canvas,groups:m.groups,markers:m.markerCache,palette:m.palette}),b}},60487:function(ie,z,r){"use strict";var C=r(11870),E=r(71299),f=r(21527),S=r(5877),M=r(57471),v=r(18863),c=r(30120);function i(l,s){if(!(this instanceof i))return new i(l,s);this.traces=[],this.passes={},this.regl=l,this.scatter=C(l),this.canvas=this.scatter.canvas}function u(l,s,d){return(null!=l.id?l.id:l)<<16|(255&s)<<8|255&d}function a(l,s,d){var g,p,T,_,y=l[s],w=l[d];return y.length>2?(g=y[1],p=y[3]):y.length?(g=y[0],p=y[1]):(g=y.y,p=y.y+y.height),w.length>2?(T=w[0],_=w[2]):w.length?(T=w[0],_=w[1]):(T=w.x,_=w.x+w.width),[T,g,_,p]}function o(l){if("number"==typeof l)return[l,l,l,l];if(2===l.length)return[l[0],l[1],l[0],l[1]];var s=v(l);return[s.x,s.y,s.x+s.width,s.y+s.height]}ie.exports=i,i.prototype.render=function(){for(var l,s=this,d=[],g=arguments.length;g--;)d[g]=arguments[g];return d.length&&(l=this).update.apply(l,d),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?null==this.planned&&(this.planned=S(function(){s.draw(),s.dirty=!0,s.planned=null})):(this.draw(),this.dirty=!0,S(function(){s.dirty=!1})),this)},i.prototype.update=function(){for(var l,s=[],d=arguments.length;d--;)s[d]=arguments[d];if(s.length){for(var g=0;g<s.length;g++)this.updateItem(g,s[g]);this.traces=this.traces.filter(Boolean);for(var p=[],T=0,_=0;_<this.traces.length;_++){for(var y=this.traces[_],w=this.traces[_].passes,m=0;m<w.length;m++)p.push(this.passes[w[m]]);y.passOffset=T,T+=y.passes.length}return(l=this.scatter).update.apply(l,p),this}},i.prototype.updateItem=function(l,s){var d=this.regl;if(null===s)return this.traces[l]=null,this;if(!s)return this;var g,p=E(s,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),T=this.traces[l]||(this.traces[l]={id:l,buffer:d.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:v([d._gl.drawingBufferWidth,d._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(null!=p.color&&(T.color=p.color),null!=p.size&&(T.size=p.size),null!=p.marker&&(T.marker=p.marker),null!=p.borderColor&&(T.borderColor=p.borderColor),null!=p.borderSize&&(T.borderSize=p.borderSize),null!=p.opacity&&(T.opacity=p.opacity),p.viewport&&(T.viewport=v(p.viewport)),null!=p.diagonal&&(T.diagonal=p.diagonal),null!=p.upper&&(T.upper=p.upper),null!=p.lower&&(T.lower=p.lower),p.data){T.buffer(c(p.data)),T.columns=p.data.length,T.count=p.data[0].length,T.bounds=[];for(var _=0;_<T.columns;_++)T.bounds[_]=f(p.data[_],1)}p.range&&(T.range=p.range,g=T.range&&"number"!=typeof T.range[0]),p.domain&&(T.domain=p.domain);var y=!1;null!=p.padding&&(Array.isArray(p.padding)&&p.padding.length===T.columns&&"number"==typeof p.padding[p.padding.length-1]?(T.padding=p.padding.map(o),y=!0):T.padding=o(p.padding));var w=T.columns,m=T.count,b=T.viewport.width,k=T.viewport.height,h=T.viewport.x,O=T.viewport.y,A=b/w,I=k/w;T.passes=[];for(var P=0;P<w;P++)for(var L=0;L<w;L++)if((T.diagonal||L!==P)&&(T.upper||!(P>L))&&(T.lower||!(P<L))){var N=u(T.id,P,L),B=this.passes[N]||(this.passes[N]={});if(p.data&&(B.positions=p.transpose?{x:{buffer:T.buffer,offset:L,count:m,stride:w},y:{buffer:T.buffer,offset:P,count:m,stride:w}}:{x:{buffer:T.buffer,offset:L*m,count:m},y:{buffer:T.buffer,offset:P*m,count:m}},B.bounds=a(T.bounds,P,L)),p.domain||p.viewport||p.data){var W=y?a(T.padding,P,L):T.padding;if(T.domain){var j=a(T.domain,P,L);B.viewport=[h+j[0]*b+W[0],O+j[1]*k+W[1],h+j[2]*b-W[2],O+j[3]*k-W[3]]}else B.viewport=[h+L*A+A*W[0],O+P*I+I*W[1],h+(L+1)*A-A*W[2],O+(P+1)*I-I*W[3]]}p.color&&(B.color=T.color),p.size&&(B.size=T.size),p.marker&&(B.marker=T.marker),p.borderSize&&(B.borderSize=T.borderSize),p.borderColor&&(B.borderColor=T.borderColor),p.opacity&&(B.opacity=T.opacity),p.range&&(B.range=g?a(T.range,P,L):T.range||B.bounds),T.passes.push(N)}return this},i.prototype.draw=function(){for(var l,s=[],d=arguments.length;d--;)s[d]=arguments[d];if(s.length){for(var g=[],p=0;p<s.length;p++)if("number"==typeof s[p]){var T=this.traces[s[p]],y=T.passOffset;g.push.apply(g,M(y,y+T.passes.length))}else if(s[p].length){var w=s[p],m=this.traces[p],b=m.passes,k=m.passOffset;b=b.map(function(h,O){g[k+O]=w})}(l=this.scatter).draw.apply(l,g)}else this.scatter.draw();return this},i.prototype.destroy=function(){return this.traces.forEach(function(l){l.buffer&&l.buffer.destroy&&l.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this}},98580:function(ie){ie.exports=function(){function z($e,ot){this.id=le++,this.type=$e,this.data=ot}function r($e){if(0===$e.length)return[];var ot=$e.charAt(0),dt=$e.charAt($e.length-1);if(1<$e.length&&ot===dt&&('"'===ot||"'"===ot))return['"'+$e.substr(1,$e.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(ot=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec($e))return r($e.substr(0,ot.index)).concat(r(ot[1])).concat(r($e.substr(ot.index+ot[0].length)));if(1===(ot=$e.split(".")).length)return['"'+$e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for($e=[],dt=0;dt<ot.length;++dt)$e=$e.concat(r(ot[dt]));return $e}function C($e){return"["+r($e).join("][")+"]"}function E($e){return"string"==typeof $e?$e.split():$e}function f($e){return"string"==typeof $e?document.querySelector($e):$e}function M($e,ot){for(var dt=Array($e),Le=0;Le<$e;++Le)dt[Le]=ot(Le);return dt}function v($e){var ot,dt;return ot=(65535<$e)<<4,ot|=dt=(255<($e>>>=ot))<<3,(ot|=dt=(15<($e>>>=dt))<<2)|(dt=(3<($e>>>=dt))<<1)|$e>>>dt>>1}function c(){function $e(Le){e:{for(var Ge=16;268435456>=Ge;Ge*=16)if(Le<=Ge){Le=Ge;break e}Le=0}return 0<(Ge=dt[v(Le)>>2]).length?Ge.pop():new ArrayBuffer(Le)}function ot(Le){dt[v(Le.byteLength)>>2].push(Le)}var dt=M(8,function(){return[]});return{alloc:$e,free:ot,allocType:function(Le,Ge){var st=null;switch(Le){case 5120:st=new Int8Array($e(Ge),0,Ge);break;case 5121:st=new Uint8Array($e(Ge),0,Ge);break;case 5122:st=new Int16Array($e(2*Ge),0,Ge);break;case 5123:st=new Uint16Array($e(2*Ge),0,Ge);break;case 5124:st=new Int32Array($e(4*Ge),0,Ge);break;case 5125:st=new Uint32Array($e(4*Ge),0,Ge);break;case 5126:st=new Float32Array($e(4*Ge),0,Ge);break;default:return null}return st.length!==Ge?st.subarray(0,Ge):st},freeType:function(Le){ot(Le.buffer)}}}function i($e){return!!$e&&"object"==typeof $e&&Array.isArray($e.shape)&&Array.isArray($e.stride)&&"number"==typeof $e.offset&&$e.shape.length===$e.stride.length&&(Array.isArray($e.data)||Ae($e.data))}function u($e,ot,dt,Le,Ge,st){for(var vt=0;vt<ot;++vt)for(var bt=$e[vt],Lt=0;Lt<dt;++Lt)for(var jt=bt[Lt],Nt=0;Nt<Le;++Nt)Ge[st++]=jt[Nt]}function a($e,ot,dt,Le,Ge){for(var st=1,vt=dt+1;vt<ot.length;++vt)st*=ot[vt];var bt=ot[dt];if(ot.length-dt==4){var Lt=ot[dt+1],jt=ot[dt+2];for(ot=ot[dt+3],vt=0;vt<bt;++vt)u($e[vt],Lt,jt,ot,Le,Ge),Ge+=st}else for(vt=0;vt<bt;++vt)a($e[vt],ot,dt+1,Le,Ge),Ge+=st}function o($e){return 0|Ne[Object.prototype.toString.call($e)]}function l($e,ot){for(var dt=0;dt<ot.length;++dt)$e[dt]=ot[dt]}function s($e,ot,dt,Le,Ge,st,vt){for(var bt=0,Lt=0;Lt<dt;++Lt)for(var jt=0;jt<Le;++jt)$e[bt++]=ot[Ge*Lt+st*jt+vt]}function p($e){for(var ot=xe.allocType(5123,$e.length),dt=0;dt<$e.length;++dt)if(isNaN($e[dt]))ot[dt]=65535;else if($e[dt]===1/0)ot[dt]=31744;else if($e[dt]===-1/0)ot[dt]=64512;else{_e[0]=$e[dt];var Le=(st=Me[0])>>>31<<15,Ge=(st<<1>>>24)-127,st=st>>13&1023;ot[dt]=-24>Ge?Le:-14>Ge?Le+(st+1024>>-14-Ge):15<Ge?Le+31744:Le+(Ge+15<<10)+st}return ot}function T($e){return Array.isArray($e)||Ae($e)}function _($e){return"[object "+$e+"]"}function y($e){return Array.isArray($e)&&(0===$e.length||"number"==typeof $e[0])}function w($e){return!(!Array.isArray($e)||0===$e.length||!T($e[0]))}function m($e){return Object.prototype.toString.call($e)}function b($e){if(!$e)return!1;var ot=m($e);return 0<=Je.indexOf(ot)||y($e)||w($e)||i($e)}function k($e,ot){36193===$e.type?($e.data=p(ot),xe.freeType(ot)):$e.data=ot}function h($e,ot,dt,Le,Ge,st){if($e=void 0!==ft[$e]?ft[$e]:Be[$e]*ht[ot],st&&($e*=6),Ge){for(Le=0;1<=dt;)Le+=$e*dt*dt,dt/=2;return Le}return $e*dt*Le}function I(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function B($e,ot){return $e>>>ot|$e<<32-ot}function W($e,ot){var dt=(65535&$e)+(65535&ot);return($e>>16)+(ot>>16)+(dt>>16)<<16|65535&dt}function j($e){return Array.prototype.slice.call($e)}function Z($e){return j($e).join("")}function q($e){return Array.isArray($e)||Ae($e)||i($e)}function G($e){return $e.sort(function(ot,dt){return"viewport"===ot?-1:"viewport"===dt?1:ot<dt?-1:1})}function H($e,ot,dt,Le){this.thisDep=$e,this.contextDep=ot,this.propDep=dt,this.append=Le}function ne($e){return $e&&!($e.thisDep||$e.contextDep||$e.propDep)}function X($e){return new H(!1,!1,!1,$e)}function $($e,ot){var dt=$e.type;if(0===dt)return new H(!0,1<=(dt=$e.data.length),2<=dt,ot);if(4===dt)return new H((dt=$e.data).thisDep,dt.contextDep,dt.propDep,ot);if(5===dt)return new H(!1,!1,!1,ot);if(6===dt){for(var Le=dt=!1,Ge=!1,st=0;st<$e.data.length;++st){var vt=$e.data[st];1===vt.type?Ge=!0:2===vt.type?Le=!0:3===vt.type?dt=!0:0===vt.type?(dt=!0,1<=(vt=vt.data)&&(Le=!0),2<=vt&&(Ge=!0)):4===vt.type&&(dt=dt||vt.data.thisDep,Le=Le||vt.data.contextDep,Ge=Ge||vt.data.propDep)}return new H(dt,Le,Ge,ot)}return new H(3===dt,2===dt,1===dt,ot)}function Q($e,ot,dt,Le,Ge,st,vt,bt,Lt,jt,Nt,Tt,Mt,kt,Ht,qt){function Qt(Wt){return Wt.replace(".","_")}function Jt(Wt,un,vn){var $n=Qt(Wt);nr.push(Wt),qn[$n]=Bn[$n]=!!vn,fr[$n]=un}function Kt(Wt,un,vn){var $n=Qt(Wt);nr.push(Wt),Array.isArray(vn)?(Bn[$n]=vn.slice(),qn[$n]=vn.slice()):Bn[$n]=qn[$n]=vn,Sr[$n]=un}function ln(){var Wt=function V($e){function ot(){var Nt=[],Tt=[];return re(function(){Nt.push.apply(Nt,j(arguments))},{def:function(){var Mt="v"+Ge++;return Tt.push(Mt),0<arguments.length&&(Nt.push(Mt,"="),Nt.push.apply(Nt,j(arguments)),Nt.push(";")),Mt},toString:function(){return Z([0<Tt.length?"var "+Tt.join(",")+";":"",Z(Nt)])}})}function dt(){function Nt(qt,Qt){Mt(qt,Qt,"=",Tt.def(qt,Qt),";")}var Tt=ot(),Mt=ot(),kt=Tt.toString,Ht=Mt.toString;return re(function(){Tt.apply(Tt,j(arguments))},{def:Tt.def,entry:Tt,exit:Mt,save:Nt,set:function(qt,Qt,Jt){Nt(qt,Qt),Tt(qt,Qt,"=",Jt,";")},toString:function(){return kt()+Ht()}})}var Le=$e&&$e.cache,Ge=0,st=[],vt=[],bt=[],Lt=ot(),jt={};return{global:Lt,link:function(Nt,Tt){var Mt=Tt&&Tt.stable;if(!Mt)for(var kt=0;kt<vt.length;++kt)if(vt[kt]===Nt&&!bt[kt])return st[kt];return kt="g"+Ge++,st.push(kt),vt.push(Nt),bt.push(Mt),kt},block:ot,proc:function(Nt,Tt){function Mt(){var Qt="a"+kt.length;return kt.push(Qt),Qt}var kt=[];Tt=Tt||0;for(var Ht=0;Ht<Tt;++Ht)Mt();var qt=(Ht=dt()).toString;return jt[Nt]=re(Ht,{arg:Mt,toString:function(){return Z(["function(",kt.join(),"){",qt(),"}"])}})},scope:dt,cond:function(){var Nt=Z(arguments),Tt=dt(),Mt=dt(),kt=Tt.toString,Ht=Mt.toString;return re(Tt,{then:function(){return Tt.apply(Tt,j(arguments)),this},else:function(){return Mt.apply(Mt,j(arguments)),this},toString:function(){var qt=Ht();return qt&&(qt="else{"+qt+"}"),Z(["if(",Nt,"){",kt(),"}",qt])}})},compile:function(){var Nt=['"use strict";',Lt,"return {"];Object.keys(jt).forEach(function(kt){Nt.push('"',kt,'":',jt[kt].toString(),",")}),Nt.push("}");var Tt,Mt=Z(Nt).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Le&&(Tt=function(kt){for(var Ht,qt="",Qt=0;Qt<kt.length;Qt++)Ht=kt.charCodeAt(Qt),qt+="0123456789abcdef".charAt(Ht>>>4&15)+"0123456789abcdef".charAt(15&Ht);return qt}(function(kt){for(var Ht=Array(kt.length>>2),qt=0;qt<Ht.length;qt++)Ht[qt]=0;for(qt=0;qt<8*kt.length;qt+=8)Ht[qt>>5]|=(255&kt.charCodeAt(qt/8))<<24-qt%32;var Qt,Jt,Kt,ln,Tn,An,pn,Nn,tr,On,wn,Cn=8*kt.length;for(kt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],qt=Array(64),Ht[Cn>>5]|=128<<24-Cn%32,Ht[15+(Cn+64>>9<<4)]=Cn,Nn=0;Nn<Ht.length;Nn+=16){for(Cn=kt[0],Qt=kt[1],Jt=kt[2],Kt=kt[3],ln=kt[4],Tn=kt[5],An=kt[6],pn=kt[7],tr=0;64>tr;tr++){var mn;16>tr?qt[tr]=Ht[tr+Nn]:(On=tr,wn=W(wn=B(wn=qt[tr-2],17)^B(wn,19)^wn>>>10,qt[tr-7]),mn=B(mn=qt[tr-15],7)^B(mn,18)^mn>>>3,qt[On]=W(W(wn,mn),qt[tr-16])),On=W(W(W(W(pn,On=B(On=ln,6)^B(On,11)^B(On,25)),ln&Tn^~ln&An),Pt[tr]),qt[tr]),wn=W(pn=B(pn=Cn,2)^B(pn,13)^B(pn,22),Cn&Qt^Cn&Jt^Qt&Jt),pn=An,An=Tn,Tn=ln,ln=W(Kt,On),Kt=Jt,Jt=Qt,Qt=Cn,Cn=W(On,wn)}kt[0]=W(Cn,kt[0]),kt[1]=W(Qt,kt[1]),kt[2]=W(Jt,kt[2]),kt[3]=W(Kt,kt[3]),kt[4]=W(ln,kt[4]),kt[5]=W(Tn,kt[5]),kt[6]=W(An,kt[6]),kt[7]=W(pn,kt[7])}for(Ht="",qt=0;qt<32*kt.length;qt+=8)Ht+=String.fromCharCode(kt[qt>>5]>>>24-qt%32&255);return Ht}(function(kt){for(var Ht,qt,Qt="",Jt=-1;++Jt<kt.length;)Ht=kt.charCodeAt(Jt),qt=Jt+1<kt.length?kt.charCodeAt(Jt+1):0,55296<=Ht&&56319>=Ht&&56320<=qt&&57343>=qt&&(Ht=65536+((1023&Ht)<<10)+(1023&qt),Jt++),127>=Ht?Qt+=String.fromCharCode(Ht):2047>=Ht?Qt+=String.fromCharCode(192|Ht>>>6&31,128|63&Ht):65535>=Ht?Qt+=String.fromCharCode(224|Ht>>>12&15,128|Ht>>>6&63,128|63&Ht):2097151>=Ht&&(Qt+=String.fromCharCode(240|Ht>>>18&7,128|Ht>>>12&63,128|Ht>>>6&63,128|63&Ht));return Qt}(Mt))),Le[Tt])?Le[Tt].apply(null,vt):(Mt=Function.apply(null,st.concat(Mt)),Le&&(Le[Tt]=Mt),Mt.apply(null,vt))}}}({cache:Ht}),un=Wt.link,vn=Wt.global;Wt.id=Vn++,Wt.batchId="0";var $n=un(Ur),Hn=Wt.shared={props:"a0"};Object.keys(Ur).forEach(function(kn){Hn[kn]=vn.def($n,".",kn)});var zn=Wt.next={},bn=Wt.current={};Object.keys(Sr).forEach(function(kn){Array.isArray(Bn[kn])&&(zn[kn]=vn.def(Hn.next,".",kn),bn[kn]=vn.def(Hn.current,".",kn))});var Sn=Wt.constants={};Object.keys(fn).forEach(function(kn){Sn[kn]=vn.def(JSON.stringify(fn[kn]))}),Wt.invoke=function(kn,In){switch(In.type){case 0:var Yn=["this",Hn.context,Hn.props,Wt.batchId];return kn.def(un(In.data),".call(",Yn.slice(0,Math.max(In.data.length+1,4)),")");case 1:return kn.def(Hn.props,In.data);case 2:return kn.def(Hn.context,In.data);case 3:return kn.def("this",In.data);case 4:return In.data.append(Wt,kn),In.data.ref;case 5:return In.data.toString();case 6:return In.data.map(function(Rn){return Wt.invoke(kn,Rn)})}},Wt.attribCache={};var gn={};return Wt.scopeAttrib=function(kn){if((kn=ot.id(kn))in gn)return gn[kn];var In=jt.scope[kn];return In||(In=jt.scope[kn]=new ur),gn[kn]=un(In)},Wt}function tr(Wt,un,vn,$n,Hn){function zn(wr){var Tr=Sn[wr];Tr&&(kn[wr]=Tr)}var wr,Cr,Ar,Ir,bn=function(wr,Tr){if("string"==typeof(Cr=wr.static).frag&&"string"==typeof Cr.vert){if(0<Object.keys(Tr.dynamic).length)return null;var Cr=Tr.static,Ar=Object.keys(Cr);if(0<Ar.length&&"number"==typeof Cr[Ar[0]]){for(var Ir=[],Wr=0;Wr<Ar.length;++Wr)Ir.push([0|Cr[Ar[Wr]],Ar[Wr]]);return Ir}}return null}(Wt,un),Sn=function(wr,Tr,Cr){function Ar(oi){if(oi in Ir){var Pr=Ir[oi];oi=!0;var li,zr,po=0|Pr.x,qo=0|Pr.y;return"width"in Pr?li=0|Pr.width:oi=!1,"height"in Pr?zr=0|Pr.height:oi=!1,new H(!oi&&Tr&&Tr.thisDep,!oi&&Tr&&Tr.contextDep,!oi&&Tr&&Tr.propDep,function(As,Sa){var Ai=As.shared.context,el=li;"width"in Pr||(el=Sa.def(Ai,".","framebufferWidth","-",po));var Xl=zr;return"height"in Pr||(Xl=Sa.def(Ai,".","framebufferHeight","-",qo)),[po,qo,el,Xl]})}if(oi in Wr){var ro=Wr[oi];return oi=$(ro,function(As,Sa){var Ai=As.invoke(Sa,ro),el=As.shared.context,Xl=Sa.def(Ai,".x|0"),ju=Sa.def(Ai,".y|0");return[Xl,ju,Sa.def('"width" in ',Ai,"?",Ai,".width|0:","(",el,".","framebufferWidth","-",Xl,")"),Ai=Sa.def('"height" in ',Ai,"?",Ai,".height|0:","(",el,".","framebufferHeight","-",ju,")")]}),Tr&&(oi.thisDep=oi.thisDep||Tr.thisDep,oi.contextDep=oi.contextDep||Tr.contextDep,oi.propDep=oi.propDep||Tr.propDep),oi}return Tr?new H(Tr.thisDep,Tr.contextDep,Tr.propDep,function(As,Sa){var Ai=As.shared.context;return[0,0,Sa.def(Ai,".","framebufferWidth"),Sa.def(Ai,".","framebufferHeight")]}):null}var Ir=wr.static,Wr=wr.dynamic;if(wr=Ar("viewport")){var Mi=wr;wr=new H(wr.thisDep,wr.contextDep,wr.propDep,function(oi,Pr){var li=Mi.append(oi,Pr),zr=oi.shared.context;return Pr.set(zr,".viewportWidth",li[2]),Pr.set(zr,".viewportHeight",li[3]),li})}return{viewport:wr,scissor_box:Ar("scissor.box")}}(Wt,Yn=function Tn(Wt,un){var vn=Wt.static,$n=Wt.dynamic;if("framebuffer"in vn){var Hn=vn.framebuffer;return Hn?(Hn=bt.getFramebuffer(Hn),X(function(bn,Sn){var gn=bn.link(Hn),kn=bn.shared;return Sn.set(kn.framebuffer,".next",gn),Sn.set(kn=kn.context,".framebufferWidth",gn+".width"),Sn.set(kn,".framebufferHeight",gn+".height"),gn})):X(function(bn,Sn){var gn=bn.shared;return Sn.set(gn.framebuffer,".next","null"),Sn.set(gn=gn.context,".framebufferWidth",gn+".drawingBufferWidth"),Sn.set(gn,".framebufferHeight",gn+".drawingBufferHeight"),"null"})}if("framebuffer"in $n){var zn=$n.framebuffer;return $(zn,function(bn,Sn){var gn=bn.invoke(Sn,zn),kn=bn.shared,In=kn.framebuffer;return gn=Sn.def(In,".getFramebuffer(",gn,")"),Sn.set(In,".next",gn),Sn.set(kn=kn.context,".framebufferWidth",gn+"?"+gn+".width:"+kn+".drawingBufferWidth"),Sn.set(kn,".framebufferHeight",gn+"?"+gn+".height:"+kn+".drawingBufferHeight"),gn})}return null}(Wt)),gn=function pn(Wt,un){function vn(sr,wr){if(sr in $n){var Tr=0|$n[sr];return wr?zn.offset=Tr:zn.instances=Tr,X(function(Ar,Ir){return wr&&(Ar.OFFSET=Tr),Tr})}if(sr in Hn){var Cr=Hn[sr];return $(Cr,function(Ar,Ir){var Wr=Ar.invoke(Ir,Cr);return wr&&(Ar.OFFSET=Wr),Wr})}if(wr){if(gn)return X(function(Ar,Ir){return Ar.OFFSET=0});if(bn)return new H(Sn.thisDep,Sn.contextDep,Sn.propDep,function(Ar,Ir){return Ir.def(Ar.shared.vao+".currentVAO?"+Ar.shared.vao+".currentVAO.offset:0")})}else if(bn)return new H(Sn.thisDep,Sn.contextDep,Sn.propDep,function(Ar,Ir){return Ir.def(Ar.shared.vao+".currentVAO?"+Ar.shared.vao+".currentVAO.instances:-1")});return null}var $n=Wt.static,Hn=Wt.dynamic,zn={},bn=!1,Sn=function(){if("vao"in $n){var sr=$n.vao;return null!==sr&&null===jt.getVAO(sr)&&(sr=jt.createVAO(sr)),bn=!0,zn.vao=sr,X(function(Tr){var Cr=jt.getVAO(sr);return Cr?Tr.link(Cr):"null"})}if("vao"in Hn){bn=!0;var wr=Hn.vao;return $(wr,function(Tr,Cr){var Ar=Tr.invoke(Cr,wr);return Cr.def(Tr.shared.vao+".getVAO("+Ar+")")})}return null}(),gn=!1,kn=function(){if("elements"in $n){var sr=$n.elements;if(zn.elements=sr,q(sr)){var wr=zn.elements=st.create(sr,!0);sr=st.getElements(wr),gn=!0}else sr&&(sr=st.getElements(sr),gn=!0);return(wr=X(function(Cr,Ar){if(sr){var Ir=Cr.link(sr);return Cr.ELEMENTS=Ir}return Cr.ELEMENTS=null})).value=sr,wr}if("elements"in Hn){gn=!0;var Tr=Hn.elements;return $(Tr,function(Cr,Ar){var Ir=(Wr=Cr.shared).isBufferArgs,Wr=Wr.elements,Mi=Cr.invoke(Ar,Tr),oi=Ar.def("null");return Ir=Ar.def(Ir,"(",Mi,")"),Mi=Cr.cond(Ir).then(oi,"=",Wr,".createStream(",Mi,");").else(oi,"=",Wr,".getElements(",Mi,");"),Ar.entry(Mi),Ar.exit(Cr.cond(Ir).then(Wr,".destroyStream(",oi,");")),Cr.ELEMENTS=oi})}return bn?new H(Sn.thisDep,Sn.contextDep,Sn.propDep,function(Cr,Ar){return Ar.def(Cr.shared.vao+".currentVAO?"+Cr.shared.elements+".getElements("+Cr.shared.vao+".currentVAO.elements):null")}):null}(),In=vn("offset",!0),Yn=function(){if("primitive"in $n){var sr=$n.primitive;return zn.primitive=sr,X(function(Tr,Cr){return de[sr]})}if("primitive"in Hn){var wr=Hn.primitive;return $(wr,function(Tr,Cr){var Ar=Tr.constants.primTypes,Ir=Tr.invoke(Cr,wr);return Cr.def(Ar,"[",Ir,"]")})}return gn?ne(kn)?X(kn.value?function(Tr,Cr){return Cr.def(Tr.ELEMENTS,".primType")}:function(){return 4}):new H(kn.thisDep,kn.contextDep,kn.propDep,function(Tr,Cr){var Ar=Tr.ELEMENTS;return Cr.def(Ar,"?",Ar,".primType:",4)}):bn?new H(Sn.thisDep,Sn.contextDep,Sn.propDep,function(Tr,Cr){return Cr.def(Tr.shared.vao+".currentVAO?"+Tr.shared.vao+".currentVAO.primitive:4")}):null}(),Rn=function(){if("count"in $n){var sr=0|$n.count;return zn.count=sr,X(function(){return sr})}if("count"in Hn){var wr=Hn.count;return $(wr,function(Tr,Cr){return Tr.invoke(Cr,wr)})}return gn?ne(kn)?kn?In?new H(In.thisDep,In.contextDep,In.propDep,function(Tr,Cr){return Cr.def(Tr.ELEMENTS,".vertCount-",Tr.OFFSET)}):X(function(Tr,Cr){return Cr.def(Tr.ELEMENTS,".vertCount")}):X(function(){return-1}):new H(kn.thisDep||In.thisDep,kn.contextDep||In.contextDep,kn.propDep||In.propDep,function(Tr,Cr){var Ar=Tr.ELEMENTS;return Tr.OFFSET?Cr.def(Ar,"?",Ar,".vertCount-",Tr.OFFSET,":-1"):Cr.def(Ar,"?",Ar,".vertCount:-1")}):bn?new H(Sn.thisDep,Sn.contextDep,Sn.propDep,function(Tr,Cr){return Cr.def(Tr.shared.vao,".currentVAO?",Tr.shared.vao,".currentVAO.count:-1")}):null}(),hr=vn("instances",!1);return{elements:kn,primitive:Yn,count:Rn,instances:hr,offset:In,vao:Sn,vaoActive:bn,elementsActive:gn,static:zn}}(Wt),kn=(Cr=(wr=Wt).static,Ar=wr.dynamic,Ir={},nr.forEach(function(Wr){function Mi(Pr,li){if(Wr in Cr){var zr=Pr(Cr[Wr]);Ir[oi]=X(function(){return zr})}else if(Wr in Ar){var po=Ar[Wr];Ir[oi]=$(po,function(qo,ro){return li(qo,ro,qo.invoke(ro,po))})}}var oi=Qt(Wr);switch(Wr){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":case"lineWidth":return Mi(function(Pr){return Pr},function(Pr,li,zr){return zr});case"depth.func":return Mi(function(Pr){return tn[Pr]},function(Pr,li,zr){return li.def(Pr.constants.compareFuncs,"[",zr,"]")});case"depth.range":return Mi(function(Pr){return Pr},function(Pr,li,zr){return[li.def("+",zr,"[0]"),li=li.def("+",zr,"[1]")]});case"blend.func":return Mi(function(Pr){return[Vt["srcRGB"in Pr?Pr.srcRGB:Pr.src],Vt["dstRGB"in Pr?Pr.dstRGB:Pr.dst],Vt["srcAlpha"in Pr?Pr.srcAlpha:Pr.src],Vt["dstAlpha"in Pr?Pr.dstAlpha:Pr.dst]]},function(Pr,li,zr){function po(Sa,Ai){return li.def('"',Sa,Ai,'" in ',zr,"?",zr,".",Sa,Ai,":",zr,".",Sa)}Pr=Pr.constants.blendFuncs;var qo=po("src","RGB"),ro=po("dst","RGB"),As=(qo=li.def(Pr,"[",qo,"]"),li.def(Pr,"[",po("src","Alpha"),"]"));return[qo,ro=li.def(Pr,"[",ro,"]"),As,Pr=li.def(Pr,"[",po("dst","Alpha"),"]")]});case"blend.equation":return Mi(function(Pr){return"string"==typeof Pr?[cr[Pr],cr[Pr]]:"object"==typeof Pr?[cr[Pr.rgb],cr[Pr.alpha]]:void 0},function(Pr,li,zr){var po=Pr.constants.blendEquations,qo=li.def(),ro=li.def();return(Pr=Pr.cond("typeof ",zr,'==="string"')).then(qo,"=",ro,"=",po,"[",zr,"];"),Pr.else(qo,"=",po,"[",zr,".rgb];",ro,"=",po,"[",zr,".alpha];"),li(Pr),[qo,ro]});case"blend.color":return Mi(function(Pr){return M(4,function(li){return+Pr[li]})},function(Pr,li,zr){return M(4,function(po){return li.def("+",zr,"[",po,"]")})});case"stencil.mask":return Mi(function(Pr){return 0|Pr},function(Pr,li,zr){return li.def(zr,"|0")});case"stencil.func":return Mi(function(Pr){return[tn[Pr.cmp||"keep"],Pr.ref||0,"mask"in Pr?Pr.mask:-1]},function(Pr,li,zr){return[Pr=li.def('"cmp" in ',zr,"?",Pr.constants.compareFuncs,"[",zr,".cmp]",":",7680),li.def(zr,".ref|0"),li=li.def('"mask" in ',zr,"?",zr,".mask|0:-1")]});case"stencil.opFront":case"stencil.opBack":return Mi(function(Pr){return["stencil.opBack"===Wr?1029:1028,Gt[Pr.fail||"keep"],Gt[Pr.zfail||"keep"],Gt[Pr.zpass||"keep"]]},function(Pr,li,zr){function po(ro){return li.def('"',ro,'" in ',zr,"?",qo,"[",zr,".",ro,"]:",7680)}var qo=Pr.constants.stencilOps;return["stencil.opBack"===Wr?1029:1028,po("fail"),po("zfail"),po("zpass")]});case"polygonOffset.offset":return Mi(function(Pr){return[0|Pr.factor,0|Pr.units]},function(Pr,li,zr){return[li.def(zr,".factor|0"),li=li.def(zr,".units|0")]});case"cull.face":return Mi(function(Pr){var li=0;return"front"===Pr?li=1028:"back"===Pr&&(li=1029),li},function(Pr,li,zr){return li.def(zr,'==="front"?',1028,":",1029)});case"frontFace":return Mi(function(Pr){return et[Pr]},function(Pr,li,zr){return li.def(zr+'==="cw"?2304:2305')});case"colorMask":return Mi(function(Pr){return Pr.map(function(li){return!!li})},function(Pr,li,zr){return M(4,function(po){return"!!"+zr+"["+po+"]"})});case"sample.coverage":return Mi(function(Pr){return["value"in Pr?Pr.value:1,!!Pr.invert]},function(Pr,li,zr){return[li.def('"value" in ',zr,"?+",zr,".value:1"),li=li.def("!!",zr,".invert")]})}}),Ir),In=function An(Wt,un,vn){function $n(kn){if(kn in Hn){var In=ot.id(Hn[kn]);return(kn=X(function(){return In})).id=In,kn}if(kn in zn){var Yn=zn[kn];return $(Yn,function(Rn,hr){var sr=Rn.invoke(hr,Yn);return hr.def(Rn.shared.strings,".id(",sr,")")})}return null}var Hn=Wt.static,zn=Wt.dynamic,bn=$n("frag"),Sn=$n("vert"),gn=null;return ne(bn)&&ne(Sn)?(gn=Nt.program(Sn.id,bn.id,null,vn),Wt=X(function(kn,In){return kn.link(gn)})):Wt=new H(bn&&bn.thisDep||Sn&&Sn.thisDep,bn&&bn.contextDep||Sn&&Sn.contextDep,bn&&bn.propDep||Sn&&Sn.propDep,function(kn,In){var Yn,Rn,hr=kn.shared.shader;return Yn=bn?bn.append(kn,In):In.def(hr,".","frag"),Rn=Sn?Sn.append(kn,In):In.def(hr,".","vert"),In.def(hr+".program("+Rn+","+Yn+")")}),{frag:bn,vert:Sn,progVar:Wt,program:gn}}(Wt,0,bn);zn("viewport"),zn(Qt("scissor.box"));var Yn,Rn=0<Object.keys(kn).length;if((Yn={framebuffer:Yn,draw:gn,shader:In,state:kn,dirty:Rn,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}}).profile=function(wr){var Tr,Cr=wr.static;if(wr=wr.dynamic,"profile"in Cr){var Ar=!!Cr.profile;(Tr=X(function(Wr,Mi){return Ar})).enable=Ar}else if("profile"in wr){var Ir=wr.profile;Tr=$(Ir,function(Wr,Mi){return Wr.invoke(Mi,Ir)})}return Tr}(Wt),Yn.uniforms=function(wr,Tr){var Cr=wr.static,Ar=wr.dynamic,Ir={};return Object.keys(Cr).forEach(function(Wr){var Mi,oi=Cr[Wr];if("number"==typeof oi||"boolean"==typeof oi)Mi=X(function(){return oi});else if("function"==typeof oi){var Pr=oi._reglType;"texture2d"===Pr||"textureCube"===Pr?Mi=X(function(li){return li.link(oi)}):"framebuffer"!==Pr&&"framebufferCube"!==Pr||(Mi=X(function(li){return li.link(oi.color[0])}))}else T(oi)&&(Mi=X(function(li){return li.global.def("[",M(oi.length,function(zr){return oi[zr]}),"]")}));Mi.value=oi,Ir[Wr]=Mi}),Object.keys(Ar).forEach(function(Wr){var Mi=Ar[Wr];Ir[Wr]=$(Mi,function(oi,Pr){return oi.invoke(Pr,Mi)})}),Ir}(vn),Yn.drawVAO=Yn.scopeVAO=gn.vao,!Yn.drawVAO&&In.program&&!bn&&dt.angle_instanced_arrays&&gn.static.elements){var hr=!0;if(Wt=In.program.attributes.map(function(wr){return wr=un.static[wr],hr=hr&&!!wr,wr}),hr&&0<Wt.length){var sr=jt.getVAO(jt.createVAO({attributes:Wt,elements:gn.static.elements}));Yn.drawVAO=new H(null,null,null,function(wr,Tr){return wr.link(sr)}),Yn.useVAO=!0}}return bn?Yn.useVAO=!0:Yn.attributes=function Nn(Wt,un){var vn=Wt.static,$n=Wt.dynamic,Hn={};return Object.keys(vn).forEach(function(zn){var bn=vn[zn],Sn=ot.id(zn),gn=new ur;if(q(bn))gn.state=1,gn.buffer=Ge.getBuffer(Ge.create(bn,34962,!1,!0)),gn.type=0;else if(In=Ge.getBuffer(bn))gn.state=1,gn.buffer=In,gn.type=0;else if("constant"in bn){var kn=bn.constant;gn.buffer="null",gn.state=2,"number"==typeof kn?gn.x=kn:Bt.forEach(function(Tr,Cr){Cr<kn.length&&(gn[Tr]=kn[Cr])})}else{var In=q(bn.buffer)?Ge.getBuffer(Ge.create(bn.buffer,34962,!1,!0)):Ge.getBuffer(bn.buffer),Yn=0|bn.offset,Rn=0|bn.stride,hr=0|bn.size,sr=!!bn.normalized,wr=0;"type"in bn&&(wr=be[bn.type]),bn=0|bn.divisor,gn.buffer=In,gn.state=1,gn.size=hr,gn.normalized=sr,gn.type=wr||In.dtype,gn.offset=Yn,gn.stride=Rn,gn.divisor=bn}Hn[zn]=X(function(Tr,Cr){var Ar=Tr.attribCache;if(Sn in Ar)return Ar[Sn];var Ir={isStream:!1};return Object.keys(gn).forEach(function(Wr){Ir[Wr]=gn[Wr]}),gn.buffer&&(Ir.buffer=Tr.link(gn.buffer),Ir.type=Ir.type||Ir.buffer+".dtype"),Ar[Sn]=Ir})}),Object.keys($n).forEach(function(zn){var bn=$n[zn];Hn[zn]=$(bn,function(Sn,gn){function kn(Ar){gn(sr[Ar],"=",In,".",Ar,"|0;")}var In=Sn.invoke(gn,bn),Yn=Sn.shared,Rn=Sn.constants,hr=Yn.isBufferArgs,sr=(Yn=Yn.buffer,{isStream:gn.def(!1)}),wr=new ur;wr.state=1,Object.keys(wr).forEach(function(Ar){sr[Ar]=gn.def(""+wr[Ar])});var Tr=sr.buffer,Cr=sr.type;return gn("if(",hr,"(",In,")){",sr.isStream,"=true;",Tr,"=",Yn,".createStream(",34962,",",In,");",Cr,"=",Tr,".dtype;","}else{",Tr,"=",Yn,".getBuffer(",In,");","if(",Tr,"){",Cr,"=",Tr,".dtype;",'}else if("constant" in ',In,"){",sr.state,"=",2,";","if(typeof "+In+'.constant === "number"){',sr[Bt[0]],"=",In,".constant;",Bt.slice(1).map(function(Ar){return sr[Ar]}).join("="),"=0;","}else{",Bt.map(function(Ar,Ir){return sr[Ar]+"="+In+".constant.length>"+Ir+"?"+In+".constant["+Ir+"]:0;"}).join(""),"}}else{","if(",hr,"(",In,".buffer)){",Tr,"=",Yn,".createStream(",34962,",",In,".buffer);","}else{",Tr,"=",Yn,".getBuffer(",In,".buffer);","}",Cr,'="type" in ',In,"?",Rn.glTypes,"[",In,".type]:",Tr,".dtype;",sr.normalized,"=!!",In,".normalized;"),kn("size"),kn("offset"),kn("stride"),kn("divisor"),gn("}}"),gn.exit("if(",sr.isStream,"){",Yn,".destroyStream(",Tr,");","}"),sr})}),Hn}(un),Yn.context=function(wr){var Tr=wr.static,Cr=wr.dynamic,Ar={};return Object.keys(Tr).forEach(function(Ir){var Wr=Tr[Ir];Ar[Ir]=X(function(Mi,oi){return"number"==typeof Wr||"boolean"==typeof Wr?""+Wr:Mi.link(Wr)})}),Object.keys(Cr).forEach(function(Ir){var Wr=Cr[Ir];Ar[Ir]=$(Wr,function(Mi,oi){return Mi.invoke(oi,Wr)})}),Ar}($n),Yn}function On(Wt,un,vn){var $n=Wt.shared.context,Hn=Wt.scope();Object.keys(vn).forEach(function(zn){un.save($n,"."+zn);var bn=vn[zn].append(Wt,un);Array.isArray(bn)?Hn($n,".",zn,"=[",bn.join(),"];"):Hn($n,".",zn,"=",bn,";")}),un(Hn)}function wn(Wt,un,vn,$n){var Hn,zn=(Sn=Wt.shared).gl,bn=Sn.framebuffer;xn&&(Hn=un.def(Sn.extensions,".webgl_draw_buffers"));var Sn=(gn=Wt.constants).drawBuffer,gn=gn.backBuffer;Wt=vn?vn.append(Wt,un):un.def(bn,".next"),$n||un("if(",Wt,"!==",bn,".cur){"),un("if(",Wt,"){",zn,".bindFramebuffer(",36160,",",Wt,".framebuffer);"),xn&&un(Hn,".drawBuffersWEBGL(",Sn,"[",Wt,".colorAttachments.length]);"),un("}else{",zn,".bindFramebuffer(",36160,",null);"),xn&&un(Hn,".drawBuffersWEBGL(",gn,");"),un("}",bn,".cur=",Wt,";"),$n||un("}")}function Cn(Wt,un,vn){var $n=Wt.shared,Hn=$n.gl,zn=Wt.current,bn=Wt.next,Sn=$n.current,gn=$n.next,kn=Wt.cond(Sn,".dirty");nr.forEach(function(In){var Yn,Rn;if(!((In=Qt(In))in vn.state))if(In in bn){Yn=bn[In],Rn=zn[In];var hr=M(Bn[In].length,function(sr){return kn.def(Yn,"[",sr,"]")});kn(Wt.cond(hr.map(function(sr,wr){return sr+"!=="+Rn+"["+wr+"]"}).join("||")).then(Hn,".",Sr[In],"(",hr,");",hr.map(function(sr,wr){return Rn+"["+wr+"]="+sr}).join(";"),";"))}else Yn=kn.def(gn,".",In),hr=Wt.cond(Yn,"!==",Sn,".",In),kn(hr),In in fr?hr(Wt.cond(Yn).then(Hn,".enable(",fr[In],");").else(Hn,".disable(",fr[In],");"),Sn,".",In,"=",Yn,";"):hr(Hn,".",Sr[In],"(",Yn,");",Sn,".",In,"=",Yn,";")}),0===Object.keys(vn.state).length&&kn(Sn,".dirty=false;"),un(kn)}function mn(Wt,un,vn,$n){var Hn,zn=Wt.shared,bn=Wt.current,Sn=zn.current,gn=zn.gl;G(Object.keys(vn)).forEach(function(kn){var In=vn[kn];if(!$n||$n(In)){var Yn=In.append(Wt,un);if(fr[kn]){var Rn=fr[kn];ne(In)?(Hn=Wt.link(Yn,{stable:!0}),un(Wt.cond(Hn).then(gn,".enable(",Rn,");").else(gn,".disable(",Rn,");")),un(Sn,".",kn,"=",Hn,";")):(un(Wt.cond(Yn).then(gn,".enable(",Rn,");").else(gn,".disable(",Rn,");")),un(Sn,".",kn,"=",Yn,";"))}else if(T(Yn)){var hr=bn[kn];un(gn,".",Sr[kn],"(",Yn,");",Yn.map(function(sr,wr){return hr+"["+wr+"]="+sr}).join(";"),";")}else ne(In)?(Hn=Wt.link(Yn,{stable:!0}),un(gn,".",Sr[kn],"(",Hn,");",Sn,".",kn,"=",Hn,";")):un(gn,".",Sr[kn],"(",Yn,");",Sn,".",kn,"=",Yn,";")}})}function En(Wt,un){on&&(Wt.instancing=un.def(Wt.shared.extensions,".angle_instanced_arrays"))}function Fn(Wt,un,vn,$n,Hn){function zn(){return typeof performance>"u"?"Date.now()":"performance.now()"}function bn(wr){wr(kn=un.def(),"=",zn(),";"),"string"==typeof Hn?wr(Rn,".count+=",Hn,";"):wr(Rn,".count++;"),kt&&($n?wr(In=un.def(),"=",sr,".getNumPendingQueries();"):wr(sr,".beginQuery(",Rn,");"))}function Sn(wr){wr(Rn,".cpuTime+=",zn(),"-",kn,";"),kt&&($n?wr(sr,".pushScopeStats(",In,",",sr,".getNumPendingQueries(),",Rn,");"):wr(sr,".endQuery();"))}function gn(wr){var Tr=un.def(hr,".profile");un(hr,".profile=",wr,";"),un.exit(hr,".profile=",Tr,";")}var kn,In,Yn=Wt.shared,Rn=Wt.stats,hr=Yn.current,sr=Yn.timer;if(vn=vn.profile){if(ne(vn))return void(vn.enable?(bn(un),Sn(un.exit),gn("true")):gn("false"));gn(vn=vn.append(Wt,un))}else vn=un.def(hr,".profile");bn(Yn=Wt.block()),un("if(",vn,"){",Yn,"}"),Sn(Wt=Wt.block()),un.exit("if(",vn,"){",Wt,"}")}function jn(Wt,un,vn,$n,Hn){var bn=Wt.shared;$n.forEach(function(Sn){var gn,kn=Sn.name,In=vn.attributes[kn];if(In){if(!Hn(In))return;gn=In.append(Wt,un)}else{if(!Hn(nt))return;var Yn=Wt.scopeAttrib(kn);gn={},Object.keys(new ur).forEach(function(Rn){gn[Rn]=un.def(Yn,".",Rn)})}!function zn(Sn,gn,kn){function In(){un("if(!",sr,".buffer){",Rn,".enableVertexAttribArray(",hr,");}");var Ar,Ir=kn.type;Ar=kn.size?un.def(kn.size,"||",gn):gn,un("if(",sr,".type!==",Ir,"||",sr,".size!==",Ar,"||",Cr.map(function(Wr){return sr+"."+Wr+"!=="+kn[Wr]}).join("||"),"){",Rn,".bindBuffer(",34962,",",wr,".buffer);",Rn,".vertexAttribPointer(",[hr,Ar,Ir,kn.normalized,kn.stride,kn.offset],");",sr,".type=",Ir,";",sr,".size=",Ar,";",Cr.map(function(Wr){return sr+"."+Wr+"="+kn[Wr]+";"}).join(""),"}"),on&&un("if(",sr,".divisor!==",Ir=kn.divisor,"){",Wt.instancing,".vertexAttribDivisorANGLE(",[hr,Ir],");",sr,".divisor=",Ir,";}")}function Yn(){un("if(",sr,".buffer){",Rn,".disableVertexAttribArray(",hr,");",sr,".buffer=null;","}if(",Bt.map(function(Ar,Ir){return sr+"."+Ar+"!=="+Tr[Ir]}).join("||"),"){",Rn,".vertexAttrib4f(",hr,",",Tr,");",Bt.map(function(Ar,Ir){return sr+"."+Ar+"="+Tr[Ir]+";"}).join(""),"}")}var Rn=bn.gl,hr=un.def(Sn,".location"),sr=un.def(bn.attributes,"[",hr,"]"),wr=kn.buffer,Tr=[kn.x,kn.y,kn.z,kn.w],Cr=["buffer","normalized","offset","stride"];1===(Sn=kn.state)?In():2===Sn?Yn():(un("if(",Sn,"===",1,"){"),In(),un("}else{"),Yn(),un("}"))}(Wt.link(Sn),function(Rn){switch(Rn){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(Sn.info.type),gn)})}function er(Wt,un,vn,$n,Hn,zn){for(var bn,Sn=Wt.shared,gn=Sn.gl,kn=0;kn<$n.length;++kn){var In,Yn=(sr=$n[kn]).name,Rn=sr.info.type,hr=vn.uniforms[Yn],sr=Wt.link(sr)+".location";if(hr){if(!Hn(hr))continue;if(ne(hr)){if(Yn=hr.value,35678===Rn||35680===Rn)un(gn,".uniform1i(",sr,",",(Rn=Wt.link(Yn._texture||Yn.color[0]._texture))+".bind());"),un.exit(Rn,".unbind();");else if(35674===Rn||35675===Rn||35676===Rn)hr=2,35675===Rn?hr=3:35676===Rn&&(hr=4),un(gn,".uniformMatrix",hr,"fv(",sr,",false,",Yn=Wt.global.def("new Float32Array(["+Array.prototype.slice.call(Yn)+"])"),");");else{switch(Rn){case 5126:bn="1f";break;case 35664:bn="2f";break;case 35665:bn="3f";break;case 35666:bn="4f";break;case 35670:case 5124:bn="1i";break;case 35671:case 35667:bn="2i";break;case 35672:case 35668:bn="3i";break;case 35673:case 35669:bn="4i"}un(gn,".uniform",bn,"(",sr,",",T(Yn)?Array.prototype.slice.call(Yn):Yn,");")}continue}In=hr.append(Wt,un)}else{if(!Hn(nt))continue;In=un.def(Sn.uniforms,"[",ot.id(Yn),"]")}switch(35678===Rn?un("if(",In,"&&",In,'._reglType==="framebuffer"){',In,"=",In,".color[0];","}"):35680===Rn&&un("if(",In,"&&",In,'._reglType==="framebufferCube"){',In,"=",In,".color[0];","}"),Yn=1,Rn){case 35678:case 35680:Rn=un.def(In,"._texture"),un(gn,".uniform1i(",sr,",",Rn,".bind());"),un.exit(Rn,".unbind();");continue;case 5124:case 35670:bn="1i";break;case 35667:case 35671:bn="2i",Yn=2;break;case 35668:case 35672:bn="3i",Yn=3;break;case 35669:case 35673:bn="4i",Yn=4;break;case 5126:bn="1f";break;case 35664:bn="2f",Yn=2;break;case 35665:bn="3f",Yn=3;break;case 35666:bn="4f",Yn=4;break;case 35674:bn="Matrix2fv";break;case 35675:bn="Matrix3fv";break;case 35676:bn="Matrix4fv"}if("M"===bn.charAt(0)){un(gn,".uniform",bn,"(",sr,","),sr=Math.pow(Rn-35674+2,2);var wr=Wt.global.def("new Float32Array(",sr,")");Array.isArray(In)?un("false,(",M(sr,function(Cr){return wr+"["+Cr+"]="+In[Cr]}),",",wr,")"):un("false,(Array.isArray(",In,")||",In," instanceof Float32Array)?",In,":(",M(sr,function(Cr){return wr+"["+Cr+"]="+In+"["+Cr+"]"}),",",wr,")"),un(");")}else{if(1<Yn){Rn=[];var Tr=[];for(hr=0;hr<Yn;++hr)Array.isArray(In)?Tr.push(In[hr]):Tr.push(un.def(In+"["+hr+"]")),zn&&Rn.push(un.def());zn&&un("if(!",Wt.batchId,"||",Rn.map(function(Cr,Ar){return Cr+"!=="+Tr[Ar]}).join("||"),"){",Rn.map(function(Cr,Ar){return Cr+"="+Tr[Ar]+";"}).join("")),un(gn,".uniform",bn,"(",sr,",",Tr.join(","),");")}else zn&&(Rn=un.def(),un("if(!",Wt.batchId,"||",Rn,"!==",In,"){",Rn,"=",In,";")),un(gn,".uniform",bn,"(",sr,",",In,");");zn&&un("}")}}}function Zn(Wt,un,vn,$n){function Hn(Ir){var Wr=Rn[Ir];return Wr?Wr.append(Wt,Wr.contextDep&&$n.contextDynamic||Wr.propDep?vn:un):un.def(Yn,".",Ir)}function zn(){function Ir(){vn(gn,".drawElementsInstancedANGLE(",[sr,Tr,Cr,wr+"<<(("+Cr+"-5121)>>1)",Sn],");")}function Wr(){vn(gn,".drawArraysInstancedANGLE(",[sr,wr,Tr,Sn],");")}hr&&"null"!==hr?Ar?Ir():(vn("if(",hr,"){"),Ir(),vn("}else{"),Wr(),vn("}")):Wr()}function bn(){function Ir(){vn(In+".drawElements("+[sr,Tr,Cr,wr+"<<(("+Cr+"-5121)>>1)"]+");")}function Wr(){vn(In+".drawArrays("+[sr,wr,Tr]+");")}hr&&"null"!==hr?Ar?Ir():(vn("if(",hr,"){"),Ir(),vn("}else{"),Wr(),vn("}")):Wr()}var Sn,gn,Ir,Wr,kn=Wt.shared,In=kn.gl,Yn=kn.draw,Rn=$n.draw,hr=(Wr=un,(Ir=Rn.elements)?((Ir.contextDep&&$n.contextDynamic||Ir.propDep)&&(Wr=vn),Ir=Ir.append(Wt,Wr),Rn.elementsActive&&Wr("if("+Ir+")"+In+".bindBuffer(34963,"+Ir+".buffer.buffer);")):(Ir=Wr.def(),Wr(Ir,"=",Yn,".","elements",";","if(",Ir,"){",In,".bindBuffer(",34963,",",Ir,".buffer.buffer);}","else if(",kn.vao,".currentVAO){",Ir,"=",Wt.shared.elements+".getElements("+kn.vao,".currentVAO.elements);",Wn?"":"if("+Ir+")"+In+".bindBuffer(34963,"+Ir+".buffer.buffer);","}")),Ir),sr=Hn("primitive"),wr=Hn("offset"),Tr=function(){var Ir=Rn.count,Wr=un;return Ir?((Ir.contextDep&&$n.contextDynamic||Ir.propDep)&&(Wr=vn),Ir=Ir.append(Wt,Wr)):Ir=Wr.def(Yn,".","count"),Ir}();if("number"==typeof Tr){if(0===Tr)return}else vn("if(",Tr,"){"),vn.exit("}");on&&(Sn=Hn("instances"),gn=Wt.instancing);var Cr=hr+".type",Ar=Rn.elements&&ne(Rn.elements)&&!Rn.vaoActive;on&&("number"!=typeof Sn||0<=Sn)?"string"==typeof Sn?(vn("if(",Sn,">0){"),zn(),vn("}else if(",Sn,"<0){"),bn(),vn("}")):zn():bn()}function Gn(Wt,un,vn,$n,Hn){return Hn=(un=ln()).proc("body",Hn),on&&(un.instancing=Hn.def(un.shared.extensions,".angle_instanced_arrays")),Wt(un,Hn,vn,$n),un.compile().body}function _r(Wt,un,vn,$n){En(Wt,un),vn.useVAO?vn.drawVAO?un(Wt.shared.vao,".setVAO(",vn.drawVAO.append(Wt,un),");"):un(Wt.shared.vao,".setVAO(",Wt.shared.vao,".targetVAO);"):(un(Wt.shared.vao,".setVAO(null);"),jn(Wt,un,vn,$n.attributes,function(){return!0})),er(Wt,un,vn,$n.uniforms,function(){return!0},!1),Zn(Wt,un,un,vn)}function mr(Wt,un,vn,$n){function Hn(){return!0}Wt.batchId="a1",En(Wt,un),jn(Wt,un,vn,$n.attributes,Hn),er(Wt,un,vn,$n.uniforms,Hn,!1),Zn(Wt,un,un,vn)}function Vr(Wt,un,vn,$n){function Hn(Yn){return Yn.contextDep&&bn||Yn.propDep}function zn(Yn){return!Hn(Yn)}En(Wt,un);var bn=vn.contextDep,Sn=un.def(),gn=un.def();Wt.shared.props=gn,Wt.batchId=Sn;var kn=Wt.scope(),In=Wt.scope();un(kn.entry,"for(",Sn,"=0;",Sn,"<","a1",";++",Sn,"){",gn,"=","a0","[",Sn,"];",In,"}",kn.exit),vn.needsContext&&On(Wt,In,vn.context),vn.needsFramebuffer&&wn(Wt,In,vn.framebuffer),mn(Wt,In,vn.state,Hn),vn.profile&&Hn(vn.profile)&&Fn(Wt,In,vn,!1,!0),$n?(vn.useVAO?vn.drawVAO?Hn(vn.drawVAO)?In(Wt.shared.vao,".setVAO(",vn.drawVAO.append(Wt,In),");"):kn(Wt.shared.vao,".setVAO(",vn.drawVAO.append(Wt,kn),");"):kn(Wt.shared.vao,".setVAO(",Wt.shared.vao,".targetVAO);"):(kn(Wt.shared.vao,".setVAO(null);"),jn(Wt,kn,vn,$n.attributes,zn),jn(Wt,In,vn,$n.attributes,Hn)),er(Wt,kn,vn,$n.uniforms,zn,!1),er(Wt,In,vn,$n.uniforms,Hn,!0),Zn(Wt,kn,In,vn)):(un=Wt.global.def("{}"),$n=vn.shader.progVar.append(Wt,In),gn=In.def($n,".id"),kn=In.def(un,"[",gn,"]"),In(Wt.shared.gl,".useProgram(",$n,".program);","if(!",kn,"){",kn,"=",un,"[",gn,"]=",Wt.link(function(Yn){return Gn(mr,Wt,vn,Yn,2)}),"(",$n,");}",kn,".call(this,a0[",Sn,"],",Sn,");"))}function Un(Wt,un,vn){var $n=un.static[vn];if($n&&function(In){if("object"==typeof In&&!T(In)){for(var Yn=Object.keys(In),Rn=0;Rn<Yn.length;++Rn)if(ue.isDynamic(In[Yn[Rn]]))return!0;return!1}}($n)){var Hn=Wt.global,zn=Object.keys($n),bn=!1,Sn=!1,gn=!1,kn=Wt.global.def("{}");zn.forEach(function(In){var Yn=$n[In];if(ue.isDynamic(Yn))"function"==typeof Yn&&(Yn=$n[In]=ue.unbox(Yn)),In=$(Yn,null),bn=bn||In.thisDep,gn=gn||In.propDep,Sn=Sn||In.contextDep;else{switch(Hn(kn,".",In,"="),typeof Yn){case"number":Hn(Yn);break;case"string":Hn('"',Yn,'"');break;case"object":Array.isArray(Yn)&&Hn("[",Yn.join(),"]");break;default:Hn(Wt.link(Yn))}Hn(";")}}),un.dynamic[vn]=new ue.DynamicVariable(4,{thisDep:bn,contextDep:Sn,propDep:gn,ref:kn,append:function(In,Yn){zn.forEach(function(Rn){var hr=$n[Rn];ue.isDynamic(hr)&&(hr=In.invoke(Yn,hr),Yn(kn,".",Rn,"=",hr,";"))})}}),delete un.static[vn]}}var ur=jt.Record,cr={add:32774,subtract:32778,"reverse subtract":32779};dt.ext_blend_minmax&&(cr.min=32775,cr.max=32776);var on=dt.angle_instanced_arrays,xn=dt.webgl_draw_buffers,Wn=dt.oes_vertex_array_object,Bn={dirty:!0,profile:qt.profile},qn={},nr=[],fr={},Sr={};Jt("dither",3024),Jt("blend.enable",3042),Kt("blend.color","blendColor",[0,0,0,0]),Kt("blend.equation","blendEquationSeparate",[32774,32774]),Kt("blend.func","blendFuncSeparate",[1,0,1,0]),Jt("depth.enable",2929,!0),Kt("depth.func","depthFunc",513),Kt("depth.range","depthRange",[0,1]),Kt("depth.mask","depthMask",!0),Kt("colorMask","colorMask",[!0,!0,!0,!0]),Jt("cull.enable",2884),Kt("cull.face","cullFace",1029),Kt("frontFace","frontFace",2305),Kt("lineWidth","lineWidth",1),Jt("polygonOffset.enable",32823),Kt("polygonOffset.offset","polygonOffset",[0,0]),Jt("sample.alpha",32926),Jt("sample.enable",32928),Kt("sample.coverage","sampleCoverage",[1,!1]),Jt("stencil.enable",2960),Kt("stencil.mask","stencilMask",-1),Kt("stencil.func","stencilFunc",[519,0,-1]),Kt("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Kt("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),Jt("scissor.enable",3089),Kt("scissor.box","scissor",[0,0,$e.drawingBufferWidth,$e.drawingBufferHeight]),Kt("viewport","viewport",[0,0,$e.drawingBufferWidth,$e.drawingBufferHeight]);var Ur={gl:$e,context:Mt,strings:ot,next:qn,current:Bn,draw:Tt,elements:st,buffer:Ge,shader:Nt,attributes:jt.state,vao:jt,uniforms:Lt,framebuffer:bt,extensions:dt,timer:kt,isBufferArgs:q},fn={primTypes:de,compareFuncs:tn,blendFuncs:Vt,blendEquations:cr,stencilOps:Gt,glTypes:be,orientationType:et};xn&&(fn.backBuffer=[1029],fn.drawBuffer=M(Le.maxDrawbuffers,function(Wt){return 0===Wt?[0]:M(Wt,function(un){return 36064+un})}));var Vn=0;return{next:qn,current:Bn,procs:function(){var Wt=ln(),un=Wt.proc("poll"),vn=Wt.proc("refresh"),$n=Wt.block();un($n),vn($n);var Hn,zn=(gn=Wt.shared).gl,bn=gn.next,Sn=gn.current;$n(Sn,".dirty=false;"),wn(Wt,un),wn(Wt,vn,null,!0),on&&(Hn=Wt.link(on)),dt.oes_vertex_array_object&&vn(Wt.link(dt.oes_vertex_array_object),".bindVertexArrayOES(null);");var gn=vn.def(gn.attributes),kn=vn.def(0),In=Wt.cond(kn,".buffer");In.then(zn,".enableVertexAttribArray(i);",zn,".bindBuffer(",34962,",",kn,".buffer.buffer);",zn,".vertexAttribPointer(i,",kn,".size,",kn,".type,",kn,".normalized,",kn,".stride,",kn,".offset);").else(zn,".disableVertexAttribArray(i);",zn,".vertexAttrib4f(i,",kn,".x,",kn,".y,",kn,".z,",kn,".w);",kn,".buffer=null;");var Yn=Wt.link(Le.maxAttributes,{stable:!0});return vn("for(var i=0;i<",Yn,";++i){",kn,"=",gn,"[i];",In,"}"),on&&vn("for(var i=0;i<",Yn,";++i){",Hn,".vertexAttribDivisorANGLE(i,",gn,"[i].divisor);","}"),vn(Wt.shared.vao,".currentVAO=null;",Wt.shared.vao,".setVAO(",Wt.shared.vao,".targetVAO);"),Object.keys(fr).forEach(function(Rn){var hr=fr[Rn],sr=$n.def(bn,".",Rn),wr=Wt.block();wr("if(",sr,"){",zn,".enable(",hr,")}else{",zn,".disable(",hr,")}",Sn,".",Rn,"=",sr,";"),vn(wr),un("if(",sr,"!==",Sn,".",Rn,"){",wr,"}")}),Object.keys(Sr).forEach(function(Rn){var hr,sr,wr=Sr[Rn],Tr=Bn[Rn],Cr=Wt.block();Cr(zn,".",wr,"("),T(Tr)?(wr=Tr.length,hr=Wt.global.def(bn,".",Rn),sr=Wt.global.def(Sn,".",Rn),Cr(M(wr,function(Ar){return hr+"["+Ar+"]"}),");",M(wr,function(Ar){return sr+"["+Ar+"]="+hr+"["+Ar+"];"}).join("")),un("if(",M(wr,function(Ar){return hr+"["+Ar+"]!=="+sr+"["+Ar+"]"}).join("||"),"){",Cr,"}")):(hr=$n.def(bn,".",Rn),sr=$n.def(Sn,".",Rn),Cr(hr,");",Sn,".",Rn,"=",hr,";"),un("if(",hr,"!==",sr,"){",Cr,"}")),vn(Cr)}),Wt.compile()}(),compile:function(Wt,un,vn,$n,Hn){var zn=ln();zn.stats=zn.link(Hn),Object.keys(un.static).forEach(function(Sn){Un(zn,un,Sn)}),Ut.forEach(function(Sn){Un(zn,Wt,Sn)});var bn=tr(Wt,un,vn,$n);return bn.shader.program&&(bn.shader.program.attributes.sort(function(Sn,gn){return Sn.name<gn.name?-1:1}),bn.shader.program.uniforms.sort(function(Sn,gn){return Sn.name<gn.name?-1:1})),function(Sn,gn){var kn=Sn.proc("draw",1);En(Sn,kn),On(Sn,kn,gn.context),wn(Sn,kn,gn.framebuffer),Cn(Sn,kn,gn),mn(Sn,kn,gn.state),Fn(Sn,kn,gn,!1,!0);var In=gn.shader.progVar.append(Sn,kn);if(kn(Sn.shared.gl,".useProgram(",In,".program);"),gn.shader.program)_r(Sn,kn,gn,gn.shader.program);else{kn(Sn.shared.vao,".setVAO(null);");var Yn=Sn.global.def("{}"),Rn=kn.def(In,".id"),hr=kn.def(Yn,"[",Rn,"]");kn(Sn.cond(hr).then(hr,".call(this,a0);").else(hr,"=",Yn,"[",Rn,"]=",Sn.link(function(sr){return Gn(_r,Sn,gn,sr,1)}),"(",In,");",hr,".call(this,a0);"))}0<Object.keys(gn.state).length&&kn(Sn.shared.current,".dirty=true;"),Sn.shared.vao&&kn(Sn.shared.vao,".setVAO(null);")}(zn,bn),function Dr(Wt,un){function vn(Sn){var gn=un.shader[Sn];gn&&(gn=gn.append(Wt,$n),isNaN(gn)?$n.set(Hn.shader,"."+Sn,gn):$n.set(Hn.shader,"."+Sn,Wt.link(gn,{stable:!0})))}var $n=Wt.proc("scope",3);Wt.batchId="a2";var Hn=Wt.shared,zn=Hn.current;if(On(Wt,$n,un.context),un.framebuffer&&un.framebuffer.append(Wt,$n),G(Object.keys(un.state)).forEach(function(Sn){var gn=un.state[Sn],kn=gn.append(Wt,$n);T(kn)?kn.forEach(function(In,Yn){isNaN(In)?$n.set(Wt.next[Sn],"["+Yn+"]",In):$n.set(Wt.next[Sn],"["+Yn+"]",Wt.link(In,{stable:!0}))}):ne(gn)?$n.set(Hn.next,"."+Sn,Wt.link(kn,{stable:!0})):$n.set(Hn.next,"."+Sn,kn)}),Fn(Wt,$n,un,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(Sn){var gn=un.draw[Sn];gn&&(gn=gn.append(Wt,$n),isNaN(gn)?$n.set(Hn.draw,"."+Sn,gn):$n.set(Hn.draw,"."+Sn,Wt.link(gn),{stable:!0}))}),Object.keys(un.uniforms).forEach(function(Sn){var gn=un.uniforms[Sn].append(Wt,$n);Array.isArray(gn)&&(gn="["+gn.map(function(kn){return isNaN(kn)?kn:Wt.link(kn,{stable:!0})})+"]"),$n.set(Hn.uniforms,"["+Wt.link(ot.id(Sn),{stable:!0})+"]",gn)}),Object.keys(un.attributes).forEach(function(Sn){var gn=un.attributes[Sn].append(Wt,$n),kn=Wt.scopeAttrib(Sn);Object.keys(new ur).forEach(function(In){$n.set(kn,"."+In,gn[In])})}),un.scopeVAO){var bn=un.scopeVAO.append(Wt,$n);isNaN(bn)?$n.set(Hn.vao,".targetVAO",bn):$n.set(Hn.vao,".targetVAO",Wt.link(bn,{stable:!0}))}vn("vert"),vn("frag"),0<Object.keys(un.state).length&&($n(zn,".dirty=true;"),$n.exit(zn,".dirty=true;")),$n("a1(",Wt.shared.context,",a0,",Wt.batchId,");")}(zn,bn),function(Sn,gn){function kn(Tr){return Tr.contextDep&&Yn||Tr.propDep}var In=Sn.proc("batch",2);Sn.batchId="0",En(Sn,In);var Yn=!1,Rn=!0;Object.keys(gn.context).forEach(function(Tr){Yn=Yn||gn.context[Tr].propDep}),Yn||(On(Sn,In,gn.context),Rn=!1);var hr=!1;if((sr=gn.framebuffer)?(sr.propDep?Yn=hr=!0:sr.contextDep&&Yn&&(hr=!0),hr||wn(Sn,In,sr)):wn(Sn,In,null),gn.state.viewport&&gn.state.viewport.propDep&&(Yn=!0),Cn(Sn,In,gn),mn(Sn,In,gn.state,function(Tr){return!kn(Tr)}),gn.profile&&kn(gn.profile)||Fn(Sn,In,gn,!1,"a1"),gn.contextDep=Yn,gn.needsContext=Rn,gn.needsFramebuffer=hr,(Rn=gn.shader.progVar).contextDep&&Yn||Rn.propDep)Vr(Sn,In,gn,null);else if(Rn=Rn.append(Sn,In),In(Sn.shared.gl,".useProgram(",Rn,".program);"),gn.shader.program)Vr(Sn,In,gn,gn.shader.program);else{In(Sn.shared.vao,".setVAO(null);");var sr=Sn.global.def("{}"),wr=(hr=In.def(Rn,".id"),In.def(sr,"[",hr,"]"));In(Sn.cond(wr).then(wr,".call(this,a0,a1);").else(wr,"=",sr,"[",hr,"]=",Sn.link(function(Tr){return Gn(Vr,Sn,gn,Tr,2)}),"(",Rn,");",wr,".call(this,a0,a1);"))}0<Object.keys(gn.state).length&&In(Sn.shared.current,".dirty=true;"),Sn.shared.vao&&In(Sn.shared.vao,".setVAO(null);")}(zn,bn),re(zn.compile(),{destroy:function(){bn.shader.program.destroy()}})}}}function te($e,ot){for(var dt=0;dt<$e.length;++dt)if($e[dt]===ot)return dt;return-1}var re=function($e,ot){for(var dt=Object.keys(ot),Le=0;Le<dt.length;++Le)$e[dt[Le]]=ot[dt[Le]];return $e},le=0,ue={DynamicVariable:z,define:function($e,ot){return new z($e,C(ot+""))},isDynamic:function($e){return"function"==typeof $e&&!$e._reglType||$e instanceof z},unbox:function $e(ot,dt){return"function"==typeof ot?new z(0,ot):"number"==typeof ot||"boolean"==typeof ot?new z(5,ot):Array.isArray(ot)?new z(6,ot.map(function(Le,Ge){return $e(Le,dt+"["+Ge+"]")})):ot instanceof z?ot:void 0},accessor:C},he={next:"function"==typeof requestAnimationFrame?function($e){return requestAnimationFrame($e)}:function($e){return setTimeout($e,16)},cancel:"function"==typeof cancelAnimationFrame?function($e){return cancelAnimationFrame($e)}:clearTimeout},ge=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},xe=c();xe.zero=c();var Ae=function($e){return $e instanceof Uint8Array||$e instanceof Uint16Array||$e instanceof Uint32Array||$e instanceof Int8Array||$e instanceof Int16Array||$e instanceof Int32Array||$e instanceof Float32Array||$e instanceof Float64Array||$e instanceof Uint8ClampedArray},pe=function($e){return Object.keys($e).map(function(ot){return $e[ot]})},ye={shape:function($e){for(var ot=[];$e.length;$e=$e[0])ot.push($e.length);return ot},flatten:function($e,ot,dt,Le){var Ge=1;if(ot.length)for(var st=0;st<ot.length;++st)Ge*=ot[st];else Ge=0;switch(dt=Le||xe.allocType(dt,Ge),ot.length){case 0:break;case 1:for(Le=ot[0],ot=0;ot<Le;++ot)dt[ot]=$e[ot];break;case 2:for(Le=ot[0],ot=ot[1],st=Ge=0;st<Le;++st)for(var vt=$e[st],bt=0;bt<ot;++bt)dt[Ge++]=vt[bt];break;case 3:u($e,ot[0],ot[1],ot[2],dt,0);break;default:a($e,ot,0,dt,0)}return dt}},Ne={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},be={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Ee={dynamic:35048,stream:35040,static:35044},Oe=ye.flatten,De=ye.shape,oe=[];oe[5120]=1,oe[5122]=2,oe[5124]=4,oe[5121]=1,oe[5123]=2,oe[5125]=4,oe[5126]=4;var de={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},_e=new Float32Array(1),Me=new Uint32Array(_e.buffer),Pe=[9984,9986,9985,9987],Ue=[0,6409,6410,6407,6408],Be={};Be[6409]=Be[6406]=Be[6402]=1,Be[34041]=Be[6410]=2,Be[6407]=Be[35904]=3,Be[6408]=Be[35906]=4;var Ve=_("HTMLCanvasElement"),ve=_("OffscreenCanvas"),Te=_("CanvasRenderingContext2D"),Ce=_("ImageBitmap"),We=_("HTMLImageElement"),Ke=_("HTMLVideoElement"),Je=Object.keys(Ne).concat([Ve,ve,Te,Ce,We,Ke]),ht=[];ht[5121]=1,ht[5126]=4,ht[36193]=2,ht[5123]=2,ht[5125]=4;var ft=[];ft[32854]=2,ft[32855]=2,ft[36194]=2,ft[34041]=4,ft[33776]=.5,ft[33777]=.5,ft[33778]=1,ft[33779]=1,ft[35986]=.5,ft[35987]=1,ft[34798]=1,ft[35840]=.5,ft[35841]=.25,ft[35842]=.5,ft[35843]=.25,ft[36196]=.5;var mt=[];mt[32854]=2,mt[32855]=2,mt[36194]=2,mt[33189]=2,mt[36168]=1,mt[34041]=4,mt[35907]=4,mt[34836]=16,mt[34842]=8,mt[34843]=6;var Rt=[];Rt[6408]=4,Rt[6407]=3;var It=[];It[5121]=1,It[5126]=4,It[36193]=2;var Pt=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],Bt=["x","y","z","w"],Ut="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Vt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},tn={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Gt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},et={cw:2304,ccw:2305},nt=new H(!1,!1,!1,function(){});return function($e){function ot(){if(0===mr.length)Tn&&Tn.update(),ur=null;else{ur=he.next(ot),Nt();for(var on=mr.length-1;0<=on;--on){var xn=mr[on];xn&&xn(tr,null,0)}kt.flush(),Tn&&Tn.update()}}function dt(){!ur&&0<mr.length&&(ur=he.next(ot))}function Le(){ur&&(he.cancel(ot),ur=null)}function Ge(on){on.preventDefault(),Le(),Vr.forEach(function(xn){xn()})}function st(on){kt.getError(),qt.restore(),En.restore(),wn.restore(),Fn.restore(),jn.restore(),er.restore(),mn.restore(),Tn&&Tn.restore(),Zn.procs.refresh(),dt(),Dr.forEach(function(xn){xn()})}function vt(on){function xn(Wt,un){var vn={},$n={};return Object.keys(Wt).forEach(function(Hn){var zn=Wt[Hn];if(ue.isDynamic(zn))$n[Hn]=ue.unbox(zn,Hn);else{if(un&&Array.isArray(zn))for(var bn=0;bn<zn.length;++bn)if(ue.isDynamic(zn[bn]))return void($n[Hn]=ue.unbox(zn,Hn));vn[Hn]=zn}}),{dynamic:$n,static:vn}}var Wn=xn(on.context||{},!0),Bn=xn(on.uniforms||{},!0),qn=xn(on.attributes||{},!1);on=xn(function(Wt){function un($n){if($n in vn){var Hn=vn[$n];delete vn[$n],Object.keys(Hn).forEach(function(zn){vn[$n+"."+zn]=Hn[zn]})}}var vn=re({},Wt);return delete vn.uniforms,delete vn.attributes,delete vn.context,delete vn.vao,"stencil"in vn&&vn.stencil.op&&(vn.stencil.opBack=vn.stencil.opFront=vn.stencil.op,delete vn.stencil.op),un("blend"),un("depth"),un("cull"),un("stencil"),un("polygonOffset"),un("scissor"),un("sample"),"vao"in Wt&&(vn.vao=Wt.vao),vn}(on),!1);var nr={gpuTime:0,cpuTime:0,count:0},fr=Zn.compile(on,qn,Bn,Wn,nr),Sr=fr.draw,Ur=fr.batch,fn=fr.scope,Vn=[];return re(function(Wt,un){var vn;if("function"==typeof Wt)return fn.call(this,null,Wt,0);if("function"==typeof un)if("number"==typeof Wt)for(vn=0;vn<Wt;++vn)fn.call(this,null,un,vn);else{if(!Array.isArray(Wt))return fn.call(this,Wt,un,0);for(vn=0;vn<Wt.length;++vn)fn.call(this,Wt[vn],un,vn)}else if("number"==typeof Wt){if(0<Wt)return Ur.call(this,function($n){for(;Vn.length<$n;)Vn.push(null);return Vn}(0|Wt),0|Wt)}else{if(!Array.isArray(Wt))return Sr.call(this,Wt);if(Wt.length)return Ur.call(this,Wt,Wt.length)}},{stats:nr,destroy:function(){fr.destroy()}})}function bt(on,xn){var Wn=0;Zn.procs.poll();var Bn=xn.color;Bn&&(kt.clearColor(+Bn[0]||0,+Bn[1]||0,+Bn[2]||0,+Bn[3]||0),Wn|=16384),"depth"in xn&&(kt.clearDepth(+xn.depth),Wn|=256),"stencil"in xn&&(kt.clearStencil(0|xn.stencil),Wn|=1024),kt.clear(Wn)}function Lt(on){return mr.push(on),dt(),{cancel:function(){var xn=te(mr,on);mr[xn]=function Wn(){var Bn=te(mr,Wn);mr[Bn]=mr[mr.length-1],--mr.length,0>=mr.length&&Le()}}}}function jt(){var on=Gn.viewport,xn=Gn.scissor_box;on[0]=on[1]=xn[0]=xn[1]=0,tr.viewportWidth=tr.framebufferWidth=tr.drawingBufferWidth=on[2]=xn[2]=kt.drawingBufferWidth,tr.viewportHeight=tr.framebufferHeight=tr.drawingBufferHeight=on[3]=xn[3]=kt.drawingBufferHeight}function Nt(){tr.tick+=1,tr.time=Mt(),jt(),Zn.procs.poll()}function Tt(){Fn.refresh(),jt(),Zn.procs.refresh(),Tn&&Tn.update()}function Mt(){return(ge()-An)/1e3}if(!($e=function S($e){var ot,dt,Le,Ge,st=$e||{};$e={};var vt=[],bt=[],Lt=typeof window>"u"?1:window.devicePixelRatio,jt=!1,Nt={},Tt=function(kt){},Mt=function(){};if("string"==typeof st?ot=document.querySelector(st):"object"==typeof st&&("string"==typeof st.nodeName&&"function"==typeof st.appendChild&&"function"==typeof st.getBoundingClientRect?ot=st:"function"==typeof st.drawArrays||"function"==typeof st.drawElements?Le=(Ge=st).canvas:("gl"in st?Ge=st.gl:"canvas"in st?Le=f(st.canvas):"container"in st&&(dt=f(st.container)),"attributes"in st&&($e=st.attributes),"extensions"in st&&(vt=E(st.extensions)),"optionalExtensions"in st&&(bt=E(st.optionalExtensions)),"onDone"in st&&(Tt=st.onDone),"profile"in st&&(jt=!!st.profile),"pixelRatio"in st&&(Lt=+st.pixelRatio),"cachedCode"in st&&(Nt=st.cachedCode))),ot&&("canvas"===ot.nodeName.toLowerCase()?Le=ot:dt=ot),!Ge){if(!Le){if(!(ot=function(kt,Ht,qt){function Qt(){var ln=window.innerWidth,Tn=window.innerHeight;kt!==document.body&&(ln=(Tn=Kt.getBoundingClientRect()).right-Tn.left,Tn=Tn.bottom-Tn.top),Kt.width=qt*ln,Kt.height=qt*Tn}var Jt,Kt=document.createElement("canvas");return re(Kt.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),kt.appendChild(Kt),kt===document.body&&(Kt.style.position="absolute",re(kt.style,{margin:0,padding:0})),kt!==document.body&&"function"==typeof ResizeObserver?(Jt=new ResizeObserver(function(){setTimeout(Qt)})).observe(kt):window.addEventListener("resize",Qt,!1),Qt(),{canvas:Kt,onDestroy:function(){Jt?Jt.disconnect():window.removeEventListener("resize",Qt),kt.removeChild(Kt)}}}(dt||document.body,0,Lt)))return null;Le=ot.canvas,Mt=ot.onDestroy}void 0===$e.premultipliedAlpha&&($e.premultipliedAlpha=!0),Ge=function(kt,Ht){function qt(Qt){try{return kt.getContext(Qt,Ht)}catch{return null}}return qt("webgl")||qt("experimental-webgl")||qt("webgl-experimental")}(Le,$e)}return Ge?{gl:Ge,canvas:Le,container:dt,extensions:vt,optionalExtensions:bt,pixelRatio:Lt,profile:jt,cachedCode:Nt,onDone:Tt,onDestroy:Mt}:(Mt(),Tt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}($e)))return null;var kt=$e.gl,Ht=kt.getContextAttributes();kt.isContextLost();var qt=function(on,xn){function Wn(fr){var Sr;fr=fr.toLowerCase();try{Sr=Bn[fr]=on.getExtension(fr)}catch{}return!!Sr}for(var Bn={},qn=0;qn<xn.extensions.length;++qn){var nr=xn.extensions[qn];if(!Wn(nr))return xn.onDestroy(),xn.onDone('"'+nr+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return xn.optionalExtensions.forEach(Wn),{extensions:Bn,restore:function(){Object.keys(Bn).forEach(function(fr){if(Bn[fr]&&!Wn(fr))throw Error("(regl): error restoring extension "+fr)})}}}(kt,$e);if(!qt)return null;var on,xn,Qt=(on={"":0},xn=[""],{id:function(Wn){var Bn=on[Wn];return Bn||(Bn=on[Wn]=xn.length,xn.push(Wn),Bn)},str:function(Wn){return xn[Wn]}}),Jt={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},Kt=$e.cachedCode||{},ln=qt.extensions,Tn=function(on,xn){function Wn(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function Bn(Vn,Wt,un){var vn=fr.pop()||new Wn;vn.startQueryIndex=Vn,vn.endQueryIndex=Wt,vn.sum=0,vn.stats=un,Sr.push(vn)}if(!xn.ext_disjoint_timer_query)return null;var qn=[],nr=[],fr=[],Sr=[],Ur=[],fn=[];return{beginQuery:function(Vn){var Wt=qn.pop()||xn.ext_disjoint_timer_query.createQueryEXT();xn.ext_disjoint_timer_query.beginQueryEXT(35007,Wt),nr.push(Wt),Bn(nr.length-1,nr.length,Vn)},endQuery:function(){xn.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:Bn,update:function(){var Vn,Wt;if(0!==(Vn=nr.length)){fn.length=Math.max(fn.length,Vn+1),Ur.length=Math.max(Ur.length,Vn+1),Ur[0]=0;var un=fn[0]=0;for(Wt=Vn=0;Wt<nr.length;++Wt){var vn=nr[Wt];xn.ext_disjoint_timer_query.getQueryObjectEXT(vn,34919)?(un+=xn.ext_disjoint_timer_query.getQueryObjectEXT(vn,34918),qn.push(vn)):nr[Vn++]=vn,Ur[Wt+1]=un,fn[Wt+1]=Vn}for(nr.length=Vn,Wt=Vn=0;Wt<Sr.length;++Wt){var $n=(un=Sr[Wt]).startQueryIndex;un.sum+=Ur[vn=un.endQueryIndex]-Ur[$n],(vn=fn[vn])===($n=fn[$n])?(un.stats.gpuTime+=un.sum/1e6,fr.push(un)):(un.startQueryIndex=$n,un.endQueryIndex=vn,Sr[Vn++]=un)}Sr.length=Vn}},getNumPendingQueries:function(){return nr.length},clear:function(){qn.push.apply(qn,nr);for(var Vn=0;Vn<qn.length;Vn++)xn.ext_disjoint_timer_query.deleteQueryEXT(qn[Vn]);nr.length=0,qn.length=0},restore:function(){nr.length=0,qn.length=0}}}(0,ln),An=ge(),pn=kt.drawingBufferWidth,Nn=kt.drawingBufferHeight,tr={tick:0,time:0,viewportWidth:pn,viewportHeight:Nn,framebufferWidth:pn,framebufferHeight:Nn,drawingBufferWidth:pn,drawingBufferHeight:Nn,pixelRatio:$e.pixelRatio},On=(pn={elements:null,primitive:4,count:-1,offset:0,instances:-1},function($e,ot){var dt=1;ot.ext_texture_filter_anisotropic&&(dt=$e.getParameter(34047));var Le=1,Ge=1;ot.webgl_draw_buffers&&(Le=$e.getParameter(34852),Ge=$e.getParameter(36063));var st=!!ot.oes_texture_float;if(st){st=$e.createTexture(),$e.bindTexture(3553,st),$e.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var vt=$e.createFramebuffer();if($e.bindFramebuffer(36160,vt),$e.framebufferTexture2D(36160,36064,3553,st,0),$e.bindTexture(3553,null),36053!==$e.checkFramebufferStatus(36160))st=!1;else{$e.viewport(0,0,1,1),$e.clearColor(1,0,0,1),$e.clear(16384);var bt=xe.allocType(5126,4);$e.readPixels(0,0,1,1,6408,5126,bt),$e.getError()?st=!1:($e.deleteFramebuffer(vt),$e.deleteTexture(st),st=1===bt[0]),xe.freeType(bt)}}return bt=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(bt=$e.createTexture(),vt=xe.allocType(5121,36),$e.activeTexture(33984),$e.bindTexture(34067,bt),$e.texImage2D(34069,0,6408,3,3,0,6408,5121,vt),xe.freeType(vt),$e.bindTexture(34067,null),$e.deleteTexture(bt),bt=!$e.getError()),{colorBits:[$e.getParameter(3410),$e.getParameter(3411),$e.getParameter(3412),$e.getParameter(3413)],depthBits:$e.getParameter(3414),stencilBits:$e.getParameter(3415),subpixelBits:$e.getParameter(3408),extensions:Object.keys(ot).filter(function(Lt){return!!ot[Lt]}),maxAnisotropic:dt,maxDrawbuffers:Le,maxColorAttachments:Ge,pointSizeDims:$e.getParameter(33901),lineWidthDims:$e.getParameter(33902),maxViewportDims:$e.getParameter(3386),maxCombinedTextureUnits:$e.getParameter(35661),maxCubeMapSize:$e.getParameter(34076),maxRenderbufferSize:$e.getParameter(34024),maxTextureUnits:$e.getParameter(34930),maxTextureSize:$e.getParameter(3379),maxAttributes:$e.getParameter(34921),maxVertexUniforms:$e.getParameter(36347),maxVertexTextureUnits:$e.getParameter(35660),maxVaryingVectors:$e.getParameter(36348),maxFragmentUniforms:$e.getParameter(36349),glsl:$e.getParameter(35724),renderer:$e.getParameter(7937),vendor:$e.getParameter(7936),version:$e.getParameter(7938),readFloat:st,npotTextureCube:bt}}(kt,ln)),wn=function d($e,ot,dt,Le){function Ge(Tt){this.id=Lt++,this.buffer=$e.createBuffer(),this.type=Tt,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,dt.profile&&(this.stats={size:0})}function st(Tt,Mt,kt){Tt.byteLength=Mt.byteLength,$e.bufferData(Tt.type,Mt,kt)}function vt(Tt,Mt,kt,Ht,qt,Qt){if(Tt.usage=kt,Array.isArray(Mt)){if(Tt.dtype=Ht||5126,0<Mt.length)if(Array.isArray(Mt[0])){qt=De(Mt);for(var Jt=Ht=1;Jt<qt.length;++Jt)Ht*=qt[Jt];Tt.dimension=Ht,st(Tt,Mt=Oe(Mt,qt,Tt.dtype),kt),Qt?Tt.persistentData=Mt:xe.freeType(Mt)}else"number"==typeof Mt[0]?(Tt.dimension=qt,l(qt=xe.allocType(Tt.dtype,Mt.length),Mt),st(Tt,qt,kt),Qt?Tt.persistentData=qt:xe.freeType(qt)):Ae(Mt[0])&&(Tt.dimension=Mt[0].length,Tt.dtype=Ht||o(Mt[0])||5126,st(Tt,Mt=Oe(Mt,[Mt.length,Mt[0].length],Tt.dtype),kt),Qt?Tt.persistentData=Mt:xe.freeType(Mt))}else if(Ae(Mt))Tt.dtype=Ht||o(Mt),Tt.dimension=qt,st(Tt,Mt,kt),Qt&&(Tt.persistentData=new Uint8Array(new Uint8Array(Mt.buffer)));else if(i(Mt)){var Kt=Mt.stride,ln=(Jt=Mt.offset,0),Tn=0,An=0,pn=0;1===(qt=Mt.shape).length?(ln=qt[0],Tn=1,An=Kt[0],pn=0):2===qt.length&&(ln=qt[0],Tn=qt[1],An=Kt[0],pn=Kt[1]),Tt.dtype=Ht||o(Mt.data)||5126,Tt.dimension=Tn,s(qt=xe.allocType(Tt.dtype,ln*Tn),Mt.data,ln,Tn,An,pn,Jt),st(Tt,qt,kt),Qt?Tt.persistentData=qt:xe.freeType(qt)}else Mt instanceof ArrayBuffer&&(Tt.dtype=5121,Tt.dimension=qt,st(Tt,Mt,kt),Qt&&(Tt.persistentData=new Uint8Array(new Uint8Array(Mt))))}function bt(Tt){ot.bufferCount--,Le(Tt),$e.deleteBuffer(Tt.buffer),Tt.buffer=null,delete jt[Tt.id]}var Lt=0,jt={};Ge.prototype.bind=function(){$e.bindBuffer(this.type,this.buffer)},Ge.prototype.destroy=function(){bt(this)};var Nt=[];return dt.profile&&(ot.getTotalBufferSize=function(){var Tt=0;return Object.keys(jt).forEach(function(Mt){Tt+=jt[Mt].stats.size}),Tt}),{create:function(Tt,Mt,kt,Ht){function qt(Jt){var Kt=35044,ln=null,Tn=0,An=0,pn=1;return Array.isArray(Jt)||Ae(Jt)||i(Jt)||Jt instanceof ArrayBuffer?ln=Jt:"number"==typeof Jt?Tn=0|Jt:Jt&&("data"in Jt&&(ln=Jt.data),"usage"in Jt&&(Kt=Ee[Jt.usage]),"type"in Jt&&(An=be[Jt.type]),"dimension"in Jt&&(pn=0|Jt.dimension),"length"in Jt&&(Tn=0|Jt.length)),Qt.bind(),ln?vt(Qt,ln,Kt,An,pn,Ht):(Tn&&$e.bufferData(Qt.type,Tn,Kt),Qt.dtype=An||5121,Qt.usage=Kt,Qt.dimension=pn,Qt.byteLength=Tn),dt.profile&&(Qt.stats.size=Qt.byteLength*oe[Qt.dtype]),qt}ot.bufferCount++;var Qt=new Ge(Mt);return jt[Qt.id]=Qt,kt||qt(Tt),qt._reglType="buffer",qt._buffer=Qt,qt.subdata=function(Jt,Kt){var ln,Tn=0|(Kt||0);if(Qt.bind(),Ae(Jt)||Jt instanceof ArrayBuffer)$e.bufferSubData(Qt.type,Tn,Jt);else if(Array.isArray(Jt)){if(0<Jt.length)if("number"==typeof Jt[0]){var An=xe.allocType(Qt.dtype,Jt.length);l(An,Jt),$e.bufferSubData(Qt.type,Tn,An),xe.freeType(An)}else(Array.isArray(Jt[0])||Ae(Jt[0]))&&(ln=De(Jt),An=Oe(Jt,ln,Qt.dtype),$e.bufferSubData(Qt.type,Tn,An),xe.freeType(An))}else if(i(Jt)){var pn=Jt.stride,Nn=An=0,tr=0,On=0;1===(ln=Jt.shape).length?(An=ln[0],Nn=1,tr=pn[0],On=0):2===ln.length&&(An=ln[0],Nn=ln[1],tr=pn[0],On=pn[1]),ln=Array.isArray(Jt.data)?Qt.dtype:o(Jt.data),s(ln=xe.allocType(ln,An*Nn),Jt.data,An,Nn,tr,On,Jt.offset),$e.bufferSubData(Qt.type,Tn,ln),xe.freeType(ln)}return qt},dt.profile&&(qt.stats=Qt.stats),qt.destroy=function(){bt(Qt)},qt},createStream:function(Tt,Mt){var kt=Nt.pop();return kt||(kt=new Ge(Tt)),kt.bind(),vt(kt,Mt,35040,0,1,!1),kt},destroyStream:function(Tt){Nt.push(Tt)},clear:function(){pe(jt).forEach(bt),Nt.forEach(bt)},getBuffer:function(Tt){return Tt&&Tt._buffer instanceof Ge?Tt._buffer:null},restore:function(){pe(jt).forEach(function(Tt){Tt.buffer=$e.createBuffer(),$e.bindBuffer(Tt.type,Tt.buffer),$e.bufferData(Tt.type,Tt.persistentData||Tt.byteLength,Tt.usage)})},_initBuffer:vt}}(kt,Jt,$e,function(on){return mn.destroyBuffer(on)}),Cn=function g($e,ot,dt,Le){function Ge(Tt){this.id=Lt++,bt[this.id]=this,this.buffer=Tt,this.primType=4,this.type=this.vertCount=0}function st(Tt,Mt,kt,Ht,qt,Qt,Jt){var Kt;if(Tt.buffer.bind(),Mt?((Kt=Jt)||Ae(Mt)&&(!i(Mt)||Ae(Mt.data))||(Kt=ot.oes_element_index_uint?5125:5123),dt._initBuffer(Tt.buffer,Mt,kt,Kt,3)):($e.bufferData(34963,Qt,kt),Tt.buffer.dtype=Kt||5121,Tt.buffer.usage=kt,Tt.buffer.dimension=3,Tt.buffer.byteLength=Qt),Kt=Jt,!Jt){switch(Tt.buffer.dtype){case 5121:case 5120:Kt=5121;break;case 5123:case 5122:Kt=5123;break;case 5125:case 5124:Kt=5125}Tt.buffer.dtype=Kt}Tt.type=Kt,0>(Mt=qt)&&(Mt=Tt.buffer.byteLength,5123===Kt?Mt>>=1:5125===Kt&&(Mt>>=2)),Tt.vertCount=Mt,Mt=Ht,0>Ht&&(Mt=4,1===(Ht=Tt.buffer.dimension)&&(Mt=0),2===Ht&&(Mt=1),3===Ht&&(Mt=4)),Tt.primType=Mt}function vt(Tt){Le.elementsCount--,delete bt[Tt.id],Tt.buffer.destroy(),Tt.buffer=null}var bt={},Lt=0,jt={uint8:5121,uint16:5123};ot.oes_element_index_uint&&(jt.uint32=5125),Ge.prototype.bind=function(){this.buffer.bind()};var Nt=[];return{create:function(Tt,Mt){function kt(Qt){if(Qt)if("number"==typeof Qt)Ht(Qt),qt.primType=4,qt.vertCount=0|Qt,qt.type=5121;else{var Jt=null,Kt=35044,ln=-1,Tn=-1,An=0,pn=0;Array.isArray(Qt)||Ae(Qt)||i(Qt)?Jt=Qt:("data"in Qt&&(Jt=Qt.data),"usage"in Qt&&(Kt=Ee[Qt.usage]),"primitive"in Qt&&(ln=de[Qt.primitive]),"count"in Qt&&(Tn=0|Qt.count),"type"in Qt&&(pn=jt[Qt.type]),"length"in Qt?An=0|Qt.length:(An=Tn,5123===pn||5122===pn?An*=2:5125!==pn&&5124!==pn||(An*=4))),st(qt,Jt,Kt,ln,Tn,An,pn)}else Ht(),qt.primType=4,qt.vertCount=0,qt.type=5121;return kt}var Ht=dt.create(null,34963,!0),qt=new Ge(Ht._buffer);return Le.elementsCount++,kt(Tt),kt._reglType="elements",kt._elements=qt,kt.subdata=function(Qt,Jt){return Ht.subdata(Qt,Jt),kt},kt.destroy=function(){vt(qt)},kt},createStream:function(Tt){var Mt=Nt.pop();return Mt||(Mt=new Ge(dt.create(null,34963,!0,!1)._buffer)),st(Mt,Tt,35040,-1,-1,0,0),Mt},destroyStream:function(Tt){Nt.push(Tt)},getElements:function(Tt){return"function"==typeof Tt&&Tt._elements instanceof Ge?Tt._elements:null},clear:function(){pe(bt).forEach(vt)}}}(kt,ln,wn,Jt),mn=function P($e,ot,dt,Le,Ge,st,vt){function bt(){this.id=++Nt,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var kt=ot.oes_vertex_array_object;this.vao=kt?kt.createVertexArrayOES():null,Tt[this.id]=this,this.buffers=[]}var Lt=dt.maxAttributes,jt=Array(Lt);for(dt=0;dt<Lt;++dt)jt[dt]=new I;var Nt=0,Tt={},Mt={Record:I,scope:{},state:jt,currentVAO:null,targetVAO:null,restore:ot.oes_vertex_array_object?function(){ot.oes_vertex_array_object&&pe(Tt).forEach(function(kt){kt.refresh()})}:function(){},createVAO:function(kt){function Ht(Qt){var Jt;Array.isArray(Qt)?(Jt=Qt,qt.elements&&qt.ownsElements&&qt.elements.destroy(),qt.elements=null,qt.ownsElements=!1,qt.offset=0,qt.count=0,qt.instances=-1,qt.primitive=4):(Qt.elements?(Jt=Qt.elements,qt.ownsElements?("function"==typeof Jt&&"elements"===Jt._reglType?qt.elements.destroy():qt.elements(Jt),qt.ownsElements=!1):st.getElements(Qt.elements)?(qt.elements=Qt.elements,qt.ownsElements=!1):(qt.elements=st.create(Qt.elements),qt.ownsElements=!0)):(qt.elements=null,qt.ownsElements=!1),Jt=Qt.attributes,qt.offset=0,qt.count=-1,qt.instances=-1,qt.primitive=4,qt.elements&&(qt.count=qt.elements._elements.vertCount,qt.primitive=qt.elements._elements.primType),"offset"in Qt&&(qt.offset=0|Qt.offset),"count"in Qt&&(qt.count=0|Qt.count),"instances"in Qt&&(qt.instances=0|Qt.instances),"primitive"in Qt&&(qt.primitive=de[Qt.primitive])),Qt={};var Kt=qt.attributes;Kt.length=Jt.length;for(var ln=0;ln<Jt.length;++ln){var Tn,An=Jt[ln],pn=Kt[ln]=new I,Nn=An.data||An;Array.isArray(Nn)||Ae(Nn)||i(Nn)?(qt.buffers[ln]&&(Tn=qt.buffers[ln],Ae(Nn)&&Tn._buffer.byteLength>=Nn.byteLength?Tn.subdata(Nn):(Tn.destroy(),qt.buffers[ln]=null)),qt.buffers[ln]||(Tn=qt.buffers[ln]=Ge.create(An,34962,!1,!0)),pn.buffer=Ge.getBuffer(Tn),pn.size=0|pn.buffer.dimension,pn.normalized=!1,pn.type=pn.buffer.dtype,pn.offset=0,pn.stride=0,pn.divisor=0,pn.state=1,Qt[ln]=1):Ge.getBuffer(An)?(pn.buffer=Ge.getBuffer(An),pn.size=0|pn.buffer.dimension,pn.normalized=!1,pn.type=pn.buffer.dtype,pn.offset=0,pn.stride=0,pn.divisor=0,pn.state=1):Ge.getBuffer(An.buffer)?(pn.buffer=Ge.getBuffer(An.buffer),pn.size=0|(+An.size||pn.buffer.dimension),pn.normalized=!!An.normalized||!1,pn.type="type"in An?be[An.type]:pn.buffer.dtype,pn.offset=0|(An.offset||0),pn.stride=0|(An.stride||0),pn.divisor=0|(An.divisor||0),pn.state=1):"x"in An&&(pn.x=+An.x||0,pn.y=+An.y||0,pn.z=+An.z||0,pn.w=+An.w||0,pn.state=2)}for(Tn=0;Tn<qt.buffers.length;++Tn)!Qt[Tn]&&qt.buffers[Tn]&&(qt.buffers[Tn].destroy(),qt.buffers[Tn]=null);return qt.refresh(),Ht}var qt=new bt;return Le.vaoCount+=1,Ht.destroy=function(){for(var Qt=0;Qt<qt.buffers.length;++Qt)qt.buffers[Qt]&&qt.buffers[Qt].destroy();qt.buffers.length=0,qt.ownsElements&&(qt.elements.destroy(),qt.elements=null,qt.ownsElements=!1),qt.destroy()},Ht._vao=qt,Ht._reglType="vao",Ht(kt)},getVAO:function(kt){return"function"==typeof kt&&kt._vao?kt._vao:null},destroyBuffer:function(kt){for(var Ht=0;Ht<jt.length;++Ht){var qt=jt[Ht];qt.buffer===kt&&($e.disableVertexAttribArray(Ht),qt.buffer=null)}},setVAO:ot.oes_vertex_array_object?function(kt){kt!==Mt.currentVAO&&(ot.oes_vertex_array_object.bindVertexArrayOES(kt?kt.vao:null),Mt.currentVAO=kt)}:function(kt){if(kt!==Mt.currentVAO){if(kt)kt.bindAttrs();else{for(var Ht=ot.angle_instanced_arrays,qt=0;qt<jt.length;++qt){var Qt=jt[qt];Qt.buffer?($e.enableVertexAttribArray(qt),Qt.buffer.bind(),$e.vertexAttribPointer(qt,Qt.size,Qt.type,Qt.normalized,Qt.stride,Qt.offfset),Ht&&Qt.divisor&&Ht.vertexAttribDivisorANGLE(qt,Qt.divisor)):($e.disableVertexAttribArray(qt),$e.vertexAttrib4f(qt,Qt.x,Qt.y,Qt.z,Qt.w))}$e.bindBuffer(34963,vt.elements?vt.elements.buffer.buffer:null)}Mt.currentVAO=kt}},clear:ot.oes_vertex_array_object?function(){pe(Tt).forEach(function(kt){kt.destroy()})}:function(){}};return bt.prototype.bindAttrs=function(){for(var kt=ot.angle_instanced_arrays,Ht=this.attributes,qt=0;qt<Ht.length;++qt){var Qt=Ht[qt];Qt.buffer?($e.enableVertexAttribArray(qt),$e.bindBuffer(34962,Qt.buffer.buffer),$e.vertexAttribPointer(qt,Qt.size,Qt.type,Qt.normalized,Qt.stride,Qt.offset),kt&&Qt.divisor&&kt.vertexAttribDivisorANGLE(qt,Qt.divisor)):($e.disableVertexAttribArray(qt),$e.vertexAttrib4f(qt,Qt.x,Qt.y,Qt.z,Qt.w))}for(kt=Ht.length;kt<Lt;++kt)$e.disableVertexAttribArray(kt);(kt=st.getElements(this.elements))?$e.bindBuffer(34963,kt.buffer.buffer):$e.bindBuffer(34963,null)},bt.prototype.refresh=function(){var kt=ot.oes_vertex_array_object;kt&&(kt.bindVertexArrayOES(this.vao),this.bindAttrs(),Mt.currentVAO=null,kt.bindVertexArrayOES(null))},bt.prototype.destroy=function(){if(this.vao){var kt=ot.oes_vertex_array_object;this===Mt.currentVAO&&(Mt.currentVAO=null,kt.bindVertexArrayOES(null)),kt.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),Tt[this.id]&&(delete Tt[this.id],--Le.vaoCount)},Mt}(kt,ln,On,Jt,wn,Cn,pn),En=function L($e,ot,dt,Le){function Ge(Ht,qt,Qt,Jt){this.name=Ht,this.id=qt,this.location=Qt,this.info=Jt}function st(Ht,qt){for(var Qt=0;Qt<Ht.length;++Qt)if(Ht[Qt].id===qt.id)return void(Ht[Qt].location=qt.location);Ht.push(qt)}function vt(Ht,qt,Qt){if(!(Kt=(Qt=35632===Ht?jt:Nt)[qt])){var Jt=ot.str(qt),Kt=$e.createShader(Ht);$e.shaderSource(Kt,Jt),$e.compileShader(Kt),Qt[qt]=Kt}return Kt}function bt(Ht,qt){this.id=kt++,this.fragId=Ht,this.vertId=qt,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,Le.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Lt(Ht,qt,Qt){var Jt;Jt=vt(35632,Ht.fragId);var Kt=vt(35633,Ht.vertId);if(qt=Ht.program=$e.createProgram(),$e.attachShader(qt,Jt),$e.attachShader(qt,Kt),Qt)for(Jt=0;Jt<Qt.length;++Jt)$e.bindAttribLocation(qt,(Kt=Qt[Jt])[0],Kt[1]);$e.linkProgram(qt),Kt=$e.getProgramParameter(qt,35718),Le.profile&&(Ht.stats.uniformsCount=Kt);var ln=Ht.uniforms;for(Jt=0;Jt<Kt;++Jt)if(Qt=$e.getActiveUniform(qt,Jt))if(1<Qt.size)for(var Tn=0;Tn<Qt.size;++Tn){var An=Qt.name.replace("[0]","["+Tn+"]");st(ln,new Ge(An,ot.id(An),$e.getUniformLocation(qt,An),Qt))}else st(ln,new Ge(Qt.name,ot.id(Qt.name),$e.getUniformLocation(qt,Qt.name),Qt));for(Kt=$e.getProgramParameter(qt,35721),Le.profile&&(Ht.stats.attributesCount=Kt),Ht=Ht.attributes,Jt=0;Jt<Kt;++Jt)(Qt=$e.getActiveAttrib(qt,Jt))&&st(Ht,new Ge(Qt.name,ot.id(Qt.name),$e.getAttribLocation(qt,Qt.name),Qt))}var jt={},Nt={},Tt={},Mt=[],kt=0;return Le.profile&&(dt.getMaxUniformsCount=function(){var Ht=0;return Mt.forEach(function(qt){qt.stats.uniformsCount>Ht&&(Ht=qt.stats.uniformsCount)}),Ht},dt.getMaxAttributesCount=function(){var Ht=0;return Mt.forEach(function(qt){qt.stats.attributesCount>Ht&&(Ht=qt.stats.attributesCount)}),Ht}),{clear:function(){var Ht=$e.deleteShader.bind($e);pe(jt).forEach(Ht),jt={},pe(Nt).forEach(Ht),Nt={},Mt.forEach(function(qt){$e.deleteProgram(qt.program)}),Mt.length=0,Tt={},dt.shaderCount=0},program:function(Ht,qt,Qt,Jt){var Kt=Tt[qt];Kt||(Kt=Tt[qt]={});var ln=Kt[Ht];if(ln&&(ln.refCount++,!Jt))return ln;var Tn=new bt(qt,Ht);return dt.shaderCount++,Lt(Tn,Qt,Jt),ln||(Kt[Ht]=Tn),Mt.push(Tn),re(Tn,{destroy:function(){if(Tn.refCount--,0>=Tn.refCount){$e.deleteProgram(Tn.program);var An=Mt.indexOf(Tn);Mt.splice(An,1),dt.shaderCount--}0>=Kt[Tn.vertId].refCount&&($e.deleteShader(Nt[Tn.vertId]),delete Nt[Tn.vertId],delete Tt[Tn.fragId][Tn.vertId]),Object.keys(Tt[Tn.fragId]).length||($e.deleteShader(jt[Tn.fragId]),delete jt[Tn.fragId],delete Tt[Tn.fragId])}})},restore:function(){jt={},Nt={};for(var Ht=0;Ht<Mt.length;++Ht)Lt(Mt[Ht],null,Mt[Ht].attributes.map(function(qt){return[qt.location,qt.name]}))},shader:vt,frag:-1,vert:-1}}(kt,Qt,Jt,$e),Fn=function O($e,ot,dt,Le,Ge,st,vt){function bt(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function Lt(fn,Vn){fn.internalformat=Vn.internalformat,fn.format=Vn.format,fn.type=Vn.type,fn.compressed=Vn.compressed,fn.premultiplyAlpha=Vn.premultiplyAlpha,fn.flipY=Vn.flipY,fn.unpackAlignment=Vn.unpackAlignment,fn.colorSpace=Vn.colorSpace,fn.width=Vn.width,fn.height=Vn.height,fn.channels=Vn.channels}function jt(fn,Vn){if("object"==typeof Vn&&Vn){"premultiplyAlpha"in Vn&&(fn.premultiplyAlpha=Vn.premultiplyAlpha),"flipY"in Vn&&(fn.flipY=Vn.flipY),"alignment"in Vn&&(fn.unpackAlignment=Vn.alignment),"colorSpace"in Vn&&(fn.colorSpace=Zn[Vn.colorSpace]),"type"in Vn&&(fn.type=Gn[Vn.type]);var Wt=fn.width,un=fn.height,vn=fn.channels,$n=!1;"shape"in Vn?(Wt=Vn.shape[0],un=Vn.shape[1],3===Vn.shape.length&&(vn=Vn.shape[2],$n=!0)):("radius"in Vn&&(Wt=un=Vn.radius),"width"in Vn&&(Wt=Vn.width),"height"in Vn&&(un=Vn.height),"channels"in Vn&&(vn=Vn.channels,$n=!0)),fn.width=0|Wt,fn.height=0|un,fn.channels=0|vn,Wt=!1,"format"in Vn&&(un=fn.internalformat=_r[Wt=Vn.format],fn.format=Wn[un],Wt in Gn&&!("type"in Vn)&&(fn.type=Gn[Wt]),Wt in mr&&(fn.compressed=!0),Wt=!0),!$n&&Wt?fn.channels=Be[fn.format]:$n&&!Wt&&fn.channels!==Ue[fn.format]&&(fn.format=fn.internalformat=Ue[fn.channels])}}function Nt(fn){$e.pixelStorei(37440,fn.flipY),$e.pixelStorei(37441,fn.premultiplyAlpha),$e.pixelStorei(37443,fn.colorSpace),$e.pixelStorei(3317,fn.unpackAlignment)}function Tt(){bt.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Mt(fn,Vn){var Wt=null;if(b(Vn)?Wt=Vn:Vn&&(jt(fn,Vn),"x"in Vn&&(fn.xOffset=0|Vn.x),"y"in Vn&&(fn.yOffset=0|Vn.y),b(Vn.data)&&(Wt=Vn.data)),Vn.copy){var un=Ge.viewportWidth,vn=Ge.viewportHeight;fn.width=fn.width||un-fn.xOffset,fn.height=fn.height||vn-fn.yOffset,fn.needsCopy=!0}else if(Wt){if(Ae(Wt))fn.channels=fn.channels||4,fn.data=Wt,"type"in Vn||5121!==fn.type||(fn.type=0|Ne[Object.prototype.toString.call(Wt)]);else if(y(Wt)){switch(fn.channels=fn.channels||4,vn=(un=Wt).length,fn.type){case 5121:case 5123:case 5125:case 5126:(vn=xe.allocType(fn.type,vn)).set(un),fn.data=vn;break;case 36193:fn.data=p(un)}fn.alignment=1,fn.needsFree=!0}else if(i(Wt)){un=Wt.data,Array.isArray(un)||5121!==fn.type||(fn.type=0|Ne[Object.prototype.toString.call(un)]);var $n,Hn,zn,bn,Sn=Wt.stride;3===(vn=Wt.shape).length?(zn=vn[2],bn=Sn[2]):bn=zn=1,$n=vn[0],Hn=vn[1],vn=Sn[0],Sn=Sn[1],fn.alignment=1,fn.width=$n,fn.height=Hn,fn.channels=zn,fn.format=fn.internalformat=Ue[zn],fn.needsFree=!0,$n=bn,Wt=Wt.offset;for(var gn=xe.allocType(36193===fn.type?5126:fn.type,(zn=fn.width)*(bn=fn.height)*(Hn=fn.channels)),kn=0,In=0;In<bn;++In)for(var Yn=0;Yn<zn;++Yn)for(var Rn=0;Rn<Hn;++Rn)gn[kn++]=un[vn*Yn+Sn*In+$n*Rn+Wt];k(fn,gn)}else if(m(Wt)===Ve||m(Wt)===ve||m(Wt)===Te)fn.element=m(Wt)===Ve||m(Wt)===ve?Wt:Wt.canvas,fn.width=fn.element.width,fn.height=fn.element.height,fn.channels=4;else if(m(Wt)===Ce)fn.element=Wt,fn.width=Wt.width,fn.height=Wt.height,fn.channels=4;else if(m(Wt)===We)fn.element=Wt,fn.width=Wt.naturalWidth,fn.height=Wt.naturalHeight,fn.channels=4;else if(m(Wt)===Ke)fn.element=Wt,fn.width=Wt.videoWidth,fn.height=Wt.videoHeight,fn.channels=4;else if(w(Wt)){for(un=fn.width||Wt[0].length,vn=fn.height||Wt.length,Sn=fn.channels,Sn=T(Wt[0][0])?Sn||Wt[0][0].length:Sn||1,$n=ye.shape(Wt),zn=1,bn=0;bn<$n.length;++bn)zn*=$n[bn];zn=xe.allocType(36193===fn.type?5126:fn.type,zn),ye.flatten(Wt,$n,"",zn),k(fn,zn),fn.alignment=1,fn.width=un,fn.height=vn,fn.channels=Sn,fn.format=fn.internalformat=Ue[Sn],fn.needsFree=!0}}else fn.width=fn.width||1,fn.height=fn.height||1,fn.channels=fn.channels||4}function kt(fn,Vn,Wt,un,vn){var $n=fn.element,Hn=fn.data,zn=fn.internalformat,bn=fn.format,Sn=fn.type,gn=fn.width,kn=fn.height;Nt(fn),$n?$e.texSubImage2D(Vn,vn,Wt,un,bn,Sn,$n):fn.compressed?$e.compressedTexSubImage2D(Vn,vn,Wt,un,zn,gn,kn,Hn):fn.needsCopy?(Le(),$e.copyTexSubImage2D(Vn,vn,Wt,un,fn.xOffset,fn.yOffset,gn,kn)):$e.texSubImage2D(Vn,vn,Wt,un,gn,kn,bn,Sn,Hn)}function Ht(){return Bn.pop()||new Tt}function qt(fn){fn.needsFree&&xe.freeType(fn.data),Tt.call(fn),Bn.push(fn)}function Qt(){bt.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function Jt(fn,Vn,Wt){var un=fn.images[0]=Ht();fn.mipmask=1,un.width=fn.width=Vn,un.height=fn.height=Wt,un.channels=fn.channels=4}function Kt(fn,Vn){var Wt=null;if(b(Vn))Lt(Wt=fn.images[0]=Ht(),fn),Mt(Wt,Vn),fn.mipmask=1;else if(jt(fn,Vn),Array.isArray(Vn.mipmap))for(var un=Vn.mipmap,vn=0;vn<un.length;++vn)Lt(Wt=fn.images[vn]=Ht(),fn),Wt.width>>=vn,Wt.height>>=vn,Mt(Wt,un[vn]),fn.mipmask|=1<<vn;else Lt(Wt=fn.images[0]=Ht(),fn),Mt(Wt,Vn),fn.mipmask=1;Lt(fn,fn.images[0])}function ln(fn,Vn){for(var Wt=fn.images,un=0;un<Wt.length&&Wt[un];++un){var vn=Wt[un],$n=Vn,Hn=un,zn=vn.element,bn=vn.data,Sn=vn.internalformat,gn=vn.format,kn=vn.type,In=vn.width,Yn=vn.height;Nt(vn),zn?$e.texImage2D($n,Hn,gn,gn,kn,zn):vn.compressed?$e.compressedTexImage2D($n,Hn,Sn,In,Yn,0,bn):vn.needsCopy?(Le(),$e.copyTexImage2D($n,Hn,gn,vn.xOffset,vn.yOffset,In,Yn,0)):$e.texImage2D($n,Hn,gn,In,Yn,0,gn,kn,bn||null)}}function Tn(){var fn=qn.pop()||new Qt;bt.call(fn);for(var Vn=fn.mipmask=0;16>Vn;++Vn)fn.images[Vn]=null;return fn}function An(fn){for(var Vn=fn.images,Wt=0;Wt<Vn.length;++Wt)Vn[Wt]&&qt(Vn[Wt]),Vn[Wt]=null;qn.push(fn)}function pn(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function Nn(fn,Vn){"min"in Vn&&(fn.minFilter=er[Vn.min],0<=Pe.indexOf(fn.minFilter)&&!("faces"in Vn)&&(fn.genMipmaps=!0)),"mag"in Vn&&(fn.magFilter=jn[Vn.mag]);var Wt=fn.wrapS,un=fn.wrapT;if("wrap"in Vn){var vn=Vn.wrap;"string"==typeof vn?Wt=un=Fn[vn]:Array.isArray(vn)&&(Wt=Fn[vn[0]],un=Fn[vn[1]])}else"wrapS"in Vn&&(Wt=Fn[Vn.wrapS]),"wrapT"in Vn&&(un=Fn[Vn.wrapT]);if(fn.wrapS=Wt,fn.wrapT=un,"anisotropic"in Vn&&(fn.anisotropic=Vn.anisotropic),"mipmap"in Vn){switch(Wt=!1,typeof Vn.mipmap){case"string":fn.mipmapHint=En[Vn.mipmap],Wt=fn.genMipmaps=!0;break;case"boolean":Wt=fn.genMipmaps=Vn.mipmap;break;case"object":fn.genMipmaps=!1,Wt=!0}!Wt||"min"in Vn||(fn.minFilter=9984)}}function tr(fn,Vn){$e.texParameteri(Vn,10241,fn.minFilter),$e.texParameteri(Vn,10240,fn.magFilter),$e.texParameteri(Vn,10242,fn.wrapS),$e.texParameteri(Vn,10243,fn.wrapT),ot.ext_texture_filter_anisotropic&&$e.texParameteri(Vn,34046,fn.anisotropic),fn.genMipmaps&&($e.hint(33170,fn.mipmapHint),$e.generateMipmap(Vn))}function On(fn){bt.call(this),this.mipmask=0,this.internalformat=6408,this.id=nr++,this.refCount=1,this.target=fn,this.texture=$e.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new pn,vt.profile&&(this.stats={size:0})}function wn(fn){$e.activeTexture(33984),$e.bindTexture(fn.target,fn.texture)}function Cn(){var fn=Ur[0];fn?$e.bindTexture(fn.target,fn.texture):$e.bindTexture(3553,null)}function mn(fn){var Vn=fn.texture,Wt=fn.unit,un=fn.target;0<=Wt&&($e.activeTexture(33984+Wt),$e.bindTexture(un,null),Ur[Wt]=null),$e.deleteTexture(Vn),fn.texture=null,fn.params=null,fn.pixels=null,fn.refCount=0,delete fr[fn.id],st.textureCount--}var En={"don't care":4352,"dont care":4352,nice:4354,fast:4353},Fn={repeat:10497,clamp:33071,mirror:33648},jn={nearest:9728,linear:9729},er=re({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},jn),Zn={none:0,browser:37444},Gn={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},_r={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},mr={};ot.ext_srgb&&(_r.srgb=35904,_r.srgba=35906),ot.oes_texture_float&&(Gn.float32=Gn.float=5126),ot.oes_texture_half_float&&(Gn.float16=Gn["half float"]=36193),ot.webgl_depth_texture&&(re(_r,{depth:6402,"depth stencil":34041}),re(Gn,{uint16:5123,uint32:5125,"depth stencil":34042})),ot.webgl_compressed_texture_s3tc&&re(mr,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),ot.webgl_compressed_texture_atc&&re(mr,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),ot.webgl_compressed_texture_pvrtc&&re(mr,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),ot.webgl_compressed_texture_etc1&&(mr["rgb etc1"]=36196);var Vr=Array.prototype.slice.call($e.getParameter(34467));Object.keys(mr).forEach(function(fn){var Vn=mr[fn];0<=Vr.indexOf(Vn)&&(_r[fn]=Vn)});var Dr=Object.keys(_r);dt.textureFormats=Dr;var Un=[];Object.keys(_r).forEach(function(fn){Un[_r[fn]]=fn});var ur=[];Object.keys(Gn).forEach(function(fn){ur[Gn[fn]]=fn});var cr=[];Object.keys(jn).forEach(function(fn){cr[jn[fn]]=fn});var on=[];Object.keys(er).forEach(function(fn){on[er[fn]]=fn});var xn=[];Object.keys(Fn).forEach(function(fn){xn[Fn[fn]]=fn});var Wn=Dr.reduce(function(fn,Vn){var Wt=_r[Vn];return fn[Wt]=6409===Wt||6406===Wt||6409===Wt||6410===Wt||6402===Wt||34041===Wt||ot.ext_srgb&&(35904===Wt||35906===Wt)?Wt:32855===Wt||0<=Vn.indexOf("rgba")?6408:6407,fn},{}),Bn=[],qn=[],nr=0,fr={},Sr=dt.maxTextureUnits,Ur=Array(Sr).map(function(){return null});return re(On.prototype,{bind:function(){this.bindCount+=1;var fn=this.unit;if(0>fn){for(var Vn=0;Vn<Sr;++Vn){var Wt=Ur[Vn];if(Wt){if(0<Wt.bindCount)continue;Wt.unit=-1}Ur[Vn]=this,fn=Vn;break}vt.profile&&st.maxTextureUnits<fn+1&&(st.maxTextureUnits=fn+1),this.unit=fn,$e.activeTexture(33984+fn),$e.bindTexture(this.target,this.texture)}return fn},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&mn(this)}}),vt.profile&&(st.getTotalTextureSize=function(){var fn=0;return Object.keys(fr).forEach(function(Vn){fn+=fr[Vn].stats.size}),fn}),{create2D:function(fn,Vn){function Wt(vn,$n){var Hn=un.texInfo;pn.call(Hn);var zn=Tn();return"number"==typeof vn?Jt(zn,0|vn,"number"==typeof $n?0|$n:0|vn):vn?(Nn(Hn,vn),Kt(zn,vn)):Jt(zn,1,1),Hn.genMipmaps&&(zn.mipmask=(zn.width<<1)-1),un.mipmask=zn.mipmask,Lt(un,zn),un.internalformat=zn.internalformat,Wt.width=zn.width,Wt.height=zn.height,wn(un),ln(zn,3553),tr(Hn,3553),Cn(),An(zn),vt.profile&&(un.stats.size=h(un.internalformat,un.type,zn.width,zn.height,Hn.genMipmaps,!1)),Wt.format=Un[un.internalformat],Wt.type=ur[un.type],Wt.mag=cr[Hn.magFilter],Wt.min=on[Hn.minFilter],Wt.wrapS=xn[Hn.wrapS],Wt.wrapT=xn[Hn.wrapT],Wt}var un=new On(3553);return fr[un.id]=un,st.textureCount++,Wt(fn,Vn),Wt.subimage=function(vn,$n,Hn,zn){$n|=0,Hn|=0,zn|=0;var bn=Ht();return Lt(bn,un),bn.width=0,bn.height=0,Mt(bn,vn),bn.width=bn.width||(un.width>>zn)-$n,bn.height=bn.height||(un.height>>zn)-Hn,wn(un),kt(bn,3553,$n,Hn,zn),Cn(),qt(bn),Wt},Wt.resize=function(vn,$n){var Hn=0|vn,zn=0|$n||Hn;if(Hn===un.width&&zn===un.height)return Wt;Wt.width=un.width=Hn,Wt.height=un.height=zn,wn(un);for(var bn=0;un.mipmask>>bn;++bn){var Sn=Hn>>bn,gn=zn>>bn;if(!Sn||!gn)break;$e.texImage2D(3553,bn,un.format,Sn,gn,0,un.format,un.type,null)}return Cn(),vt.profile&&(un.stats.size=h(un.internalformat,un.type,Hn,zn,!1,!1)),Wt},Wt._reglType="texture2d",Wt._texture=un,vt.profile&&(Wt.stats=un.stats),Wt.destroy=function(){un.decRef()},Wt},createCube:function(fn,Vn,Wt,un,vn,$n){function Hn(Sn,gn,kn,In,Yn,Rn){var hr,sr=zn.texInfo;for(pn.call(sr),hr=0;6>hr;++hr)bn[hr]=Tn();if("number"!=typeof Sn&&Sn){if("object"==typeof Sn)if(gn)Kt(bn[0],Sn),Kt(bn[1],gn),Kt(bn[2],kn),Kt(bn[3],In),Kt(bn[4],Yn),Kt(bn[5],Rn);else if(Nn(sr,Sn),jt(zn,Sn),"faces"in Sn)for(Sn=Sn.faces,hr=0;6>hr;++hr)Lt(bn[hr],zn),Kt(bn[hr],Sn[hr]);else for(hr=0;6>hr;++hr)Kt(bn[hr],Sn)}else for(Sn=0|Sn||1,hr=0;6>hr;++hr)Jt(bn[hr],Sn,Sn);for(Lt(zn,bn[0]),zn.mipmask=sr.genMipmaps?(bn[0].width<<1)-1:bn[0].mipmask,zn.internalformat=bn[0].internalformat,Hn.width=bn[0].width,Hn.height=bn[0].height,wn(zn),hr=0;6>hr;++hr)ln(bn[hr],34069+hr);for(tr(sr,34067),Cn(),vt.profile&&(zn.stats.size=h(zn.internalformat,zn.type,Hn.width,Hn.height,sr.genMipmaps,!0)),Hn.format=Un[zn.internalformat],Hn.type=ur[zn.type],Hn.mag=cr[sr.magFilter],Hn.min=on[sr.minFilter],Hn.wrapS=xn[sr.wrapS],Hn.wrapT=xn[sr.wrapT],hr=0;6>hr;++hr)An(bn[hr]);return Hn}var zn=new On(34067);fr[zn.id]=zn,st.cubeCount++;var bn=Array(6);return Hn(fn,Vn,Wt,un,vn,$n),Hn.subimage=function(Sn,gn,kn,In,Yn){kn|=0,In|=0,Yn|=0;var Rn=Ht();return Lt(Rn,zn),Rn.width=0,Rn.height=0,Mt(Rn,gn),Rn.width=Rn.width||(zn.width>>Yn)-kn,Rn.height=Rn.height||(zn.height>>Yn)-In,wn(zn),kt(Rn,34069+Sn,kn,In,Yn),Cn(),qt(Rn),Hn},Hn.resize=function(Sn){if((Sn|=0)!==zn.width){Hn.width=zn.width=Sn,Hn.height=zn.height=Sn,wn(zn);for(var gn=0;6>gn;++gn)for(var kn=0;zn.mipmask>>kn;++kn)$e.texImage2D(34069+gn,kn,zn.format,Sn>>kn,Sn>>kn,0,zn.format,zn.type,null);return Cn(),vt.profile&&(zn.stats.size=h(zn.internalformat,zn.type,Hn.width,Hn.height,!1,!0)),Hn}},Hn._reglType="textureCube",Hn._texture=zn,vt.profile&&(Hn.stats=zn.stats),Hn.destroy=function(){zn.decRef()},Hn},clear:function(){for(var fn=0;fn<Sr;++fn)$e.activeTexture(33984+fn),$e.bindTexture(3553,null),Ur[fn]=null;pe(fr).forEach(mn),st.cubeCount=0,st.textureCount=0},getTexture:function(fn){return null},restore:function(){for(var fn=0;fn<Sr;++fn){var Vn=Ur[fn];Vn&&(Vn.bindCount=0,Vn.unit=-1,Ur[fn]=null)}pe(fr).forEach(function(Wt){Wt.texture=$e.createTexture(),$e.bindTexture(Wt.target,Wt.texture);for(var un=0;32>un;++un)if(Wt.mipmask&1<<un)if(3553===Wt.target)$e.texImage2D(3553,un,Wt.internalformat,Wt.width>>un,Wt.height>>un,0,Wt.internalformat,Wt.type,null);else for(var vn=0;6>vn;++vn)$e.texImage2D(34069+vn,un,Wt.internalformat,Wt.width>>un,Wt.height>>un,0,Wt.internalformat,Wt.type,null);tr(Wt.texInfo,Wt.target)})},refresh:function(){for(var fn=0;fn<Sr;++fn){var Vn=Ur[fn];Vn&&(Vn.bindCount=0,Vn.unit=-1,Ur[fn]=null),$e.activeTexture(33984+fn),$e.bindTexture(3553,null),$e.bindTexture(34067,null)}}}}(kt,ln,On,function(){Zn.procs.poll()},tr,Jt,$e),jn=function($e,ot,dt,Le,Ge){function st(Tt){this.id=jt++,this.refCount=1,this.renderbuffer=Tt,this.format=32854,this.height=this.width=0,Ge.profile&&(this.stats={size:0})}function vt(Tt){var Mt=Tt.renderbuffer;$e.bindRenderbuffer(36161,null),$e.deleteRenderbuffer(Mt),Tt.renderbuffer=null,Tt.refCount=0,delete Nt[Tt.id],Le.renderbufferCount--}var bt={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};ot.ext_srgb&&(bt.srgba=35907),ot.ext_color_buffer_half_float&&(bt.rgba16f=34842,bt.rgb16f=34843),ot.webgl_color_buffer_float&&(bt.rgba32f=34836);var Lt=[];Object.keys(bt).forEach(function(Tt){Lt[bt[Tt]]=Tt});var jt=0,Nt={};return st.prototype.decRef=function(){0>=--this.refCount&&vt(this)},Ge.profile&&(Le.getTotalRenderbufferSize=function(){var Tt=0;return Object.keys(Nt).forEach(function(Mt){Tt+=Nt[Mt].stats.size}),Tt}),{create:function(Tt,Mt){function kt(qt,Qt){var Jt=0,Kt=0,ln=32854;if("object"==typeof qt&&qt?("shape"in qt?(Jt=0|(Kt=qt.shape)[0],Kt=0|Kt[1]):("radius"in qt&&(Jt=Kt=0|qt.radius),"width"in qt&&(Jt=0|qt.width),"height"in qt&&(Kt=0|qt.height)),"format"in qt&&(ln=bt[qt.format])):"number"==typeof qt?(Jt=0|qt,Kt="number"==typeof Qt?0|Qt:Jt):qt||(Jt=Kt=1),Jt!==Ht.width||Kt!==Ht.height||ln!==Ht.format)return kt.width=Ht.width=Jt,kt.height=Ht.height=Kt,Ht.format=ln,$e.bindRenderbuffer(36161,Ht.renderbuffer),$e.renderbufferStorage(36161,ln,Jt,Kt),Ge.profile&&(Ht.stats.size=mt[Ht.format]*Ht.width*Ht.height),kt.format=Lt[Ht.format],kt}var Ht=new st($e.createRenderbuffer());return Nt[Ht.id]=Ht,Le.renderbufferCount++,kt(Tt,Mt),kt.resize=function(qt,Qt){var Jt=0|qt,Kt=0|Qt||Jt;return Jt===Ht.width&&Kt===Ht.height||(kt.width=Ht.width=Jt,kt.height=Ht.height=Kt,$e.bindRenderbuffer(36161,Ht.renderbuffer),$e.renderbufferStorage(36161,Ht.format,Jt,Kt),Ge.profile&&(Ht.stats.size=mt[Ht.format]*Ht.width*Ht.height)),kt},kt._reglType="renderbuffer",kt._renderbuffer=Ht,Ge.profile&&(kt.stats=Ht.stats),kt.destroy=function(){Ht.decRef()},kt},clear:function(){pe(Nt).forEach(vt)},restore:function(){pe(Nt).forEach(function(Tt){Tt.renderbuffer=$e.createRenderbuffer(),$e.bindRenderbuffer(36161,Tt.renderbuffer),$e.renderbufferStorage(36161,Tt.format,Tt.width,Tt.height)}),$e.bindRenderbuffer(36161,null)}}}(kt,ln,0,Jt,$e),er=function A($e,ot,dt,Le,Ge,st){function vt(On,wn,Cn){this.target=On,this.texture=wn,this.renderbuffer=Cn;var mn=On=0;wn?(On=wn.width,mn=wn.height):Cn&&(On=Cn.width,mn=Cn.height),this.width=On,this.height=mn}function bt(On){On&&(On.texture&&On.texture._texture.decRef(),On.renderbuffer&&On.renderbuffer._renderbuffer.decRef())}function Lt(On,wn,Cn){On&&(On.texture?On.texture._texture.refCount+=1:On.renderbuffer._renderbuffer.refCount+=1)}function jt(On,wn){wn&&(wn.texture?$e.framebufferTexture2D(36160,On,wn.target,wn.texture._texture.texture,0):$e.framebufferRenderbuffer(36160,On,36161,wn.renderbuffer._renderbuffer.renderbuffer))}function Nt(On){var wn=3553,Cn=null,mn=null,En=On;return"object"==typeof On&&(En=On.data,"target"in On&&(wn=0|On.target)),"texture2d"===(On=En._reglType)||"textureCube"===On?Cn=En:"renderbuffer"===On&&(mn=En,wn=36161),new vt(wn,Cn,mn)}function Tt(On,wn,Cn,mn,En){return Cn?((On=Le.create2D({width:On,height:wn,format:mn,type:En}))._texture.refCount=0,new vt(3553,On,null)):((On=Ge.create({width:On,height:wn,format:mn}))._renderbuffer.refCount=0,new vt(36161,null,On))}function Mt(On){return On&&(On.texture||On.renderbuffer)}function kt(On,wn,Cn){On&&(On.texture?On.texture.resize(wn,Cn):On.renderbuffer&&On.renderbuffer.resize(wn,Cn),On.width=wn,On.height=Cn)}function Ht(){this.id=Nn++,tr[this.id]=this,this.framebuffer=$e.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function qt(On){On.colorAttachments.forEach(bt),bt(On.depthAttachment),bt(On.stencilAttachment),bt(On.depthStencilAttachment)}function Qt(On){$e.deleteFramebuffer(On.framebuffer),On.framebuffer=null,st.framebufferCount--,delete tr[On.id]}function Jt(On){var wn;$e.bindFramebuffer(36160,On.framebuffer);var Cn=On.colorAttachments;for(wn=0;wn<Cn.length;++wn)jt(36064+wn,Cn[wn]);for(wn=Cn.length;wn<dt.maxColorAttachments;++wn)$e.framebufferTexture2D(36160,36064+wn,3553,null,0);$e.framebufferTexture2D(36160,33306,3553,null,0),$e.framebufferTexture2D(36160,36096,3553,null,0),$e.framebufferTexture2D(36160,36128,3553,null,0),jt(36096,On.depthAttachment),jt(36128,On.stencilAttachment),jt(33306,On.depthStencilAttachment),$e.checkFramebufferStatus(36160),$e.isContextLost(),$e.bindFramebuffer(36160,ln.next?ln.next.framebuffer:null),ln.cur=ln.next,$e.getError()}function Kt(On,wn){function Cn(En,Fn){var jn,er=0,Zn=0,Gn=!0,_r=!0;jn=null;var mr=!0,Vr="rgba",Dr="uint8",Un=1,ur=null,cr=null,on=null,xn=!1;"number"==typeof En?(er=0|En,Zn=0|Fn||er):En?("shape"in En?(er=(Zn=En.shape)[0],Zn=Zn[1]):("radius"in En&&(er=Zn=En.radius),"width"in En&&(er=En.width),"height"in En&&(Zn=En.height)),("color"in En||"colors"in En)&&(jn=En.color||En.colors,Array.isArray(jn)),jn||("colorCount"in En&&(Un=0|En.colorCount),"colorTexture"in En&&(mr=!!En.colorTexture,Vr="rgba4"),"colorType"in En&&(Dr=En.colorType,!mr)&&("half float"===Dr||"float16"===Dr?Vr="rgba16f":"float"!==Dr&&"float32"!==Dr||(Vr="rgba32f")),"colorFormat"in En&&(0<=Tn.indexOf(Vr=En.colorFormat)?mr=!0:0<=An.indexOf(Vr)&&(mr=!1))),("depthTexture"in En||"depthStencilTexture"in En)&&(xn=!(!En.depthTexture&&!En.depthStencilTexture)),"depth"in En&&("boolean"==typeof En.depth?Gn=En.depth:(ur=En.depth,_r=!1)),"stencil"in En&&("boolean"==typeof En.stencil?_r=En.stencil:(cr=En.stencil,Gn=!1)),"depthStencil"in En&&("boolean"==typeof En.depthStencil?Gn=_r=En.depthStencil:(on=En.depthStencil,_r=Gn=!1))):er=Zn=1;var Wn=null,Bn=null,qn=null,nr=null;if(Array.isArray(jn))Wn=jn.map(Nt);else if(jn)Wn=[Nt(jn)];else for(Wn=Array(Un),jn=0;jn<Un;++jn)Wn[jn]=Tt(er,Zn,mr,Vr,Dr);for(er=er||Wn[0].width,Zn=Zn||Wn[0].height,ur?Bn=Nt(ur):Gn&&!_r&&(Bn=Tt(er,Zn,xn,"depth","uint32")),cr?qn=Nt(cr):_r&&!Gn&&(qn=Tt(er,Zn,!1,"stencil","uint8")),on?nr=Nt(on):!ur&&!cr&&_r&&Gn&&(nr=Tt(er,Zn,xn,"depth stencil","depth stencil")),Gn=null,jn=0;jn<Wn.length;++jn)Lt(Wn[jn]),Wn[jn]&&Wn[jn].texture&&(_r=Rt[Wn[jn].texture._texture.format]*It[Wn[jn].texture._texture.type],null===Gn&&(Gn=_r));return Lt(Bn),Lt(qn),Lt(nr),qt(mn),mn.width=er,mn.height=Zn,mn.colorAttachments=Wn,mn.depthAttachment=Bn,mn.stencilAttachment=qn,mn.depthStencilAttachment=nr,Cn.color=Wn.map(Mt),Cn.depth=Mt(Bn),Cn.stencil=Mt(qn),Cn.depthStencil=Mt(nr),Cn.width=mn.width,Cn.height=mn.height,Jt(mn),Cn}var mn=new Ht;return st.framebufferCount++,Cn(On,wn),re(Cn,{resize:function(En,Fn){var jn=Math.max(0|En,1),er=Math.max(0|Fn||jn,1);if(jn===mn.width&&er===mn.height)return Cn;for(var Zn=mn.colorAttachments,Gn=0;Gn<Zn.length;++Gn)kt(Zn[Gn],jn,er);return kt(mn.depthAttachment,jn,er),kt(mn.stencilAttachment,jn,er),kt(mn.depthStencilAttachment,jn,er),mn.width=Cn.width=jn,mn.height=Cn.height=er,Jt(mn),Cn},_reglType:"framebuffer",_framebuffer:mn,destroy:function(){Qt(mn),qt(mn)},use:function(En){ln.setFBO({framebuffer:Cn},En)}})}var ln={cur:null,next:null,dirty:!1,setFBO:null},Tn=["rgba"],An=["rgba4","rgb565","rgb5 a1"];ot.ext_srgb&&An.push("srgba"),ot.ext_color_buffer_half_float&&An.push("rgba16f","rgb16f"),ot.webgl_color_buffer_float&&An.push("rgba32f");var pn=["uint8"];ot.oes_texture_half_float&&pn.push("half float","float16"),ot.oes_texture_float&&pn.push("float","float32");var Nn=0,tr={};return re(ln,{getFramebuffer:function(On){return"function"==typeof On&&"framebuffer"===On._reglType&&(On=On._framebuffer)instanceof Ht?On:null},create:Kt,createCube:function(On){function wn(mn){var En,Fn={color:null},jn=0,er=null;En="rgba";var Zn="uint8",Gn=1;if("number"==typeof mn?jn=0|mn:mn?("shape"in mn?jn=mn.shape[0]:("radius"in mn&&(jn=0|mn.radius),"width"in mn?jn=0|mn.width:"height"in mn&&(jn=0|mn.height)),("color"in mn||"colors"in mn)&&(er=mn.color||mn.colors,Array.isArray(er)),er||("colorCount"in mn&&(Gn=0|mn.colorCount),"colorType"in mn&&(Zn=mn.colorType),"colorFormat"in mn&&(En=mn.colorFormat)),"depth"in mn&&(Fn.depth=mn.depth),"stencil"in mn&&(Fn.stencil=mn.stencil),"depthStencil"in mn&&(Fn.depthStencil=mn.depthStencil)):jn=1,er)if(Array.isArray(er))for(mn=[],En=0;En<er.length;++En)mn[En]=er[En];else mn=[er];else for(mn=Array(Gn),er={radius:jn,format:En,type:Zn},En=0;En<Gn;++En)mn[En]=Le.createCube(er);for(Fn.color=Array(mn.length),En=0;En<mn.length;++En)Gn=mn[En],jn=jn||Gn.width,Fn.color[En]={target:34069,data:mn[En]};for(En=0;6>En;++En){for(Gn=0;Gn<mn.length;++Gn)Fn.color[Gn].target=34069+En;0<En&&(Fn.depth=Cn[0].depth,Fn.stencil=Cn[0].stencil,Fn.depthStencil=Cn[0].depthStencil),Cn[En]?Cn[En](Fn):Cn[En]=Kt(Fn)}return re(wn,{width:jn,height:jn,color:mn})}var Cn=Array(6);return wn(On),re(wn,{faces:Cn,resize:function(mn){var En=0|mn;if(En===wn.width)return wn;var Fn=wn.color;for(mn=0;mn<Fn.length;++mn)Fn[mn].resize(En);for(mn=0;6>mn;++mn)Cn[mn].resize(En);return wn.width=wn.height=En,wn},_reglType:"framebufferCube",destroy:function(){Cn.forEach(function(mn){mn.destroy()})}})},clear:function(){pe(tr).forEach(Qt)},restore:function(){ln.cur=null,ln.next=null,ln.dirty=!0,pe(tr).forEach(function(On){On.framebuffer=$e.createFramebuffer(),Jt(On)})}})}(kt,ln,On,Fn,jn,Jt),Zn=Q(kt,Qt,ln,On,wn,Cn,0,er,{},mn,En,pn,tr,Tn,Kt,$e),Gn=(Qt=function N($e,ot,dt,Le,Ge,st,vt){function bt(Lt){var jt;jt=null===ot.next?5121:ot.next.colorAttachments[0].texture._texture.type;var Nt=0,Tt=0,Mt=Le.framebufferWidth,kt=Le.framebufferHeight,Ht=null;return Ae(Lt)?Ht=Lt:Lt&&(Nt=0|Lt.x,Tt=0|Lt.y,Mt=0|(Lt.width||Le.framebufferWidth-Nt),kt=0|(Lt.height||Le.framebufferHeight-Tt),Ht=Lt.data||null),dt(),Lt=Mt*kt*4,Ht||(5121===jt?Ht=new Uint8Array(Lt):5126===jt&&(Ht=Ht||new Float32Array(Lt))),$e.pixelStorei(3333,4),$e.readPixels(Nt,Tt,Mt,kt,6408,jt,Ht),Ht}return function(Lt){return Lt&&"framebuffer"in Lt?(ot.setFBO({framebuffer:(jt=Lt).framebuffer},function(){Nt=bt(jt)}),Nt):bt(Lt);var jt,Nt}}(kt,er,Zn.procs.poll,tr),Zn.next),_r=kt.canvas,mr=[],Vr=[],Dr=[],Un=[$e.onDestroy],ur=null;_r&&(_r.addEventListener("webglcontextlost",Ge,!1),_r.addEventListener("webglcontextrestored",st,!1));var cr=er.setFBO=vt({framebuffer:ue.define.call(null,1,"framebuffer")});return Tt(),Ht=re(vt,{clear:function(on){if("framebuffer"in on)if(on.framebuffer&&"framebufferCube"===on.framebuffer_reglType)for(var xn=0;6>xn;++xn)cr(re({framebuffer:on.framebuffer.faces[xn]},on),bt);else cr(on,bt);else bt(0,on)},prop:ue.define.bind(null,1),context:ue.define.bind(null,2),this:ue.define.bind(null,3),draw:vt({}),buffer:function(on){return wn.create(on,34962,!1,!1)},elements:function(on){return Cn.create(on,!1)},texture:Fn.create2D,cube:Fn.createCube,renderbuffer:jn.create,framebuffer:er.create,framebufferCube:er.createCube,vao:mn.createVAO,attributes:Ht,frame:Lt,on:function(on,xn){var Wn;switch(on){case"frame":return Lt(xn);case"lost":Wn=Vr;break;case"restore":Wn=Dr;break;case"destroy":Wn=Un}return Wn.push(xn),{cancel:function(){for(var Bn=0;Bn<Wn.length;++Bn)if(Wn[Bn]===xn){Wn[Bn]=Wn[Wn.length-1],Wn.pop();break}}}},limits:On,hasExtension:function(on){return 0<=On.extensions.indexOf(on.toLowerCase())},read:Qt,destroy:function(){mr.length=0,Le(),_r&&(_r.removeEventListener("webglcontextlost",Ge),_r.removeEventListener("webglcontextrestored",st)),En.clear(),er.clear(),jn.clear(),mn.clear(),Fn.clear(),Cn.clear(),wn.clear(),Tn&&Tn.clear(),Un.forEach(function(on){on()})},_gl:kt,_refresh:Tt,poll:function(){Nt(),Tn&&Tn.update()},now:Mt,stats:Jt,getCachedCode:function(){return Kt},preloadCachedCode:function(on){Object.entries(on).forEach(function(xn){Kt[xn[0]]=xn[1]})}}),$e.onDone(null,Ht),Ht}}()},71665:function(ie,z,r){var C=r(12856),E=C.Buffer;function f(M,v){for(var c in M)v[c]=M[c]}function S(M,v,c){return E(M,v,c)}E.from&&E.alloc&&E.allocUnsafe&&E.allocUnsafeSlow?ie.exports=C:(f(C,z),z.Buffer=S),S.prototype=Object.create(E.prototype),f(E,S),S.from=function(M,v,c){if("number"==typeof M)throw new TypeError("Argument must not be a number");return E(M,v,c)},S.alloc=function(M,v,c){if("number"!=typeof M)throw new TypeError("Argument must be a number");var i=E(M);return void 0!==v?"string"==typeof c?i.fill(v,c):i.fill(v):i.fill(0),i},S.allocUnsafe=function(M){if("number"!=typeof M)throw new TypeError("Argument must be a number");return E(M)},S.allocUnsafeSlow=function(M){if("number"!=typeof M)throw new TypeError("Argument must be a number");return C.SlowBuffer(M)}},21630:function(ie,z,r){ie.exports=E;var C=r(15398).EventEmitter;function E(){C.call(this)}r(42018)(E,C),E.Readable=r(40410),E.Writable=r(37493),E.Duplex=r(37865),E.Transform=r(74308),E.PassThrough=r(66897),E.finished=r(12726),E.pipeline=r(10168),E.Stream=E,E.prototype.pipe=function(f,S){var M=this;function v(s){f.writable&&!1===f.write(s)&&M.pause&&M.pause()}function c(){M.readable&&M.resume&&M.resume()}M.on("data",v),f.on("drain",c),f._isStdio||S&&!1===S.end||(M.on("end",u),M.on("close",a));var i=!1;function u(){i||(i=!0,f.end())}function a(){i||(i=!0,"function"==typeof f.destroy&&f.destroy())}function o(s){if(l(),0===C.listenerCount(this,"error"))throw s}function l(){M.removeListener("data",v),f.removeListener("drain",c),M.removeListener("end",u),M.removeListener("close",a),M.removeListener("error",o),f.removeListener("error",o),M.removeListener("end",l),M.removeListener("close",l),f.removeListener("close",l)}return M.on("error",o),f.on("error",o),M.on("end",l),M.on("close",l),f.on("close",l),f.emit("pipe",M),f}},74322:function(ie){"use strict";var z={};function r(E,f,S){S||(S=Error);var M=function(v){var c,i;function u(a,o,l){return v.call(this,"string"==typeof f?f:f(a,o,l))||this}return i=v,(c=u).prototype=Object.create(i.prototype),c.prototype.constructor=c,c.__proto__=i,u}(S);M.prototype.name=S.name,M.prototype.code=E,z[E]=M}function C(E,f){if(Array.isArray(E)){var S=E.length;return E=E.map(function(M){return String(M)}),S>2?"one of ".concat(f," ").concat(E.slice(0,S-1).join(", "),", or ")+E[S-1]:2===S?"one of ".concat(f," ").concat(E[0]," or ").concat(E[1]):"of ".concat(f," ").concat(E[0])}return"of ".concat(f," ").concat(String(E))}r("ERR_INVALID_OPT_VALUE",function(E,f){return'The value "'+f+'" is invalid for option "'+E+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(E,f,S){var M,c,i,u,o,s;if("string"==typeof f&&"not "===f.substr(0,"not ".length)?(M="must not be",f=f.replace(/^not /,"")):M="must be",o=E,(void 0===s||s>o.length)&&(s=o.length)," argument"===o.substring(s-" argument".length,s))c="The ".concat(E," ").concat(M," ").concat(C(f,"type"));else{var a=("number"!=typeof u&&(u=0),u+1>(i=E).length||-1===i.indexOf(".",u)?"argument":"property");c='The "'.concat(E,'" ').concat(a," ").concat(M," ").concat(C(f,"type"))}return c+". Received type ".concat(typeof S)},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(E){return"The "+E+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(E){return"Cannot call "+E+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(E){return"Unknown encoding: "+E},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),ie.exports.q=z},37865:function(ie,z,r){"use strict";var C=r(90386),E=Object.keys||function(o){var l=[];for(var s in o)l.push(s);return l};ie.exports=i;var f=r(40410),S=r(37493);r(42018)(i,f);for(var M=E(S.prototype),v=0;v<M.length;v++){var c=M[v];i.prototype[c]||(i.prototype[c]=S.prototype[c])}function i(o){if(!(this instanceof i))return new i(o);f.call(this,o),S.call(this,o),this.allowHalfOpen=!0,o&&(!1===o.readable&&(this.readable=!1),!1===o.writable&&(this.writable=!1),!1===o.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",u)))}function u(){this._writableState.ended||C.nextTick(a,this)}function a(o){o.end()}Object.defineProperty(i.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(i.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(i.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(i.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(o){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=o,this._writableState.destroyed=o)}})},66897:function(ie,z,r){"use strict";ie.exports=E;var C=r(74308);function E(f){if(!(this instanceof E))return new E(f);C.call(this,f)}r(42018)(E,C),E.prototype._transform=function(f,S,M){M(null,f)}},40410:function(ie,z,r){"use strict";var C,E=r(90386);ie.exports=k,k.ReadableState=b,r(15398);var f,S=function(X,$){return X.listeners($).length},M=r(71405),v=r(12856).Buffer,c=r.g.Uint8Array||function(){},i=r(40964);f=i&&i.debuglog?i.debuglog("stream"):function(){};var u,a,o,l=r(31125),s=r(65756),d=r(56306).getHighWaterMark,g=r(74322).q,p=g.ERR_INVALID_ARG_TYPE,T=g.ERR_STREAM_PUSH_AFTER_EOF,_=g.ERR_METHOD_NOT_IMPLEMENTED,y=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(42018)(k,M);var w=s.errorOrDestroy,m=["error","close","destroy","pause","resume"];function b(X,$,Q){C=C||r(37865),"boolean"!=typeof Q&&(Q=$ instanceof C),this.objectMode=!!(X=X||{}).objectMode,Q&&(this.objectMode=this.objectMode||!!X.readableObjectMode),this.highWaterMark=d(this,X,"readableHighWaterMark",Q),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==X.emitClose,this.autoDestroy=!!X.autoDestroy,this.destroyed=!1,this.defaultEncoding=X.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,X.encoding&&(u||(u=r(68019).s),this.decoder=new u(X.encoding),this.encoding=X.encoding)}function k(X){if(C=C||r(37865),!(this instanceof k))return new k(X);this._readableState=new b(X,this,this instanceof C),this.readable=!0,X&&("function"==typeof X.read&&(this._read=X.read),"function"==typeof X.destroy&&(this._destroy=X.destroy)),M.call(this)}function h(X,$,Q,te,re){f("readableAddChunk",$);var le,he,ge,xe,ke,ue=X._readableState;if(null===$)ue.reading=!1,function(he,ge){if(f("onEofChunk"),!ge.ended){if(ge.decoder){var xe=ge.decoder.end();xe&&xe.length&&(ge.buffer.push(xe),ge.length+=ge.objectMode?1:xe.length)}ge.ended=!0,ge.sync?P(he):(ge.needReadable=!1,ge.emittedReadable||(ge.emittedReadable=!0,L(he)))}}(X,ue);else if(re||(he=ue,v.isBuffer(ke=ge=$)||ke instanceof c||"string"==typeof ge||void 0===ge||he.objectMode||(xe=new p("chunk",["string","Buffer","Uint8Array"],ge)),le=xe),le)w(X,le);else if(ue.objectMode||$&&$.length>0)if("string"==typeof $||ue.objectMode||Object.getPrototypeOf($)===v.prototype||($=function(he){return v.from(he)}($)),te)ue.endEmitted?w(X,new y):O(X,ue,$,!0);else if(ue.ended)w(X,new T);else{if(ue.destroyed)return!1;ue.reading=!1,ue.decoder&&!Q?($=ue.decoder.write($),ue.objectMode||0!==$.length?O(X,ue,$,!1):N(X,ue)):O(X,ue,$,!1)}else te||(ue.reading=!1,N(X,ue));return!ue.ended&&(ue.length<ue.highWaterMark||0===ue.length)}function O(X,$,Q,te){$.flowing&&0===$.length&&!$.sync?($.awaitDrain=0,X.emit("data",Q)):($.length+=$.objectMode?1:Q.length,te?$.buffer.unshift(Q):$.buffer.push(Q),$.needReadable&&P(X)),N(X,$)}Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(X){this._readableState&&(this._readableState.destroyed=X)}}),k.prototype.destroy=s.destroy,k.prototype._undestroy=s.undestroy,k.prototype._destroy=function(X,$){$(X)},k.prototype.push=function(X,$){var Q,te=this._readableState;return te.objectMode?Q=!0:"string"==typeof X&&(($=$||te.defaultEncoding)!==te.encoding&&(X=v.from(X,$),$=""),Q=!0),h(this,X,$,!1,Q)},k.prototype.unshift=function(X){return h(this,X,null,!0,!1)},k.prototype.isPaused=function(){return!1===this._readableState.flowing},k.prototype.setEncoding=function(X){u||(u=r(68019).s);var $=new u(X);this._readableState.decoder=$,this._readableState.encoding=this._readableState.decoder.encoding;for(var Q=this._readableState.buffer.head,te="";null!==Q;)te+=$.write(Q.data),Q=Q.next;return this._readableState.buffer.clear(),""!==te&&this._readableState.buffer.push(te),this._readableState.length=te.length,this};var A=1073741824;function I(X,$){return X<=0||0===$.length&&$.ended?0:$.objectMode?1:X!=X?$.flowing&&$.length?$.buffer.head.data.length:$.length:(X>$.highWaterMark&&($.highWaterMark=((Q=X)>=A?Q=A:(Q--,Q|=Q>>>1,Q|=Q>>>2,Q|=Q>>>4,Q|=Q>>>8,Q|=Q>>>16,Q++),Q)),X<=$.length?X:$.ended?$.length:($.needReadable=!0,0));var Q}function P(X){var $=X._readableState;f("emitReadable",$.needReadable,$.emittedReadable),$.needReadable=!1,$.emittedReadable||(f("emitReadable",$.flowing),$.emittedReadable=!0,E.nextTick(L,X))}function L(X){var $=X._readableState;f("emitReadable_",$.destroyed,$.length,$.ended),$.destroyed||!$.length&&!$.ended||(X.emit("readable"),$.emittedReadable=!1),$.needReadable=!$.flowing&&!$.ended&&$.length<=$.highWaterMark,V(X)}function N(X,$){$.readingMore||($.readingMore=!0,E.nextTick(B,X,$))}function B(X,$){for(;!$.reading&&!$.ended&&($.length<$.highWaterMark||$.flowing&&0===$.length);){var Q=$.length;if(f("maybeReadMore read 0"),X.read(0),Q===$.length)break}$.readingMore=!1}function W(X){var $=X._readableState;$.readableListening=X.listenerCount("readable")>0,$.resumeScheduled&&!$.paused?$.flowing=!0:X.listenerCount("data")>0&&X.resume()}function j(X){f("readable nexttick read 0"),X.read(0)}function Z(X,$){f("resume",$.reading),$.reading||X.read(0),$.resumeScheduled=!1,X.emit("resume"),V(X),$.flowing&&!$.reading&&X.read(0)}function V(X){var $=X._readableState;for(f("flow",$.flowing);$.flowing&&null!==X.read(););}function q(X,$){return 0===$.length?null:($.objectMode?Q=$.buffer.shift():!X||X>=$.length?(Q=$.decoder?$.buffer.join(""):1===$.buffer.length?$.buffer.first():$.buffer.concat($.length),$.buffer.clear()):Q=$.buffer.consume(X,$.decoder),Q);var Q}function G(X){var $=X._readableState;f("endReadable",$.endEmitted),$.endEmitted||($.ended=!0,E.nextTick(H,$,X))}function H(X,$){if(f("endReadableNT",X.endEmitted,X.length),!X.endEmitted&&0===X.length&&(X.endEmitted=!0,$.readable=!1,$.emit("end"),X.autoDestroy)){var Q=$._writableState;(!Q||Q.autoDestroy&&Q.finished)&&$.destroy()}}function ne(X,$){for(var Q=0,te=X.length;Q<te;Q++)if(X[Q]===$)return Q;return-1}k.prototype.read=function(X){f("read",X),X=parseInt(X,10);var $=this._readableState,Q=X;if(0!==X&&($.emittedReadable=!1),0===X&&$.needReadable&&((0!==$.highWaterMark?$.length>=$.highWaterMark:$.length>0)||$.ended))return f("read: emitReadable",$.length,$.ended),0===$.length&&$.ended?G(this):P(this),null;if(0===(X=I(X,$))&&$.ended)return 0===$.length&&G(this),null;var te,re=$.needReadable;return f("need readable",re),(0===$.length||$.length-X<$.highWaterMark)&&f("length less than watermark",re=!0),$.ended||$.reading?f("reading or ended",re=!1):re&&(f("do read"),$.reading=!0,$.sync=!0,0===$.length&&($.needReadable=!0),this._read($.highWaterMark),$.sync=!1,$.reading||(X=I(Q,$))),null===(te=X>0?q(X,$):null)?($.needReadable=$.length<=$.highWaterMark,X=0):($.length-=X,$.awaitDrain=0),0===$.length&&($.ended||($.needReadable=!0),Q!==X&&$.ended&&G(this)),null!==te&&this.emit("data",te),te},k.prototype._read=function(X){w(this,new _("_read()"))},k.prototype.pipe=function(X,$){var Q=this,te=this._readableState;switch(te.pipesCount){case 0:te.pipes=X;break;case 1:te.pipes=[te.pipes,X];break;default:te.pipes.push(X)}te.pipesCount+=1,f("pipe count=%d opts=%j",te.pipesCount,$);var re=$&&!1===$.end||X===E.stdout||X===E.stderr?pe:le;function le(){f("onend"),X.end()}te.endEmitted?E.nextTick(re):Q.once("end",re),X.on("unpipe",function ye(Ne,be){f("onunpipe"),Ne===Q&&be&&!1===be.hasUnpiped&&(be.hasUnpiped=!0,f("cleanup"),X.removeListener("close",ke),X.removeListener("finish",Ae),X.removeListener("drain",ue),X.removeListener("error",xe),X.removeListener("unpipe",ye),Q.removeListener("end",le),Q.removeListener("end",pe),Q.removeListener("data",ge),he=!0,!te.awaitDrain||X._writableState&&!X._writableState.needDrain||ue())});var ye,ue=(ye=Q,function(){var Ne=ye._readableState;f("pipeOnDrain",Ne.awaitDrain),Ne.awaitDrain&&Ne.awaitDrain--,0===Ne.awaitDrain&&S(ye,"data")&&(Ne.flowing=!0,V(ye))});X.on("drain",ue);var he=!1;function ge(ye){f("ondata");var Ne=X.write(ye);f("dest.write",Ne),!1===Ne&&((1===te.pipesCount&&te.pipes===X||te.pipesCount>1&&-1!==ne(te.pipes,X))&&!he&&(f("false write response, pause",te.awaitDrain),te.awaitDrain++),Q.pause())}function xe(ye){f("onerror",ye),pe(),X.removeListener("error",xe),0===S(X,"error")&&w(X,ye)}function ke(){X.removeListener("finish",Ae),pe()}function Ae(){f("onfinish"),X.removeListener("close",ke),pe()}function pe(){f("unpipe"),Q.unpipe(X)}return Q.on("data",ge),function(ye,Ne,be){if("function"==typeof ye.prependListener)return ye.prependListener("error",be);ye._events&&ye._events.error?Array.isArray(ye._events.error)?ye._events.error.unshift(be):ye._events.error=[be,ye._events.error]:ye.on("error",be)}(X,0,xe),X.once("close",ke),X.once("finish",Ae),X.emit("pipe",Q),te.flowing||(f("pipe resume"),Q.resume()),X},k.prototype.unpipe=function(X){var $=this._readableState,Q={hasUnpiped:!1};if(0===$.pipesCount)return this;if(1===$.pipesCount)return X&&X!==$.pipes||(X||(X=$.pipes),$.pipes=null,$.pipesCount=0,$.flowing=!1,X&&X.emit("unpipe",this,Q)),this;if(!X){var te=$.pipes,re=$.pipesCount;$.pipes=null,$.pipesCount=0,$.flowing=!1;for(var le=0;le<re;le++)te[le].emit("unpipe",this,{hasUnpiped:!1});return this}var ue=ne($.pipes,X);return-1===ue||($.pipes.splice(ue,1),$.pipesCount-=1,1===$.pipesCount&&($.pipes=$.pipes[0]),X.emit("unpipe",this,Q)),this},k.prototype.addListener=k.prototype.on=function(X,$){var Q=M.prototype.on.call(this,X,$),te=this._readableState;return"data"===X?(te.readableListening=this.listenerCount("readable")>0,!1!==te.flowing&&this.resume()):"readable"===X&&(te.endEmitted||te.readableListening||(te.readableListening=te.needReadable=!0,te.flowing=!1,te.emittedReadable=!1,f("on readable",te.length,te.reading),te.length?P(this):te.reading||E.nextTick(j,this))),Q},k.prototype.removeListener=function(X,$){var Q=M.prototype.removeListener.call(this,X,$);return"readable"===X&&E.nextTick(W,this),Q},k.prototype.removeAllListeners=function(X){var $=M.prototype.removeAllListeners.apply(this,arguments);return"readable"!==X&&void 0!==X||E.nextTick(W,this),$},k.prototype.resume=function(){var Q,X=this._readableState;return X.flowing||(f("resume"),X.flowing=!X.readableListening,this,(Q=X).resumeScheduled||(Q.resumeScheduled=!0,E.nextTick(Z,this,Q))),X.paused=!1,this},k.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},k.prototype.wrap=function(X){var $=this,Q=this._readableState,te=!1;for(var re in X.on("end",function(){if(f("wrapped end"),Q.decoder&&!Q.ended){var ue=Q.decoder.end();ue&&ue.length&&$.push(ue)}$.push(null)}),X.on("data",function(ue){f("wrapped data"),Q.decoder&&(ue=Q.decoder.write(ue)),Q.objectMode&&null==ue||(Q.objectMode||ue&&ue.length)&&($.push(ue)||(te=!0,X.pause()))}),X)void 0===this[re]&&"function"==typeof X[re]&&(this[re]=function(ue){return function(){return X[ue].apply(X,arguments)}}(re));for(var le=0;le<m.length;le++)X.on(m[le],this.emit.bind(this,m[le]));return this._read=function(ue){f("wrapped _read",ue),te&&(te=!1,X.resume())},this},"function"==typeof Symbol&&(k.prototype[Symbol.asyncIterator]=function(){return void 0===a&&(a=r(68221)),a(this)}),Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(k.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(k.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(X){this._readableState&&(this._readableState.flowing=X)}}),k._fromList=q,Object.defineProperty(k.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(k.from=function(X,$){return void 0===o&&(o=r(31748)),o(k,X,$)})},74308:function(ie,z,r){"use strict";ie.exports=i;var C=r(74322).q,E=C.ERR_METHOD_NOT_IMPLEMENTED,f=C.ERR_MULTIPLE_CALLBACK,S=C.ERR_TRANSFORM_ALREADY_TRANSFORMING,M=C.ERR_TRANSFORM_WITH_LENGTH_0,v=r(37865);function c(o,l){var s=this._transformState;s.transforming=!1;var d=s.writecb;if(null===d)return this.emit("error",new f);s.writechunk=null,s.writecb=null,null!=l&&this.push(l),d(o);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function i(o){if(!(this instanceof i))return new i(o);v.call(this,o),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,o&&("function"==typeof o.transform&&(this._transform=o.transform),"function"==typeof o.flush&&(this._flush=o.flush)),this.on("prefinish",u)}function u(){var o=this;"function"!=typeof this._flush||this._readableState.destroyed?a(this,null,null):this._flush(function(l,s){a(o,l,s)})}function a(o,l,s){if(l)return o.emit("error",l);if(null!=s&&o.push(s),o._writableState.length)throw new M;if(o._transformState.transforming)throw new S;return o.push(null)}r(42018)(i,v),i.prototype.push=function(o,l){return this._transformState.needTransform=!1,v.prototype.push.call(this,o,l)},i.prototype._transform=function(o,l,s){s(new E("_transform()"))},i.prototype._write=function(o,l,s){var d=this._transformState;if(d.writecb=s,d.writechunk=o,d.writeencoding=l,!d.transforming){var g=this._readableState;(d.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},i.prototype._read=function(o){var l=this._transformState;null===l.writechunk||l.transforming?l.needTransform=!0:(l.transforming=!0,this._transform(l.writechunk,l.writeencoding,l.afterTransform))},i.prototype._destroy=function(o,l){v.prototype._destroy.call(this,o,function(s){l(s)})}},37493:function(ie,z,r){"use strict";var C,E=r(90386);function f(N){var B=this;this.next=null,this.entry=null,this.finish=function(){!function(W,j,Z){var V=W.entry;for(W.entry=null;V;){var q=V.callback;j.pendingcb--,q(void 0),V=V.next}j.corkedRequestsFree.next=W}(B,N)}}ie.exports=k,k.WritableState=b;var S,M={deprecate:r(20588)},v=r(71405),c=r(12856).Buffer,i=r.g.Uint8Array||function(){},u=r(65756),a=r(56306).getHighWaterMark,o=r(74322).q,l=o.ERR_INVALID_ARG_TYPE,s=o.ERR_METHOD_NOT_IMPLEMENTED,d=o.ERR_MULTIPLE_CALLBACK,g=o.ERR_STREAM_CANNOT_PIPE,p=o.ERR_STREAM_DESTROYED,T=o.ERR_STREAM_NULL_VALUES,_=o.ERR_STREAM_WRITE_AFTER_END,y=o.ERR_UNKNOWN_ENCODING,w=u.errorOrDestroy;function m(){}function b(N,B,W){C=C||r(37865),"boolean"!=typeof W&&(W=B instanceof C),this.objectMode=!!(N=N||{}).objectMode,W&&(this.objectMode=this.objectMode||!!N.writableObjectMode),this.highWaterMark=a(this,N,"writableHighWaterMark",W),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===N.decodeStrings),this.defaultEncoding=N.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Z){!function(V,q){var $,G=V._writableState,H=G.sync,ne=G.writecb;if("function"!=typeof ne)throw new d;if(($=G).writing=!1,$.writecb=null,$.length-=$.writelen,$.writelen=0,q)!function($,Q,te,re,le){--Q.pendingcb,te?(E.nextTick(le,re),E.nextTick(L,$,Q),$._writableState.errorEmitted=!0,w($,re)):(le(re),$._writableState.errorEmitted=!0,w($,re),L($,Q))}(V,G,H,q,ne);else{var X=I(G)||V.destroyed;X||G.corked||G.bufferProcessing||!G.bufferedRequest||A(V,G),H?E.nextTick(O,V,G,X,ne):O(V,G,X,ne)}}(B,Z)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==N.emitClose,this.autoDestroy=!!N.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new f(this)}function k(N){var B=this instanceof(C=C||r(37865));if(!B&&!S.call(k,this))return new k(N);this._writableState=new b(N,this,B),this.writable=!0,N&&("function"==typeof N.write&&(this._write=N.write),"function"==typeof N.writev&&(this._writev=N.writev),"function"==typeof N.destroy&&(this._destroy=N.destroy),"function"==typeof N.final&&(this._final=N.final)),v.call(this)}function h(N,B,W,j,Z,V,q){B.writelen=j,B.writecb=q,B.writing=!0,B.sync=!0,B.destroyed?B.onwrite(new p("write")):W?N._writev(Z,B.onwrite):N._write(Z,V,B.onwrite),B.sync=!1}function O(N,B,W,j){var Z,V;W||(Z=N,0===(V=B).length&&V.needDrain&&(V.needDrain=!1,Z.emit("drain"))),B.pendingcb--,j(),L(N,B)}function A(N,B){B.bufferProcessing=!0;var W=B.bufferedRequest;if(N._writev&&W&&W.next){var Z=new Array(B.bufferedRequestCount),V=B.corkedRequestsFree;V.entry=W;for(var q=0,G=!0;W;)Z[q]=W,W.isBuf||(G=!1),W=W.next,q+=1;Z.allBuffers=G,h(N,B,!0,B.length,Z,"",V.finish),B.pendingcb++,B.lastBufferedRequest=null,V.next?(B.corkedRequestsFree=V.next,V.next=null):B.corkedRequestsFree=new f(B),B.bufferedRequestCount=0}else{for(;W;){var H=W.chunk;if(h(N,B,!1,B.objectMode?1:H.length,H,W.encoding,W.callback),W=W.next,B.bufferedRequestCount--,B.writing)break}null===W&&(B.lastBufferedRequest=null)}B.bufferedRequest=W,B.bufferProcessing=!1}function I(N){return N.ending&&0===N.length&&null===N.bufferedRequest&&!N.finished&&!N.writing}function P(N,B){N._final(function(W){B.pendingcb--,W&&w(N,W),B.prefinished=!0,N.emit("prefinish"),L(N,B)})}function L(N,B){var Z,V,W=I(B);if(W&&(Z=N,(V=B).prefinished||V.finalCalled||("function"!=typeof Z._final||V.destroyed?(V.prefinished=!0,Z.emit("prefinish")):(V.pendingcb++,V.finalCalled=!0,E.nextTick(P,Z,V))),0===B.pendingcb&&(B.finished=!0,N.emit("finish"),B.autoDestroy))){var j=N._readableState;(!j||j.autoDestroy&&j.endEmitted)&&N.destroy()}return W}r(42018)(k,v),b.prototype.getBuffer=function(){for(var N=this.bufferedRequest,B=[];N;)B.push(N),N=N.next;return B},function(){try{Object.defineProperty(b.prototype,"buffer",{get:M.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(S=Function.prototype[Symbol.hasInstance],Object.defineProperty(k,Symbol.hasInstance,{value:function(N){return!!S.call(this,N)||this===k&&N&&N._writableState instanceof b}})):S=function(N){return N instanceof this},k.prototype.pipe=function(){w(this,new g)},k.prototype.write=function(N,B,W){var j,G,H,ne,Z=this._writableState,V=!1,q=!Z.objectMode&&(c.isBuffer(j=N)||j instanceof i);return q&&!c.isBuffer(N)&&(N=c.from(N)),"function"==typeof B&&(W=B,B=null),q?B="buffer":B||(B=Z.defaultEncoding),"function"!=typeof W&&(W=m),Z.ending?(G=this,H=W,ne=new _,w(G,ne),E.nextTick(H,ne)):(q||function(G,H,ne,X){var $;return null===ne?$=new T:"string"==typeof ne||H.objectMode||($=new l("chunk",["string","Buffer"],ne)),!$||(w(G,$),E.nextTick(X,$),!1)}(this,Z,N,W))&&(Z.pendingcb++,V=function(G,H,ne,X,$,Q){if(!ne){var te=(ge=X,(he=H).objectMode||!1===he.decodeStrings||"string"!=typeof ge||(ge=c.from(ge,$)),ge);X!==te&&(ne=!0,$="buffer",X=te)}var he,ge,re=H.objectMode?1:X.length;H.length+=re;var le=H.length<H.highWaterMark;if(le||(H.needDrain=!0),H.writing||H.corked){var ue=H.lastBufferedRequest;H.lastBufferedRequest={chunk:X,encoding:$,isBuf:ne,callback:Q,next:null},ue?ue.next=H.lastBufferedRequest:H.bufferedRequest=H.lastBufferedRequest,H.bufferedRequestCount+=1}else h(G,H,!1,re,X,$,Q);return le}(this,Z,q,N,B,W)),V},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){var N=this._writableState;N.corked&&(N.corked--,N.writing||N.corked||N.bufferProcessing||!N.bufferedRequest||A(this,N))},k.prototype.setDefaultEncoding=function(N){if("string"==typeof N&&(N=N.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((N+"").toLowerCase())>-1))throw new y(N);return this._writableState.defaultEncoding=N,this},Object.defineProperty(k.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),k.prototype._write=function(N,B,W){W(new s("_write()"))},k.prototype._writev=null,k.prototype.end=function(N,B,W){var Z,V,q,j=this._writableState;return"function"==typeof N?(W=N,N=null,B=null):"function"==typeof B&&(W=B,B=null),null!=N&&this.write(N,B),j.corked&&(j.corked=1,this.uncork()),j.ending||(Z=this,q=W,(V=j).ending=!0,L(Z,V),q&&(V.finished?E.nextTick(q):Z.once("finish",q)),V.ended=!0,Z.writable=!1),this},Object.defineProperty(k.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(N){this._writableState&&(this._writableState.destroyed=N)}}),k.prototype.destroy=u.destroy,k.prototype._undestroy=u.undestroy,k.prototype._destroy=function(N,B){B(N)}},68221:function(ie,z,r){"use strict";var C,E=r(90386);function f(T,_,y){return _ in T?Object.defineProperty(T,_,{value:y,enumerable:!0,configurable:!0,writable:!0}):T[_]=y,T}var S=r(12726),M=Symbol("lastResolve"),v=Symbol("lastReject"),c=Symbol("error"),i=Symbol("ended"),u=Symbol("lastPromise"),a=Symbol("handlePromise"),o=Symbol("stream");function l(T,_){return{value:T,done:_}}function s(T){var _=T[M];if(null!==_){var y=T[o].read();null!==y&&(T[u]=null,T[M]=null,T[v]=null,_(l(y,!1)))}}function d(T){E.nextTick(s,T)}var g=Object.getPrototypeOf(function(){}),p=Object.setPrototypeOf((f(C={get stream(){return this[o]},next:function(){var T=this,_=this[c];if(null!==_)return Promise.reject(_);if(this[i])return Promise.resolve(l(void 0,!0));if(this[o].destroyed)return new Promise(function(b,k){E.nextTick(function(){T[c]?k(T[c]):b(l(void 0,!0))})});var y,b,k,w=this[u];if(w)y=new Promise((b=w,k=this,function(h,O){b.then(function(){k[i]?h(l(void 0,!0)):k[a](h,O)},O)}));else{var m=this[o].read();if(null!==m)return Promise.resolve(l(m,!1));y=new Promise(this[a])}return this[u]=y,y}},Symbol.asyncIterator,function(){return this}),f(C,"return",function(){var T=this;return new Promise(function(_,y){T[o].destroy(null,function(w){w?y(w):_(l(void 0,!0))})})}),C),g);ie.exports=function(T){var _,y=Object.create(p,(f(_={},o,{value:T,writable:!0}),f(_,M,{value:null,writable:!0}),f(_,v,{value:null,writable:!0}),f(_,c,{value:null,writable:!0}),f(_,i,{value:T._readableState.endEmitted,writable:!0}),f(_,a,{value:function(w,m){var b=y[o].read();b?(y[u]=null,y[M]=null,y[v]=null,w(l(b,!1))):(y[M]=w,y[v]=m)},writable:!0}),_));return y[u]=null,S(T,function(w){if(w&&"ERR_STREAM_PREMATURE_CLOSE"!==w.code){var m=y[v];return null!==m&&(y[u]=null,y[M]=null,y[v]=null,m(w)),void(y[c]=w)}var b=y[M];null!==b&&(y[u]=null,y[M]=null,y[v]=null,b(l(void 0,!0))),y[i]=!0}),T.on("readable",d.bind(null,y)),y}},31125:function(ie,z,r){"use strict";function C(c,i){var u=Object.keys(c);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(c);i&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(c,o).enumerable})),u.push.apply(u,a)}return u}function E(c,i,u){return i in c?Object.defineProperty(c,i,{value:u,enumerable:!0,configurable:!0,writable:!0}):c[i]=u,c}var S=r(12856).Buffer,M=r(69862).inspect,v=M&&M.custom||"inspect";ie.exports=function(){function c(){(function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")})(this,c),this.head=null,this.tail=null,this.length=0}var u;return u=[{key:"push",value:function(a){var o={data:a,next:null};this.length>0?this.tail.next=o:this.head=o,this.tail=o,++this.length}},{key:"unshift",value:function(a){var o={data:a,next:this.head};0===this.length&&(this.tail=o),this.head=o,++this.length}},{key:"shift",value:function(){if(0!==this.length){var a=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,a}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(a){if(0===this.length)return"";for(var o=this.head,l=""+o.data;o=o.next;)l+=a+o.data;return l}},{key:"concat",value:function(a){if(0===this.length)return S.alloc(0);for(var d=S.allocUnsafe(a>>>0),g=this.head,p=0;g;)S.prototype.copy.call(g.data,d,p),p+=g.data.length,g=g.next;return d}},{key:"consume",value:function(a,o){var l;return a<this.head.data.length?(l=this.head.data.slice(0,a),this.head.data=this.head.data.slice(a)):l=a===this.head.data.length?this.shift():o?this._getString(a):this._getBuffer(a),l}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(a){var o=this.head,l=1,s=o.data;for(a-=s.length;o=o.next;){var d=o.data,g=a>d.length?d.length:a;if(s+=g===d.length?d:d.slice(0,a),0==(a-=g)){g===d.length?(++l,this.head=o.next?o.next:this.tail=null):(this.head=o,o.data=d.slice(g));break}++l}return this.length-=l,s}},{key:"_getBuffer",value:function(a){var o=S.allocUnsafe(a),l=this.head,s=1;for(l.data.copy(o),a-=l.data.length;l=l.next;){var d=l.data,g=a>d.length?d.length:a;if(d.copy(o,o.length-a,0,g),0==(a-=g)){g===d.length?(++s,this.head=l.next?l.next:this.tail=null):(this.head=l,l.data=d.slice(g));break}++s}return this.length-=s,o}},{key:v,value:function(a,o){return M(this,function(l){for(var s=1;s<arguments.length;s++){var d=null!=arguments[s]?arguments[s]:{};s%2?C(Object(d),!0).forEach(function(g){E(l,g,d[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(d)):C(Object(d)).forEach(function(g){Object.defineProperty(l,g,Object.getOwnPropertyDescriptor(d,g))})}return l}({},o,{depth:0,customInspect:!1}))}}],u&&function f(c,i){for(var u=0;u<i.length;u++){var a=i[u];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(c,a.key,a)}}(c.prototype,u),c}()},65756:function(ie,z,r){"use strict";var C=r(90386);function E(M,v){S(M,v),f(M)}function f(M){M._writableState&&!M._writableState.emitClose||M._readableState&&!M._readableState.emitClose||M.emit("close")}function S(M,v){M.emit("error",v)}ie.exports={destroy:function(M,v){var c=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(v?v(M):M&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,C.nextTick(S,this,M)):C.nextTick(S,this,M)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(M||null,function(a){!v&&a?c._writableState?c._writableState.errorEmitted?C.nextTick(f,c):(c._writableState.errorEmitted=!0,C.nextTick(E,c,a)):C.nextTick(E,c,a):v?(C.nextTick(f,c),v(a)):C.nextTick(f,c)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(M,v){var c=M._readableState,i=M._writableState;c&&c.autoDestroy||i&&i.autoDestroy?M.destroy(v):M.emit("error",v)}}},12726:function(ie,z,r){"use strict";var C=r(74322).q.ERR_STREAM_PREMATURE_CLOSE;function E(){}ie.exports=function f(S,M,v){if("function"==typeof M)return f(S,null,M);var T,_;M||(M={}),T=v||E,_=!1,v=function(){if(!_){_=!0;for(var y=arguments.length,w=new Array(y),m=0;m<y;m++)w[m]=arguments[m];T.apply(this,w)}};var c=M.readable||!1!==M.readable&&S.readable,i=M.writable||!1!==M.writable&&S.writable,u=function(){S.writable||o()},a=S._writableState&&S._writableState.finished,o=function(){i=!1,a=!0,c||v.call(S)},l=S._readableState&&S._readableState.endEmitted,s=function(){c=!1,l=!0,i||v.call(S)},d=function(T){v.call(S,T)},g=function(){var T;return c&&!l?(S._readableState&&S._readableState.ended||(T=new C),v.call(S,T)):i&&!a?(S._writableState&&S._writableState.ended||(T=new C),v.call(S,T)):void 0},p=function(){S.req.on("finish",o)};return function(T){return T.setHeader&&"function"==typeof T.abort}(S)?(S.on("complete",o),S.on("abort",g),S.req?p():S.on("request",p)):i&&!S._writableState&&(S.on("end",u),S.on("close",u)),S.on("end",s),S.on("finish",o),!1!==M.error&&S.on("error",d),S.on("close",g),function(){S.removeListener("complete",o),S.removeListener("abort",g),S.removeListener("request",p),S.req&&S.req.removeListener("finish",o),S.removeListener("end",u),S.removeListener("close",u),S.removeListener("finish",o),S.removeListener("end",s),S.removeListener("error",d),S.removeListener("close",g)}}},31748:function(ie){ie.exports=function(){throw new Error("Readable.from is not available in the browser")}},10168:function(ie,z,r){"use strict";var C,E=r(74322).q,f=E.ERR_MISSING_ARGS,S=E.ERR_STREAM_DESTROYED;function M(a){if(a)throw a}function v(a,o,l,s){var p,T;p=s,T=!1,s=function(){T||(T=!0,p.apply(void 0,arguments))};var d=!1;a.on("close",function(){d=!0}),void 0===C&&(C=r(12726)),C(a,{readable:o,writable:l},function(p){if(p)return s(p);d=!0,s()});var g=!1;return function(p){if(!d&&!g)return g=!0,function(T){return T.setHeader&&"function"==typeof T.abort}(a)?a.abort():"function"==typeof a.destroy?a.destroy():void s(p||new S("pipe"))}}function c(a){a()}function i(a,o){return a.pipe(o)}function u(a){return a.length?"function"!=typeof a[a.length-1]?M:a.pop():M}ie.exports=function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];var s,d=u(o);if(Array.isArray(o[0])&&(o=o[0]),o.length<2)throw new f("streams");var g=o.map(function(p,T){var _=T<o.length-1;return v(p,_,T>0,function(y){s||(s=y),y&&g.forEach(c),_||(g.forEach(c),d(s))})});return o.reduce(i)}},56306:function(ie,z,r){"use strict";var C=r(74322).q.ERR_INVALID_OPT_VALUE;ie.exports={getHighWaterMark:function(E,f,S,M){var c,v=null!=(c=f).highWaterMark?c.highWaterMark:M?c[S]:null;if(null!=v){if(!isFinite(v)||Math.floor(v)!==v||v<0)throw new C(M?S:"highWaterMark",v);return Math.floor(v)}return E.objectMode?16:16384}}},71405:function(ie,z,r){ie.exports=r(15398).EventEmitter},68019:function(ie,z,r){"use strict";var C=r(71665).Buffer,E=C.isEncoding||function(l){switch((l=""+l)&&l.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function f(l){var s;switch(this.encoding=function(d){var g=function(p){if(!p)return"utf8";for(var T;;)switch(p){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return p;default:if(T)return;p=(""+p).toLowerCase(),T=!0}}(d);if("string"!=typeof g&&(C.isEncoding===E||!E(d)))throw new Error("Unknown encoding: "+d);return g||d}(l),this.encoding){case"utf16le":this.text=v,this.end=c,s=4;break;case"utf8":this.fillLast=M,s=4;break;case"base64":this.text=i,this.end=u,s=3;break;default:return this.write=a,void(this.end=o)}this.lastNeed=0,this.lastTotal=0,this.lastChar=C.allocUnsafe(s)}function S(l){return l<=127?0:l>>5==6?2:l>>4==14?3:l>>3==30?4:l>>6==2?-1:-2}function M(l){var s=this.lastTotal-this.lastNeed,d=function(g,p,T){if(128!=(192&p[0]))return g.lastNeed=0,"\ufffd";if(g.lastNeed>1&&p.length>1){if(128!=(192&p[1]))return g.lastNeed=1,"\ufffd";if(g.lastNeed>2&&p.length>2&&128!=(192&p[2]))return g.lastNeed=2,"\ufffd"}}(this,l);return void 0!==d?d:this.lastNeed<=l.length?(l.copy(this.lastChar,s,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(l.copy(this.lastChar,s,0,l.length),void(this.lastNeed-=l.length))}function v(l,s){if((l.length-s)%2==0){var d=l.toString("utf16le",s);if(d){var g=d.charCodeAt(d.length-1);if(g>=55296&&g<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=l[l.length-2],this.lastChar[1]=l[l.length-1],d.slice(0,-1)}return d}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=l[l.length-1],l.toString("utf16le",s,l.length-1)}function c(l){var s=l&&l.length?this.write(l):"";return this.lastNeed?s+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):s}function i(l,s){var d=(l.length-s)%3;return 0===d?l.toString("base64",s):(this.lastNeed=3-d,this.lastTotal=3,1===d?this.lastChar[0]=l[l.length-1]:(this.lastChar[0]=l[l.length-2],this.lastChar[1]=l[l.length-1]),l.toString("base64",s,l.length-d))}function u(l){var s=l&&l.length?this.write(l):"";return this.lastNeed?s+this.lastChar.toString("base64",0,3-this.lastNeed):s}function a(l){return l.toString(this.encoding)}function o(l){return l&&l.length?this.write(l):""}z.s=f,f.prototype.write=function(l){if(0===l.length)return"";var s,d;if(this.lastNeed){if(void 0===(s=this.fillLast(l)))return"";d=this.lastNeed,this.lastNeed=0}else d=0;return d<l.length?s?s+this.text(l,d):this.text(l,d):s||""},f.prototype.end=function(l){var s=l&&l.length?this.write(l):"";return this.lastNeed?s+"\ufffd":s},f.prototype.text=function(l,s){var d=function(p,T,_){var y=T.length-1;if(y<_)return 0;var w=S(T[y]);return w>=0?(w>0&&(p.lastNeed=w-1),w):--y<_||-2===w?0:(w=S(T[y]))>=0?(w>0&&(p.lastNeed=w-2),w):--y<_||-2===w?0:(w=S(T[y]))>=0?(w>0&&(2===w?w=0:p.lastNeed=w-3),w):0}(this,l,s);if(!this.lastNeed)return l.toString("utf8",s);this.lastTotal=d;var g=l.length-(d-this.lastNeed);return l.copy(this.lastChar,0,g),l.toString("utf8",s,g)},f.prototype.fillLast=function(l){if(this.lastNeed<=l.length)return l.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);l.copy(this.lastChar,this.lastTotal-this.lastNeed,0,l.length),this.lastNeed-=l.length}},90715:function(ie,z,r){var C=r(32791),E=r(41633)("stream-parser");function f(l){E("initializing parser stream"),l._parserBytesLeft=0,l._parserBuffers=[],l._parserBuffered=0,l._parserState=-1,l._parserCallback=null,"function"==typeof l.push&&(l._parserOutput=l.push.bind(l)),l._parserInit=!0}function S(l,s){C(!this._parserCallback,'there is already a "callback" set!'),C(isFinite(l)&&l>0,'can only buffer a finite number of bytes > 0, got "'+l+'"'),this._parserInit||f(this),E("buffering %o bytes",l),this._parserBytesLeft=l,this._parserCallback=s,this._parserState=0}function M(l,s){C(!this._parserCallback,'there is already a "callback" set!'),C(l>0,'can only skip > 0 bytes, got "'+l+'"'),this._parserInit||f(this),E("skipping %o bytes",l),this._parserBytesLeft=l,this._parserCallback=s,this._parserState=1}function v(l,s){C(!this._parserCallback,'There is already a "callback" set!'),C(l>0,'can only pass through > 0 bytes, got "'+l+'"'),this._parserInit||f(this),E("passing through %o bytes",l),this._parserBytesLeft=l,this._parserCallback=s,this._parserState=2}function c(l,s,d){this._parserInit||f(this),E("write(%o bytes)",l.length),"function"==typeof s&&(d=s),a(this,l,null,d)}function i(l,s,d){this._parserInit||f(this),E("transform(%o bytes)",l.length),"function"!=typeof s&&(s=this._parserOutput),a(this,l,s,d)}function u(l,s,d,g){if(l._parserBytesLeft-=s.length,E("%o bytes left for stream piece",l._parserBytesLeft),0===l._parserState?(l._parserBuffers.push(s),l._parserBuffered+=s.length):2===l._parserState&&d(s),0!==l._parserBytesLeft)return g;var p=l._parserCallback;if(p&&0===l._parserState&&l._parserBuffers.length>1&&(s=Buffer.concat(l._parserBuffers,l._parserBuffered)),0!==l._parserState&&(s=null),l._parserCallback=null,l._parserBuffered=0,l._parserState=-1,l._parserBuffers.splice(0),p){var T=[];s&&T.push(s),d&&T.push(d);var _=p.length>T.length;_&&T.push(o(g));var y=p.apply(l,T);if(!_||g===y)return g}}ie.exports=function(l){var s=l&&"function"==typeof l._transform;if(!(s||l&&"function"==typeof l._write))throw new Error("must pass a Writable or Transform stream in");E("extending Parser into stream"),l._bytes=S,l._skipBytes=M,s&&(l._passthrough=v),s?l._transform=i:l._write=c};var a=o(function l(s,d,g,p){return s._parserBytesLeft<=0?p(new Error("got data but not currently parsing anything")):d.length<=s._parserBytesLeft?function(){return u(s,d,g,p)}:function(){var T=d.slice(0,s._parserBytesLeft);return u(s,T,g,function(_){return _?p(_):d.length>T.length?function(){return l(s,d.slice(T.length),g,p)}:void 0})}});function o(l){return function(){for(var s=l.apply(this,arguments);"function"==typeof s;)s=s();return s}}},41633:function(ie,z,r){var C=r(90386);function E(){var f;try{f=z.storage.debug}catch{}return!f&&void 0!==C&&"env"in C&&(f=C.env.DEBUG),f}(z=ie.exports=r(74469)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},z.formatArgs=function(f){var S=this.useColors;if(f[0]=(S?"%c":"")+this.namespace+(S?" %c":" ")+f[0]+(S?"%c ":" ")+"+"+z.humanize(this.diff),S){var M="color: "+this.color;f.splice(1,0,M,"color: inherit");var v=0,c=0;f[0].replace(/%[a-zA-Z%]/g,function(i){"%%"!==i&&(v++,"%c"===i&&(c=v))}),f.splice(c,0,M)}},z.save=function(f){try{null==f?z.storage.removeItem("debug"):z.storage.debug=f}catch{}},z.load=E,z.useColors=function(){return!(typeof window>"u"||!window.process||"renderer"!==window.process.type)||typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},z.storage=typeof chrome<"u"&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch{}}(),z.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],z.formatters.j=function(f){try{return JSON.stringify(f)}catch(S){return"[UnexpectedJSONParseError]: "+S.message}},z.enable(E())},74469:function(ie,z,r){var C;function E(f){function S(){if(S.enabled){var M=S,v=+new Date;M.diff=v-(C||v),M.prev=C,M.curr=v,C=v;for(var i=new Array(arguments.length),u=0;u<i.length;u++)i[u]=arguments[u];i[0]=z.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var a=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(l,s){if("%%"===l)return l;a++;var d=z.formatters[s];return"function"==typeof d&&(l=d.call(M,i[a]),i.splice(a,1),a--),l}),z.formatArgs.call(M,i),(S.log||z.log||console.log.bind(console)).apply(M,i)}}return S.namespace=f,S.enabled=z.enabled(f),S.useColors=z.useColors(),S.color=function(M){var v,c=0;for(v in M)c=(c<<5)-c+M.charCodeAt(v),c|=0;return z.colors[Math.abs(c)%z.colors.length]}(f),"function"==typeof z.init&&z.init(S),S}(z=ie.exports=E.debug=E.default=E).coerce=function(f){return f instanceof Error?f.stack||f.message:f},z.disable=function(){z.enable("")},z.enable=function(f){z.save(f),z.names=[],z.skips=[];for(var S=("string"==typeof f?f:"").split(/[\s,]+/),M=S.length,v=0;v<M;v++)S[v]&&("-"===(f=S[v].replace(/\*/g,".*?"))[0]?z.skips.push(new RegExp("^"+f.substr(1)+"$")):z.names.push(new RegExp("^"+f+"$")))},z.enabled=function(f){var S,M;for(S=0,M=z.skips.length;S<M;S++)if(z.skips[S].test(f))return!1;for(S=0,M=z.names.length;S<M;S++)if(z.names[S].test(f))return!0;return!1},z.humanize=r(11375),z.names=[],z.skips=[],z.formatters={}},11375:function(ie){var z=1e3,r=60*z,C=60*r,E=24*C;function f(S,M,v){if(!(S<M))return S<1.5*M?Math.floor(S/M)+" "+v:Math.ceil(S/M)+" "+v+"s"}ie.exports=function(S,M){M=M||{};var v,i,c=typeof S;if("string"===c&&S.length>0)return function(i){if(!((i=String(i)).length>100)){var u=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(i);if(u){var a=parseFloat(u[1]);switch((u[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"days":case"day":case"d":return a*E;case"hours":case"hour":case"hrs":case"hr":case"h":return a*C;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*z;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(S);if("number"===c&&!1===isNaN(S))return M.long?f(v=S,E,"day")||f(v,C,"hour")||f(v,r,"minute")||f(v,z,"second")||v+" ms":(i=S)>=E?Math.round(i/E)+"d":i>=C?Math.round(i/C)+"h":i>=r?Math.round(i/r)+"m":i>=z?Math.round(i/z)+"s":i+"ms";throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(S))}},99011:function(ie,z,r){"use strict";var C=r(88641);ie.exports=function(E,f,S){if(null==E)throw Error("First argument should be a string");if(null==f)throw Error("Separator should be a string or a RegExp");S?("string"==typeof S||Array.isArray(S))&&(S={ignore:S}):S={},null==S.escape&&(S.escape=!0),null==S.ignore?S.ignore=["[]","()","{}","<>",'""',"''","``","\u201c\u201d","\xab\xbb"]:("string"==typeof S.ignore&&(S.ignore=[S.ignore]),S.ignore=S.ignore.map(function(o){return 1===o.length&&(o+=o),o}));var M=C.parse(E,{flat:!0,brackets:S.ignore}),v=M[0].split(f);if(S.escape){for(var c=[],i=0;i<v.length;i++){var u=v[i];"\\"===u[u.length-1]&&"\\"!==u[u.length-2]?(c.push(u+f+v[i+1]),i++):c.push(u)}v=c}for(i=0;i<v.length;i++)M[0]=v[i],v[i]=C.stringify(M,{flat:!0});return v}},68664:function(ie){"use strict";ie.exports=function(z){for(var r=z.length,C=new Array(r),E=new Array(r),f=new Array(r),S=new Array(r),M=new Array(r),v=new Array(r),c=0;c<r;++c)C[c]=-1,E[c]=0,f[c]=!1,S[c]=0,M[c]=-1,v[c]=[];var i,u=0,a=[],o=[];function l(g){var p=[g],T=[g];for(C[g]=E[g]=u,f[g]=!0,u+=1;T.length>0;){var _=z[g=T[T.length-1]];if(S[g]<_.length){for(var y=S[g];y<_.length;++y){var w=_[y];if(C[w]<0){C[w]=E[w]=u,f[w]=!0,u+=1,p.push(w),T.push(w);break}f[w]&&(E[g]=0|Math.min(E[g],E[w])),M[w]>=0&&v[g].push(M[w])}S[g]=y}else{if(E[g]===C[g]){var m=[],b=[],k=0;for(y=p.length-1;y>=0;--y){var h=p[y];if(f[h]=!1,m.push(h),b.push(v[h]),k+=v[h].length,M[h]=a.length,h===g){p.length=y;break}}a.push(m);var O=new Array(k);for(y=0;y<b.length;y++)for(var A=0;A<b[y].length;A++)O[--k]=b[y][A];o.push(O)}T.pop()}}}for(c=0;c<r;++c)C[c]<0&&l(c);for(c=0;c<o.length;c++){var s=o[c];if(0!==s.length){s.sort(function(g,p){return g-p}),i=[s[0]];for(var d=1;d<s.length;d++)s[d]!==s[d-1]&&i.push(s[d]);o[c]=i}}return{components:a,adjacencyList:o}}},7095:function(ie,z,r){"use strict";r.r(z);var C=2*Math.PI,E=function(M,v,c,i,u,a,o){var l=M.x,s=M.y;return{x:i*(l*=v)-u*(s*=c)+a,y:u*l+i*s+o}},f=function(M,v){var c=1.5707963267948966===v?.551915024494:-1.5707963267948966===v?-.551915024494:1.3333333333333333*Math.tan(v/4),i=Math.cos(M),u=Math.sin(M),a=Math.cos(M+v),o=Math.sin(M+v);return[{x:i-u*c,y:u+i*c},{x:a+o*c,y:o-a*c},{x:a,y:o}]},S=function(M,v,c,i){var u=M*c+v*i;return u>1&&(u=1),u<-1&&(u=-1),(M*i-v*c<0?-1:1)*Math.acos(u)};z.default=function(M){var v=M.px,c=M.py,i=M.cx,u=M.cy,a=M.rx,o=M.ry,l=M.xAxisRotation,s=void 0===l?0:l,d=M.largeArcFlag,g=void 0===d?0:d,p=M.sweepFlag,T=void 0===p?0:p,_=[];if(0===a||0===o)return[];var y=Math.sin(s*C/360),w=Math.cos(s*C/360),m=w*(v-i)/2+y*(c-u)/2,b=-y*(v-i)/2+w*(c-u)/2;if(0===m&&0===b)return[];a=Math.abs(a),o=Math.abs(o);var k=Math.pow(m,2)/Math.pow(a,2)+Math.pow(b,2)/Math.pow(o,2);k>1&&(a*=Math.sqrt(k),o*=Math.sqrt(k));var O=function(j,Z){if(Array.isArray(j))return j;if(Symbol.iterator in Object(j))return function(V,q){var G=[],H=!0,ne=!1,X=void 0;try{for(var $,Q=V[Symbol.iterator]();!(H=($=Q.next()).done)&&(G.push($.value),4!==G.length);H=!0);}catch(te){ne=!0,X=te}finally{try{!H&&Q.return&&Q.return()}finally{if(ne)throw X}}return G}(j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(function(j,Z,V,q,G,H,ne,X,$,Q,te,re){var le=Math.pow(G,2),ue=Math.pow(H,2),he=Math.pow(te,2),ge=Math.pow(re,2),xe=le*ue-le*ge-ue*he;xe<0&&(xe=0),xe/=le*ge+ue*he;var ke=(xe=Math.sqrt(xe)*(ne===X?-1:1))*G/H*re,Ae=xe*-H/G*te,pe=Q*ke-$*Ae+(j+V)/2,ye=$*ke+Q*Ae+(Z+q)/2,Ne=(te-ke)/G,be=(re-Ae)/H,Ee=(-te-ke)/G,Oe=(-re-Ae)/H,De=S(1,0,Ne,be),oe=S(Ne,be,Ee,Oe);return 0===X&&oe>0&&(oe-=C),1===X&&oe<0&&(oe+=C),[pe,ye,De,oe]}(v,c,i,u,a,o,g,T,y,w,m,b)),A=O[0],I=O[1],P=O[2],L=O[3],N=Math.abs(L)/(C/4);Math.abs(1-N)<1e-7&&(N=1);var B=Math.max(Math.ceil(N),1);L/=B;for(var W=0;W<B;W++)_.push(f(P,L)),P+=L;return _.map(function(j){var Z=E(j[0],a,o,w,y,A,I),V=Z.x,q=Z.y,G=E(j[1],a,o,w,y,A,I),H=G.x,ne=G.y,X=E(j[2],a,o,w,y,A,I);return{x1:V,y1:q,x2:H,y2:ne,x:X.x,y:X.y}})}},1750:function(ie,z,r){"use strict";var C=r(95616),E=r(65185),f=r(29988),S=r(89546),M=r(32791);ie.exports=function(v){if(Array.isArray(v)&&1===v.length&&"string"==typeof v[0]&&(v=v[0]),"string"==typeof v&&(M(S(v),"String is not an SVG path."),v=C(v)),M(Array.isArray(v),"Argument should be a string or an array of path segments."),v=E(v),!(v=f(v)).length)return[0,0,0,0];for(var c=[1/0,1/0,-1/0,-1/0],i=0,u=v.length;i<u;i++)for(var a=v[i].slice(1),o=0;o<a.length;o+=2)a[o+0]<c[0]&&(c[0]=a[o+0]),a[o+1]<c[1]&&(c[1]=a[o+1]),a[o+0]>c[2]&&(c[2]=a[o+0]),a[o+1]>c[3]&&(c[3]=a[o+1]);return c}},29988:function(ie,z,r){"use strict";ie.exports=function(S){for(var M,v=[],c=0,i=0,u=0,a=0,o=null,l=null,s=0,d=0,g=0,p=S.length;g<p;g++){var T=S[g],_=T[0];switch(_){case"M":u=T[1],a=T[2];break;case"A":var y=C({px:s,py:d,cx:T[6],cy:T[7],rx:T[1],ry:T[2],xAxisRotation:T[3],largeArcFlag:T[4],sweepFlag:T[5]});if(!y.length)continue;for(var w,m=0;m<y.length;m++)T=["C",(w=y[m]).x1,w.y1,w.x2,w.y2,w.x,w.y],m<y.length-1&&v.push(T);break;case"S":var b=s,k=d;"C"!=M&&"S"!=M||(b+=b-c,k+=k-i),T=["C",b,k,T[1],T[2],T[3],T[4]];break;case"T":"Q"==M||"T"==M?(o=2*s-o,l=2*d-l):(o=s,l=d),T=f(s,d,o,l,T[1],T[2]);break;case"Q":o=T[1],l=T[2],T=f(s,d,T[1],T[2],T[3],T[4]);break;case"L":T=E(s,d,T[1],T[2]);break;case"H":T=E(s,d,T[1],d);break;case"V":T=E(s,d,s,T[1]);break;case"Z":T=E(s,d,u,a)}M=_,s=T[T.length-2],d=T[T.length-1],T.length>4?(c=T[T.length-4],i=T[T.length-3]):(c=s,i=d),v.push(T)}return v};var C=r(7095);function E(S,M,v,c){return["C",S,M,v,c,v,c]}function f(S,M,v,c,i,u){return["C",S/3+.6666666666666666*v,M/3+.6666666666666666*c,i/3+.6666666666666666*v,u/3+.6666666666666666*c,i,u]}},82019:function(ie,z,r){"use strict";var C,E=r(1750),f=r(95616),S=r(31457),M=r(89546),v=r(44781),c=document.createElement("canvas"),i=c.getContext("2d");ie.exports=function(u,a){if(!M(u))throw Error("Argument should be valid svg path string");var o,l;a||(a={}),a.shape?(o=a.shape[0],l=a.shape[1]):(o=c.width=a.w||a.width||200,l=c.height=a.h||a.height||200);var s=Math.min(o,l),d=a.stroke||0,g=a.viewbox||a.viewBox||E(u),p=[o/(g[2]-g[0]),l/(g[3]-g[1])],T=Math.min(p[0]||0,p[1]||0)/2;if(i.fillStyle="black",i.fillRect(0,0,o,l),i.fillStyle="white",d&&("number"!=typeof d&&(d=1),i.strokeStyle=d>0?"white":"black",i.lineWidth=Math.abs(d)),i.translate(.5*o,.5*l),i.scale(T,T),function(){if(null!=C)return C;var w=document.createElement("canvas").getContext("2d");if(w.canvas.width=w.canvas.height=1,!window.Path2D)return C=!1;var m=new Path2D("M0,0h1v1h-1v-1Z");w.fillStyle="black",w.fill(m);var b=w.getImageData(0,0,1,1);return C=b&&b.data&&255===b.data[3]}()){var _=new Path2D(u);i.fill(_),d&&i.stroke(_)}else{var y=f(u);S(i,y),i.fill(),d&&i.stroke()}return i.setTransform(1,0,0,1,0,0),v(i,{cutoff:null!=a.cutoff?a.cutoff:.5,radius:null!=a.radius?a.radius:.5*s})}},84267:function(ie,z,r){var C;!function(E){var f=/^\s+/,S=/\s+$/,M=0,v=E.round,c=E.min,i=E.max,u=E.random;function a(te,re){if(re=re||{},(te=te||"")instanceof a)return te;if(!(this instanceof a))return new a(te,re);var ue,ge,xe,ke,Ae,pe,ye,Ne,be,Ee,le=(ke={r:0,g:0,b:0},Ae=1,pe=null,ye=null,Ne=null,be=!1,Ee=!1,"string"==typeof(ue=te)&&(ue=function(Oe){Oe=Oe.replace(f,"").replace(S,"").toLowerCase();var De,oe=!1;if(P[Oe])Oe=P[Oe],oe=!0;else if("transparent"==Oe)return{r:0,g:0,b:0,a:0,format:"name"};return(De=$.rgb.exec(Oe))?{r:De[1],g:De[2],b:De[3]}:(De=$.rgba.exec(Oe))?{r:De[1],g:De[2],b:De[3],a:De[4]}:(De=$.hsl.exec(Oe))?{h:De[1],s:De[2],l:De[3]}:(De=$.hsla.exec(Oe))?{h:De[1],s:De[2],l:De[3],a:De[4]}:(De=$.hsv.exec(Oe))?{h:De[1],s:De[2],v:De[3]}:(De=$.hsva.exec(Oe))?{h:De[1],s:De[2],v:De[3],a:De[4]}:(De=$.hex8.exec(Oe))?{r:j(De[1]),g:j(De[2]),b:j(De[3]),a:G(De[4]),format:oe?"name":"hex8"}:(De=$.hex6.exec(Oe))?{r:j(De[1]),g:j(De[2]),b:j(De[3]),format:oe?"name":"hex"}:(De=$.hex4.exec(Oe))?{r:j(De[1]+""+De[1]),g:j(De[2]+""+De[2]),b:j(De[3]+""+De[3]),a:G(De[4]+""+De[4]),format:oe?"name":"hex8"}:!!(De=$.hex3.exec(Oe))&&{r:j(De[1]+""+De[1]),g:j(De[2]+""+De[2]),b:j(De[3]+""+De[3]),format:oe?"name":"hex"}}(ue)),"object"==typeof ue&&(Q(ue.r)&&Q(ue.g)&&Q(ue.b)?(ge=ue.g,xe=ue.b,ke={r:255*B(ue.r,255),g:255*B(ge,255),b:255*B(xe,255)},be=!0,Ee="%"===String(ue.r).substr(-1)?"prgb":"rgb"):Q(ue.h)&&Q(ue.s)&&Q(ue.v)?(pe=V(ue.s),ye=V(ue.v),ke=function(Oe,De,oe){Oe=6*B(Oe,360),De=B(De,100),oe=B(oe,100);var de=E.floor(Oe),_e=Oe-de,Me=oe*(1-De),Pe=oe*(1-_e*De),Ue=oe*(1-(1-_e)*De),Be=de%6;return{r:255*[oe,Pe,Me,Me,Ue,oe][Be],g:255*[Ue,oe,oe,Pe,Me,Me][Be],b:255*[Me,Me,Ue,oe,oe,Pe][Be]}}(ue.h,pe,ye),be=!0,Ee="hsv"):Q(ue.h)&&Q(ue.s)&&Q(ue.l)&&(pe=V(ue.s),Ne=V(ue.l),ke=function(Oe,De,oe){var de,_e,Me;function Pe(Ve,ve,Te){return Te<0&&(Te+=1),Te>1&&(Te-=1),Te<1/6?Ve+6*(ve-Ve)*Te:Te<.5?ve:Te<2/3?Ve+(ve-Ve)*(2/3-Te)*6:Ve}if(Oe=B(Oe,360),De=B(De,100),oe=B(oe,100),0===De)de=_e=Me=oe;else{var Ue=oe<.5?oe*(1+De):oe+De-oe*De,Be=2*oe-Ue;de=Pe(Be,Ue,Oe+1/3),_e=Pe(Be,Ue,Oe),Me=Pe(Be,Ue,Oe-1/3)}return{r:255*de,g:255*_e,b:255*Me}}(ue.h,pe,Ne),be=!0,Ee="hsl"),ue.hasOwnProperty("a")&&(Ae=ue.a)),Ae=N(Ae),{ok:be,format:ue.format||Ee,r:c(255,i(ke.r,0)),g:c(255,i(ke.g,0)),b:c(255,i(ke.b,0)),a:Ae});this._originalInput=te,this._r=le.r,this._g=le.g,this._b=le.b,this._a=le.a,this._roundA=v(100*this._a)/100,this._format=re.format||le.format,this._gradientType=re.gradientType,this._r<1&&(this._r=v(this._r)),this._g<1&&(this._g=v(this._g)),this._b<1&&(this._b=v(this._b)),this._ok=le.ok,this._tc_id=M++}function o(te,re,le){te=B(te,255),re=B(re,255),le=B(le,255);var ue,he,ge=i(te,re,le),xe=c(te,re,le),ke=(ge+xe)/2;if(ge==xe)ue=he=0;else{var Ae=ge-xe;switch(he=ke>.5?Ae/(2-ge-xe):Ae/(ge+xe),ge){case te:ue=(re-le)/Ae+(re<le?6:0);break;case re:ue=(le-te)/Ae+2;break;case le:ue=(te-re)/Ae+4}ue/=6}return{h:ue,s:he,l:ke}}function l(te,re,le){te=B(te,255),re=B(re,255),le=B(le,255);var ue,he,ge=i(te,re,le),xe=c(te,re,le),ke=ge,Ae=ge-xe;if(he=0===ge?0:Ae/ge,ge==xe)ue=0;else{switch(ge){case te:ue=(re-le)/Ae+(re<le?6:0);break;case re:ue=(le-te)/Ae+2;break;case le:ue=(te-re)/Ae+4}ue/=6}return{h:ue,s:he,v:ke}}function s(te,re,le,ue){var he=[Z(v(te).toString(16)),Z(v(re).toString(16)),Z(v(le).toString(16))];return ue&&he[0].charAt(0)==he[0].charAt(1)&&he[1].charAt(0)==he[1].charAt(1)&&he[2].charAt(0)==he[2].charAt(1)?he[0].charAt(0)+he[1].charAt(0)+he[2].charAt(0):he.join("")}function d(te,re,le,ue){return[Z(q(ue)),Z(v(te).toString(16)),Z(v(re).toString(16)),Z(v(le).toString(16))].join("")}function g(te,re){re=0===re?0:re||10;var le=a(te).toHsl();return le.s-=re/100,le.s=W(le.s),a(le)}function p(te,re){re=0===re?0:re||10;var le=a(te).toHsl();return le.s+=re/100,le.s=W(le.s),a(le)}function T(te){return a(te).desaturate(100)}function _(te,re){re=0===re?0:re||10;var le=a(te).toHsl();return le.l+=re/100,le.l=W(le.l),a(le)}function y(te,re){re=0===re?0:re||10;var le=a(te).toRgb();return le.r=i(0,c(255,le.r-v(-re/100*255))),le.g=i(0,c(255,le.g-v(-re/100*255))),le.b=i(0,c(255,le.b-v(-re/100*255))),a(le)}function w(te,re){re=0===re?0:re||10;var le=a(te).toHsl();return le.l-=re/100,le.l=W(le.l),a(le)}function m(te,re){var le=a(te).toHsl(),ue=(le.h+re)%360;return le.h=ue<0?360+ue:ue,a(le)}function b(te){var re=a(te).toHsl();return re.h=(re.h+180)%360,a(re)}function k(te){var re=a(te).toHsl(),le=re.h;return[a(te),a({h:(le+120)%360,s:re.s,l:re.l}),a({h:(le+240)%360,s:re.s,l:re.l})]}function h(te){var re=a(te).toHsl(),le=re.h;return[a(te),a({h:(le+90)%360,s:re.s,l:re.l}),a({h:(le+180)%360,s:re.s,l:re.l}),a({h:(le+270)%360,s:re.s,l:re.l})]}function O(te){var re=a(te).toHsl(),le=re.h;return[a(te),a({h:(le+72)%360,s:re.s,l:re.l}),a({h:(le+216)%360,s:re.s,l:re.l})]}function A(te,re,le){re=re||6,le=le||30;var ue=a(te).toHsl(),he=360/le,ge=[a(te)];for(ue.h=(ue.h-(he*re>>1)+720)%360;--re;)ue.h=(ue.h+he)%360,ge.push(a(ue));return ge}function I(te,re){re=re||6;for(var le=a(te).toHsv(),ue=le.h,he=le.s,ge=le.v,xe=[],ke=1/re;re--;)xe.push(a({h:ue,s:he,v:ge})),ge=(ge+ke)%1;return xe}a.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var te=this.toRgb();return(299*te.r+587*te.g+114*te.b)/1e3},getLuminance:function(){var te,re,le,ue=this.toRgb();return re=ue.g/255,le=ue.b/255,.2126*((te=ue.r/255)<=.03928?te/12.92:E.pow((te+.055)/1.055,2.4))+.7152*(re<=.03928?re/12.92:E.pow((re+.055)/1.055,2.4))+.0722*(le<=.03928?le/12.92:E.pow((le+.055)/1.055,2.4))},setAlpha:function(te){return this._a=N(te),this._roundA=v(100*this._a)/100,this},toHsv:function(){var te=l(this._r,this._g,this._b);return{h:360*te.h,s:te.s,v:te.v,a:this._a}},toHsvString:function(){var te=l(this._r,this._g,this._b),re=v(360*te.h),le=v(100*te.s),ue=v(100*te.v);return 1==this._a?"hsv("+re+", "+le+"%, "+ue+"%)":"hsva("+re+", "+le+"%, "+ue+"%, "+this._roundA+")"},toHsl:function(){var te=o(this._r,this._g,this._b);return{h:360*te.h,s:te.s,l:te.l,a:this._a}},toHslString:function(){var te=o(this._r,this._g,this._b),re=v(360*te.h),le=v(100*te.s),ue=v(100*te.l);return 1==this._a?"hsl("+re+", "+le+"%, "+ue+"%)":"hsla("+re+", "+le+"%, "+ue+"%, "+this._roundA+")"},toHex:function(te){return s(this._r,this._g,this._b,te)},toHexString:function(te){return"#"+this.toHex(te)},toHex8:function(te){return le=this._g,ue=this._b,he=this._a,ge=te,xe=[Z(v(this._r).toString(16)),Z(v(le).toString(16)),Z(v(ue).toString(16)),Z(q(he))],ge&&xe[0].charAt(0)==xe[0].charAt(1)&&xe[1].charAt(0)==xe[1].charAt(1)&&xe[2].charAt(0)==xe[2].charAt(1)&&xe[3].charAt(0)==xe[3].charAt(1)?xe[0].charAt(0)+xe[1].charAt(0)+xe[2].charAt(0)+xe[3].charAt(0):xe.join("");var le,ue,he,ge,xe},toHex8String:function(te){return"#"+this.toHex8(te)},toRgb:function(){return{r:v(this._r),g:v(this._g),b:v(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+v(this._r)+", "+v(this._g)+", "+v(this._b)+")":"rgba("+v(this._r)+", "+v(this._g)+", "+v(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:v(100*B(this._r,255))+"%",g:v(100*B(this._g,255))+"%",b:v(100*B(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+v(100*B(this._r,255))+"%, "+v(100*B(this._g,255))+"%, "+v(100*B(this._b,255))+"%)":"rgba("+v(100*B(this._r,255))+"%, "+v(100*B(this._g,255))+"%, "+v(100*B(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(L[s(this._r,this._g,this._b,!0)]||!1)},toFilter:function(te){var re="#"+d(this._r,this._g,this._b,this._a),le=re,ue=this._gradientType?"GradientType = 1, ":"";if(te){var he=a(te);le="#"+d(he._r,he._g,he._b,he._a)}return"progid:DXImageTransform.Microsoft.gradient("+ue+"startColorstr="+re+",endColorstr="+le+")"},toString:function(te){var re=!!te;te=te||this._format;var le=!1;return re||!(this._a<1&&this._a>=0)||"hex"!==te&&"hex6"!==te&&"hex3"!==te&&"hex4"!==te&&"hex8"!==te&&"name"!==te?("rgb"===te&&(le=this.toRgbString()),"prgb"===te&&(le=this.toPercentageRgbString()),"hex"!==te&&"hex6"!==te||(le=this.toHexString()),"hex3"===te&&(le=this.toHexString(!0)),"hex4"===te&&(le=this.toHex8String(!0)),"hex8"===te&&(le=this.toHex8String()),"name"===te&&(le=this.toName()),"hsl"===te&&(le=this.toHslString()),"hsv"===te&&(le=this.toHsvString()),le||this.toHexString()):"name"===te&&0===this._a?this.toName():this.toRgbString()},clone:function(){return a(this.toString())},_applyModification:function(te,re){var le=te.apply(null,[this].concat([].slice.call(re)));return this._r=le._r,this._g=le._g,this._b=le._b,this.setAlpha(le._a),this},lighten:function(){return this._applyModification(_,arguments)},brighten:function(){return this._applyModification(y,arguments)},darken:function(){return this._applyModification(w,arguments)},desaturate:function(){return this._applyModification(g,arguments)},saturate:function(){return this._applyModification(p,arguments)},greyscale:function(){return this._applyModification(T,arguments)},spin:function(){return this._applyModification(m,arguments)},_applyCombination:function(te,re){return te.apply(null,[this].concat([].slice.call(re)))},analogous:function(){return this._applyCombination(A,arguments)},complement:function(){return this._applyCombination(b,arguments)},monochromatic:function(){return this._applyCombination(I,arguments)},splitcomplement:function(){return this._applyCombination(O,arguments)},triad:function(){return this._applyCombination(k,arguments)},tetrad:function(){return this._applyCombination(h,arguments)}},a.fromRatio=function(te,re){if("object"==typeof te){var le={};for(var ue in te)te.hasOwnProperty(ue)&&(le[ue]="a"===ue?te[ue]:V(te[ue]));te=le}return a(te,re)},a.equals=function(te,re){return!(!te||!re)&&a(te).toRgbString()==a(re).toRgbString()},a.random=function(){return a.fromRatio({r:u(),g:u(),b:u()})},a.mix=function(te,re,le){le=0===le?0:le||50;var ue=a(te).toRgb(),he=a(re).toRgb(),ge=le/100;return a({r:(he.r-ue.r)*ge+ue.r,g:(he.g-ue.g)*ge+ue.g,b:(he.b-ue.b)*ge+ue.b,a:(he.a-ue.a)*ge+ue.a})},a.readability=function(te,re){var le=a(te),ue=a(re);return(E.max(le.getLuminance(),ue.getLuminance())+.05)/(E.min(le.getLuminance(),ue.getLuminance())+.05)},a.isReadable=function(te,re,le){var ue,he,ge,xe,ke,Ae=a.readability(te,re);switch(he=!1,(ge=le,"AA"!==(xe=((ge=ge||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==xe&&(xe="AA"),"small"!==(ke=(ge.size||"small").toLowerCase())&&"large"!==ke&&(ke="small"),ue={level:xe,size:ke}).level+ue.size){case"AAsmall":case"AAAlarge":he=Ae>=4.5;break;case"AAlarge":he=Ae>=3;break;case"AAAsmall":he=Ae>=7}return he},a.mostReadable=function(te,re,le){var ue,he,ge,xe,ke=null,Ae=0;he=(le=le||{}).includeFallbackColors,ge=le.level,xe=le.size;for(var pe=0;pe<re.length;pe++)(ue=a.readability(te,re[pe]))>Ae&&(Ae=ue,ke=a(re[pe]));return a.isReadable(te,ke,{level:ge,size:xe})||!he?ke:(le.includeFallbackColors=!1,a.mostReadable(te,["#fff","#000"],le))};var P=a.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},L=a.hexNames=function(te){var re={};for(var le in te)te.hasOwnProperty(le)&&(re[te[le]]=le);return re}(P);function N(te){return te=parseFloat(te),(isNaN(te)||te<0||te>1)&&(te=1),te}function B(te,re){var ue;"string"==typeof(ue=te)&&-1!=ue.indexOf(".")&&1===parseFloat(ue)&&(te="100%");var le=function(ue){return"string"==typeof ue&&-1!=ue.indexOf("%")}(te);return te=c(re,i(0,parseFloat(te))),le&&(te=parseInt(te*re,10)/100),E.abs(te-re)<1e-6?1:te%re/parseFloat(re)}function W(te){return c(1,i(0,te))}function j(te){return parseInt(te,16)}function Z(te){return 1==te.length?"0"+te:""+te}function V(te){return te<=1&&(te=100*te+"%"),te}function q(te){return E.round(255*parseFloat(te)).toString(16)}function G(te){return j(te)/255}var H,ne,X,$=(ne="[\\s|\\(]+("+(H="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+H+")[,|\\s]+("+H+")\\s*\\)?",X="[\\s|\\(]+("+H+")[,|\\s]+("+H+")[,|\\s]+("+H+")[,|\\s]+("+H+")\\s*\\)?",{CSS_UNIT:new RegExp(H),rgb:new RegExp("rgb"+ne),rgba:new RegExp("rgba"+X),hsl:new RegExp("hsl"+ne),hsla:new RegExp("hsla"+X),hsv:new RegExp("hsv"+ne),hsva:new RegExp("hsva"+X),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function Q(te){return!!$.CSS_UNIT.exec(te)}ie.exports?ie.exports=a:void 0===(C=function(){return a}.call(z,r,z,ie))||(ie.exports=C)}(Math)},57060:function(ie){"use strict";ie.exports=r,ie.exports.float32=ie.exports.float=r,ie.exports.fract32=ie.exports.fract=function(C,E){if(C.length){if(C instanceof Float32Array)return new Float32Array(C.length);E instanceof Float32Array||(E=r(C));for(var f=0,S=E.length;f<S;f++)E[f]=C[f]-E[f];return E}return r(C-r(C))};var z=new Float32Array(1);function r(C){return C.length?C instanceof Float32Array?C:new Float32Array(C):(z[0]=C,z[0])}},75686:function(ie,z,r){"use strict";var C=r(25677);function E(S,M){var v=C(getComputedStyle(S).getPropertyValue(M));return v[0]*f(v[1],S)}function f(S,M){switch(M=M||document.body,S=(S||"px").trim().toLowerCase(),M!==window&&M!==document||(M=document.body),S){case"%":return M.clientHeight/100;case"ch":case"ex":return function(v,c){var i=document.createElement("div");i.style["font-size"]="128"+v,c.appendChild(i);var u=E(i,"font-size")/128;return c.removeChild(i),u}(S,M);case"em":return E(M,"font-size");case"rem":return E(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return 96;case"cm":return 37.79527559055118;case"mm":return 3.7795275590551185;case"pt":return 1.3333333333333333;case"pc":return 16}return 1}ie.exports=f},96892:function(ie,z,r){"use strict";function C(S){return S}function E(S,M){return"string"==typeof M&&(M=S.objects[M]),"GeometryCollection"===M.type?{type:"FeatureCollection",features:M.geometries.map(function(v){return f(S,v)})}:f(S,M)}function f(S,M){var v=M.id,c=M.bbox,i=null==M.properties?{}:M.properties,u=function(a,o){var l=function(y){if(null==y)return C;var w,m,b=y.scale[0],k=y.scale[1],h=y.translate[0],O=y.translate[1];return function(A,I){I||(w=m=0);var P=2,L=A.length,N=new Array(L);for(N[0]=(w+=A[0])*b+h,N[1]=(m+=A[1])*k+O;P<L;)N[P]=A[P],++P;return N}}(a.transform),s=a.arcs;function d(y,w){w.length&&w.pop();for(var m=s[y<0?~y:y],b=0,k=m.length;b<k;++b)w.push(l(m[b],b));y<0&&function(h,O){for(var A,I=h.length,P=I-O;P<--I;)A=h[P],h[P++]=h[I],h[I]=A}(w,k)}function g(y){return l(y)}function p(y){for(var w=[],m=0,b=y.length;m<b;++m)d(y[m],w);return w.length<2&&w.push(w[0]),w}function T(y){for(var w=p(y);w.length<4;)w.push(w[0]);return w}function _(y){return y.map(T)}return function y(w){var m,b=w.type;switch(b){case"GeometryCollection":return{type:b,geometries:w.geometries.map(y)};case"Point":m=g(w.coordinates);break;case"MultiPoint":m=w.coordinates.map(g);break;case"LineString":m=p(w.arcs);break;case"MultiLineString":m=w.arcs.map(p);break;case"Polygon":m=_(w.arcs);break;case"MultiPolygon":m=w.arcs.map(_);break;default:return null}return{type:b,coordinates:m}}(o)}(S,M);return null==v&&null==c?{type:"Feature",properties:i,geometry:u}:null==c?{type:"Feature",id:v,properties:i,geometry:u}:{type:"Feature",id:v,bbox:c,properties:i,geometry:u}}r.d(z,{zL:function(){return E}})},73116:function(ie,z,r){"use strict";var C=r(24511);ie.exports=function(E){if("function"!=typeof E||!hasOwnProperty.call(E,"length"))return!1;try{if("number"!=typeof E.length||"function"!=typeof E.call||"function"!=typeof E.apply)return!1}catch{return!1}return!C(E)}},69190:function(ie,z,r){"use strict";var C=r(24582),E=r(47403),f=r(9234),S=r(6048),M=function(v,c){return v.replace("%v",S(c))};ie.exports=function(v,c,i){if(!E(i))throw new TypeError(M(c,v));if(!C(v)){if("default"in i)return i.default;if(i.isOptional)return null}var u=f(i.errorMessage);throw C(u)||(u=c),new TypeError(M(u,v))}},18497:function(ie){"use strict";ie.exports=function(z){try{return z.toString()}catch{try{return String(z)}catch{return null}}}},6048:function(ie,z,r){"use strict";var C=r(18497),E=/[\n\r\u2028\u2029]/g;ie.exports=function(f){var S=C(f);return null===S?"<Non-coercible to string value>":(S.length>100&&(S=S.slice(0,99)+"\u2026"),S=S.replace(E,function(M){switch(M){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}))}},47403:function(ie,z,r){"use strict";var C=r(24582),E={object:!0,function:!0,undefined:!0};ie.exports=function(f){return!!C(f)&&hasOwnProperty.call(E,typeof f)}},82527:function(ie,z,r){"use strict";var C=r(69190),E=r(84985);ie.exports=function(f){return E(f)?f:C(f,"%v is not a plain function",arguments[1])}},84985:function(ie,z,r){"use strict";var C=r(73116),E=/^\s*class[\s{/}]/,f=Function.prototype.toString;ie.exports=function(S){return!!C(S)&&!E.test(f.call(S))}},24511:function(ie,z,r){"use strict";var C=r(47403);ie.exports=function(E){if(!C(E))return!1;try{return!!E.constructor&&E.constructor.prototype===E}catch{return!1}}},9234:function(ie,z,r){"use strict";var C=r(24582),E=r(47403),f=Object.prototype.toString;ie.exports=function(S){if(!C(S))return null;if(E(S)){var M=S.toString;if("function"!=typeof M||M===f)return null}try{return""+S}catch{return null}}},10424:function(ie,z,r){"use strict";var C=r(69190),E=r(24582);ie.exports=function(f){return E(f)?f:C(f,"Cannot use %v",arguments[1])}},24582:function(ie){"use strict";ie.exports=function(z){return null!=z}},58404:function(ie,z,r){"use strict";var C=r(13547),E=r(12129),f=r(12856).Buffer;r.g.__TYPEDARRAY_POOL||(r.g.__TYPEDARRAY_POOL={UINT8:E([32,0]),UINT16:E([32,0]),UINT32:E([32,0]),BIGUINT64:E([32,0]),INT8:E([32,0]),INT16:E([32,0]),INT32:E([32,0]),BIGINT64:E([32,0]),FLOAT:E([32,0]),DOUBLE:E([32,0]),DATA:E([32,0]),UINT8C:E([32,0]),BUFFER:E([32,0])});var S=typeof Uint8ClampedArray<"u",M=typeof BigUint64Array<"u",v=typeof BigInt64Array<"u",c=r.g.__TYPEDARRAY_POOL;c.UINT8C||(c.UINT8C=E([32,0])),c.BIGUINT64||(c.BIGUINT64=E([32,0])),c.BIGINT64||(c.BIGINT64=E([32,0])),c.BUFFER||(c.BUFFER=E([32,0]));var i=c.DATA,u=c.BUFFER;function a(O){if(O){var I=C.log2(O.length||O.byteLength);i[I].push(O)}}function o(O){O=C.nextPow2(O);var A=C.log2(O),I=i[A];return I.length>0?I.pop():new ArrayBuffer(O)}function l(O){return new Uint8Array(o(O),0,O)}function s(O){return new Uint16Array(o(2*O),0,O)}function d(O){return new Uint32Array(o(4*O),0,O)}function g(O){return new Int8Array(o(O),0,O)}function p(O){return new Int16Array(o(2*O),0,O)}function T(O){return new Int32Array(o(4*O),0,O)}function _(O){return new Float32Array(o(4*O),0,O)}function y(O){return new Float64Array(o(8*O),0,O)}function w(O){return S?new Uint8ClampedArray(o(O),0,O):l(O)}function m(O){return M?new BigUint64Array(o(8*O),0,O):null}function b(O){return v?new BigInt64Array(o(8*O),0,O):null}function k(O){return new DataView(o(O),0,O)}function h(O){O=C.nextPow2(O);var A=C.log2(O),I=u[A];return I.length>0?I.pop():new f(O)}z.free=function(O){if(f.isBuffer(O))u[C.log2(O.length)].push(O);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(O)&&(O=O.buffer),!O)return;var I=0|C.log2(O.length||O.byteLength);i[I].push(O)}},z.freeUint8=z.freeUint16=z.freeUint32=z.freeBigUint64=z.freeInt8=z.freeInt16=z.freeInt32=z.freeBigInt64=z.freeFloat32=z.freeFloat=z.freeFloat64=z.freeDouble=z.freeUint8Clamped=z.freeDataView=function(O){a(O.buffer)},z.freeArrayBuffer=a,z.freeBuffer=function(O){u[C.log2(O.length)].push(O)},z.malloc=function(O,A){if(void 0===A||"arraybuffer"===A)return o(O);switch(A){case"uint8":return l(O);case"uint16":return s(O);case"uint32":return d(O);case"int8":return g(O);case"int16":return p(O);case"int32":return T(O);case"float":case"float32":return _(O);case"double":case"float64":return y(O);case"uint8_clamped":return w(O);case"bigint64":return b(O);case"biguint64":return m(O);case"buffer":return h(O);case"data":case"dataview":return k(O);default:return null}return null},z.mallocArrayBuffer=o,z.mallocUint8=l,z.mallocUint16=s,z.mallocUint32=d,z.mallocInt8=g,z.mallocInt16=p,z.mallocInt32=T,z.mallocFloat32=z.mallocFloat=_,z.mallocFloat64=z.mallocDouble=y,z.mallocUint8Clamped=w,z.mallocBigUint64=m,z.mallocBigInt64=b,z.mallocDataView=k,z.mallocBuffer=h,z.clearCache=function(){for(var O=0;O<32;++O)c.UINT8[O].length=0,c.UINT16[O].length=0,c.UINT32[O].length=0,c.INT8[O].length=0,c.INT16[O].length=0,c.INT32[O].length=0,c.FLOAT[O].length=0,c.DOUBLE[O].length=0,c.BIGUINT64[O].length=0,c.BIGINT64[O].length=0,c.UINT8C[O].length=0,i[O].length=0,u[O].length=0}},90448:function(ie){var z=/[\'\"]/;ie.exports=function(r){return r?(z.test(r.charAt(0))&&(r=r.substr(1)),z.test(r.charAt(r.length-1))&&(r=r.substr(0,r.length-1)),r):""}},93447:function(ie){"use strict";ie.exports=function(z,r,C){Array.isArray(C)||(C=[].slice.call(arguments,2));for(var E=0,f=C.length;E<f;E++){var S=C[E];for(var M in S)if((void 0===r[M]||Array.isArray(r[M])||z[M]!==r[M])&&M in r){var v;if(!0===S[M])v=r[M];else if(!1===S[M]||"function"==typeof S[M]&&void 0===(v=S[M](r[M],z,r)))continue;z[M]=v}}return z}},20588:function(ie,z,r){function C(E){try{if(!r.g.localStorage)return!1}catch{return!1}var f=r.g.localStorage[E];return null!=f&&"true"===String(f).toLowerCase()}ie.exports=function(E,f){if(C("noDeprecation"))return E;var S=!1;return function(){if(!S){if(C("throwDeprecation"))throw new Error(f);C("traceDeprecation")?console.trace(f):console.warn(f),S=!0}return E.apply(this,arguments)}}},45920:function(ie){ie.exports=function(z){return z&&"object"==typeof z&&"function"==typeof z.copy&&"function"==typeof z.fill&&"function"==typeof z.readUInt8}},4936:function(ie,z,r){"use strict";var C=r(47216),E=r(65481),f=r(21099),S=r(9187);function M(B){return B.call.bind(B)}var v=typeof BigInt<"u",c=typeof Symbol<"u",i=M(Object.prototype.toString),u=M(Number.prototype.valueOf),a=M(String.prototype.valueOf),o=M(Boolean.prototype.valueOf);if(v)var l=M(BigInt.prototype.valueOf);if(c)var s=M(Symbol.prototype.valueOf);function d(B,W){if("object"!=typeof B)return!1;try{return W(B),!0}catch{return!1}}function g(B){return"[object Map]"===i(B)}function p(B){return"[object Set]"===i(B)}function T(B){return"[object WeakMap]"===i(B)}function _(B){return"[object WeakSet]"===i(B)}function y(B){return"[object ArrayBuffer]"===i(B)}function w(B){return typeof ArrayBuffer<"u"&&(y.working?y(B):B instanceof ArrayBuffer)}function m(B){return"[object DataView]"===i(B)}function b(B){return typeof DataView<"u"&&(m.working?m(B):B instanceof DataView)}z.isArgumentsObject=C,z.isGeneratorFunction=E,z.isTypedArray=S,z.isPromise=function(B){return typeof Promise<"u"&&B instanceof Promise||null!==B&&"object"==typeof B&&"function"==typeof B.then&&"function"==typeof B.catch},z.isArrayBufferView=function(B){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(B):S(B)||b(B)},z.isUint8Array=function(B){return"Uint8Array"===f(B)},z.isUint8ClampedArray=function(B){return"Uint8ClampedArray"===f(B)},z.isUint16Array=function(B){return"Uint16Array"===f(B)},z.isUint32Array=function(B){return"Uint32Array"===f(B)},z.isInt8Array=function(B){return"Int8Array"===f(B)},z.isInt16Array=function(B){return"Int16Array"===f(B)},z.isInt32Array=function(B){return"Int32Array"===f(B)},z.isFloat32Array=function(B){return"Float32Array"===f(B)},z.isFloat64Array=function(B){return"Float64Array"===f(B)},z.isBigInt64Array=function(B){return"BigInt64Array"===f(B)},z.isBigUint64Array=function(B){return"BigUint64Array"===f(B)},g.working=typeof Map<"u"&&g(new Map),z.isMap=function(B){return typeof Map<"u"&&(g.working?g(B):B instanceof Map)},p.working=typeof Set<"u"&&p(new Set),z.isSet=function(B){return typeof Set<"u"&&(p.working?p(B):B instanceof Set)},T.working=typeof WeakMap<"u"&&T(new WeakMap),z.isWeakMap=function(B){return typeof WeakMap<"u"&&(T.working?T(B):B instanceof WeakMap)},_.working=typeof WeakSet<"u"&&_(new WeakSet),z.isWeakSet=function(B){return _(B)},y.working=typeof ArrayBuffer<"u"&&y(new ArrayBuffer),z.isArrayBuffer=w,m.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&m(new DataView(new ArrayBuffer(1),0,1)),z.isDataView=b;var k=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function h(B){return"[object SharedArrayBuffer]"===i(B)}function O(B){return void 0!==k&&(void 0===h.working&&(h.working=h(new k)),h.working?h(B):B instanceof k)}function A(B){return d(B,u)}function I(B){return d(B,a)}function P(B){return d(B,o)}function L(B){return v&&d(B,l)}function N(B){return c&&d(B,s)}z.isSharedArrayBuffer=O,z.isAsyncFunction=function(B){return"[object AsyncFunction]"===i(B)},z.isMapIterator=function(B){return"[object Map Iterator]"===i(B)},z.isSetIterator=function(B){return"[object Set Iterator]"===i(B)},z.isGeneratorObject=function(B){return"[object Generator]"===i(B)},z.isWebAssemblyCompiledModule=function(B){return"[object WebAssembly.Module]"===i(B)},z.isNumberObject=A,z.isStringObject=I,z.isBooleanObject=P,z.isBigIntObject=L,z.isSymbolObject=N,z.isBoxedPrimitive=function(B){return A(B)||I(B)||P(B)||L(B)||N(B)},z.isAnyArrayBuffer=function(B){return typeof Uint8Array<"u"&&(w(B)||O(B))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(B){Object.defineProperty(z,B,{enumerable:!1,value:function(){throw new Error(B+" is not supported in userland")}})})},43827:function(ie,z,r){var C=r(90386),E=Object.getOwnPropertyDescriptors||function(B){for(var W=Object.keys(B),j={},Z=0;Z<W.length;Z++)j[W[Z]]=Object.getOwnPropertyDescriptor(B,W[Z]);return j},f=/%[sdj%]/g;z.format=function(B){if(!T(B)){for(var W=[],j=0;j<arguments.length;j++)W.push(c(arguments[j]));return W.join(" ")}j=1;for(var Z=arguments,V=Z.length,q=String(B).replace(f,function(H){if("%%"===H)return"%";if(j>=V)return H;switch(H){case"%s":return String(Z[j++]);case"%d":return Number(Z[j++]);case"%j":try{return JSON.stringify(Z[j++])}catch{return"[Circular]"}default:return H}}),G=Z[j];j<V;G=Z[++j])g(G)||!w(G)?q+=" "+G:q+=" "+c(G);return q},z.deprecate=function(B,W){if(void 0!==C&&!0===C.noDeprecation)return B;if(void 0===C)return function(){return z.deprecate(B,W).apply(this,arguments)};var j=!1;return function(){if(!j){if(C.throwDeprecation)throw new Error(W);C.traceDeprecation?console.trace(W):console.error(W),j=!0}return B.apply(this,arguments)}};var S={},M=/^$/;if(C.env.NODE_DEBUG){var v=C.env.NODE_DEBUG;v=v.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),M=new RegExp("^"+v+"$","i")}function c(B,W){var j={seen:[],stylize:u};return arguments.length>=3&&(j.depth=arguments[2]),arguments.length>=4&&(j.colors=arguments[3]),d(W)?j.showHidden=W:W&&z._extend(j,W),_(j.showHidden)&&(j.showHidden=!1),_(j.depth)&&(j.depth=2),_(j.colors)&&(j.colors=!1),_(j.customInspect)&&(j.customInspect=!0),j.colors&&(j.stylize=i),a(j,B,j.depth)}function i(B,W){var j=c.styles[W];return j?"\x1b["+c.colors[j][0]+"m"+B+"\x1b["+c.colors[j][1]+"m":B}function u(B,W){return B}function a(B,W,j){if(B.customInspect&&W&&k(W.inspect)&&W.inspect!==z.inspect&&(!W.constructor||W.constructor.prototype!==W)){var Z=W.inspect(j,B);return T(Z)||(Z=a(B,Z,j)),Z}var V=function(te,re){if(_(re))return te.stylize("undefined","undefined");if(T(re)){var le="'"+JSON.stringify(re).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return te.stylize(le,"string")}return p(re)?te.stylize(""+re,"number"):d(re)?te.stylize(""+re,"boolean"):g(re)?te.stylize("null","null"):void 0}(B,W);if(V)return V;var re,q=Object.keys(W),G=(re={},q.forEach(function(le,ue){re[le]=!0}),re);if(B.showHidden&&(q=Object.getOwnPropertyNames(W)),b(W)&&(q.indexOf("message")>=0||q.indexOf("description")>=0))return o(W);if(0===q.length){if(k(W))return B.stylize("[Function"+(W.name?": "+W.name:"")+"]","special");if(y(W))return B.stylize(RegExp.prototype.toString.call(W),"regexp");if(m(W))return B.stylize(Date.prototype.toString.call(W),"date");if(b(W))return o(W)}var ne,X="",$=!1,Q=["{","}"];return s(W)&&($=!0,Q=["[","]"]),k(W)&&(X=" [Function"+(W.name?": "+W.name:"")+"]"),y(W)&&(X=" "+RegExp.prototype.toString.call(W)),m(W)&&(X=" "+Date.prototype.toUTCString.call(W)),b(W)&&(X=" "+o(W)),0!==q.length||$&&0!=W.length?j<0?y(W)?B.stylize(RegExp.prototype.toString.call(W),"regexp"):B.stylize("[Object]","special"):(B.seen.push(W),ne=$?function(te,re,le,ue,he){for(var ge=[],xe=0,ke=re.length;xe<ke;++xe)P(re,String(xe))?ge.push(l(te,re,le,ue,String(xe),!0)):ge.push("");return he.forEach(function(Ae){Ae.match(/^\d+$/)||ge.push(l(te,re,le,ue,Ae,!0))}),ge}(B,W,j,G,q):q.map(function(te){return l(B,W,j,G,te,$)}),B.seen.pop(),function(te,re,le){return te.reduce(function(ue,he){return he.indexOf("\n"),ue+he.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?le[0]+(""===re?"":re+"\n ")+" "+te.join(",\n  ")+" "+le[1]:le[0]+re+" "+te.join(", ")+" "+le[1]}(ne,X,Q)):Q[0]+X+Q[1]}function o(B){return"["+Error.prototype.toString.call(B)+"]"}function l(B,W,j,Z,V,q){var G,H,ne;if((ne=Object.getOwnPropertyDescriptor(W,V)||{value:W[V]}).get?H=B.stylize(ne.set?"[Getter/Setter]":"[Getter]","special"):ne.set&&(H=B.stylize("[Setter]","special")),P(Z,V)||(G="["+V+"]"),H||(B.seen.indexOf(ne.value)<0?(H=g(j)?a(B,ne.value,null):a(B,ne.value,j-1)).indexOf("\n")>-1&&(H=q?H.split("\n").map(function(X){return"  "+X}).join("\n").slice(2):"\n"+H.split("\n").map(function(X){return"   "+X}).join("\n")):H=B.stylize("[Circular]","special")),_(G)){if(q&&V.match(/^\d+$/))return H;(G=JSON.stringify(""+V)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(G=G.slice(1,-1),G=B.stylize(G,"name")):(G=G.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),G=B.stylize(G,"string"))}return G+": "+H}function s(B){return Array.isArray(B)}function d(B){return"boolean"==typeof B}function g(B){return null===B}function p(B){return"number"==typeof B}function T(B){return"string"==typeof B}function _(B){return void 0===B}function y(B){return w(B)&&"[object RegExp]"===h(B)}function w(B){return"object"==typeof B&&null!==B}function m(B){return w(B)&&"[object Date]"===h(B)}function b(B){return w(B)&&("[object Error]"===h(B)||B instanceof Error)}function k(B){return"function"==typeof B}function h(B){return Object.prototype.toString.call(B)}function O(B){return B<10?"0"+B.toString(10):B.toString(10)}z.debuglog=function(B){if(B=B.toUpperCase(),!S[B])if(M.test(B)){var W=C.pid;S[B]=function(){var j=z.format.apply(z,arguments);console.error("%s %d: %s",B,W,j)}}else S[B]=function(){};return S[B]},z.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},z.types=r(4936),z.isArray=s,z.isBoolean=d,z.isNull=g,z.isNullOrUndefined=function(B){return null==B},z.isNumber=p,z.isString=T,z.isSymbol=function(B){return"symbol"==typeof B},z.isUndefined=_,z.isRegExp=y,z.types.isRegExp=y,z.isObject=w,z.isDate=m,z.types.isDate=m,z.isError=b,z.types.isNativeError=b,z.isFunction=k,z.isPrimitive=function(B){return null===B||"boolean"==typeof B||"number"==typeof B||"string"==typeof B||"symbol"==typeof B||void 0===B},z.isBuffer=r(45920);var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function I(){var B=new Date,W=[O(B.getHours()),O(B.getMinutes()),O(B.getSeconds())].join(":");return[B.getDate(),A[B.getMonth()],W].join(" ")}function P(B,W){return Object.prototype.hasOwnProperty.call(B,W)}z.log=function(){console.log("%s - %s",I(),z.format.apply(z,arguments))},z.inherits=r(42018),z._extend=function(B,W){if(!W||!w(W))return B;for(var j=Object.keys(W),Z=j.length;Z--;)B[j[Z]]=W[j[Z]];return B};var L=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function N(B,W){if(!B){var j=new Error("Promise was rejected with a falsy value");j.reason=B,B=j}return W(B)}z.promisify=function(B){if("function"!=typeof B)throw new TypeError('The "original" argument must be of type Function');if(L&&B[L]){var W;if("function"!=typeof(W=B[L]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(W,L,{value:W,enumerable:!1,writable:!1,configurable:!0}),W}function W(){for(var j,Z,V=new Promise(function(H,ne){j=H,Z=ne}),q=[],G=0;G<arguments.length;G++)q.push(arguments[G]);q.push(function(H,ne){H?Z(H):j(ne)});try{B.apply(this,q)}catch(H){Z(H)}return V}return Object.setPrototypeOf(W,Object.getPrototypeOf(B)),L&&Object.defineProperty(W,L,{value:W,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(W,E(B))},z.promisify.custom=L,z.callbackify=function(B){if("function"!=typeof B)throw new TypeError('The "original" argument must be of type Function');function W(){for(var j=[],Z=0;Z<arguments.length;Z++)j.push(arguments[Z]);var V=j.pop();if("function"!=typeof V)throw new TypeError("The last argument must be of type Function");var q=this,G=function(){return V.apply(q,arguments)};B.apply(this,j).then(function(H){C.nextTick(G.bind(null,null,H))},function(H){C.nextTick(N.bind(null,H,G))})}return Object.setPrototypeOf(W,Object.getPrototypeOf(B)),Object.defineProperties(W,E(B)),W}},40372:function(ie,z,r){var C=r(86249);ie.exports=function(E){return C("webgl",E)}},21099:function(ie,z,r){"use strict";var C=r(86165),E=r(72077),f=r(92978),S=f("Object.prototype.toString"),M=r(57877)()&&"symbol"==typeof Symbol.toStringTag,v=E(),c=f("String.prototype.slice"),i={},u=r(67295),a=Object.getPrototypeOf;M&&u&&a&&C(v,function(l){if("function"==typeof r.g[l]){var s=new r.g[l];if(!(Symbol.toStringTag in s))throw new EvalError("this engine has support for Symbol.toStringTag, but "+l+" does not have the property! Please report this.");var d=a(s),g=u(d,Symbol.toStringTag);if(!g){var p=a(d);g=u(p,Symbol.toStringTag)}i[l]=g.get}});var o=r(9187);ie.exports=function(l){return!!o(l)&&(M?(s=l,d=!1,C(i,function(g,p){if(!d)try{var T=g.call(s);T===p&&(d=T)}catch{}}),d):c(S(l),8,-1));var s,d}},3961:function(ie,z,r){var C=r(63489),E=r(56131),f=C.instance();function S(o){this.local=this.regionalOptions[o||""]||this.regionalOptions[""]}E(S.prototype=new C.baseCalendar,{name:"Chinese",jdEpoch:1721425.5,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(o,l){if("string"==typeof o){var s=o.match(v);return s?s[0]:""}var d=this._validateYear(o),g=o.month(),p=""+this.toChineseMonth(d,g);return l&&p.length<2&&(p="0"+p),this.isIntercalaryMonth(d,g)&&(p+="i"),p},monthNames:function(o){if("string"==typeof o){var l=o.match(c);return l?l[0]:""}var s=this._validateYear(o),d=o.month(),g=["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"][this.toChineseMonth(s,d)-1];return this.isIntercalaryMonth(s,d)&&(g="\u95f0"+g),g},monthNamesShort:function(o){if("string"==typeof o){var l=o.match(i);return l?l[0]:""}var s=this._validateYear(o),d=o.month(),g=["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"][this.toChineseMonth(s,d)-1];return this.isIntercalaryMonth(s,d)&&(g="\u95f0"+g),g},parseMonth:function(o,l){o=this._validateYear(o);var s,d=parseInt(l);if(isNaN(d))"\u95f0"===l[0]&&(s=!0,l=l.substring(1)),"\u6708"===l[l.length-1]&&(l=l.substring(0,l.length-1)),d=1+["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"].indexOf(l);else{var g=l[l.length-1];s="i"===g||"I"===g}return this.toMonthIndex(o,d,s)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(o,l){if(o.year&&(o=o.year()),"number"!=typeof o||o<1888||o>2111)throw l.replace(/\{0\}/,this.local.name);return o},toMonthIndex:function(o,l,s){var d=this.intercalaryMonth(o);if(s&&l!==d||l<1||l>12)throw C.local.invalidMonth.replace(/\{0\}/,this.local.name);return d?!s&&l<=d?l-1:l:l-1},toChineseMonth:function(o,l){o.year&&(l=(o=o.year()).month());var s=this.intercalaryMonth(o);if(l<0||l>(s?12:11))throw C.local.invalidMonth.replace(/\{0\}/,this.local.name);return s?l<s?l+1:l:l+1},intercalaryMonth:function(o){return o=this._validateYear(o),u[o-u[0]]>>13},isIntercalaryMonth:function(o,l){o.year&&(l=(o=o.year()).month());var s=this.intercalaryMonth(o);return!!s&&s===l},leapYear:function(o){return 0!==this.intercalaryMonth(o)},weekOfYear:function(o,l,s){var d,g=this._validateYear(o,C.local.invalidyear),p=a[g-a[0]];(d=f.newDate(p>>9&4095,p>>5&15,31&p)).add(4-(d.dayOfWeek()||7),"d");var w=this.toJD(o,l,s)-d.toJD();return 1+Math.floor(w/7)},monthsInYear:function(o){return this.leapYear(o)?13:12},daysInMonth:function(o,l){o.year&&(l=o.month(),o=o.year()),o=this._validateYear(o);var s=u[o-u[0]];if(l>(s>>13?12:11))throw C.local.invalidMonth.replace(/\{0\}/,this.local.name);return s&1<<12-l?30:29},weekDay:function(o,l,s){return(this.dayOfWeek(o,l,s)||7)<6},toJD:function(o,l,s){var d=this._validate(o,p,s,C.local.invalidDate);o=this._validateYear(d.year()),l=d.month(),s=d.day();var g=this.isIntercalaryMonth(o,l),p=this.toChineseMonth(o,l),T=function(_,y,w,m,b){var k,h,O;if("object"==typeof _)h=_,k=y||{};else{var A;if(!("number"==typeof _&&_>=1888&&_<=2111))throw new Error("Lunar year outside range 1888-2111");if(!("number"==typeof y&&y>=1&&y<=12))throw new Error("Lunar month outside range 1 - 12");if(!("number"==typeof w&&w>=1&&w<=30))throw new Error("Lunar day outside range 1 - 30");"object"==typeof m?(A=!1,k=m):(A=!!m,k={}),h={year:_,month:y,day:w,isIntercalary:A}}O=h.day-1;var I,P=u[h.year-u[0]],L=P>>13;I=L&&(h.month>L||h.isIntercalary)?h.month:h.month-1;for(var N=0;N<I;N++)O+=P&1<<12-N?30:29;var B=a[h.year-a[0]],W=new Date(B>>9&4095,(B>>5&15)-1,(31&B)+O);return k.year=W.getFullYear(),k.month=1+W.getMonth(),k.day=W.getDate(),k}(o,p,s,g);return f.toJD(T.year,T.month,T.day)},fromJD:function(o){var l=f.fromJD(o),s=function(g,p,T,_){var y,w;if("object"==typeof g)y=g,w=p||{};else{if(!("number"==typeof g&&g>=1888&&g<=2111))throw new Error("Solar year outside range 1888-2111");if(!("number"==typeof p&&p>=1&&p<=12))throw new Error("Solar month outside range 1 - 12");if(!("number"==typeof T&&T>=1&&T<=31))throw new Error("Solar day outside range 1 - 31");y={year:g,month:p,day:T},w={}}var m=a[y.year-a[0]];w.year=(y.year<<9|y.month<<5|y.day)>=m?y.year:y.year-1,m=a[w.year-a[0]];var k,h=new Date(m>>9&4095,(m>>5&15)-1,31&m),O=new Date(y.year,y.month-1,y.day);k=Math.round((O-h)/864e5);var A,I=u[w.year-u[0]];for(A=0;A<13;A++){var P=I&1<<12-A?30:29;if(k<P)break;k-=P}var L=I>>13;return!L||A<L?(w.isIntercalary=!1,w.month=1+A):A===L?(w.isIntercalary=!0,w.month=A):(w.isIntercalary=!1,w.month=A),w.day=1+k,w}(l.year(),l.month(),l.day()),d=this.toMonthIndex(s.year,s.month,s.isIntercalary);return this.newDate(s.year,d,s.day)},fromString:function(o){var l=o.match(M),s=this._validateYear(+l[1]),p=this.toMonthIndex(s,+l[2],!!l[3]);return this.newDate(s,p,+l[4])},add:function(o,l,s){var d=o.year(),g=o.month(),p=this.isIntercalaryMonth(d,g),T=this.toChineseMonth(d,g),_=Object.getPrototypeOf(S.prototype).add.call(this,o,l,s);if("y"===s){var y=_.year(),w=_.month(),m=this.isIntercalaryMonth(y,T),b=this.toMonthIndex(y,T,!(!p||!m));b!==w&&_.month(b)}return _}});var M=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,v=/^\d?\d[iI]?/m,c=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?\u6708/m,i=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?/m;C.calendars.chinese=S;var u=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],a=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},38751:function(ie,z,r){var C=r(63489);function f(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}r(56131)(f.prototype=new C.baseCalendar,{name:"Coptic",jdEpoch:1825029.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(S){var M=this._validate(S,this.minMonth,this.minDay,C.local.invalidYear);return(S=M.year()+(M.year()<0?1:0))%4==3||S%4==-1},monthsInYear:function(S){return this._validate(S,this.minMonth,this.minDay,C.local.invalidYear||C.regionalOptions[""].invalidYear),13},weekOfYear:function(S,M,v){var c=this.newDate(S,M,v);return c.add(-c.dayOfWeek(),"d"),Math.floor((c.dayOfYear()-1)/7)+1},daysInMonth:function(S,M){var v=this._validate(S,M,this.minDay,C.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(13===v.month()&&this.leapYear(v.year())?1:0)},weekDay:function(S,M,v){return(this.dayOfWeek(S,M,v)||7)<6},toJD:function(S,M,v){var c=this._validate(S,M,v,C.local.invalidDate);return(S=c.year())<0&&S++,c.day()+30*(c.month()-1)+365*(S-1)+Math.floor(S/4)+this.jdEpoch-1},fromJD:function(S){var M=Math.floor(S)+.5-this.jdEpoch,v=Math.floor((M-Math.floor((M+366)/1461))/365)+1;v<=0&&v--,M=Math.floor(S)+.5-this.newDate(v,1,1).toJD();var c=Math.floor(M/30)+1;return this.newDate(v,c,M-30*(c-1)+1)}}),C.calendars.coptic=f},86825:function(ie,z,r){var C=r(63489);function f(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}r(56131)(f.prototype=new C.baseCalendar,{name:"Discworld",jdEpoch:1721425.5,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(M){return this._validate(M,this.minMonth,this.minDay,C.local.invalidYear),!1},monthsInYear:function(M){return this._validate(M,this.minMonth,this.minDay,C.local.invalidYear),13},daysInYear:function(M){return this._validate(M,this.minMonth,this.minDay,C.local.invalidYear),400},weekOfYear:function(M,v,c){var i=this.newDate(M,v,c);return i.add(-i.dayOfWeek(),"d"),Math.floor((i.dayOfYear()-1)/8)+1},daysInMonth:function(M,v){var c=this._validate(M,v,this.minDay,C.local.invalidMonth);return this.daysPerMonth[c.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(M,v,c){return(this._validate(M,v,c,C.local.invalidDate).day()+1)%8},weekDay:function(M,v,c){var i=this.dayOfWeek(M,v,c);return i>=2&&i<=6},extraInfo:function(M,v,c){var i=this._validate(M,v,c,C.local.invalidDate);return{century:S[Math.floor((i.year()-1)/100)+1]||""}},toJD:function(M,v,c){var i=this._validate(M,v,c,C.local.invalidDate);return M=i.year()+(i.year()<0?1:0),v=i.month(),(c=i.day())+(v>1?16:0)+(v>2?32*(v-2):0)+400*(M-1)+this.jdEpoch-1},fromJD:function(M){M=Math.floor(M+.5)-Math.floor(this.jdEpoch)-1;var v=Math.floor(M/400)+1;M-=400*(v-1),M+=M>15?16:0;var c=Math.floor(M/32)+1;return this.newDate(v<=0?v-1:v,c,M-32*(c-1)+1)}});var S={20:"Fruitbat",21:"Anchovy"};C.calendars.discworld=f},37715:function(ie,z,r){var C=r(63489);function f(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}r(56131)(f.prototype=new C.baseCalendar,{name:"Ethiopian",jdEpoch:1724220.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(S){var M=this._validate(S,this.minMonth,this.minDay,C.local.invalidYear);return(S=M.year()+(M.year()<0?1:0))%4==3||S%4==-1},monthsInYear:function(S){return this._validate(S,this.minMonth,this.minDay,C.local.invalidYear||C.regionalOptions[""].invalidYear),13},weekOfYear:function(S,M,v){var c=this.newDate(S,M,v);return c.add(-c.dayOfWeek(),"d"),Math.floor((c.dayOfYear()-1)/7)+1},daysInMonth:function(S,M){var v=this._validate(S,M,this.minDay,C.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(13===v.month()&&this.leapYear(v.year())?1:0)},weekDay:function(S,M,v){return(this.dayOfWeek(S,M,v)||7)<6},toJD:function(S,M,v){var c=this._validate(S,M,v,C.local.invalidDate);return(S=c.year())<0&&S++,c.day()+30*(c.month()-1)+365*(S-1)+Math.floor(S/4)+this.jdEpoch-1},fromJD:function(S){var M=Math.floor(S)+.5-this.jdEpoch,v=Math.floor((M-Math.floor((M+366)/1461))/365)+1;v<=0&&v--,M=Math.floor(S)+.5-this.newDate(v,1,1).toJD();var c=Math.floor(M/30)+1;return this.newDate(v,c,M-30*(c-1)+1)}}),C.calendars.ethiopian=f},99384:function(ie,z,r){var C=r(63489);function f(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}function S(M,v){return M-v*Math.floor(M/v)}r(56131)(f.prototype=new C.baseCalendar,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(M){var v=this._validate(M,this.minMonth,this.minDay,C.local.invalidYear);return this._leapYear(v.year())},_leapYear:function(M){return S(7*(M=M<0?M+1:M)+1,19)<7},monthsInYear:function(M){return this._validate(M,this.minMonth,this.minDay,C.local.invalidYear),this._leapYear(M.year?M.year():M)?13:12},weekOfYear:function(M,v,c){var i=this.newDate(M,v,c);return i.add(-i.dayOfWeek(),"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInYear:function(M){return M=this._validate(M,this.minMonth,this.minDay,C.local.invalidYear).year(),this.toJD(-1===M?1:M+1,7,1)-this.toJD(M,7,1)},daysInMonth:function(M,v){return M.year&&(v=M.month(),M=M.year()),this._validate(M,v,this.minDay,C.local.invalidMonth),12===v&&this.leapYear(M)||8===v&&5===S(this.daysInYear(M),10)?30:9===v&&3===S(this.daysInYear(M),10)?29:this.daysPerMonth[v-1]},weekDay:function(M,v,c){return 6!==this.dayOfWeek(M,v,c)},extraInfo:function(M,v,c){var i=this._validate(M,v,c,C.local.invalidDate);return{yearType:(this.leapYear(i)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(i)%10-3]}},toJD:function(M,v,c){var i=this._validate(M,v,c,C.local.invalidDate);M=i.year(),v=i.month(),c=i.day();var u=M<=0?M+1:M,a=this.jdEpoch+this._delay1(u)+this._delay2(u)+c+1;if(v<7){for(var o=7;o<=this.monthsInYear(M);o++)a+=this.daysInMonth(M,o);for(o=1;o<v;o++)a+=this.daysInMonth(M,o)}else for(o=7;o<v;o++)a+=this.daysInMonth(M,o);return a},_delay1:function(M){var v=Math.floor((235*M-234)/19),i=29*v+Math.floor((12084+13753*v)/25920);return S(3*(i+1),7)<3&&i++,i},_delay2:function(M){var v=this._delay1(M-1),c=this._delay1(M);return this._delay1(M+1)-c==356?2:c-v==382?1:0},fromJD:function(M){M=Math.floor(M)+.5;for(var v=Math.floor(98496*(M-this.jdEpoch)/35975351)-1;M>=this.toJD(-1===v?1:v+1,7,1);)v++;for(var c=M<this.toJD(v,1,1)?7:1;M>this.toJD(v,c,this.daysInMonth(v,c));)c++;var i=M-this.toJD(v,c,1)+1;return this.newDate(v,c,i)}}),C.calendars.hebrew=f},43805:function(ie,z,r){var C=r(63489);function f(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}r(56131)(f.prototype=new C.baseCalendar,{name:"Islamic",jdEpoch:1948439.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(S){return(11*this._validate(S,this.minMonth,this.minDay,C.local.invalidYear).year()+14)%30<11},weekOfYear:function(S,M,v){var c=this.newDate(S,M,v);return c.add(-c.dayOfWeek(),"d"),Math.floor((c.dayOfYear()-1)/7)+1},daysInYear:function(S){return this.leapYear(S)?355:354},daysInMonth:function(S,M){var v=this._validate(S,M,this.minDay,C.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(12===v.month()&&this.leapYear(v.year())?1:0)},weekDay:function(S,M,v){return 5!==this.dayOfWeek(S,M,v)},toJD:function(S,M,v){var c=this._validate(S,M,v,C.local.invalidDate);return S=c.year(),M=c.month(),S=S<=0?S+1:S,(v=c.day())+Math.ceil(29.5*(M-1))+354*(S-1)+Math.floor((3+11*S)/30)+this.jdEpoch-1},fromJD:function(S){S=Math.floor(S)+.5;var M=Math.floor((30*(S-this.jdEpoch)+10646)/10631);M=M<=0?M-1:M;var v=Math.min(12,Math.ceil((S-29-this.toJD(M,1,1))/29.5)+1),c=S-this.toJD(M,v,1)+1;return this.newDate(M,v,c)}}),C.calendars.islamic=f},88874:function(ie,z,r){var C=r(63489);function f(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}r(56131)(f.prototype=new C.baseCalendar,{name:"Julian",jdEpoch:1721423.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(S){var M=this._validate(S,this.minMonth,this.minDay,C.local.invalidYear);return(S=M.year()<0?M.year()+1:M.year())%4==0},weekOfYear:function(S,M,v){var c=this.newDate(S,M,v);return c.add(4-(c.dayOfWeek()||7),"d"),Math.floor((c.dayOfYear()-1)/7)+1},daysInMonth:function(S,M){var v=this._validate(S,M,this.minDay,C.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(2===v.month()&&this.leapYear(v.year())?1:0)},weekDay:function(S,M,v){return(this.dayOfWeek(S,M,v)||7)<6},toJD:function(S,M,v){var c=this._validate(S,M,v,C.local.invalidDate);return S=c.year(),M=c.month(),v=c.day(),S<0&&S++,M<=2&&(S--,M+=12),Math.floor(365.25*(S+4716))+Math.floor(30.6001*(M+1))+v-1524.5},fromJD:function(S){var M=Math.floor(S+.5)+1524,v=Math.floor((M-122.1)/365.25),c=Math.floor(365.25*v),i=Math.floor((M-c)/30.6001),u=i-Math.floor(i<14?1:13),a=v-Math.floor(u>2?4716:4715),o=M-c-Math.floor(30.6001*i);return a<=0&&a--,this.newDate(a,u,o)}}),C.calendars.julian=f},83290:function(ie,z,r){var C=r(63489);function f(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}function S(v,c){return v-c*Math.floor(v/c)}function M(v,c){return S(v-1,c)+1}r(56131)(f.prototype=new C.baseCalendar,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(v){return this._validate(v,this.minMonth,this.minDay,C.local.invalidYear),!1},formatYear:function(v){v=this._validate(v,this.minMonth,this.minDay,C.local.invalidYear).year();var c=Math.floor(v/400);return v%=400,v+=v<0?400:0,c+"."+Math.floor(v/20)+"."+v%20},forYear:function(v){if((v=v.split(".")).length<3)throw"Invalid Mayan year";for(var c=0,i=0;i<v.length;i++){var u=parseInt(v[i],10);if(Math.abs(u)>19||i>0&&u<0)throw"Invalid Mayan year";c=20*c+u}return c},monthsInYear:function(v){return this._validate(v,this.minMonth,this.minDay,C.local.invalidYear),18},weekOfYear:function(v,c,i){return this._validate(v,c,i,C.local.invalidDate),0},daysInYear:function(v){return this._validate(v,this.minMonth,this.minDay,C.local.invalidYear),360},daysInMonth:function(v,c){return this._validate(v,c,this.minDay,C.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(v,c,i){return this._validate(v,c,i,C.local.invalidDate).day()},weekDay:function(v,c,i){return this._validate(v,c,i,C.local.invalidDate),!0},extraInfo:function(v,c,i){var u=this._validate(v,c,i,C.local.invalidDate).toJD(),a=this._toHaab(u),o=this._toTzolkin(u);return{haabMonthName:this.local.haabMonths[a[0]-1],haabMonth:a[0],haabDay:a[1],tzolkinDayName:this.local.tzolkinMonths[o[0]-1],tzolkinDay:o[0],tzolkinTrecena:o[1]}},_toHaab:function(v){var c=S(8+(v-=this.jdEpoch)+340,365);return[Math.floor(c/20)+1,S(c,20)]},_toTzolkin:function(v){return[M(20+(v-=this.jdEpoch),20),M(v+4,13)]},toJD:function(v,c,i){var u=this._validate(v,c,i,C.local.invalidDate);return u.day()+20*u.month()+360*u.year()+this.jdEpoch},fromJD:function(v){v=Math.floor(v)+.5-this.jdEpoch;var c=Math.floor(v/360);v%=360,v+=v<0?360:0;var i=Math.floor(v/20);return this.newDate(c,i,v%20)}}),C.calendars.mayan=f},29108:function(ie,z,r){var C=r(63489),E=r(56131);function f(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}f.prototype=new C.baseCalendar;var S=C.instance("gregorian");E(f.prototype,{name:"Nanakshahi",jdEpoch:2257673.5,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(M){var v=this._validate(M,this.minMonth,this.minDay,C.local.invalidYear||C.regionalOptions[""].invalidYear);return S.leapYear(v.year()+(v.year()<1?1:0)+1469)},weekOfYear:function(M,v,c){var i=this.newDate(M,v,c);return i.add(1-(i.dayOfWeek()||7),"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInMonth:function(M,v){var c=this._validate(M,v,this.minDay,C.local.invalidMonth);return this.daysPerMonth[c.month()-1]+(12===c.month()&&this.leapYear(c.year())?1:0)},weekDay:function(M,v,c){return(this.dayOfWeek(M,v,c)||7)<6},toJD:function(M,v,c){var i=this._validate(M,v,c,C.local.invalidMonth);(M=i.year())<0&&M++;for(var u=i.day(),a=1;a<i.month();a++)u+=this.daysPerMonth[a-1];return u+S.toJD(M+1468,3,13)},fromJD:function(M){M=Math.floor(M+.5);for(var v=Math.floor((M-(this.jdEpoch-1))/366);M>=this.toJD(v+1,1,1);)v++;for(var c=M-Math.floor(this.toJD(v,1,1)+.5)+1,i=1;c>this.daysInMonth(v,i);)c-=this.daysInMonth(v,i),i++;return this.newDate(v,i,c)}}),C.calendars.nanakshahi=f},55422:function(ie,z,r){var C=r(63489);function f(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}r(56131)(f.prototype=new C.baseCalendar,{name:"Nepali",jdEpoch:1700709.5,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(S){return this.daysInYear(S)!==this.daysPerYear},weekOfYear:function(S,M,v){var c=this.newDate(S,M,v);return c.add(-c.dayOfWeek(),"d"),Math.floor((c.dayOfYear()-1)/7)+1},daysInYear:function(S){if(S=this._validate(S,this.minMonth,this.minDay,C.local.invalidYear).year(),void 0===this.NEPALI_CALENDAR_DATA[S])return this.daysPerYear;for(var M=0,v=this.minMonth;v<=12;v++)M+=this.NEPALI_CALENDAR_DATA[S][v];return M},daysInMonth:function(S,M){return S.year&&(M=S.month(),S=S.year()),this._validate(S,M,this.minDay,C.local.invalidMonth),void 0===this.NEPALI_CALENDAR_DATA[S]?this.daysPerMonth[M-1]:this.NEPALI_CALENDAR_DATA[S][M]},weekDay:function(S,M,v){return 6!==this.dayOfWeek(S,M,v)},toJD:function(S,M,v){var c=this._validate(S,M,v,C.local.invalidDate);S=c.year(),M=c.month(),v=c.day();var i=C.instance(),u=0,a=M,o=S;this._createMissingCalendarData(S);var l=S-(a>9||9===a&&v>=this.NEPALI_CALENDAR_DATA[o][0]?56:57);for(9!==M&&(u=v,a--);9!==a;)a<=0&&(a=12,o--),u+=this.NEPALI_CALENDAR_DATA[o][a],a--;return 9===M?(u+=v-this.NEPALI_CALENDAR_DATA[o][0])<0&&(u+=i.daysInYear(l)):u+=this.NEPALI_CALENDAR_DATA[o][9]-this.NEPALI_CALENDAR_DATA[o][0],i.newDate(l,1,1).add(u,"d").toJD()},fromJD:function(S){var M=C.instance().fromJD(S),v=M.year(),c=M.dayOfYear(),i=v+56;this._createMissingCalendarData(i);for(var u=9,o=this.NEPALI_CALENDAR_DATA[i][u]-this.NEPALI_CALENDAR_DATA[i][0]+1;c>o;)++u>12&&(u=1,i++),o+=this.NEPALI_CALENDAR_DATA[i][u];return this.newDate(i,u,this.NEPALI_CALENDAR_DATA[i][u]-(o-c))},_createMissingCalendarData:function(S){var M=this.daysPerMonth.slice(0);M.unshift(17);for(var v=S-1;v<S+2;v++)void 0===this.NEPALI_CALENDAR_DATA[v]&&(this.NEPALI_CALENDAR_DATA[v]=M)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),C.calendars.nepali=f},94320:function(ie,z,r){var C=r(63489);function f(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}function S(M,v){return M-v*Math.floor(M/v)}r(56131)(f.prototype=new C.baseCalendar,{name:"Persian",jdEpoch:1948320.5,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Ch\xe6harshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch\xe6","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(M){var v=this._validate(M,this.minMonth,this.minDay,C.local.invalidYear);return 682*((v.year()-(v.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(M,v,c){var i=this.newDate(M,v,c);return i.add(-(i.dayOfWeek()+1)%7,"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInMonth:function(M,v){var c=this._validate(M,v,this.minDay,C.local.invalidMonth);return this.daysPerMonth[c.month()-1]+(12===c.month()&&this.leapYear(c.year())?1:0)},weekDay:function(M,v,c){return 5!==this.dayOfWeek(M,v,c)},toJD:function(M,v,c){var i=this._validate(M,v,c,C.local.invalidDate);M=i.year(),v=i.month(),c=i.day();var u=M-(M>=0?474:473),a=474+S(u,2820);return c+(v<=7?31*(v-1):30*(v-1)+6)+Math.floor((682*a-110)/2816)+365*(a-1)+1029983*Math.floor(u/2820)+this.jdEpoch-1},fromJD:function(M){var v=(M=Math.floor(M)+.5)-this.toJD(475,1,1),c=Math.floor(v/1029983),i=S(v,1029983),u=2820;if(1029982!==i){var a=Math.floor(i/366),o=S(i,366);u=Math.floor((2134*a+2816*o+2815)/1028522)+a+1}var l=u+2820*c+474,s=M-this.toJD(l=l<=0?l-1:l,1,1)+1,d=s<=186?Math.ceil(s/31):Math.ceil((s-6)/30),g=M-this.toJD(l,d,1)+1;return this.newDate(l,d,g)}}),C.calendars.persian=f,C.calendars.jalali=f},31320:function(ie,z,r){var C=r(63489),E=r(56131),f=C.instance();function S(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}E(S.prototype=new C.baseCalendar,{name:"Taiwan",jdEpoch:2419402.5,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(M){var v=this._validate(M,this.minMonth,this.minDay,C.local.invalidYear);return M=this._t2gYear(v.year()),f.leapYear(M)},weekOfYear:function(M,v,c){var i=this._validate(M,this.minMonth,this.minDay,C.local.invalidYear);return M=this._t2gYear(i.year()),f.weekOfYear(M,i.month(),i.day())},daysInMonth:function(M,v){var c=this._validate(M,v,this.minDay,C.local.invalidMonth);return this.daysPerMonth[c.month()-1]+(2===c.month()&&this.leapYear(c.year())?1:0)},weekDay:function(M,v,c){return(this.dayOfWeek(M,v,c)||7)<6},toJD:function(M,v,c){var i=this._validate(M,v,c,C.local.invalidDate);return M=this._t2gYear(i.year()),f.toJD(M,i.month(),i.day())},fromJD:function(M){var v=f.fromJD(M),c=this._g2tYear(v.year());return this.newDate(c,v.month(),v.day())},_t2gYear:function(M){return M+this.yearsOffset+(M>=-this.yearsOffset&&M<=-1?1:0)},_g2tYear:function(M){return M-this.yearsOffset-(M>=1&&M<=this.yearsOffset?1:0)}}),C.calendars.taiwan=S},51367:function(ie,z,r){var C=r(63489),E=r(56131),f=C.instance();function S(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}E(S.prototype=new C.baseCalendar,{name:"Thai",jdEpoch:1523098.5,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(M){var v=this._validate(M,this.minMonth,this.minDay,C.local.invalidYear);return M=this._t2gYear(v.year()),f.leapYear(M)},weekOfYear:function(M,v,c){var i=this._validate(M,this.minMonth,this.minDay,C.local.invalidYear);return M=this._t2gYear(i.year()),f.weekOfYear(M,i.month(),i.day())},daysInMonth:function(M,v){var c=this._validate(M,v,this.minDay,C.local.invalidMonth);return this.daysPerMonth[c.month()-1]+(2===c.month()&&this.leapYear(c.year())?1:0)},weekDay:function(M,v,c){return(this.dayOfWeek(M,v,c)||7)<6},toJD:function(M,v,c){var i=this._validate(M,v,c,C.local.invalidDate);return M=this._t2gYear(i.year()),f.toJD(M,i.month(),i.day())},fromJD:function(M){var v=f.fromJD(M),c=this._g2tYear(v.year());return this.newDate(c,v.month(),v.day())},_t2gYear:function(M){return M-this.yearsOffset-(M>=1&&M<=this.yearsOffset?1:0)},_g2tYear:function(M){return M+this.yearsOffset+(M>=-this.yearsOffset&&M<=-1?1:0)}}),C.calendars.thai=S},21457:function(ie,z,r){var C=r(63489);function f(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}r(56131)(f.prototype=new C.baseCalendar,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(M){var v=this._validate(M,this.minMonth,this.minDay,C.local.invalidYear);return 355===this.daysInYear(v.year())},weekOfYear:function(M,v,c){var i=this.newDate(M,v,c);return i.add(-i.dayOfWeek(),"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInYear:function(M){for(var v=0,c=1;c<=12;c++)v+=this.daysInMonth(M,c);return v},daysInMonth:function(M,v){for(var c=this._validate(M,v,this.minDay,C.local.invalidMonth).toJD()-24e5+.5,i=0,u=0;u<S.length;u++){if(S[u]>c)return S[i]-S[i-1];i++}return 30},weekDay:function(M,v,c){return 5!==this.dayOfWeek(M,v,c)},toJD:function(M,v,c){var i=this._validate(M,v,c,C.local.invalidDate),u=12*(i.year()-1)+i.month()-15292;return i.day()+S[u-1]-1+24e5-.5},fromJD:function(M){for(var v=M-24e5+.5,c=0,i=0;i<S.length&&!(S[i]>v);i++)c++;var u=c+15292,a=Math.floor((u-1)/12);return this.newDate(a+1,u-12*a,v-S[c-1]+1)},isValid:function(M,v,c){var i=C.baseCalendar.prototype.isValid.apply(this,arguments);return i&&(i=(M=null!=M.year?M.year:M)>=1276&&M<=1500),i},_validate:function(M,v,c,i){var u=C.baseCalendar.prototype._validate.apply(this,arguments);if(u.year<1276||u.year>1500)throw i.replace(/\{0\}/,this.local.name);return u}}),C.calendars.ummalqura=f;var S=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},63489:function(ie,z,r){var C=r(56131);function E(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function f(i,u,a,o){if(this._calendar=i,this._year=u,this._month=a,this._day=o,0===this._calendar._validateLevel&&!this._calendar.isValid(this._year,this._month,this._day))throw(c.local.invalidDate||c.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function S(i,u){return"000000".substring(0,u-(i=""+i).length)+i}function M(){this.shortYearCutoff="+10"}function v(i){this.local=this.regionalOptions[i]||this.regionalOptions[""]}C(E.prototype,{instance:function(i,u){i=(i||"gregorian").toLowerCase();var a=this._localCals[i+"-"+(u=u||"")];if(!a&&this.calendars[i]&&(a=new this.calendars[i](u),this._localCals[i+"-"+u]=a),!a)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,i);return a},newDate:function(i,u,a,o,l){return(o=(null!=i&&i.year?i.calendar():"string"==typeof o?this.instance(o,l):o)||this.instance()).newDate(i,u,a)},substituteDigits:function(i){return function(u){return(u+"").replace(/[0-9]/g,function(a){return i[a]})}},substituteChineseDigits:function(i,u){return function(a){for(var o="",l=0;a>0;){var s=a%10;o=(0===s?"":i[s]+u[l])+o,l++,a=Math.floor(a/10)}return 0===o.indexOf(i[1]+u[1])&&(o=o.substr(1)),o||i[0]}}}),C(f.prototype,{newDate:function(i,u,a){return this._calendar.newDate(i??this,u,a)},year:function(i){return 0===arguments.length?this._year:this.set(i,"y")},month:function(i){return 0===arguments.length?this._month:this.set(i,"m")},day:function(i){return 0===arguments.length?this._day:this.set(i,"d")},date:function(i,u,a){if(!this._calendar.isValid(i,u,a))throw(c.local.invalidDate||c.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=i,this._month=u,this._day=a,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(i,u){return this._calendar.add(this,i,u)},set:function(i,u){return this._calendar.set(this,i,u)},compareTo:function(i){if(this._calendar.name!==i._calendar.name)throw(c.local.differentCalendars||c.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,i._calendar.local.name);var u=this._year!==i._year?this._year-i._year:this._month!==i._month?this.monthOfYear()-i.monthOfYear():this._day-i._day;return 0===u?0:u<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(i){return this._calendar.fromJD(i)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(i){return this._calendar.fromJSDate(i)},toString:function(){return(this.year()<0?"-":"")+S(Math.abs(this.year()),4)+"-"+S(this.month(),2)+"-"+S(this.day(),2)}}),C(M.prototype,{_validateLevel:0,newDate:function(i,u,a){return null==i?this.today():(i.year&&(this._validate(i,u,a,c.local.invalidDate||c.regionalOptions[""].invalidDate),a=i.day(),u=i.month(),i=i.year()),new f(this,i,u,a))},today:function(){return this.fromJSDate(new Date)},epoch:function(i){return this._validate(i,this.minMonth,this.minDay,c.local.invalidYear||c.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(i){var u=this._validate(i,this.minMonth,this.minDay,c.local.invalidYear||c.regionalOptions[""].invalidYear);return(u.year()<0?"-":"")+S(Math.abs(u.year()),4)},monthsInYear:function(i){return this._validate(i,this.minMonth,this.minDay,c.local.invalidYear||c.regionalOptions[""].invalidYear),12},monthOfYear:function(i,u){var a=this._validate(i,u,this.minDay,c.local.invalidMonth||c.regionalOptions[""].invalidMonth);return(a.month()+this.monthsInYear(a)-this.firstMonth)%this.monthsInYear(a)+this.minMonth},fromMonthOfYear:function(i,u){var a=(u+this.firstMonth-2*this.minMonth)%this.monthsInYear(i)+this.minMonth;return this._validate(i,a,this.minDay,c.local.invalidMonth||c.regionalOptions[""].invalidMonth),a},daysInYear:function(i){var u=this._validate(i,this.minMonth,this.minDay,c.local.invalidYear||c.regionalOptions[""].invalidYear);return this.leapYear(u)?366:365},dayOfYear:function(i,u,a){var o=this._validate(i,u,a,c.local.invalidDate||c.regionalOptions[""].invalidDate);return o.toJD()-this.newDate(o.year(),this.fromMonthOfYear(o.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(i,u,a){var o=this._validate(i,u,a,c.local.invalidDate||c.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(o))+2)%this.daysInWeek()},extraInfo:function(i,u,a){return this._validate(i,u,a,c.local.invalidDate||c.regionalOptions[""].invalidDate),{}},add:function(i,u,a){return this._validate(i,this.minMonth,this.minDay,c.local.invalidDate||c.regionalOptions[""].invalidDate),this._correctAdd(i,this._add(i,u,a),u,a)},_add:function(i,u,a){if(this._validateLevel++,"d"===a||"w"===a){var o=i.toJD()+u*("w"===a?this.daysInWeek():1),l=i.calendar().fromJD(o);return this._validateLevel--,[l.year(),l.month(),l.day()]}try{var s=i.year()+("y"===a?u:0),d=i.monthOfYear()+("m"===a?u:0);l=i.day(),"y"===a?(i.month()!==this.fromMonthOfYear(s,d)&&(d=this.newDate(s,i.month(),this.minDay).monthOfYear()),d=Math.min(d,this.monthsInYear(s)),l=Math.min(l,this.daysInMonth(s,this.fromMonthOfYear(s,d)))):"m"===a&&(function(p){for(;d<p.minMonth;)s--,d+=p.monthsInYear(s);for(var T=p.monthsInYear(s);d>T-1+p.minMonth;)s++,d-=T,T=p.monthsInYear(s)}(this),l=Math.min(l,this.daysInMonth(s,this.fromMonthOfYear(s,d))));var g=[s,this.fromMonthOfYear(s,d),l];return this._validateLevel--,g}catch(p){throw this._validateLevel--,p}},_correctAdd:function(i,u,a,o){if(!(this.hasYearZero||"y"!==o&&"m"!==o||0!==u[0]&&i.year()>0==u[0]>0)){var l={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[o];u=this._add(i,a*l[0]+(a<0?-1:1)*l[1],l[2])}return i.date(u[0],u[1],u[2])},set:function(i,u,a){this._validate(i,this.minMonth,this.minDay,c.local.invalidDate||c.regionalOptions[""].invalidDate);var o="y"===a?u:i.year(),l="m"===a?u:i.month(),s="d"===a?u:i.day();return"y"!==a&&"m"!==a||(s=Math.min(s,this.daysInMonth(o,l))),i.date(o,l,s)},isValid:function(i,u,a){this._validateLevel++;var o=this.hasYearZero||0!==i;if(o){var l=this.newDate(i,u,this.minDay);o=u>=this.minMonth&&u-this.minMonth<this.monthsInYear(l)&&a>=this.minDay&&a-this.minDay<this.daysInMonth(l)}return this._validateLevel--,o},toJSDate:function(i,u,a){var o=this._validate(i,u,a,c.local.invalidDate||c.regionalOptions[""].invalidDate);return c.instance().fromJD(this.toJD(o)).toJSDate()},fromJSDate:function(i){return this.fromJD(c.instance().fromJSDate(i).toJD())},_validate:function(i,u,a,o){if(i.year){if(0===this._validateLevel&&this.name!==i.calendar().name)throw(c.local.differentCalendars||c.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,i.calendar().local.name);return i}try{if(this._validateLevel++,1===this._validateLevel&&!this.isValid(i,u,a))throw o.replace(/\{0\}/,this.local.name);var l=this.newDate(i,u,a);return this._validateLevel--,l}catch(s){throw this._validateLevel--,s}}}),C(v.prototype=new M,{name:"Gregorian",jdEpoch:1721425.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(i){var u=this._validate(i,this.minMonth,this.minDay,c.local.invalidYear||c.regionalOptions[""].invalidYear);return(i=u.year()+(u.year()<0?1:0))%4==0&&(i%100!=0||i%400==0)},weekOfYear:function(i,u,a){var o=this.newDate(i,u,a);return o.add(4-(o.dayOfWeek()||7),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInMonth:function(i,u){var a=this._validate(i,u,this.minDay,c.local.invalidMonth||c.regionalOptions[""].invalidMonth);return this.daysPerMonth[a.month()-1]+(2===a.month()&&this.leapYear(a.year())?1:0)},weekDay:function(i,u,a){return(this.dayOfWeek(i,u,a)||7)<6},toJD:function(i,u,a){var o=this._validate(i,u,a,c.local.invalidDate||c.regionalOptions[""].invalidDate);i=o.year(),u=o.month(),a=o.day(),i<0&&i++,u<3&&(u+=12,i--);var l=Math.floor(i/100),s=2-l+Math.floor(l/4);return Math.floor(365.25*(i+4716))+Math.floor(30.6001*(u+1))+a+s-1524.5},fromJD:function(i){var u=Math.floor(i+.5),a=Math.floor((u-1867216.25)/36524.25),o=1524+(a=u+1+a-Math.floor(a/4)),l=Math.floor((o-122.1)/365.25),s=Math.floor(365.25*l),d=Math.floor((o-s)/30.6001),g=o-s-Math.floor(30.6001*d),p=d-(d>13.5?13:1),T=l-(p>2.5?4716:4715);return T<=0&&T--,this.newDate(T,p,g)},toJSDate:function(i,u,a){var o=this._validate(i,u,a,c.local.invalidDate||c.regionalOptions[""].invalidDate),l=new Date(o.year(),o.month()-1,o.day());return l.setHours(0),l.setMinutes(0),l.setSeconds(0),l.setMilliseconds(0),l.setHours(l.getHours()>12?l.getHours()+2:0),l},fromJSDate:function(i){return this.newDate(i.getFullYear(),i.getMonth()+1,i.getDate())}});var c=ie.exports=new E;c.cdate=f,c.baseCalendar=M,c.calendars.gregorian=v},94338:function(ie,z,r){var C=r(56131),E=r(63489);C(E.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),E.local=E.regionalOptions[""],C(E.cdate.prototype,{formatDate:function(f,S){return"string"!=typeof f&&(S=f,f=""),this._calendar.formatDate(f||"",this,S)}}),C(E.baseCalendar.prototype,{UNIX_EPOCH:E.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:E.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(f,S,M){if("string"!=typeof f&&(M=S,S=f,f=""),!S)return"";if(S.calendar()!==this)throw E.local.invalidFormat||E.regionalOptions[""].invalidFormat;f=f||this.local.dateFormat;for(var v,c,i,u=(M=M||{}).dayNamesShort||this.local.dayNamesShort,a=M.dayNames||this.local.dayNames,o=M.monthNumbers||this.local.monthNumbers,l=M.monthNamesShort||this.local.monthNamesShort,s=M.monthNames||this.local.monthNames,d=function(h,O){for(var A=1;k+A<f.length&&f.charAt(k+A)===h;)A++;return k+=A-1,Math.floor(A/(O||1))>1},g=function(h,O,A,I){var P=""+O;if(d(h,I))for(;P.length<A;)P="0"+P;return P},p=this,_=function(h,O){return O?"function"==typeof s?s.call(p,h):s[h.month()-p.minMonth]:"function"==typeof l?l.call(p,h):l[h.month()-p.minMonth]},y=this.local.digits,w=function(h){return M.localNumbers&&y?y(h):h},m="",b=!1,k=0;k<f.length;k++)if(b)"'"!==f.charAt(k)||d("'")?m+=f.charAt(k):b=!1;else switch(f.charAt(k)){case"d":m+=w(g("d",S.day(),2));break;case"D":m+=(v=S.dayOfWeek(),c=u,i=a,d("D")?i[v]:c[v]);break;case"o":m+=g("o",S.dayOfYear(),3);break;case"w":m+=g("w",S.weekOfYear(),2);break;case"m":m+=(h=S,"function"==typeof o?o.call(p,h,d("m")):w(g("m",h.month(),2)));break;case"M":m+=_(S,d("M"));break;case"y":m+=d("y",2)?S.year():(S.year()%100<10?"0":"")+S.year()%100;break;case"Y":d("Y",2),m+=S.formatYear();break;case"J":m+=S.toJD();break;case"@":m+=(S.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":m+=(S.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":d("'")?m+="'":b=!0;break;default:m+=f.charAt(k)}var h;return m},parseDate:function(f,S,M){if(null==S)throw E.local.invalidArguments||E.regionalOptions[""].invalidArguments;if(""===(S="object"==typeof S?S.toString():S+""))return null;f=f||this.local.dateFormat;var v=(M=M||{}).shortYearCutoff||this.shortYearCutoff;v="string"!=typeof v?v:this.today().year()%100+parseInt(v,10);for(var c=M.dayNamesShort||this.local.dayNamesShort,i=M.dayNames||this.local.dayNames,u=M.parseMonth||this.local.parseMonth,a=M.monthNumbers||this.local.monthNumbers,o=M.monthNamesShort||this.local.monthNamesShort,l=M.monthNames||this.local.monthNames,s=-1,d=-1,g=-1,p=-1,T=-1,_=!1,y=!1,w=function(B,W){for(var j=1;P+j<f.length&&f.charAt(P+j)===B;)j++;return P+=j-1,Math.floor(j/(W||1))>1},m=function(B,W){var j=w(B,W),Z=[2,3,j?4:2,j?4:2,10,11,20]["oyYJ@!".indexOf(B)+1],V=new RegExp("^-?\\d{1,"+Z+"}"),q=S.substring(I).match(V);if(!q)throw(E.local.missingNumberAt||E.regionalOptions[""].missingNumberAt).replace(/\{0\}/,I);return I+=q[0].length,parseInt(q[0],10)},b=this,k=function(){if("function"==typeof a){w("m");var B=a.call(b,S.substring(I));return I+=B.length,B}return m("m")},h=function(B,W,j,Z){for(var V=w(B,Z)?j:W,q=0;q<V.length;q++)if(S.substr(I,V[q].length).toLowerCase()===V[q].toLowerCase())return I+=V[q].length,q+b.minMonth;throw(E.local.unknownNameAt||E.regionalOptions[""].unknownNameAt).replace(/\{0\}/,I)},O=function(){if("function"==typeof l){var B=w("M")?l.call(b,S.substring(I)):o.call(b,S.substring(I));return I+=B.length,B}return h("M",o,l)},A=function(){if(S.charAt(I)!==f.charAt(P))throw(E.local.unexpectedLiteralAt||E.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,I);I++},I=0,P=0;P<f.length;P++)if(y)"'"!==f.charAt(P)||w("'")?A():y=!1;else switch(f.charAt(P)){case"d":p=m("d");break;case"D":h("D",c,i);break;case"o":T=m("o");break;case"w":m("w");break;case"m":g=k();break;case"M":g=O();break;case"y":var L=P;_=!w("y",2),P=L,d=m("y",2);break;case"Y":d=m("Y",2);break;case"J":s=m("J")+.5,"."===S.charAt(I)&&(I++,m("J"));break;case"@":s=m("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":s=m("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":I=S.length;break;case"'":w("'")?A():y=!0;break;default:A()}if(I<S.length)throw E.local.unexpectedText||E.regionalOptions[""].unexpectedText;if(-1===d?d=this.today().year():d<100&&_&&(d+=-1===v?1900:this.today().year()-this.today().year()%100-(d<=v?0:100)),"string"==typeof g&&(g=u.call(this,d,g)),T>-1){p=T;for(var N=this.daysInMonth(d,g=1);p>N;N=this.daysInMonth(d,g))g++,p-=N}return s>-1?this.fromJD(s):this.newDate(d,g,p)},determineDate:function(f,S,M,v,c){M&&"object"!=typeof M&&(c=v,v=M,M=null),"string"!=typeof v&&(c=v,v="");var i=this;return S=S?S.newDate():null,null==f?S:"string"==typeof f?function(u){try{return i.parseDate(v,u,c)}catch{}for(var a=((u=u.toLowerCase()).match(/^c/)&&M?M.newDate():null)||i.today(),o=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,l=o.exec(u);l;)a.add(parseInt(l[1],10),l[2]||"d"),l=o.exec(u);return a}(f):"number"==typeof f?isNaN(f)||f===1/0||f===-1/0?S:i.today().add(f,"d"):i.newDate(f)}})},69862:function(){},40964:function(){},72077:function(ie,z,r){"use strict";var C=r(24696);ie.exports=function(){return C(["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],function(E){return"function"==typeof r.g[E]})}},81684:function(ie,z,r){"use strict";function C(pe,ye,Ne){pe.prototype=ye.prototype=Ne,Ne.constructor=pe}function E(pe,ye){var Ne=Object.create(pe.prototype);for(var be in ye)Ne[be]=ye[be];return Ne}function f(){}r.d(z,{sX:function(){return Ae},k4:function(){return te}});var S=.7,M=1/S,v="\\s*([+-]?\\d+)\\s*",c="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",i="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",u=/^#([0-9a-f]{3,8})$/,a=new RegExp("^rgb\\(".concat(v,",").concat(v,",").concat(v,"\\)$")),o=new RegExp("^rgb\\(".concat(i,",").concat(i,",").concat(i,"\\)$")),l=new RegExp("^rgba\\(".concat(v,",").concat(v,",").concat(v,",").concat(c,"\\)$")),s=new RegExp("^rgba\\(".concat(i,",").concat(i,",").concat(i,",").concat(c,"\\)$")),d=new RegExp("^hsl\\(".concat(c,",").concat(i,",").concat(i,"\\)$")),g=new RegExp("^hsla\\(".concat(c,",").concat(i,",").concat(i,",").concat(c,"\\)$")),p={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function T(){return this.rgb().formatHex()}function _(){return this.rgb().formatRgb()}function y(pe){var ye,Ne;return pe=(pe+"").trim().toLowerCase(),(ye=u.exec(pe))?(Ne=ye[1].length,ye=parseInt(ye[1],16),6===Ne?w(ye):3===Ne?new h(ye>>8&15|ye>>4&240,ye>>4&15|240&ye,(15&ye)<<4|15&ye,1):8===Ne?m(ye>>24&255,ye>>16&255,ye>>8&255,(255&ye)/255):4===Ne?m(ye>>12&15|ye>>8&240,ye>>8&15|ye>>4&240,ye>>4&15|240&ye,((15&ye)<<4|15&ye)/255):null):(ye=a.exec(pe))?new h(ye[1],ye[2],ye[3],1):(ye=o.exec(pe))?new h(255*ye[1]/100,255*ye[2]/100,255*ye[3]/100,1):(ye=l.exec(pe))?m(ye[1],ye[2],ye[3],ye[4]):(ye=s.exec(pe))?m(255*ye[1]/100,255*ye[2]/100,255*ye[3]/100,ye[4]):(ye=d.exec(pe))?N(ye[1],ye[2]/100,ye[3]/100,1):(ye=g.exec(pe))?N(ye[1],ye[2]/100,ye[3]/100,ye[4]):p.hasOwnProperty(pe)?w(p[pe]):"transparent"===pe?new h(NaN,NaN,NaN,0):null}function w(pe){return new h(pe>>16&255,pe>>8&255,255&pe,1)}function m(pe,ye,Ne,be){return be<=0&&(pe=ye=Ne=NaN),new h(pe,ye,Ne,be)}function b(pe){return pe instanceof f||(pe=y(pe)),pe?new h((pe=pe.rgb()).r,pe.g,pe.b,pe.opacity):new h}function k(pe,ye,Ne,be){return 1===arguments.length?b(pe):new h(pe,ye,Ne,be??1)}function h(pe,ye,Ne,be){this.r=+pe,this.g=+ye,this.b=+Ne,this.opacity=+be}function O(){return"#".concat(L(this.r)).concat(L(this.g)).concat(L(this.b))}function A(){var pe=I(this.opacity);return"".concat(1===pe?"rgb(":"rgba(").concat(P(this.r),", ").concat(P(this.g),", ").concat(P(this.b)).concat(1===pe?")":", ".concat(pe,")"))}function I(pe){return isNaN(pe)?1:Math.max(0,Math.min(1,pe))}function P(pe){return Math.max(0,Math.min(255,Math.round(pe)||0))}function L(pe){return((pe=P(pe))<16?"0":"")+pe.toString(16)}function N(pe,ye,Ne,be){return be<=0?pe=ye=Ne=NaN:Ne<=0||Ne>=1?pe=ye=NaN:ye<=0&&(pe=NaN),new W(pe,ye,Ne,be)}function B(pe){if(pe instanceof W)return new W(pe.h,pe.s,pe.l,pe.opacity);if(pe instanceof f||(pe=y(pe)),!pe)return new W;if(pe instanceof W)return pe;var ye=(pe=pe.rgb()).r/255,Ne=pe.g/255,be=pe.b/255,Ee=Math.min(ye,Ne,be),Oe=Math.max(ye,Ne,be),De=NaN,oe=Oe-Ee,de=(Oe+Ee)/2;return oe?(De=ye===Oe?(Ne-be)/oe+6*(Ne<be):Ne===Oe?(be-ye)/oe+2:(ye-Ne)/oe+4,oe/=de<.5?Oe+Ee:2-Oe-Ee,De*=60):oe=de>0&&de<1?0:De,new W(De,oe,de,pe.opacity)}function W(pe,ye,Ne,be){this.h=+pe,this.s=+ye,this.l=+Ne,this.opacity=+be}function j(pe){return(pe=(pe||0)%360)<0?pe+360:pe}function Z(pe){return Math.max(0,Math.min(1,pe||0))}function V(pe,ye,Ne){return 255*(pe<60?ye+(Ne-ye)*pe/60:pe<180?Ne:pe<240?ye+(Ne-ye)*(240-pe)/60:ye)}function q(pe,ye,Ne,be,Ee){var Oe=pe*pe,De=Oe*pe;return((1-3*pe+3*Oe-De)*ye+(4-6*Oe+3*De)*Ne+(1+3*pe+3*Oe-3*De)*be+De*Ee)/6}C(f,y,{copy:function(pe){return Object.assign(new this.constructor,this,pe)},displayable:function(){return this.rgb().displayable()},hex:T,formatHex:T,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return B(this).formatHsl()},formatRgb:_,toString:_}),C(h,k,E(f,{brighter:function(pe){return pe=null==pe?M:Math.pow(M,pe),new h(this.r*pe,this.g*pe,this.b*pe,this.opacity)},darker:function(pe){return pe=null==pe?S:Math.pow(S,pe),new h(this.r*pe,this.g*pe,this.b*pe,this.opacity)},rgb:function(){return this},clamp:function(){return new h(P(this.r),P(this.g),P(this.b),I(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:O,formatHex:O,formatHex8:function(){return"#".concat(L(this.r)).concat(L(this.g)).concat(L(this.b)).concat(L(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:A,toString:A})),C(W,function(pe,ye,Ne,be){return 1===arguments.length?B(pe):new W(pe,ye,Ne,be??1)},E(f,{brighter:function(pe){return pe=null==pe?M:Math.pow(M,pe),new W(this.h,this.s,this.l*pe,this.opacity)},darker:function(pe){return pe=null==pe?S:Math.pow(S,pe),new W(this.h,this.s,this.l*pe,this.opacity)},rgb:function(){var pe=this.h%360+360*(this.h<0),ye=isNaN(pe)||isNaN(this.s)?0:this.s,Ne=this.l,be=Ne+(Ne<.5?Ne:1-Ne)*ye,Ee=2*Ne-be;return new h(V(pe>=240?pe-240:pe+120,Ee,be),V(pe,Ee,be),V(pe<120?pe+240:pe-120,Ee,be),this.opacity)},clamp:function(){return new W(j(this.h),Z(this.s),Z(this.l),I(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var pe=I(this.opacity);return"".concat(1===pe?"hsl(":"hsla(").concat(j(this.h),", ").concat(100*Z(this.s),"%, ").concat(100*Z(this.l),"%").concat(1===pe?")":", ".concat(pe,")"))}}));var G=function(pe){return function(){return pe}};function H(pe,ye){var be,Ee,Ne=ye-pe;return Ne?(be=pe,Ee=Ne,function(Oe){return be+Oe*Ee}):G(isNaN(pe)?ye:pe)}var ne=function pe(ye){var Ee,Ne=1==(Ee=+(Ee=ye))?H:function(Oe,De){return De-Oe?(oe=Oe,de=De,_e=Ee,oe=Math.pow(oe,_e),de=Math.pow(de,_e)-oe,_e=1/_e,function(Me){return Math.pow(oe+Me*de,_e)}):G(isNaN(Oe)?De:Oe);var oe,de,_e};function be(Ee,Oe){var De=Ne((Ee=k(Ee)).r,(Oe=k(Oe)).r),oe=Ne(Ee.g,Oe.g),de=Ne(Ee.b,Oe.b),_e=H(Ee.opacity,Oe.opacity);return function(Me){return Ee.r=De(Me),Ee.g=oe(Me),Ee.b=de(Me),Ee.opacity=_e(Me),Ee+""}}return be.gamma=pe,be}(1);function X(pe){return function(ye){var Ne,be,Ee=ye.length,Oe=new Array(Ee),De=new Array(Ee),oe=new Array(Ee);for(Ne=0;Ne<Ee;++Ne)be=k(ye[Ne]),Oe[Ne]=be.r||0,De[Ne]=be.g||0,oe[Ne]=be.b||0;return Oe=pe(Oe),De=pe(De),oe=pe(oe),be.opacity=1,function(de){return be.r=Oe(de),be.g=De(de),be.b=oe(de),be+""}}}function $(pe,ye){var Ne,be=ye?ye.length:0,Ee=pe?Math.min(be,pe.length):0,Oe=new Array(Ee),De=new Array(be);for(Ne=0;Ne<Ee;++Ne)Oe[Ne]=Ae(pe[Ne],ye[Ne]);for(;Ne<be;++Ne)De[Ne]=ye[Ne];return function(oe){for(Ne=0;Ne<Ee;++Ne)De[Ne]=Oe[Ne](oe);return De}}function Q(pe,ye){var Ne=new Date;return pe=+pe,ye=+ye,function(be){return Ne.setTime(pe*(1-be)+ye*be),Ne}}function te(pe,ye){return pe=+pe,ye=+ye,function(Ne){return pe*(1-Ne)+ye*Ne}}function re(pe){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ye){return typeof ye}:function(ye){return ye&&"function"==typeof Symbol&&ye.constructor===Symbol&&ye!==Symbol.prototype?"symbol":typeof ye})(pe)}function le(pe,ye){var Ne,be={},Ee={};for(Ne in null!==pe&&"object"===re(pe)||(pe={}),null!==ye&&"object"===re(ye)||(ye={}),ye)Ne in pe?be[Ne]=Ae(pe[Ne],ye[Ne]):Ee[Ne]=ye[Ne];return function(Oe){for(Ne in be)Ee[Ne]=be[Ne](Oe);return Ee}}X(function(pe){var ye=pe.length-1;return function(Ne){var be=Ne<=0?Ne=0:Ne>=1?(Ne=1,ye-1):Math.floor(Ne*ye),Ee=pe[be],Oe=pe[be+1];return q((Ne-be/ye)*ye,be>0?pe[be-1]:2*Ee-Oe,Ee,Oe,be<ye-1?pe[be+2]:2*Oe-Ee)}}),X(function(pe){var ye=pe.length;return function(Ne){var be=Math.floor(((Ne%=1)<0?++Ne:Ne)*ye);return q((Ne-be/ye)*ye,pe[(be+ye-1)%ye],pe[be%ye],pe[(be+1)%ye],pe[(be+2)%ye])}});var ue=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,he=new RegExp(ue.source,"g");function ge(pe,ye){var Ne,be,Ee,_e,Oe=ue.lastIndex=he.lastIndex=0,De=-1,oe=[],de=[];for(pe+="",ye+="";(Ne=ue.exec(pe))&&(be=he.exec(ye));)(Ee=be.index)>Oe&&(Ee=ye.slice(Oe,Ee),oe[De]?oe[De]+=Ee:oe[++De]=Ee),(Ne=Ne[0])===(be=be[0])?oe[De]?oe[De]+=be:oe[++De]=be:(oe[++De]=null,de.push({i:De,x:te(Ne,be)})),Oe=he.lastIndex;return Oe<ye.length&&(Ee=ye.slice(Oe),oe[De]?oe[De]+=Ee:oe[++De]=Ee),oe.length<2?de[0]?(_e=de[0].x,function(Me){return _e(Me)+""}):function(_e){return function(){return _e}}(ye):(ye=de.length,function(_e){for(var Me,Pe=0;Pe<ye;++Pe)oe[(Me=de[Pe]).i]=Me.x(_e);return oe.join("")})}function xe(pe,ye){ye||(ye=[]);var Ne,be=pe?Math.min(ye.length,pe.length):0,Ee=ye.slice();return function(Oe){for(Ne=0;Ne<be;++Ne)Ee[Ne]=pe[Ne]*(1-Oe)+ye[Ne]*Oe;return Ee}}function ke(pe){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ye){return typeof ye}:function(ye){return ye&&"function"==typeof Symbol&&ye.constructor===Symbol&&ye!==Symbol.prototype?"symbol":typeof ye})(pe)}function Ae(pe,ye){var Ne,be,Ee=ke(ye);return null==ye||"boolean"===Ee?G(ye):("number"===Ee?te:"string"===Ee?(Ne=y(ye))?(ye=Ne,ne):ge:ye instanceof y?ne:ye instanceof Date?Q:(be=ye,!ArrayBuffer.isView(be)||be instanceof DataView?Array.isArray(ye)?$:"function"!=typeof ye.valueOf&&"function"!=typeof ye.toString||isNaN(ye)?le:te:xe))(pe,ye)}},40402:function(ie){"use strict";ie.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},83794:function(ie){"use strict";ie.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},96209:function(ie){"use strict";ie.exports=JSON.parse('["normal","italic","oblique"]')},15659:function(ie){"use strict";ie.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},38732:function(ie){"use strict";ie.exports=JSON.parse('["inherit","initial","unset"]')},41901:function(ie){"use strict";ie.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},fs={};function Ei(ie){var z=fs[ie];if(void 0!==z)return z.exports;var r=fs[ie]={exports:{}};return cu[ie].call(r.exports,r,r.exports,Ei),r.exports}return Ei.n=function(ie){var z=ie&&ie.__esModule?function(){return ie.default}:function(){return ie};return Ei.d(z,{a:z}),z},Ei.d=function(ie,z){for(var r in z)Ei.o(z,r)&&!Ei.o(ie,r)&&Object.defineProperty(ie,r,{enumerable:!0,get:z[r]})},Ei.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),Ei.o=function(ie,z){return Object.prototype.hasOwnProperty.call(ie,z)},Ei.r=function(ie){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ie,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ie,"__esModule",{value:!0})},Ei(27909)}()},136:rc=>{rc.exports=function cu(fs,Ei){if(fs&&Ei)return cu(fs)(Ei);if("function"!=typeof fs)throw new TypeError("need wrapper function");return Object.keys(fs).forEach(function(z){ie[z]=fs[z]}),ie;function ie(){for(var z=new Array(arguments.length),r=0;r<z.length;r++)z[r]=arguments[r];var C=fs.apply(this,z),E=z[z.length-1];return"function"==typeof C&&C!==E&&Object.keys(E).forEach(function(f){C[f]=E[f]}),C}}}},rc=>{rc(rc.s=425)}]);